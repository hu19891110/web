/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.0
  * see https://github.com/paulmillr/es6-shim/blob/0.35.0/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var O={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var m=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){O.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=m(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var M=Function.call.bind(Array.prototype.sort);var C=Function.call.bind(String.prototype.slice);var x=Function.call.bind(Array.prototype.push);var N=Function.apply.bind(Array.prototype.push);var A=Function.call.bind(Array.prototype.shift);var R=Math.max;var _=Math.min;var k=Math.floor;var F=Math.abs;var L=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var G=function(){};var W=S.Symbol||{};var H=W.species||"@@species";var V=Number.isNaN||function isNaN(e){return e!==e};var B=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var $=function isArguments(e){return g(e)==="[object Arguments]"};var U=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var J=$(arguments)?$:U;var K={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},object:function(e){return e!==null&&typeof e==="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var X=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);O.preserveToString(e[t],n)};var Z=typeof W==="function"&&typeof W["for"]==="function"&&K.symbol(W());var Y=K.symbol(W.iterator)?W.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){Y="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var Q=S.Reflect;var ee=String;var te={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!te.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(e==null){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"},ToObject:function(e,t){return Object(te.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return te.IsCallable(e)},ToInt32:function(e){return te.ToNumber(e)>>0},ToUint32:function(e){return te.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=te.ToNumber(e);if(V(t)){return 0}if(t===0||!B(t)){return t}return(t>0?1:-1)*k(F(t))},ToLength:function(e){var t=te.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return V(e)&&V(t)},SameValueZero:function(e,t){return e===t||V(e)&&V(t)},IsIterable:function(e){return te.TypeIsObject(e)&&(typeof e[Y]!=="undefined"||J(e))},GetIterator:function(e){if(J(e)){return new q(e,"value")}var t=te.GetMethod(e,Y);if(!te.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=te.Call(t,e);if(!te.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=te.ToObject(e)[t];if(r===void 0||r===null){return void 0}if(!te.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=te.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=te.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!te.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!te.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=te.IteratorNext(e);var r=te.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&Q.construct){return Q.construct(e,t,o)}var i=o.prototype;if(!te.TypeIsObject(i)){i=Object.prototype}var a=m(i);var u=te.Call(e,a,t);return te.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!te.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[H];if(n===void 0||n===null){return t}if(!te.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=te.ToString(e);var i="<"+t;if(r!==""){var a=te.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!te.TypeIsObject(e)){return false}var t=e[W.match];if(typeof t!=="undefined"){return!!t}return K.regex(e)},ToString:function ToString(e){return ee(e)}};if(s&&Z){var re=function defineWellKnownSymbol(e){if(K.symbol(W[e])){return W[e]}var t=W["for"]("Symbol."+e);Object.defineProperty(W,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!K.symbol(W.search)){var ne=re("search");var oe=String.prototype.search;h(RegExp.prototype,ne,function search(e){return te.Call(oe,e,[this])});var ie=function search(e){var t=te.RequireObjectCoercible(this);if(e!==null&&typeof e!=="undefined"){var r=te.GetMethod(e,ne);if(typeof r!=="undefined"){return te.Call(r,e,[t])}}return te.Call(oe,t,[te.ToString(e)])};X(String.prototype,"search",ie)}if(!K.symbol(W.replace)){var ae=re("replace");var ue=String.prototype.replace;h(RegExp.prototype,ae,function replace(e,t){return te.Call(ue,e,[this,t])});var fe=function replace(e,t){var r=te.RequireObjectCoercible(this);if(e!==null&&typeof e!=="undefined"){var n=te.GetMethod(e,ae);if(typeof n!=="undefined"){return te.Call(n,e,[r,t])}}return te.Call(ue,r,[te.ToString(e),t])};X(String.prototype,"replace",fe)}if(!K.symbol(W.split)){var se=re("split");var ce=String.prototype.split;h(RegExp.prototype,se,function split(e,t){return te.Call(ce,e,[this,t])});var le=function split(e,t){var r=te.RequireObjectCoercible(this);if(e!==null&&typeof e!=="undefined"){var n=te.GetMethod(e,se);if(typeof n!=="undefined"){return te.Call(n,e,[r,t])}}return te.Call(ce,r,[te.ToString(e),t])};X(String.prototype,"split",le)}var pe=K.symbol(W.match);var ve=pe&&function(){var e={};e[W.match]=function(){return 42};return"a".match(e)!==42}();if(!pe||ve){var ye=re("match");var he=String.prototype.match;h(RegExp.prototype,ye,function match(e){return te.Call(he,e,[this])});var be=function match(e){var t=te.RequireObjectCoercible(this);if(e!==null&&typeof e!=="undefined"){var r=te.GetMethod(e,ye);if(typeof r!=="undefined"){return te.Call(r,e,[t])}}return te.Call(he,t,[te.ToString(e)])};X(String.prototype,"match",be)}}var ge=function wrapConstructor(e,t,r){O.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in G||r[n]){return}O.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in G||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;O.redefine(e.prototype,"constructor",t)};var de=function(){return this};var Oe=function(e){if(s&&!z(e,H)){O.getter(e,H,de)}};var me=function(e,t){var r=t||function iterator(){return this};h(e,Y,r);if(!e[Y]&&K.symbol(Y)){e[Y]=r}};var we=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var je=function createDataPropertyOrThrow(e,t,r){we(e,t,r);if(!te.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Se=function(e,t,r,n){if(!te.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!te.TypeIsObject(o)){o=r}var i=m(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Te=String.fromCodePoint;X(String,"fromCodePoint",function fromCodePoint(e){return te.Call(Te,this,arguments)})}var Ie={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!te.SameValue(r,te.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){x(t,String.fromCharCode(r))}else{r-=65536;x(t,String.fromCharCode((r>>10)+55296));x(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=te.ToObject(e,"bad callSite");var r=te.ToObject(t.raw,"bad raw value");var n=r.length;var o=te.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=te.ToString(a);s=te.ToString(r[u]);x(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=te.ToString(f);x(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){X(String,"raw",Ie.raw)}b(String,Ie);var Ee=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Pe=Infinity;var Me={repeat:function repeat(e){var t=te.ToString(te.RequireObjectCoercible(this));var r=te.ToInteger(e);if(r<0||r>=Pe){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return Ee(t,r)},startsWith:function startsWith(e){var t=te.ToString(te.RequireObjectCoercible(this));if(te.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=te.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=R(te.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=te.ToString(te.RequireObjectCoercible(this));if(te.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=te.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:te.ToInteger(o);var a=_(R(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(te.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=te.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=te.ToString(te.RequireObjectCoercible(this));var r=te.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){X(String.prototype,"includes",Me.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var Ce=i(function(){"/a/".startsWith(/a/)});var xe=a(function(){return"abc".startsWith("a",Infinity)===false});if(!Ce||!xe){X(String.prototype,"startsWith",Me.startsWith);X(String.prototype,"endsWith",Me.endsWith)}}if(Z){var Ne=a(function(){var e=/a/;e[W.match]=false;return"/a/".startsWith(e)});if(!Ne){X(String.prototype,"startsWith",Me.startsWith)}var Ae=a(function(){var e=/a/;e[W.match]=false;return"/a/".endsWith(e)});if(!Ae){X(String.prototype,"endsWith",Me.endsWith)}var Re=a(function(){var e=/a/;e[W.match]=false;return"/a/".includes(e)});if(!Re){X(String.prototype,"includes",Me.includes)}}b(String.prototype,Me);var _e=["	\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var ke=new RegExp("(^["+_e+"]+)|(["+_e+"]+$)","g");var Fe=function trim(){return te.ToString(te.RequireObjectCoercible(this)).replace(ke,"")};var Le=["\x85","\u200b","\ufffe"].join("");var De=new RegExp("["+Le+"]","g");var ze=/^[\-+]0x[0-9a-f]+$/i;var qe=Le.trim().length!==Le.length;h(String.prototype,"trim",Fe,qe);var Ge=function(e){te.RequireObjectCoercible(e);this._s=te.ToString(e);this._i=0};Ge.prototype.next=function(){var e=this._s,t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return{value:void 0,done:true}}var r=e.charCodeAt(t),n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return{value:e.substr(t,o),done:false}};me(Ge.prototype);me(String.prototype,function(){return new Ge(this)});var We={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!te.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(J(e)||te.GetMethod(e,Y))!=="undefined";var u,f,s;if(a){f=te.IsConstructor(r)?Object(new r):[];var c=te.GetIterator(e);var l,p;s=0;while(true){l=te.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){te.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=te.ToObject(e);u=te.ToLength(y.length);f=te.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}f[s]=h}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!te.IsCallable(t)?new Array(e):te.Construct(t,[e]);for(var o=0;o<e;++o){je(n,o,arguments[o])}n.length=e;return n}};b(Array,We);Oe(Array);var He=function(e){return{value:e,done:arguments.length===0}};q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i,t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=te.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return{value:o,done:false}}}this.array=void 0;return{value:void 0,done:true}}});me(q.prototype);var Ve=function orderKeys(e,t){var r=String(te.ToInteger(e))===e;var n=String(te.ToInteger(t))===t;if(r&&n){return t-e}else if(r&&!n){return-1}else if(!r&&n){return 1}else{return e.localeCompare(t)}};var Be=function getAllKeys(e){var t=[];var r=[];for(var n in e){x(z(e,n)?t:r,n)}M(t,Ve);M(r,Ve);return P(t,r)};var $e=Array.of===We.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!$e){X(Array,"of",We.of)}var Ue={copyWithin:function copyWithin(e,t){var r=te.ToObject(this);var n=te.ToLength(r.length);var o=te.ToInteger(e);var i=te.ToInteger(t);var a=o<0?R(n+o,0):_(o,n);var u=i<0?R(n+i,0):_(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:te.ToInteger(f);var c=s<0?R(n+s,0):_(s,n);var l=_(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=te.ToObject(this);var o=te.ToLength(n.length);t=te.ToInteger(typeof t==="undefined"?0:t);r=te.ToInteger(typeof r==="undefined"?o:r);var i=t<0?R(o+t,0):_(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=te.ToObject(this);var n=te.ToLength(r.length);if(!te.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=te.ToObject(this);var n=te.ToLength(r.length);if(!te.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!te.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!te.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[Y]){b(Array.prototype,{values:Array.prototype[Y]});if(K.symbol(W.unscopables)){Array.prototype[W.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var Je=Array.prototype.values;X(Array.prototype,"values",function values(){return te.Call(Je,this,arguments)});h(Array.prototype,Y,Array.prototype.values,true)}b(Array.prototype,Ue);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){me(Object.getPrototypeOf([].values()))}var Ke=function(){return a(function(){return Array.from({length:-1}).length===0})}();var Xe=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!Ke||!Xe){X(Array,"from",We.from)}var Ze=function(){return a(function(){return Array.from([0],void 0)})}();if(!Ze){var Ye=Array.from;X(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return te.Call(Ye,this,arguments)}else{return t(Ye,this,e)}})}var Qe=-(Math.pow(2,32)-1);var et=function(e,r){var n={length:Qe};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!et(Array.prototype.forEach)){var tt=Array.prototype.forEach;X(Array.prototype,"forEach",function forEach(e){return te.Call(tt,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.map)){var rt=Array.prototype.map;X(Array.prototype,"map",function map(e){return te.Call(rt,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.filter)){var nt=Array.prototype.filter;X(Array.prototype,"filter",function filter(e){return te.Call(nt,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.some)){var ot=Array.prototype.some;X(Array.prototype,"some",function some(e){return te.Call(ot,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.every)){var it=Array.prototype.every;X(Array.prototype,"every",function every(e){return te.Call(it,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.reduce)){var at=Array.prototype.reduce;X(Array.prototype,"reduce",function reduce(e){return te.Call(at,this.length>=0?this:[],arguments)},true)}if(!et(Array.prototype.reduceRight,true)){var ut=Array.prototype.reduceRight;X(Array.prototype,"reduceRight",function reduceRight(e){return te.Call(ut,this.length>=0?this:[],arguments)},true)}var ft=Number("0o10")!==8;var st=Number("0b10")!==2;var ct=y(Le,function(e){return Number(e+0+e)===0});if(ft||st||ct){var lt=Number;var pt=/^0b[01]+$/i;var vt=/^0o[0-7]+$/i;var yt=pt.test.bind(pt);var ht=vt.test.bind(vt);var bt=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(K.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(K.primitive(t)){return t}}throw new TypeError("No default value")};var gt=De.test.bind(De);var dt=ze.test.bind(ze);var Ot=function(){var e=function Number(t){var r;if(arguments.length>0){r=K.primitive(t)?t:bt(t,"number")}else{r=0}if(typeof r==="string"){r=te.Call(Fe,r);if(yt(r)){r=parseInt(C(r,2),2)}else if(ht(r)){r=parseInt(C(r,2),8)}else if(gt(r)||dt(r)){r=NaN}}var n=this;var o=a(function(){lt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new lt(r)}return lt(r)};return e}();ge(lt,Ot,{});b(Ot,{NaN:lt.NaN,MAX_VALUE:lt.MAX_VALUE,MIN_VALUE:lt.MIN_VALUE,NEGATIVE_INFINITY:lt.NEGATIVE_INFINITY,POSITIVE_INFINITY:lt.POSITIVE_INFINITY});Number=Ot;O.redefine(S,"Number",Ot)}var mt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:mt,MIN_SAFE_INTEGER:-mt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:B,isInteger:function isInteger(e){return B(e)&&te.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&F(e)<=Number.MAX_SAFE_INTEGER},isNaN:V});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if(![,1].find(function(e,t){return t===0})){X(Array.prototype,"find",Ue.find)}if([,1].findIndex(function(e,t){return t===0})!==0){X(Array.prototype,"findIndex",Ue.findIndex)}var wt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var jt=function ensureEnumerable(e,t){if(s&&wt(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var St=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Tt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var It=function(e,t){var r=n(Object(t));var o;if(te.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),wt(t))}return p(P(r,o||[]),Tt(t),e)};var Et={assign:function(e,t){var r=te.ToObject(e,"Cannot convert undefined or null to object");return p(te.Call(St,1,arguments),It,r)},is:function is(e,t){return te.SameValue(e,t)}};var Pt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(Pt){X(Object,"assign",Et.assign)}b(Object,Et);if(s){var Mt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!te.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||te.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,Mt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf,r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Ct=!i(function(){Object.keys("foo")});if(!Ct){var xt=Object.keys;X(Object,"keys",function keys(e){return xt(te.ToObject(e))});n=Object.keys}var Nt=i(function(){Object.keys(/a/g)});if(Nt){var At=Object.keys;X(Object,"keys",function keys(e){if(K.regex(e)){var t=[];for(var r in e){if(z(e,r)){x(t,r)}}return t}return At(e)});n=Object.keys}if(Object.getOwnPropertyNames){var Rt=!i(function(){Object.getOwnPropertyNames("foo")});if(!Rt){var _t=typeof window==="object"?Object.getOwnPropertyNames(window):[];var kt=Object.getOwnPropertyNames;X(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=te.ToObject(e);if(g(t)==="[object Window]"){try{return kt(t)}catch(r){return P([],_t)}}return kt(t)})}}if(Object.getOwnPropertyDescriptor){var Ft=!i(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Ft){var Lt=Object.getOwnPropertyDescriptor;X(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Lt(te.ToObject(e),t)})}}if(Object.seal){var Dt=!i(function(){Object.seal("foo")});if(!Dt){var zt=Object.seal;X(Object,"seal",function seal(e){if(!K.object(e)){return e}return zt(e)})}}if(Object.isSealed){var qt=!i(function(){Object.isSealed("foo")});if(!qt){var Gt=Object.isSealed;X(Object,"isSealed",function isSealed(e){if(!K.object(e)){return true}return Gt(e)})}}if(Object.freeze){var Wt=!i(function(){Object.freeze("foo")});if(!Wt){var Ht=Object.freeze;X(Object,"freeze",function freeze(e){if(!K.object(e)){return e}return Ht(e)})}}if(Object.isFrozen){var Vt=!i(function(){Object.isFrozen("foo")});if(!Vt){var Bt=Object.isFrozen;X(Object,"isFrozen",function isFrozen(e){if(!K.object(e)){return true}return Bt(e)})}}if(Object.preventExtensions){var $t=!i(function(){Object.preventExtensions("foo")});if(!$t){var Ut=Object.preventExtensions;X(Object,"preventExtensions",function preventExtensions(e){if(!K.object(e)){return e}return Ut(e)})}}if(Object.isExtensible){var Jt=!i(function(){Object.isExtensible("foo")});if(!Jt){var Kt=Object.isExtensible;X(Object,"isExtensible",function isExtensible(e){if(!K.object(e)){return false}return Kt(e)})}}if(Object.getPrototypeOf){var Xt=!i(function(){Object.getPrototypeOf("foo")});if(!Xt){var Zt=Object.getPrototypeOf;X(Object,"getPrototypeOf",function getPrototypeOf(e){return Zt(te.ToObject(e))})}}var Yt=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&te.IsCallable(e.get)}();if(s&&!Yt){var Qt=function flags(){if(!te.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};O.getter(RegExp.prototype,"flags",Qt)}var er=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var tr=Z&&s&&function(){var e=/./;e[W.match]=false;return RegExp(e)===e}();var rr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var nr=rr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!rr||!nr){var or=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=te.RequireObjectCoercible(this);if(K.regex(e)){return t(or,e)}var r=ee(e.source);var n=ee(e.flags);return"/"+r+"/"+n},true);O.preserveToString(RegExp.prototype.toString,or)}if(s&&(!er||tr)){var ir=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var ar=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var ur=function(){return this.source};var fr=te.IsCallable(ar.get)?ar.get:ur;var sr=RegExp;var cr=function(){return function RegExp(e,t){var r=te.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(K.regex(e)){o=te.Call(fr,e);i=typeof t==="undefined"?te.Call(ir,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new sr(e,t)}}();ge(sr,cr,{$input:true});RegExp=cr;O.redefine(S,"RegExp",cr)}if(s){var lr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(lr),function(e){if(e in RegExp&&!(lr[e]in RegExp)){O.getter(RegExp,lr[e],function get(){return RegExp[e]})}})}Oe(RegExp);var pr=1/Number.EPSILON;var vr=function roundTiesToEven(e){return e+pr-pr};var yr=Math.pow(2,-23);var hr=Math.pow(2,127)*(2-yr);var br=Math.pow(2,-126);var gr=Number.prototype.clz;delete Number.prototype.clz;var dr={acosh:function acosh(e){var t=Number(e);if(Number.isNaN(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}return L(t/Math.E+D(t+1)*D(t-1)/Math.E)+1},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}return t<0?-Math.asinh(-t):L(t+D(t*t+1))},atanh:function atanh(e){var t=Number(e);if(Number.isNaN(t)||t<-1||t>1){return NaN}if(t===-1){return-Infinity}if(t===1){return Infinity}if(t===0){return t}return.5*L((1+t)/(1-t))},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0,n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=Math.exp(L(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=te.ToUint32(t);if(r===0){return 32}return gr?te.Call(gr,r):31-k(L(r+.5)*Math.LOG2E)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(Number.isNaN(t)){return NaN}if(!T(t)){return Infinity}if(t<0){t=-t}if(t>21){return Math.exp(t)/2}return(Math.exp(t)+Math.exp(-t))/2},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(F(t)>.5){return Math.exp(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=F(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return L(e)*Math.LOG2E},log10:function log10(e){return L(e)*Math.LOG10E},log1p:function log1p(e){var t=Number(e);if(t<-1||Number.isNaN(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(L(1+t)/(1+t-1))},sign:function sign(e){var t=Number(e);if(t===0){return t}if(Number.isNaN(t)){return t}return t<0?-1:1},sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}if(F(t)<1){return(Math.expm1(t)-Math.expm1(-t))/2}return(Math.exp(t-1)-Math.exp(-t-1))*Math.E/2},tanh:function tanh(e){var t=Number(e);if(Number.isNaN(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}var r=Math.expm1(t);var n=Math.expm1(-t);if(r===Infinity){return 1}if(n===Infinity){return-1}return(r-n)/(Math.exp(t)+Math.exp(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-k(-t):k(t)},imul:function imul(e,t){var r=te.ToUint32(e);var n=te.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||V(t)){return t}var r=Math.sign(t);var n=F(t);if(n<br){return r*vr(n/br/yr)*br*yr}var o=(1+yr/Number.EPSILON)*n;var i=o-(o-n);if(i>hr||V(i)){return r*Infinity}return r*i}};b(Math,dr);h(Math,"log1p",dr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",dr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"tanh",dr.tanh,Math.tanh(-2e-17)!==-2e-17);h(Math,"acosh",dr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"cbrt",dr.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8);h(Math,"sinh",dr.sinh,Math.sinh(-2e-17)!==-2e-17);var Or=Math.expm1(10);h(Math,"expm1",dr.expm1,Or>22025.465794806718||Or<22025.465794806718);var mr=Math.round;var wr=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var jr=pr+1;var Sr=2*pr-1;var Tr=[jr,Sr].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=k(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!wr||!Tr);O.preserveToString(Math.round,mr);var Ir=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=dr.imul;O.preserveToString(Math.imul,Ir)}if(Math.imul.length!==2){X(Math,"imul",function imul(e,t){return te.Call(Ir,Math,arguments)})}var Er=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}te.IsPromise=function(e){if(!te.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!te.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(te.IsCallable(t.resolve)&&te.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&te.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){x(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=A(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=te.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(te.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var O=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var m=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return O(e,new TypeError("Self resolution"))}if(!te.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return O(e,o)}if(!te.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return O(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=m(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!te.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Se(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=m(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var M=function(e,t,r){var n=e.iterator;var o=[],i={count:1},a,u;var f=0;while(true){try{a=te.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var C=function(e,t,r){var n=e.iterator,o,i,a;while(true){try{o=te.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!te.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=te.GetIterator(e);i={iterator:o,done:false};return M(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{te.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!te.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=te.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{te.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!te.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!te.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(te.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!te.IsPromise(n)){throw new TypeError("not a promise")}var o=te.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=te.IsCallable(e)?e:a;var d=te.IsCallable(t)?t:u;var O=n._promise;var m;if(O.state===f){if(O.reactionLength===0){O.fulfillReactionHandler0=g;O.rejectReactionHandler0=d;O.reactionCapability0=i}else{var w=3*(O.reactionLength-1);O[w+l]=g;O[w+p]=d;O[w+v]=i}O.reactionLength+=1}else if(O.state===s){m=O.result;h(g,i,m)}else if(O.state===c){m=O.result;h(d,i,m)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Er==="function"){b(S,{Promise:Er});var Pr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var Mr=!i(function(){S.Promise.reject(42).then(null,5).then(null,G)});var Cr=i(function(){S.Promise.call(3,G)});var xr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,G).then(null,G)}catch(n){return true}return t===r}(S.Promise);var Nr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Ar=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Ar.prototype=Promise.prototype;Ar.all=Promise.all;var Rr=a(function(){return!!Ar.all([1,2])});if(!Pr||!Mr||!Cr||xr||!Nr||Rr){Promise=Er;X(S,"Promise",Er)}if(Promise.all.length!==1){var _r=Promise.all;X(Promise,"all",function all(e){return te.Call(_r,this,arguments)})}if(Promise.race.length!==1){var kr=Promise.race;X(Promise,"race",function race(e){return te.Call(kr,this,arguments)})}if(Promise.resolve.length!==1){var Fr=Promise.resolve;X(Promise,"resolve",function resolve(e){return te.Call(Fr,this,arguments)})}if(Promise.reject.length!==1){var Lr=Promise.reject;X(Promise,"reject",function reject(e){return te.Call(Lr,this,arguments)})}jt(Promise,"all");jt(Promise,"race");jt(Promise,"resolve");jt(Promise,"reject");Oe(Promise)}var Dr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var zr=Dr(["z","a","bb"]);var qr=Dr(["z",1,"a","3",2]);if(s){var Gr=function fastkey(e){if(!zr){return null}if(typeof e==="undefined"||e===null){return"^"+te.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!qr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Wr=function emptyObject(){return Object.create?Object.create(null):{}};var Hr=function addIterableToMap(e,n,o){if(r(o)||K.string(o)){l(o,function(e){if(!te.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(o!==null&&typeof o!=="undefined"){a=n.set;if(!te.IsCallable(a)){throw new TypeError("bad map")}i=te.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=te.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!te.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){te.IteratorClose(i,true);throw s}}}}};var Vr=function addIterableToSet(e,n,o){if(r(o)||K.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(o!==null&&typeof o!=="undefined"){a=n.add;if(!te.IsCallable(a)){throw new TypeError("bad set")}i=te.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=te.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){te.IteratorClose(i,true);throw s}}}}};var Br={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!te.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+te.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={next:function next(){var e=this.i,t=this.kind,r=this.head,n;if(typeof this.i==="undefined"){return{value:void 0,done:true}}while(e.isRemoved()&&e!==r){e=e.prev}while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return{value:n,done:false}}}this.i=void 0;return{value:void 0,done:true}}};me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Se(this,Map,a,{_es6map:true,_head:null,_storage:Wr(),_size:0});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){Hr(Map,e,arguments[0])}return e};a=u.prototype;O.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t=Gr(e);if(t!==null){var r=this._storage[t];if(r){return r.value}else{return}}var n=this._head,i=n;while((i=i.next)!==n){if(te.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Gr(e);if(t!==null){return typeof this._storage[t]!=="undefined"}var r=this._head,n=r;while((n=n.next)!==r){if(te.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head,i=n,a;var u=Gr(e);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}while((i=i.next)!==n){if(te.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(te.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head,n=r;var i=Gr(t);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}while((n=n.next)!==r){if(te.SameValueZero(n.key,t)){n.key=n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._size=0;this._storage=Wr();var t=this._head,r=t,n=r.next;while((r=n)!==t){r.key=r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!te.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+te.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Se(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Wr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){Vr(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new Br.Map;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};O.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Gr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Gr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Gr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Wr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return this["[[SetData]]"].values()},entries:function entries(){r(this,"entries");u(this);return this["[[SetData]]"].entries()},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);me(i.prototype,i.prototype.values);return i}()};if(S.Map||S.Set){var $r=a(function(){return new Map([[1,2]]).get(1)===2});if(!$r){var Ur=S.Map;S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new Ur;if(arguments.length>0){Hr(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=m(Ur.prototype);h(S.Map.prototype,"constructor",S.Map,true);O.preserveToString(S.Map,Ur)}var Jr=new Map;var Kr=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var Xr=Jr.set(1,2)===Jr;if(!Kr||!Xr){var Zr=Map.prototype.set;X(Map.prototype,"set",function set(e,r){t(Zr,this,e===0?0:e,r);return this})}if(!Kr){var Yr=Map.prototype.get;var Qr=Map.prototype.has;b(Map.prototype,{get:function get(e){return t(Yr,this,e===0?0:e)},has:function has(e){return t(Qr,this,e===0?0:e)}},true);O.preserveToString(Map.prototype.get,Yr);O.preserveToString(Map.prototype.has,Qr)}var en=new Set;var tn=function(e){e["delete"](0);e.add(-0);return!e.has(0)}(en);var rn=en.add(1)===en;if(!tn||!rn){var nn=Set.prototype.add;Set.prototype.add=function add(e){t(nn,this,e===0?0:e);return this};O.preserveToString(Set.prototype.add,nn)}if(!tn){var on=Set.prototype.has;Set.prototype.has=function has(e){return t(on,this,e===0?0:e)};O.preserveToString(Set.prototype.has,on);var an=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(an,this,e===0?0:e)};O.preserveToString(Set.prototype["delete"],an)}var un=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var fn=Object.setPrototypeOf&&!un;var sn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||fn||!sn){var cn=S.Map;S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new cn;if(arguments.length>0){Hr(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=cn.prototype;h(S.Map.prototype,"constructor",S.Map,true);O.preserveToString(S.Map,cn)}var ln=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var pn=Object.setPrototypeOf&&!ln;var vn=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||pn||!vn){var yn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new yn;if(arguments.length>0){Vr(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=yn.prototype;h(S.Set.prototype,"constructor",S.Set,true);O.preserveToString(S.Set,yn)}var hn=!a(function(){return(new Map).keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||(new S.Map).size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof(new S.Map).keys().next!=="function"||hn||!un){b(S,{Map:Br.Map,Set:Br.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}me(Object.getPrototypeOf((new S.Map).keys()));me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var bn=S.Set.prototype.has;X(S.Set.prototype,"has",function has(e){return t(bn,this,e)})}}b(S,Br);Oe(S.Map);Oe(S.Set)}var gn=function throwUnlessTargetIsObject(e){if(!te.TypeIsObject(e)){throw new TypeError("target must be an object")}};var dn={apply:function apply(){return te.Call(te.Call,null,arguments)},construct:function construct(e,t){if(!te.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!te.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return te.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){gn(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){gn(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(dn,{ownKeys:function ownKeys(e){gn(e);var t=Object.getOwnPropertyNames(e);if(te.IsCallable(Object.getOwnPropertySymbols)){N(t,Object.getOwnPropertySymbols(e))}return t}})}var On=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(dn,{isExtensible:function isExtensible(e){gn(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){gn(e);return On(function(){Object.preventExtensions(e)})}})}if(s){var mn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return mn(o,t,r)}if("value"in n){return n.value}if(n.get){return te.Call(n.get,r)}return void 0};var wn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return wn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!te.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return Q.defineProperty(o,r,{value:n})}else{return Q.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(dn,{defineProperty:function defineProperty(e,t,r){gn(e);return On(function(){Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){gn(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){gn(e);var r=arguments.length>2?arguments[2]:e;return mn(e,t,r)},set:function set(e,t,r){gn(e);var n=arguments.length>3?arguments[3]:e;return wn(e,t,r,n)}})}if(Object.getPrototypeOf){var jn=Object.getPrototypeOf;dn.getPrototypeOf=function getPrototypeOf(e){gn(e);return jn(e)}}if(Object.setPrototypeOf&&dn.getPrototypeOf){var Sn=function(e,t){var r=t;while(r){if(e===r){return true}r=dn.getPrototypeOf(r)}return false};Object.assign(dn,{setPrototypeOf:function setPrototypeOf(e,t){gn(e);if(t!==null&&!te.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===Q.getPrototypeOf(e)){return true}if(Q.isExtensible&&!Q.isExtensible(e)){return false}if(Sn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var Tn=function(e,t){if(!te.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){X(S.Reflect,e,t)}}};Object.keys(dn).forEach(function(e){Tn(e,dn[e])});var In=S.Reflect.getPrototypeOf;if(c&&In&&In.name!=="getPrototypeOf"){X(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(In,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){X(S.Reflect,"setPrototypeOf",dn.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){X(S.Reflect,"defineProperty",dn.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){X(S.Reflect,"construct",dn.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var En=Date.prototype.toString;var Pn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return te.Call(En,this)};X(Date.prototype,"toString",Pn)}var Mn={anchor:function anchor(e){return te.CreateHTML(this,"a","name",e)},big:function big(){return te.CreateHTML(this,"big","","")},blink:function blink(){return te.CreateHTML(this,"blink","","")},bold:function bold(){return te.CreateHTML(this,"b","","")},fixed:function fixed(){return te.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return te.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return te.CreateHTML(this,"font","size",e)},italics:function italics(){return te.CreateHTML(this,"i","","")},link:function link(e){return te.CreateHTML(this,"a","href",e)},small:function small(){return te.CreateHTML(this,"small","","")},strike:function strike(){return te.CreateHTML(this,"strike","","")},sub:function sub(){return te.CreateHTML(this,"sub","","")},sup:function sub(){return te.CreateHTML(this,"sup","","")}};l(Object.keys(Mn),function(e){var r=String.prototype[e];var n=false;if(te.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){X(String.prototype,e,Mn[e])}});var Cn=function(){if(!Z){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e(W())!=="undefined"){return true}if(e([W()])!=="[null]"){return true}var t={a:W()};t[W()]=true;if(e(t)!=="{}"){return true}return false}();var xn=a(function(){if(!Z){return true}return JSON.stringify(Object(W()))==="{}"&&JSON.stringify([Object(W())])==="[{}]"});if(Cn||!xn){var Nn=JSON.stringify;X(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=te.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(K.symbol(n)){return Tt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return Nn.apply(this,o)})}return S});!function(t){!function(e){"object"==typeof exports?module.exports=e():"function"==typeof t&&t.amd?t(e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var t;return function e(t,n,o){function r(u,c){if(!n[u]){if(!t[u]){var f="function"==typeof require&&require;if(!c&&f)return f(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=n[u]={exports:{}};t[u][0].call(s.exports,function(e){var n=t[u][1][e];return r(n?n:e)},s,s.exports,e,t,n,o)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(t,e,n){var o=t("../lib/decorators/unhandledRejection"),r=o(t("../lib/Promise"));e.exports="undefined"!=typeof global?global.Promise=r:"undefined"!=typeof self?self.Promise=r:r},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(e,n,o){!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),o=t("./env").asap;return e({scheduler:new n(o)})})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(e,n,o){!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],4:[function(e,n,o){!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var o=t("../env").setTimer,r=t("../format");return function(t){function i(t){t.handled||(l.push(t),a("Potentially unhandled rejection ["+t.id+"] "+r.formatError(t.value)))}function u(t){var e=l.indexOf(t);e>=0&&(l.splice(e,1),h("Handled previous rejection ["+t.id+"] "+r.formatObject(t.value)))}function c(t,e){p.push(t,e),null===d&&(d=o(f,0))}function f(){for(d=null;p.length>0;)p.shift()(p.shift())}var s,a=n,h=n;"undefined"!=typeof console&&(s=console,a="undefined"!=typeof s.error?function(t){s.error(t)}:function(t){s.log(t)},h="undefined"!=typeof s.info?function(t){s.info(t)}:function(t){s.log(t)}),t.onPotentiallyUnhandledRejection=function(t){c(i,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){c(u,t)},t.onFatalRejection=function(t){c(e,t.value)};var p=[],l=[],d=null;return t}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"../env":5,"../format":6}],5:[function(e,n,o){!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)}function n(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function o(t){function e(){var t=n;n=void 0,t()}var n,o=document.createTextNode(""),r=new t(e);r.observe(o,{characterData:!0});var i=0;return function(t){n=t,o.data=i^=1}}var r,i="undefined"!=typeof setTimeout&&setTimeout,u=function(t,e){return setTimeout(t,e)},c=function(t){return clearTimeout(t)},f=function(t){return i(t,0)};if(e())f=function(t){return process.nextTick(t)};else if(r=n())f=o(r);else if(!i){var s=t,a=s("vertx");u=function(t,e){return a.setTimer(e,t)},c=a.cancelTimer,f=a.runOnLoop||a.runOnContext}return{setTimer:u,clearTimer:c,asap:f}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{}],6:[function(e,n,o){!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(n){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],7:[function(e,n,o){!function(t){"use strict";t(function(){return function(t){function e(t,e){this._handler=t===_?e:n(t)}function n(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}function o(t){r.notify(t)}var r=new b;try{t(e,n,o)}catch(i){n(i)}return r}function o(t){return k(t)?t:new e(_,new x(v(t)))}function r(t){return new e(_,new x(new P(t)))}function i(){return $}function u(){return new e(_,new b)}function c(t,e){var n=new b(t.receiver,t.join().context);return new e(_,n)}function f(t){return a(B,null,t)}function s(t,e){return a(M,t,e)}function a(t,n,o){function r(e,r,u){u.resolved||h(o,i,e,t(n,r,e),u)}function i(t,e,n){a[t]=e,0===--s&&n.become(new q(a))}for(var u,c="function"==typeof n?r:i,f=new b,s=o.length>>>0,a=new Array(s),p=0;p<o.length&&!f.resolved;++p)u=o[p],void 0!==u||p in o?h(o,c,p,u,f):--s;return 0===s&&f.become(new q(a)),new e(_,f)}function h(t,e,n,o,r){if(U(o)){var i=m(o),u=i.state();0===u?i.fold(e,n,void 0,r):u>0?e(n,i.value,r):(r.become(i),p(t,n+1,i))}else e(n,o,r)}function p(t,e,n){for(var o=e;o<t.length;++o)l(v(t[o]),n)}function l(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):0>n&&t._unreport()}}function d(t){return"object"!=typeof t||null===t?r(new TypeError("non-iterable passed to race()")):0===t.length?i():1===t.length?o(t[0]):y(t)}function y(t){var n,o,r,i=new b;for(n=0;n<t.length;++n)if(o=t[n],void 0!==o||n in t){if(r=v(o),0!==r.state()){i.become(r),p(t,n+1,r);break}r.visit(i,i.resolve,i.reject)}return new e(_,i)}function v(t){return k(t)?t._handler.join():U(t)?j(t):new q(t)}function m(t){return k(t)?t._handler.join():j(t)}function j(t){try{var e=t.then;return"function"==typeof e?new g(e,t):new q(t)}catch(n){return new P(n)}}function _(){}function w(){}function b(t,n){e.createContext(this,n),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function x(t){this.handler=t}function g(t,e){b.call(this),G.enqueue(new E(t,e,this))}function q(t){e.createContext(this),this.value=t}function P(t){e.createContext(this),this.id=++Y,this.value=t,this.handled=!1,this.reported=!1,this._report()}function R(t,e){this.rejection=t,this.context=e}function C(t){this.rejection=t}function O(){return new P(new TypeError("Promise cycle"))}function T(t,e){this.continuation=t,this.handler=e}function Q(t,e){this.handler=e,this.value=t}function E(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function L(t,e,n,o,r){try{t.call(e,n,o,r)}catch(i){o(i)}}function S(t,e,n,o){this.f=t,this.z=e,this.c=n,this.to=o,this.resolver=X,this.receiver=this}function k(t){return t instanceof e}function U(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function H(t,n,o,r){return"function"!=typeof t?r.become(n):(e.enterContext(n),F(t,n.value,o,r),void e.exitContext())}function N(t,n,o,r,i){return"function"!=typeof t?i.become(o):(e.enterContext(o),W(t,n,o.value,r,i),void e.exitContext())}function J(t,n,o,r,i){return"function"!=typeof t?i.notify(n):(e.enterContext(o),z(t,n,r,i),void e.exitContext())}function M(t,e,n){try{return t(e,n)}catch(o){return r(o)}}function F(t,e,n,o){try{o.become(v(t.call(n,e)))}catch(r){o.become(new P(r))}}function W(t,e,n,o,r){try{t.call(o,e,n,r)}catch(i){r.become(new P(i))}}function z(t,e,n,o){try{o.notify(t.call(n,e))}catch(r){o.notify(r)}}function A(t,e){e.prototype=V(t.prototype),e.prototype.constructor=e}function B(t,e){return e}function K(){}function D(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.emit?function(t,e){return"unhandledRejection"===t?process.emit(t,e.value,e):process.emit(t,e)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var o=!1;try{var r=new n("unhandledRejection");o=r instanceof n}catch(i){}return o?function(t,o){var r=new n(t,{detail:{reason:o.value,key:o},bubbles:!1,cancelable:!0});return!e.dispatchEvent(r)}:t}(K,self,CustomEvent):K}var G=t.scheduler,I=D(),V=Object.create||function(t){function e(){}return e.prototype=t,new e};e.resolve=o,e.reject=r,e.never=i,e._defer=u,e._handler=v,e.prototype.then=function(t,e,n){var o=this._handler,r=o.join().state();if("function"!=typeof t&&r>0||"function"!=typeof e&&0>r)return new this.constructor(_,o);var i=this._beget(),u=i._handler;return o.chain(u,o.receiver,t,e,n),i},e.prototype["catch"]=function(t){return this.then(void 0,t)},e.prototype._beget=function(){return c(this._handler,this.constructor)},e.all=f,e.race=d,e._traverse=s,e._visitRemaining=p,_.prototype.when=_.prototype.become=_.prototype.notify=_.prototype.fail=_.prototype._unreport=_.prototype._report=K,_.prototype._state=0,_.prototype.state=function(){return this._state},_.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},_.prototype.chain=function(t,e,n,o,r){this.when({resolver:t,receiver:e,fulfilled:n,rejected:o,progress:r})},_.prototype.visit=function(t,e,n,o){this.chain(X,t,e,n,o)},_.prototype.fold=function(t,e,n,o){this.when(new S(t,e,n,o))},A(_,w),w.prototype.become=function(t){t.fail()};var X=new w;A(_,b),b.prototype._state=0,b.prototype.resolve=function(t){this.become(v(t))},b.prototype.reject=function(t){this.resolved||this.become(new P(t))},b.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=O();return t},b.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},b.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&G.enqueue(this),void 0!==this.context&&t._report(this.context))},b.prototype.when=function(t){this.resolved?G.enqueue(new T(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},b.prototype.notify=function(t){this.resolved||G.enqueue(new Q(t,this))},b.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},b.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},b.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},A(_,x),x.prototype.when=function(t){G.enqueue(new T(t,this))},x.prototype._report=function(t){this.join()._report(t)},x.prototype._unreport=function(){this.join()._unreport()},A(b,g),A(_,q),q.prototype._state=1,q.prototype.fold=function(t,e,n,o){N(t,e,this,n,o)},q.prototype.when=function(t){H(t.fulfilled,this,t.receiver,t.resolver)};var Y=0;A(_,P),P.prototype._state=-1,P.prototype.fold=function(t,e,n,o){o.become(this)},P.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),H(t.rejected,this,t.receiver,t.resolver)},P.prototype._report=function(t){G.afterQueue(new R(this,t))},P.prototype._unreport=function(){this.handled||(this.handled=!0,G.afterQueue(new C(this)))},P.prototype.fail=function(t){this.reported=!0,I("unhandledRejection",this),e.onFatalRejection(this,void 0===t?this.context:t)},R.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,I("unhandledRejection",this.rejection)||e.onPotentiallyUnhandledRejection(this.rejection,this.context))},C.prototype.run=function(){this.rejection.reported&&(I("rejectionHandled",this.rejection)||e.onPotentiallyUnhandledRejectionHandled(this.rejection))},e.createContext=e.enterContext=e.exitContext=e.onPotentiallyUnhandledRejection=e.onPotentiallyUnhandledRejectionHandled=e.onFatalRejection=K;var Z=new _,$=new e(_,Z);return T.prototype.run=function(){this.handler.join().when(this.continuation)},Q.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],J(e.progress,this.value,this.handler,e.receiver,e.resolver)},E.prototype.run=function(){function t(t){o.resolve(t)}function e(t){o.reject(t)}function n(t){o.notify(t)}var o=this.resolver;L(this._then,this.thenable,t,e,n)},S.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},S.prototype.rejected=function(t){this.to.reject(t)},S.prototype.progress=function(t){this.to.notify(t)},e}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}]},{},[1])(1)}),"undefined"!=typeof systemJSBootstrap&&systemJSBootstrap()}();/*! @source http://stackoverflow.com/questions/6903762/function-name-not-supported-in-ie*/
if(!Object.hasOwnProperty('name')){Object.defineProperty(Function.prototype,'name',{get:function(){var matches=this.toString().match(/^\s*function\s*(\S*)\s*\(/);var name=matches&&matches.length>1?matches[1]:"";Object.defineProperty(this,'name',{value:name});return name;}});}/*! @source https://github.com/ModuleLoader/es6-module-loader/blob/master/src/url-polyfill.js*/

(function(global){function URLPolyfill(url,baseURL){if(typeof url!='string'){throw new TypeError('URL must be a string');}
var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!m){throw new RangeError();}
var protocol=m[1]||"";var username=m[2]||"";var password=m[3]||"";var host=m[4]||"";var hostname=m[5]||"";var port=m[6]||"";var pathname=m[7]||"";var search=m[8]||"";var hash=m[9]||"";if(baseURL!==undefined){var base=baseURL instanceof URLPolyfill?baseURL:new URLPolyfill(baseURL);var flag=protocol===""&&host===""&&username==="";if(flag&&pathname===""&&search===""){search=base.search;}
if(flag&&pathname.charAt(0)!=="/"){pathname=(pathname!==""?(((base.host!==""||base.username!=="")&&base.pathname===""?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+pathname):base.pathname);}
var output=[];pathname.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(p){if(p==="/.."){output.pop();}else{output.push(p);}});pathname=output.join("").replace(/^\//,pathname.charAt(0)==="/"?"/":"");if(flag){port=base.port;hostname=base.hostname;host=base.host;password=base.password;username=base.username;}
if(protocol===""){protocol=base.protocol;}}
if(protocol=='file:')
pathname=pathname.replace(/\\/g,'/');this.origin=protocol+(protocol!==""||host!==""?"//":"")+host;this.href=protocol+(protocol!==""||host!==""?"//":"")+(username!==""?username+(password!==""?":"+password:"")+"@":"")+host+pathname+search+hash;this.protocol=protocol;this.username=username;this.password=password;this.host=host;this.hostname=hostname;this.port=port;this.pathname=pathname;this.search=search;this.hash=hash;}
global.URLPolyfill=URLPolyfill;})(typeof self!='undefined'?self:global);/*! @license please refer to http://unlicense.org/ */
/*! @author Eli Grey */
/*! @source https://github.com/eligrey/classList.js */
;if("document"in self&&!("classList"in document.createElement("_"))){(function(j){"use strict";if(!("Element"in j)){return}var a="classList",f="prototype",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(q){var p=0,o=this.length;for(;p<o;p++){if(p in this&&this[p]===q){return p}}return-1},n=function(o,p){this.name=o;this.code=DOMException[o];this.message=p},g=function(p,o){if(o===""){throw new n("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(o)){throw new n("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(p,o)},d=function(s){var r=k.call(s.getAttribute("class")||""),q=r?r.split(/\s+/):[],p=0,o=q.length;for(;p<o;p++){this.push(q[p])}this._updateClassName=function(){s.setAttribute("class",this.toString())}},e=d[f]=[],i=function(){return new d(this)};n[f]=Error[f];e.item=function(o){return this[o]||null};e.contains=function(o){o+="";return g(this,o)!==-1};e.add=function(){var s=arguments,r=0,p=s.length,q,o=false;do{q=s[r]+"";if(g(this,q)===-1){this.push(q);o=true}}while(++r<p);if(o){this._updateClassName()}};e.remove=function(){var t=arguments,s=0,p=t.length,r,o=false;do{r=t[s]+"";var q=g(this,r);if(q!==-1){this.splice(q,1);o=true}}while(++s<p);if(o){this._updateClassName()}};e.toggle=function(p,q){p+="";var o=this.contains(p),r=o?q!==true&&"remove":q!==false&&"add";if(r){this[r](p)}return!o};e.toString=function(){return this.join(" ")};if(b.defineProperty){var l={get:i,enumerable:true,configurable:true};try{b.defineProperty(m,a,l)}catch(h){if(h.number===-2146823252){l.enumerable=false;b.defineProperty(m,a,l)}}}else{if(b[f].__defineGetter__){m.__defineGetter__(a,i)}}}(self))};if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};if(!window.console.error)window.console.error=function(){};if(!window.console.warn)window.console.warn=function(){};if(!window.console.assert)window.console.assert=function(){};/*! @author Paul Irish */
/*! @source https://gist.github.com/paulirish/1579671 */
(function(){var lastTime=0;if(!window.requestAnimationFrame)
window.requestAnimationFrame=function(callback,element){var currTime=Date.now();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};if(!window.cancelAnimationFrame)
window.cancelAnimationFrame=function(id){clearTimeout(id);};}());!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){"use strict";function t(e,t,n,r){function o(t){var n=t.data;return n.args[0]=t.invoke,n.handleId=i.apply(e,n.args),t}function a(e){return u(e.data.handleId)}t+=r,n+=r;var i=c.patchMethod(e,t,function(n){return function(i,c){if("function"==typeof c[0]){var u=Zone.current,s={handleId:null,isPeriodic:"Interval"==r,delay:"Timeout"==r||"Interval"==r?c[1]||0:null,args:c};return u.scheduleMacroTask(t,c[0],s,o,a)}return n.apply(e,c)}}),u=c.patchMethod(e,n,function(t){return function(n,r){var o=r[0];o&&"string"==typeof o.type?o.cancelFn&&o.zone.cancelTask(o):t.apply(e,r)}})}n(1);var r=n(2),o=n(4),a=n(5),i=n(6),c=n(3),u="set",s="clear",l=["alert","prompt","confirm"],f="undefined"==typeof window?e:window;t(f,u,s,"Timeout"),t(f,u,s,"Interval"),t(f,u,s,"Immediate"),t(f,"request","cancelMacroTask","AnimationFrame"),t(f,"mozRequest","mozCancel","AnimationFrame"),t(f,"webkitRequest","webkitCancel","AnimationFrame");for(var p=0;p<l.length;p++){var h=l[p];c.patchMethod(f,h,function(e,t,n){return function(t,r){return Zone.current.run(e,f,r,n)}})}r.eventTargetPatch(f),i.propertyDescriptorPatch(f),c.patchClass("MutationObserver"),c.patchClass("WebKitMutationObserver"),c.patchClass("FileReader"),o.propertyPatch(),a.registerElementPatch(f),f.navigator&&f.navigator.geolocation&&c.patchPrototype(f.navigator.geolocation,["getCurrentPosition","watchPosition"])}).call(t,function(){return this}())},function(e,t){(function(e){(function(e){function t(e){return"__zone_symbol__"+e}function n(){E||w||0!=T.length||(e[g]?e[g].resolve(0)[k](a):e[y](a,0))}function r(e){n(),T.push(e)}function o(e){var t=e&&e.rejection;t&&console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t),console.error(e)}function a(){if(!_){for(_=!0;T.length;){var e=T;T=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(r){o(r)}}}for(;b.length;){var a=b;b=[];for(var t=0;t<a.length;t++){var i=a[t];try{i.zone.runGuarded(function(){throw i})}catch(r){o(r)}}}_=!1,E=!1}}function i(e){return e&&e.then}function c(e){return e}function u(e){return Z.reject(e)}function s(e,t){return function(n){l(e,t,n)}}function l(e,t,r){if(e[S]===P)if(r instanceof Z&&r[S]!==P)f(r),l(e,r[S],r[O]);else if(i(r))r.then(s(e,t),s(e,!1));else{e[S]=t;var o=e[O];e[O]=r;for(var a=0;a<o.length;)p(e,o[a++],o[a++],o[a++],o[a++]);if(0==o.length&&t==j){e[S]=M;try{throw new Error("Uncaught (in promise): "+r)}catch(c){var u=c;u.rejection=r,u.promise=e,u.zone=h.current,u.task=h.currentTask,b.push(u),n()}}}return e}function f(e){if(e[S]===M){e[S]=j;for(var t=0;t<b.length;t++)if(e===b[t].promise){b.splice(t,1);break}}}function p(e,t,n,r,o){f(e);var a=e[S]?r||c:o||u;t.scheduleMicroTask(D,function(){try{l(n,!0,t.run(a,null,[e[O]]))}catch(r){l(n,!1,r)}})}var h=function(){function e(e,t){this._properties=null,this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new d(this,this._parent&&this._parent._zoneDelegate,t)}return Object.defineProperty(e,"current",{get:function(){return m},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentTask",{get:function(){return w},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.get=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t._properties[e];t=t._parent}},e.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},e.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var e=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(e,this,arguments,t)}},e.prototype.run=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=m;m=this;try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{m=o}},e.prototype.runGuarded=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=m;m=this;try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(a){if(this._zoneDelegate.handleError(this,a))throw a}}finally{m=o}},e.prototype.runTask=function(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone which created it! (Creation: "+e.zone.name+"; Execution: "+this.name+")");var r=w;w=e;var o=m;m=this;try{try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(a){if(this._zoneDelegate.handleError(this,a))throw a}}finally{"macroTask"==e.type&&e.data&&!e.data.isPeriodic&&(e.cancelFn=null),m=o,w=r}},e.prototype.scheduleMicroTask=function(e,t,n,r){return this._zoneDelegate.scheduleTask(this,new v("microTask",this,e,t,n,r,null))},e.prototype.scheduleMacroTask=function(e,t,n,r,o){return this._zoneDelegate.scheduleTask(this,new v("macroTask",this,e,t,n,r,o))},e.prototype.scheduleEventTask=function(e,t,n,r,o){return this._zoneDelegate.scheduleTask(this,new v("eventTask",this,e,t,n,r,o))},e.prototype.cancelTask=function(e){var t=this._zoneDelegate.cancelTask(this,e);return e.cancelFn=null,t},e.__symbol__=t,e}(),d=function(){function e(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._hasTaskZS=n&&(n.onHasTask?n:t._hasTaskZS),this._hasTaskDlgt=n&&(n.onHasTask?t:t._hasTaskDlgt)}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new h(e,t)},e.prototype.intercept=function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this.zone,e,t,n):t},e.prototype.invoke=function(e,t,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this.zone,e,t,n,r,o):t.apply(n,r)},e.prototype.handleError=function(e,t){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this.zone,e,t):!0},e.prototype.scheduleTask=function(e,t){try{if(this._scheduleTaskZS)return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this.zone,e,t);if(t.scheduleFn)t.scheduleFn(t);else{if("microTask"!=t.type)throw new Error("Task is missing scheduleFn.");r(t)}return t}finally{e==this.zone&&this._updateTaskCount(t.type,1)}},e.prototype.invokeTask=function(e,t,n,r){try{return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this.zone,e,t,n,r):t.callback.apply(n,r)}finally{e!=this.zone||"eventTask"==t.type||t.data&&t.data.isPeriodic||this._updateTaskCount(t.type,-1)}},e.prototype.cancelTask=function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this.zone,e,t);else{if(!t.cancelFn)throw new Error("Task does not support cancellation, or is already canceled.");n=t.cancelFn(t)}return e==this.zone&&this._updateTaskCount(t.type,-1),n},e.prototype.hasTask=function(e,t){return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this.zone,e,t)},e.prototype._updateTaskCount=function(e,t){var n=this._taskCounts,r=n[e],o=n[e]=r+t;if(0>o)throw new Error("More tasks executed then were scheduled.");if(0==r||0==o){var a={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};try{this.hasTask(this.zone,a)}finally{this._parentDelegate&&this._parentDelegate._updateTaskCount(e,t)}}},e}(),v=function(){function e(e,t,n,r,o,i,c){this.type=e,this.zone=t,this.source=n,this.data=o,this.scheduleFn=i,this.cancelFn=c,this.callback=r;var u=this;this.invoke=function(){try{return t.runTask(u,this,arguments)}finally{a()}}}return e}(),y=t("setTimeout"),g=t("Promise"),k=t("then"),m=new h(null,null),w=null,T=[],_=!1,b=[],E=!1,S=t("state"),O=t("value"),D="Promise.then",P=null,z=!0,j=!1,M=0,Z=function(){function e(e){var t=this;t[S]=P,t[O]=[];try{e&&e(s(t,z),s(t,j))}catch(n){l(t,!1,n)}}return e.resolve=function(e){return l(new this(null),z,e)},e.reject=function(e){return l(new this(null),j,e)},e.race=function(e){function t(e){a&&(a=r(e))}function n(e){a&&(a=o(e))}for(var r,o,a=new this(function(e,t){r=e,o=t}),c=0,u=e;c<u.length;c++){var s=u[c];i(s)||(s=this.resolve(s)),s.then(t,n)}return a},e.all=function(e){function t(e){o&&r(e),o=null}for(var n,r,o=new this(function(e,t){n=e,r=t}),a=[],c=0,u=0,s=e;u<s.length;u++){var l=s[u];i(l)||(l=this.resolve(l)),l.then(function(e){return function(t){a[e]=t,c--,o&&!c&&n(a)}}(c),t),c++}return c||n(a),o},e.prototype.then=function(t,n){var r=new e(null),o=h.current;return this[S]==P?this[O].push(o,r,t,n):p(this,o,r,t,n),r},e.prototype["catch"]=function(e){return this.then(null,e)},e}(),C=e[t("Promise")]=e.Promise;if(e.Promise=Z,C){var I=C.prototype,L=I[t("then")]=I.then;I.then=function(e,t){var n=this;return new Z(function(e,t){L.call(n,e,t)}).then(e,t)}}return e.Zone=h})("undefined"==typeof window?e:window)}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){var t=[],n=e.wtf;n?t=a.split(",").map(function(e){return"HTML"+e+"Element"}).concat(i):e[c]?t.push(c):t=i;for(var r=0;r<t.length;r++){var u=e[t[r]];o.patchEventTargetMethods(u&&u.prototype)}}var o=n(3),a="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",i="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex".split(","),c="EventTarget";t.eventTargetPatch=r},function(e,t){(function(e){"use strict";function n(e,t){for(var n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=Zone.current.wrap(e[n],t+"_"+n));return e}function r(e,t){for(var r=e.constructor.name,o=0;o<t.length;o++){var a=t[o],i=e[a];i&&(e[a]=function(e){return function(){return e.apply(this,n(arguments,r+"."+a))}}(i))}}function o(e,t){var n=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!0,configurable:!0};delete n.writable,delete n.value;var r=t.substr(2),o="_"+t;n.set=function(e){if(this[o]&&this.removeEventListener(r,this[o]),"function"==typeof e){var t=function(t){var n;n=e.apply(this,arguments),void 0==n||n||t.preventDefault()};this[o]=t,this.addEventListener(r,t,!1)}else this[o]=null},n.get=function(){return this[o]},Object.defineProperty(e,t,n)}function a(e,t){var n=[];for(var r in e)"on"==r.substr(0,2)&&n.push(r);for(var a=0;a<n.length;a++)o(e,n[a]);if(t)for(var i=0;i<t.length;i++)o(e,"on"+t[i])}function i(e,t,n,r,o){var a=e[g];if(a)for(var i=0;i<a.length;i++){var c=a[i],u=c.data;if(u.handler===t&&u.useCapturing===r&&u.eventName===n)return o&&a.splice(i,1),c}return null}function c(e,t){var n=e[g];n||(n=e[g]=[]),n.push(t)}function u(e){var t=e.data;return c(t.target,e),t.target[w](t.eventName,e.invoke,t.useCapturing)}function s(e){var t=e.data;i(t.target,e.invoke,t.eventName,t.useCapturing,!0),t.target[T](t.eventName,e.invoke,t.useCapturing)}function l(e,t){var n=t[0],r=t[1],o=t[2]||!1,a=e||y,c=null;if("function"==typeof r?c=r:r&&r.handleEvent&&(c=function(e){return r.handleEvent(e)}),!c||r&&"[object FunctionWrapper]"===r.toString())return a[w](n,r,o);var l=i(a,r,n,o,!1);if(l)return a[w](n,l.invoke,o);var f=Zone.current,p=a.constructor.name+".addEventListener:"+n,h={target:a,eventName:n,name:n,useCapturing:o,handler:r};f.scheduleEventTask(p,c,h,u,s)}function f(e,t){var n=t[0],r=t[1],o=t[2]||!1,a=e||y,c=i(a,r,n,o,!0);c?c.zone.cancelTask(c):a[T](n,r,o)}function p(e){return e&&e.addEventListener?(v(e,k,function(){return l}),v(e,m,function(){return f}),!0):!1}function h(e){var t=y[e];if(t){y[e]=function(){var r=n(arguments,e);switch(r.length){case 0:this[_]=new t;break;case 1:this[_]=new t(r[0]);break;case 2:this[_]=new t(r[0],r[1]);break;case 3:this[_]=new t(r[0],r[1],r[2]);break;case 4:this[_]=new t(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}};var r,o=new t(function(){});for(r in o)!function(t){"function"==typeof o[t]?y[e].prototype[t]=function(){return this[_][t].apply(this[_],arguments)}:Object.defineProperty(y[e].prototype,t,{set:function(n){"function"==typeof n?this[_][t]=Zone.current.wrap(n,e+"."+t):this[_][t]=n},get:function(){return this[_][t]}})}(r);for(r in t)"prototype"!==r&&t.hasOwnProperty(r)&&(y[e][r]=t[r])}}function d(e,t){try{return Function("f","return function "+e+"(){return f(this, arguments)}")(t)}catch(n){return function(){return t(this,arguments)}}}function v(e,n,r){for(var o=e;o&&!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);!o&&e[n]&&(o=e);var a,i=t.zoneSymbol(n);return o&&!(a=o[i])&&(a=o[i]=o[n],o[n]=d(n,r(a,i,n))),a}t.zoneSymbol=Zone.__symbol__;var y="undefined"==typeof window?e:window;t.bindArguments=n,t.patchPrototype=r,t.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,t.isNode="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),t.isBrowser=!t.isNode&&!t.isWebWorker&&!(!window||!window.HTMLElement),t.patchProperty=o,t.patchOnProperties=a;var g=t.zoneSymbol("eventTasks"),k="addEventListener",m="removeEventListener",w=t.zoneSymbol(k),T=t.zoneSymbol(m);t.patchEventTargetMethods=p;var _=t.zoneSymbol("originalInstance");t.patchClass=h,t.createNamedFn=d,t.patchMethod=v}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){Object.defineProperty=function(e,t,n){if(a(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);return"prototype"!==t&&(n=i(e,t,n)),u(e,t,n)},Object.defineProperties=function(e,t){return Object.keys(t).forEach(function(n){Object.defineProperty(e,n,t[n])}),e},Object.create=function(e,t){return"object"==typeof t&&Object.keys(t).forEach(function(n){t[n]=i(e,n,t[n])}),l(e,t)},Object.getOwnPropertyDescriptor=function(e,t){var n=s(e,t);return a(e,t)&&(n.configurable=!1),n}}function o(e,t,n){return n=i(e,t,n),u(e,t,n)}function a(e,t){return e&&e[f]&&e[f][t]}function i(e,t,n){return n.configurable=!0,n.configurable||(e[f]||u(e,f,{writable:!0,value:{}}),e[f][t]=!0),n}var c=n(3),u=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=Object.create,f=c.zoneSymbol("unconfigurables");t.propertyPatch=r,t._redefineProperty=o},function(e,t,n){"use strict";function r(e){if(a.isBrowser&&"registerElement"in e.document){var t=document.registerElement,n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(e,r){return r&&r.prototype&&n.forEach(function(e){var t="Document.registerElement::"+e;if(r.prototype.hasOwnProperty(e)){var n=Object.getOwnPropertyDescriptor(r.prototype,e);n&&n.value?(n.value=Zone.current.wrap(n.value,t),o._redefineProperty(r.prototype,e,n)):r.prototype[e]=Zone.current.wrap(r.prototype[e],t)}else r.prototype[e]&&(r.prototype[e]=Zone.current.wrap(r.prototype[e],t))}),t.apply(document,[e,r])}}}var o=n(4),a=n(3);t.registerElementPatch=r},function(e,t,n){"use strict";function r(e){if(!c.isNode){var t="undefined"!=typeof WebSocket;o()?(c.isBrowser&&c.patchOnProperties(HTMLElement.prototype,u),c.patchOnProperties(XMLHttpRequest.prototype,null),"undefined"!=typeof IDBIndex&&(c.patchOnProperties(IDBIndex.prototype,null),c.patchOnProperties(IDBRequest.prototype,null),c.patchOnProperties(IDBOpenDBRequest.prototype,null),c.patchOnProperties(IDBDatabase.prototype,null),c.patchOnProperties(IDBTransaction.prototype,null),c.patchOnProperties(IDBCursor.prototype,null)),t&&c.patchOnProperties(WebSocket.prototype,null)):(a(),c.patchClass("XMLHttpRequest"),t&&i.apply(e))}}function o(){if(c.isBrowser&&!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var e=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(e&&!e.configurable)return!1}Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{get:function(){return!0}});var t=new XMLHttpRequest,n=!!t.onreadystatechange;return Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{}),n}function a(){for(var e=0;e<u.length;e++){var t=u[e],n="on"+t;document.addEventListener(t,function(e){for(var t,r=e.target,o=r.constructor.name+"."+n;r;)r[n]&&!r[n][s]&&(t=Zone.current.wrap(r[n],o),t[s]=r[n],r[n]=t),r=r.parentElement},!0)}}var i=n(7),c=n(3),u="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" ");t.propertyDescriptorPatch=r;var s=c.zoneSymbol("unbound")},function(e,t,n){(function(e){"use strict";function r(t){var n=t.WebSocket;t.EventTarget||o.patchEventTargetMethods(n.prototype),t.WebSocket=function(e,t){var r,a=arguments.length>1?new n(e,t):new n(e),i=Object.getOwnPropertyDescriptor(a,"onmessage");return i&&i.configurable===!1?(r=Object.create(a),["addEventListener","removeEventListener","send","close"].forEach(function(e){r[e]=function(){return a[e].apply(a,arguments)}})):r=a,o.patchOnProperties(r,["close","error","message","open"]),r},e.WebSocket.prototype=Object.create(n.prototype,{constructor:{value:WebSocket}})}var o=n(3);t.apply=r}).call(t,function(){return this}())}]),function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";!function(){function e(){return new Error("STACKTRACE TRACKING")}function t(){try{throw e()}catch(t){return t}}function n(e){return e.stack?e.stack.split(c):[]}function r(e,t){var r;r=n(t);for(var o=0;o<r.length;o++){var a=r[o];o<s.length&&s[o]===a||e.push(r[o])}}function o(e,t){var n=[t];if(e)for(var o=(new Date).getTime(),a=0;a<e.length;a++){var i=e[a],s=i.timestamp;n.push(u+" Elapsed: "+(o-s.getTime())+" ms; At: "+s+" "+u),r(n,i.error),o=s.getTime()}return n.join(c)}function a(e,t){t>0&&(e.push(n((new f).error)),a(e,t-1))}function i(){var e=[];a(e,2);for(var t=e[0],n=e[1],r=0;r<t.length;r++){var o=t[r],i=n[r];if(o!==i)break;s.push(o)}}var c="\n",u="  -------------  ",s=[],l="__creationTrace__",f=function(){function e(){this.error=d(),this.timestamp=new Date}return e}(),p=e(),h=t(),d=p.stack?e:h.stack?t:e;Zone.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,onScheduleTask:function(e,t,n,r){var o=Zone.currentTask,a=o&&o.data&&o.data[l]||[];return a=[new f].concat(a),a.length>this.longStackTraceLimit&&(a.length=this.longStackTraceLimit),r.data||(r.data={}),r.data[l]=a,e.scheduleTask(n,r)},onHandleError:function(e,t,n,r){var a=Zone.currentTask;if(r instanceof Error&&a){var i=Object.getOwnPropertyDescriptor(r,"stack");if(i){var c=i.get,u=i.value;i={get:function(){return o(a.data&&a.data[l],c?c.apply(this):u)}},Object.defineProperty(r,"stack",i)}else r.stack=o(a.data&&a.data[l],r.stack)}return e.handleError(n,r)}},i()}()}]);var Reflect;!function(e){function t(e,t,n,r){if(_(r)){if(_(n)){if(!b(e))throw new TypeError;if(!S(t))throw new TypeError;return f(e,t)}if(!b(e))throw new TypeError;if(!E(t))throw new TypeError;return n=D(n),h(e,t,n)}if(!b(e))throw new TypeError;if(!E(t))throw new TypeError;if(_(n))throw new TypeError;if(!E(r))throw new TypeError;return n=D(n),p(e,t,n,r)}function n(e,t){function n(n,r){if(_(r)){if(!S(n))throw new TypeError;m(e,t,n,void 0)}else{if(!E(n))throw new TypeError;r=D(r),m(e,t,n,r)}}return n}function r(e,t,n,r){if(!E(n))throw new TypeError;return _(r)||(r=D(r)),m(e,t,n,r)}function o(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),v(e,t,n)}function a(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),y(e,t,n)}function i(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),g(e,t,n)}function c(e,t,n){if(!E(t))throw new TypeError;return _(n)||(n=D(n)),k(e,t,n)}function u(e,t){if(!E(e))throw new TypeError;return _(t)||(t=D(t)),w(e,t)}function s(e,t){if(!E(e))throw new TypeError;return _(t)||(t=D(t)),T(e,t)}function l(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=D(n));var r=d(t,n,!1);if(_(r))return!1;if(!r["delete"](e))return!1;if(r.size>0)return!0;var o=F.get(t);return o["delete"](n),o.size>0?!0:(F["delete"](t),!0)}function f(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],o=r(t);if(!_(o)){if(!S(o))throw new TypeError;t=o}}return t}function p(e,t,n,r){for(var o=e.length-1;o>=0;--o){var a=e[o],i=a(t,n,r);if(!_(i)){if(!E(i))throw new TypeError;r=i}}return r}function h(e,t,n){for(var r=e.length-1;r>=0;--r){var o=e[r];o(t,n)}}function d(e,t,n){var r=F.get(e);if(!r){if(!n)return;r=new C,F.set(e,r)}var o=r.get(t);if(!o){if(!n)return;o=new C,r.set(t,o)}return o}function v(e,t,n){var r=y(e,t,n);if(r)return!0;var o=P(t);return null!==o?v(e,o,n):!1}function y(e,t,n){var r=d(t,n,!1);return void 0===r?!1:Boolean(r.has(e))}function g(e,t,n){var r=y(e,t,n);if(r)return k(e,t,n);var o=P(t);return null!==o?g(e,o,n):void 0}function k(e,t,n){var r=d(t,n,!1);if(void 0!==r)return r.get(e)}function m(e,t,n,r){var o=d(n,r,!0);o.set(e,t)}function w(e,t){var n=T(e,t),r=P(e);if(null===r)return n;var o=w(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var a=new I,i=[],c=0;c<n.length;c++){var u=n[c],s=a.has(u);s||(a.add(u),i.push(u))}for(var l=0;l<o.length;l++){var u=o[l],s=a.has(u);s||(a.add(u),i.push(u))}return i}function T(e,t){var n=d(e,t,!1),r=[];return n&&n.forEach(function(e,t){return r.push(t)}),r}function _(e){return void 0===e}function b(e){return Array.isArray(e)}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function S(e){return"function"==typeof e}function O(e){return"symbol"==typeof e}function D(e){return O(e)?e:String(e)}function P(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===Z)return t;if(t!==Z)return t;var n=e.prototype,r=Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o?t:o===e?t:o}function z(){function e(){this._keys=[],this._values=[],this._cache=t}var t={};return e.prototype={get size(){return this._keys.length},has:function(e){return e===this._cache?!0:this._find(e)>=0?(this._cache=e,!0):!1},get:function(e){var t=this._find(e);return t>=0?(this._cache=e,this._values[t]):void 0},set:function(e,t){return this["delete"](e),this._keys.push(e),this._values.push(t),this._cache=e,this},"delete":function(e){var n=this._find(e);return n>=0?(this._keys.splice(n,1),this._values.splice(n,1),this._cache=t,!0):!1},clear:function(){this._keys.length=0,this._values.length=0,this._cache=t},forEach:function(e,t){for(var n=this.size,r=0;n>r;++r){var o=this._keys[r],a=this._values[r];this._cache=o,e.call(this,a,o,this)}},_find:function(e){for(var t=this._keys,n=t.length,r=0;n>r;++r)if(t[r]===e)return r;return-1}},e}function j(){function e(){this._map=new C}return e.prototype={get size(){return this._map.length},has:function(e){return this._map.has(e)},add:function(e){return this._map.set(e,e),this},"delete":function(e){return this._map["delete"](e)},clear:function(){this._map.clear()},forEach:function(e,t){this._map.forEach(e,t)}},e}function M(){function e(){this._key=o()}function t(e,t){for(var n=0;t>n;++n)e[n]=255*Math.random()|0}function n(e){if(u){var n=u.randomBytes(e);return n}if("function"==typeof Uint8Array){var n=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(n):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(n):t(n,e),n}var n=new Array(e);return t(n,e),n}function r(){var e=n(i);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",r=0;i>r;++r){var o=e[r];(4===r||6===r||8===r)&&(t+="-"),16>o&&(t+="0"),t+=o.toString(16).toLowerCase()}return t}function o(){var e;do e="@@WeakMap@@"+r();while(s.call(l,e));return l[e]=!0,e}function a(e,t){if(!s.call(e,f)){if(!t)return;Object.defineProperty(e,f,{value:Object.create(null)})}return e[f]}var i=16,c="undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process),u=c&&require("crypto"),s=Object.prototype.hasOwnProperty,l={},f=o();return e.prototype={has:function(e){var t=a(e,!1);return t?this._key in t:!1},get:function(e){var t=a(e,!1);return t?t[this._key]:void 0},set:function(e,t){var n=a(e,!0);return n[this._key]=t,this},"delete":function(e){var t=a(e,!1);return t&&this._key in t?delete t[this._key]:!1},clear:function(){this._key=o()}},e}var Z=Object.getPrototypeOf(Function),C="function"==typeof Map?Map:z(),I="function"==typeof Set?Set:j(),L="function"==typeof WeakMap?WeakMap:M(),F=new L;e.decorate=t,e.metadata=n,e.defineMetadata=r,e.hasMetadata=o,e.hasOwnMetadata=a,e.getMetadata=i,e.getOwnMetadata=c,e.getMetadataKeys=u,e.getOwnMetadataKeys=s,e.deleteMetadata=l,function(t){if("undefined"!=typeof t.Reflect){if(t.Reflect!==e)for(var n in e)t.Reflect[n]=e[n]}else t.Reflect=e}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof global?global:Function("return this;")())}(Reflect||(Reflect={}));!function(){function e(){!function(e){function t(e,r){if("string"!=typeof e)throw new TypeError("URL must be a string");var n=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!n)throw new RangeError("Invalid URL format");var a=n[1]||"",o=n[2]||"",i=n[3]||"",s=n[4]||"",l=n[5]||"",u=n[6]||"",d=n[7]||"",c=n[8]||"",f=n[9]||"";if(void 0!==r){var m=r instanceof t?r:new t(r),p=!a&&!s&&!o;!p||d||c||(c=m.search),p&&"/"!==d[0]&&(d=d?(!m.host&&!m.username||m.pathname?"":"/")+m.pathname.slice(0,m.pathname.lastIndexOf("/")+1)+d:m.pathname);var h=[];d.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?h.pop():h.push(e)}),d=h.join("").replace(/^\//,"/"===d[0]?"/":""),p&&(u=m.port,l=m.hostname,s=m.host,i=m.password,o=m.username),a||(a=m.protocol)}"file:"==a&&(d=d.replace(/\\/g,"/")),this.origin=s?a+(""!==a||""!==s?"//":"")+s:"",this.href=a+(a&&s||"file:"==a?"//":"")+(""!==o?o+(""!==i?":"+i:"")+"@":"")+s+d+c+f,this.protocol=a,this.username=o,this.password=i,this.host=s,this.hostname=l,this.port=u,this.pathname=d,this.search=c,this.hash=f}e.URLPolyfill=t}("undefined"!=typeof self?self:global),function(e){function t(e,t){if(!e.originalErr)for(var r=(e.stack||e.message||e).split("\n"),n=[],a=0;a<r.length;a++)("undefined"==typeof $__curScript||-1==r[a].indexOf($__curScript.src))&&n.push(r[a]);var o=(n?n.join("\n	"):e.message)+"\n	"+t;L||(o=o.replace(A?/file:\/\/\//g:/file:\/\//g,""));var i=new Error(o,e.fileName,e.lineNumber);return L?i.stack=null:i.stack=o,i.originalErr=e.originalErr||e,i}function r(e,r,n){try{new Function(e).call(n)}catch(a){throw t(a,"Evaluating "+r)}}function n(){}function a(t){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}},F(this,"global",{get:function(){return e}})}function o(){a.call(this),this.paths={}}function i(e,t){var r,n="",a=0;for(var o in e){var i=o.split("*");if(i.length>2)throw new TypeError("Only one wildcard in a path is permitted");if(1==i.length){if(t==o)return e[o];if(t.substr(0,o.length-1)==o.substr(0,o.length-1)&&(t.length<o.length||t[o.length-1]==o[o.length-1])&&"/"==e[o][e[o].length-1])return e[o].substr(0,e[o].length-1)+(t.length>o.length?"/"+t.substr(o.length):"")}else{var s=i[0].length;s>=a&&t.substr(0,i[0].length)==i[0]&&t.substr(t.length-i[1].length)==i[1]&&(a=s,n=o,r=t.substr(i[0].length,t.length-i[1].length-i[0].length))}}var l=e[n];return"string"==typeof r&&(l=l.replace("*",r)),l}function s(){}function l(){o.call(this),Z.call(this)}function u(){}function d(e,t){l.prototype[e]=t(l.prototype[e]||function(){})}function c(e){Z=e(Z||function(){})}function f(e){for(var t=[],r=[],n=0,a=e.length;a>n;n++){var o=D.call(t,e[n]);-1===o?(t.push(e[n]),r.push([n])):r[o].push(n)}return{names:t,indices:r}}function m(e){var t={};if("object"==typeof e||"function"==typeof e)if(G){var r;for(var n in e)(r=Object.getOwnPropertyDescriptor(e,n))&&F(t,n,r)}else{var a=e&&e.hasOwnProperty;for(var n in e)(!a||e.hasOwnProperty(n))&&(t[n]=e[n])}return t["default"]=e,F(t,"__useDefault",{value:!0}),t}function p(e,t,r){for(var n in t)r&&n in e||(e[n]=t[n]);return e}function h(e,t,r){for(var n in t){var a=t[n];n in e?a instanceof Array&&e[n]instanceof Array?e[n]=[].concat(r?a:e[n]).concat(r?e[n]:a):"object"==typeof a&&null!==a&&"object"==typeof e[n]?e[n]=p(p({},e[n]),a,r):r||(e[n]=a):e[n]=a}}function g(e){this.warnings&&"undefined"!=typeof console&&console.warn}function v(e,t){for(var r=e.split(".");r.length;)t=t[r.shift()];return t}function y(){if(Y[this.baseURL])return Y[this.baseURL];"/"!=this.baseURL[this.baseURL.length-1]&&(this.baseURL+="/");var e=new N(this.baseURL,J);return this.baseURL=e.href,Y[this.baseURL]=e}function b(e,t){var r,n=0;for(var a in e)if(t.substr(0,a.length)==a&&(t.length==a.length||"/"==t[a.length])){var o=a.split("/").length;if(n>=o)continue;r=a,n=o}return r}function w(e){this.set("@system-env",this.newModule({browser:L,node:!!this._nodeRequire,production:e,"default":!0}))}function x(e){return("."!=e[0]||!!e[1]&&"/"!=e[1]&&"."!=e[1])&&"/"!=e[0]&&!e.match(K)}function S(e,t){return t&&(t=t.replace(/#/g,"%05")),new N(e,t||Q).href.replace(/%05/g,"#")}function E(e,t){return new N(t,y.call(e)).href}function _(e,t){if(!x(e))return S(e,t);var r=b(this.map,e);if(r&&(e=this.map[r]+e.substr(r.length),!x(e)))return S(e);if(this.has(e))return e;if("@node/"==e.substr(0,6)&&-1!=ee.indexOf(e.substr(6))){if(!this._nodeRequire)throw new TypeError("Error loading "+e+". Can only load node core modules in Node.");return this.set(e,this.newModule(m(this._nodeRequire(e.substr(6))))),e}var n=i(this.paths,e);return n&&!x(n)?S(n):E(this,n||e)}function j(e){var t=e.match(ne);return t&&"System.register"==e.substr(t[0].length,15)}function k(){return{name:null,deps:null,originalIndices:null,declare:null,execute:null,executingRequire:!1,declarative:!1,normalizedDeps:null,groupIndex:null,evaluated:!1,module:null,esModule:null,esmExports:!1}}function P(t){if("string"==typeof t)return v(t,e);if(!(t instanceof Array))throw new Error("Global exports must be a string or array.");for(var r={},n=!0,a=0;a<t.length;a++){var o=v(t[a],e);n&&(r["default"]=o,n=!1),r[t[a].split(".").pop()]=o}return r}function R(e){var t,r,n,n="~"==e[0],a=e.lastIndexOf("|");return-1!=a?(t=e.substr(a+1),r=e.substr(n,a-n)||"@system-env"):(t=null,r=e.substr(n)),{module:r,prop:t,negate:n}}function O(e){return(e.negate?"~":"")+e.module+(e.prop?"|"+e.prop:"")}function M(e,t,r){return this["import"](e.module,t).then(function(t){if(e.prop?t=v(e.prop,t):"object"==typeof t&&t+""=="Module"&&(t=t["default"]),r&&"boolean"!=typeof t)throw new TypeError("Condition "+O(e)+" did not resolve to a boolean.");return e.negate?!t:t})}function z(e,t){var r=e.match(oe);if(!r)return Promise.resolve(e);var n=R(r[0].substr(2,r[0].length-3));return this.builder?this.normalize(n.module,t).then(function(t){return n.module=t,e.replace(oe,"#{"+O(n)+"}")}):M.call(this,n,t,!1).then(function(r){if("string"!=typeof r)throw new TypeError("The condition value for "+e+" doesn't resolve to a string.");if(-1!=r.indexOf("/"))throw new TypeError("Unabled to interpolate conditional "+e+(t?" in "+t:"")+"\n	The condition value "+r+' cannot contain a "/" separator.');return e.replace(oe,r)})}function T(e,t){var r=e.lastIndexOf("#?");if(-1==r)return Promise.resolve(e);var n=R(e.substr(r+2));return this.builder?this.normalize(n.module,t).then(function(t){return n.module=t,e.substr(0,r)+"#?"+O(n)}):M.call(this,n,t,!0).then(function(t){return t?e.substr(0,r):"@empty"})}var I="undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts,L="undefined"!=typeof window&&"undefined"!=typeof document,A="undefined"!=typeof process&&"undefined"!=typeof process.platform&&!!process.platform.match(/^win/);e.console||(e.console={assert:function(){}});var F,D=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1};!function(){try{Object.defineProperty({},"a",{})&&(F=Object.defineProperty)}catch(e){F=function(e,t,r){try{e[t]=r.value||r.get.call(e)}catch(n){}}}}();var J;if("undefined"!=typeof document&&document.getElementsByTagName){if(J=document.baseURI,!J){var q=document.getElementsByTagName("base");J=q[0]&&q[0].href||window.location.href}J=J.split("#")[0].split("?")[0],J=J.substr(0,J.lastIndexOf("/")+1)}else if("undefined"!=typeof process&&process.cwd)J="file://"+(A?"/":"")+process.cwd()+"/",A&&(J=J.replace(/\\/g,"/"));else{if("undefined"==typeof location)throw new TypeError("No environment baseURI");J=e.location.href}try{var U="test:"==new e.URL("test:///").protocol}catch(C){}var N=U?e.URL:e.URLPolyfill;F(n.prototype,"toString",{value:function(){return"Module"}}),function(){function o(e){return{status:"loading",name:e,linkSets:[],dependencies:[],metadata:{}}}function i(e,t,r){return new Promise(c({step:r.address?"fetch":"locate",loader:e,moduleName:t,moduleMetadata:r&&r.metadata||{},moduleSource:r.source,moduleAddress:r.address}))}function s(e,t,r,n){return new Promise(function(a,o){a(e.loaderObj.normalize(t,r,n))}).then(function(t){var r;if(e.modules[t])return r=o(t),r.status="linked",r.module=e.modules[t],r;for(var n=0,a=e.loads.length;a>n;n++)if(r=e.loads[n],r.name==t)return r;return r=o(t),e.loads.push(r),l(e,r),r})}function l(e,t){u(e,t,Promise.resolve().then(function(){return e.loaderObj.locate({name:t.name,metadata:t.metadata})}))}function u(e,t,r){d(e,t,r.then(function(r){return"loading"==t.status?(t.address=r,e.loaderObj.fetch({name:t.name,metadata:t.metadata,address:r})):void 0}))}function d(t,n,a){a.then(function(a){return"loading"==n.status?Promise.resolve(t.loaderObj.translate({name:n.name,metadata:n.metadata,address:n.address,source:a})).then(function(e){return n.source=e,t.loaderObj.instantiate({name:n.name,metadata:n.metadata,address:n.address,source:e})}).then(function(a){if(void 0===a)return n.address=n.address||"<Anonymous Module "+ ++_+">",n.isDeclarative=!0,E.call(t.loaderObj,n).then(function(t){var a=e.System,o=a.register;a.register=function(e,t,r){"string"!=typeof e&&(r=t,t=e),n.declare=r,n.depsList=t},r(t,n.address,{}),a.register=o});if("object"!=typeof a)throw TypeError("Invalid instantiate return value");n.depsList=a.deps||[],n.execute=a.execute,n.isDeclarative=!1}).then(function(){n.dependencies=[];for(var e=n.depsList,r=[],a=0,o=e.length;o>a;a++)(function(e,a){r.push(s(t,e,n.name,n.address).then(function(t){if(n.dependencies[a]={key:e,value:t.name},"linked"!=t.status)for(var r=n.linkSets.concat([]),o=0,i=r.length;i>o;o++)m(r[o],t)}))})(e[a],a);return Promise.all(r)}).then(function(){n.status="loaded";for(var e=n.linkSets.concat([]),t=0,r=e.length;r>t;t++)h(e[t],n)}):void 0})["catch"](function(e){n.status="failed",n.exception=e;for(var t=n.linkSets.concat([]),r=0,a=t.length;a>r;r++)g(t[r],n,e)})}function c(e){return function(t,r){var n=e.loader,a=e.moduleName,i=e.step;if(n.modules[a])throw new TypeError('"'+a+'" already exists in the module table');for(var s,c=0,m=n.loads.length;m>c;c++)if(n.loads[c].name==a&&(s=n.loads[c],"translate"!=i||s.source||(s.address=e.moduleAddress,d(n,s,Promise.resolve(e.moduleSource))),s.linkSets.length&&s.linkSets[0].loads[0].name==s.name))return s.linkSets[0].done.then(function(){t(s)});var p=s||o(a);p.metadata=e.moduleMetadata;var h=f(n,p);n.loads.push(p),t(h.done),"locate"==i?l(n,p):"fetch"==i?u(n,p,Promise.resolve(e.moduleAddress)):(p.address=e.moduleAddress,d(n,p,Promise.resolve(e.moduleSource)))}}function f(e,t){var r={loader:e,loads:[],startingLoad:t,loadingCount:0};return r.done=new Promise(function(e,t){r.resolve=e,r.reject=t}),m(r,t),r}function m(e,t){if("failed"!=t.status){for(var r=0,n=e.loads.length;n>r;r++)if(e.loads[r]==t)return;e.loads.push(t),t.linkSets.push(e),"loaded"!=t.status&&e.loadingCount++;for(var a=e.loader,r=0,n=t.dependencies.length;n>r;r++)if(t.dependencies[r]){var o=t.dependencies[r].value;if(!a.modules[o])for(var i=0,s=a.loads.length;s>i;i++)if(a.loads[i].name==o){m(e,a.loads[i]);break}}}}function p(e){var t=!1;try{w(e,function(r,n){g(e,r,n),t=!0})}catch(r){g(e,null,r),t=!0}return t}function h(e,t){if(e.loadingCount--,!(e.loadingCount>0)){var r=e.startingLoad;if(e.loader.loaderObj.execute===!1){for(var n=[].concat(e.loads),a=0,o=n.length;o>a;a++){var t=n[a];t.module=t.isDeclarative?{name:t.name,module:j({}),evaluated:!0}:{module:j({})},t.status="linked",v(e.loader,t)}return e.resolve(r)}var i=p(e);i||e.resolve(r)}}function g(e,r,n){var a=e.loader;e:if(r)if(e.loads[0].name==r.name)n=t(n,"Error loading "+r.name);else{for(var o=0;o<e.loads.length;o++)for(var i=e.loads[o],s=0;s<i.dependencies.length;s++){var l=i.dependencies[s];if(l.value==r.name){n=t(n,"Error loading "+r.name+' as "'+l.key+'" from '+i.name);break e}}n=t(n,"Error loading "+r.name+" from "+e.loads[0].name)}else n=t(n,"Error linking "+e.loads[0].name);for(var u=e.loads.concat([]),o=0,d=u.length;d>o;o++){var r=u[o];a.loaderObj.failed=a.loaderObj.failed||[],-1==D.call(a.loaderObj.failed,r)&&a.loaderObj.failed.push(r);var c=D.call(r.linkSets,e);if(r.linkSets.splice(c,1),0==r.linkSets.length){var f=D.call(e.loader.loads,r);-1!=f&&e.loader.loads.splice(f,1)}}e.reject(n)}function v(e,t){if(e.loaderObj.trace){e.loaderObj.loads||(e.loaderObj.loads={});var r={};t.dependencies.forEach(function(e){r[e.key]=e.value}),e.loaderObj.loads[t.name]={name:t.name,deps:t.dependencies.map(function(e){return e.key}),depMap:r,address:t.address,metadata:t.metadata,source:t.source,kind:t.isDeclarative?"declarative":"dynamic"}}t.name&&(e.modules[t.name]=t.module);var n=D.call(e.loads,t);-1!=n&&e.loads.splice(n,1);for(var a=0,o=t.linkSets.length;o>a;a++)n=D.call(t.linkSets[a].loads,t),-1!=n&&t.linkSets[a].loads.splice(n,1);t.linkSets.splice(0,t.linkSets.length)}function y(e,t,r){try{var a=t.execute()}catch(o){return void r(t,o)}return a&&a instanceof n?a:void r(t,new TypeError("Execution must define a Module instance"))}function b(e,t,r){var n=e._loader.importPromises;return n[t]=r.then(function(e){return n[t]=void 0,e},function(e){throw n[t]=void 0,e})}function w(e,t){var r=e.loader;if(e.loads.length)for(var n=e.loads.concat([]),a=0;a<n.length;a++){var o=n[a],i=y(e,o,t);if(!i)return;o.module={name:o.name,module:i},o.status="linked",v(r,o)}}function x(e,t){return t.module.module}function S(){}function E(){throw new TypeError("ES6 transpilation is only provided in the dev module loader build.")}var _=0;a.prototype={constructor:a,define:function(e,t,r){if(this._loader.importPromises[e])throw new TypeError("Module is already loading.");return b(this,e,new Promise(c({step:"translate",loader:this._loader,moduleName:e,moduleMetadata:r&&r.metadata||{},moduleSource:t,moduleAddress:r&&r.address})))},"delete":function(e){var t=this._loader;return delete t.importPromises[e],delete t.moduleRecords[e],t.modules[e]?delete t.modules[e]:!1},get:function(e){return this._loader.modules[e]?(S(this._loader.modules[e],[],this),this._loader.modules[e].module):void 0},has:function(e){return!!this._loader.modules[e]},"import":function(e,t,r){"object"==typeof t&&(t=t.name);var n=this;return Promise.resolve(n.normalize(e,t)).then(function(e){var t=n._loader;return t.modules[e]?(S(t.modules[e],[],t._loader),t.modules[e].module):t.importPromises[e]||b(n,e,i(t,e,{}).then(function(r){return delete t.importPromises[e],x(t,r)}))})},load:function(e){var t=this._loader;return t.modules[e]?Promise.resolve():t.importPromises[e]||b(this,e,new Promise(c({step:"locate",loader:t,moduleName:e,moduleMetadata:{},moduleSource:void 0,moduleAddress:void 0})).then(function(){delete t.importPromises[e]}))},module:function(e,t){var r=o();r.address=t&&t.address;var n=f(this._loader,r),a=Promise.resolve(e),i=this._loader,s=n.done.then(function(){return x(i,r)});return d(i,r,a),s},newModule:function(e){if("object"!=typeof e)throw new TypeError("Expected object");var t=new n,r=[];if(Object.getOwnPropertyNames&&null!=e)r=Object.getOwnPropertyNames(e);else for(var a in e)r.push(a);for(var o=0;o<r.length;o++)(function(r){F(t,r,{configurable:!1,enumerable:!0,get:function(){return e[r]},set:function(){throw new Error("Module exports cannot be changed externally.")}})})(r[o]);return Object.freeze&&Object.freeze(t),t},set:function(e,t){if(!(t instanceof n))throw new TypeError("Loader.set("+e+", module) must be a module");this._loader.modules[e]={module:t}},normalize:function(e,t,r){return e},locate:function(e){return e.name},fetch:function(e){},translate:function(e){return e.source},instantiate:function(e){}};var j=a.prototype.newModule}();var $;s.prototype=a.prototype,o.prototype=new s;var B;if("undefined"!=typeof XMLHttpRequest)B=function(e,t,r,n){function a(){r(i.responseText)}function o(){n(new Error("XHR error"+(i.status?" ("+i.status+(i.statusText?" "+i.statusText:"")+")":"")+" loading "+e))}var i=new XMLHttpRequest,s=!0,l=!1;if(!("withCredentials"in i)){var u=/^(\w+:)?\/\/([^\/]+)/.exec(e);u&&(s=u[2]===window.location.host,u[1]&&(s&=u[1]===window.location.protocol))}s||"undefined"==typeof XDomainRequest||(i=new XDomainRequest,i.onload=a,i.onerror=o,i.ontimeout=o,i.onprogress=function(){},i.timeout=0,l=!0),i.onreadystatechange=function(){4===i.readyState&&(0==i.status?i.responseText?a():(i.addEventListener("error",o),i.addEventListener("load",a)):200===i.status?a():o())},i.open("GET",e,!0),i.setRequestHeader&&(i.setRequestHeader("Accept","application/x-es-module, */*"),t&&("string"==typeof t&&i.setRequestHeader("Authorization",t),i.withCredentials=!0)),l?setTimeout(function(){i.send()},0):i.send(null)};else if("undefined"!=typeof require&&"undefined"!=typeof process){var H;B=function(e,t,r,n){if("file:///"!=e.substr(0,8))throw new Error('Unable to fetch "'+e+'". Only file URLs of the form file:/// allowed running in Node.');return H=H||require("fs"),e=A?e.replace(/\//g,"\\").substr(8):e.substr(7),H.readFile(e,function(e,t){if(e)return n(e);var a=t+"";"\ufeff"===a[0]&&(a=a.substr(1)),r(a)})}}else{if("undefined"==typeof self||"undefined"==typeof self.fetch)throw new TypeError("No environment fetch API available.");B=function(e,t,r,n){var a={headers:{Accept:"application/x-es-module, */*"}};t&&("string"==typeof t&&(a.headers.Authorization=t),a.credentials="include"),fetch(e,a).then(function(e){if(e.ok)return e.text();throw new Error("Fetch error: "+e.status+" "+e.statusText)}).then(r,n)}}o.prototype.fetch=function(e){return new Promise(function(t,r){B(e.address,void 0,t,r)})};var X=function(){function t(t){var n=this;return Promise.resolve(e["typescript"==n.transpiler?"ts":n.transpiler]||(n.pluginLoader||n)["import"](n.transpiler)).then(function(e){e.__useDefault&&(e=e["default"]);var a;return a=e.Compiler?r:e.createLanguageService?i:o,"(function(__moduleName){"+a.call(n,t,e)+'\n})("'+t.name+'");\n//# sourceURL='+t.address+"!transpiled"})}function r(e,t){var r=this.traceurOptions||{};r.modules="instantiate",r.script=!1,void 0===r.sourceMaps&&(r.sourceMaps="inline"),r.filename=e.address,r.inputSourceMap=e.metadata.sourceMap,r.moduleName=!1;var a=new t.Compiler(r);return n(e.source,a,r.filename)}function n(e,t,r){try{return t.compile(e,r)}catch(n){if(n.length)throw n[0];throw n}}function o(e,t){var r=this.babelOptions||{};return r.modules="system",void 0===r.sourceMap&&(r.sourceMap="inline"),r.inputSourceMap=e.metadata.sourceMap,r.filename=e.address,r.code=!0,r.ast=!1,t.transform(e.source,r).code}function i(e,t){var r=this.typescriptOptions||{};return r.target=r.target||t.ScriptTarget.ES5,void 0===r.sourceMap&&(r.sourceMap=!0),r.sourceMap&&r.inlineSourceMap!==!1&&(r.inlineSourceMap=!0),r.module=t.ModuleKind.System,t.transpile(e.source,r,e.address)}return a.prototype.transpiler="traceur",t}();u.prototype=o.prototype,l.prototype=new u,l.prototype.constructor=l,l.prototype.instantiate=function(){};var Z,G=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(C){G=!1}var W,V=["main","format","defaultExtension","meta","map","basePath","depCache"];!function(){function r(e){var t=e.source.lastIndexOf("\n"),r="global"!=e.metadata.format,n=e.metadata.sourceMap;if(n){if("object"!=typeof n)throw new TypeError("load.metadata.sourceMap must be set to an object.");n=JSON.stringify(n)}return(r?"(function(System, SystemJS, require) {":"")+e.source+(r?"\n})(System, System);":"")+("\n//# sourceURL="!=e.source.substr(t,15)?"\n//# sourceURL="+e.address+(n?"!transpiled":""):"")+(n&&s&&"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(n)))||"")}function n(t,r){i=r,0==u++&&(l=e.System),e.System=e.SystemJS=t}function a(){0==--u&&(e.System=e.SystemJS=l),i=void 0}function o(e){m||(m=document.head||document.body||document.documentElement);var o=document.createElement("script");o.text=r(e,!1);var i,s=window.onerror;if(window.onerror=function(r){i=t(r,"Evaluating "+e.address)},n(this,e),e.metadata.integrity&&o.setAttribute("integrity",e.metadata.integrity),e.metadata.nonce&&o.setAttribute("nonce",e.metadata.nonce),m.appendChild(o),m.removeChild(o),a(),window.onerror=s,i)throw i}var i,s="undefined"!=typeof btoa;d("pushRegister_",function(){return function(e){return i?(this.reduceRegister_(i,e),!0):!1}});var l,u=0;W=function(e){if((e.metadata.integrity||e.metadata.nonce)&&c)return o.call(this,e);try{n(this,e),i=e,(0,eval)(r(e)),a()}catch(s){throw a(),t(s,"Evaluating "+e.address)}};var c=!1;if(L&&"undefined"!=typeof document&&document.getElementsByTagName){var f=document.getElementsByTagName("script");$__curScript=f[f.length-1],window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\.js/)||(c=!0)}var m}();var K=/^[^\/]+:\/\//,Y={},Q=new N(J);c(function(e){return function(){e.call(this),this.baseURL=J.substr(0,J.lastIndexOf("/")+1),this.map={},this.paths={},this.warnings=!1,this.defaultJSExtensions=!1,this.pluginFirst=!1,this.loaderErrorStack=!1,this.set("@empty",this.newModule({})),w.call(this,!1)}}),"undefined"==typeof require||"undefined"==typeof process||process.browser||(l.prototype._nodeRequire=require);var ee=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"];d("normalize",function(e){return function(e,t,r){var n=_.call(this,e,t);return r||!this.defaultJSExtensions||".js"==n.substr(n.length-3,3)||x(n)||(n+=".js"),n}});var te="undefined"!=typeof XMLHttpRequest;d("locate",function(e){return function(t){return Promise.resolve(e.call(this,t)).then(function(e){return te?e.replace(/#/g,"%23"):e})}}),d("fetch",function(){return function(e){return new Promise(function(t,r){B(e.address,e.metadata.authorization,t,r)})}}),d("import",function(e){return function(t,r,n){return r&&r.name&&g.call(this,"SystemJS.import(name, { name: parentName }) is deprecated for SystemJS.import(name, parentName), while importing "+t+" from "+r.name),e.call(this,t,r,n).then(function(e){return e.__useDefault?e["default"]:e})}}),d("translate",function(e){return function(t){return"detect"==t.metadata.format&&(t.metadata.format=void 0),e.call(this,t)}}),d("instantiate",function(e){return function(e){if("json"==e.metadata.format&&!this.builder){var t=e.metadata.entry=k();t.deps=[],t.execute=function(){try{return JSON.parse(e.source)}catch(t){throw new Error("Invalid JSON file "+e.name)}}}}}),l.prototype.env="development";var re;l.prototype.config=function(e){function t(e){for(var t in e)if(hasOwnProperty.call(e,t))return!0}var r=this;if("loaderErrorStack"in e&&(re=$__curScript,e.loaderErrorStack?$__curScript=void 0:$__curScript=re),"warnings"in e&&(r.warnings=e.warnings),e.transpilerRuntime===!1&&(r._loader.loadedTranspilerRuntime=!0),e.baseURL){if(t(r.packages)||t(r.meta)||t(r.depCache)||t(r.bundles)||t(r.packageConfigPaths))throw new TypeError("Incorrect configuration order. The baseURL must be configured with the first SystemJS.config call.");r.baseURL=e.baseURL,y.call(r)}if(e.defaultJSExtensions&&(r.defaultJSExtensions=e.defaultJSExtensions,g.call(r,"The defaultJSExtensions configuration option is deprecated, use packages configuration instead.")),e.pluginFirst&&(r.pluginFirst=e.pluginFirst),e.production&&w.call(r,!0),e.paths)for(var n in e.paths)r.paths[n]=e.paths[n];if(e.map){var a="";for(var n in e.map){var o=e.map[n];if("string"!=typeof o){a+=(a.length?", ":"")+'"'+n+'"';var i=r.defaultJSExtensions&&".js"!=n.substr(n.length-3,3),s=r.decanonicalize(n);i&&".js"==s.substr(s.length-3,3)&&(s=s.substr(0,s.length-3));var l="";for(var u in r.packages)s.substr(0,u.length)==u&&(!s[u.length]||"/"==s[u.length])&&l.split("/").length<u.split("/").length&&(l=u);l&&r.packages[l].main&&(s=s.substr(0,s.length-r.packages[l].main.length-1));var u=r.packages[s]=r.packages[s]||{};u.map=o}else r.map[n]=o}a&&g.call(r,"The map configuration for "+a+' uses object submaps, which is deprecated in global map.\nUpdate this to use package contextual map with configs like SystemJS.config({ packages: { "'+n+'": { map: {...} } } }).')}if(e.packageConfigPaths){for(var d=[],c=0;c<e.packageConfigPaths.length;c++){var f=e.packageConfigPaths[c],m=Math.max(f.lastIndexOf("*")+1,f.lastIndexOf("/")),i=r.defaultJSExtensions&&".js"!=f.substr(m-3,3),p=r.decanonicalize(f.substr(0,m));i&&".js"==p.substr(p.length-3,3)&&(p=p.substr(0,p.length-3)),d[c]=p+f.substr(m)}r.packageConfigPaths=d}if(e.bundles)for(var n in e.bundles){for(var v=[],c=0;c<e.bundles[n].length;c++){var i=r.defaultJSExtensions&&".js"!=e.bundles[n][c].substr(e.bundles[n][c].length-3,3),b=r.decanonicalize(e.bundles[n][c]);i&&".js"==b.substr(b.length-3,3)&&(b=b.substr(0,b.length-3)),v.push(b)}r.bundles[n]=v}if(e.packages)for(var n in e.packages){if(n.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+n+'" is not a valid package name.');var s=_.call(r,n);"/"==s[s.length-1]&&(s=s.substr(0,s.length-1)),r.packages[s]=r.packages[s]||{};var u=e.packages[n];u.modules&&(g.call(r,"Package "+n+' is configured with "modules", which is deprecated as it has been renamed to "meta".'),u.meta=u.modules,delete u.modules),"object"==typeof u.main&&(u.map=u.map||{},u.map["./@main"]=u.main,u.main["default"]=u.main["default"]||"./",u.main="@main");for(var S in u)-1==D.call(V,S)&&g.call(r,'"'+S+'" is not a valid package configuration option in package '+n);h(r.packages[s],u)}for(var E in e){var o=e[E];if("baseURL"!=E&&"map"!=E&&"packages"!=E&&"bundles"!=E&&"paths"!=E&&"warnings"!=E&&"packageConfigPaths"!=E&&"loaderErrorStack"!=E)if("object"!=typeof o||o instanceof Array)r[E]=o;else{r[E]=r[E]||{};for(var n in o)if("meta"==E&&"*"==n[0])r[E][n]=o[n];else if("meta"==E){var j=_.call(r,n);r.defaultJSExtensions&&".js"!=j.substr(j.length-3,3)&&!x(j)&&(j+=".js"),r[E][j]=o[n]}else if("depCache"==E){var i=r.defaultJSExtensions&&".js"!=n.substr(n.length-3,3),s=r.decanonicalize(n);i&&".js"==s.substr(s.length-3,3)&&(s=s.substr(0,s.length-3)),r[E][s]=o[n]}else r[E][n]=o[n]}}},function(){function e(e,t){var r,n,a=0;for(var o in e.packages)t.substr(0,o.length)!==o||t.length!==o.length&&"/"!==t[o.length]||(n=o.split("/").length,n>a&&(r=o,a=n));return r}function t(e,t,r,n,a){if(!n||"/"==n[n.length-1]||a||t.defaultExtension===!1)return n;if(n.match(oe))return n;var o=!1;if(t.meta&&p(t.meta,n,function(e,t,r){return 0==r||e.lastIndexOf("*")!=e.length-1?o=!0:void 0}),!o&&e.meta&&p(e.meta,r+"/"+n,function(e,t,r){return 0==r||e.lastIndexOf("*")!=e.length-1?o=!0:void 0}),o)return n;var i="."+(t.defaultExtension||"js");return n.substr(n.length-i.length)!=i?n+i:n}function r(e,r,n,o,i){if(!o){if(!r.main)return n+(e.defaultJSExtensions?".js":"");o="./"==r.main.substr(0,2)?r.main.substr(2):r.main}if(r.map){var s="./"+o,l=b(r.map,s);if(l||(s="./"+t(e,r,n,o,i),s!="./"+o&&(l=b(r.map,s))),l)return a(e,r,n,l,s,i)}return n+"/"+t(e,r,n,o,i)}function n(e,t,r){if("."==e)throw new Error("Package "+r+' has a map entry for "." which is not permitted.');if(t.substr(0,e.length)==e&&"/"!=e[e.length-1]&&"/"==t[e.length])throw new Error("Package "+r+' has a recursive map for "'+e+'" which is not permitted.')}function a(e,r,a,o,i,s){var l=r.map[o];if("object"==typeof l)throw new Error("Synchronous conditional normalization not supported sync normalizing "+o+" in "+a);if(n(o,l,a),"string"!=typeof l&&(l=o=i),n(o,l,a),"."==l)l=a;else if("./"==l.substr(0,2))return a+"/"+t(e,r,a,l.substr(2)+i.substr(o.length),s);return e.normalizeSync(l+i.substr(o.length),a+"/")}function o(e,r,n,a,o){if(!a){if(!r.main)return Promise.resolve(n+(e.defaultJSExtensions?".js":""));a="./"==r.main.substr(0,2)?r.main.substr(2):r.main}var i,l;return r.map&&(i="./"+a,l=b(r.map,i),l||(i="./"+t(e,r,n,a,o),i!="./"+a&&(l=b(r.map,i)))),(l?s(e,r,n,l,i,o):Promise.resolve()).then(function(i){return i?Promise.resolve(i):Promise.resolve(n+"/"+t(e,r,n,a,o))})}function i(e,r,n,a,o,i,s){if("."==o)o=n;else if("./"==o.substr(0,2))return Promise.resolve(n+"/"+t(e,r,n,o.substr(2)+i.substr(a.length),s)).then(function(t){return z.call(e,t,n+"/")});return e.normalize(o+i.substr(a.length),n+"/")}function s(e,t,r,a,o,s){var l=t.map[a];return"string"==typeof l?(n(a,l,r),i(e,t,r,a,l,o,s)):e.builder?Promise.resolve(r+"/#:"+o):e["import"](t.map["@env"]||"@system-env",r).then(function(e){for(var t in l){var r="~"==t[0],n=v(r?t.substr(1):t,e);if(!r&&n||r&&!n)return l[t]}}).then(function(l){if(l){if("string"!=typeof l)throw new Error("Unable to map a package conditional to a package conditional.");return n(a,l,r),i(e,t,r,a,l,o,s)}})}function u(e){var t=e.lastIndexOf("*"),r=Math.max(t+1,e.lastIndexOf("/"));return{length:r,regEx:new RegExp("^("+e.substr(0,r).replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,"[^\\/]+")+")(\\/|$)"),wildcard:-1!=t}}function f(e,t){for(var r,n,a=!1,o=0;o<e.packageConfigPaths.length;o++){var i=e.packageConfigPaths[o],s=y[i]||(y[i]=u(i));if(!(t.length<s.length)){var l=t.match(s.regEx);!l||r&&(a&&s.wildcard||!(r.length<l[1].length))||(r=l[1],a=!s.wildcard,n=r+i.substr(s.length))}}return r?{packageName:r,configPath:n}:void 0}function m(e,t,r){var n=e.pluginLoader||e;return(n.meta[r]=n.meta[r]||{}).format="json",n.load(r).then(function(){var a=n.get(r)["default"];a.systemjs&&(a=a.systemjs),a.modules&&(a.meta=a.modules,g.call(e,"Package config file "+r+' is configured with "modules", which is deprecated as it has been renamed to "meta".'));for(var o in a)-1==D.call(V,o)&&delete a[o];var i=e.packages[t]=e.packages[t]||{};if(h(i,a,!0),a.depCache){for(var s in a.depCache){var l;l="./"==s.substr(0,2)?t+"/"+s.substr(2):_.call(e,s),e.depCache[l]=(e.depCache[l]||[]).concat(a.depCache[s])}delete a.depCache}return"object"==typeof i.main&&(i.map=i.map||{},i.map["./@main"]=i.main,i.main["default"]=i.main["default"]||"./",i.main="@main"),i})}function p(e,t,r){var n;for(var a in e){var o="./"==a.substr(0,2)?"./":"";if(o&&(a=a.substr(2)),n=a.indexOf("*"),-1!==n&&a.substr(0,n)==t.substr(0,n)&&a.substr(n+1)==t.substr(t.length-a.length+n+1)&&r(a,e[o+a],a.split("/").length))return}var i=e[t]&&e.hasOwnProperty&&e.hasOwnProperty(t)?e[t]:e["./"+t];i&&r(i,i,0)}c(function(e){return function(){e.call(this),this.packages={},this.packageConfigPaths=[]}}),l.prototype.normalizeSync=l.prototype.decanonicalize=l.prototype.normalize,d("decanonicalize",function(t){return function(r,n){if(this.builder)return t.call(this,r,n,!0);var a=t.call(this,r,n);if(!this.defaultJSExtensions)return a;var o=e(this,a),i=this.packages[o],s=i&&i.defaultExtension;return void 0==s&&i&&i.meta&&p(i.meta,a.substr(o),function(e,t,r){return 0==r||e.lastIndexOf("*")!=e.length-1?(s=!1,!0):void 0}),(s===!1||s&&".js"!=s)&&".js"!=r.substr(r.length-3,3)&&".js"==a.substr(a.length-3,3)&&(a=a.substr(0,a.length-3)),a}}),d("normalizeSync",function(t){return function(n,o,i){g.call(this,"SystemJS.normalizeSync has been deprecated for SystemJS.decanonicalize.");var s=this;if(i=i===!0,o)var l=e(s,o)||s.defaultJSExtensions&&".js"==o.substr(o.length-3,3)&&e(s,o.substr(0,o.length-3));var u=l&&s.packages[l];if(u&&"."!=n[0]){var d=u.map,c=d&&b(d,n);if(c&&"string"==typeof d[c])return a(s,u,l,c,n,i)}var m=s.defaultJSExtensions&&".js"!=n.substr(n.length-3,3),p=t.call(s,n,o);m&&".js"!=p.substr(p.length-3,3)&&(m=!1),m&&(p=p.substr(0,p.length-3));var h=f(s,p),v=h&&h.packageName||e(s,p);if(!v)return p+(m?".js":"");var y=p.substr(v.length+1);return r(s,s.packages[v]||{},v,y,i)}}),d("normalize",function(t){return function(r,n,a){var i=this;return a=a===!0,Promise.resolve().then(function(){if(n)var t=e(i,n)||i.defaultJSExtensions&&".js"==n.substr(n.length-3,3)&&e(i,n.substr(0,n.length-3));var o=t&&i.packages[t];if(o&&"./"!=r.substr(0,2)){var l=o.map,u=l&&b(l,r);if(u)return s(i,o,t,u,r,a)}return Promise.resolve()}).then(function(s){if(s)return s;var l=i.defaultJSExtensions&&".js"!=r.substr(r.length-3,3),u=t.call(i,r,n);l&&".js"!=u.substr(u.length-3,3)&&(l=!1),l&&(u=u.substr(0,u.length-3));var d=f(i,u),c=d&&d.packageName||e(i,u);if(!c)return Promise.resolve(u+(l?".js":""));var p=i.packages[c],h=p&&(p.configured||!d);return(h?Promise.resolve(p):m(i,c,d.configPath)).then(function(e){var t=u.substr(c.length+1);return o(i,e,c,t,a)})})}});var y={};d("locate",function(t){return function(r){var n=this;return Promise.resolve(t.call(this,r)).then(function(t){var a=e(n,r.name);if(a){var o=n.packages[a],i=r.name.substr(a.length+1);o.format&&(r.metadata.format=r.metadata.format||o.format);var s={};if(o.meta){var l=0;p(o.meta,i,function(e,t,r){r>l&&(l=r),h(s,t,r&&l>r)}),h(r.metadata,s)}}return t})}})}(),function(){function t(){if(i&&"interactive"===i.script.readyState)return i.load;for(var e=0;e<u.length;e++)if("interactive"==u[e].script.readyState)return i=u[e],i.load}function r(e,t){return new Promise(function(e,r){t.metadata.integrity&&r(new Error("Subresource integrity checking is not supported in web workers.")),s=t;try{importScripts(t.address)}catch(n){s=null,r(n)}s=null,t.metadata.entry||r(new Error(t.address+" did not call System.register or AMD define")),e("")})}if("undefined"!=typeof document)var n=document.getElementsByTagName("head")[0];var a,o,i,s=null,l=n&&function(){var e=document.createElement("script"),t="undefined"!=typeof opera&&"[object Opera]"===opera.toString();return e.attachEvent&&!(e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0)&&!t}(),u=[],c=0,f=[];d("pushRegister_",function(e){return function(r){return e.call(this,r)?!1:(s?this.reduceRegister_(s,r):l?this.reduceRegister_(t(),r):c?f.push(r):this.reduceRegister_(null,r),!0)}}),d("fetch",function(t){return function(s){var d=this;return"json"!=s.metadata.format&&s.metadata.scriptLoad&&(L||I)?I?r(d,s):new Promise(function(t,r){function m(e){if(!g.readyState||"loaded"==g.readyState||"complete"==g.readyState){if(c--,s.metadata.entry||f.length){if(!l){for(var n=0;n<f.length;n++)d.reduceRegister_(s,f[n]);f=[]}}else d.reduceRegister_(s);h(),s.metadata.entry||s.metadata.bundle||r(new Error(s.name+" did not call System.register or AMD define. If loading a global module configure the global name via the meta exports property for script injection support.")),t("")}}function p(e){h(),r(new Error("Unable to load script "+s.address))}function h(){if(e.System=a,e.require=o,g.detachEvent){g.detachEvent("onreadystatechange",m);for(var t=0;t<u.length;t++)u[t].script==g&&(i&&i.script==g&&(i=null),u.splice(t,1))}else g.removeEventListener("load",m,!1),g.removeEventListener("error",p,!1);n.removeChild(g)}var g=document.createElement("script");g.async=!0,s.metadata.crossOrigin&&(g.crossOrigin=s.metadata.crossOrigin),s.metadata.integrity&&g.setAttribute("integrity",s.metadata.integrity),l?(g.attachEvent("onreadystatechange",m),u.push({script:g,load:s})):(g.addEventListener("load",m,!1),g.addEventListener("error",p,!1)),c++,a=e.System,o=e.require,g.src=s.address,n.appendChild(g)}):t.call(this,s)}})}();var ne=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;!function(){function t(e,r,n){if(n[e.groupIndex]=n[e.groupIndex]||[],-1==D.call(n[e.groupIndex],e)){n[e.groupIndex].push(e);for(var a=0,o=e.normalizedDeps.length;o>a;a++){var i=e.normalizedDeps[a],s=r.defined[i];if(s&&!s.evaluated){var l=e.groupIndex+(s.declarative!=e.declarative);if(null===s.groupIndex||s.groupIndex<l){if(null!==s.groupIndex&&(n[s.groupIndex].splice(D.call(n[s.groupIndex],s),1),0==n[s.groupIndex].length))throw new Error("Mixed dependency cycle detected");s.groupIndex=l}t(s,r,n)}}}}function r(e,r){var n=r.defined[e];if(!n.module){n.groupIndex=0;var a=[];t(n,r,a);for(var o=!!n.declarative==a.length%2,s=a.length-1;s>=0;s--){for(var l=a[s],d=0;d<l.length;d++){var c=l[d];o?i(c,r):u(c,r)}o=!o}}}function a(){}function o(e,t){return t[e]||(t[e]={name:e,dependencies:[],exports:new a,importers:[]})}function i(t,r){if(!t.module){var n=r._loader.moduleRecords,a=t.module=o(t.name,n),s=t.module.exports,l=t.declare.call(e,function(e,t){if(a.locked=!0,"object"==typeof e)for(var r in e)s[r]=e[r];else s[e]=t;for(var n=0,o=a.importers.length;o>n;n++){var i=a.importers[n];if(!i.locked){var l=D.call(i.dependencies,a);i.setters[l](s)}}return a.locked=!1,t},{id:t.name});if(a.setters=l.setters,a.execute=l.execute,!a.setters||!a.execute)throw new TypeError("Invalid System.register form for "+t.name);for(var u=0,d=t.normalizedDeps.length;d>u;u++){var c,f=t.normalizedDeps[u],m=r.defined[f],p=n[f];p?c=p.exports:m&&!m.declarative?c=m.esModule:m?(i(m,r),p=m.module,c=p.exports):c=r.get(f),p&&p.importers?(p.importers.push(a),a.dependencies.push(p)):a.dependencies.push(null);for(var h=t.originalIndices[u],g=0,v=h.length;v>g;++g){var y=h[g];a.setters[y]&&a.setters[y](c)}}}}function s(e,t){var r,n=t.defined[e];if(n)n.declarative?p(e,[],t):n.evaluated||u(n,t),r=n.module.exports;else if(r=t.get(e),!r)throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&r&&r.__useDefault?r["default"]:r}function u(t,r){if(!t.module){var a={},o=t.module={exports:a,id:t.name};if(!t.executingRequire)for(var i=0,l=t.normalizedDeps.length;l>i;i++){var d=t.normalizedDeps[i],c=r.defined[d];c&&u(c,r)}t.evaluated=!0;var f=t.execute.call(e,function(e){for(var n=0,a=t.deps.length;a>n;n++)if(t.deps[n]==e)return s(t.normalizedDeps[n],r);var o=r.normalizeSync(e,t.name);if(-1!=D.call(t.normalizedDeps,o))return s(o,r);throw new Error("Module "+e+" not declared as a dependency of "+t.name)},a,o);f&&(o.exports=f),a=o.exports,a&&(a.__esModule||a instanceof n)?t.esModule=a:t.esmExports&&a!==e?t.esModule=m(a):t.esModule={"default":a}}}function p(t,r,n){var a=n.defined[t];if(a&&!a.evaluated&&a.declarative){r.push(t);for(var o=0,i=a.normalizedDeps.length;i>o;o++){var s=a.normalizedDeps[o];-1==D.call(r,s)&&(n.defined[s]?p(s,r,n):n.get(s))}a.evaluated||(a.evaluated=!0,a.module.execute.call(e))}}l.prototype.register=function(e,t,r){if("string"!=typeof e&&(r=t,t=e,e=null),"boolean"==typeof r)return this.registerDynamic.apply(this,arguments);var n=k();n.name=e&&(this.decanonicalize||this.normalize).call(this,e),n.declarative=!0,n.deps=t,n.declare=r,this.pushRegister_({amd:!1,entry:n})},l.prototype.registerDynamic=function(e,t,r,n){"string"!=typeof e&&(n=r,r=t,t=e,e=null);var a=k();a.name=e&&(this.decanonicalize||this.normalize).call(this,e),a.deps=t,a.execute=n,a.executingRequire=r,this.pushRegister_({amd:!1,entry:a})},d("reduceRegister_",function(){return function(e,t){if(t){var r=t.entry,n=e&&e.metadata;if(r.name&&(r.name in this.defined||(this.defined[r.name]=r),n&&(n.bundle=!0)),!r.name||e&&r.name==e.name){if(!n)throw new TypeError("Invalid System.register call. Anonymous System.register calls can only be made by modules loaded by SystemJS.import and not via script tags.");if(n.entry)throw"register"==n.format?new Error("Multiple anonymous System.register calls in module "+e.name+". If loading a bundle, ensure all the System.register calls are named."):new Error("Module "+e.name+" interpreted as "+n.format+" module format, but called System.register.");n.format||(n.format="register"),n.entry=r}}}}),c(function(e){return function(){e.call(this),this.defined={},this._loader.moduleRecords={}}}),F(a,"toString",{value:function(){return"Module"}}),d("delete",function(e){return function(t){return delete this._loader.moduleRecords[t],delete this.defined[t],e.call(this,t)}}),d("fetch",function(e){return function(t){return this.defined[t.name]?(t.metadata.format="defined",""):(t.metadata.deps=t.metadata.deps||[],e.call(this,t))}}),d("translate",function(e){return function(t){return t.metadata.deps=t.metadata.deps||[],Promise.resolve(e.call(this,t)).then(function(e){return("register"==t.metadata.format||!t.metadata.format&&j(t.source))&&(t.metadata.format="register"),e})}}),d("instantiate",function(e){return function(t){"detect"==t.metadata.format&&(t.metadata.format=void 0),e.call(this,t);var n,a=this;if(a.defined[t.name])n=a.defined[t.name],n.declarative||(n.deps=n.deps.concat(t.metadata.deps));else if(t.metadata.entry)n=t.metadata.entry,n.deps=n.deps.concat(t.metadata.deps);else if(!(a.builder&&t.metadata.bundle||"register"!=t.metadata.format&&"esm"!=t.metadata.format&&"es6"!=t.metadata.format)){if("undefined"!=typeof W&&W.call(a,t),!t.metadata.entry&&!t.metadata.bundle)throw new Error(t.name+" detected as "+t.metadata.format+" but didn't execute.");n=t.metadata.entry,n&&t.metadata.deps&&(n.deps=n.deps.concat(t.metadata.deps))}n||(n=k(),n.deps=t.metadata.deps,n.execute=function(){}),a.defined[t.name]=n;var o=f(n.deps);n.deps=o.names,n.originalIndices=o.indices,n.name=t.name,n.esmExports=t.metadata.esmExports!==!1;for(var i=[],s=0,l=n.deps.length;l>s;s++)i.push(Promise.resolve(a.normalize(n.deps[s],t.name)));return Promise.all(i).then(function(e){return n.normalizedDeps=e,{deps:n.deps,execute:function(){return r(t.name,a),p(t.name,[],a),a.defined[t.name]=void 0,a.newModule(n.declarative?n.module.exports:n.esModule)}}})}})}(),function(){var t=/(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/,r=/\$traceurRuntime\s*\./,n=/babelHelpers\s*\./;d("translate",function(a){return function(o){var i=this;return a.call(i,o).then(function(a){if("esm"==o.metadata.format||"es6"==o.metadata.format||!o.metadata.format&&a.match(t)){if("es6"==o.metadata.format&&g.call(i,"Module "+o.name+' has metadata setting its format to "es6", which is deprecated.\nThis should be updated to "esm".'),o.metadata.format="esm",i.transpiler===!1){if(i.builder)return a;throw new TypeError("Unable to dynamically transpile ES module as SystemJS.transpiler set to false.")}return i._loader.loadedTranspiler=i._loader.loadedTranspiler||!1,i.pluginLoader&&(i.pluginLoader._loader.loadedTranspiler=i._loader.loadedTranspiler||!1),(i._loader.transpilerPromise||(i._loader.transpilerPromise=Promise.resolve(e["typescript"==i.transpiler?"ts":i.transpiler]||(i.pluginLoader||i)["import"](i.transpiler)))).then(function(e){return i._loader.loadedTranspilerRuntime=!0,e.translate?e==o.metadata.loaderModule?o.source:("string"==typeof o.metadata.sourceMap&&(o.metadata.sourceMap=JSON.parse(o.metadata.sourceMap)),Promise.resolve(e.translate.call(i,o)).then(function(e){var t=o.metadata.sourceMap;if(t&&"object"==typeof t){var r=o.name.split("!")[0];t.file=r+"!transpiled",(!t.sources||t.sources.length<=1)&&(t.sources=[r])}return"esm"==o.metadata.format&&!i.builder&&j(e)&&(o.metadata.format="register"),e})):(i.builder&&(o.metadata.originalSource=o.source),X.call(i,o).then(function(e){return o.metadata.sourceMap=void 0,e}))})}if(i.transpiler===!1)return a;if(i._loader.loadedTranspiler!==!1||"traceur"!=i.transpiler&&"typescript"!=i.transpiler&&"babel"!=i.transpiler||o.name!=i.normalizeSync(i.transpiler)||(a.length>100&&!o.metadata.format&&(o.metadata.format="global","traceur"===i.transpiler&&(o.metadata.exports="traceur"),"typescript"===i.transpiler&&(o.metadata.exports="ts")),i._loader.loadedTranspiler=!0),i._loader.loadedTranspilerRuntime===!1&&(o.name==i.normalizeSync("traceur-runtime")||o.name==i.normalizeSync("babel/external-helpers*"))&&(a.length>100&&(o.metadata.format=o.metadata.format||"global"),i._loader.loadedTranspilerRuntime=!0),("register"==o.metadata.format||o.metadata.bundle)&&i._loader.loadedTranspilerRuntime!==!0){if(!e.$traceurRuntime&&o.source.match(r))return i._loader.loadedTranspilerRuntime=i._loader.loadedTranspilerRuntime||!1,i["import"]("traceur-runtime").then(function(){return a});if(!e.babelHelpers&&o.source.match(n))return i._loader.loadedTranspilerRuntime=i._loader.loadedTranspilerRuntime||!1,i["import"]("babel/external-helpers").then(function(){return a})}return a})}})}();var ae="undefined"!=typeof self?"self":"global";d("fetch",function(e){return function(t){return t.metadata.exports&&!t.metadata.format&&(t.metadata.format="global"),e.call(this,t)}}),d("instantiate",function(e){return function(t){var r=this;if(t.metadata.format||(t.metadata.format="global"),"global"==t.metadata.format&&!t.metadata.registered){var n=k();t.metadata.entry=n,n.deps=[];for(var a in t.metadata.globals){var o=t.metadata.globals[a];o&&n.deps.push(o)}n.execute=function(e,n,a){var o;if(t.metadata.globals){o={};for(var i in t.metadata.globals)t.metadata.globals[i]&&(o[i]=e(t.metadata.globals[i]))}var s=t.metadata.exports;s&&(t.source+="\n"+ae+'["'+s+'"] = '+s+";");var l=r.get("@@global-helpers").prepareGlobal(a.id,s,o);return W.call(r,t),l()}}return e.call(this,t)}}),d("reduceRegister_",function(e){return function(t,r){if(r||!t.metadata.exports)return e.call(this,t,r);t.metadata.format="global";var n=t.metadata.entry=k();n.deps=t.metadata.deps;var a=P(t.metadata.exports);n.execute=function(){return a}}}),c(function(t){return function(){function r(t){if(Object.keys)Object.keys(e).forEach(t);else for(var r in e)i.call(e,r)&&t(r)}function n(t){r(function(r){if(-1==D.call(s,r)){try{var n=e[r]}catch(a){s.push(r)}t(r,n)}})}var a=this;t.call(a);var o,i=Object.prototype.hasOwnProperty,s=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];a.set("@@global-helpers",a.newModule({prepareGlobal:function(t,r,a){var i=e.define;e.define=void 0;var s;if(a){s={};for(var l in a)s[l]=e[l],e[l]=a[l]}return r||(o={},n(function(e,t){o[e]=t})),function(){var t;if(r)t=P(r);else{t={};var a,l;n(function(e,r){o[e]!==r&&"undefined"!=typeof r&&(t[e]=r,"undefined"!=typeof a?l||a===r||(l=!0):a=r)}),t=l?t:a}if(s)for(var u in s)e[u]=s[u];return e.define=i,t}}}))}}),function(){function t(e){function t(e,t){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index)return!0;return!1}n.lastIndex=a.lastIndex=o.lastIndex=0;var r,i=[],s=[],l=[];if(e.length/e.split("\n").length<200){for(;r=o.exec(e);)s.push([r.index,r.index+r[0].length]);for(;r=a.exec(e);)t(s,r)||l.push([r.index,r.index+r[0].length])}for(;r=n.exec(e);)if(!t(s,r)&&!t(l,r)){var u=r[1].substr(1,r[1].length-2);if(u.match(/"|'/))continue;"/"==u[u.length-1]&&(u=u.substr(0,u.length-1)),i.push(u)}return i}var r=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/,n=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g,a=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,o=/("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g,i=/^\#\!.*/;d("instantiate",function(a){return function(o){var s=this;if(o.metadata.format||(r.lastIndex=0,n.lastIndex=0,(n.exec(o.source)||r.exec(o.source))&&(o.metadata.format="cjs")),"cjs"==o.metadata.format){var l=o.metadata.deps,u=o.metadata.cjsRequireDetection===!1?[]:t(o.source);for(var d in o.metadata.globals)o.metadata.globals[d]&&u.push(o.metadata.globals[d]);var c=k();o.metadata.entry=c,c.deps=u,c.executingRequire=!0,c.execute=function(t,r,n){function a(e){return"/"==e[e.length-1]&&(e=e.substr(0,e.length-1)),t.apply(this,arguments)}if(a.resolve=function(e){return s.get("@@cjs-helpers").requireResolve(e,n.id)},!o.metadata.cjsDeferDepsExecute)for(var u=0;u<l.length;u++)a(l[u]);var d=s.get("@@cjs-helpers").getPathVars(n.id),c={exports:r,args:[a,r,n,d.filename,d.dirname,e,e]},f="(function(require, exports, module, __filename, __dirname, global, GLOBAL";if(o.metadata.globals)for(var m in o.metadata.globals)c.args.push(a(o.metadata.globals[m])),f+=", "+m;var p=e.define;e.define=void 0,e.__cjsWrapper=c,o.source=f+") {"+o.source.replace(i,"")+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);",W.call(s,o),e.__cjsWrapper=void 0,e.define=p}}return a.call(s,o)}})}(),c(function(e){return function(){function t(e){return"file:///"==e.substr(0,8)?e.substr(7+!!A):n&&e.substr(0,n.length)==n?e.substr(n.length):e}var r=this;if(e.call(r),"undefined"!=typeof window&&"undefined"!=typeof document&&window.location)var n=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");r.set("@@cjs-helpers",r.newModule({requireResolve:function(e,n){return t(r.normalizeSync(e,n))},getPathVars:function(e){var r,n=e.lastIndexOf("!");r=-1!=n?e.substr(0,n):e;var a=r.split("/");return a.pop(),a=a.join("/"),{filename:t(r),dirname:t(a)}}}))}}),d("fetch",function(t){return function(r){return r.metadata.scriptLoad&&L&&(e.define=this.amdDefine),t.call(this,r)}}),c(function(t){return function(){function r(e,t){e=e.replace(i,"");var r=e.match(u),n=(r[1].split(",")[t]||"require").replace(c,""),a=f[n]||(f[n]=new RegExp(s+n+l,"g"));a.lastIndex=0;for(var o,d=[];o=a.exec(e);)d.push(o[2]||o[3]);return d}function n(e,t,r,a){if("object"==typeof e&&!(e instanceof Array))return n.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof t&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var i=o.defaultJSExtensions&&".js"!=e.substr(e.length-3,3),s=o.decanonicalize(e,a);i&&".js"==s.substr(s.length-3,3)&&(s=s.substr(0,s.length-3));var l=o.get(s);if(!l)throw new Error('Module not already loaded loading "'+e+'" as '+s+(a?' from "'+a+'".':"."));return l.__useDefault?l["default"]:l}throw new TypeError("Invalid require")}for(var u=[],d=0;d<e.length;d++)u.push(o["import"](e[d],a));Promise.all(u).then(function(e){t&&t.apply(null,e)},r)}function a(t,a,i){function s(t,r,s){function c(e,r,a){return"string"==typeof e&&"function"!=typeof r?t(e):n.call(o,e,r,a,s.id)}for(var f=[],m=0;m<a.length;m++)f.push(t(a[m]));s.uri=s.id,s.config=function(){},-1!=d&&f.splice(d,0,s),-1!=u&&f.splice(u,0,r),-1!=l&&(c.toUrl=function(e){var t=o.defaultJSExtensions&&".js"!=e.substr(e.length-3,3),r=o.decanonicalize(e,s.id);return t&&".js"==r.substr(r.length-3,3)&&(r=r.substr(0,r.length-3)),r},f.splice(l,0,c));var p=e.require;e.require=n;var h=i.apply(-1==u?e:r,f);return e.require=p,"undefined"==typeof h&&s&&(h=s.exports),"undefined"!=typeof h?h:void 0}"string"!=typeof t&&(i=a,a=t,t=null),a instanceof Array||(i=a,a=["require","exports","module"].splice(0,i.length)),"function"!=typeof i&&(i=function(e){return function(){return e}}(i)),void 0===a[a.length-1]&&a.pop();var l,u,d;-1!=(l=D.call(a,"require"))&&(a.splice(l,1),t||(a=a.concat(r(i.toString(),l)))),-1!=(u=D.call(a,"exports"))&&a.splice(u,1),-1!=(d=D.call(a,"module"))&&a.splice(d,1);var c=k();c.name=t&&(o.decanonicalize||o.normalize).call(o,t),c.deps=a,c.execute=s,o.pushRegister_({amd:!0,entry:c})}var o=this;t.call(this);var i=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,s="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",l="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",u=/\(([^\)]*)\)/,c=/^\s+|\s+$/g,f={};a.amd={},d("reduceRegister_",function(e){return function(t,r){if(!r||!r.amd)return e.call(this,t,r);var n=t&&t.metadata,a=r.entry;if(n&&(n.format="amd"),a.name)n&&(n.entry||n.bundle?n.entry&&n.entry.name&&(n.entry=void 0):n.entry=a,n.bundle=!0),a.name in this.defined||(this.defined[a.name]=a);else{if(!n)throw new TypeError("Unexpected anonymous AMD define.");if(n.entry&&!n.entry.name)throw new Error("Multiple anonymous defines in module "+t.name);n.entry=a}}}),o.amdDefine=a,o.amdRequire=n}}),function(){var t=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;d("instantiate",function(r){return function(n){var a=this;if("amd"==n.metadata.format||!n.metadata.format&&n.source.match(t))if(n.metadata.format="amd",a.builder||a.execute===!1)n.metadata.execute=function(){return n.metadata.builderExecute.apply(this,arguments)};else{var o=e.define;e.define=this.amdDefine;try{W.call(a,n)}finally{e.define=o}if(!n.metadata.entry&&!n.metadata.bundle)throw new TypeError("AMD module "+n.name+" did not define")}return r.call(a,n)}})}(),function(){function e(e,t){if(t){var r;if(e.pluginFirst){if(-1!=(r=t.lastIndexOf("!")))return t.substr(r+1)}else if(-1!=(r=t.indexOf("!")))return t.substr(0,r);return t}}function t(e,t){var r,n,a=t.lastIndexOf("!");return-1!=a?(e.pluginFirst?(r=t.substr(a+1),n=t.substr(0,a)):(r=t.substr(0,a),n=t.substr(a+1)||r.substr(r.lastIndexOf(".")+1)),{argument:r,plugin:n}):void 0}function r(e,t,r,n){return n&&".js"==t.substr(t.length-3,3)&&(t=t.substr(0,t.length-3)),e.pluginFirst?r+"!"+t:t+"!"+r}function n(e,t){return e.defaultJSExtensions&&".js"!=t.substr(t.length-3,3)}function a(a){return function(o,i,s){var l=this;i=e(this,i);var u=t(l,o);if(!u)return a.call(this,o,i,s);var d=l.normalizeSync(u.argument,i,!0),c=l.normalizeSync(u.plugin,i,!0);return r(l,d,c,n(l,u.argument))}}d("decanonicalize",a),d("normalizeSync",a),d("normalize",function(a){return function(o,i,s){var l=this;i=e(this,i);var u=t(l,o);return u?Promise.all([l.normalize(u.argument,i,!0),l.normalize(u.plugin,i)]).then(function(e){return r(l,e[0],e[1],n(l,u.argument))}):a.call(l,o,i,s)}}),d("locate",function(e){return function(t){var r,n=this,a=t.name;return n.pluginFirst?-1!=(r=a.indexOf("!"))&&(t.metadata.loader=a.substr(0,r),t.name=a.substr(r+1)):-1!=(r=a.lastIndexOf("!"))&&(t.metadata.loader=a.substr(r+1),t.name=a.substr(0,r)),e.call(n,t).then(function(e){return-1==r&&t.metadata.loader?n.normalize(t.metadata.loader,t.name).then(function(r){return t.metadata.loader=r,e}):e}).then(function(e){var r=t.metadata.loader;if(!r)return e;if(t.name==r)throw new Error("Plugin "+r+" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.");if(n.defined&&n.defined[a])return e;var o=n.pluginLoader||n;return o["import"](r).then(function(r){return t.metadata.loaderModule=r,t.address=e,r.locate?r.locate.call(n,t):e})})}}),d("fetch",function(e){return function(t){var r=this;return t.metadata.loaderModule&&t.metadata.loaderModule.fetch&&"defined"!=t.metadata.format?(t.metadata.scriptLoad=!1,t.metadata.loaderModule.fetch.call(r,t,function(t){return e.call(r,t)})):e.call(r,t)}}),d("translate",function(e){return function(t){var r=this;return t.metadata.loaderModule&&t.metadata.loaderModule.translate&&"defined"!=t.metadata.format?Promise.resolve(t.metadata.loaderModule.translate.call(r,t)).then(function(n){var a=t.metadata.sourceMap;if(a){if("object"!=typeof a)throw new Error("load.metadata.sourceMap must be set to an object.");var o=t.name.split("!")[0];a.file=o+"!transpiled",(!a.sources||a.sources.length<=1)&&(a.sources=[o])}return"string"==typeof n?t.source=n:g.call(this,"Plugin "+t.metadata.loader+" should return the source in translate, instead of setting load.source directly. This support will be deprecated."),e.call(r,t)}):e.call(r,t)}}),d("instantiate",function(e){return function(t){var r=this,n=!1;return t.metadata.loaderModule&&t.metadata.loaderModule.instantiate&&!r.builder&&"defined"!=t.metadata.format?Promise.resolve(t.metadata.loaderModule.instantiate.call(r,t,function(t){if(n)throw new Error("Instantiate must only be called once.");return n=!0,e.call(r,t)})).then(function(a){return n?a:(t.metadata.entry=k(),t.metadata.entry.execute=function(){return a},t.metadata.entry.deps=t.metadata.deps,t.metadata.format="defined",e.call(r,t))}):e.call(r,t)}})}();var oe=/#\{[^\}]+\}/;d("normalize",function(e){return function(t,r,n){var a=this;return T.call(a,t,r).then(function(t){return e.call(a,t,r,n)}).then(function(e){return z.call(a,e,r)})}}),function(){d("fetch",function(e){return function(t){var r=t.metadata.alias,n=t.metadata.deps||[];if(r){t.metadata.format="defined";var a=k();return this.defined[t.name]=a,a.declarative=!0,a.deps=n.concat([r]),a.declare=function(e){return{setters:[function(t){for(var r in t)e(r,t[r]);t.__useDefault&&(a.module.exports.__useDefault=!0)}],execute:function(){}}},""}return e.call(this,t)}})}(),function(){function e(e,t,r){for(var n,a=t.split(".");a.length>1;)n=a.shift(),e=e[n]=e[n]||{};n=a.shift(),n in e||(e[n]=r)}c(function(e){return function(){this.meta={},e.call(this)}}),d("locate",function(e){return function(t){var r,n=this.meta,a=t.name,o=0;for(var i in n)if(r=i.indexOf("*"),-1!==r&&i.substr(0,r)===a.substr(0,r)&&i.substr(r+1)===a.substr(a.length-i.length+r+1)){var s=i.split("/").length;s>o&&(o=s),h(t.metadata,n[i],o!=s)}return n[a]&&h(t.metadata,n[a]),e.call(this,t)}});var t=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/,r=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;d("translate",function(n){return function(a){var o=a.source.match(t);if(o)for(var i=o[0].match(r),s=0;s<i.length;s++){var l=i[s],u=l.length,d=l.substr(0,1);if(";"==l.substr(u-1,1)&&u--,'"'==d||"'"==d){var c=l.substr(1,l.length-3),f=c.substr(0,c.indexOf(" "));if(f){var m=c.substr(f.length+1,c.length-f.length-1);"[]"==f.substr(f.length-2,2)?(f=f.substr(0,f.length-2),a.metadata[f]=a.metadata[f]||[],a.metadata[f].push(m)):a.metadata[f]instanceof Array?(g.call(this,"Module "+a.name+' contains deprecated "deps '+m+'" meta syntax.\nThis should be updated to "deps[] '+m+'" for pushing to array meta.'),a.metadata[f].push(m)):e(a.metadata,f,m)}else a.metadata[c]=!0}}return n.call(this,a)}})}(),function(){c(function(e){return function(){e.call(this),this.bundles={},this._loader.loadedBundles={}}}),d("locate",function(e){return function(t){var r=this,n=!1;if(!(t.name in r.defined))for(var a in r.bundles){for(var o=0;o<r.bundles[a].length;o++){var i=r.bundles[a][o];if(i==t.name){n=!0;break}if(-1!=i.indexOf("*")){var s=i.split("*");if(2!=s.length){r.bundles[a].splice(o--,1);continue}if(t.name.substring(0,s[0].length)==s[0]&&t.name.substr(t.name.length-s[1].length,s[1].length)==s[1]&&-1==t.name.substr(s[0].length,t.name.length-s[1].length-s[0].length).indexOf("/")){n=!0;break}}}if(n)return r["import"](a).then(function(){return e.call(r,t)})}return e.call(r,t)}})}(),function(){c(function(e){return function(){e.call(this),this.depCache={}}}),d("locate",function(e){return function(t){var r=this,n=r.depCache[t.name];if(n)for(var a=0;a<n.length;a++)r["import"](n[a],t.name);return e.call(r,t)}})}(),$=new l,e.SystemJS=$,$.version="0.19.25 Standard","object"==typeof exports&&(module.exports=a),e.Reflect=e.Reflect||{},e.Reflect.Loader=e.Reflect.Loader||a,e.Reflect.global=e.Reflect.global||e,e.LoaderPolyfill=a,$||($=new o,$.constructor=o),"object"==typeof exports&&(module.exports=$),e.System=$}("undefined"!=typeof self?self:global)}var t="undefined"==typeof Promise;if("undefined"!=typeof document){var r=document.getElementsByTagName("script");if($__curScript=r[r.length-1],t){var n=$__curScript.src,a=n.substr(0,n.lastIndexOf("/")+1);window.systemJSBootstrap=e,document.write('<script type="text/javascript" src="'+a+'system-polyfills.js"></script>')}else e()}else if("undefined"!=typeof importScripts){var a="";try{throw new Error("_")}catch(o){o.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(e,t){$__curScript={src:t},a=t.replace(/\/[^\/]*$/,"/")})}t&&importScripts(a+"system-polyfills.js"),e()}else $__curScript="undefined"!=typeof __filename?{src:__filename}:null,e()}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0  
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, 
MERCHANTABLITY OR NON-INFRINGEMENT. 
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var __extends=(this&&this.__extends)||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var ts;(function(ts){(function(SyntaxKind){SyntaxKind[SyntaxKind["Unknown"]=0]="Unknown";SyntaxKind[SyntaxKind["EndOfFileToken"]=1]="EndOfFileToken";SyntaxKind[SyntaxKind["SingleLineCommentTrivia"]=2]="SingleLineCommentTrivia";SyntaxKind[SyntaxKind["MultiLineCommentTrivia"]=3]="MultiLineCommentTrivia";SyntaxKind[SyntaxKind["NewLineTrivia"]=4]="NewLineTrivia";SyntaxKind[SyntaxKind["WhitespaceTrivia"]=5]="WhitespaceTrivia";SyntaxKind[SyntaxKind["ShebangTrivia"]=6]="ShebangTrivia";SyntaxKind[SyntaxKind["ConflictMarkerTrivia"]=7]="ConflictMarkerTrivia";SyntaxKind[SyntaxKind["NumericLiteral"]=8]="NumericLiteral";SyntaxKind[SyntaxKind["StringLiteral"]=9]="StringLiteral";SyntaxKind[SyntaxKind["RegularExpressionLiteral"]=10]="RegularExpressionLiteral";SyntaxKind[SyntaxKind["NoSubstitutionTemplateLiteral"]=11]="NoSubstitutionTemplateLiteral";SyntaxKind[SyntaxKind["TemplateHead"]=12]="TemplateHead";SyntaxKind[SyntaxKind["TemplateMiddle"]=13]="TemplateMiddle";SyntaxKind[SyntaxKind["TemplateTail"]=14]="TemplateTail";SyntaxKind[SyntaxKind["OpenBraceToken"]=15]="OpenBraceToken";SyntaxKind[SyntaxKind["CloseBraceToken"]=16]="CloseBraceToken";SyntaxKind[SyntaxKind["OpenParenToken"]=17]="OpenParenToken";SyntaxKind[SyntaxKind["CloseParenToken"]=18]="CloseParenToken";SyntaxKind[SyntaxKind["OpenBracketToken"]=19]="OpenBracketToken";SyntaxKind[SyntaxKind["CloseBracketToken"]=20]="CloseBracketToken";SyntaxKind[SyntaxKind["DotToken"]=21]="DotToken";SyntaxKind[SyntaxKind["DotDotDotToken"]=22]="DotDotDotToken";SyntaxKind[SyntaxKind["SemicolonToken"]=23]="SemicolonToken";SyntaxKind[SyntaxKind["CommaToken"]=24]="CommaToken";SyntaxKind[SyntaxKind["LessThanToken"]=25]="LessThanToken";SyntaxKind[SyntaxKind["LessThanSlashToken"]=26]="LessThanSlashToken";SyntaxKind[SyntaxKind["GreaterThanToken"]=27]="GreaterThanToken";SyntaxKind[SyntaxKind["LessThanEqualsToken"]=28]="LessThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanEqualsToken"]=29]="GreaterThanEqualsToken";SyntaxKind[SyntaxKind["EqualsEqualsToken"]=30]="EqualsEqualsToken";SyntaxKind[SyntaxKind["ExclamationEqualsToken"]=31]="ExclamationEqualsToken";SyntaxKind[SyntaxKind["EqualsEqualsEqualsToken"]=32]="EqualsEqualsEqualsToken";SyntaxKind[SyntaxKind["ExclamationEqualsEqualsToken"]=33]="ExclamationEqualsEqualsToken";SyntaxKind[SyntaxKind["EqualsGreaterThanToken"]=34]="EqualsGreaterThanToken";SyntaxKind[SyntaxKind["PlusToken"]=35]="PlusToken";SyntaxKind[SyntaxKind["MinusToken"]=36]="MinusToken";SyntaxKind[SyntaxKind["AsteriskToken"]=37]="AsteriskToken";SyntaxKind[SyntaxKind["AsteriskAsteriskToken"]=38]="AsteriskAsteriskToken";SyntaxKind[SyntaxKind["SlashToken"]=39]="SlashToken";SyntaxKind[SyntaxKind["PercentToken"]=40]="PercentToken";SyntaxKind[SyntaxKind["PlusPlusToken"]=41]="PlusPlusToken";SyntaxKind[SyntaxKind["MinusMinusToken"]=42]="MinusMinusToken";SyntaxKind[SyntaxKind["LessThanLessThanToken"]=43]="LessThanLessThanToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanToken"]=44]="GreaterThanGreaterThanToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanGreaterThanToken"]=45]="GreaterThanGreaterThanGreaterThanToken";SyntaxKind[SyntaxKind["AmpersandToken"]=46]="AmpersandToken";SyntaxKind[SyntaxKind["BarToken"]=47]="BarToken";SyntaxKind[SyntaxKind["CaretToken"]=48]="CaretToken";SyntaxKind[SyntaxKind["ExclamationToken"]=49]="ExclamationToken";SyntaxKind[SyntaxKind["TildeToken"]=50]="TildeToken";SyntaxKind[SyntaxKind["AmpersandAmpersandToken"]=51]="AmpersandAmpersandToken";SyntaxKind[SyntaxKind["BarBarToken"]=52]="BarBarToken";SyntaxKind[SyntaxKind["QuestionToken"]=53]="QuestionToken";SyntaxKind[SyntaxKind["ColonToken"]=54]="ColonToken";SyntaxKind[SyntaxKind["AtToken"]=55]="AtToken";SyntaxKind[SyntaxKind["EqualsToken"]=56]="EqualsToken";SyntaxKind[SyntaxKind["PlusEqualsToken"]=57]="PlusEqualsToken";SyntaxKind[SyntaxKind["MinusEqualsToken"]=58]="MinusEqualsToken";SyntaxKind[SyntaxKind["AsteriskEqualsToken"]=59]="AsteriskEqualsToken";SyntaxKind[SyntaxKind["AsteriskAsteriskEqualsToken"]=60]="AsteriskAsteriskEqualsToken";SyntaxKind[SyntaxKind["SlashEqualsToken"]=61]="SlashEqualsToken";SyntaxKind[SyntaxKind["PercentEqualsToken"]=62]="PercentEqualsToken";SyntaxKind[SyntaxKind["LessThanLessThanEqualsToken"]=63]="LessThanLessThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanEqualsToken"]=64]="GreaterThanGreaterThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanGreaterThanEqualsToken"]=65]="GreaterThanGreaterThanGreaterThanEqualsToken";SyntaxKind[SyntaxKind["AmpersandEqualsToken"]=66]="AmpersandEqualsToken";SyntaxKind[SyntaxKind["BarEqualsToken"]=67]="BarEqualsToken";SyntaxKind[SyntaxKind["CaretEqualsToken"]=68]="CaretEqualsToken";SyntaxKind[SyntaxKind["Identifier"]=69]="Identifier";SyntaxKind[SyntaxKind["BreakKeyword"]=70]="BreakKeyword";SyntaxKind[SyntaxKind["CaseKeyword"]=71]="CaseKeyword";SyntaxKind[SyntaxKind["CatchKeyword"]=72]="CatchKeyword";SyntaxKind[SyntaxKind["ClassKeyword"]=73]="ClassKeyword";SyntaxKind[SyntaxKind["ConstKeyword"]=74]="ConstKeyword";SyntaxKind[SyntaxKind["ContinueKeyword"]=75]="ContinueKeyword";SyntaxKind[SyntaxKind["DebuggerKeyword"]=76]="DebuggerKeyword";SyntaxKind[SyntaxKind["DefaultKeyword"]=77]="DefaultKeyword";SyntaxKind[SyntaxKind["DeleteKeyword"]=78]="DeleteKeyword";SyntaxKind[SyntaxKind["DoKeyword"]=79]="DoKeyword";SyntaxKind[SyntaxKind["ElseKeyword"]=80]="ElseKeyword";SyntaxKind[SyntaxKind["EnumKeyword"]=81]="EnumKeyword";SyntaxKind[SyntaxKind["ExportKeyword"]=82]="ExportKeyword";SyntaxKind[SyntaxKind["ExtendsKeyword"]=83]="ExtendsKeyword";SyntaxKind[SyntaxKind["FalseKeyword"]=84]="FalseKeyword";SyntaxKind[SyntaxKind["FinallyKeyword"]=85]="FinallyKeyword";SyntaxKind[SyntaxKind["ForKeyword"]=86]="ForKeyword";SyntaxKind[SyntaxKind["FunctionKeyword"]=87]="FunctionKeyword";SyntaxKind[SyntaxKind["IfKeyword"]=88]="IfKeyword";SyntaxKind[SyntaxKind["ImportKeyword"]=89]="ImportKeyword";SyntaxKind[SyntaxKind["InKeyword"]=90]="InKeyword";SyntaxKind[SyntaxKind["InstanceOfKeyword"]=91]="InstanceOfKeyword";SyntaxKind[SyntaxKind["NewKeyword"]=92]="NewKeyword";SyntaxKind[SyntaxKind["NullKeyword"]=93]="NullKeyword";SyntaxKind[SyntaxKind["ReturnKeyword"]=94]="ReturnKeyword";SyntaxKind[SyntaxKind["SuperKeyword"]=95]="SuperKeyword";SyntaxKind[SyntaxKind["SwitchKeyword"]=96]="SwitchKeyword";SyntaxKind[SyntaxKind["ThisKeyword"]=97]="ThisKeyword";SyntaxKind[SyntaxKind["ThrowKeyword"]=98]="ThrowKeyword";SyntaxKind[SyntaxKind["TrueKeyword"]=99]="TrueKeyword";SyntaxKind[SyntaxKind["TryKeyword"]=100]="TryKeyword";SyntaxKind[SyntaxKind["TypeOfKeyword"]=101]="TypeOfKeyword";SyntaxKind[SyntaxKind["VarKeyword"]=102]="VarKeyword";SyntaxKind[SyntaxKind["VoidKeyword"]=103]="VoidKeyword";SyntaxKind[SyntaxKind["WhileKeyword"]=104]="WhileKeyword";SyntaxKind[SyntaxKind["WithKeyword"]=105]="WithKeyword";SyntaxKind[SyntaxKind["ImplementsKeyword"]=106]="ImplementsKeyword";SyntaxKind[SyntaxKind["InterfaceKeyword"]=107]="InterfaceKeyword";SyntaxKind[SyntaxKind["LetKeyword"]=108]="LetKeyword";SyntaxKind[SyntaxKind["PackageKeyword"]=109]="PackageKeyword";SyntaxKind[SyntaxKind["PrivateKeyword"]=110]="PrivateKeyword";SyntaxKind[SyntaxKind["ProtectedKeyword"]=111]="ProtectedKeyword";SyntaxKind[SyntaxKind["PublicKeyword"]=112]="PublicKeyword";SyntaxKind[SyntaxKind["StaticKeyword"]=113]="StaticKeyword";SyntaxKind[SyntaxKind["YieldKeyword"]=114]="YieldKeyword";SyntaxKind[SyntaxKind["AbstractKeyword"]=115]="AbstractKeyword";SyntaxKind[SyntaxKind["AsKeyword"]=116]="AsKeyword";SyntaxKind[SyntaxKind["AnyKeyword"]=117]="AnyKeyword";SyntaxKind[SyntaxKind["AsyncKeyword"]=118]="AsyncKeyword";SyntaxKind[SyntaxKind["AwaitKeyword"]=119]="AwaitKeyword";SyntaxKind[SyntaxKind["BooleanKeyword"]=120]="BooleanKeyword";SyntaxKind[SyntaxKind["ConstructorKeyword"]=121]="ConstructorKeyword";SyntaxKind[SyntaxKind["DeclareKeyword"]=122]="DeclareKeyword";SyntaxKind[SyntaxKind["GetKeyword"]=123]="GetKeyword";SyntaxKind[SyntaxKind["IsKeyword"]=124]="IsKeyword";SyntaxKind[SyntaxKind["ModuleKeyword"]=125]="ModuleKeyword";SyntaxKind[SyntaxKind["NamespaceKeyword"]=126]="NamespaceKeyword";SyntaxKind[SyntaxKind["RequireKeyword"]=127]="RequireKeyword";SyntaxKind[SyntaxKind["NumberKeyword"]=128]="NumberKeyword";SyntaxKind[SyntaxKind["SetKeyword"]=129]="SetKeyword";SyntaxKind[SyntaxKind["StringKeyword"]=130]="StringKeyword";SyntaxKind[SyntaxKind["SymbolKeyword"]=131]="SymbolKeyword";SyntaxKind[SyntaxKind["TypeKeyword"]=132]="TypeKeyword";SyntaxKind[SyntaxKind["FromKeyword"]=133]="FromKeyword";SyntaxKind[SyntaxKind["GlobalKeyword"]=134]="GlobalKeyword";SyntaxKind[SyntaxKind["OfKeyword"]=135]="OfKeyword";SyntaxKind[SyntaxKind["QualifiedName"]=136]="QualifiedName";SyntaxKind[SyntaxKind["ComputedPropertyName"]=137]="ComputedPropertyName";SyntaxKind[SyntaxKind["TypeParameter"]=138]="TypeParameter";SyntaxKind[SyntaxKind["Parameter"]=139]="Parameter";SyntaxKind[SyntaxKind["Decorator"]=140]="Decorator";SyntaxKind[SyntaxKind["PropertySignature"]=141]="PropertySignature";SyntaxKind[SyntaxKind["PropertyDeclaration"]=142]="PropertyDeclaration";SyntaxKind[SyntaxKind["MethodSignature"]=143]="MethodSignature";SyntaxKind[SyntaxKind["MethodDeclaration"]=144]="MethodDeclaration";SyntaxKind[SyntaxKind["Constructor"]=145]="Constructor";SyntaxKind[SyntaxKind["GetAccessor"]=146]="GetAccessor";SyntaxKind[SyntaxKind["SetAccessor"]=147]="SetAccessor";SyntaxKind[SyntaxKind["CallSignature"]=148]="CallSignature";SyntaxKind[SyntaxKind["ConstructSignature"]=149]="ConstructSignature";SyntaxKind[SyntaxKind["IndexSignature"]=150]="IndexSignature";SyntaxKind[SyntaxKind["TypePredicate"]=151]="TypePredicate";SyntaxKind[SyntaxKind["TypeReference"]=152]="TypeReference";SyntaxKind[SyntaxKind["FunctionType"]=153]="FunctionType";SyntaxKind[SyntaxKind["ConstructorType"]=154]="ConstructorType";SyntaxKind[SyntaxKind["TypeQuery"]=155]="TypeQuery";SyntaxKind[SyntaxKind["TypeLiteral"]=156]="TypeLiteral";SyntaxKind[SyntaxKind["ArrayType"]=157]="ArrayType";SyntaxKind[SyntaxKind["TupleType"]=158]="TupleType";SyntaxKind[SyntaxKind["UnionType"]=159]="UnionType";SyntaxKind[SyntaxKind["IntersectionType"]=160]="IntersectionType";SyntaxKind[SyntaxKind["ParenthesizedType"]=161]="ParenthesizedType";SyntaxKind[SyntaxKind["ThisType"]=162]="ThisType";SyntaxKind[SyntaxKind["StringLiteralType"]=163]="StringLiteralType";SyntaxKind[SyntaxKind["ObjectBindingPattern"]=164]="ObjectBindingPattern";SyntaxKind[SyntaxKind["ArrayBindingPattern"]=165]="ArrayBindingPattern";SyntaxKind[SyntaxKind["BindingElement"]=166]="BindingElement";SyntaxKind[SyntaxKind["ArrayLiteralExpression"]=167]="ArrayLiteralExpression";SyntaxKind[SyntaxKind["ObjectLiteralExpression"]=168]="ObjectLiteralExpression";SyntaxKind[SyntaxKind["PropertyAccessExpression"]=169]="PropertyAccessExpression";SyntaxKind[SyntaxKind["ElementAccessExpression"]=170]="ElementAccessExpression";SyntaxKind[SyntaxKind["CallExpression"]=171]="CallExpression";SyntaxKind[SyntaxKind["NewExpression"]=172]="NewExpression";SyntaxKind[SyntaxKind["TaggedTemplateExpression"]=173]="TaggedTemplateExpression";SyntaxKind[SyntaxKind["TypeAssertionExpression"]=174]="TypeAssertionExpression";SyntaxKind[SyntaxKind["ParenthesizedExpression"]=175]="ParenthesizedExpression";SyntaxKind[SyntaxKind["FunctionExpression"]=176]="FunctionExpression";SyntaxKind[SyntaxKind["ArrowFunction"]=177]="ArrowFunction";SyntaxKind[SyntaxKind["DeleteExpression"]=178]="DeleteExpression";SyntaxKind[SyntaxKind["TypeOfExpression"]=179]="TypeOfExpression";SyntaxKind[SyntaxKind["VoidExpression"]=180]="VoidExpression";SyntaxKind[SyntaxKind["AwaitExpression"]=181]="AwaitExpression";SyntaxKind[SyntaxKind["PrefixUnaryExpression"]=182]="PrefixUnaryExpression";SyntaxKind[SyntaxKind["PostfixUnaryExpression"]=183]="PostfixUnaryExpression";SyntaxKind[SyntaxKind["BinaryExpression"]=184]="BinaryExpression";SyntaxKind[SyntaxKind["ConditionalExpression"]=185]="ConditionalExpression";SyntaxKind[SyntaxKind["TemplateExpression"]=186]="TemplateExpression";SyntaxKind[SyntaxKind["YieldExpression"]=187]="YieldExpression";SyntaxKind[SyntaxKind["SpreadElementExpression"]=188]="SpreadElementExpression";SyntaxKind[SyntaxKind["ClassExpression"]=189]="ClassExpression";SyntaxKind[SyntaxKind["OmittedExpression"]=190]="OmittedExpression";SyntaxKind[SyntaxKind["ExpressionWithTypeArguments"]=191]="ExpressionWithTypeArguments";SyntaxKind[SyntaxKind["AsExpression"]=192]="AsExpression";SyntaxKind[SyntaxKind["TemplateSpan"]=193]="TemplateSpan";SyntaxKind[SyntaxKind["SemicolonClassElement"]=194]="SemicolonClassElement";SyntaxKind[SyntaxKind["Block"]=195]="Block";SyntaxKind[SyntaxKind["VariableStatement"]=196]="VariableStatement";SyntaxKind[SyntaxKind["EmptyStatement"]=197]="EmptyStatement";SyntaxKind[SyntaxKind["ExpressionStatement"]=198]="ExpressionStatement";SyntaxKind[SyntaxKind["IfStatement"]=199]="IfStatement";SyntaxKind[SyntaxKind["DoStatement"]=200]="DoStatement";SyntaxKind[SyntaxKind["WhileStatement"]=201]="WhileStatement";SyntaxKind[SyntaxKind["ForStatement"]=202]="ForStatement";SyntaxKind[SyntaxKind["ForInStatement"]=203]="ForInStatement";SyntaxKind[SyntaxKind["ForOfStatement"]=204]="ForOfStatement";SyntaxKind[SyntaxKind["ContinueStatement"]=205]="ContinueStatement";SyntaxKind[SyntaxKind["BreakStatement"]=206]="BreakStatement";SyntaxKind[SyntaxKind["ReturnStatement"]=207]="ReturnStatement";SyntaxKind[SyntaxKind["WithStatement"]=208]="WithStatement";SyntaxKind[SyntaxKind["SwitchStatement"]=209]="SwitchStatement";SyntaxKind[SyntaxKind["LabeledStatement"]=210]="LabeledStatement";SyntaxKind[SyntaxKind["ThrowStatement"]=211]="ThrowStatement";SyntaxKind[SyntaxKind["TryStatement"]=212]="TryStatement";SyntaxKind[SyntaxKind["DebuggerStatement"]=213]="DebuggerStatement";SyntaxKind[SyntaxKind["VariableDeclaration"]=214]="VariableDeclaration";SyntaxKind[SyntaxKind["VariableDeclarationList"]=215]="VariableDeclarationList";SyntaxKind[SyntaxKind["FunctionDeclaration"]=216]="FunctionDeclaration";SyntaxKind[SyntaxKind["ClassDeclaration"]=217]="ClassDeclaration";SyntaxKind[SyntaxKind["InterfaceDeclaration"]=218]="InterfaceDeclaration";SyntaxKind[SyntaxKind["TypeAliasDeclaration"]=219]="TypeAliasDeclaration";SyntaxKind[SyntaxKind["EnumDeclaration"]=220]="EnumDeclaration";SyntaxKind[SyntaxKind["ModuleDeclaration"]=221]="ModuleDeclaration";SyntaxKind[SyntaxKind["ModuleBlock"]=222]="ModuleBlock";SyntaxKind[SyntaxKind["CaseBlock"]=223]="CaseBlock";SyntaxKind[SyntaxKind["ImportEqualsDeclaration"]=224]="ImportEqualsDeclaration";SyntaxKind[SyntaxKind["ImportDeclaration"]=225]="ImportDeclaration";SyntaxKind[SyntaxKind["ImportClause"]=226]="ImportClause";SyntaxKind[SyntaxKind["NamespaceImport"]=227]="NamespaceImport";SyntaxKind[SyntaxKind["NamedImports"]=228]="NamedImports";SyntaxKind[SyntaxKind["ImportSpecifier"]=229]="ImportSpecifier";SyntaxKind[SyntaxKind["ExportAssignment"]=230]="ExportAssignment";SyntaxKind[SyntaxKind["ExportDeclaration"]=231]="ExportDeclaration";SyntaxKind[SyntaxKind["NamedExports"]=232]="NamedExports";SyntaxKind[SyntaxKind["ExportSpecifier"]=233]="ExportSpecifier";SyntaxKind[SyntaxKind["MissingDeclaration"]=234]="MissingDeclaration";SyntaxKind[SyntaxKind["ExternalModuleReference"]=235]="ExternalModuleReference";SyntaxKind[SyntaxKind["JsxElement"]=236]="JsxElement";SyntaxKind[SyntaxKind["JsxSelfClosingElement"]=237]="JsxSelfClosingElement";SyntaxKind[SyntaxKind["JsxOpeningElement"]=238]="JsxOpeningElement";SyntaxKind[SyntaxKind["JsxText"]=239]="JsxText";SyntaxKind[SyntaxKind["JsxClosingElement"]=240]="JsxClosingElement";SyntaxKind[SyntaxKind["JsxAttribute"]=241]="JsxAttribute";SyntaxKind[SyntaxKind["JsxSpreadAttribute"]=242]="JsxSpreadAttribute";SyntaxKind[SyntaxKind["JsxExpression"]=243]="JsxExpression";SyntaxKind[SyntaxKind["CaseClause"]=244]="CaseClause";SyntaxKind[SyntaxKind["DefaultClause"]=245]="DefaultClause";SyntaxKind[SyntaxKind["HeritageClause"]=246]="HeritageClause";SyntaxKind[SyntaxKind["CatchClause"]=247]="CatchClause";SyntaxKind[SyntaxKind["PropertyAssignment"]=248]="PropertyAssignment";SyntaxKind[SyntaxKind["ShorthandPropertyAssignment"]=249]="ShorthandPropertyAssignment";SyntaxKind[SyntaxKind["EnumMember"]=250]="EnumMember";SyntaxKind[SyntaxKind["SourceFile"]=251]="SourceFile";SyntaxKind[SyntaxKind["JSDocTypeExpression"]=252]="JSDocTypeExpression";SyntaxKind[SyntaxKind["JSDocAllType"]=253]="JSDocAllType";SyntaxKind[SyntaxKind["JSDocUnknownType"]=254]="JSDocUnknownType";SyntaxKind[SyntaxKind["JSDocArrayType"]=255]="JSDocArrayType";SyntaxKind[SyntaxKind["JSDocUnionType"]=256]="JSDocUnionType";SyntaxKind[SyntaxKind["JSDocTupleType"]=257]="JSDocTupleType";SyntaxKind[SyntaxKind["JSDocNullableType"]=258]="JSDocNullableType";SyntaxKind[SyntaxKind["JSDocNonNullableType"]=259]="JSDocNonNullableType";SyntaxKind[SyntaxKind["JSDocRecordType"]=260]="JSDocRecordType";SyntaxKind[SyntaxKind["JSDocRecordMember"]=261]="JSDocRecordMember";SyntaxKind[SyntaxKind["JSDocTypeReference"]=262]="JSDocTypeReference";SyntaxKind[SyntaxKind["JSDocOptionalType"]=263]="JSDocOptionalType";SyntaxKind[SyntaxKind["JSDocFunctionType"]=264]="JSDocFunctionType";SyntaxKind[SyntaxKind["JSDocVariadicType"]=265]="JSDocVariadicType";SyntaxKind[SyntaxKind["JSDocConstructorType"]=266]="JSDocConstructorType";SyntaxKind[SyntaxKind["JSDocThisType"]=267]="JSDocThisType";SyntaxKind[SyntaxKind["JSDocComment"]=268]="JSDocComment";SyntaxKind[SyntaxKind["JSDocTag"]=269]="JSDocTag";SyntaxKind[SyntaxKind["JSDocParameterTag"]=270]="JSDocParameterTag";SyntaxKind[SyntaxKind["JSDocReturnTag"]=271]="JSDocReturnTag";SyntaxKind[SyntaxKind["JSDocTypeTag"]=272]="JSDocTypeTag";SyntaxKind[SyntaxKind["JSDocTemplateTag"]=273]="JSDocTemplateTag";SyntaxKind[SyntaxKind["SyntaxList"]=274]="SyntaxList";SyntaxKind[SyntaxKind["Count"]=275]="Count";SyntaxKind[SyntaxKind["FirstAssignment"]=56]="FirstAssignment";SyntaxKind[SyntaxKind["LastAssignment"]=68]="LastAssignment";SyntaxKind[SyntaxKind["FirstReservedWord"]=70]="FirstReservedWord";SyntaxKind[SyntaxKind["LastReservedWord"]=105]="LastReservedWord";SyntaxKind[SyntaxKind["FirstKeyword"]=70]="FirstKeyword";SyntaxKind[SyntaxKind["LastKeyword"]=135]="LastKeyword";SyntaxKind[SyntaxKind["FirstFutureReservedWord"]=106]="FirstFutureReservedWord";SyntaxKind[SyntaxKind["LastFutureReservedWord"]=114]="LastFutureReservedWord";SyntaxKind[SyntaxKind["FirstTypeNode"]=151]="FirstTypeNode";SyntaxKind[SyntaxKind["LastTypeNode"]=163]="LastTypeNode";SyntaxKind[SyntaxKind["FirstPunctuation"]=15]="FirstPunctuation";SyntaxKind[SyntaxKind["LastPunctuation"]=68]="LastPunctuation";SyntaxKind[SyntaxKind["FirstToken"]=0]="FirstToken";SyntaxKind[SyntaxKind["LastToken"]=135]="LastToken";SyntaxKind[SyntaxKind["FirstTriviaToken"]=2]="FirstTriviaToken";SyntaxKind[SyntaxKind["LastTriviaToken"]=7]="LastTriviaToken";SyntaxKind[SyntaxKind["FirstLiteralToken"]=8]="FirstLiteralToken";SyntaxKind[SyntaxKind["LastLiteralToken"]=11]="LastLiteralToken";SyntaxKind[SyntaxKind["FirstTemplateToken"]=11]="FirstTemplateToken";SyntaxKind[SyntaxKind["LastTemplateToken"]=14]="LastTemplateToken";SyntaxKind[SyntaxKind["FirstBinaryOperator"]=25]="FirstBinaryOperator";SyntaxKind[SyntaxKind["LastBinaryOperator"]=68]="LastBinaryOperator";SyntaxKind[SyntaxKind["FirstNode"]=136]="FirstNode";})(ts.SyntaxKind||(ts.SyntaxKind={}));var SyntaxKind=ts.SyntaxKind;(function(NodeFlags){NodeFlags[NodeFlags["None"]=0]="None";NodeFlags[NodeFlags["Export"]=2]="Export";NodeFlags[NodeFlags["Ambient"]=4]="Ambient";NodeFlags[NodeFlags["Public"]=8]="Public";NodeFlags[NodeFlags["Private"]=16]="Private";NodeFlags[NodeFlags["Protected"]=32]="Protected";NodeFlags[NodeFlags["Static"]=64]="Static";NodeFlags[NodeFlags["Abstract"]=128]="Abstract";NodeFlags[NodeFlags["Async"]=256]="Async";NodeFlags[NodeFlags["Default"]=512]="Default";NodeFlags[NodeFlags["MultiLine"]=1024]="MultiLine";NodeFlags[NodeFlags["Synthetic"]=2048]="Synthetic";NodeFlags[NodeFlags["DeclarationFile"]=4096]="DeclarationFile";NodeFlags[NodeFlags["Let"]=8192]="Let";NodeFlags[NodeFlags["Const"]=16384]="Const";NodeFlags[NodeFlags["OctalLiteral"]=32768]="OctalLiteral";NodeFlags[NodeFlags["Namespace"]=65536]="Namespace";NodeFlags[NodeFlags["ExportContext"]=131072]="ExportContext";NodeFlags[NodeFlags["ContainsThis"]=262144]="ContainsThis";NodeFlags[NodeFlags["HasImplicitReturn"]=524288]="HasImplicitReturn";NodeFlags[NodeFlags["HasExplicitReturn"]=1048576]="HasExplicitReturn";NodeFlags[NodeFlags["GlobalAugmentation"]=2097152]="GlobalAugmentation";NodeFlags[NodeFlags["HasClassExtends"]=4194304]="HasClassExtends";NodeFlags[NodeFlags["HasDecorators"]=8388608]="HasDecorators";NodeFlags[NodeFlags["HasParamDecorators"]=16777216]="HasParamDecorators";NodeFlags[NodeFlags["HasAsyncFunctions"]=33554432]="HasAsyncFunctions";NodeFlags[NodeFlags["Modifier"]=1022]="Modifier";NodeFlags[NodeFlags["AccessibilityModifier"]=56]="AccessibilityModifier";NodeFlags[NodeFlags["BlockScoped"]=24576]="BlockScoped";NodeFlags[NodeFlags["ReachabilityCheckFlags"]=1572864]="ReachabilityCheckFlags";NodeFlags[NodeFlags["EmitHelperFlags"]=62914560]="EmitHelperFlags";})(ts.NodeFlags||(ts.NodeFlags={}));var NodeFlags=ts.NodeFlags;(function(ParserContextFlags){ParserContextFlags[ParserContextFlags["None"]=0]="None";ParserContextFlags[ParserContextFlags["DisallowIn"]=1]="DisallowIn";ParserContextFlags[ParserContextFlags["Yield"]=2]="Yield";ParserContextFlags[ParserContextFlags["Decorator"]=4]="Decorator";ParserContextFlags[ParserContextFlags["Await"]=8]="Await";ParserContextFlags[ParserContextFlags["ThisNodeHasError"]=16]="ThisNodeHasError";ParserContextFlags[ParserContextFlags["JavaScriptFile"]=32]="JavaScriptFile";ParserContextFlags[ParserContextFlags["ParserGeneratedFlags"]=63]="ParserGeneratedFlags";ParserContextFlags[ParserContextFlags["TypeExcludesFlags"]=10]="TypeExcludesFlags";ParserContextFlags[ParserContextFlags["ThisNodeOrAnySubNodesHasError"]=64]="ThisNodeOrAnySubNodesHasError";ParserContextFlags[ParserContextFlags["HasAggregatedChildData"]=128]="HasAggregatedChildData";})(ts.ParserContextFlags||(ts.ParserContextFlags={}));var ParserContextFlags=ts.ParserContextFlags;(function(JsxFlags){JsxFlags[JsxFlags["None"]=0]="None";JsxFlags[JsxFlags["IntrinsicNamedElement"]=1]="IntrinsicNamedElement";JsxFlags[JsxFlags["IntrinsicIndexedElement"]=2]="IntrinsicIndexedElement";JsxFlags[JsxFlags["ValueElement"]=4]="ValueElement";JsxFlags[JsxFlags["UnknownElement"]=16]="UnknownElement";JsxFlags[JsxFlags["IntrinsicElement"]=3]="IntrinsicElement";})(ts.JsxFlags||(ts.JsxFlags={}));var JsxFlags=ts.JsxFlags;(function(RelationComparisonResult){RelationComparisonResult[RelationComparisonResult["Succeeded"]=1]="Succeeded";RelationComparisonResult[RelationComparisonResult["Failed"]=2]="Failed";RelationComparisonResult[RelationComparisonResult["FailedAndReported"]=3]="FailedAndReported";})(ts.RelationComparisonResult||(ts.RelationComparisonResult={}));var RelationComparisonResult=ts.RelationComparisonResult;var OperationCanceledException=(function(){function OperationCanceledException(){}
return OperationCanceledException;}());ts.OperationCanceledException=OperationCanceledException;(function(ExitStatus){ExitStatus[ExitStatus["Success"]=0]="Success";ExitStatus[ExitStatus["DiagnosticsPresent_OutputsSkipped"]=1]="DiagnosticsPresent_OutputsSkipped";ExitStatus[ExitStatus["DiagnosticsPresent_OutputsGenerated"]=2]="DiagnosticsPresent_OutputsGenerated";})(ts.ExitStatus||(ts.ExitStatus={}));var ExitStatus=ts.ExitStatus;(function(TypeFormatFlags){TypeFormatFlags[TypeFormatFlags["None"]=0]="None";TypeFormatFlags[TypeFormatFlags["WriteArrayAsGenericType"]=1]="WriteArrayAsGenericType";TypeFormatFlags[TypeFormatFlags["UseTypeOfFunction"]=2]="UseTypeOfFunction";TypeFormatFlags[TypeFormatFlags["NoTruncation"]=4]="NoTruncation";TypeFormatFlags[TypeFormatFlags["WriteArrowStyleSignature"]=8]="WriteArrowStyleSignature";TypeFormatFlags[TypeFormatFlags["WriteOwnNameForAnyLike"]=16]="WriteOwnNameForAnyLike";TypeFormatFlags[TypeFormatFlags["WriteTypeArgumentsOfSignature"]=32]="WriteTypeArgumentsOfSignature";TypeFormatFlags[TypeFormatFlags["InElementType"]=64]="InElementType";TypeFormatFlags[TypeFormatFlags["UseFullyQualifiedType"]=128]="UseFullyQualifiedType";})(ts.TypeFormatFlags||(ts.TypeFormatFlags={}));var TypeFormatFlags=ts.TypeFormatFlags;(function(SymbolFormatFlags){SymbolFormatFlags[SymbolFormatFlags["None"]=0]="None";SymbolFormatFlags[SymbolFormatFlags["WriteTypeParametersOrArguments"]=1]="WriteTypeParametersOrArguments";SymbolFormatFlags[SymbolFormatFlags["UseOnlyExternalAliasing"]=2]="UseOnlyExternalAliasing";})(ts.SymbolFormatFlags||(ts.SymbolFormatFlags={}));var SymbolFormatFlags=ts.SymbolFormatFlags;(function(SymbolAccessibility){SymbolAccessibility[SymbolAccessibility["Accessible"]=0]="Accessible";SymbolAccessibility[SymbolAccessibility["NotAccessible"]=1]="NotAccessible";SymbolAccessibility[SymbolAccessibility["CannotBeNamed"]=2]="CannotBeNamed";})(ts.SymbolAccessibility||(ts.SymbolAccessibility={}));var SymbolAccessibility=ts.SymbolAccessibility;(function(TypePredicateKind){TypePredicateKind[TypePredicateKind["This"]=0]="This";TypePredicateKind[TypePredicateKind["Identifier"]=1]="Identifier";})(ts.TypePredicateKind||(ts.TypePredicateKind={}));var TypePredicateKind=ts.TypePredicateKind;(function(TypeReferenceSerializationKind){TypeReferenceSerializationKind[TypeReferenceSerializationKind["Unknown"]=0]="Unknown";TypeReferenceSerializationKind[TypeReferenceSerializationKind["TypeWithConstructSignatureAndValue"]=1]="TypeWithConstructSignatureAndValue";TypeReferenceSerializationKind[TypeReferenceSerializationKind["VoidType"]=2]="VoidType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["NumberLikeType"]=3]="NumberLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["StringLikeType"]=4]="StringLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["BooleanType"]=5]="BooleanType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ArrayLikeType"]=6]="ArrayLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ESSymbolType"]=7]="ESSymbolType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["TypeWithCallSignature"]=8]="TypeWithCallSignature";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ObjectType"]=9]="ObjectType";})(ts.TypeReferenceSerializationKind||(ts.TypeReferenceSerializationKind={}));var TypeReferenceSerializationKind=ts.TypeReferenceSerializationKind;(function(SymbolFlags){SymbolFlags[SymbolFlags["None"]=0]="None";SymbolFlags[SymbolFlags["FunctionScopedVariable"]=1]="FunctionScopedVariable";SymbolFlags[SymbolFlags["BlockScopedVariable"]=2]="BlockScopedVariable";SymbolFlags[SymbolFlags["Property"]=4]="Property";SymbolFlags[SymbolFlags["EnumMember"]=8]="EnumMember";SymbolFlags[SymbolFlags["Function"]=16]="Function";SymbolFlags[SymbolFlags["Class"]=32]="Class";SymbolFlags[SymbolFlags["Interface"]=64]="Interface";SymbolFlags[SymbolFlags["ConstEnum"]=128]="ConstEnum";SymbolFlags[SymbolFlags["RegularEnum"]=256]="RegularEnum";SymbolFlags[SymbolFlags["ValueModule"]=512]="ValueModule";SymbolFlags[SymbolFlags["NamespaceModule"]=1024]="NamespaceModule";SymbolFlags[SymbolFlags["TypeLiteral"]=2048]="TypeLiteral";SymbolFlags[SymbolFlags["ObjectLiteral"]=4096]="ObjectLiteral";SymbolFlags[SymbolFlags["Method"]=8192]="Method";SymbolFlags[SymbolFlags["Constructor"]=16384]="Constructor";SymbolFlags[SymbolFlags["GetAccessor"]=32768]="GetAccessor";SymbolFlags[SymbolFlags["SetAccessor"]=65536]="SetAccessor";SymbolFlags[SymbolFlags["Signature"]=131072]="Signature";SymbolFlags[SymbolFlags["TypeParameter"]=262144]="TypeParameter";SymbolFlags[SymbolFlags["TypeAlias"]=524288]="TypeAlias";SymbolFlags[SymbolFlags["ExportValue"]=1048576]="ExportValue";SymbolFlags[SymbolFlags["ExportType"]=2097152]="ExportType";SymbolFlags[SymbolFlags["ExportNamespace"]=4194304]="ExportNamespace";SymbolFlags[SymbolFlags["Alias"]=8388608]="Alias";SymbolFlags[SymbolFlags["Instantiated"]=16777216]="Instantiated";SymbolFlags[SymbolFlags["Merged"]=33554432]="Merged";SymbolFlags[SymbolFlags["Transient"]=67108864]="Transient";SymbolFlags[SymbolFlags["Prototype"]=134217728]="Prototype";SymbolFlags[SymbolFlags["SyntheticProperty"]=268435456]="SyntheticProperty";SymbolFlags[SymbolFlags["Optional"]=536870912]="Optional";SymbolFlags[SymbolFlags["ExportStar"]=1073741824]="ExportStar";SymbolFlags[SymbolFlags["Enum"]=384]="Enum";SymbolFlags[SymbolFlags["Variable"]=3]="Variable";SymbolFlags[SymbolFlags["Value"]=107455]="Value";SymbolFlags[SymbolFlags["Type"]=793056]="Type";SymbolFlags[SymbolFlags["Namespace"]=1536]="Namespace";SymbolFlags[SymbolFlags["Module"]=1536]="Module";SymbolFlags[SymbolFlags["Accessor"]=98304]="Accessor";SymbolFlags[SymbolFlags["FunctionScopedVariableExcludes"]=107454]="FunctionScopedVariableExcludes";SymbolFlags[SymbolFlags["BlockScopedVariableExcludes"]=107455]="BlockScopedVariableExcludes";SymbolFlags[SymbolFlags["ParameterExcludes"]=107455]="ParameterExcludes";SymbolFlags[SymbolFlags["PropertyExcludes"]=107455]="PropertyExcludes";SymbolFlags[SymbolFlags["EnumMemberExcludes"]=107455]="EnumMemberExcludes";SymbolFlags[SymbolFlags["FunctionExcludes"]=106927]="FunctionExcludes";SymbolFlags[SymbolFlags["ClassExcludes"]=899519]="ClassExcludes";SymbolFlags[SymbolFlags["InterfaceExcludes"]=792960]="InterfaceExcludes";SymbolFlags[SymbolFlags["RegularEnumExcludes"]=899327]="RegularEnumExcludes";SymbolFlags[SymbolFlags["ConstEnumExcludes"]=899967]="ConstEnumExcludes";SymbolFlags[SymbolFlags["ValueModuleExcludes"]=106639]="ValueModuleExcludes";SymbolFlags[SymbolFlags["NamespaceModuleExcludes"]=0]="NamespaceModuleExcludes";SymbolFlags[SymbolFlags["MethodExcludes"]=99263]="MethodExcludes";SymbolFlags[SymbolFlags["GetAccessorExcludes"]=41919]="GetAccessorExcludes";SymbolFlags[SymbolFlags["SetAccessorExcludes"]=74687]="SetAccessorExcludes";SymbolFlags[SymbolFlags["TypeParameterExcludes"]=530912]="TypeParameterExcludes";SymbolFlags[SymbolFlags["TypeAliasExcludes"]=793056]="TypeAliasExcludes";SymbolFlags[SymbolFlags["AliasExcludes"]=8388608]="AliasExcludes";SymbolFlags[SymbolFlags["ModuleMember"]=8914931]="ModuleMember";SymbolFlags[SymbolFlags["ExportHasLocal"]=944]="ExportHasLocal";SymbolFlags[SymbolFlags["HasExports"]=1952]="HasExports";SymbolFlags[SymbolFlags["HasMembers"]=6240]="HasMembers";SymbolFlags[SymbolFlags["BlockScoped"]=418]="BlockScoped";SymbolFlags[SymbolFlags["PropertyOrAccessor"]=98308]="PropertyOrAccessor";SymbolFlags[SymbolFlags["Export"]=7340032]="Export";SymbolFlags[SymbolFlags["Classifiable"]=788448]="Classifiable";})(ts.SymbolFlags||(ts.SymbolFlags={}));var SymbolFlags=ts.SymbolFlags;(function(NodeCheckFlags){NodeCheckFlags[NodeCheckFlags["TypeChecked"]=1]="TypeChecked";NodeCheckFlags[NodeCheckFlags["LexicalThis"]=2]="LexicalThis";NodeCheckFlags[NodeCheckFlags["CaptureThis"]=4]="CaptureThis";NodeCheckFlags[NodeCheckFlags["SuperInstance"]=256]="SuperInstance";NodeCheckFlags[NodeCheckFlags["SuperStatic"]=512]="SuperStatic";NodeCheckFlags[NodeCheckFlags["ContextChecked"]=1024]="ContextChecked";NodeCheckFlags[NodeCheckFlags["AsyncMethodWithSuper"]=2048]="AsyncMethodWithSuper";NodeCheckFlags[NodeCheckFlags["AsyncMethodWithSuperBinding"]=4096]="AsyncMethodWithSuperBinding";NodeCheckFlags[NodeCheckFlags["CaptureArguments"]=8192]="CaptureArguments";NodeCheckFlags[NodeCheckFlags["EnumValuesComputed"]=16384]="EnumValuesComputed";NodeCheckFlags[NodeCheckFlags["LexicalModuleMergesWithClass"]=32768]="LexicalModuleMergesWithClass";NodeCheckFlags[NodeCheckFlags["LoopWithCapturedBlockScopedBinding"]=65536]="LoopWithCapturedBlockScopedBinding";NodeCheckFlags[NodeCheckFlags["CapturedBlockScopedBinding"]=131072]="CapturedBlockScopedBinding";NodeCheckFlags[NodeCheckFlags["BlockScopedBindingInLoop"]=262144]="BlockScopedBindingInLoop";NodeCheckFlags[NodeCheckFlags["ClassWithBodyScopedClassBinding"]=524288]="ClassWithBodyScopedClassBinding";NodeCheckFlags[NodeCheckFlags["BodyScopedClassBinding"]=1048576]="BodyScopedClassBinding";NodeCheckFlags[NodeCheckFlags["NeedsLoopOutParameter"]=2097152]="NeedsLoopOutParameter";})(ts.NodeCheckFlags||(ts.NodeCheckFlags={}));var NodeCheckFlags=ts.NodeCheckFlags;(function(TypeFlags){TypeFlags[TypeFlags["Any"]=1]="Any";TypeFlags[TypeFlags["String"]=2]="String";TypeFlags[TypeFlags["Number"]=4]="Number";TypeFlags[TypeFlags["Boolean"]=8]="Boolean";TypeFlags[TypeFlags["Void"]=16]="Void";TypeFlags[TypeFlags["Undefined"]=32]="Undefined";TypeFlags[TypeFlags["Null"]=64]="Null";TypeFlags[TypeFlags["Enum"]=128]="Enum";TypeFlags[TypeFlags["StringLiteral"]=256]="StringLiteral";TypeFlags[TypeFlags["TypeParameter"]=512]="TypeParameter";TypeFlags[TypeFlags["Class"]=1024]="Class";TypeFlags[TypeFlags["Interface"]=2048]="Interface";TypeFlags[TypeFlags["Reference"]=4096]="Reference";TypeFlags[TypeFlags["Tuple"]=8192]="Tuple";TypeFlags[TypeFlags["Union"]=16384]="Union";TypeFlags[TypeFlags["Intersection"]=32768]="Intersection";TypeFlags[TypeFlags["Anonymous"]=65536]="Anonymous";TypeFlags[TypeFlags["Instantiated"]=131072]="Instantiated";TypeFlags[TypeFlags["FromSignature"]=262144]="FromSignature";TypeFlags[TypeFlags["ObjectLiteral"]=524288]="ObjectLiteral";TypeFlags[TypeFlags["FreshObjectLiteral"]=1048576]="FreshObjectLiteral";TypeFlags[TypeFlags["ContainsUndefinedOrNull"]=2097152]="ContainsUndefinedOrNull";TypeFlags[TypeFlags["ContainsObjectLiteral"]=4194304]="ContainsObjectLiteral";TypeFlags[TypeFlags["ContainsAnyFunctionType"]=8388608]="ContainsAnyFunctionType";TypeFlags[TypeFlags["ESSymbol"]=16777216]="ESSymbol";TypeFlags[TypeFlags["ThisType"]=33554432]="ThisType";TypeFlags[TypeFlags["ObjectLiteralPatternWithComputedProperties"]=67108864]="ObjectLiteralPatternWithComputedProperties";TypeFlags[TypeFlags["Intrinsic"]=16777343]="Intrinsic";TypeFlags[TypeFlags["Primitive"]=16777726]="Primitive";TypeFlags[TypeFlags["StringLike"]=258]="StringLike";TypeFlags[TypeFlags["NumberLike"]=132]="NumberLike";TypeFlags[TypeFlags["ObjectType"]=80896]="ObjectType";TypeFlags[TypeFlags["UnionOrIntersection"]=49152]="UnionOrIntersection";TypeFlags[TypeFlags["StructuredType"]=130048]="StructuredType";TypeFlags[TypeFlags["RequiresWidening"]=6291456]="RequiresWidening";TypeFlags[TypeFlags["PropagatingFlags"]=14680064]="PropagatingFlags";})(ts.TypeFlags||(ts.TypeFlags={}));var TypeFlags=ts.TypeFlags;(function(SignatureKind){SignatureKind[SignatureKind["Call"]=0]="Call";SignatureKind[SignatureKind["Construct"]=1]="Construct";})(ts.SignatureKind||(ts.SignatureKind={}));var SignatureKind=ts.SignatureKind;(function(IndexKind){IndexKind[IndexKind["String"]=0]="String";IndexKind[IndexKind["Number"]=1]="Number";})(ts.IndexKind||(ts.IndexKind={}));var IndexKind=ts.IndexKind;(function(SpecialPropertyAssignmentKind){SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind["None"]=0]="None";SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind["ExportsProperty"]=1]="ExportsProperty";SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind["ModuleExports"]=2]="ModuleExports";SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind["PrototypeProperty"]=3]="PrototypeProperty";SpecialPropertyAssignmentKind[SpecialPropertyAssignmentKind["ThisProperty"]=4]="ThisProperty";})(ts.SpecialPropertyAssignmentKind||(ts.SpecialPropertyAssignmentKind={}));var SpecialPropertyAssignmentKind=ts.SpecialPropertyAssignmentKind;(function(DiagnosticCategory){DiagnosticCategory[DiagnosticCategory["Warning"]=0]="Warning";DiagnosticCategory[DiagnosticCategory["Error"]=1]="Error";DiagnosticCategory[DiagnosticCategory["Message"]=2]="Message";})(ts.DiagnosticCategory||(ts.DiagnosticCategory={}));var DiagnosticCategory=ts.DiagnosticCategory;(function(ModuleResolutionKind){ModuleResolutionKind[ModuleResolutionKind["Classic"]=1]="Classic";ModuleResolutionKind[ModuleResolutionKind["NodeJs"]=2]="NodeJs";})(ts.ModuleResolutionKind||(ts.ModuleResolutionKind={}));var ModuleResolutionKind=ts.ModuleResolutionKind;(function(ModuleKind){ModuleKind[ModuleKind["None"]=0]="None";ModuleKind[ModuleKind["CommonJS"]=1]="CommonJS";ModuleKind[ModuleKind["AMD"]=2]="AMD";ModuleKind[ModuleKind["UMD"]=3]="UMD";ModuleKind[ModuleKind["System"]=4]="System";ModuleKind[ModuleKind["ES6"]=5]="ES6";ModuleKind[ModuleKind["ES2015"]=5]="ES2015";})(ts.ModuleKind||(ts.ModuleKind={}));var ModuleKind=ts.ModuleKind;(function(JsxEmit){JsxEmit[JsxEmit["None"]=0]="None";JsxEmit[JsxEmit["Preserve"]=1]="Preserve";JsxEmit[JsxEmit["React"]=2]="React";})(ts.JsxEmit||(ts.JsxEmit={}));var JsxEmit=ts.JsxEmit;(function(NewLineKind){NewLineKind[NewLineKind["CarriageReturnLineFeed"]=0]="CarriageReturnLineFeed";NewLineKind[NewLineKind["LineFeed"]=1]="LineFeed";})(ts.NewLineKind||(ts.NewLineKind={}));var NewLineKind=ts.NewLineKind;(function(ScriptKind){ScriptKind[ScriptKind["Unknown"]=0]="Unknown";ScriptKind[ScriptKind["JS"]=1]="JS";ScriptKind[ScriptKind["JSX"]=2]="JSX";ScriptKind[ScriptKind["TS"]=3]="TS";ScriptKind[ScriptKind["TSX"]=4]="TSX";})(ts.ScriptKind||(ts.ScriptKind={}));var ScriptKind=ts.ScriptKind;(function(ScriptTarget){ScriptTarget[ScriptTarget["ES3"]=0]="ES3";ScriptTarget[ScriptTarget["ES5"]=1]="ES5";ScriptTarget[ScriptTarget["ES6"]=2]="ES6";ScriptTarget[ScriptTarget["ES2015"]=2]="ES2015";ScriptTarget[ScriptTarget["Latest"]=2]="Latest";})(ts.ScriptTarget||(ts.ScriptTarget={}));var ScriptTarget=ts.ScriptTarget;(function(LanguageVariant){LanguageVariant[LanguageVariant["Standard"]=0]="Standard";LanguageVariant[LanguageVariant["JSX"]=1]="JSX";})(ts.LanguageVariant||(ts.LanguageVariant={}));var LanguageVariant=ts.LanguageVariant;(function(DiagnosticStyle){DiagnosticStyle[DiagnosticStyle["Simple"]=0]="Simple";DiagnosticStyle[DiagnosticStyle["Pretty"]=1]="Pretty";})(ts.DiagnosticStyle||(ts.DiagnosticStyle={}));var DiagnosticStyle=ts.DiagnosticStyle;(function(CharacterCodes){CharacterCodes[CharacterCodes["nullCharacter"]=0]="nullCharacter";CharacterCodes[CharacterCodes["maxAsciiCharacter"]=127]="maxAsciiCharacter";CharacterCodes[CharacterCodes["lineFeed"]=10]="lineFeed";CharacterCodes[CharacterCodes["carriageReturn"]=13]="carriageReturn";CharacterCodes[CharacterCodes["lineSeparator"]=8232]="lineSeparator";CharacterCodes[CharacterCodes["paragraphSeparator"]=8233]="paragraphSeparator";CharacterCodes[CharacterCodes["nextLine"]=133]="nextLine";CharacterCodes[CharacterCodes["space"]=32]="space";CharacterCodes[CharacterCodes["nonBreakingSpace"]=160]="nonBreakingSpace";CharacterCodes[CharacterCodes["enQuad"]=8192]="enQuad";CharacterCodes[CharacterCodes["emQuad"]=8193]="emQuad";CharacterCodes[CharacterCodes["enSpace"]=8194]="enSpace";CharacterCodes[CharacterCodes["emSpace"]=8195]="emSpace";CharacterCodes[CharacterCodes["threePerEmSpace"]=8196]="threePerEmSpace";CharacterCodes[CharacterCodes["fourPerEmSpace"]=8197]="fourPerEmSpace";CharacterCodes[CharacterCodes["sixPerEmSpace"]=8198]="sixPerEmSpace";CharacterCodes[CharacterCodes["figureSpace"]=8199]="figureSpace";CharacterCodes[CharacterCodes["punctuationSpace"]=8200]="punctuationSpace";CharacterCodes[CharacterCodes["thinSpace"]=8201]="thinSpace";CharacterCodes[CharacterCodes["hairSpace"]=8202]="hairSpace";CharacterCodes[CharacterCodes["zeroWidthSpace"]=8203]="zeroWidthSpace";CharacterCodes[CharacterCodes["narrowNoBreakSpace"]=8239]="narrowNoBreakSpace";CharacterCodes[CharacterCodes["ideographicSpace"]=12288]="ideographicSpace";CharacterCodes[CharacterCodes["mathematicalSpace"]=8287]="mathematicalSpace";CharacterCodes[CharacterCodes["ogham"]=5760]="ogham";CharacterCodes[CharacterCodes["_"]=95]="_";CharacterCodes[CharacterCodes["$"]=36]="$";CharacterCodes[CharacterCodes["_0"]=48]="_0";CharacterCodes[CharacterCodes["_1"]=49]="_1";CharacterCodes[CharacterCodes["_2"]=50]="_2";CharacterCodes[CharacterCodes["_3"]=51]="_3";CharacterCodes[CharacterCodes["_4"]=52]="_4";CharacterCodes[CharacterCodes["_5"]=53]="_5";CharacterCodes[CharacterCodes["_6"]=54]="_6";CharacterCodes[CharacterCodes["_7"]=55]="_7";CharacterCodes[CharacterCodes["_8"]=56]="_8";CharacterCodes[CharacterCodes["_9"]=57]="_9";CharacterCodes[CharacterCodes["a"]=97]="a";CharacterCodes[CharacterCodes["b"]=98]="b";CharacterCodes[CharacterCodes["c"]=99]="c";CharacterCodes[CharacterCodes["d"]=100]="d";CharacterCodes[CharacterCodes["e"]=101]="e";CharacterCodes[CharacterCodes["f"]=102]="f";CharacterCodes[CharacterCodes["g"]=103]="g";CharacterCodes[CharacterCodes["h"]=104]="h";CharacterCodes[CharacterCodes["i"]=105]="i";CharacterCodes[CharacterCodes["j"]=106]="j";CharacterCodes[CharacterCodes["k"]=107]="k";CharacterCodes[CharacterCodes["l"]=108]="l";CharacterCodes[CharacterCodes["m"]=109]="m";CharacterCodes[CharacterCodes["n"]=110]="n";CharacterCodes[CharacterCodes["o"]=111]="o";CharacterCodes[CharacterCodes["p"]=112]="p";CharacterCodes[CharacterCodes["q"]=113]="q";CharacterCodes[CharacterCodes["r"]=114]="r";CharacterCodes[CharacterCodes["s"]=115]="s";CharacterCodes[CharacterCodes["t"]=116]="t";CharacterCodes[CharacterCodes["u"]=117]="u";CharacterCodes[CharacterCodes["v"]=118]="v";CharacterCodes[CharacterCodes["w"]=119]="w";CharacterCodes[CharacterCodes["x"]=120]="x";CharacterCodes[CharacterCodes["y"]=121]="y";CharacterCodes[CharacterCodes["z"]=122]="z";CharacterCodes[CharacterCodes["A"]=65]="A";CharacterCodes[CharacterCodes["B"]=66]="B";CharacterCodes[CharacterCodes["C"]=67]="C";CharacterCodes[CharacterCodes["D"]=68]="D";CharacterCodes[CharacterCodes["E"]=69]="E";CharacterCodes[CharacterCodes["F"]=70]="F";CharacterCodes[CharacterCodes["G"]=71]="G";CharacterCodes[CharacterCodes["H"]=72]="H";CharacterCodes[CharacterCodes["I"]=73]="I";CharacterCodes[CharacterCodes["J"]=74]="J";CharacterCodes[CharacterCodes["K"]=75]="K";CharacterCodes[CharacterCodes["L"]=76]="L";CharacterCodes[CharacterCodes["M"]=77]="M";CharacterCodes[CharacterCodes["N"]=78]="N";CharacterCodes[CharacterCodes["O"]=79]="O";CharacterCodes[CharacterCodes["P"]=80]="P";CharacterCodes[CharacterCodes["Q"]=81]="Q";CharacterCodes[CharacterCodes["R"]=82]="R";CharacterCodes[CharacterCodes["S"]=83]="S";CharacterCodes[CharacterCodes["T"]=84]="T";CharacterCodes[CharacterCodes["U"]=85]="U";CharacterCodes[CharacterCodes["V"]=86]="V";CharacterCodes[CharacterCodes["W"]=87]="W";CharacterCodes[CharacterCodes["X"]=88]="X";CharacterCodes[CharacterCodes["Y"]=89]="Y";CharacterCodes[CharacterCodes["Z"]=90]="Z";CharacterCodes[CharacterCodes["ampersand"]=38]="ampersand";CharacterCodes[CharacterCodes["asterisk"]=42]="asterisk";CharacterCodes[CharacterCodes["at"]=64]="at";CharacterCodes[CharacterCodes["backslash"]=92]="backslash";CharacterCodes[CharacterCodes["backtick"]=96]="backtick";CharacterCodes[CharacterCodes["bar"]=124]="bar";CharacterCodes[CharacterCodes["caret"]=94]="caret";CharacterCodes[CharacterCodes["closeBrace"]=125]="closeBrace";CharacterCodes[CharacterCodes["closeBracket"]=93]="closeBracket";CharacterCodes[CharacterCodes["closeParen"]=41]="closeParen";CharacterCodes[CharacterCodes["colon"]=58]="colon";CharacterCodes[CharacterCodes["comma"]=44]="comma";CharacterCodes[CharacterCodes["dot"]=46]="dot";CharacterCodes[CharacterCodes["doubleQuote"]=34]="doubleQuote";CharacterCodes[CharacterCodes["equals"]=61]="equals";CharacterCodes[CharacterCodes["exclamation"]=33]="exclamation";CharacterCodes[CharacterCodes["greaterThan"]=62]="greaterThan";CharacterCodes[CharacterCodes["hash"]=35]="hash";CharacterCodes[CharacterCodes["lessThan"]=60]="lessThan";CharacterCodes[CharacterCodes["minus"]=45]="minus";CharacterCodes[CharacterCodes["openBrace"]=123]="openBrace";CharacterCodes[CharacterCodes["openBracket"]=91]="openBracket";CharacterCodes[CharacterCodes["openParen"]=40]="openParen";CharacterCodes[CharacterCodes["percent"]=37]="percent";CharacterCodes[CharacterCodes["plus"]=43]="plus";CharacterCodes[CharacterCodes["question"]=63]="question";CharacterCodes[CharacterCodes["semicolon"]=59]="semicolon";CharacterCodes[CharacterCodes["singleQuote"]=39]="singleQuote";CharacterCodes[CharacterCodes["slash"]=47]="slash";CharacterCodes[CharacterCodes["tilde"]=126]="tilde";CharacterCodes[CharacterCodes["backspace"]=8]="backspace";CharacterCodes[CharacterCodes["formFeed"]=12]="formFeed";CharacterCodes[CharacterCodes["byteOrderMark"]=65279]="byteOrderMark";CharacterCodes[CharacterCodes["tab"]=9]="tab";CharacterCodes[CharacterCodes["verticalTab"]=11]="verticalTab";})(ts.CharacterCodes||(ts.CharacterCodes={}));var CharacterCodes=ts.CharacterCodes;})(ts||(ts={}));var ts;(function(ts){(function(Ternary){Ternary[Ternary["False"]=0]="False";Ternary[Ternary["Maybe"]=1]="Maybe";Ternary[Ternary["True"]=-1]="True";})(ts.Ternary||(ts.Ternary={}));var Ternary=ts.Ternary;function createFileMap(keyMapper){var files={};return{get:get,set:set,contains:contains,remove:remove,forEachValue:forEachValueInMap,clear:clear};function forEachValueInMap(f){for(var key in files){f(key,files[key]);}}
function get(path){return files[toKey(path)];}
function set(path,value){files[toKey(path)]=value;}
function contains(path){return hasProperty(files,toKey(path));}
function remove(path){var key=toKey(path);delete files[key];}
function clear(){files={};}
function toKey(path){return keyMapper?keyMapper(path):path;}}
ts.createFileMap=createFileMap;function toPath(fileName,basePath,getCanonicalFileName){var nonCanonicalizedPath=isRootedDiskPath(fileName)?normalizePath(fileName):getNormalizedAbsolutePath(fileName,basePath);return getCanonicalFileName(nonCanonicalizedPath);}
ts.toPath=toPath;(function(Comparison){Comparison[Comparison["LessThan"]=-1]="LessThan";Comparison[Comparison["EqualTo"]=0]="EqualTo";Comparison[Comparison["GreaterThan"]=1]="GreaterThan";})(ts.Comparison||(ts.Comparison={}));var Comparison=ts.Comparison;function forEach(array,callback){if(array){for(var i=0,len=array.length;i<len;i++){var result=callback(array[i],i);if(result){return result;}}}
return undefined;}
ts.forEach=forEach;function contains(array,value){if(array){for(var _i=0,array_1=array;_i<array_1.length;_i++){var v=array_1[_i];if(v===value){return true;}}}
return false;}
ts.contains=contains;function indexOf(array,value){if(array){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i;}}}
return-1;}
ts.indexOf=indexOf;function countWhere(array,predicate){var count=0;if(array){for(var _i=0,array_2=array;_i<array_2.length;_i++){var v=array_2[_i];if(predicate(v)){count++;}}}
return count;}
ts.countWhere=countWhere;function filter(array,f){var result;if(array){result=[];for(var _i=0,array_3=array;_i<array_3.length;_i++){var item=array_3[_i];if(f(item)){result.push(item);}}}
return result;}
ts.filter=filter;function map(array,f){var result;if(array){result=[];for(var _i=0,array_4=array;_i<array_4.length;_i++){var v=array_4[_i];result.push(f(v));}}
return result;}
ts.map=map;function concatenate(array1,array2){if(!array2||!array2.length)
return array1;if(!array1||!array1.length)
return array2;return array1.concat(array2);}
ts.concatenate=concatenate;function deduplicate(array){var result;if(array){result=[];for(var _i=0,array_5=array;_i<array_5.length;_i++){var item=array_5[_i];if(!contains(result,item)){result.push(item);}}}
return result;}
ts.deduplicate=deduplicate;function sum(array,prop){var result=0;for(var _i=0,array_6=array;_i<array_6.length;_i++){var v=array_6[_i];result+=v[prop];}
return result;}
ts.sum=sum;function addRange(to,from){if(to&&from){for(var _i=0,from_1=from;_i<from_1.length;_i++){var v=from_1[_i];to.push(v);}}}
ts.addRange=addRange;function rangeEquals(array1,array2,pos,end){while(pos<end){if(array1[pos]!==array2[pos]){return false;}
pos++;}
return true;}
ts.rangeEquals=rangeEquals;function lastOrUndefined(array){if(array.length===0){return undefined;}
return array[array.length-1];}
ts.lastOrUndefined=lastOrUndefined;function binarySearch(array,value){var low=0;var high=array.length-1;while(low<=high){var middle=low+((high-low)>>1);var midValue=array[middle];if(midValue===value){return middle;}
else if(midValue>value){high=middle-1;}
else{low=middle+1;}}
return~low;}
ts.binarySearch=binarySearch;function reduceLeft(array,f,initial){if(array){var count=array.length;if(count>0){var pos=0;var result=arguments.length<=2?array[pos]:initial;pos++;while(pos<count){result=f(result,array[pos]);pos++;}
return result;}}
return initial;}
ts.reduceLeft=reduceLeft;function reduceRight(array,f,initial){if(array){var pos=array.length-1;if(pos>=0){var result=arguments.length<=2?array[pos]:initial;pos--;while(pos>=0){result=f(result,array[pos]);pos--;}
return result;}}
return initial;}
ts.reduceRight=reduceRight;var hasOwnProperty=Object.prototype.hasOwnProperty;function hasProperty(map,key){return hasOwnProperty.call(map,key);}
ts.hasProperty=hasProperty;function getKeys(map){var keys=[];for(var key in map){keys.push(key);}
return keys;}
ts.getKeys=getKeys;function getProperty(map,key){return hasOwnProperty.call(map,key)?map[key]:undefined;}
ts.getProperty=getProperty;function isEmpty(map){for(var id in map){if(hasProperty(map,id)){return false;}}
return true;}
ts.isEmpty=isEmpty;function clone(object){var result={};for(var id in object){result[id]=object[id];}
return result;}
ts.clone=clone;function extend(first,second){var result={};for(var id in first){result[id]=first[id];}
for(var id in second){if(!hasProperty(result,id)){result[id]=second[id];}}
return result;}
ts.extend=extend;function forEachValue(map,callback){var result;for(var id in map){if(result=callback(map[id]))
break;}
return result;}
ts.forEachValue=forEachValue;function forEachKey(map,callback){var result;for(var id in map){if(result=callback(id))
break;}
return result;}
ts.forEachKey=forEachKey;function lookUp(map,key){return hasProperty(map,key)?map[key]:undefined;}
ts.lookUp=lookUp;function copyMap(source,target){for(var p in source){target[p]=source[p];}}
ts.copyMap=copyMap;function arrayToMap(array,makeKey){var result={};forEach(array,function(value){result[makeKey(value)]=value;});return result;}
ts.arrayToMap=arrayToMap;function reduceProperties(map,callback,initial){var result=initial;if(map){for(var key in map){if(hasProperty(map,key)){result=callback(result,map[key],String(key));}}}
return result;}
ts.reduceProperties=reduceProperties;function isArray(value){return Array.isArray?Array.isArray(value):value instanceof Array;}
ts.isArray=isArray;function memoize(callback){var value;return function(){if(callback){value=callback();callback=undefined;}
return value;};}
ts.memoize=memoize;function formatStringFromArgs(text,args,baseIndex){baseIndex=baseIndex||0;return text.replace(/{(\d+)}/g,function(match,index){return args[+index+baseIndex];});}
ts.localizedDiagnosticMessages=undefined;function getLocaleSpecificMessage(message){return ts.localizedDiagnosticMessages&&ts.localizedDiagnosticMessages[message.key]?ts.localizedDiagnosticMessages[message.key]:message.message;}
ts.getLocaleSpecificMessage=getLocaleSpecificMessage;function createFileDiagnostic(file,start,length,message){var end=start+length;Debug.assert(start>=0,"start must be non-negative, is "+start);Debug.assert(length>=0,"length must be non-negative, is "+length);if(file){Debug.assert(start<=file.text.length,"start must be within the bounds of the file. "+start+" > "+file.text.length);Debug.assert(end<=file.text.length,"end must be the bounds of the file. "+end+" > "+file.text.length);}
var text=getLocaleSpecificMessage(message);if(arguments.length>4){text=formatStringFromArgs(text,arguments,4);}
return{file:file,start:start,length:length,messageText:text,category:message.category,code:message.code};}
ts.createFileDiagnostic=createFileDiagnostic;function createCompilerDiagnostic(message){var text=getLocaleSpecificMessage(message);if(arguments.length>1){text=formatStringFromArgs(text,arguments,1);}
return{file:undefined,start:undefined,length:undefined,messageText:text,category:message.category,code:message.code};}
ts.createCompilerDiagnostic=createCompilerDiagnostic;function chainDiagnosticMessages(details,message){var text=getLocaleSpecificMessage(message);if(arguments.length>2){text=formatStringFromArgs(text,arguments,2);}
return{messageText:text,category:message.category,code:message.code,next:details};}
ts.chainDiagnosticMessages=chainDiagnosticMessages;function concatenateDiagnosticMessageChains(headChain,tailChain){var lastChain=headChain;while(lastChain.next){lastChain=lastChain.next;}
lastChain.next=tailChain;return headChain;}
ts.concatenateDiagnosticMessageChains=concatenateDiagnosticMessageChains;function compareValues(a,b){if(a===b)
return 0 ;if(a===undefined)
return-1 ;if(b===undefined)
return 1 ;return a<b?-1 :1 ;}
ts.compareValues=compareValues;function getDiagnosticFileName(diagnostic){return diagnostic.file?diagnostic.file.fileName:undefined;}
function compareDiagnostics(d1,d2){return compareValues(getDiagnosticFileName(d1),getDiagnosticFileName(d2))||compareValues(d1.start,d2.start)||compareValues(d1.length,d2.length)||compareValues(d1.code,d2.code)||compareMessageText(d1.messageText,d2.messageText)||0 ;}
ts.compareDiagnostics=compareDiagnostics;function compareMessageText(text1,text2){while(text1&&text2){var string1=typeof text1==="string"?text1:text1.messageText;var string2=typeof text2==="string"?text2:text2.messageText;var res=compareValues(string1,string2);if(res){return res;}
text1=typeof text1==="string"?undefined:text1.next;text2=typeof text2==="string"?undefined:text2.next;}
if(!text1&&!text2){return 0 ;}
return text1?1 :-1 ;}
function sortAndDeduplicateDiagnostics(diagnostics){return deduplicateSortedDiagnostics(diagnostics.sort(compareDiagnostics));}
ts.sortAndDeduplicateDiagnostics=sortAndDeduplicateDiagnostics;function deduplicateSortedDiagnostics(diagnostics){if(diagnostics.length<2){return diagnostics;}
var newDiagnostics=[diagnostics[0]];var previousDiagnostic=diagnostics[0];for(var i=1;i<diagnostics.length;i++){var currentDiagnostic=diagnostics[i];var isDupe=compareDiagnostics(currentDiagnostic,previousDiagnostic)===0 ;if(!isDupe){newDiagnostics.push(currentDiagnostic);previousDiagnostic=currentDiagnostic;}}
return newDiagnostics;}
ts.deduplicateSortedDiagnostics=deduplicateSortedDiagnostics;function normalizeSlashes(path){return path.replace(/\\/g,"/");}
ts.normalizeSlashes=normalizeSlashes;function getRootLength(path){if(path.charCodeAt(0)===47 ){if(path.charCodeAt(1)!==47 )
return 1;var p1=path.indexOf("/",2);if(p1<0)
return 2;var p2=path.indexOf("/",p1+1);if(p2<0)
return p1+1;return p2+1;}
if(path.charCodeAt(1)===58 ){if(path.charCodeAt(2)===47 )
return 3;return 2;}
if(path.lastIndexOf("file:///",0)===0){return"file:///".length;}
var idx=path.indexOf("://");if(idx!==-1){return idx+"://".length;}
return 0;}
ts.getRootLength=getRootLength;ts.directorySeparator="/";function getNormalizedParts(normalizedSlashedPath,rootLength){var parts=normalizedSlashedPath.substr(rootLength).split(ts.directorySeparator);var normalized=[];for(var _i=0,parts_1=parts;_i<parts_1.length;_i++){var part=parts_1[_i];if(part!=="."){if(part===".."&&normalized.length>0&&lastOrUndefined(normalized)!==".."){normalized.pop();}
else{if(part){normalized.push(part);}}}}
return normalized;}
function normalizePath(path){path=normalizeSlashes(path);var rootLength=getRootLength(path);var normalized=getNormalizedParts(path,rootLength);return path.substr(0,rootLength)+normalized.join(ts.directorySeparator);}
ts.normalizePath=normalizePath;function getDirectoryPath(path){return path.substr(0,Math.max(getRootLength(path),path.lastIndexOf(ts.directorySeparator)));}
ts.getDirectoryPath=getDirectoryPath;function isUrl(path){return path&&!isRootedDiskPath(path)&&path.indexOf("://")!==-1;}
ts.isUrl=isUrl;function isRootedDiskPath(path){return getRootLength(path)!==0;}
ts.isRootedDiskPath=isRootedDiskPath;function normalizedPathComponents(path,rootLength){var normalizedParts=getNormalizedParts(path,rootLength);return[path.substr(0,rootLength)].concat(normalizedParts);}
function getNormalizedPathComponents(path,currentDirectory){path=normalizeSlashes(path);var rootLength=getRootLength(path);if(rootLength===0){path=combinePaths(normalizeSlashes(currentDirectory),path);rootLength=getRootLength(path);}
return normalizedPathComponents(path,rootLength);}
ts.getNormalizedPathComponents=getNormalizedPathComponents;function getNormalizedAbsolutePath(fileName,currentDirectory){return getNormalizedPathFromPathComponents(getNormalizedPathComponents(fileName,currentDirectory));}
ts.getNormalizedAbsolutePath=getNormalizedAbsolutePath;function getNormalizedPathFromPathComponents(pathComponents){if(pathComponents&&pathComponents.length){return pathComponents[0]+pathComponents.slice(1).join(ts.directorySeparator);}}
ts.getNormalizedPathFromPathComponents=getNormalizedPathFromPathComponents;function getNormalizedPathComponentsOfUrl(url){var urlLength=url.length;var rootLength=url.indexOf("://")+"://".length;while(rootLength<urlLength){if(url.charCodeAt(rootLength)===47 ){rootLength++;}
else{break;}}
if(rootLength===urlLength){return[url];}
var indexOfNextSlash=url.indexOf(ts.directorySeparator,rootLength);if(indexOfNextSlash!==-1){rootLength=indexOfNextSlash+1;return normalizedPathComponents(url,rootLength);}
else{return[url+ts.directorySeparator];}}
function getNormalizedPathOrUrlComponents(pathOrUrl,currentDirectory){if(isUrl(pathOrUrl)){return getNormalizedPathComponentsOfUrl(pathOrUrl);}
else{return getNormalizedPathComponents(pathOrUrl,currentDirectory);}}
function getRelativePathToDirectoryOrUrl(directoryPathOrUrl,relativeOrAbsolutePath,currentDirectory,getCanonicalFileName,isAbsolutePathAnUrl){var pathComponents=getNormalizedPathOrUrlComponents(relativeOrAbsolutePath,currentDirectory);var directoryComponents=getNormalizedPathOrUrlComponents(directoryPathOrUrl,currentDirectory);if(directoryComponents.length>1&&lastOrUndefined(directoryComponents)===""){directoryComponents.length--;}
var joinStartIndex;for(joinStartIndex=0;joinStartIndex<pathComponents.length&&joinStartIndex<directoryComponents.length;joinStartIndex++){if(getCanonicalFileName(directoryComponents[joinStartIndex])!==getCanonicalFileName(pathComponents[joinStartIndex])){break;}}
if(joinStartIndex){var relativePath="";var relativePathComponents=pathComponents.slice(joinStartIndex,pathComponents.length);for(;joinStartIndex<directoryComponents.length;joinStartIndex++){if(directoryComponents[joinStartIndex]!==""){relativePath=relativePath+".."+ts.directorySeparator;}}
return relativePath+relativePathComponents.join(ts.directorySeparator);}
var absolutePath=getNormalizedPathFromPathComponents(pathComponents);if(isAbsolutePathAnUrl&&isRootedDiskPath(absolutePath)){absolutePath="file:///"+absolutePath;}
return absolutePath;}
ts.getRelativePathToDirectoryOrUrl=getRelativePathToDirectoryOrUrl;function getBaseFileName(path){if(path===undefined){return undefined;}
var i=path.lastIndexOf(ts.directorySeparator);return i<0?path:path.substring(i+1);}
ts.getBaseFileName=getBaseFileName;function combinePaths(path1,path2){if(!(path1&&path1.length))
return path2;if(!(path2&&path2.length))
return path1;if(getRootLength(path2)!==0)
return path2;if(path1.charAt(path1.length-1)===ts.directorySeparator)
return path1+path2;return path1+ts.directorySeparator+path2;}
ts.combinePaths=combinePaths;function fileExtensionIs(path,extension){var pathLen=path.length;var extLen=extension.length;return pathLen>extLen&&path.substr(pathLen-extLen,extLen)===extension;}
ts.fileExtensionIs=fileExtensionIs;function ensureScriptKind(fileName,scriptKind){return(scriptKind||getScriptKindFromFileName(fileName))||3 ;}
ts.ensureScriptKind=ensureScriptKind;function getScriptKindFromFileName(fileName){var ext=fileName.substr(fileName.lastIndexOf("."));switch(ext.toLowerCase()){case".js":return 1 ;case".jsx":return 2 ;case".ts":return 3 ;case".tsx":return 4 ;default:return 0 ;}}
ts.getScriptKindFromFileName=getScriptKindFromFileName;ts.supportedTypeScriptExtensions=[".ts",".tsx",".d.ts"];ts.supportedJavascriptExtensions=[".js",".jsx"];var allSupportedExtensions=ts.supportedTypeScriptExtensions.concat(ts.supportedJavascriptExtensions);function getSupportedExtensions(options){return options&&options.allowJs?allSupportedExtensions:ts.supportedTypeScriptExtensions;}
ts.getSupportedExtensions=getSupportedExtensions;function isSupportedSourceFileName(fileName,compilerOptions){if(!fileName){return false;}
for(var _i=0,_a=getSupportedExtensions(compilerOptions);_i<_a.length;_i++){var extension=_a[_i];if(fileExtensionIs(fileName,extension)){return true;}}
return false;}
ts.isSupportedSourceFileName=isSupportedSourceFileName;var extensionsToRemove=[".d.ts",".ts",".js",".tsx",".jsx"];function removeFileExtension(path){for(var _i=0,extensionsToRemove_1=extensionsToRemove;_i<extensionsToRemove_1.length;_i++){var ext=extensionsToRemove_1[_i];if(fileExtensionIs(path,ext)){return path.substr(0,path.length-ext.length);}}
return path;}
ts.removeFileExtension=removeFileExtension;function Symbol(flags,name){this.flags=flags;this.name=name;this.declarations=undefined;}
function Type(checker,flags){this.flags=flags;}
function Signature(checker){}
function Node(kind,pos,end){this.kind=kind;this.pos=pos;this.end=end;this.flags=0 ;this.parent=undefined;}
ts.objectAllocator={getNodeConstructor:function(){return Node;},getSourceFileConstructor:function(){return Node;},getSymbolConstructor:function(){return Symbol;},getTypeConstructor:function(){return Type;},getSignatureConstructor:function(){return Signature;}};(function(AssertionLevel){AssertionLevel[AssertionLevel["None"]=0]="None";AssertionLevel[AssertionLevel["Normal"]=1]="Normal";AssertionLevel[AssertionLevel["Aggressive"]=2]="Aggressive";AssertionLevel[AssertionLevel["VeryAggressive"]=3]="VeryAggressive";})(ts.AssertionLevel||(ts.AssertionLevel={}));var AssertionLevel=ts.AssertionLevel;var Debug;(function(Debug){var currentAssertionLevel=0 ;function shouldAssert(level){return currentAssertionLevel>=level;}
Debug.shouldAssert=shouldAssert;function assert(expression,message,verboseDebugInfo){if(!expression){var verboseDebugString="";if(verboseDebugInfo){verboseDebugString="\r\nVerbose Debug Information: "+verboseDebugInfo();}
debugger;throw new Error("Debug Failure. False expression: "+(message||"")+verboseDebugString);}}
Debug.assert=assert;function fail(message){Debug.assert(false,message);}
Debug.fail=fail;})(Debug=ts.Debug||(ts.Debug={}));function copyListRemovingItem(item,list){var copiedList=[];for(var _i=0,list_1=list;_i<list_1.length;_i++){var e=list_1[_i];if(e!==item){copiedList.push(e);}}
return copiedList;}
ts.copyListRemovingItem=copyListRemovingItem;function createGetCanonicalFileName(useCaseSensitivefileNames){return useCaseSensitivefileNames?(function(fileName){return fileName;}):(function(fileName){return fileName.toLowerCase();});}
ts.createGetCanonicalFileName=createGetCanonicalFileName;})(ts||(ts={}));var ts;(function(ts){ts.sys=(function(){function getWScriptSystem(){var fso=new ActiveXObject("Scripting.FileSystemObject");var fileStream=new ActiveXObject("ADODB.Stream");fileStream.Type=2 ;var binaryStream=new ActiveXObject("ADODB.Stream");binaryStream.Type=1 ;var args=[];for(var i=0;i<WScript.Arguments.length;i++){args[i]=WScript.Arguments.Item(i);}
function readFile(fileName,encoding){if(!fso.FileExists(fileName)){return undefined;}
fileStream.Open();try{if(encoding){fileStream.Charset=encoding;fileStream.LoadFromFile(fileName);}
else{fileStream.Charset="x-ansi";fileStream.LoadFromFile(fileName);var bom=fileStream.ReadText(2)||"";fileStream.Position=0;fileStream.Charset=bom.length>=2&&(bom.charCodeAt(0)===0xFF&&bom.charCodeAt(1)===0xFE||bom.charCodeAt(0)===0xFE&&bom.charCodeAt(1)===0xFF)?"unicode":"utf-8";}
return fileStream.ReadText();}
catch(e){throw e;}
finally{fileStream.Close();}}
function writeFile(fileName,data,writeByteOrderMark){fileStream.Open();binaryStream.Open();try{fileStream.Charset="utf-8";fileStream.WriteText(data);if(writeByteOrderMark){fileStream.Position=0;}
else{fileStream.Position=3;}
fileStream.CopyTo(binaryStream);binaryStream.SaveToFile(fileName,2 );}
finally{binaryStream.Close();fileStream.Close();}}
function getCanonicalPath(path){return path.toLowerCase();}
function getNames(collection){var result=[];for(var e=new Enumerator(collection);!e.atEnd();e.moveNext()){result.push(e.item().Name);}
return result.sort();}
function readDirectory(path,extension,exclude){var result=[];exclude=ts.map(exclude,function(s){return getCanonicalPath(ts.combinePaths(path,s));});visitDirectory(path);return result;function visitDirectory(path){var folder=fso.GetFolder(path||".");var files=getNames(folder.files);for(var _i=0,files_1=files;_i<files_1.length;_i++){var current=files_1[_i];var name_1=ts.combinePaths(path,current);if((!extension||ts.fileExtensionIs(name_1,extension))&&!ts.contains(exclude,getCanonicalPath(name_1))){result.push(name_1);}}
var subfolders=getNames(folder.subfolders);for(var _a=0,subfolders_1=subfolders;_a<subfolders_1.length;_a++){var current=subfolders_1[_a];var name_2=ts.combinePaths(path,current);if(!ts.contains(exclude,getCanonicalPath(name_2))){visitDirectory(name_2);}}}}
return{args:args,newLine:"\r\n",useCaseSensitiveFileNames:false,write:function(s){WScript.StdOut.Write(s);},readFile:readFile,writeFile:writeFile,resolvePath:function(path){return fso.GetAbsolutePathName(path);},fileExists:function(path){return fso.FileExists(path);},directoryExists:function(path){return fso.FolderExists(path);},createDirectory:function(directoryName){if(!this.directoryExists(directoryName)){fso.CreateFolder(directoryName);}},getExecutingFilePath:function(){return WScript.ScriptFullName;},getCurrentDirectory:function(){return new ActiveXObject("WScript.Shell").CurrentDirectory;},readDirectory:readDirectory,exit:function(exitCode){try{WScript.Quit(exitCode);}
catch(e){}}};}
function getNodeSystem(){var _fs=require("fs");var _path=require("path");var _os=require("os");function createPollingWatchedFileSet(interval,chunkSize){if(interval===void 0){interval=2500;}
if(chunkSize===void 0){chunkSize=30;}
var watchedFiles=[];var nextFileToCheck=0;var watchTimer;function getModifiedTime(fileName){return _fs.statSync(fileName).mtime;}
function poll(checkedIndex){var watchedFile=watchedFiles[checkedIndex];if(!watchedFile){return;}
_fs.stat(watchedFile.filePath,function(err,stats){if(err){watchedFile.callback(watchedFile.filePath);}
else if(watchedFile.mtime.getTime()!==stats.mtime.getTime()){watchedFile.mtime=getModifiedTime(watchedFile.filePath);watchedFile.callback(watchedFile.filePath,watchedFile.mtime.getTime()===0);}});}
function startWatchTimer(){watchTimer=setInterval(function(){var count=0;var nextToCheck=nextFileToCheck;var firstCheck=-1;while((count<chunkSize)&&(nextToCheck!==firstCheck)){poll(nextToCheck);if(firstCheck<0){firstCheck=nextToCheck;}
nextToCheck++;if(nextToCheck===watchedFiles.length){nextToCheck=0;}
count++;}
nextFileToCheck=nextToCheck;},interval);}
function addFile(filePath,callback){var file={filePath:filePath,callback:callback,mtime:getModifiedTime(filePath)};watchedFiles.push(file);if(watchedFiles.length===1){startWatchTimer();}
return file;}
function removeFile(file){watchedFiles=ts.copyListRemovingItem(file,watchedFiles);}
return{getModifiedTime:getModifiedTime,poll:poll,startWatchTimer:startWatchTimer,addFile:addFile,removeFile:removeFile};}
function createWatchedFileSet(){var dirWatchers=ts.createFileMap();var fileWatcherCallbacks=ts.createFileMap();return{addFile:addFile,removeFile:removeFile};function reduceDirWatcherRefCountForFile(filePath){var dirPath=ts.getDirectoryPath(filePath);if(dirWatchers.contains(dirPath)){var watcher=dirWatchers.get(dirPath);watcher.referenceCount-=1;if(watcher.referenceCount<=0){watcher.close();dirWatchers.remove(dirPath);}}}
function addDirWatcher(dirPath){if(dirWatchers.contains(dirPath)){var watcher_1=dirWatchers.get(dirPath);watcher_1.referenceCount+=1;return;}
var watcher=_fs.watch(dirPath,{persistent:true},function(eventName,relativeFileName){return fileEventHandler(eventName,relativeFileName,dirPath);});watcher.referenceCount=1;dirWatchers.set(dirPath,watcher);return;}
function addFileWatcherCallback(filePath,callback){if(fileWatcherCallbacks.contains(filePath)){fileWatcherCallbacks.get(filePath).push(callback);}
else{fileWatcherCallbacks.set(filePath,[callback]);}}
function addFile(filePath,callback){addFileWatcherCallback(filePath,callback);addDirWatcher(ts.getDirectoryPath(filePath));return{filePath:filePath,callback:callback};}
function removeFile(watchedFile){removeFileWatcherCallback(watchedFile.filePath,watchedFile.callback);reduceDirWatcherRefCountForFile(watchedFile.filePath);}
function removeFileWatcherCallback(filePath,callback){if(fileWatcherCallbacks.contains(filePath)){var newCallbacks=ts.copyListRemovingItem(callback,fileWatcherCallbacks.get(filePath));if(newCallbacks.length===0){fileWatcherCallbacks.remove(filePath);}
else{fileWatcherCallbacks.set(filePath,newCallbacks);}}}
function fileEventHandler(eventName,relativeFileName,baseDirPath){var filePath=typeof relativeFileName!=="string"?undefined:ts.toPath(relativeFileName,baseDirPath,ts.createGetCanonicalFileName(ts.sys.useCaseSensitiveFileNames));if((eventName==="change"||eventName==="rename")&&fileWatcherCallbacks.contains(filePath)){for(var _i=0,_a=fileWatcherCallbacks.get(filePath);_i<_a.length;_i++){var fileCallback=_a[_i];fileCallback(filePath);}}}}
var pollingWatchedFileSet=createPollingWatchedFileSet();var watchedFileSet=createWatchedFileSet();function isNode4OrLater(){return parseInt(process.version.charAt(1))>=4;}
var platform=_os.platform();var useCaseSensitiveFileNames=platform!=="win32"&&platform!=="win64"&&platform!=="darwin";function readFile(fileName,encoding){if(!_fs.existsSync(fileName)){return undefined;}
var buffer=_fs.readFileSync(fileName);var len=buffer.length;if(len>=2&&buffer[0]===0xFE&&buffer[1]===0xFF){len&=~1;for(var i=0;i<len;i+=2){var temp=buffer[i];buffer[i]=buffer[i+1];buffer[i+1]=temp;}
return buffer.toString("utf16le",2);}
if(len>=2&&buffer[0]===0xFF&&buffer[1]===0xFE){return buffer.toString("utf16le",2);}
if(len>=3&&buffer[0]===0xEF&&buffer[1]===0xBB&&buffer[2]===0xBF){return buffer.toString("utf8",3);}
return buffer.toString("utf8");}
function writeFile(fileName,data,writeByteOrderMark){if(writeByteOrderMark){data="\uFEFF"+data;}
var fd;try{fd=_fs.openSync(fileName,"w");_fs.writeSync(fd,data,undefined,"utf8");}
finally{if(fd!==undefined){_fs.closeSync(fd);}}}
function getCanonicalPath(path){return useCaseSensitiveFileNames?path:path.toLowerCase();}
function readDirectory(path,extension,exclude){var result=[];exclude=ts.map(exclude,function(s){return getCanonicalPath(ts.combinePaths(path,s));});visitDirectory(path);return result;function visitDirectory(path){var files=_fs.readdirSync(path||".").sort();var directories=[];for(var _i=0,files_2=files;_i<files_2.length;_i++){var current=files_2[_i];var name_3=ts.combinePaths(path,current);if(!ts.contains(exclude,getCanonicalPath(name_3))){try{var stat=_fs.statSync(name_3);if(stat.isFile()){if(!extension||ts.fileExtensionIs(name_3,extension)){result.push(name_3);}}
else if(stat.isDirectory()){directories.push(name_3);}}
catch(e){}}}
for(var _a=0,directories_1=directories;_a<directories_1.length;_a++){var current=directories_1[_a];visitDirectory(current);}}}
return{args:process.argv.slice(2),newLine:_os.EOL,useCaseSensitiveFileNames:useCaseSensitiveFileNames,write:function(s){process.stdout.write(s);},readFile:readFile,writeFile:writeFile,watchFile:function(filePath,callback){var watchSet=isNode4OrLater()?watchedFileSet:pollingWatchedFileSet;var watchedFile=watchSet.addFile(filePath,callback);return{close:function(){return watchSet.removeFile(watchedFile);}};},watchDirectory:function(path,callback,recursive){var options;if(isNode4OrLater()&&(process.platform==="win32"||process.platform==="darwin")){options={persistent:true,recursive:!!recursive};}
else{options={persistent:true};}
return _fs.watch(path,options,function(eventName,relativeFileName){if(eventName==="rename"){callback(!relativeFileName?relativeFileName:ts.normalizePath(ts.combinePaths(path,relativeFileName)));};});},resolvePath:function(path){return _path.resolve(path);},fileExists:function(path){return _fs.existsSync(path);},directoryExists:function(path){return _fs.existsSync(path)&&_fs.statSync(path).isDirectory();},createDirectory:function(directoryName){if(!this.directoryExists(directoryName)){_fs.mkdirSync(directoryName);}},getExecutingFilePath:function(){return __filename;},getCurrentDirectory:function(){return process.cwd();},readDirectory:readDirectory,getMemoryUsage:function(){if(global.gc){global.gc();}
return process.memoryUsage().heapUsed;},exit:function(exitCode){process.exit(exitCode);}};}
function getChakraSystem(){return{newLine:ChakraHost.newLine||"\r\n",args:ChakraHost.args,useCaseSensitiveFileNames:!!ChakraHost.useCaseSensitiveFileNames,write:ChakraHost.echo,readFile:function(path,encoding){return ChakraHost.readFile(path);},writeFile:function(path,data,writeByteOrderMark){if(writeByteOrderMark){data="\uFEFF"+data;}
ChakraHost.writeFile(path,data);},resolvePath:ChakraHost.resolvePath,fileExists:ChakraHost.fileExists,directoryExists:ChakraHost.directoryExists,createDirectory:ChakraHost.createDirectory,getExecutingFilePath:function(){return ChakraHost.executingFile;},getCurrentDirectory:function(){return ChakraHost.currentDirectory;},readDirectory:ChakraHost.readDirectory,exit:ChakraHost.quit};}
if(typeof WScript!=="undefined"&&typeof ActiveXObject==="function"){return getWScriptSystem();}
else if(typeof process!=="undefined"&&process.nextTick&&!process.browser&&typeof require!=="undefined"){return getNodeSystem();}
else if(typeof ChakraHost!=="undefined"){return getChakraSystem();}
else{return undefined;}})();})(ts||(ts={}));var ts;(function(ts){ts.Diagnostics={Unterminated_string_literal:{code:1002,category:ts.DiagnosticCategory.Error,key:"Unterminated_string_literal_1002",message:"Unterminated string literal."},Identifier_expected:{code:1003,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_1003",message:"Identifier expected."},_0_expected:{code:1005,category:ts.DiagnosticCategory.Error,key:"_0_expected_1005",message:"'{0}' expected."},A_file_cannot_have_a_reference_to_itself:{code:1006,category:ts.DiagnosticCategory.Error,key:"A_file_cannot_have_a_reference_to_itself_1006",message:"A file cannot have a reference to itself."},Trailing_comma_not_allowed:{code:1009,category:ts.DiagnosticCategory.Error,key:"Trailing_comma_not_allowed_1009",message:"Trailing comma not allowed."},Asterisk_Slash_expected:{code:1010,category:ts.DiagnosticCategory.Error,key:"Asterisk_Slash_expected_1010",message:"'*/' expected."},Unexpected_token:{code:1012,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_1012",message:"Unexpected token."},A_rest_parameter_must_be_last_in_a_parameter_list:{code:1014,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_must_be_last_in_a_parameter_list_1014",message:"A rest parameter must be last in a parameter list."},Parameter_cannot_have_question_mark_and_initializer:{code:1015,category:ts.DiagnosticCategory.Error,key:"Parameter_cannot_have_question_mark_and_initializer_1015",message:"Parameter cannot have question mark and initializer."},A_required_parameter_cannot_follow_an_optional_parameter:{code:1016,category:ts.DiagnosticCategory.Error,key:"A_required_parameter_cannot_follow_an_optional_parameter_1016",message:"A required parameter cannot follow an optional parameter."},An_index_signature_cannot_have_a_rest_parameter:{code:1017,category:ts.DiagnosticCategory.Error,key:"An_index_signature_cannot_have_a_rest_parameter_1017",message:"An index signature cannot have a rest parameter."},An_index_signature_parameter_cannot_have_an_accessibility_modifier:{code:1018,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_an_accessibility_modifier_1018",message:"An index signature parameter cannot have an accessibility modifier."},An_index_signature_parameter_cannot_have_a_question_mark:{code:1019,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_a_question_mark_1019",message:"An index signature parameter cannot have a question mark."},An_index_signature_parameter_cannot_have_an_initializer:{code:1020,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_cannot_have_an_initializer_1020",message:"An index signature parameter cannot have an initializer."},An_index_signature_must_have_a_type_annotation:{code:1021,category:ts.DiagnosticCategory.Error,key:"An_index_signature_must_have_a_type_annotation_1021",message:"An index signature must have a type annotation."},An_index_signature_parameter_must_have_a_type_annotation:{code:1022,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_must_have_a_type_annotation_1022",message:"An index signature parameter must have a type annotation."},An_index_signature_parameter_type_must_be_string_or_number:{code:1023,category:ts.DiagnosticCategory.Error,key:"An_index_signature_parameter_type_must_be_string_or_number_1023",message:"An index signature parameter type must be 'string' or 'number'."},Accessibility_modifier_already_seen:{code:1028,category:ts.DiagnosticCategory.Error,key:"Accessibility_modifier_already_seen_1028",message:"Accessibility modifier already seen."},_0_modifier_must_precede_1_modifier:{code:1029,category:ts.DiagnosticCategory.Error,key:"_0_modifier_must_precede_1_modifier_1029",message:"'{0}' modifier must precede '{1}' modifier."},_0_modifier_already_seen:{code:1030,category:ts.DiagnosticCategory.Error,key:"_0_modifier_already_seen_1030",message:"'{0}' modifier already seen."},_0_modifier_cannot_appear_on_a_class_element:{code:1031,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_class_element_1031",message:"'{0}' modifier cannot appear on a class element."},super_must_be_followed_by_an_argument_list_or_member_access:{code:1034,category:ts.DiagnosticCategory.Error,key:"super_must_be_followed_by_an_argument_list_or_member_access_1034",message:"'super' must be followed by an argument list or member access."},Only_ambient_modules_can_use_quoted_names:{code:1035,category:ts.DiagnosticCategory.Error,key:"Only_ambient_modules_can_use_quoted_names_1035",message:"Only ambient modules can use quoted names."},Statements_are_not_allowed_in_ambient_contexts:{code:1036,category:ts.DiagnosticCategory.Error,key:"Statements_are_not_allowed_in_ambient_contexts_1036",message:"Statements are not allowed in ambient contexts."},A_declare_modifier_cannot_be_used_in_an_already_ambient_context:{code:1038,category:ts.DiagnosticCategory.Error,key:"A_declare_modifier_cannot_be_used_in_an_already_ambient_context_1038",message:"A 'declare' modifier cannot be used in an already ambient context."},Initializers_are_not_allowed_in_ambient_contexts:{code:1039,category:ts.DiagnosticCategory.Error,key:"Initializers_are_not_allowed_in_ambient_contexts_1039",message:"Initializers are not allowed in ambient contexts."},_0_modifier_cannot_be_used_in_an_ambient_context:{code:1040,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_in_an_ambient_context_1040",message:"'{0}' modifier cannot be used in an ambient context."},_0_modifier_cannot_be_used_with_a_class_declaration:{code:1041,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_with_a_class_declaration_1041",message:"'{0}' modifier cannot be used with a class declaration."},_0_modifier_cannot_be_used_here:{code:1042,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_here_1042",message:"'{0}' modifier cannot be used here."},_0_modifier_cannot_appear_on_a_data_property:{code:1043,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_data_property_1043",message:"'{0}' modifier cannot appear on a data property."},_0_modifier_cannot_appear_on_a_module_element:{code:1044,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_module_element_1044",message:"'{0}' modifier cannot appear on a module element."},A_0_modifier_cannot_be_used_with_an_interface_declaration:{code:1045,category:ts.DiagnosticCategory.Error,key:"A_0_modifier_cannot_be_used_with_an_interface_declaration_1045",message:"A '{0}' modifier cannot be used with an interface declaration."},A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file:{code:1046,category:ts.DiagnosticCategory.Error,key:"A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file_1046",message:"A 'declare' modifier is required for a top level declaration in a .d.ts file."},A_rest_parameter_cannot_be_optional:{code:1047,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_cannot_be_optional_1047",message:"A rest parameter cannot be optional."},A_rest_parameter_cannot_have_an_initializer:{code:1048,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_cannot_have_an_initializer_1048",message:"A rest parameter cannot have an initializer."},A_set_accessor_must_have_exactly_one_parameter:{code:1049,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_must_have_exactly_one_parameter_1049",message:"A 'set' accessor must have exactly one parameter."},A_set_accessor_cannot_have_an_optional_parameter:{code:1051,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_an_optional_parameter_1051",message:"A 'set' accessor cannot have an optional parameter."},A_set_accessor_parameter_cannot_have_an_initializer:{code:1052,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_parameter_cannot_have_an_initializer_1052",message:"A 'set' accessor parameter cannot have an initializer."},A_set_accessor_cannot_have_rest_parameter:{code:1053,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_rest_parameter_1053",message:"A 'set' accessor cannot have rest parameter."},A_get_accessor_cannot_have_parameters:{code:1054,category:ts.DiagnosticCategory.Error,key:"A_get_accessor_cannot_have_parameters_1054",message:"A 'get' accessor cannot have parameters."},Type_0_is_not_a_valid_async_function_return_type:{code:1055,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_a_valid_async_function_return_type_1055",message:"Type '{0}' is not a valid async function return type."},Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:{code:1056,category:ts.DiagnosticCategory.Error,key:"Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher_1056",message:"Accessors are only available when targeting ECMAScript 5 and higher."},An_async_function_or_method_must_have_a_valid_awaitable_return_type:{code:1057,category:ts.DiagnosticCategory.Error,key:"An_async_function_or_method_must_have_a_valid_awaitable_return_type_1057",message:"An async function or method must have a valid awaitable return type."},Operand_for_await_does_not_have_a_valid_callable_then_member:{code:1058,category:ts.DiagnosticCategory.Error,key:"Operand_for_await_does_not_have_a_valid_callable_then_member_1058",message:"Operand for 'await' does not have a valid callable 'then' member."},Return_expression_in_async_function_does_not_have_a_valid_callable_then_member:{code:1059,category:ts.DiagnosticCategory.Error,key:"Return_expression_in_async_function_does_not_have_a_valid_callable_then_member_1059",message:"Return expression in async function does not have a valid callable 'then' member."},Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member:{code:1060,category:ts.DiagnosticCategory.Error,key:"Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member_1060",message:"Expression body for async arrow function does not have a valid callable 'then' member."},Enum_member_must_have_initializer:{code:1061,category:ts.DiagnosticCategory.Error,key:"Enum_member_must_have_initializer_1061",message:"Enum member must have initializer."},_0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method:{code:1062,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method_1062",message:"{0} is referenced directly or indirectly in the fulfillment callback of its own 'then' method."},An_export_assignment_cannot_be_used_in_a_namespace:{code:1063,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_be_used_in_a_namespace_1063",message:"An export assignment cannot be used in a namespace."},The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type:{code:1064,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_1064",message:"The return type of an async function or method must be the global Promise<T> type."},In_ambient_enum_declarations_member_initializer_must_be_constant_expression:{code:1066,category:ts.DiagnosticCategory.Error,key:"In_ambient_enum_declarations_member_initializer_must_be_constant_expression_1066",message:"In ambient enum declarations member initializer must be constant expression."},Unexpected_token_A_constructor_method_accessor_or_property_was_expected:{code:1068,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_A_constructor_method_accessor_or_property_was_expected_1068",message:"Unexpected token. A constructor, method, accessor, or property was expected."},A_0_modifier_cannot_be_used_with_an_import_declaration:{code:1079,category:ts.DiagnosticCategory.Error,key:"A_0_modifier_cannot_be_used_with_an_import_declaration_1079",message:"A '{0}' modifier cannot be used with an import declaration."},Invalid_reference_directive_syntax:{code:1084,category:ts.DiagnosticCategory.Error,key:"Invalid_reference_directive_syntax_1084",message:"Invalid 'reference' directive syntax."},Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher:{code:1085,category:ts.DiagnosticCategory.Error,key:"Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher_1085",message:"Octal literals are not available when targeting ECMAScript 5 and higher."},An_accessor_cannot_be_declared_in_an_ambient_context:{code:1086,category:ts.DiagnosticCategory.Error,key:"An_accessor_cannot_be_declared_in_an_ambient_context_1086",message:"An accessor cannot be declared in an ambient context."},_0_modifier_cannot_appear_on_a_constructor_declaration:{code:1089,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_constructor_declaration_1089",message:"'{0}' modifier cannot appear on a constructor declaration."},_0_modifier_cannot_appear_on_a_parameter:{code:1090,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_appear_on_a_parameter_1090",message:"'{0}' modifier cannot appear on a parameter."},Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:{code:1091,category:ts.DiagnosticCategory.Error,key:"Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement_1091",message:"Only a single variable declaration is allowed in a 'for...in' statement."},Type_parameters_cannot_appear_on_a_constructor_declaration:{code:1092,category:ts.DiagnosticCategory.Error,key:"Type_parameters_cannot_appear_on_a_constructor_declaration_1092",message:"Type parameters cannot appear on a constructor declaration."},Type_annotation_cannot_appear_on_a_constructor_declaration:{code:1093,category:ts.DiagnosticCategory.Error,key:"Type_annotation_cannot_appear_on_a_constructor_declaration_1093",message:"Type annotation cannot appear on a constructor declaration."},An_accessor_cannot_have_type_parameters:{code:1094,category:ts.DiagnosticCategory.Error,key:"An_accessor_cannot_have_type_parameters_1094",message:"An accessor cannot have type parameters."},A_set_accessor_cannot_have_a_return_type_annotation:{code:1095,category:ts.DiagnosticCategory.Error,key:"A_set_accessor_cannot_have_a_return_type_annotation_1095",message:"A 'set' accessor cannot have a return type annotation."},An_index_signature_must_have_exactly_one_parameter:{code:1096,category:ts.DiagnosticCategory.Error,key:"An_index_signature_must_have_exactly_one_parameter_1096",message:"An index signature must have exactly one parameter."},_0_list_cannot_be_empty:{code:1097,category:ts.DiagnosticCategory.Error,key:"_0_list_cannot_be_empty_1097",message:"'{0}' list cannot be empty."},Type_parameter_list_cannot_be_empty:{code:1098,category:ts.DiagnosticCategory.Error,key:"Type_parameter_list_cannot_be_empty_1098",message:"Type parameter list cannot be empty."},Type_argument_list_cannot_be_empty:{code:1099,category:ts.DiagnosticCategory.Error,key:"Type_argument_list_cannot_be_empty_1099",message:"Type argument list cannot be empty."},Invalid_use_of_0_in_strict_mode:{code:1100,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_in_strict_mode_1100",message:"Invalid use of '{0}' in strict mode."},with_statements_are_not_allowed_in_strict_mode:{code:1101,category:ts.DiagnosticCategory.Error,key:"with_statements_are_not_allowed_in_strict_mode_1101",message:"'with' statements are not allowed in strict mode."},delete_cannot_be_called_on_an_identifier_in_strict_mode:{code:1102,category:ts.DiagnosticCategory.Error,key:"delete_cannot_be_called_on_an_identifier_in_strict_mode_1102",message:"'delete' cannot be called on an identifier in strict mode."},A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:{code:1104,category:ts.DiagnosticCategory.Error,key:"A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement_1104",message:"A 'continue' statement can only be used within an enclosing iteration statement."},A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:{code:1105,category:ts.DiagnosticCategory.Error,key:"A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement_1105",message:"A 'break' statement can only be used within an enclosing iteration or switch statement."},Jump_target_cannot_cross_function_boundary:{code:1107,category:ts.DiagnosticCategory.Error,key:"Jump_target_cannot_cross_function_boundary_1107",message:"Jump target cannot cross function boundary."},A_return_statement_can_only_be_used_within_a_function_body:{code:1108,category:ts.DiagnosticCategory.Error,key:"A_return_statement_can_only_be_used_within_a_function_body_1108",message:"A 'return' statement can only be used within a function body."},Expression_expected:{code:1109,category:ts.DiagnosticCategory.Error,key:"Expression_expected_1109",message:"Expression expected."},Type_expected:{code:1110,category:ts.DiagnosticCategory.Error,key:"Type_expected_1110",message:"Type expected."},A_class_member_cannot_be_declared_optional:{code:1112,category:ts.DiagnosticCategory.Error,key:"A_class_member_cannot_be_declared_optional_1112",message:"A class member cannot be declared optional."},A_default_clause_cannot_appear_more_than_once_in_a_switch_statement:{code:1113,category:ts.DiagnosticCategory.Error,key:"A_default_clause_cannot_appear_more_than_once_in_a_switch_statement_1113",message:"A 'default' clause cannot appear more than once in a 'switch' statement."},Duplicate_label_0:{code:1114,category:ts.DiagnosticCategory.Error,key:"Duplicate_label_0_1114",message:"Duplicate label '{0}'"},A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:{code:1115,category:ts.DiagnosticCategory.Error,key:"A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement_1115",message:"A 'continue' statement can only jump to a label of an enclosing iteration statement."},A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:{code:1116,category:ts.DiagnosticCategory.Error,key:"A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement_1116",message:"A 'break' statement can only jump to a label of an enclosing statement."},An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode:{code:1117,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode_1117",message:"An object literal cannot have multiple properties with the same name in strict mode."},An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name:{code:1118,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name_1118",message:"An object literal cannot have multiple get/set accessors with the same name."},An_object_literal_cannot_have_property_and_accessor_with_the_same_name:{code:1119,category:ts.DiagnosticCategory.Error,key:"An_object_literal_cannot_have_property_and_accessor_with_the_same_name_1119",message:"An object literal cannot have property and accessor with the same name."},An_export_assignment_cannot_have_modifiers:{code:1120,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_have_modifiers_1120",message:"An export assignment cannot have modifiers."},Octal_literals_are_not_allowed_in_strict_mode:{code:1121,category:ts.DiagnosticCategory.Error,key:"Octal_literals_are_not_allowed_in_strict_mode_1121",message:"Octal literals are not allowed in strict mode."},A_tuple_type_element_list_cannot_be_empty:{code:1122,category:ts.DiagnosticCategory.Error,key:"A_tuple_type_element_list_cannot_be_empty_1122",message:"A tuple type element list cannot be empty."},Variable_declaration_list_cannot_be_empty:{code:1123,category:ts.DiagnosticCategory.Error,key:"Variable_declaration_list_cannot_be_empty_1123",message:"Variable declaration list cannot be empty."},Digit_expected:{code:1124,category:ts.DiagnosticCategory.Error,key:"Digit_expected_1124",message:"Digit expected."},Hexadecimal_digit_expected:{code:1125,category:ts.DiagnosticCategory.Error,key:"Hexadecimal_digit_expected_1125",message:"Hexadecimal digit expected."},Unexpected_end_of_text:{code:1126,category:ts.DiagnosticCategory.Error,key:"Unexpected_end_of_text_1126",message:"Unexpected end of text."},Invalid_character:{code:1127,category:ts.DiagnosticCategory.Error,key:"Invalid_character_1127",message:"Invalid character."},Declaration_or_statement_expected:{code:1128,category:ts.DiagnosticCategory.Error,key:"Declaration_or_statement_expected_1128",message:"Declaration or statement expected."},Statement_expected:{code:1129,category:ts.DiagnosticCategory.Error,key:"Statement_expected_1129",message:"Statement expected."},case_or_default_expected:{code:1130,category:ts.DiagnosticCategory.Error,key:"case_or_default_expected_1130",message:"'case' or 'default' expected."},Property_or_signature_expected:{code:1131,category:ts.DiagnosticCategory.Error,key:"Property_or_signature_expected_1131",message:"Property or signature expected."},Enum_member_expected:{code:1132,category:ts.DiagnosticCategory.Error,key:"Enum_member_expected_1132",message:"Enum member expected."},Variable_declaration_expected:{code:1134,category:ts.DiagnosticCategory.Error,key:"Variable_declaration_expected_1134",message:"Variable declaration expected."},Argument_expression_expected:{code:1135,category:ts.DiagnosticCategory.Error,key:"Argument_expression_expected_1135",message:"Argument expression expected."},Property_assignment_expected:{code:1136,category:ts.DiagnosticCategory.Error,key:"Property_assignment_expected_1136",message:"Property assignment expected."},Expression_or_comma_expected:{code:1137,category:ts.DiagnosticCategory.Error,key:"Expression_or_comma_expected_1137",message:"Expression or comma expected."},Parameter_declaration_expected:{code:1138,category:ts.DiagnosticCategory.Error,key:"Parameter_declaration_expected_1138",message:"Parameter declaration expected."},Type_parameter_declaration_expected:{code:1139,category:ts.DiagnosticCategory.Error,key:"Type_parameter_declaration_expected_1139",message:"Type parameter declaration expected."},Type_argument_expected:{code:1140,category:ts.DiagnosticCategory.Error,key:"Type_argument_expected_1140",message:"Type argument expected."},String_literal_expected:{code:1141,category:ts.DiagnosticCategory.Error,key:"String_literal_expected_1141",message:"String literal expected."},Line_break_not_permitted_here:{code:1142,category:ts.DiagnosticCategory.Error,key:"Line_break_not_permitted_here_1142",message:"Line break not permitted here."},or_expected:{code:1144,category:ts.DiagnosticCategory.Error,key:"or_expected_1144",message:"'{' or ';' expected."},Modifiers_not_permitted_on_index_signature_members:{code:1145,category:ts.DiagnosticCategory.Error,key:"Modifiers_not_permitted_on_index_signature_members_1145",message:"Modifiers not permitted on index signature members."},Declaration_expected:{code:1146,category:ts.DiagnosticCategory.Error,key:"Declaration_expected_1146",message:"Declaration expected."},Import_declarations_in_a_namespace_cannot_reference_a_module:{code:1147,category:ts.DiagnosticCategory.Error,key:"Import_declarations_in_a_namespace_cannot_reference_a_module_1147",message:"Import declarations in a namespace cannot reference a module."},Cannot_compile_modules_unless_the_module_flag_is_provided_with_a_valid_module_type_Consider_setting_the_module_compiler_option_in_a_tsconfig_json_file:{code:1148,category:ts.DiagnosticCategory.Error,key:"Cannot_compile_modules_unless_the_module_flag_is_provided_with_a_valid_module_type_Consider_setting__1148",message:"Cannot compile modules unless the '--module' flag is provided with a valid module type. Consider setting the 'module' compiler option in a 'tsconfig.json' file."},File_name_0_differs_from_already_included_file_name_1_only_in_casing:{code:1149,category:ts.DiagnosticCategory.Error,key:"File_name_0_differs_from_already_included_file_name_1_only_in_casing_1149",message:"File name '{0}' differs from already included file name '{1}' only in casing"},new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:{code:1150,category:ts.DiagnosticCategory.Error,key:"new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead_1150",message:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead."},const_declarations_must_be_initialized:{code:1155,category:ts.DiagnosticCategory.Error,key:"const_declarations_must_be_initialized_1155",message:"'const' declarations must be initialized"},const_declarations_can_only_be_declared_inside_a_block:{code:1156,category:ts.DiagnosticCategory.Error,key:"const_declarations_can_only_be_declared_inside_a_block_1156",message:"'const' declarations can only be declared inside a block."},let_declarations_can_only_be_declared_inside_a_block:{code:1157,category:ts.DiagnosticCategory.Error,key:"let_declarations_can_only_be_declared_inside_a_block_1157",message:"'let' declarations can only be declared inside a block."},Unterminated_template_literal:{code:1160,category:ts.DiagnosticCategory.Error,key:"Unterminated_template_literal_1160",message:"Unterminated template literal."},Unterminated_regular_expression_literal:{code:1161,category:ts.DiagnosticCategory.Error,key:"Unterminated_regular_expression_literal_1161",message:"Unterminated regular expression literal."},An_object_member_cannot_be_declared_optional:{code:1162,category:ts.DiagnosticCategory.Error,key:"An_object_member_cannot_be_declared_optional_1162",message:"An object member cannot be declared optional."},A_yield_expression_is_only_allowed_in_a_generator_body:{code:1163,category:ts.DiagnosticCategory.Error,key:"A_yield_expression_is_only_allowed_in_a_generator_body_1163",message:"A 'yield' expression is only allowed in a generator body."},Computed_property_names_are_not_allowed_in_enums:{code:1164,category:ts.DiagnosticCategory.Error,key:"Computed_property_names_are_not_allowed_in_enums_1164",message:"Computed property names are not allowed in enums."},A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol:{code:1165,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol_1165",message:"A computed property name in an ambient context must directly refer to a built-in symbol."},A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol:{code:1166,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol_1166",message:"A computed property name in a class property declaration must directly refer to a built-in symbol."},A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol:{code:1168,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol_1168",message:"A computed property name in a method overload must directly refer to a built-in symbol."},A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol:{code:1169,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol_1169",message:"A computed property name in an interface must directly refer to a built-in symbol."},A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol:{code:1170,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol_1170",message:"A computed property name in a type literal must directly refer to a built-in symbol."},A_comma_expression_is_not_allowed_in_a_computed_property_name:{code:1171,category:ts.DiagnosticCategory.Error,key:"A_comma_expression_is_not_allowed_in_a_computed_property_name_1171",message:"A comma expression is not allowed in a computed property name."},extends_clause_already_seen:{code:1172,category:ts.DiagnosticCategory.Error,key:"extends_clause_already_seen_1172",message:"'extends' clause already seen."},extends_clause_must_precede_implements_clause:{code:1173,category:ts.DiagnosticCategory.Error,key:"extends_clause_must_precede_implements_clause_1173",message:"'extends' clause must precede 'implements' clause."},Classes_can_only_extend_a_single_class:{code:1174,category:ts.DiagnosticCategory.Error,key:"Classes_can_only_extend_a_single_class_1174",message:"Classes can only extend a single class."},implements_clause_already_seen:{code:1175,category:ts.DiagnosticCategory.Error,key:"implements_clause_already_seen_1175",message:"'implements' clause already seen."},Interface_declaration_cannot_have_implements_clause:{code:1176,category:ts.DiagnosticCategory.Error,key:"Interface_declaration_cannot_have_implements_clause_1176",message:"Interface declaration cannot have 'implements' clause."},Binary_digit_expected:{code:1177,category:ts.DiagnosticCategory.Error,key:"Binary_digit_expected_1177",message:"Binary digit expected."},Octal_digit_expected:{code:1178,category:ts.DiagnosticCategory.Error,key:"Octal_digit_expected_1178",message:"Octal digit expected."},Unexpected_token_expected:{code:1179,category:ts.DiagnosticCategory.Error,key:"Unexpected_token_expected_1179",message:"Unexpected token. '{' expected."},Property_destructuring_pattern_expected:{code:1180,category:ts.DiagnosticCategory.Error,key:"Property_destructuring_pattern_expected_1180",message:"Property destructuring pattern expected."},Array_element_destructuring_pattern_expected:{code:1181,category:ts.DiagnosticCategory.Error,key:"Array_element_destructuring_pattern_expected_1181",message:"Array element destructuring pattern expected."},A_destructuring_declaration_must_have_an_initializer:{code:1182,category:ts.DiagnosticCategory.Error,key:"A_destructuring_declaration_must_have_an_initializer_1182",message:"A destructuring declaration must have an initializer."},An_implementation_cannot_be_declared_in_ambient_contexts:{code:1183,category:ts.DiagnosticCategory.Error,key:"An_implementation_cannot_be_declared_in_ambient_contexts_1183",message:"An implementation cannot be declared in ambient contexts."},Modifiers_cannot_appear_here:{code:1184,category:ts.DiagnosticCategory.Error,key:"Modifiers_cannot_appear_here_1184",message:"Modifiers cannot appear here."},Merge_conflict_marker_encountered:{code:1185,category:ts.DiagnosticCategory.Error,key:"Merge_conflict_marker_encountered_1185",message:"Merge conflict marker encountered."},A_rest_element_cannot_have_an_initializer:{code:1186,category:ts.DiagnosticCategory.Error,key:"A_rest_element_cannot_have_an_initializer_1186",message:"A rest element cannot have an initializer."},A_parameter_property_may_not_be_a_binding_pattern:{code:1187,category:ts.DiagnosticCategory.Error,key:"A_parameter_property_may_not_be_a_binding_pattern_1187",message:"A parameter property may not be a binding pattern."},Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement:{code:1188,category:ts.DiagnosticCategory.Error,key:"Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement_1188",message:"Only a single variable declaration is allowed in a 'for...of' statement."},The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:{code:1189,category:ts.DiagnosticCategory.Error,key:"The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer_1189",message:"The variable declaration of a 'for...in' statement cannot have an initializer."},The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer:{code:1190,category:ts.DiagnosticCategory.Error,key:"The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer_1190",message:"The variable declaration of a 'for...of' statement cannot have an initializer."},An_import_declaration_cannot_have_modifiers:{code:1191,category:ts.DiagnosticCategory.Error,key:"An_import_declaration_cannot_have_modifiers_1191",message:"An import declaration cannot have modifiers."},Module_0_has_no_default_export:{code:1192,category:ts.DiagnosticCategory.Error,key:"Module_0_has_no_default_export_1192",message:"Module '{0}' has no default export."},An_export_declaration_cannot_have_modifiers:{code:1193,category:ts.DiagnosticCategory.Error,key:"An_export_declaration_cannot_have_modifiers_1193",message:"An export declaration cannot have modifiers."},Export_declarations_are_not_permitted_in_a_namespace:{code:1194,category:ts.DiagnosticCategory.Error,key:"Export_declarations_are_not_permitted_in_a_namespace_1194",message:"Export declarations are not permitted in a namespace."},Catch_clause_variable_name_must_be_an_identifier:{code:1195,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_name_must_be_an_identifier_1195",message:"Catch clause variable name must be an identifier."},Catch_clause_variable_cannot_have_a_type_annotation:{code:1196,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_cannot_have_a_type_annotation_1196",message:"Catch clause variable cannot have a type annotation."},Catch_clause_variable_cannot_have_an_initializer:{code:1197,category:ts.DiagnosticCategory.Error,key:"Catch_clause_variable_cannot_have_an_initializer_1197",message:"Catch clause variable cannot have an initializer."},An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive:{code:1198,category:ts.DiagnosticCategory.Error,key:"An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive_1198",message:"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive."},Unterminated_Unicode_escape_sequence:{code:1199,category:ts.DiagnosticCategory.Error,key:"Unterminated_Unicode_escape_sequence_1199",message:"Unterminated Unicode escape sequence."},Line_terminator_not_permitted_before_arrow:{code:1200,category:ts.DiagnosticCategory.Error,key:"Line_terminator_not_permitted_before_arrow_1200",message:"Line terminator not permitted before arrow."},Import_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead:{code:1202,category:ts.DiagnosticCategory.Error,key:"Import_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_import_Asterisk__1202",message:"Import assignment cannot be used when targeting ECMAScript 6 modules. Consider using 'import * as ns from \"mod\"', 'import {a} from \"mod\"', 'import d from \"mod\"', or another module format instead."},Export_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_export_default_or_another_module_format_instead:{code:1203,category:ts.DiagnosticCategory.Error,key:"Export_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_export_default_o_1203",message:"Export assignment cannot be used when targeting ECMAScript 6 modules. Consider using 'export default' or another module format instead."},Cannot_compile_modules_into_es2015_when_targeting_ES5_or_lower:{code:1204,category:ts.DiagnosticCategory.Error,key:"Cannot_compile_modules_into_es2015_when_targeting_ES5_or_lower_1204",message:"Cannot compile modules into 'es2015' when targeting 'ES5' or lower."},Decorators_are_not_valid_here:{code:1206,category:ts.DiagnosticCategory.Error,key:"Decorators_are_not_valid_here_1206",message:"Decorators are not valid here."},Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name:{code:1207,category:ts.DiagnosticCategory.Error,key:"Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name_1207",message:"Decorators cannot be applied to multiple get/set accessors of the same name."},Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided:{code:1208,category:ts.DiagnosticCategory.Error,key:"Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided_1208",message:"Cannot compile namespaces when the '--isolatedModules' flag is provided."},Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided:{code:1209,category:ts.DiagnosticCategory.Error,key:"Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided_1209",message:"Ambient const enums are not allowed when the '--isolatedModules' flag is provided."},Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:{code:1210,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode_1210",message:"Invalid use of '{0}'. Class definitions are automatically in strict mode."},A_class_declaration_without_the_default_modifier_must_have_a_name:{code:1211,category:ts.DiagnosticCategory.Error,key:"A_class_declaration_without_the_default_modifier_must_have_a_name_1211",message:"A class declaration without the 'default' modifier must have a name"},Identifier_expected_0_is_a_reserved_word_in_strict_mode:{code:1212,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_1212",message:"Identifier expected. '{0}' is a reserved word in strict mode"},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:{code:1213,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_stric_1213",message:"Identifier expected. '{0}' is a reserved word in strict mode. Class definitions are automatically in strict mode."},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:{code:1214,category:ts.DiagnosticCategory.Error,key:"Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode_1214",message:"Identifier expected. '{0}' is a reserved word in strict mode. Modules are automatically in strict mode."},Invalid_use_of_0_Modules_are_automatically_in_strict_mode:{code:1215,category:ts.DiagnosticCategory.Error,key:"Invalid_use_of_0_Modules_are_automatically_in_strict_mode_1215",message:"Invalid use of '{0}'. Modules are automatically in strict mode."},Export_assignment_is_not_supported_when_module_flag_is_system:{code:1218,category:ts.DiagnosticCategory.Error,key:"Export_assignment_is_not_supported_when_module_flag_is_system_1218",message:"Export assignment is not supported when '--module' flag is 'system'."},Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning:{code:1219,category:ts.DiagnosticCategory.Error,key:"Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_t_1219",message:"Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning."},Generators_are_only_available_when_targeting_ECMAScript_6_or_higher:{code:1220,category:ts.DiagnosticCategory.Error,key:"Generators_are_only_available_when_targeting_ECMAScript_6_or_higher_1220",message:"Generators are only available when targeting ECMAScript 6 or higher."},Generators_are_not_allowed_in_an_ambient_context:{code:1221,category:ts.DiagnosticCategory.Error,key:"Generators_are_not_allowed_in_an_ambient_context_1221",message:"Generators are not allowed in an ambient context."},An_overload_signature_cannot_be_declared_as_a_generator:{code:1222,category:ts.DiagnosticCategory.Error,key:"An_overload_signature_cannot_be_declared_as_a_generator_1222",message:"An overload signature cannot be declared as a generator."},_0_tag_already_specified:{code:1223,category:ts.DiagnosticCategory.Error,key:"_0_tag_already_specified_1223",message:"'{0}' tag already specified."},Signature_0_must_have_a_type_predicate:{code:1224,category:ts.DiagnosticCategory.Error,key:"Signature_0_must_have_a_type_predicate_1224",message:"Signature '{0}' must have a type predicate."},Cannot_find_parameter_0:{code:1225,category:ts.DiagnosticCategory.Error,key:"Cannot_find_parameter_0_1225",message:"Cannot find parameter '{0}'."},Type_predicate_0_is_not_assignable_to_1:{code:1226,category:ts.DiagnosticCategory.Error,key:"Type_predicate_0_is_not_assignable_to_1_1226",message:"Type predicate '{0}' is not assignable to '{1}'."},Parameter_0_is_not_in_the_same_position_as_parameter_1:{code:1227,category:ts.DiagnosticCategory.Error,key:"Parameter_0_is_not_in_the_same_position_as_parameter_1_1227",message:"Parameter '{0}' is not in the same position as parameter '{1}'."},A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods:{code:1228,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods_1228",message:"A type predicate is only allowed in return type position for functions and methods."},A_type_predicate_cannot_reference_a_rest_parameter:{code:1229,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_cannot_reference_a_rest_parameter_1229",message:"A type predicate cannot reference a rest parameter."},A_type_predicate_cannot_reference_element_0_in_a_binding_pattern:{code:1230,category:ts.DiagnosticCategory.Error,key:"A_type_predicate_cannot_reference_element_0_in_a_binding_pattern_1230",message:"A type predicate cannot reference element '{0}' in a binding pattern."},An_export_assignment_can_only_be_used_in_a_module:{code:1231,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_can_only_be_used_in_a_module_1231",message:"An export assignment can only be used in a module."},An_import_declaration_can_only_be_used_in_a_namespace_or_module:{code:1232,category:ts.DiagnosticCategory.Error,key:"An_import_declaration_can_only_be_used_in_a_namespace_or_module_1232",message:"An import declaration can only be used in a namespace or module."},An_export_declaration_can_only_be_used_in_a_module:{code:1233,category:ts.DiagnosticCategory.Error,key:"An_export_declaration_can_only_be_used_in_a_module_1233",message:"An export declaration can only be used in a module."},An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:{code:1234,category:ts.DiagnosticCategory.Error,key:"An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file_1234",message:"An ambient module declaration is only allowed at the top level in a file."},A_namespace_declaration_is_only_allowed_in_a_namespace_or_module:{code:1235,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_is_only_allowed_in_a_namespace_or_module_1235",message:"A namespace declaration is only allowed in a namespace or module."},The_return_type_of_a_property_decorator_function_must_be_either_void_or_any:{code:1236,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_property_decorator_function_must_be_either_void_or_any_1236",message:"The return type of a property decorator function must be either 'void' or 'any'."},The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any:{code:1237,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any_1237",message:"The return type of a parameter decorator function must be either 'void' or 'any'."},Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression:{code:1238,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression_1238",message:"Unable to resolve signature of class decorator when called as an expression."},Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression:{code:1239,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression_1239",message:"Unable to resolve signature of parameter decorator when called as an expression."},Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression:{code:1240,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression_1240",message:"Unable to resolve signature of property decorator when called as an expression."},Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression:{code:1241,category:ts.DiagnosticCategory.Error,key:"Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression_1241",message:"Unable to resolve signature of method decorator when called as an expression."},abstract_modifier_can_only_appear_on_a_class_or_method_declaration:{code:1242,category:ts.DiagnosticCategory.Error,key:"abstract_modifier_can_only_appear_on_a_class_or_method_declaration_1242",message:"'abstract' modifier can only appear on a class or method declaration."},_0_modifier_cannot_be_used_with_1_modifier:{code:1243,category:ts.DiagnosticCategory.Error,key:"_0_modifier_cannot_be_used_with_1_modifier_1243",message:"'{0}' modifier cannot be used with '{1}' modifier."},Abstract_methods_can_only_appear_within_an_abstract_class:{code:1244,category:ts.DiagnosticCategory.Error,key:"Abstract_methods_can_only_appear_within_an_abstract_class_1244",message:"Abstract methods can only appear within an abstract class."},Method_0_cannot_have_an_implementation_because_it_is_marked_abstract:{code:1245,category:ts.DiagnosticCategory.Error,key:"Method_0_cannot_have_an_implementation_because_it_is_marked_abstract_1245",message:"Method '{0}' cannot have an implementation because it is marked abstract."},An_interface_property_cannot_have_an_initializer:{code:1246,category:ts.DiagnosticCategory.Error,key:"An_interface_property_cannot_have_an_initializer_1246",message:"An interface property cannot have an initializer."},A_type_literal_property_cannot_have_an_initializer:{code:1247,category:ts.DiagnosticCategory.Error,key:"A_type_literal_property_cannot_have_an_initializer_1247",message:"A type literal property cannot have an initializer."},A_class_member_cannot_have_the_0_keyword:{code:1248,category:ts.DiagnosticCategory.Error,key:"A_class_member_cannot_have_the_0_keyword_1248",message:"A class member cannot have the '{0}' keyword."},A_decorator_can_only_decorate_a_method_implementation_not_an_overload:{code:1249,category:ts.DiagnosticCategory.Error,key:"A_decorator_can_only_decorate_a_method_implementation_not_an_overload_1249",message:"A decorator can only decorate a method implementation, not an overload."},with_statements_are_not_allowed_in_an_async_function_block:{code:1300,category:ts.DiagnosticCategory.Error,key:"with_statements_are_not_allowed_in_an_async_function_block_1300",message:"'with' statements are not allowed in an async function block."},await_expression_is_only_allowed_within_an_async_function:{code:1308,category:ts.DiagnosticCategory.Error,key:"await_expression_is_only_allowed_within_an_async_function_1308",message:"'await' expression is only allowed within an async function."},Async_functions_are_only_available_when_targeting_ECMAScript_6_and_higher:{code:1311,category:ts.DiagnosticCategory.Error,key:"Async_functions_are_only_available_when_targeting_ECMAScript_6_and_higher_1311",message:"Async functions are only available when targeting ECMAScript 6 and higher."},can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment:{code:1312,category:ts.DiagnosticCategory.Error,key:"can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment_1312",message:"'=' can only be used in an object literal property inside a destructuring assignment."},The_body_of_an_if_statement_cannot_be_the_empty_statement:{code:1313,category:ts.DiagnosticCategory.Error,key:"The_body_of_an_if_statement_cannot_be_the_empty_statement_1313",message:"The body of an 'if' statement cannot be the empty statement."},Duplicate_identifier_0:{code:2300,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_2300",message:"Duplicate identifier '{0}'."},Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:{code:2301,category:ts.DiagnosticCategory.Error,key:"Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor_2301",message:"Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor."},Static_members_cannot_reference_class_type_parameters:{code:2302,category:ts.DiagnosticCategory.Error,key:"Static_members_cannot_reference_class_type_parameters_2302",message:"Static members cannot reference class type parameters."},Circular_definition_of_import_alias_0:{code:2303,category:ts.DiagnosticCategory.Error,key:"Circular_definition_of_import_alias_0_2303",message:"Circular definition of import alias '{0}'."},Cannot_find_name_0:{code:2304,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_2304",message:"Cannot find name '{0}'."},Module_0_has_no_exported_member_1:{code:2305,category:ts.DiagnosticCategory.Error,key:"Module_0_has_no_exported_member_1_2305",message:"Module '{0}' has no exported member '{1}'."},File_0_is_not_a_module:{code:2306,category:ts.DiagnosticCategory.Error,key:"File_0_is_not_a_module_2306",message:"File '{0}' is not a module."},Cannot_find_module_0:{code:2307,category:ts.DiagnosticCategory.Error,key:"Cannot_find_module_0_2307",message:"Cannot find module '{0}'."},Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity:{code:2308,category:ts.DiagnosticCategory.Error,key:"Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambig_2308",message:"Module {0} has already exported a member named '{1}'. Consider explicitly re-exporting to resolve the ambiguity."},An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements:{code:2309,category:ts.DiagnosticCategory.Error,key:"An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements_2309",message:"An export assignment cannot be used in a module with other exported elements."},Type_0_recursively_references_itself_as_a_base_type:{code:2310,category:ts.DiagnosticCategory.Error,key:"Type_0_recursively_references_itself_as_a_base_type_2310",message:"Type '{0}' recursively references itself as a base type."},A_class_may_only_extend_another_class:{code:2311,category:ts.DiagnosticCategory.Error,key:"A_class_may_only_extend_another_class_2311",message:"A class may only extend another class."},An_interface_may_only_extend_a_class_or_another_interface:{code:2312,category:ts.DiagnosticCategory.Error,key:"An_interface_may_only_extend_a_class_or_another_interface_2312",message:"An interface may only extend a class or another interface."},Type_parameter_0_has_a_circular_constraint:{code:2313,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_has_a_circular_constraint_2313",message:"Type parameter '{0}' has a circular constraint."},Generic_type_0_requires_1_type_argument_s:{code:2314,category:ts.DiagnosticCategory.Error,key:"Generic_type_0_requires_1_type_argument_s_2314",message:"Generic type '{0}' requires {1} type argument(s)."},Type_0_is_not_generic:{code:2315,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_generic_2315",message:"Type '{0}' is not generic."},Global_type_0_must_be_a_class_or_interface_type:{code:2316,category:ts.DiagnosticCategory.Error,key:"Global_type_0_must_be_a_class_or_interface_type_2316",message:"Global type '{0}' must be a class or interface type."},Global_type_0_must_have_1_type_parameter_s:{code:2317,category:ts.DiagnosticCategory.Error,key:"Global_type_0_must_have_1_type_parameter_s_2317",message:"Global type '{0}' must have {1} type parameter(s)."},Cannot_find_global_type_0:{code:2318,category:ts.DiagnosticCategory.Error,key:"Cannot_find_global_type_0_2318",message:"Cannot find global type '{0}'."},Named_property_0_of_types_1_and_2_are_not_identical:{code:2319,category:ts.DiagnosticCategory.Error,key:"Named_property_0_of_types_1_and_2_are_not_identical_2319",message:"Named property '{0}' of types '{1}' and '{2}' are not identical."},Interface_0_cannot_simultaneously_extend_types_1_and_2:{code:2320,category:ts.DiagnosticCategory.Error,key:"Interface_0_cannot_simultaneously_extend_types_1_and_2_2320",message:"Interface '{0}' cannot simultaneously extend types '{1}' and '{2}'."},Excessive_stack_depth_comparing_types_0_and_1:{code:2321,category:ts.DiagnosticCategory.Error,key:"Excessive_stack_depth_comparing_types_0_and_1_2321",message:"Excessive stack depth comparing types '{0}' and '{1}'."},Type_0_is_not_assignable_to_type_1:{code:2322,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_assignable_to_type_1_2322",message:"Type '{0}' is not assignable to type '{1}'."},Cannot_redeclare_exported_variable_0:{code:2323,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_exported_variable_0_2323",message:"Cannot redeclare exported variable '{0}'."},Property_0_is_missing_in_type_1:{code:2324,category:ts.DiagnosticCategory.Error,key:"Property_0_is_missing_in_type_1_2324",message:"Property '{0}' is missing in type '{1}'."},Property_0_is_private_in_type_1_but_not_in_type_2:{code:2325,category:ts.DiagnosticCategory.Error,key:"Property_0_is_private_in_type_1_but_not_in_type_2_2325",message:"Property '{0}' is private in type '{1}' but not in type '{2}'."},Types_of_property_0_are_incompatible:{code:2326,category:ts.DiagnosticCategory.Error,key:"Types_of_property_0_are_incompatible_2326",message:"Types of property '{0}' are incompatible."},Property_0_is_optional_in_type_1_but_required_in_type_2:{code:2327,category:ts.DiagnosticCategory.Error,key:"Property_0_is_optional_in_type_1_but_required_in_type_2_2327",message:"Property '{0}' is optional in type '{1}' but required in type '{2}'."},Types_of_parameters_0_and_1_are_incompatible:{code:2328,category:ts.DiagnosticCategory.Error,key:"Types_of_parameters_0_and_1_are_incompatible_2328",message:"Types of parameters '{0}' and '{1}' are incompatible."},Index_signature_is_missing_in_type_0:{code:2329,category:ts.DiagnosticCategory.Error,key:"Index_signature_is_missing_in_type_0_2329",message:"Index signature is missing in type '{0}'."},Index_signatures_are_incompatible:{code:2330,category:ts.DiagnosticCategory.Error,key:"Index_signatures_are_incompatible_2330",message:"Index signatures are incompatible."},this_cannot_be_referenced_in_a_module_or_namespace_body:{code:2331,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_module_or_namespace_body_2331",message:"'this' cannot be referenced in a module or namespace body."},this_cannot_be_referenced_in_current_location:{code:2332,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_current_location_2332",message:"'this' cannot be referenced in current location."},this_cannot_be_referenced_in_constructor_arguments:{code:2333,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_constructor_arguments_2333",message:"'this' cannot be referenced in constructor arguments."},this_cannot_be_referenced_in_a_static_property_initializer:{code:2334,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_static_property_initializer_2334",message:"'this' cannot be referenced in a static property initializer."},super_can_only_be_referenced_in_a_derived_class:{code:2335,category:ts.DiagnosticCategory.Error,key:"super_can_only_be_referenced_in_a_derived_class_2335",message:"'super' can only be referenced in a derived class."},super_cannot_be_referenced_in_constructor_arguments:{code:2336,category:ts.DiagnosticCategory.Error,key:"super_cannot_be_referenced_in_constructor_arguments_2336",message:"'super' cannot be referenced in constructor arguments."},Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:{code:2337,category:ts.DiagnosticCategory.Error,key:"Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors_2337",message:"Super calls are not permitted outside constructors or in nested functions inside constructors."},super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:{code:2338,category:ts.DiagnosticCategory.Error,key:"super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_der_2338",message:"'super' property access is permitted only in a constructor, member function, or member accessor of a derived class."},Property_0_does_not_exist_on_type_1:{code:2339,category:ts.DiagnosticCategory.Error,key:"Property_0_does_not_exist_on_type_1_2339",message:"Property '{0}' does not exist on type '{1}'."},Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword:{code:2340,category:ts.DiagnosticCategory.Error,key:"Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword_2340",message:"Only public and protected methods of the base class are accessible via the 'super' keyword."},Property_0_is_private_and_only_accessible_within_class_1:{code:2341,category:ts.DiagnosticCategory.Error,key:"Property_0_is_private_and_only_accessible_within_class_1_2341",message:"Property '{0}' is private and only accessible within class '{1}'."},An_index_expression_argument_must_be_of_type_string_number_symbol_or_any:{code:2342,category:ts.DiagnosticCategory.Error,key:"An_index_expression_argument_must_be_of_type_string_number_symbol_or_any_2342",message:"An index expression argument must be of type 'string', 'number', 'symbol', or 'any'."},Type_0_does_not_satisfy_the_constraint_1:{code:2344,category:ts.DiagnosticCategory.Error,key:"Type_0_does_not_satisfy_the_constraint_1_2344",message:"Type '{0}' does not satisfy the constraint '{1}'."},Argument_of_type_0_is_not_assignable_to_parameter_of_type_1:{code:2345,category:ts.DiagnosticCategory.Error,key:"Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_2345",message:"Argument of type '{0}' is not assignable to parameter of type '{1}'."},Supplied_parameters_do_not_match_any_signature_of_call_target:{code:2346,category:ts.DiagnosticCategory.Error,key:"Supplied_parameters_do_not_match_any_signature_of_call_target_2346",message:"Supplied parameters do not match any signature of call target."},Untyped_function_calls_may_not_accept_type_arguments:{code:2347,category:ts.DiagnosticCategory.Error,key:"Untyped_function_calls_may_not_accept_type_arguments_2347",message:"Untyped function calls may not accept type arguments."},Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:{code:2348,category:ts.DiagnosticCategory.Error,key:"Value_of_type_0_is_not_callable_Did_you_mean_to_include_new_2348",message:"Value of type '{0}' is not callable. Did you mean to include 'new'?"},Cannot_invoke_an_expression_whose_type_lacks_a_call_signature:{code:2349,category:ts.DiagnosticCategory.Error,key:"Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_2349",message:"Cannot invoke an expression whose type lacks a call signature."},Only_a_void_function_can_be_called_with_the_new_keyword:{code:2350,category:ts.DiagnosticCategory.Error,key:"Only_a_void_function_can_be_called_with_the_new_keyword_2350",message:"Only a void function can be called with the 'new' keyword."},Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature:{code:2351,category:ts.DiagnosticCategory.Error,key:"Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature_2351",message:"Cannot use 'new' with an expression whose type lacks a call or construct signature."},Neither_type_0_nor_type_1_is_assignable_to_the_other:{code:2352,category:ts.DiagnosticCategory.Error,key:"Neither_type_0_nor_type_1_is_assignable_to_the_other_2352",message:"Neither type '{0}' nor type '{1}' is assignable to the other."},Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1:{code:2353,category:ts.DiagnosticCategory.Error,key:"Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1_2353",message:"Object literal may only specify known properties, and '{0}' does not exist in type '{1}'."},No_best_common_type_exists_among_return_expressions:{code:2354,category:ts.DiagnosticCategory.Error,key:"No_best_common_type_exists_among_return_expressions_2354",message:"No best common type exists among return expressions."},A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value:{code:2355,category:ts.DiagnosticCategory.Error,key:"A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_2355",message:"A function whose declared type is neither 'void' nor 'any' must return a value."},An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type:{code:2356,category:ts.DiagnosticCategory.Error,key:"An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type_2356",message:"An arithmetic operand must be of type 'any', 'number' or an enum type."},The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer:{code:2357,category:ts.DiagnosticCategory.Error,key:"The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer_2357",message:"The operand of an increment or decrement operator must be a variable, property or indexer."},The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2358,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_paramete_2358",message:"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter."},The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:{code:2359,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_F_2359",message:"The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type."},The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol:{code:2360,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol_2360",message:"The left-hand side of an 'in' expression must be of type 'any', 'string', 'number', or 'symbol'."},The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2361,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter_2361",message:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter"},The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2362,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2362",message:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2363,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type_2363",message:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},Invalid_left_hand_side_of_assignment_expression:{code:2364,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_of_assignment_expression_2364",message:"Invalid left-hand side of assignment expression."},Operator_0_cannot_be_applied_to_types_1_and_2:{code:2365,category:ts.DiagnosticCategory.Error,key:"Operator_0_cannot_be_applied_to_types_1_and_2_2365",message:"Operator '{0}' cannot be applied to types '{1}' and '{2}'."},Type_parameter_name_cannot_be_0:{code:2368,category:ts.DiagnosticCategory.Error,key:"Type_parameter_name_cannot_be_0_2368",message:"Type parameter name cannot be '{0}'"},A_parameter_property_is_only_allowed_in_a_constructor_implementation:{code:2369,category:ts.DiagnosticCategory.Error,key:"A_parameter_property_is_only_allowed_in_a_constructor_implementation_2369",message:"A parameter property is only allowed in a constructor implementation."},A_rest_parameter_must_be_of_an_array_type:{code:2370,category:ts.DiagnosticCategory.Error,key:"A_rest_parameter_must_be_of_an_array_type_2370",message:"A rest parameter must be of an array type."},A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation:{code:2371,category:ts.DiagnosticCategory.Error,key:"A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation_2371",message:"A parameter initializer is only allowed in a function or constructor implementation."},Parameter_0_cannot_be_referenced_in_its_initializer:{code:2372,category:ts.DiagnosticCategory.Error,key:"Parameter_0_cannot_be_referenced_in_its_initializer_2372",message:"Parameter '{0}' cannot be referenced in its initializer."},Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:{code:2373,category:ts.DiagnosticCategory.Error,key:"Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it_2373",message:"Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it."},Duplicate_string_index_signature:{code:2374,category:ts.DiagnosticCategory.Error,key:"Duplicate_string_index_signature_2374",message:"Duplicate string index signature."},Duplicate_number_index_signature:{code:2375,category:ts.DiagnosticCategory.Error,key:"Duplicate_number_index_signature_2375",message:"Duplicate number index signature."},A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:{code:2376,category:ts.DiagnosticCategory.Error,key:"A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_proper_2376",message:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties."},Constructors_for_derived_classes_must_contain_a_super_call:{code:2377,category:ts.DiagnosticCategory.Error,key:"Constructors_for_derived_classes_must_contain_a_super_call_2377",message:"Constructors for derived classes must contain a 'super' call."},A_get_accessor_must_return_a_value:{code:2378,category:ts.DiagnosticCategory.Error,key:"A_get_accessor_must_return_a_value_2378",message:"A 'get' accessor must return a value."},Getter_and_setter_accessors_do_not_agree_in_visibility:{code:2379,category:ts.DiagnosticCategory.Error,key:"Getter_and_setter_accessors_do_not_agree_in_visibility_2379",message:"Getter and setter accessors do not agree in visibility."},get_and_set_accessor_must_have_the_same_type:{code:2380,category:ts.DiagnosticCategory.Error,key:"get_and_set_accessor_must_have_the_same_type_2380",message:"'get' and 'set' accessor must have the same type."},A_signature_with_an_implementation_cannot_use_a_string_literal_type:{code:2381,category:ts.DiagnosticCategory.Error,key:"A_signature_with_an_implementation_cannot_use_a_string_literal_type_2381",message:"A signature with an implementation cannot use a string literal type."},Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:{code:2382,category:ts.DiagnosticCategory.Error,key:"Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature_2382",message:"Specialized overload signature is not assignable to any non-specialized signature."},Overload_signatures_must_all_be_exported_or_not_exported:{code:2383,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_exported_or_not_exported_2383",message:"Overload signatures must all be exported or not exported."},Overload_signatures_must_all_be_ambient_or_non_ambient:{code:2384,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_ambient_or_non_ambient_2384",message:"Overload signatures must all be ambient or non-ambient."},Overload_signatures_must_all_be_public_private_or_protected:{code:2385,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_public_private_or_protected_2385",message:"Overload signatures must all be public, private or protected."},Overload_signatures_must_all_be_optional_or_required:{code:2386,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_optional_or_required_2386",message:"Overload signatures must all be optional or required."},Function_overload_must_be_static:{code:2387,category:ts.DiagnosticCategory.Error,key:"Function_overload_must_be_static_2387",message:"Function overload must be static."},Function_overload_must_not_be_static:{code:2388,category:ts.DiagnosticCategory.Error,key:"Function_overload_must_not_be_static_2388",message:"Function overload must not be static."},Function_implementation_name_must_be_0:{code:2389,category:ts.DiagnosticCategory.Error,key:"Function_implementation_name_must_be_0_2389",message:"Function implementation name must be '{0}'."},Constructor_implementation_is_missing:{code:2390,category:ts.DiagnosticCategory.Error,key:"Constructor_implementation_is_missing_2390",message:"Constructor implementation is missing."},Function_implementation_is_missing_or_not_immediately_following_the_declaration:{code:2391,category:ts.DiagnosticCategory.Error,key:"Function_implementation_is_missing_or_not_immediately_following_the_declaration_2391",message:"Function implementation is missing or not immediately following the declaration."},Multiple_constructor_implementations_are_not_allowed:{code:2392,category:ts.DiagnosticCategory.Error,key:"Multiple_constructor_implementations_are_not_allowed_2392",message:"Multiple constructor implementations are not allowed."},Duplicate_function_implementation:{code:2393,category:ts.DiagnosticCategory.Error,key:"Duplicate_function_implementation_2393",message:"Duplicate function implementation."},Overload_signature_is_not_compatible_with_function_implementation:{code:2394,category:ts.DiagnosticCategory.Error,key:"Overload_signature_is_not_compatible_with_function_implementation_2394",message:"Overload signature is not compatible with function implementation."},Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local:{code:2395,category:ts.DiagnosticCategory.Error,key:"Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local_2395",message:"Individual declarations in merged declaration '{0}' must be all exported or all local."},Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:{code:2396,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters_2396",message:"Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters."},Declaration_name_conflicts_with_built_in_global_identifier_0:{code:2397,category:ts.DiagnosticCategory.Error,key:"Declaration_name_conflicts_with_built_in_global_identifier_0_2397",message:"Declaration name conflicts with built-in global identifier '{0}'."},Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:{code:2399,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference_2399",message:"Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference."},Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:{code:2400,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference_2400",message:"Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference."},Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:{code:2401,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference_2401",message:"Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference."},Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:{code:2402,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference_2402",message:"Expression resolves to '_super' that compiler uses to capture base class reference."},Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:{code:2403,category:ts.DiagnosticCategory.Error,key:"Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_t_2403",message:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'."},The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:{code:2404,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation_2404",message:"The left-hand side of a 'for...in' statement cannot use a type annotation."},The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any:{code:2405,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any_2405",message:"The left-hand side of a 'for...in' statement must be of type 'string' or 'any'."},Invalid_left_hand_side_in_for_in_statement:{code:2406,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_in_for_in_statement_2406",message:"Invalid left-hand side in 'for...in' statement."},The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2407,category:ts.DiagnosticCategory.Error,key:"The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter_2407",message:"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter."},Setters_cannot_return_a_value:{code:2408,category:ts.DiagnosticCategory.Error,key:"Setters_cannot_return_a_value_2408",message:"Setters cannot return a value."},Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:{code:2409,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class_2409",message:"Return type of constructor signature must be assignable to the instance type of the class"},All_symbols_within_a_with_block_will_be_resolved_to_any:{code:2410,category:ts.DiagnosticCategory.Error,key:"All_symbols_within_a_with_block_will_be_resolved_to_any_2410",message:"All symbols within a 'with' block will be resolved to 'any'."},Property_0_of_type_1_is_not_assignable_to_string_index_type_2:{code:2411,category:ts.DiagnosticCategory.Error,key:"Property_0_of_type_1_is_not_assignable_to_string_index_type_2_2411",message:"Property '{0}' of type '{1}' is not assignable to string index type '{2}'."},Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2:{code:2412,category:ts.DiagnosticCategory.Error,key:"Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2_2412",message:"Property '{0}' of type '{1}' is not assignable to numeric index type '{2}'."},Numeric_index_type_0_is_not_assignable_to_string_index_type_1:{code:2413,category:ts.DiagnosticCategory.Error,key:"Numeric_index_type_0_is_not_assignable_to_string_index_type_1_2413",message:"Numeric index type '{0}' is not assignable to string index type '{1}'."},Class_name_cannot_be_0:{code:2414,category:ts.DiagnosticCategory.Error,key:"Class_name_cannot_be_0_2414",message:"Class name cannot be '{0}'"},Class_0_incorrectly_extends_base_class_1:{code:2415,category:ts.DiagnosticCategory.Error,key:"Class_0_incorrectly_extends_base_class_1_2415",message:"Class '{0}' incorrectly extends base class '{1}'."},Class_static_side_0_incorrectly_extends_base_class_static_side_1:{code:2417,category:ts.DiagnosticCategory.Error,key:"Class_static_side_0_incorrectly_extends_base_class_static_side_1_2417",message:"Class static side '{0}' incorrectly extends base class static side '{1}'."},Type_name_0_in_extends_clause_does_not_reference_constructor_function_for_0:{code:2419,category:ts.DiagnosticCategory.Error,key:"Type_name_0_in_extends_clause_does_not_reference_constructor_function_for_0_2419",message:"Type name '{0}' in extends clause does not reference constructor function for '{0}'."},Class_0_incorrectly_implements_interface_1:{code:2420,category:ts.DiagnosticCategory.Error,key:"Class_0_incorrectly_implements_interface_1_2420",message:"Class '{0}' incorrectly implements interface '{1}'."},A_class_may_only_implement_another_class_or_interface:{code:2422,category:ts.DiagnosticCategory.Error,key:"A_class_may_only_implement_another_class_or_interface_2422",message:"A class may only implement another class or interface."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:{code:2423,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_access_2423",message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:{code:2424,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_proper_2424",message:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property."},Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2425,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_functi_2425",message:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function."},Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2426,category:ts.DiagnosticCategory.Error,key:"Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_functi_2426",message:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function."},Interface_name_cannot_be_0:{code:2427,category:ts.DiagnosticCategory.Error,key:"Interface_name_cannot_be_0_2427",message:"Interface name cannot be '{0}'"},All_declarations_of_an_interface_must_have_identical_type_parameters:{code:2428,category:ts.DiagnosticCategory.Error,key:"All_declarations_of_an_interface_must_have_identical_type_parameters_2428",message:"All declarations of an interface must have identical type parameters."},Interface_0_incorrectly_extends_interface_1:{code:2430,category:ts.DiagnosticCategory.Error,key:"Interface_0_incorrectly_extends_interface_1_2430",message:"Interface '{0}' incorrectly extends interface '{1}'."},Enum_name_cannot_be_0:{code:2431,category:ts.DiagnosticCategory.Error,key:"Enum_name_cannot_be_0_2431",message:"Enum name cannot be '{0}'"},In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element:{code:2432,category:ts.DiagnosticCategory.Error,key:"In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enu_2432",message:"In an enum with multiple declarations, only one declaration can omit an initializer for its first enum element."},A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged:{code:2433,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merg_2433",message:"A namespace declaration cannot be in a different file from a class or function with which it is merged"},A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged:{code:2434,category:ts.DiagnosticCategory.Error,key:"A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged_2434",message:"A namespace declaration cannot be located prior to a class or function with which it is merged"},Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces:{code:2435,category:ts.DiagnosticCategory.Error,key:"Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces_2435",message:"Ambient modules cannot be nested in other modules or namespaces."},Ambient_module_declaration_cannot_specify_relative_module_name:{code:2436,category:ts.DiagnosticCategory.Error,key:"Ambient_module_declaration_cannot_specify_relative_module_name_2436",message:"Ambient module declaration cannot specify relative module name."},Module_0_is_hidden_by_a_local_declaration_with_the_same_name:{code:2437,category:ts.DiagnosticCategory.Error,key:"Module_0_is_hidden_by_a_local_declaration_with_the_same_name_2437",message:"Module '{0}' is hidden by a local declaration with the same name"},Import_name_cannot_be_0:{code:2438,category:ts.DiagnosticCategory.Error,key:"Import_name_cannot_be_0_2438",message:"Import name cannot be '{0}'"},Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name:{code:2439,category:ts.DiagnosticCategory.Error,key:"Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relati_2439",message:"Import or export declaration in an ambient module declaration cannot reference module through relative module name."},Import_declaration_conflicts_with_local_declaration_of_0:{code:2440,category:ts.DiagnosticCategory.Error,key:"Import_declaration_conflicts_with_local_declaration_of_0_2440",message:"Import declaration conflicts with local declaration of '{0}'"},Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module:{code:2441,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_2441",message:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module."},Types_have_separate_declarations_of_a_private_property_0:{code:2442,category:ts.DiagnosticCategory.Error,key:"Types_have_separate_declarations_of_a_private_property_0_2442",message:"Types have separate declarations of a private property '{0}'."},Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2:{code:2443,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2_2443",message:"Property '{0}' is protected but type '{1}' is not a class derived from '{2}'."},Property_0_is_protected_in_type_1_but_public_in_type_2:{code:2444,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_in_type_1_but_public_in_type_2_2444",message:"Property '{0}' is protected in type '{1}' but public in type '{2}'."},Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses:{code:2445,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses_2445",message:"Property '{0}' is protected and only accessible within class '{1}' and its subclasses."},Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1:{code:2446,category:ts.DiagnosticCategory.Error,key:"Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1_2446",message:"Property '{0}' is protected and only accessible through an instance of class '{1}'."},The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead:{code:2447,category:ts.DiagnosticCategory.Error,key:"The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead_2447",message:"The '{0}' operator is not allowed for boolean types. Consider using '{1}' instead."},Block_scoped_variable_0_used_before_its_declaration:{code:2448,category:ts.DiagnosticCategory.Error,key:"Block_scoped_variable_0_used_before_its_declaration_2448",message:"Block-scoped variable '{0}' used before its declaration."},The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant:{code:2449,category:ts.DiagnosticCategory.Error,key:"The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant_2449",message:"The operand of an increment or decrement operator cannot be a constant."},Left_hand_side_of_assignment_expression_cannot_be_a_constant:{code:2450,category:ts.DiagnosticCategory.Error,key:"Left_hand_side_of_assignment_expression_cannot_be_a_constant_2450",message:"Left-hand side of assignment expression cannot be a constant."},Cannot_redeclare_block_scoped_variable_0:{code:2451,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_block_scoped_variable_0_2451",message:"Cannot redeclare block-scoped variable '{0}'."},An_enum_member_cannot_have_a_numeric_name:{code:2452,category:ts.DiagnosticCategory.Error,key:"An_enum_member_cannot_have_a_numeric_name_2452",message:"An enum member cannot have a numeric name."},The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly:{code:2453,category:ts.DiagnosticCategory.Error,key:"The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_typ_2453",message:"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly."},Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0:{code:2455,category:ts.DiagnosticCategory.Error,key:"Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0_2455",message:"Type argument candidate '{1}' is not a valid type argument because it is not a supertype of candidate '{0}'."},Type_alias_0_circularly_references_itself:{code:2456,category:ts.DiagnosticCategory.Error,key:"Type_alias_0_circularly_references_itself_2456",message:"Type alias '{0}' circularly references itself."},Type_alias_name_cannot_be_0:{code:2457,category:ts.DiagnosticCategory.Error,key:"Type_alias_name_cannot_be_0_2457",message:"Type alias name cannot be '{0}'"},An_AMD_module_cannot_have_multiple_name_assignments:{code:2458,category:ts.DiagnosticCategory.Error,key:"An_AMD_module_cannot_have_multiple_name_assignments_2458",message:"An AMD module cannot have multiple name assignments."},Type_0_has_no_property_1_and_no_string_index_signature:{code:2459,category:ts.DiagnosticCategory.Error,key:"Type_0_has_no_property_1_and_no_string_index_signature_2459",message:"Type '{0}' has no property '{1}' and no string index signature."},Type_0_has_no_property_1:{code:2460,category:ts.DiagnosticCategory.Error,key:"Type_0_has_no_property_1_2460",message:"Type '{0}' has no property '{1}'."},Type_0_is_not_an_array_type:{code:2461,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_an_array_type_2461",message:"Type '{0}' is not an array type."},A_rest_element_must_be_last_in_an_array_destructuring_pattern:{code:2462,category:ts.DiagnosticCategory.Error,key:"A_rest_element_must_be_last_in_an_array_destructuring_pattern_2462",message:"A rest element must be last in an array destructuring pattern"},A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature:{code:2463,category:ts.DiagnosticCategory.Error,key:"A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature_2463",message:"A binding pattern parameter cannot be optional in an implementation signature."},A_computed_property_name_must_be_of_type_string_number_symbol_or_any:{code:2464,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_must_be_of_type_string_number_symbol_or_any_2464",message:"A computed property name must be of type 'string', 'number', 'symbol', or 'any'."},this_cannot_be_referenced_in_a_computed_property_name:{code:2465,category:ts.DiagnosticCategory.Error,key:"this_cannot_be_referenced_in_a_computed_property_name_2465",message:"'this' cannot be referenced in a computed property name."},super_cannot_be_referenced_in_a_computed_property_name:{code:2466,category:ts.DiagnosticCategory.Error,key:"super_cannot_be_referenced_in_a_computed_property_name_2466",message:"'super' cannot be referenced in a computed property name."},A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type:{code:2467,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type_2467",message:"A computed property name cannot reference a type parameter from its containing type."},Cannot_find_global_value_0:{code:2468,category:ts.DiagnosticCategory.Error,key:"Cannot_find_global_value_0_2468",message:"Cannot find global value '{0}'."},The_0_operator_cannot_be_applied_to_type_symbol:{code:2469,category:ts.DiagnosticCategory.Error,key:"The_0_operator_cannot_be_applied_to_type_symbol_2469",message:"The '{0}' operator cannot be applied to type 'symbol'."},Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object:{code:2470,category:ts.DiagnosticCategory.Error,key:"Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object_2470",message:"'Symbol' reference does not refer to the global Symbol constructor object."},A_computed_property_name_of_the_form_0_must_be_of_type_symbol:{code:2471,category:ts.DiagnosticCategory.Error,key:"A_computed_property_name_of_the_form_0_must_be_of_type_symbol_2471",message:"A computed property name of the form '{0}' must be of type 'symbol'."},Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher:{code:2472,category:ts.DiagnosticCategory.Error,key:"Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher_2472",message:"Spread operator in 'new' expressions is only available when targeting ECMAScript 5 and higher."},Enum_declarations_must_all_be_const_or_non_const:{code:2473,category:ts.DiagnosticCategory.Error,key:"Enum_declarations_must_all_be_const_or_non_const_2473",message:"Enum declarations must all be const or non-const."},In_const_enum_declarations_member_initializer_must_be_constant_expression:{code:2474,category:ts.DiagnosticCategory.Error,key:"In_const_enum_declarations_member_initializer_must_be_constant_expression_2474",message:"In 'const' enum declarations member initializer must be constant expression."},const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment:{code:2475,category:ts.DiagnosticCategory.Error,key:"const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_im_2475",message:"'const' enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment."},A_const_enum_member_can_only_be_accessed_using_a_string_literal:{code:2476,category:ts.DiagnosticCategory.Error,key:"A_const_enum_member_can_only_be_accessed_using_a_string_literal_2476",message:"A const enum member can only be accessed using a string literal."},const_enum_member_initializer_was_evaluated_to_a_non_finite_value:{code:2477,category:ts.DiagnosticCategory.Error,key:"const_enum_member_initializer_was_evaluated_to_a_non_finite_value_2477",message:"'const' enum member initializer was evaluated to a non-finite value."},const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:{code:2478,category:ts.DiagnosticCategory.Error,key:"const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN_2478",message:"'const' enum member initializer was evaluated to disallowed value 'NaN'."},Property_0_does_not_exist_on_const_enum_1:{code:2479,category:ts.DiagnosticCategory.Error,key:"Property_0_does_not_exist_on_const_enum_1_2479",message:"Property '{0}' does not exist on 'const' enum '{1}'."},let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations:{code:2480,category:ts.DiagnosticCategory.Error,key:"let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations_2480",message:"'let' is not allowed to be used as a name in 'let' or 'const' declarations."},Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1:{code:2481,category:ts.DiagnosticCategory.Error,key:"Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1_2481",message:"Cannot initialize outer scoped variable '{0}' in the same scope as block scoped declaration '{1}'."},The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation:{code:2483,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation_2483",message:"The left-hand side of a 'for...of' statement cannot use a type annotation."},Export_declaration_conflicts_with_exported_declaration_of_0:{code:2484,category:ts.DiagnosticCategory.Error,key:"Export_declaration_conflicts_with_exported_declaration_of_0_2484",message:"Export declaration conflicts with exported declaration of '{0}'"},The_left_hand_side_of_a_for_of_statement_cannot_be_a_previously_defined_constant:{code:2485,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_of_statement_cannot_be_a_previously_defined_constant_2485",message:"The left-hand side of a 'for...of' statement cannot be a previously defined constant."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_previously_defined_constant:{code:2486,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_be_a_previously_defined_constant_2486",message:"The left-hand side of a 'for...in' statement cannot be a previously defined constant."},Invalid_left_hand_side_in_for_of_statement:{code:2487,category:ts.DiagnosticCategory.Error,key:"Invalid_left_hand_side_in_for_of_statement_2487",message:"Invalid left-hand side in 'for...of' statement."},Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator:{code:2488,category:ts.DiagnosticCategory.Error,key:"Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator_2488",message:"Type must have a '[Symbol.iterator]()' method that returns an iterator."},An_iterator_must_have_a_next_method:{code:2489,category:ts.DiagnosticCategory.Error,key:"An_iterator_must_have_a_next_method_2489",message:"An iterator must have a 'next()' method."},The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property:{code:2490,category:ts.DiagnosticCategory.Error,key:"The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property_2490",message:"The type returned by the 'next()' method of an iterator must have a 'value' property."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern:{code:2491,category:ts.DiagnosticCategory.Error,key:"The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern_2491",message:"The left-hand side of a 'for...in' statement cannot be a destructuring pattern."},Cannot_redeclare_identifier_0_in_catch_clause:{code:2492,category:ts.DiagnosticCategory.Error,key:"Cannot_redeclare_identifier_0_in_catch_clause_2492",message:"Cannot redeclare identifier '{0}' in catch clause"},Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2:{code:2493,category:ts.DiagnosticCategory.Error,key:"Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2_2493",message:"Tuple type '{0}' with length '{1}' cannot be assigned to tuple with length '{2}'."},Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher:{code:2494,category:ts.DiagnosticCategory.Error,key:"Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher_2494",message:"Using a string in a 'for...of' statement is only supported in ECMAScript 5 and higher."},Type_0_is_not_an_array_type_or_a_string_type:{code:2495,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_an_array_type_or_a_string_type_2495",message:"Type '{0}' is not an array type or a string type."},The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression:{code:2496,category:ts.DiagnosticCategory.Error,key:"The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_stand_2496",message:"The 'arguments' object cannot be referenced in an arrow function in ES3 and ES5. Consider using a standard function expression."},Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct:{code:2497,category:ts.DiagnosticCategory.Error,key:"Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct_2497",message:"Module '{0}' resolves to a non-module entity and cannot be imported using this construct."},Module_0_uses_export_and_cannot_be_used_with_export_Asterisk:{code:2498,category:ts.DiagnosticCategory.Error,key:"Module_0_uses_export_and_cannot_be_used_with_export_Asterisk_2498",message:"Module '{0}' uses 'export =' and cannot be used with 'export *'."},An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2499,category:ts.DiagnosticCategory.Error,key:"An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments_2499",message:"An interface can only extend an identifier/qualified-name with optional type arguments."},A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2500,category:ts.DiagnosticCategory.Error,key:"A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments_2500",message:"A class can only implement an identifier/qualified-name with optional type arguments."},A_rest_element_cannot_contain_a_binding_pattern:{code:2501,category:ts.DiagnosticCategory.Error,key:"A_rest_element_cannot_contain_a_binding_pattern_2501",message:"A rest element cannot contain a binding pattern."},_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation:{code:2502,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation_2502",message:"'{0}' is referenced directly or indirectly in its own type annotation."},Cannot_find_namespace_0:{code:2503,category:ts.DiagnosticCategory.Error,key:"Cannot_find_namespace_0_2503",message:"Cannot find namespace '{0}'."},No_best_common_type_exists_among_yield_expressions:{code:2504,category:ts.DiagnosticCategory.Error,key:"No_best_common_type_exists_among_yield_expressions_2504",message:"No best common type exists among yield expressions."},A_generator_cannot_have_a_void_type_annotation:{code:2505,category:ts.DiagnosticCategory.Error,key:"A_generator_cannot_have_a_void_type_annotation_2505",message:"A generator cannot have a 'void' type annotation."},_0_is_referenced_directly_or_indirectly_in_its_own_base_expression:{code:2506,category:ts.DiagnosticCategory.Error,key:"_0_is_referenced_directly_or_indirectly_in_its_own_base_expression_2506",message:"'{0}' is referenced directly or indirectly in its own base expression."},Type_0_is_not_a_constructor_function_type:{code:2507,category:ts.DiagnosticCategory.Error,key:"Type_0_is_not_a_constructor_function_type_2507",message:"Type '{0}' is not a constructor function type."},No_base_constructor_has_the_specified_number_of_type_arguments:{code:2508,category:ts.DiagnosticCategory.Error,key:"No_base_constructor_has_the_specified_number_of_type_arguments_2508",message:"No base constructor has the specified number of type arguments."},Base_constructor_return_type_0_is_not_a_class_or_interface_type:{code:2509,category:ts.DiagnosticCategory.Error,key:"Base_constructor_return_type_0_is_not_a_class_or_interface_type_2509",message:"Base constructor return type '{0}' is not a class or interface type."},Base_constructors_must_all_have_the_same_return_type:{code:2510,category:ts.DiagnosticCategory.Error,key:"Base_constructors_must_all_have_the_same_return_type_2510",message:"Base constructors must all have the same return type."},Cannot_create_an_instance_of_the_abstract_class_0:{code:2511,category:ts.DiagnosticCategory.Error,key:"Cannot_create_an_instance_of_the_abstract_class_0_2511",message:"Cannot create an instance of the abstract class '{0}'."},Overload_signatures_must_all_be_abstract_or_not_abstract:{code:2512,category:ts.DiagnosticCategory.Error,key:"Overload_signatures_must_all_be_abstract_or_not_abstract_2512",message:"Overload signatures must all be abstract or not abstract."},Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression:{code:2513,category:ts.DiagnosticCategory.Error,key:"Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression_2513",message:"Abstract method '{0}' in class '{1}' cannot be accessed via super expression."},Classes_containing_abstract_methods_must_be_marked_abstract:{code:2514,category:ts.DiagnosticCategory.Error,key:"Classes_containing_abstract_methods_must_be_marked_abstract_2514",message:"Classes containing abstract methods must be marked abstract."},Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2:{code:2515,category:ts.DiagnosticCategory.Error,key:"Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2_2515",message:"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from class '{2}'."},All_declarations_of_an_abstract_method_must_be_consecutive:{code:2516,category:ts.DiagnosticCategory.Error,key:"All_declarations_of_an_abstract_method_must_be_consecutive_2516",message:"All declarations of an abstract method must be consecutive."},Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type:{code:2517,category:ts.DiagnosticCategory.Error,key:"Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type_2517",message:"Cannot assign an abstract constructor type to a non-abstract constructor type."},A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard:{code:2518,category:ts.DiagnosticCategory.Error,key:"A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard_2518",message:"A 'this'-based type guard is not compatible with a parameter-based type guard."},Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions:{code:2520,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions_2520",message:"Duplicate identifier '{0}'. Compiler uses declaration '{1}' to support async functions."},Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions:{code:2521,category:ts.DiagnosticCategory.Error,key:"Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions_2521",message:"Expression resolves to variable declaration '{0}' that compiler uses to support async functions."},The_arguments_object_cannot_be_referenced_in_an_async_arrow_function_Consider_using_a_standard_async_function_expression:{code:2522,category:ts.DiagnosticCategory.Error,key:"The_arguments_object_cannot_be_referenced_in_an_async_arrow_function_Consider_using_a_standard_async_2522",message:"The 'arguments' object cannot be referenced in an async arrow function. Consider using a standard async function expression."},yield_expressions_cannot_be_used_in_a_parameter_initializer:{code:2523,category:ts.DiagnosticCategory.Error,key:"yield_expressions_cannot_be_used_in_a_parameter_initializer_2523",message:"'yield' expressions cannot be used in a parameter initializer."},await_expressions_cannot_be_used_in_a_parameter_initializer:{code:2524,category:ts.DiagnosticCategory.Error,key:"await_expressions_cannot_be_used_in_a_parameter_initializer_2524",message:"'await' expressions cannot be used in a parameter initializer."},Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value:{code:2525,category:ts.DiagnosticCategory.Error,key:"Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value_2525",message:"Initializer provides no value for this binding element and the binding element has no default value."},A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface:{code:2526,category:ts.DiagnosticCategory.Error,key:"A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface_2526",message:"A 'this' type is available only in a non-static member of a class or interface."},The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary:{code:2527,category:ts.DiagnosticCategory.Error,key:"The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary_2527",message:"The inferred type of '{0}' references an inaccessible 'this' type. A type annotation is necessary."},A_module_cannot_have_multiple_default_exports:{code:2528,category:ts.DiagnosticCategory.Error,key:"A_module_cannot_have_multiple_default_exports_2528",message:"A module cannot have multiple default exports."},Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions:{code:2529,category:ts.DiagnosticCategory.Error,key:"Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_func_2529",message:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module containing async functions."},JSX_element_attributes_type_0_may_not_be_a_union_type:{code:2600,category:ts.DiagnosticCategory.Error,key:"JSX_element_attributes_type_0_may_not_be_a_union_type_2600",message:"JSX element attributes type '{0}' may not be a union type."},The_return_type_of_a_JSX_element_constructor_must_return_an_object_type:{code:2601,category:ts.DiagnosticCategory.Error,key:"The_return_type_of_a_JSX_element_constructor_must_return_an_object_type_2601",message:"The return type of a JSX element constructor must return an object type."},JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist:{code:2602,category:ts.DiagnosticCategory.Error,key:"JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist_2602",message:"JSX element implicitly has type 'any' because the global type 'JSX.Element' does not exist."},Property_0_in_type_1_is_not_assignable_to_type_2:{code:2603,category:ts.DiagnosticCategory.Error,key:"Property_0_in_type_1_is_not_assignable_to_type_2_2603",message:"Property '{0}' in type '{1}' is not assignable to type '{2}'"},JSX_element_type_0_does_not_have_any_construct_or_call_signatures:{code:2604,category:ts.DiagnosticCategory.Error,key:"JSX_element_type_0_does_not_have_any_construct_or_call_signatures_2604",message:"JSX element type '{0}' does not have any construct or call signatures."},JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements:{code:2605,category:ts.DiagnosticCategory.Error,key:"JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements_2605",message:"JSX element type '{0}' is not a constructor function for JSX elements."},Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property:{code:2606,category:ts.DiagnosticCategory.Error,key:"Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property_2606",message:"Property '{0}' of JSX spread attribute is not assignable to target property."},JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property:{code:2607,category:ts.DiagnosticCategory.Error,key:"JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property_2607",message:"JSX element class does not support attributes because it does not have a '{0}' property"},The_global_type_JSX_0_may_not_have_more_than_one_property:{code:2608,category:ts.DiagnosticCategory.Error,key:"The_global_type_JSX_0_may_not_have_more_than_one_property_2608",message:"The global type 'JSX.{0}' may not have more than one property"},Cannot_emit_namespaced_JSX_elements_in_React:{code:2650,category:ts.DiagnosticCategory.Error,key:"Cannot_emit_namespaced_JSX_elements_in_React_2650",message:"Cannot emit namespaced JSX elements in React"},A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums:{code:2651,category:ts.DiagnosticCategory.Error,key:"A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_memb_2651",message:"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums."},Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead:{code:2652,category:ts.DiagnosticCategory.Error,key:"Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_d_2652",message:"Merged declaration '{0}' cannot include a default export declaration. Consider adding a separate 'export default {0}' declaration instead."},Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1:{code:2653,category:ts.DiagnosticCategory.Error,key:"Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1_2653",message:"Non-abstract class expression does not implement inherited abstract member '{0}' from class '{1}'."},Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition:{code:2654,category:ts.DiagnosticCategory.Error,key:"Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_pack_2654",message:"Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition."},Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition:{code:2656,category:ts.DiagnosticCategory.Error,key:"Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_2656",message:"Exported external package typings file '{0}' is not a module. Please contact the package author to update the package definition."},JSX_expressions_must_have_one_parent_element:{code:2657,category:ts.DiagnosticCategory.Error,key:"JSX_expressions_must_have_one_parent_element_2657",message:"JSX expressions must have one parent element"},Type_0_provides_no_match_for_the_signature_1:{code:2658,category:ts.DiagnosticCategory.Error,key:"Type_0_provides_no_match_for_the_signature_1_2658",message:"Type '{0}' provides no match for the signature '{1}'"},super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher:{code:2659,category:ts.DiagnosticCategory.Error,key:"super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_highe_2659",message:"'super' is only allowed in members of object literal expressions when option 'target' is 'ES2015' or higher."},super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions:{code:2660,category:ts.DiagnosticCategory.Error,key:"super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions_2660",message:"'super' can only be referenced in members of derived classes or object literal expressions."},Cannot_re_export_name_that_is_not_defined_in_the_module:{code:2661,category:ts.DiagnosticCategory.Error,key:"Cannot_re_export_name_that_is_not_defined_in_the_module_2661",message:"Cannot re-export name that is not defined in the module."},Cannot_find_name_0_Did_you_mean_the_static_member_1_0:{code:2662,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_Did_you_mean_the_static_member_1_0_2662",message:"Cannot find name '{0}'. Did you mean the static member '{1}.{0}'?"},Cannot_find_name_0_Did_you_mean_the_instance_member_this_0:{code:2663,category:ts.DiagnosticCategory.Error,key:"Cannot_find_name_0_Did_you_mean_the_instance_member_this_0_2663",message:"Cannot find name '{0}'. Did you mean the instance member 'this.{0}'?"},Invalid_module_name_in_augmentation_module_0_cannot_be_found:{code:2664,category:ts.DiagnosticCategory.Error,key:"Invalid_module_name_in_augmentation_module_0_cannot_be_found_2664",message:"Invalid module name in augmentation, module '{0}' cannot be found."},Module_augmentation_cannot_introduce_new_names_in_the_top_level_scope:{code:2665,category:ts.DiagnosticCategory.Error,key:"Module_augmentation_cannot_introduce_new_names_in_the_top_level_scope_2665",message:"Module augmentation cannot introduce new names in the top level scope."},Exports_and_export_assignments_are_not_permitted_in_module_augmentations:{code:2666,category:ts.DiagnosticCategory.Error,key:"Exports_and_export_assignments_are_not_permitted_in_module_augmentations_2666",message:"Exports and export assignments are not permitted in module augmentations."},Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module:{code:2667,category:ts.DiagnosticCategory.Error,key:"Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_mod_2667",message:"Imports are not permitted in module augmentations. Consider moving them to the enclosing external module."},export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible:{code:2668,category:ts.DiagnosticCategory.Error,key:"export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always__2668",message:"'export' modifier cannot be applied to ambient modules and module augmentations since they are always visible."},Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:{code:2669,category:ts.DiagnosticCategory.Error,key:"Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_2669",message:"Augmentations for the global scope can only be directly nested in external modules or ambient module declarations."},Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context:{code:2670,category:ts.DiagnosticCategory.Error,key:"Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambien_2670",message:"Augmentations for the global scope should have 'declare' modifier unless they appear in already ambient context."},Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity:{code:2671,category:ts.DiagnosticCategory.Error,key:"Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity_2671",message:"Cannot augment module '{0}' because it resolves to a non-module entity."},Import_declaration_0_is_using_private_name_1:{code:4000,category:ts.DiagnosticCategory.Error,key:"Import_declaration_0_is_using_private_name_1_4000",message:"Import declaration '{0}' is using private name '{1}'."},Type_parameter_0_of_exported_class_has_or_is_using_private_name_1:{code:4002,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_class_has_or_is_using_private_name_1_4002",message:"Type parameter '{0}' of exported class has or is using private name '{1}'."},Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1:{code:4004,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1_4004",message:"Type parameter '{0}' of exported interface has or is using private name '{1}'."},Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4006,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4006",message:"Type parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4008,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4008",message:"Type parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4010,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4010",message:"Type parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4012,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4012",message:"Type parameter '{0}' of public method from exported class has or is using private name '{1}'."},Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4014,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4014",message:"Type parameter '{0}' of method from exported interface has or is using private name '{1}'."},Type_parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4016,category:ts.DiagnosticCategory.Error,key:"Type_parameter_0_of_exported_function_has_or_is_using_private_name_1_4016",message:"Type parameter '{0}' of exported function has or is using private name '{1}'."},Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4019,category:ts.DiagnosticCategory.Error,key:"Implements_clause_of_exported_class_0_has_or_is_using_private_name_1_4019",message:"Implements clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4020,category:ts.DiagnosticCategory.Error,key:"Extends_clause_of_exported_class_0_has_or_is_using_private_name_1_4020",message:"Extends clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1:{code:4022,category:ts.DiagnosticCategory.Error,key:"Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1_4022",message:"Extends clause of exported interface '{0}' has or is using private name '{1}'."},Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4023,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4023",message:"Exported variable '{0}' has or is using name '{1}' from external module {2} but cannot be named."},Exported_variable_0_has_or_is_using_name_1_from_private_module_2:{code:4024,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_name_1_from_private_module_2_4024",message:"Exported variable '{0}' has or is using name '{1}' from private module '{2}'."},Exported_variable_0_has_or_is_using_private_name_1:{code:4025,category:ts.DiagnosticCategory.Error,key:"Exported_variable_0_has_or_is_using_private_name_1_4025",message:"Exported variable '{0}' has or is using private name '{1}'."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4026,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot__4026",message:"Public static property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4027,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4027",message:"Public static property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4028,category:ts.DiagnosticCategory.Error,key:"Public_static_property_0_of_exported_class_has_or_is_using_private_name_1_4028",message:"Public static property '{0}' of exported class has or is using private name '{1}'."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4029,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_name_4029",message:"Public property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4030,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2_4030",message:"Public property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4031,category:ts.DiagnosticCategory.Error,key:"Public_property_0_of_exported_class_has_or_is_using_private_name_1_4031",message:"Public property '{0}' of exported class has or is using private name '{1}'."},Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4032,category:ts.DiagnosticCategory.Error,key:"Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2_4032",message:"Property '{0}' of exported interface has or is using name '{1}' from private module '{2}'."},Property_0_of_exported_interface_has_or_is_using_private_name_1:{code:4033,category:ts.DiagnosticCategory.Error,key:"Property_0_of_exported_interface_has_or_is_using_private_name_1_4033",message:"Property '{0}' of exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4034,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_4034",message:"Parameter '{0}' of public static property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4035,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1_4035",message:"Parameter '{0}' of public static property setter from exported class has or is using private name '{1}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4036,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_4036",message:"Parameter '{0}' of public property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4037,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1_4037",message:"Parameter '{0}' of public property setter from exported class has or is using private name '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4038,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_externa_4038",message:"Return type of public static property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4039,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_4039",message:"Return type of public static property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4040,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0_4040",message:"Return type of public static property getter from exported class has or is using private name '{0}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4041,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_modul_4041",message:"Return type of public property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4042,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_4042",message:"Return type of public property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4043,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0_4043",message:"Return type of public property getter from exported class has or is using private name '{0}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4044,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_mod_4044",message:"Return type of constructor signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4045,category:ts.DiagnosticCategory.Error,key:"Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0_4045",message:"Return type of constructor signature from exported interface has or is using private name '{0}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4046,category:ts.DiagnosticCategory.Error,key:"Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4046",message:"Return type of call signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4047,category:ts.DiagnosticCategory.Error,key:"Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0_4047",message:"Return type of call signature from exported interface has or is using private name '{0}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4048,category:ts.DiagnosticCategory.Error,key:"Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4048",message:"Return type of index signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4049,category:ts.DiagnosticCategory.Error,key:"Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0_4049",message:"Return type of index signature from exported interface has or is using private name '{0}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4050,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module__4050",message:"Return type of public static method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4051,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4051",message:"Return type of public static method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:{code:4052,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0_4052",message:"Return type of public static method from exported class has or is using private name '{0}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4053,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_c_4053",message:"Return type of public method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4054,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1_4054",message:"Return type of public method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:{code:4055,category:ts.DiagnosticCategory.Error,key:"Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0_4055",message:"Return type of public method from exported class has or is using private name '{0}'."},Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4056,category:ts.DiagnosticCategory.Error,key:"Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1_4056",message:"Return type of method from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0:{code:4057,category:ts.DiagnosticCategory.Error,key:"Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0_4057",message:"Return type of method from exported interface has or is using private name '{0}'."},Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4058,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named_4058",message:"Return type of exported function has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:{code:4059,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1_4059",message:"Return type of exported function has or is using name '{0}' from private module '{1}'."},Return_type_of_exported_function_has_or_is_using_private_name_0:{code:4060,category:ts.DiagnosticCategory.Error,key:"Return_type_of_exported_function_has_or_is_using_private_name_0_4060",message:"Return type of exported function has or is using private name '{0}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4061,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_can_4061",message:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4062,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2_4062",message:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1:{code:4063,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1_4063",message:"Parameter '{0}' of constructor from exported class has or is using private name '{1}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4064,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_mod_4064",message:"Parameter '{0}' of constructor signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4065,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1_4065",message:"Parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4066,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4066",message:"Parameter '{0}' of call signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4067,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1_4067",message:"Parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4068,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module__4068",message:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4069,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4069",message:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4070,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1_4070",message:"Parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4071,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_c_4071",message:"Parameter '{0}' of public method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4072,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2_4072",message:"Parameter '{0}' of public method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4073,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1_4073",message:"Parameter '{0}' of public method from exported class has or is using private name '{1}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4074,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2_4074",message:"Parameter '{0}' of method from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4075,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1_4075",message:"Parameter '{0}' of method from exported interface has or is using private name '{1}'."},Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4076,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named_4076",message:"Parameter '{0}' of exported function has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:{code:4077,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2_4077",message:"Parameter '{0}' of exported function has or is using name '{1}' from private module '{2}'."},Parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4078,category:ts.DiagnosticCategory.Error,key:"Parameter_0_of_exported_function_has_or_is_using_private_name_1_4078",message:"Parameter '{0}' of exported function has or is using private name '{1}'."},Exported_type_alias_0_has_or_is_using_private_name_1:{code:4081,category:ts.DiagnosticCategory.Error,key:"Exported_type_alias_0_has_or_is_using_private_name_1_4081",message:"Exported type alias '{0}' has or is using private name '{1}'."},Default_export_of_the_module_has_or_is_using_private_name_0:{code:4082,category:ts.DiagnosticCategory.Error,key:"Default_export_of_the_module_has_or_is_using_private_name_0_4082",message:"Default export of the module has or is using private name '{0}'."},The_current_host_does_not_support_the_0_option:{code:5001,category:ts.DiagnosticCategory.Error,key:"The_current_host_does_not_support_the_0_option_5001",message:"The current host does not support the '{0}' option."},Cannot_find_the_common_subdirectory_path_for_the_input_files:{code:5009,category:ts.DiagnosticCategory.Error,key:"Cannot_find_the_common_subdirectory_path_for_the_input_files_5009",message:"Cannot find the common subdirectory path for the input files."},Cannot_read_file_0_Colon_1:{code:5012,category:ts.DiagnosticCategory.Error,key:"Cannot_read_file_0_Colon_1_5012",message:"Cannot read file '{0}': {1}"},Unsupported_file_encoding:{code:5013,category:ts.DiagnosticCategory.Error,key:"Unsupported_file_encoding_5013",message:"Unsupported file encoding."},Failed_to_parse_file_0_Colon_1:{code:5014,category:ts.DiagnosticCategory.Error,key:"Failed_to_parse_file_0_Colon_1_5014",message:"Failed to parse file '{0}': {1}."},Unknown_compiler_option_0:{code:5023,category:ts.DiagnosticCategory.Error,key:"Unknown_compiler_option_0_5023",message:"Unknown compiler option '{0}'."},Compiler_option_0_requires_a_value_of_type_1:{code:5024,category:ts.DiagnosticCategory.Error,key:"Compiler_option_0_requires_a_value_of_type_1_5024",message:"Compiler option '{0}' requires a value of type {1}."},Could_not_write_file_0_Colon_1:{code:5033,category:ts.DiagnosticCategory.Error,key:"Could_not_write_file_0_Colon_1_5033",message:"Could not write file '{0}': {1}"},Option_project_cannot_be_mixed_with_source_files_on_a_command_line:{code:5042,category:ts.DiagnosticCategory.Error,key:"Option_project_cannot_be_mixed_with_source_files_on_a_command_line_5042",message:"Option 'project' cannot be mixed with source files on a command line."},Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher:{code:5047,category:ts.DiagnosticCategory.Error,key:"Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES_5047",message:"Option 'isolatedModules' can only be used when either option '--module' is provided or option 'target' is 'ES2015' or higher."},Option_inlineSources_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided:{code:5051,category:ts.DiagnosticCategory.Error,key:"Option_inlineSources_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_prov_5051",message:"Option 'inlineSources' can only be used when either option '--inlineSourceMap' or option '--sourceMap' is provided."},Option_0_cannot_be_specified_without_specifying_option_1:{code:5052,category:ts.DiagnosticCategory.Error,key:"Option_0_cannot_be_specified_without_specifying_option_1_5052",message:"Option '{0}' cannot be specified without specifying option '{1}'."},Option_0_cannot_be_specified_with_option_1:{code:5053,category:ts.DiagnosticCategory.Error,key:"Option_0_cannot_be_specified_with_option_1_5053",message:"Option '{0}' cannot be specified with option '{1}'."},A_tsconfig_json_file_is_already_defined_at_Colon_0:{code:5054,category:ts.DiagnosticCategory.Error,key:"A_tsconfig_json_file_is_already_defined_at_Colon_0_5054",message:"A 'tsconfig.json' file is already defined at: '{0}'."},Cannot_write_file_0_because_it_would_overwrite_input_file:{code:5055,category:ts.DiagnosticCategory.Error,key:"Cannot_write_file_0_because_it_would_overwrite_input_file_5055",message:"Cannot write file '{0}' because it would overwrite input file."},Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files:{code:5056,category:ts.DiagnosticCategory.Error,key:"Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files_5056",message:"Cannot write file '{0}' because it would be overwritten by multiple input files."},Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0:{code:5057,category:ts.DiagnosticCategory.Error,key:"Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0_5057",message:"Cannot find a tsconfig.json file at the specified directory: '{0}'"},The_specified_path_does_not_exist_Colon_0:{code:5058,category:ts.DiagnosticCategory.Error,key:"The_specified_path_does_not_exist_Colon_0_5058",message:"The specified path does not exist: '{0}'"},Invalide_value_for_reactNamespace_0_is_not_a_valid_identifier:{code:5059,category:ts.DiagnosticCategory.Error,key:"Invalide_value_for_reactNamespace_0_is_not_a_valid_identifier_5059",message:"Invalide value for '--reactNamespace'. '{0}' is not a valid identifier."},Concatenate_and_emit_output_to_single_file:{code:6001,category:ts.DiagnosticCategory.Message,key:"Concatenate_and_emit_output_to_single_file_6001",message:"Concatenate and emit output to single file."},Generates_corresponding_d_ts_file:{code:6002,category:ts.DiagnosticCategory.Message,key:"Generates_corresponding_d_ts_file_6002",message:"Generates corresponding '.d.ts' file."},Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:{code:6003,category:ts.DiagnosticCategory.Message,key:"Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations_6003",message:"Specifies the location where debugger should locate map files instead of generated locations."},Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:{code:6004,category:ts.DiagnosticCategory.Message,key:"Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations_6004",message:"Specifies the location where debugger should locate TypeScript files instead of source locations."},Watch_input_files:{code:6005,category:ts.DiagnosticCategory.Message,key:"Watch_input_files_6005",message:"Watch input files."},Redirect_output_structure_to_the_directory:{code:6006,category:ts.DiagnosticCategory.Message,key:"Redirect_output_structure_to_the_directory_6006",message:"Redirect output structure to the directory."},Do_not_erase_const_enum_declarations_in_generated_code:{code:6007,category:ts.DiagnosticCategory.Message,key:"Do_not_erase_const_enum_declarations_in_generated_code_6007",message:"Do not erase const enum declarations in generated code."},Do_not_emit_outputs_if_any_errors_were_reported:{code:6008,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_outputs_if_any_errors_were_reported_6008",message:"Do not emit outputs if any errors were reported."},Do_not_emit_comments_to_output:{code:6009,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_comments_to_output_6009",message:"Do not emit comments to output."},Do_not_emit_outputs:{code:6010,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_outputs_6010",message:"Do not emit outputs."},Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking:{code:6011,category:ts.DiagnosticCategory.Message,key:"Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typech_6011",message:"Allow default imports from modules with no default export. This does not affect code emit, just typechecking."},Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015_experimental:{code:6015,category:ts.DiagnosticCategory.Message,key:"Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015_experimental_6015",message:"Specify ECMAScript target version: 'ES3' (default), 'ES5', or 'ES2015' (experimental)"},Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015:{code:6016,category:ts.DiagnosticCategory.Message,key:"Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015_6016",message:"Specify module code generation: 'commonjs', 'amd', 'system', 'umd' or 'es2015'"},Print_this_message:{code:6017,category:ts.DiagnosticCategory.Message,key:"Print_this_message_6017",message:"Print this message."},Print_the_compiler_s_version:{code:6019,category:ts.DiagnosticCategory.Message,key:"Print_the_compiler_s_version_6019",message:"Print the compiler's version."},Compile_the_project_in_the_given_directory:{code:6020,category:ts.DiagnosticCategory.Message,key:"Compile_the_project_in_the_given_directory_6020",message:"Compile the project in the given directory."},Syntax_Colon_0:{code:6023,category:ts.DiagnosticCategory.Message,key:"Syntax_Colon_0_6023",message:"Syntax: {0}"},options:{code:6024,category:ts.DiagnosticCategory.Message,key:"options_6024",message:"options"},file:{code:6025,category:ts.DiagnosticCategory.Message,key:"file_6025",message:"file"},Examples_Colon_0:{code:6026,category:ts.DiagnosticCategory.Message,key:"Examples_Colon_0_6026",message:"Examples: {0}"},Options_Colon:{code:6027,category:ts.DiagnosticCategory.Message,key:"Options_Colon_6027",message:"Options:"},Version_0:{code:6029,category:ts.DiagnosticCategory.Message,key:"Version_0_6029",message:"Version {0}"},Insert_command_line_options_and_files_from_a_file:{code:6030,category:ts.DiagnosticCategory.Message,key:"Insert_command_line_options_and_files_from_a_file_6030",message:"Insert command line options and files from a file."},File_change_detected_Starting_incremental_compilation:{code:6032,category:ts.DiagnosticCategory.Message,key:"File_change_detected_Starting_incremental_compilation_6032",message:"File change detected. Starting incremental compilation..."},KIND:{code:6034,category:ts.DiagnosticCategory.Message,key:"KIND_6034",message:"KIND"},FILE:{code:6035,category:ts.DiagnosticCategory.Message,key:"FILE_6035",message:"FILE"},VERSION:{code:6036,category:ts.DiagnosticCategory.Message,key:"VERSION_6036",message:"VERSION"},LOCATION:{code:6037,category:ts.DiagnosticCategory.Message,key:"LOCATION_6037",message:"LOCATION"},DIRECTORY:{code:6038,category:ts.DiagnosticCategory.Message,key:"DIRECTORY_6038",message:"DIRECTORY"},Compilation_complete_Watching_for_file_changes:{code:6042,category:ts.DiagnosticCategory.Message,key:"Compilation_complete_Watching_for_file_changes_6042",message:"Compilation complete. Watching for file changes."},Generates_corresponding_map_file:{code:6043,category:ts.DiagnosticCategory.Message,key:"Generates_corresponding_map_file_6043",message:"Generates corresponding '.map' file."},Compiler_option_0_expects_an_argument:{code:6044,category:ts.DiagnosticCategory.Error,key:"Compiler_option_0_expects_an_argument_6044",message:"Compiler option '{0}' expects an argument."},Unterminated_quoted_string_in_response_file_0:{code:6045,category:ts.DiagnosticCategory.Error,key:"Unterminated_quoted_string_in_response_file_0_6045",message:"Unterminated quoted string in response file '{0}'."},Argument_for_module_option_must_be_commonjs_amd_system_umd_es2015_or_none:{code:6046,category:ts.DiagnosticCategory.Error,key:"Argument_for_module_option_must_be_commonjs_amd_system_umd_es2015_or_none_6046",message:"Argument for '--module' option must be 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'none'."},Argument_for_target_option_must_be_ES3_ES5_or_ES2015:{code:6047,category:ts.DiagnosticCategory.Error,key:"Argument_for_target_option_must_be_ES3_ES5_or_ES2015_6047",message:"Argument for '--target' option must be 'ES3', 'ES5', or 'ES2015'."},Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:{code:6048,category:ts.DiagnosticCategory.Error,key:"Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1_6048",message:"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'."},Unsupported_locale_0:{code:6049,category:ts.DiagnosticCategory.Error,key:"Unsupported_locale_0_6049",message:"Unsupported locale '{0}'."},Unable_to_open_file_0:{code:6050,category:ts.DiagnosticCategory.Error,key:"Unable_to_open_file_0_6050",message:"Unable to open file '{0}'."},Corrupted_locale_file_0:{code:6051,category:ts.DiagnosticCategory.Error,key:"Corrupted_locale_file_0_6051",message:"Corrupted locale file {0}."},Raise_error_on_expressions_and_declarations_with_an_implied_any_type:{code:6052,category:ts.DiagnosticCategory.Message,key:"Raise_error_on_expressions_and_declarations_with_an_implied_any_type_6052",message:"Raise error on expressions and declarations with an implied 'any' type."},File_0_not_found:{code:6053,category:ts.DiagnosticCategory.Error,key:"File_0_not_found_6053",message:"File '{0}' not found."},File_0_has_unsupported_extension_The_only_supported_extensions_are_1:{code:6054,category:ts.DiagnosticCategory.Error,key:"File_0_has_unsupported_extension_The_only_supported_extensions_are_1_6054",message:"File '{0}' has unsupported extension. The only supported extensions are {1}."},Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures:{code:6055,category:ts.DiagnosticCategory.Message,key:"Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures_6055",message:"Suppress noImplicitAny errors for indexing objects lacking index signatures."},Do_not_emit_declarations_for_code_that_has_an_internal_annotation:{code:6056,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_declarations_for_code_that_has_an_internal_annotation_6056",message:"Do not emit declarations for code that has an '@internal' annotation."},Specifies_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir:{code:6058,category:ts.DiagnosticCategory.Message,key:"Specifies_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDi_6058",message:"Specifies the root directory of input files. Use to control the output directory structure with --outDir."},File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files:{code:6059,category:ts.DiagnosticCategory.Error,key:"File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files_6059",message:"File '{0}' is not under 'rootDir' '{1}'. 'rootDir' is expected to contain all source files."},Specifies_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix:{code:6060,category:ts.DiagnosticCategory.Message,key:"Specifies_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix_6060",message:"Specifies the end of line sequence to be used when emitting files: 'CRLF' (dos) or 'LF' (unix)."},NEWLINE:{code:6061,category:ts.DiagnosticCategory.Message,key:"NEWLINE_6061",message:"NEWLINE"},Argument_for_newLine_option_must_be_CRLF_or_LF:{code:6062,category:ts.DiagnosticCategory.Error,key:"Argument_for_newLine_option_must_be_CRLF_or_LF_6062",message:"Argument for '--newLine' option must be 'CRLF' or 'LF'."},Argument_for_moduleResolution_option_must_be_node_or_classic:{code:6063,category:ts.DiagnosticCategory.Error,key:"Argument_for_moduleResolution_option_must_be_node_or_classic_6063",message:"Argument for '--moduleResolution' option must be 'node' or 'classic'."},Enables_experimental_support_for_ES7_decorators:{code:6065,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_ES7_decorators_6065",message:"Enables experimental support for ES7 decorators."},Enables_experimental_support_for_emitting_type_metadata_for_decorators:{code:6066,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_emitting_type_metadata_for_decorators_6066",message:"Enables experimental support for emitting type metadata for decorators."},Enables_experimental_support_for_ES7_async_functions:{code:6068,category:ts.DiagnosticCategory.Message,key:"Enables_experimental_support_for_ES7_async_functions_6068",message:"Enables experimental support for ES7 async functions."},Specifies_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6:{code:6069,category:ts.DiagnosticCategory.Message,key:"Specifies_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6_6069",message:"Specifies module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)."},Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file:{code:6070,category:ts.DiagnosticCategory.Message,key:"Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file_6070",message:"Initializes a TypeScript project and creates a tsconfig.json file."},Successfully_created_a_tsconfig_json_file:{code:6071,category:ts.DiagnosticCategory.Message,key:"Successfully_created_a_tsconfig_json_file_6071",message:"Successfully created a tsconfig.json file."},Suppress_excess_property_checks_for_object_literals:{code:6072,category:ts.DiagnosticCategory.Message,key:"Suppress_excess_property_checks_for_object_literals_6072",message:"Suppress excess property checks for object literals."},Stylize_errors_and_messages_using_color_and_context_experimental:{code:6073,category:ts.DiagnosticCategory.Message,key:"Stylize_errors_and_messages_using_color_and_context_experimental_6073",message:"Stylize errors and messages using color and context. (experimental)"},Do_not_report_errors_on_unused_labels:{code:6074,category:ts.DiagnosticCategory.Message,key:"Do_not_report_errors_on_unused_labels_6074",message:"Do not report errors on unused labels."},Report_error_when_not_all_code_paths_in_function_return_a_value:{code:6075,category:ts.DiagnosticCategory.Message,key:"Report_error_when_not_all_code_paths_in_function_return_a_value_6075",message:"Report error when not all code paths in function return a value."},Report_errors_for_fallthrough_cases_in_switch_statement:{code:6076,category:ts.DiagnosticCategory.Message,key:"Report_errors_for_fallthrough_cases_in_switch_statement_6076",message:"Report errors for fallthrough cases in switch statement."},Do_not_report_errors_on_unreachable_code:{code:6077,category:ts.DiagnosticCategory.Message,key:"Do_not_report_errors_on_unreachable_code_6077",message:"Do not report errors on unreachable code."},Disallow_inconsistently_cased_references_to_the_same_file:{code:6078,category:ts.DiagnosticCategory.Message,key:"Disallow_inconsistently_cased_references_to_the_same_file_6078",message:"Disallow inconsistently-cased references to the same file."},Specify_JSX_code_generation_Colon_preserve_or_react:{code:6080,category:ts.DiagnosticCategory.Message,key:"Specify_JSX_code_generation_Colon_preserve_or_react_6080",message:"Specify JSX code generation: 'preserve' or 'react'"},Argument_for_jsx_must_be_preserve_or_react:{code:6081,category:ts.DiagnosticCategory.Message,key:"Argument_for_jsx_must_be_preserve_or_react_6081",message:"Argument for '--jsx' must be 'preserve' or 'react'."},Only_amd_and_system_modules_are_supported_alongside_0:{code:6082,category:ts.DiagnosticCategory.Error,key:"Only_amd_and_system_modules_are_supported_alongside_0_6082",message:"Only 'amd' and 'system' modules are supported alongside --{0}."},Allow_javascript_files_to_be_compiled:{code:6083,category:ts.DiagnosticCategory.Message,key:"Allow_javascript_files_to_be_compiled_6083",message:"Allow javascript files to be compiled."},Specifies_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit:{code:6084,category:ts.DiagnosticCategory.Message,key:"Specifies_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit_6084",message:"Specifies the object invoked for createElement and __spread when targeting 'react' JSX emit"},Option_0_should_have_array_of_strings_as_a_value:{code:6103,category:ts.DiagnosticCategory.Error,key:"Option_0_should_have_array_of_strings_as_a_value_6103",message:"Option '{0}' should have array of strings as a value."},Do_not_emit_use_strict_directives_in_module_output:{code:6112,category:ts.DiagnosticCategory.Message,key:"Do_not_emit_use_strict_directives_in_module_output_6112",message:"Do not emit 'use strict' directives in module output."},Variable_0_implicitly_has_an_1_type:{code:7005,category:ts.DiagnosticCategory.Error,key:"Variable_0_implicitly_has_an_1_type_7005",message:"Variable '{0}' implicitly has an '{1}' type."},Parameter_0_implicitly_has_an_1_type:{code:7006,category:ts.DiagnosticCategory.Error,key:"Parameter_0_implicitly_has_an_1_type_7006",message:"Parameter '{0}' implicitly has an '{1}' type."},Member_0_implicitly_has_an_1_type:{code:7008,category:ts.DiagnosticCategory.Error,key:"Member_0_implicitly_has_an_1_type_7008",message:"Member '{0}' implicitly has an '{1}' type."},new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type:{code:7009,category:ts.DiagnosticCategory.Error,key:"new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type_7009",message:"'new' expression, whose target lacks a construct signature, implicitly has an 'any' type."},_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:{code:7010,category:ts.DiagnosticCategory.Error,key:"_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type_7010",message:"'{0}', which lacks return-type annotation, implicitly has an '{1}' return type."},Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type:{code:7011,category:ts.DiagnosticCategory.Error,key:"Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type_7011",message:"Function expression, which lacks return-type annotation, implicitly has an '{0}' return type."},Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7013,category:ts.DiagnosticCategory.Error,key:"Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7013",message:"Construct signature, which lacks return-type annotation, implicitly has an 'any' return type."},Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:{code:7015,category:ts.DiagnosticCategory.Error,key:"Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number_7015",message:"Element implicitly has an 'any' type because index expression is not of type 'number'."},Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_type_annotation:{code:7016,category:ts.DiagnosticCategory.Error,key:"Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_type_annotation_7016",message:"Property '{0}' implicitly has type 'any', because its 'set' accessor lacks a type annotation."},Index_signature_of_object_type_implicitly_has_an_any_type:{code:7017,category:ts.DiagnosticCategory.Error,key:"Index_signature_of_object_type_implicitly_has_an_any_type_7017",message:"Index signature of object type implicitly has an 'any' type."},Object_literal_s_property_0_implicitly_has_an_1_type:{code:7018,category:ts.DiagnosticCategory.Error,key:"Object_literal_s_property_0_implicitly_has_an_1_type_7018",message:"Object literal's property '{0}' implicitly has an '{1}' type."},Rest_parameter_0_implicitly_has_an_any_type:{code:7019,category:ts.DiagnosticCategory.Error,key:"Rest_parameter_0_implicitly_has_an_any_type_7019",message:"Rest parameter '{0}' implicitly has an 'any[]' type."},Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7020,category:ts.DiagnosticCategory.Error,key:"Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type_7020",message:"Call signature, which lacks return-type annotation, implicitly has an 'any' return type."},_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer:{code:7022,category:ts.DiagnosticCategory.Error,key:"_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or__7022",message:"'{0}' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer."},_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7023,category:ts.DiagnosticCategory.Error,key:"_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_reference_7023",message:"'{0}' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7024,category:ts.DiagnosticCategory.Error,key:"Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_ref_7024",message:"Function implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type:{code:7025,category:ts.DiagnosticCategory.Error,key:"Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_typ_7025",message:"Generator implicitly has type '{0}' because it does not yield any values. Consider supplying a return type."},JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists:{code:7026,category:ts.DiagnosticCategory.Error,key:"JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists_7026",message:"JSX element implicitly has type 'any' because no interface 'JSX.{0}' exists"},Unreachable_code_detected:{code:7027,category:ts.DiagnosticCategory.Error,key:"Unreachable_code_detected_7027",message:"Unreachable code detected."},Unused_label:{code:7028,category:ts.DiagnosticCategory.Error,key:"Unused_label_7028",message:"Unused label."},Fallthrough_case_in_switch:{code:7029,category:ts.DiagnosticCategory.Error,key:"Fallthrough_case_in_switch_7029",message:"Fallthrough case in switch."},Not_all_code_paths_return_a_value:{code:7030,category:ts.DiagnosticCategory.Error,key:"Not_all_code_paths_return_a_value_7030",message:"Not all code paths return a value."},You_cannot_rename_this_element:{code:8000,category:ts.DiagnosticCategory.Error,key:"You_cannot_rename_this_element_8000",message:"You cannot rename this element."},You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library:{code:8001,category:ts.DiagnosticCategory.Error,key:"You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library_8001",message:"You cannot rename elements that are defined in the standard TypeScript library."},import_can_only_be_used_in_a_ts_file:{code:8002,category:ts.DiagnosticCategory.Error,key:"import_can_only_be_used_in_a_ts_file_8002",message:"'import ... =' can only be used in a .ts file."},export_can_only_be_used_in_a_ts_file:{code:8003,category:ts.DiagnosticCategory.Error,key:"export_can_only_be_used_in_a_ts_file_8003",message:"'export=' can only be used in a .ts file."},type_parameter_declarations_can_only_be_used_in_a_ts_file:{code:8004,category:ts.DiagnosticCategory.Error,key:"type_parameter_declarations_can_only_be_used_in_a_ts_file_8004",message:"'type parameter declarations' can only be used in a .ts file."},implements_clauses_can_only_be_used_in_a_ts_file:{code:8005,category:ts.DiagnosticCategory.Error,key:"implements_clauses_can_only_be_used_in_a_ts_file_8005",message:"'implements clauses' can only be used in a .ts file."},interface_declarations_can_only_be_used_in_a_ts_file:{code:8006,category:ts.DiagnosticCategory.Error,key:"interface_declarations_can_only_be_used_in_a_ts_file_8006",message:"'interface declarations' can only be used in a .ts file."},module_declarations_can_only_be_used_in_a_ts_file:{code:8007,category:ts.DiagnosticCategory.Error,key:"module_declarations_can_only_be_used_in_a_ts_file_8007",message:"'module declarations' can only be used in a .ts file."},type_aliases_can_only_be_used_in_a_ts_file:{code:8008,category:ts.DiagnosticCategory.Error,key:"type_aliases_can_only_be_used_in_a_ts_file_8008",message:"'type aliases' can only be used in a .ts file."},_0_can_only_be_used_in_a_ts_file:{code:8009,category:ts.DiagnosticCategory.Error,key:"_0_can_only_be_used_in_a_ts_file_8009",message:"'{0}' can only be used in a .ts file."},types_can_only_be_used_in_a_ts_file:{code:8010,category:ts.DiagnosticCategory.Error,key:"types_can_only_be_used_in_a_ts_file_8010",message:"'types' can only be used in a .ts file."},type_arguments_can_only_be_used_in_a_ts_file:{code:8011,category:ts.DiagnosticCategory.Error,key:"type_arguments_can_only_be_used_in_a_ts_file_8011",message:"'type arguments' can only be used in a .ts file."},parameter_modifiers_can_only_be_used_in_a_ts_file:{code:8012,category:ts.DiagnosticCategory.Error,key:"parameter_modifiers_can_only_be_used_in_a_ts_file_8012",message:"'parameter modifiers' can only be used in a .ts file."},property_declarations_can_only_be_used_in_a_ts_file:{code:8014,category:ts.DiagnosticCategory.Error,key:"property_declarations_can_only_be_used_in_a_ts_file_8014",message:"'property declarations' can only be used in a .ts file."},enum_declarations_can_only_be_used_in_a_ts_file:{code:8015,category:ts.DiagnosticCategory.Error,key:"enum_declarations_can_only_be_used_in_a_ts_file_8015",message:"'enum declarations' can only be used in a .ts file."},type_assertion_expressions_can_only_be_used_in_a_ts_file:{code:8016,category:ts.DiagnosticCategory.Error,key:"type_assertion_expressions_can_only_be_used_in_a_ts_file_8016",message:"'type assertion expressions' can only be used in a .ts file."},Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_class_extends_clauses:{code:9002,category:ts.DiagnosticCategory.Error,key:"Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_clas_9002",message:"Only identifiers/qualified-names with optional type arguments are currently supported in a class 'extends' clauses."},class_expressions_are_not_currently_supported:{code:9003,category:ts.DiagnosticCategory.Error,key:"class_expressions_are_not_currently_supported_9003",message:"'class' expressions are not currently supported."},JSX_attributes_must_only_be_assigned_a_non_empty_expression:{code:17000,category:ts.DiagnosticCategory.Error,key:"JSX_attributes_must_only_be_assigned_a_non_empty_expression_17000",message:"JSX attributes must only be assigned a non-empty 'expression'."},JSX_elements_cannot_have_multiple_attributes_with_the_same_name:{code:17001,category:ts.DiagnosticCategory.Error,key:"JSX_elements_cannot_have_multiple_attributes_with_the_same_name_17001",message:"JSX elements cannot have multiple attributes with the same name."},Expected_corresponding_JSX_closing_tag_for_0:{code:17002,category:ts.DiagnosticCategory.Error,key:"Expected_corresponding_JSX_closing_tag_for_0_17002",message:"Expected corresponding JSX closing tag for '{0}'."},JSX_attribute_expected:{code:17003,category:ts.DiagnosticCategory.Error,key:"JSX_attribute_expected_17003",message:"JSX attribute expected."},Cannot_use_JSX_unless_the_jsx_flag_is_provided:{code:17004,category:ts.DiagnosticCategory.Error,key:"Cannot_use_JSX_unless_the_jsx_flag_is_provided_17004",message:"Cannot use JSX unless the '--jsx' flag is provided."},A_constructor_cannot_contain_a_super_call_when_its_class_extends_null:{code:17005,category:ts.DiagnosticCategory.Error,key:"A_constructor_cannot_contain_a_super_call_when_its_class_extends_null_17005",message:"A constructor cannot contain a 'super' call when its class extends 'null'"},An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17006,category:ts.DiagnosticCategory.Error,key:"An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_ex_17006",message:"An unary expression with the '{0}' operator is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."},A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17007,category:ts.DiagnosticCategory.Error,key:"A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Con_17007",message:"A type assertion expression is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."},JSX_element_0_has_no_corresponding_closing_tag:{code:17008,category:ts.DiagnosticCategory.Error,key:"JSX_element_0_has_no_corresponding_closing_tag_17008",message:"JSX element '{0}' has no corresponding closing tag."},super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class:{code:17009,category:ts.DiagnosticCategory.Error,key:"super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class_17009",message:"'super' must be called before accessing 'this' in the constructor of a derived class."},Unknown_typing_option_0:{code:17010,category:ts.DiagnosticCategory.Error,key:"Unknown_typing_option_0_17010",message:"Unknown typing option '{0}'."},Too_many_JavaScript_files_in_the_project_Consider_specifying_the_exclude_setting_in_project_configuration_to_limit_included_source_folders_The_likely_folder_to_exclude_is_0_To_disable_the_project_size_limit_set_the_disableSizeLimit_compiler_option_to_true:{code:17012,category:ts.DiagnosticCategory.Error,key:"Too_many_JavaScript_files_in_the_project_Consider_specifying_the_exclude_setting_in_project_configur_17012",message:"Too many JavaScript files in the project. Consider specifying the 'exclude' setting in project configuration to limit included source folders. The likely folder to exclude is '{0}'. To disable the project size limit, set the 'disableSizeLimit' compiler option to 'true'."}};})(ts||(ts={}));var ts;(function(ts){function tokenIsIdentifierOrKeyword(token){return token>=69 ;}
ts.tokenIsIdentifierOrKeyword=tokenIsIdentifierOrKeyword;var textToToken={"abstract":115 ,"any":117 ,"as":116 ,"boolean":120 ,"break":70 ,"case":71 ,"catch":72 ,"class":73 ,"continue":75 ,"const":74 ,"constructor":121 ,"debugger":76 ,"declare":122 ,"default":77 ,"delete":78 ,"do":79 ,"else":80 ,"enum":81 ,"export":82 ,"extends":83 ,"false":84 ,"finally":85 ,"for":86 ,"from":133 ,"function":87 ,"get":123 ,"if":88 ,"implements":106 ,"import":89 ,"in":90 ,"instanceof":91 ,"interface":107 ,"is":124 ,"let":108 ,"module":125 ,"namespace":126 ,"new":92 ,"null":93 ,"number":128 ,"package":109 ,"private":110 ,"protected":111 ,"public":112 ,"require":127 ,"global":134 ,"return":94 ,"set":129 ,"static":113 ,"string":130 ,"super":95 ,"switch":96 ,"symbol":131 ,"this":97 ,"throw":98 ,"true":99 ,"try":100 ,"type":132 ,"typeof":101 ,"var":102 ,"void":103 ,"while":104 ,"with":105 ,"yield":114 ,"async":118 ,"await":119 ,"of":135 ,"{":15 ,"}":16 ,"(":17 ,")":18 ,"[":19 ,"]":20 ,".":21 ,"...":22 ,";":23 ,",":24 ,"<":25 ,">":27 ,"<=":28 ,">=":29 ,"==":30 ,"!=":31 ,"===":32 ,"!==":33 ,"=>":34 ,"+":35 ,"-":36 ,"**":38 ,"*":37 ,"/":39 ,"%":40 ,"++":41 ,"--":42 ,"<<":43 ,"</":26 ,">>":44 ,">>>":45 ,"&":46 ,"|":47 ,"^":48 ,"!":49 ,"~":50 ,"&&":51 ,"||":52 ,"?":53 ,":":54 ,"=":56 ,"+=":57 ,"-=":58 ,"*=":59 ,"**=":60 ,"/=":61 ,"%=":62 ,"<<=":63 ,">>=":64 ,">>>=":65 ,"&=":66 ,"|=":67 ,"^=":68 ,"@":55 };var unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,];var unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500,];var unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6000,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43000,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,];var unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6000,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43000,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,];function lookupInUnicodeMap(code,map){if(code<map[0]){return false;}
var lo=0;var hi=map.length;var mid;while(lo+1<hi){mid=lo+(hi-lo)/2;mid-=mid%2;if(map[mid]<=code&&code<=map[mid+1]){return true;}
if(code<map[mid]){hi=mid;}
else{lo=mid+2;}}
return false;}
function isUnicodeIdentifierStart(code,languageVersion){return languageVersion>=1 ?lookupInUnicodeMap(code,unicodeES5IdentifierStart):lookupInUnicodeMap(code,unicodeES3IdentifierStart);}
ts.isUnicodeIdentifierStart=isUnicodeIdentifierStart;function isUnicodeIdentifierPart(code,languageVersion){return languageVersion>=1 ?lookupInUnicodeMap(code,unicodeES5IdentifierPart):lookupInUnicodeMap(code,unicodeES3IdentifierPart);}
function makeReverseMap(source){var result=[];for(var name_4 in source){if(source.hasOwnProperty(name_4)){result[source[name_4]]=name_4;}}
return result;}
var tokenStrings=makeReverseMap(textToToken);function tokenToString(t){return tokenStrings[t];}
ts.tokenToString=tokenToString;function stringToToken(s){return textToToken[s];}
ts.stringToToken=stringToToken;function computeLineStarts(text){var result=new Array();var pos=0;var lineStart=0;while(pos<text.length){var ch=text.charCodeAt(pos);pos++;switch(ch){case 13 :if(text.charCodeAt(pos)===10 ){pos++;}
case 10 :result.push(lineStart);lineStart=pos;break;default:if(ch>127 &&isLineBreak(ch)){result.push(lineStart);lineStart=pos;}
break;}}
result.push(lineStart);return result;}
ts.computeLineStarts=computeLineStarts;function getPositionOfLineAndCharacter(sourceFile,line,character){return computePositionOfLineAndCharacter(getLineStarts(sourceFile),line,character);}
ts.getPositionOfLineAndCharacter=getPositionOfLineAndCharacter;function computePositionOfLineAndCharacter(lineStarts,line,character){ts.Debug.assert(line>=0&&line<lineStarts.length);return lineStarts[line]+character;}
ts.computePositionOfLineAndCharacter=computePositionOfLineAndCharacter;function getLineStarts(sourceFile){return sourceFile.lineMap||(sourceFile.lineMap=computeLineStarts(sourceFile.text));}
ts.getLineStarts=getLineStarts;function computeLineAndCharacterOfPosition(lineStarts,position){var lineNumber=ts.binarySearch(lineStarts,position);if(lineNumber<0){lineNumber=~lineNumber-1;ts.Debug.assert(lineNumber!==-1,"position cannot precede the beginning of the file");}
return{line:lineNumber,character:position-lineStarts[lineNumber]};}
ts.computeLineAndCharacterOfPosition=computeLineAndCharacterOfPosition;function getLineAndCharacterOfPosition(sourceFile,position){return computeLineAndCharacterOfPosition(getLineStarts(sourceFile),position);}
ts.getLineAndCharacterOfPosition=getLineAndCharacterOfPosition;var hasOwnProperty=Object.prototype.hasOwnProperty;function isWhiteSpace(ch){return ch===32 ||ch===9 ||ch===11 ||ch===12 ||ch===160 ||ch===133 ||ch===5760 ||ch>=8192 &&ch<=8203 ||ch===8239 ||ch===8287 ||ch===12288 ||ch===65279 ;}
ts.isWhiteSpace=isWhiteSpace;function isLineBreak(ch){return ch===10 ||ch===13 ||ch===8232 ||ch===8233 ;}
ts.isLineBreak=isLineBreak;function isDigit(ch){return ch>=48 &&ch<=57 ;}
function isOctalDigit(ch){return ch>=48 &&ch<=55 ;}
ts.isOctalDigit=isOctalDigit;function couldStartTrivia(text,pos){var ch=text.charCodeAt(pos);switch(ch){case 13 :case 10 :case 9 :case 11 :case 12 :case 32 :case 47 :case 60 :case 61 :case 62 :return true;case 35 :return pos===0;default:return ch>127 ;}}
ts.couldStartTrivia=couldStartTrivia;function skipTrivia(text,pos,stopAfterLineBreak){if(!(pos>=0)){return pos;}
while(true){var ch=text.charCodeAt(pos);switch(ch){case 13 :if(text.charCodeAt(pos+1)===10 ){pos++;}
case 10 :pos++;if(stopAfterLineBreak){return pos;}
continue;case 9 :case 11 :case 12 :case 32 :pos++;continue;case 47 :if(text.charCodeAt(pos+1)===47 ){pos+=2;while(pos<text.length){if(isLineBreak(text.charCodeAt(pos))){break;}
pos++;}
continue;}
if(text.charCodeAt(pos+1)===42 ){pos+=2;while(pos<text.length){if(text.charCodeAt(pos)===42 &&text.charCodeAt(pos+1)===47 ){pos+=2;break;}
pos++;}
continue;}
break;case 60 :case 61 :case 62 :if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos);continue;}
break;case 35 :if(pos===0&&isShebangTrivia(text,pos)){pos=scanShebangTrivia(text,pos);continue;}
break;default:if(ch>127 &&(isWhiteSpace(ch)||isLineBreak(ch))){pos++;continue;}
break;}
return pos;}}
ts.skipTrivia=skipTrivia;var mergeConflictMarkerLength="<<<<<<<".length;function isConflictMarkerTrivia(text,pos){ts.Debug.assert(pos>=0);if(pos===0||isLineBreak(text.charCodeAt(pos-1))){var ch=text.charCodeAt(pos);if((pos+mergeConflictMarkerLength)<text.length){for(var i=0,n=mergeConflictMarkerLength;i<n;i++){if(text.charCodeAt(pos+i)!==ch){return false;}}
return ch===61 ||text.charCodeAt(pos+mergeConflictMarkerLength)===32 ;}}
return false;}
function scanConflictMarkerTrivia(text,pos,error){if(error){error(ts.Diagnostics.Merge_conflict_marker_encountered,mergeConflictMarkerLength);}
var ch=text.charCodeAt(pos);var len=text.length;if(ch===60 ||ch===62 ){while(pos<len&&!isLineBreak(text.charCodeAt(pos))){pos++;}}
else{ts.Debug.assert(ch===61 );while(pos<len){var ch_1=text.charCodeAt(pos);if(ch_1===62 &&isConflictMarkerTrivia(text,pos)){break;}
pos++;}}
return pos;}
var shebangTriviaRegex=/^#!.*/;function isShebangTrivia(text,pos){ts.Debug.assert(pos===0);return shebangTriviaRegex.test(text);}
function scanShebangTrivia(text,pos){var shebang=shebangTriviaRegex.exec(text)[0];pos=pos+shebang.length;return pos;}
function getCommentRanges(text,pos,trailing){var result;var collecting=trailing||pos===0;while(pos<text.length){var ch=text.charCodeAt(pos);switch(ch){case 13 :if(text.charCodeAt(pos+1)===10 ){pos++;}
case 10 :pos++;if(trailing){return result;}
collecting=true;if(result&&result.length){ts.lastOrUndefined(result).hasTrailingNewLine=true;}
continue;case 9 :case 11 :case 12 :case 32 :pos++;continue;case 47 :var nextChar=text.charCodeAt(pos+1);var hasTrailingNewLine=false;if(nextChar===47 ||nextChar===42 ){var kind=nextChar===47 ?2 :3 ;var startPos=pos;pos+=2;if(nextChar===47 ){while(pos<text.length){if(isLineBreak(text.charCodeAt(pos))){hasTrailingNewLine=true;break;}
pos++;}}
else{while(pos<text.length){if(text.charCodeAt(pos)===42 &&text.charCodeAt(pos+1)===47 ){pos+=2;break;}
pos++;}}
if(collecting){if(!result){result=[];}
result.push({pos:startPos,end:pos,hasTrailingNewLine:hasTrailingNewLine,kind:kind});}
continue;}
break;default:if(ch>127 &&(isWhiteSpace(ch)||isLineBreak(ch))){if(result&&result.length&&isLineBreak(ch)){ts.lastOrUndefined(result).hasTrailingNewLine=true;}
pos++;continue;}
break;}
return result;}
return result;}
function getLeadingCommentRanges(text,pos){return getCommentRanges(text,pos,false);}
ts.getLeadingCommentRanges=getLeadingCommentRanges;function getTrailingCommentRanges(text,pos){return getCommentRanges(text,pos,true);}
ts.getTrailingCommentRanges=getTrailingCommentRanges;function getShebang(text){return shebangTriviaRegex.test(text)?shebangTriviaRegex.exec(text)[0]:undefined;}
ts.getShebang=getShebang;function isIdentifierStart(ch,languageVersion){return ch>=65 &&ch<=90 ||ch>=97 &&ch<=122 ||ch===36 ||ch===95 ||ch>127 &&isUnicodeIdentifierStart(ch,languageVersion);}
ts.isIdentifierStart=isIdentifierStart;function isIdentifierPart(ch,languageVersion){return ch>=65 &&ch<=90 ||ch>=97 &&ch<=122 ||ch>=48 &&ch<=57 ||ch===36 ||ch===95 ||ch>127 &&isUnicodeIdentifierPart(ch,languageVersion);}
ts.isIdentifierPart=isIdentifierPart;function isIdentifier(name,languageVersion){if(!isIdentifierStart(name.charCodeAt(0),languageVersion)){return false;}
for(var i=1,n=name.length;i<n;i++){if(!isIdentifierPart(name.charCodeAt(i),languageVersion)){return false;}}
return true;}
ts.isIdentifier=isIdentifier;function createScanner(languageVersion,skipTrivia,languageVariant,text,onError,start,length){if(languageVariant===void 0){languageVariant=0 ;}
var pos;var end;var startPos;var tokenPos;var token;var tokenValue;var precedingLineBreak;var hasExtendedUnicodeEscape;var tokenIsUnterminated;setText(text,start,length);return{getStartPos:function(){return startPos;},getTextPos:function(){return pos;},getToken:function(){return token;},getTokenPos:function(){return tokenPos;},getTokenText:function(){return text.substring(tokenPos,pos);},getTokenValue:function(){return tokenValue;},hasExtendedUnicodeEscape:function(){return hasExtendedUnicodeEscape;},hasPrecedingLineBreak:function(){return precedingLineBreak;},isIdentifier:function(){return token===69 ||token>105 ;},isReservedWord:function(){return token>=70 &&token<=105 ;},isUnterminated:function(){return tokenIsUnterminated;},reScanGreaterToken:reScanGreaterToken,reScanSlashToken:reScanSlashToken,reScanTemplateToken:reScanTemplateToken,scanJsxIdentifier:scanJsxIdentifier,reScanJsxToken:reScanJsxToken,scanJsxToken:scanJsxToken,scanJSDocToken:scanJSDocToken,scan:scan,setText:setText,setScriptTarget:setScriptTarget,setLanguageVariant:setLanguageVariant,setOnError:setOnError,setTextPos:setTextPos,tryScan:tryScan,lookAhead:lookAhead,scanRange:scanRange};function error(message,length){if(onError){onError(message,length||0);}}
function scanNumber(){var start=pos;while(isDigit(text.charCodeAt(pos)))
pos++;if(text.charCodeAt(pos)===46 ){pos++;while(isDigit(text.charCodeAt(pos)))
pos++;}
var end=pos;if(text.charCodeAt(pos)===69 ||text.charCodeAt(pos)===101 ){pos++;if(text.charCodeAt(pos)===43 ||text.charCodeAt(pos)===45 )
pos++;if(isDigit(text.charCodeAt(pos))){pos++;while(isDigit(text.charCodeAt(pos)))
pos++;end=pos;}
else{error(ts.Diagnostics.Digit_expected);}}
return""+ +(text.substring(start,end));}
function scanOctalDigits(){var start=pos;while(isOctalDigit(text.charCodeAt(pos))){pos++;}
return+(text.substring(start,pos));}
function scanExactNumberOfHexDigits(count){return scanHexDigits(count,false);}
function scanMinimumNumberOfHexDigits(count){return scanHexDigits(count,true);}
function scanHexDigits(minCount,scanAsManyAsPossible){var digits=0;var value=0;while(digits<minCount||scanAsManyAsPossible){var ch=text.charCodeAt(pos);if(ch>=48 &&ch<=57 ){value=value*16+ch-48 ;}
else if(ch>=65 &&ch<=70 ){value=value*16+ch-65 +10;}
else if(ch>=97 &&ch<=102 ){value=value*16+ch-97 +10;}
else{break;}
pos++;digits++;}
if(digits<minCount){value=-1;}
return value;}
function scanString(){var quote=text.charCodeAt(pos);pos++;var result="";var start=pos;while(true){if(pos>=end){result+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_string_literal);break;}
var ch=text.charCodeAt(pos);if(ch===quote){result+=text.substring(start,pos);pos++;break;}
if(ch===92 ){result+=text.substring(start,pos);result+=scanEscapeSequence();start=pos;continue;}
if(isLineBreak(ch)){result+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_string_literal);break;}
pos++;}
return result;}
function scanTemplateAndSetTokenValue(){var startedWithBacktick=text.charCodeAt(pos)===96 ;pos++;var start=pos;var contents="";var resultingToken;while(true){if(pos>=end){contents+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_template_literal);resultingToken=startedWithBacktick?11 :14 ;break;}
var currChar=text.charCodeAt(pos);if(currChar===96 ){contents+=text.substring(start,pos);pos++;resultingToken=startedWithBacktick?11 :14 ;break;}
if(currChar===36 &&pos+1<end&&text.charCodeAt(pos+1)===123 ){contents+=text.substring(start,pos);pos+=2;resultingToken=startedWithBacktick?12 :13 ;break;}
if(currChar===92 ){contents+=text.substring(start,pos);contents+=scanEscapeSequence();start=pos;continue;}
if(currChar===13 ){contents+=text.substring(start,pos);pos++;if(pos<end&&text.charCodeAt(pos)===10 ){pos++;}
contents+="\n";start=pos;continue;}
pos++;}
ts.Debug.assert(resultingToken!==undefined);tokenValue=contents;return resultingToken;}
function scanEscapeSequence(){pos++;if(pos>=end){error(ts.Diagnostics.Unexpected_end_of_text);return"";}
var ch=text.charCodeAt(pos);pos++;switch(ch){case 48 :return"\0";case 98 :return"\b";case 116 :return"\t";case 110 :return"\n";case 118 :return"\v";case 102 :return"\f";case 114 :return"\r";case 39 :return"\'";case 34 :return"\"";case 117 :if(pos<end&&text.charCodeAt(pos)===123 ){hasExtendedUnicodeEscape=true;pos++;return scanExtendedUnicodeEscape();}
return scanHexadecimalEscape(4);case 120 :return scanHexadecimalEscape(2);case 13 :if(pos<end&&text.charCodeAt(pos)===10 ){pos++;}
case 10 :case 8232 :case 8233 :return"";default:return String.fromCharCode(ch);}}
function scanHexadecimalEscape(numDigits){var escapedValue=scanExactNumberOfHexDigits(numDigits);if(escapedValue>=0){return String.fromCharCode(escapedValue);}
else{error(ts.Diagnostics.Hexadecimal_digit_expected);return"";}}
function scanExtendedUnicodeEscape(){var escapedValue=scanMinimumNumberOfHexDigits(1);var isInvalidExtendedEscape=false;if(escapedValue<0){error(ts.Diagnostics.Hexadecimal_digit_expected);isInvalidExtendedEscape=true;}
else if(escapedValue>0x10FFFF){error(ts.Diagnostics.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive);isInvalidExtendedEscape=true;}
if(pos>=end){error(ts.Diagnostics.Unexpected_end_of_text);isInvalidExtendedEscape=true;}
else if(text.charCodeAt(pos)===125 ){pos++;}
else{error(ts.Diagnostics.Unterminated_Unicode_escape_sequence);isInvalidExtendedEscape=true;}
if(isInvalidExtendedEscape){return"";}
return utf16EncodeAsString(escapedValue);}
function utf16EncodeAsString(codePoint){ts.Debug.assert(0x0<=codePoint&&codePoint<=0x10FFFF);if(codePoint<=65535){return String.fromCharCode(codePoint);}
var codeUnit1=Math.floor((codePoint-65536)/1024)+0xD800;var codeUnit2=((codePoint-65536)%1024)+0xDC00;return String.fromCharCode(codeUnit1,codeUnit2);}
function peekUnicodeEscape(){if(pos+5<end&&text.charCodeAt(pos+1)===117 ){var start_1=pos;pos+=2;var value=scanExactNumberOfHexDigits(4);pos=start_1;return value;}
return-1;}
function scanIdentifierParts(){var result="";var start=pos;while(pos<end){var ch=text.charCodeAt(pos);if(isIdentifierPart(ch,languageVersion)){pos++;}
else if(ch===92 ){ch=peekUnicodeEscape();if(!(ch>=0&&isIdentifierPart(ch,languageVersion))){break;}
result+=text.substring(start,pos);result+=String.fromCharCode(ch);pos+=6;start=pos;}
else{break;}}
result+=text.substring(start,pos);return result;}
function getIdentifierToken(){var len=tokenValue.length;if(len>=2&&len<=11){var ch=tokenValue.charCodeAt(0);if(ch>=97 &&ch<=122 &&hasOwnProperty.call(textToToken,tokenValue)){return token=textToToken[tokenValue];}}
return token=69 ;}
function scanBinaryOrOctalDigits(base){ts.Debug.assert(base!==2||base!==8,"Expected either base 2 or base 8");var value=0;var numberOfDigits=0;while(true){var ch=text.charCodeAt(pos);var valueOfCh=ch-48 ;if(!isDigit(ch)||valueOfCh>=base){break;}
value=value*base+valueOfCh;pos++;numberOfDigits++;}
if(numberOfDigits===0){return-1;}
return value;}
function scan(){startPos=pos;hasExtendedUnicodeEscape=false;precedingLineBreak=false;tokenIsUnterminated=false;while(true){tokenPos=pos;if(pos>=end){return token=1 ;}
var ch=text.charCodeAt(pos);if(ch===35 &&pos===0&&isShebangTrivia(text,pos)){pos=scanShebangTrivia(text,pos);if(skipTrivia){continue;}
else{return token=6 ;}}
switch(ch){case 10 :case 13 :precedingLineBreak=true;if(skipTrivia){pos++;continue;}
else{if(ch===13 &&pos+1<end&&text.charCodeAt(pos+1)===10 ){pos+=2;}
else{pos++;}
return token=4 ;}
case 9 :case 11 :case 12 :case 32 :if(skipTrivia){pos++;continue;}
else{while(pos<end&&isWhiteSpace(text.charCodeAt(pos))){pos++;}
return token=5 ;}
case 33 :if(text.charCodeAt(pos+1)===61 ){if(text.charCodeAt(pos+2)===61 ){return pos+=3,token=33 ;}
return pos+=2,token=31 ;}
pos++;return token=49 ;case 34 :case 39 :tokenValue=scanString();return token=9 ;case 96 :return token=scanTemplateAndSetTokenValue();case 37 :if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=62 ;}
pos++;return token=40 ;case 38 :if(text.charCodeAt(pos+1)===38 ){return pos+=2,token=51 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=66 ;}
pos++;return token=46 ;case 40 :pos++;return token=17 ;case 41 :pos++;return token=18 ;case 42 :if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=59 ;}
if(text.charCodeAt(pos+1)===42 ){if(text.charCodeAt(pos+2)===61 ){return pos+=3,token=60 ;}
return pos+=2,token=38 ;}
pos++;return token=37 ;case 43 :if(text.charCodeAt(pos+1)===43 ){return pos+=2,token=41 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=57 ;}
pos++;return token=35 ;case 44 :pos++;return token=24 ;case 45 :if(text.charCodeAt(pos+1)===45 ){return pos+=2,token=42 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=58 ;}
pos++;return token=36 ;case 46 :if(isDigit(text.charCodeAt(pos+1))){tokenValue=scanNumber();return token=8 ;}
if(text.charCodeAt(pos+1)===46 &&text.charCodeAt(pos+2)===46 ){return pos+=3,token=22 ;}
pos++;return token=21 ;case 47 :if(text.charCodeAt(pos+1)===47 ){pos+=2;while(pos<end){if(isLineBreak(text.charCodeAt(pos))){break;}
pos++;}
if(skipTrivia){continue;}
else{return token=2 ;}}
if(text.charCodeAt(pos+1)===42 ){pos+=2;var commentClosed=false;while(pos<end){var ch_2=text.charCodeAt(pos);if(ch_2===42 &&text.charCodeAt(pos+1)===47 ){pos+=2;commentClosed=true;break;}
if(isLineBreak(ch_2)){precedingLineBreak=true;}
pos++;}
if(!commentClosed){error(ts.Diagnostics.Asterisk_Slash_expected);}
if(skipTrivia){continue;}
else{tokenIsUnterminated=!commentClosed;return token=3 ;}}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=61 ;}
pos++;return token=39 ;case 48 :if(pos+2<end&&(text.charCodeAt(pos+1)===88 ||text.charCodeAt(pos+1)===120 )){pos+=2;var value=scanMinimumNumberOfHexDigits(1);if(value<0){error(ts.Diagnostics.Hexadecimal_digit_expected);value=0;}
tokenValue=""+value;return token=8 ;}
else if(pos+2<end&&(text.charCodeAt(pos+1)===66 ||text.charCodeAt(pos+1)===98 )){pos+=2;var value=scanBinaryOrOctalDigits(2);if(value<0){error(ts.Diagnostics.Binary_digit_expected);value=0;}
tokenValue=""+value;return token=8 ;}
else if(pos+2<end&&(text.charCodeAt(pos+1)===79 ||text.charCodeAt(pos+1)===111 )){pos+=2;var value=scanBinaryOrOctalDigits(8);if(value<0){error(ts.Diagnostics.Octal_digit_expected);value=0;}
tokenValue=""+value;return token=8 ;}
if(pos+1<end&&isOctalDigit(text.charCodeAt(pos+1))){tokenValue=""+scanOctalDigits();return token=8 ;}
case 49 :case 50 :case 51 :case 52 :case 53 :case 54 :case 55 :case 56 :case 57 :tokenValue=scanNumber();return token=8 ;case 58 :pos++;return token=54 ;case 59 :pos++;return token=23 ;case 60 :if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue;}
else{return token=7 ;}}
if(text.charCodeAt(pos+1)===60 ){if(text.charCodeAt(pos+2)===61 ){return pos+=3,token=63 ;}
return pos+=2,token=43 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=28 ;}
if(languageVariant===1 &&text.charCodeAt(pos+1)===47 &&text.charCodeAt(pos+2)!==42 ){return pos+=2,token=26 ;}
pos++;return token=25 ;case 61 :if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue;}
else{return token=7 ;}}
if(text.charCodeAt(pos+1)===61 ){if(text.charCodeAt(pos+2)===61 ){return pos+=3,token=32 ;}
return pos+=2,token=30 ;}
if(text.charCodeAt(pos+1)===62 ){return pos+=2,token=34 ;}
pos++;return token=56 ;case 62 :if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue;}
else{return token=7 ;}}
pos++;return token=27 ;case 63 :pos++;return token=53 ;case 91 :pos++;return token=19 ;case 93 :pos++;return token=20 ;case 94 :if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=68 ;}
pos++;return token=48 ;case 123 :pos++;return token=15 ;case 124 :if(text.charCodeAt(pos+1)===124 ){return pos+=2,token=52 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=67 ;}
pos++;return token=47 ;case 125 :pos++;return token=16 ;case 126 :pos++;return token=50 ;case 64 :pos++;return token=55 ;case 92 :var cookedChar=peekUnicodeEscape();if(cookedChar>=0&&isIdentifierStart(cookedChar,languageVersion)){pos+=6;tokenValue=String.fromCharCode(cookedChar)+scanIdentifierParts();return token=getIdentifierToken();}
error(ts.Diagnostics.Invalid_character);pos++;return token=0 ;default:if(isIdentifierStart(ch,languageVersion)){pos++;while(pos<end&&isIdentifierPart(ch=text.charCodeAt(pos),languageVersion))
pos++;tokenValue=text.substring(tokenPos,pos);if(ch===92 ){tokenValue+=scanIdentifierParts();}
return token=getIdentifierToken();}
else if(isWhiteSpace(ch)){pos++;continue;}
else if(isLineBreak(ch)){precedingLineBreak=true;pos++;continue;}
error(ts.Diagnostics.Invalid_character);pos++;return token=0 ;}}}
function reScanGreaterToken(){if(token===27 ){if(text.charCodeAt(pos)===62 ){if(text.charCodeAt(pos+1)===62 ){if(text.charCodeAt(pos+2)===61 ){return pos+=3,token=65 ;}
return pos+=2,token=45 ;}
if(text.charCodeAt(pos+1)===61 ){return pos+=2,token=64 ;}
pos++;return token=44 ;}
if(text.charCodeAt(pos)===61 ){pos++;return token=29 ;}}
return token;}
function reScanSlashToken(){if(token===39 ||token===61 ){var p=tokenPos+1;var inEscape=false;var inCharacterClass=false;while(true){if(p>=end){tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_regular_expression_literal);break;}
var ch=text.charCodeAt(p);if(isLineBreak(ch)){tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_regular_expression_literal);break;}
if(inEscape){inEscape=false;}
else if(ch===47 &&!inCharacterClass){p++;break;}
else if(ch===91 ){inCharacterClass=true;}
else if(ch===92 ){inEscape=true;}
else if(ch===93 ){inCharacterClass=false;}
p++;}
while(p<end&&isIdentifierPart(text.charCodeAt(p),languageVersion)){p++;}
pos=p;tokenValue=text.substring(tokenPos,pos);token=10 ;}
return token;}
function reScanTemplateToken(){ts.Debug.assert(token===16 ,"'reScanTemplateToken' should only be called on a '}'");pos=tokenPos;return token=scanTemplateAndSetTokenValue();}
function reScanJsxToken(){pos=tokenPos=startPos;return token=scanJsxToken();}
function scanJsxToken(){startPos=tokenPos=pos;if(pos>=end){return token=1 ;}
var char=text.charCodeAt(pos);if(char===60 ){if(text.charCodeAt(pos+1)===47 ){pos+=2;return token=26 ;}
pos++;return token=25 ;}
if(char===123 ){pos++;return token=15 ;}
while(pos<end){pos++;char=text.charCodeAt(pos);if((char===123 )||(char===60 )){break;}}
return token=239 ;}
function scanJsxIdentifier(){if(tokenIsIdentifierOrKeyword(token)){var firstCharPosition=pos;while(pos<end){var ch=text.charCodeAt(pos);if(ch===45 ||((firstCharPosition===pos)?isIdentifierStart(ch,languageVersion):isIdentifierPart(ch,languageVersion))){pos++;}
else{break;}}
tokenValue+=text.substr(firstCharPosition,pos-firstCharPosition);}
return token;}
function scanJSDocToken(){if(pos>=end){return token=1 ;}
startPos=pos;var ch=text.charCodeAt(pos);while(pos<end){ch=text.charCodeAt(pos);if(isWhiteSpace(ch)){pos++;}
else{break;}}
tokenPos=pos;switch(ch){case 64 :return pos+=1,token=55 ;case 10 :case 13 :return pos+=1,token=4 ;case 42 :return pos+=1,token=37 ;case 123 :return pos+=1,token=15 ;case 125 :return pos+=1,token=16 ;case 91 :return pos+=1,token=19 ;case 93 :return pos+=1,token=20 ;case 61 :return pos+=1,token=56 ;case 44 :return pos+=1,token=24 ;}
if(isIdentifierStart(ch,2 )){pos++;while(isIdentifierPart(text.charCodeAt(pos),2 )&&pos<end){pos++;}
return token=69 ;}
else{return pos+=1,token=0 ;}}
function speculationHelper(callback,isLookahead){var savePos=pos;var saveStartPos=startPos;var saveTokenPos=tokenPos;var saveToken=token;var saveTokenValue=tokenValue;var savePrecedingLineBreak=precedingLineBreak;var result=callback();if(!result||isLookahead){pos=savePos;startPos=saveStartPos;tokenPos=saveTokenPos;token=saveToken;tokenValue=saveTokenValue;precedingLineBreak=savePrecedingLineBreak;}
return result;}
function scanRange(start,length,callback){var saveEnd=end;var savePos=pos;var saveStartPos=startPos;var saveTokenPos=tokenPos;var saveToken=token;var savePrecedingLineBreak=precedingLineBreak;var saveTokenValue=tokenValue;var saveHasExtendedUnicodeEscape=hasExtendedUnicodeEscape;var saveTokenIsUnterminated=tokenIsUnterminated;setText(text,start,length);var result=callback();end=saveEnd;pos=savePos;startPos=saveStartPos;tokenPos=saveTokenPos;token=saveToken;precedingLineBreak=savePrecedingLineBreak;tokenValue=saveTokenValue;hasExtendedUnicodeEscape=saveHasExtendedUnicodeEscape;tokenIsUnterminated=saveTokenIsUnterminated;return result;}
function lookAhead(callback){return speculationHelper(callback,true);}
function tryScan(callback){return speculationHelper(callback,false);}
function setText(newText,start,length){text=newText||"";end=length===undefined?text.length:start+length;setTextPos(start||0);}
function setOnError(errorCallback){onError=errorCallback;}
function setScriptTarget(scriptTarget){languageVersion=scriptTarget;}
function setLanguageVariant(variant){languageVariant=variant;}
function setTextPos(textPos){ts.Debug.assert(textPos>=0);pos=textPos;startPos=textPos;tokenPos=textPos;token=0 ;precedingLineBreak=false;tokenValue=undefined;hasExtendedUnicodeEscape=false;tokenIsUnterminated=false;}}
ts.createScanner=createScanner;})(ts||(ts={}));var ts;(function(ts){function getDeclarationOfKind(symbol,kind){var declarations=symbol.declarations;if(declarations){for(var _i=0,declarations_1=declarations;_i<declarations_1.length;_i++){var declaration=declarations_1[_i];if(declaration.kind===kind){return declaration;}}}
return undefined;}
ts.getDeclarationOfKind=getDeclarationOfKind;var stringWriters=[];function getSingleLineStringWriter(){if(stringWriters.length===0){var str_1="";var writeText=function(text){return str_1+=text;};return{string:function(){return str_1;},writeKeyword:writeText,writeOperator:writeText,writePunctuation:writeText,writeSpace:writeText,writeStringLiteral:writeText,writeParameter:writeText,writeSymbol:writeText,writeLine:function(){return str_1+=" ";},increaseIndent:function(){},decreaseIndent:function(){},clear:function(){return str_1="";},trackSymbol:function(){},reportInaccessibleThisError:function(){}};}
return stringWriters.pop();}
ts.getSingleLineStringWriter=getSingleLineStringWriter;function releaseStringWriter(writer){writer.clear();stringWriters.push(writer);}
ts.releaseStringWriter=releaseStringWriter;function getFullWidth(node){return node.end-node.pos;}
ts.getFullWidth=getFullWidth;function arrayIsEqualTo(array1,array2,equaler){if(!array1||!array2){return array1===array2;}
if(array1.length!==array2.length){return false;}
for(var i=0;i<array1.length;i++){var equals=equaler?equaler(array1[i],array2[i]):array1[i]===array2[i];if(!equals){return false;}}
return true;}
ts.arrayIsEqualTo=arrayIsEqualTo;function hasResolvedModule(sourceFile,moduleNameText){return sourceFile.resolvedModules&&ts.hasProperty(sourceFile.resolvedModules,moduleNameText);}
ts.hasResolvedModule=hasResolvedModule;function getResolvedModule(sourceFile,moduleNameText){return hasResolvedModule(sourceFile,moduleNameText)?sourceFile.resolvedModules[moduleNameText]:undefined;}
ts.getResolvedModule=getResolvedModule;function setResolvedModule(sourceFile,moduleNameText,resolvedModule){if(!sourceFile.resolvedModules){sourceFile.resolvedModules={};}
sourceFile.resolvedModules[moduleNameText]=resolvedModule;}
ts.setResolvedModule=setResolvedModule;function containsParseError(node){aggregateChildData(node);return(node.parserContextFlags&64 )!==0;}
ts.containsParseError=containsParseError;function aggregateChildData(node){if(!(node.parserContextFlags&128 )){var thisNodeOrAnySubNodesHasError=((node.parserContextFlags&16 )!==0)||ts.forEachChild(node,containsParseError);if(thisNodeOrAnySubNodesHasError){node.parserContextFlags|=64 ;}
node.parserContextFlags|=128 ;}}
function getSourceFileOfNode(node){while(node&&node.kind!==251 ){node=node.parent;}
return node;}
ts.getSourceFileOfNode=getSourceFileOfNode;function isStatementWithLocals(node){switch(node.kind){case 195 :case 223 :case 202 :case 203 :case 204 :return true;}
return false;}
ts.isStatementWithLocals=isStatementWithLocals;function getStartPositionOfLine(line,sourceFile){ts.Debug.assert(line>=0);return ts.getLineStarts(sourceFile)[line];}
ts.getStartPositionOfLine=getStartPositionOfLine;function nodePosToString(node){var file=getSourceFileOfNode(node);var loc=ts.getLineAndCharacterOfPosition(file,node.pos);return file.fileName+"("+(loc.line+1)+","+(loc.character+1)+")";}
ts.nodePosToString=nodePosToString;function getStartPosOfNode(node){return node.pos;}
ts.getStartPosOfNode=getStartPosOfNode;function nodeIsMissing(node){if(!node){return true;}
return node.pos===node.end&&node.pos>=0&&node.kind!==1 ;}
ts.nodeIsMissing=nodeIsMissing;function nodeIsPresent(node){return!nodeIsMissing(node);}
ts.nodeIsPresent=nodeIsPresent;function getTokenPosOfNode(node,sourceFile){if(nodeIsMissing(node)){return node.pos;}
return ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.pos);}
ts.getTokenPosOfNode=getTokenPosOfNode;function getNonDecoratorTokenPosOfNode(node,sourceFile){if(nodeIsMissing(node)||!node.decorators){return getTokenPosOfNode(node,sourceFile);}
return ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.decorators.end);}
ts.getNonDecoratorTokenPosOfNode=getNonDecoratorTokenPosOfNode;function getSourceTextOfNodeFromSourceFile(sourceFile,node,includeTrivia){if(includeTrivia===void 0){includeTrivia=false;}
if(nodeIsMissing(node)){return"";}
var text=sourceFile.text;return text.substring(includeTrivia?node.pos:ts.skipTrivia(text,node.pos),node.end);}
ts.getSourceTextOfNodeFromSourceFile=getSourceTextOfNodeFromSourceFile;function getTextOfNodeFromSourceText(sourceText,node){if(nodeIsMissing(node)){return"";}
return sourceText.substring(ts.skipTrivia(sourceText,node.pos),node.end);}
ts.getTextOfNodeFromSourceText=getTextOfNodeFromSourceText;function getTextOfNode(node,includeTrivia){if(includeTrivia===void 0){includeTrivia=false;}
return getSourceTextOfNodeFromSourceFile(getSourceFileOfNode(node),node,includeTrivia);}
ts.getTextOfNode=getTextOfNode;function escapeIdentifier(identifier){return identifier.length>=2&&identifier.charCodeAt(0)===95 &&identifier.charCodeAt(1)===95 ?"_"+identifier:identifier;}
ts.escapeIdentifier=escapeIdentifier;function unescapeIdentifier(identifier){return identifier.length>=3&&identifier.charCodeAt(0)===95 &&identifier.charCodeAt(1)===95 &&identifier.charCodeAt(2)===95 ?identifier.substr(1):identifier;}
ts.unescapeIdentifier=unescapeIdentifier;function makeIdentifierFromModuleName(moduleName){return ts.getBaseFileName(moduleName).replace(/^(\d)/,"_$1").replace(/\W/g,"_");}
ts.makeIdentifierFromModuleName=makeIdentifierFromModuleName;function isBlockOrCatchScoped(declaration){return(getCombinedNodeFlags(declaration)&24576 )!==0||isCatchClauseVariableDeclaration(declaration);}
ts.isBlockOrCatchScoped=isBlockOrCatchScoped;function isAmbientModule(node){return node&&node.kind===221 &&(node.name.kind===9 ||isGlobalScopeAugmentation(node));}
ts.isAmbientModule=isAmbientModule;function isBlockScopedContainerTopLevel(node){return node.kind===251 ||node.kind===221 ||isFunctionLike(node)||isFunctionBlock(node);}
ts.isBlockScopedContainerTopLevel=isBlockScopedContainerTopLevel;function isGlobalScopeAugmentation(module){return!!(module.flags&2097152 );}
ts.isGlobalScopeAugmentation=isGlobalScopeAugmentation;function isExternalModuleAugmentation(node){if(!node||!isAmbientModule(node)){return false;}
switch(node.parent.kind){case 251 :return isExternalModule(node.parent);case 222 :return isAmbientModule(node.parent.parent)&&!isExternalModule(node.parent.parent.parent);}
return false;}
ts.isExternalModuleAugmentation=isExternalModuleAugmentation;function getEnclosingBlockScopeContainer(node){var current=node.parent;while(current){if(isFunctionLike(current)){return current;}
switch(current.kind){case 251 :case 223 :case 247 :case 221 :case 202 :case 203 :case 204 :return current;case 195 :if(!isFunctionLike(current.parent)){return current;}}
current=current.parent;}}
ts.getEnclosingBlockScopeContainer=getEnclosingBlockScopeContainer;function isCatchClauseVariableDeclaration(declaration){return declaration&&declaration.kind===214 &&declaration.parent&&declaration.parent.kind===247 ;}
ts.isCatchClauseVariableDeclaration=isCatchClauseVariableDeclaration;function declarationNameToString(name){return getFullWidth(name)===0?"(Missing)":getTextOfNode(name);}
ts.declarationNameToString=declarationNameToString;function createDiagnosticForNode(node,message,arg0,arg1,arg2){var sourceFile=getSourceFileOfNode(node);var span=getErrorSpanForNode(sourceFile,node);return ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2);}
ts.createDiagnosticForNode=createDiagnosticForNode;function createDiagnosticForNodeFromMessageChain(node,messageChain){var sourceFile=getSourceFileOfNode(node);var span=getErrorSpanForNode(sourceFile,node);return{file:sourceFile,start:span.start,length:span.length,code:messageChain.code,category:messageChain.category,messageText:messageChain.next?messageChain:messageChain.messageText};}
ts.createDiagnosticForNodeFromMessageChain=createDiagnosticForNodeFromMessageChain;function getSpanOfTokenAtPosition(sourceFile,pos){var scanner=ts.createScanner(sourceFile.languageVersion,true,sourceFile.languageVariant,sourceFile.text,undefined,pos);scanner.scan();var start=scanner.getTokenPos();return ts.createTextSpanFromBounds(start,scanner.getTextPos());}
ts.getSpanOfTokenAtPosition=getSpanOfTokenAtPosition;function getErrorSpanForNode(sourceFile,node){var errorNode=node;switch(node.kind){case 251 :var pos_1=ts.skipTrivia(sourceFile.text,0,false);if(pos_1===sourceFile.text.length){return ts.createTextSpan(0,0);}
return getSpanOfTokenAtPosition(sourceFile,pos_1);case 214 :case 166 :case 217 :case 189 :case 218 :case 221 :case 220 :case 250 :case 216 :case 176 :case 144 :case 219 :errorNode=node.name;break;}
if(errorNode===undefined){return getSpanOfTokenAtPosition(sourceFile,node.pos);}
var pos=nodeIsMissing(errorNode)?errorNode.pos:ts.skipTrivia(sourceFile.text,errorNode.pos);return ts.createTextSpanFromBounds(pos,errorNode.end);}
ts.getErrorSpanForNode=getErrorSpanForNode;function isExternalModule(file){return file.externalModuleIndicator!==undefined;}
ts.isExternalModule=isExternalModule;function isExternalOrCommonJsModule(file){return(file.externalModuleIndicator||file.commonJsModuleIndicator)!==undefined;}
ts.isExternalOrCommonJsModule=isExternalOrCommonJsModule;function isDeclarationFile(file){return(file.flags&4096 )!==0;}
ts.isDeclarationFile=isDeclarationFile;function isConstEnumDeclaration(node){return node.kind===220 &&isConst(node);}
ts.isConstEnumDeclaration=isConstEnumDeclaration;function walkUpBindingElementsAndPatterns(node){while(node&&(node.kind===166 ||isBindingPattern(node))){node=node.parent;}
return node;}
function getCombinedNodeFlags(node){node=walkUpBindingElementsAndPatterns(node);var flags=node.flags;if(node.kind===214 ){node=node.parent;}
if(node&&node.kind===215 ){flags|=node.flags;node=node.parent;}
if(node&&node.kind===196 ){flags|=node.flags;}
return flags;}
ts.getCombinedNodeFlags=getCombinedNodeFlags;function isConst(node){return!!(getCombinedNodeFlags(node)&16384 );}
ts.isConst=isConst;function isLet(node){return!!(getCombinedNodeFlags(node)&8192 );}
ts.isLet=isLet;function isSuperCallExpression(n){return n.kind===171 &&n.expression.kind===95 ;}
ts.isSuperCallExpression=isSuperCallExpression;function isPrologueDirective(node){return node.kind===198 &&node.expression.kind===9 ;}
ts.isPrologueDirective=isPrologueDirective;function getLeadingCommentRangesOfNode(node,sourceFileOfNode){return ts.getLeadingCommentRanges(sourceFileOfNode.text,node.pos);}
ts.getLeadingCommentRangesOfNode=getLeadingCommentRangesOfNode;function getLeadingCommentRangesOfNodeFromText(node,text){return ts.getLeadingCommentRanges(text,node.pos);}
ts.getLeadingCommentRangesOfNodeFromText=getLeadingCommentRangesOfNodeFromText;function getJsDocComments(node,sourceFileOfNode){return getJsDocCommentsFromText(node,sourceFileOfNode.text);}
ts.getJsDocComments=getJsDocComments;function getJsDocCommentsFromText(node,text){var commentRanges=(node.kind===139 ||node.kind===138 )?ts.concatenate(ts.getTrailingCommentRanges(text,node.pos),ts.getLeadingCommentRanges(text,node.pos)):getLeadingCommentRangesOfNodeFromText(node,text);return ts.filter(commentRanges,isJsDocComment);function isJsDocComment(comment){return text.charCodeAt(comment.pos+1)===42 &&text.charCodeAt(comment.pos+2)===42 &&text.charCodeAt(comment.pos+3)!==47 ;}}
ts.getJsDocCommentsFromText=getJsDocCommentsFromText;ts.fullTripleSlashReferencePathRegEx=/^(\/\/\/\s*<reference\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;ts.fullTripleSlashAMDReferencePathRegEx=/^(\/\/\/\s*<amd-dependency\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;function isTypeNode(node){if(151 <=node.kind&&node.kind<=163 ){return true;}
switch(node.kind){case 117 :case 128 :case 130 :case 120 :case 131 :return true;case 103 :return node.parent.kind!==180 ;case 191 :return!isExpressionWithTypeArgumentsInClassExtendsClause(node);case 69 :if(node.parent.kind===136 &&node.parent.right===node){node=node.parent;}
else if(node.parent.kind===169 &&node.parent.name===node){node=node.parent;}
ts.Debug.assert(node.kind===69 ||node.kind===136 ||node.kind===169 ,"'node' was expected to be a qualified name, identifier or property access in 'isTypeNode'.");case 136 :case 169 :case 97 :var parent_1=node.parent;if(parent_1.kind===155 ){return false;}
if(151 <=parent_1.kind&&parent_1.kind<=163 ){return true;}
switch(parent_1.kind){case 191 :return!isExpressionWithTypeArgumentsInClassExtendsClause(parent_1);case 138 :return node===parent_1.constraint;case 142 :case 141 :case 139 :case 214 :return node===parent_1.type;case 216 :case 176 :case 177 :case 145 :case 144 :case 143 :case 146 :case 147 :return node===parent_1.type;case 148 :case 149 :case 150 :return node===parent_1.type;case 174 :return node===parent_1.type;case 171 :case 172 :return parent_1.typeArguments&&ts.indexOf(parent_1.typeArguments,node)>=0;case 173 :return false;}}
return false;}
ts.isTypeNode=isTypeNode;function forEachReturnStatement(body,visitor){return traverse(body);function traverse(node){switch(node.kind){case 207 :return visitor(node);case 223 :case 195 :case 199 :case 200 :case 201 :case 202 :case 203 :case 204 :case 208 :case 209 :case 244 :case 245 :case 210 :case 212 :case 247 :return ts.forEachChild(node,traverse);}}}
ts.forEachReturnStatement=forEachReturnStatement;function forEachYieldExpression(body,visitor){return traverse(body);function traverse(node){switch(node.kind){case 187 :visitor(node);var operand=node.expression;if(operand){traverse(operand);}
case 220 :case 218 :case 221 :case 219 :case 217 :case 189 :return;default:if(isFunctionLike(node)){var name_5=node.name;if(name_5&&name_5.kind===137 ){traverse(name_5.expression);return;}}
else if(!isTypeNode(node)){ts.forEachChild(node,traverse);}}}}
ts.forEachYieldExpression=forEachYieldExpression;function isVariableLike(node){if(node){switch(node.kind){case 166 :case 250 :case 139 :case 248 :case 142 :case 141 :case 249 :case 214 :return true;}}
return false;}
ts.isVariableLike=isVariableLike;function isAccessor(node){return node&&(node.kind===146 ||node.kind===147 );}
ts.isAccessor=isAccessor;function isClassLike(node){return node&&(node.kind===217 ||node.kind===189 );}
ts.isClassLike=isClassLike;function isFunctionLike(node){return node&&isFunctionLikeKind(node.kind);}
ts.isFunctionLike=isFunctionLike;function isFunctionLikeKind(kind){switch(kind){case 145 :case 176 :case 216 :case 177 :case 144 :case 143 :case 146 :case 147 :case 148 :case 149 :case 150 :case 153 :case 154 :return true;}}
ts.isFunctionLikeKind=isFunctionLikeKind;function introducesArgumentsExoticObject(node){switch(node.kind){case 144 :case 143 :case 145 :case 146 :case 147 :case 216 :case 176 :return true;}
return false;}
ts.introducesArgumentsExoticObject=introducesArgumentsExoticObject;function isIterationStatement(node,lookInLabeledStatements){switch(node.kind){case 202 :case 203 :case 204 :case 200 :case 201 :return true;case 210 :return lookInLabeledStatements&&isIterationStatement(node.statement,lookInLabeledStatements);}
return false;}
ts.isIterationStatement=isIterationStatement;function isFunctionBlock(node){return node&&node.kind===195 &&isFunctionLike(node.parent);}
ts.isFunctionBlock=isFunctionBlock;function isObjectLiteralMethod(node){return node&&node.kind===144 &&node.parent.kind===168 ;}
ts.isObjectLiteralMethod=isObjectLiteralMethod;function isIdentifierTypePredicate(predicate){return predicate&&predicate.kind===1 ;}
ts.isIdentifierTypePredicate=isIdentifierTypePredicate;function isThisTypePredicate(predicate){return predicate&&predicate.kind===0 ;}
ts.isThisTypePredicate=isThisTypePredicate;function getContainingFunction(node){while(true){node=node.parent;if(!node||isFunctionLike(node)){return node;}}}
ts.getContainingFunction=getContainingFunction;function getContainingClass(node){while(true){node=node.parent;if(!node||isClassLike(node)){return node;}}}
ts.getContainingClass=getContainingClass;function getThisContainer(node,includeArrowFunctions){while(true){node=node.parent;if(!node){return undefined;}
switch(node.kind){case 137 :if(isClassLike(node.parent.parent)){return node;}
node=node.parent;break;case 140 :if(node.parent.kind===139 &&isClassElement(node.parent.parent)){node=node.parent.parent;}
else if(isClassElement(node.parent)){node=node.parent;}
break;case 177 :if(!includeArrowFunctions){continue;}
case 216 :case 176 :case 221 :case 142 :case 141 :case 144 :case 143 :case 145 :case 146 :case 147 :case 148 :case 149 :case 150 :case 220 :case 251 :return node;}}}
ts.getThisContainer=getThisContainer;function getSuperContainer(node,stopOnFunctions){while(true){node=node.parent;if(!node){return node;}
switch(node.kind){case 137 :node=node.parent;break;case 216 :case 176 :case 177 :if(!stopOnFunctions){continue;}
case 142 :case 141 :case 144 :case 143 :case 145 :case 146 :case 147 :return node;case 140 :if(node.parent.kind===139 &&isClassElement(node.parent.parent)){node=node.parent.parent;}
else if(isClassElement(node.parent)){node=node.parent;}
break;}}}
ts.getSuperContainer=getSuperContainer;function isSuperPropertyOrElementAccess(node){return(node.kind===169 ||node.kind===170 )&&node.expression.kind===95 ;}
ts.isSuperPropertyOrElementAccess=isSuperPropertyOrElementAccess;function getEntityNameFromTypeNode(node){if(node){switch(node.kind){case 152 :return node.typeName;case 191 :return node.expression;case 69 :case 136 :return node;}}
return undefined;}
ts.getEntityNameFromTypeNode=getEntityNameFromTypeNode;function getInvokedExpression(node){if(node.kind===173 ){return node.tag;}
return node.expression;}
ts.getInvokedExpression=getInvokedExpression;function nodeCanBeDecorated(node){switch(node.kind){case 217 :return true;case 142 :return node.parent.kind===217 ;case 146 :case 147 :case 144 :return node.body!==undefined&&node.parent.kind===217 ;case 139 :return node.parent.body!==undefined&&(node.parent.kind===145 ||node.parent.kind===144 ||node.parent.kind===147 )&&node.parent.parent.kind===217 ;}
return false;}
ts.nodeCanBeDecorated=nodeCanBeDecorated;function nodeIsDecorated(node){return node.decorators!==undefined&&nodeCanBeDecorated(node);}
ts.nodeIsDecorated=nodeIsDecorated;function isPropertyAccessExpression(node){return node.kind===169 ;}
ts.isPropertyAccessExpression=isPropertyAccessExpression;function isElementAccessExpression(node){return node.kind===170 ;}
ts.isElementAccessExpression=isElementAccessExpression;function isExpression(node){switch(node.kind){case 95 :case 93 :case 99 :case 84 :case 10 :case 167 :case 168 :case 169 :case 170 :case 171 :case 172 :case 173 :case 192 :case 174 :case 175 :case 176 :case 189 :case 177 :case 180 :case 178 :case 179 :case 182 :case 183 :case 184 :case 185 :case 188 :case 186 :case 11 :case 190 :case 236 :case 237 :case 187 :case 181 :return true;case 136 :while(node.parent.kind===136 ){node=node.parent;}
return node.parent.kind===155 ;case 69 :if(node.parent.kind===155 ){return true;}
case 8 :case 9 :case 97 :var parent_2=node.parent;switch(parent_2.kind){case 214 :case 139 :case 142 :case 141 :case 250 :case 248 :case 166 :return parent_2.initializer===node;case 198 :case 199 :case 200 :case 201 :case 207 :case 208 :case 209 :case 244 :case 211 :case 209 :return parent_2.expression===node;case 202 :var forStatement=parent_2;return(forStatement.initializer===node&&forStatement.initializer.kind!==215 )||forStatement.condition===node||forStatement.incrementor===node;case 203 :case 204 :var forInStatement=parent_2;return(forInStatement.initializer===node&&forInStatement.initializer.kind!==215 )||forInStatement.expression===node;case 174 :case 192 :return node===parent_2.expression;case 193 :return node===parent_2.expression;case 137 :return node===parent_2.expression;case 140 :case 243 :case 242 :return true;case 191 :return parent_2.expression===node&&isExpressionWithTypeArgumentsInClassExtendsClause(parent_2);default:if(isExpression(parent_2)){return true;}}}
return false;}
ts.isExpression=isExpression;function isExternalModuleNameRelative(moduleName){return moduleName.substr(0,2)==="./"||moduleName.substr(0,3)==="../"||moduleName.substr(0,2)===".\\"||moduleName.substr(0,3)==="..\\";}
ts.isExternalModuleNameRelative=isExternalModuleNameRelative;function isInstantiatedModule(node,preserveConstEnums){var moduleState=ts.getModuleInstanceState(node);return moduleState===1 ||(preserveConstEnums&&moduleState===2 );}
ts.isInstantiatedModule=isInstantiatedModule;function isExternalModuleImportEqualsDeclaration(node){return node.kind===224 &&node.moduleReference.kind===235 ;}
ts.isExternalModuleImportEqualsDeclaration=isExternalModuleImportEqualsDeclaration;function getExternalModuleImportEqualsDeclarationExpression(node){ts.Debug.assert(isExternalModuleImportEqualsDeclaration(node));return node.moduleReference.expression;}
ts.getExternalModuleImportEqualsDeclarationExpression=getExternalModuleImportEqualsDeclarationExpression;function isInternalModuleImportEqualsDeclaration(node){return node.kind===224 &&node.moduleReference.kind!==235 ;}
ts.isInternalModuleImportEqualsDeclaration=isInternalModuleImportEqualsDeclaration;function isSourceFileJavaScript(file){return isInJavaScriptFile(file);}
ts.isSourceFileJavaScript=isSourceFileJavaScript;function isInJavaScriptFile(node){return node&&!!(node.parserContextFlags&32 );}
ts.isInJavaScriptFile=isInJavaScriptFile;function isRequireCall(expression,checkArgumentIsStringLiteral){var isRequire=expression.kind===171 &&expression.expression.kind===69 &&expression.expression.text==="require"&&expression.arguments.length===1;return isRequire&&(!checkArgumentIsStringLiteral||expression.arguments[0].kind===9 );}
ts.isRequireCall=isRequireCall;function getSpecialPropertyAssignmentKind(expression){if(!isInJavaScriptFile(expression)){return 0 ;}
if(expression.kind!==184 ){return 0 ;}
var expr=expression;if(expr.operatorToken.kind!==56 ||expr.left.kind!==169 ){return 0 ;}
var lhs=expr.left;if(lhs.expression.kind===69 ){var lhsId=lhs.expression;if(lhsId.text==="exports"){return 1 ;}
else if(lhsId.text==="module"&&lhs.name.text==="exports"){return 2 ;}}
else if(lhs.expression.kind===97 ){return 4 ;}
else if(lhs.expression.kind===169 ){var innerPropertyAccess=lhs.expression;if(innerPropertyAccess.expression.kind===69 &&innerPropertyAccess.name.text==="prototype"){return 3 ;}}
return 0 ;}
ts.getSpecialPropertyAssignmentKind=getSpecialPropertyAssignmentKind;function getExternalModuleName(node){if(node.kind===225 ){return node.moduleSpecifier;}
if(node.kind===224 ){var reference=node.moduleReference;if(reference.kind===235 ){return reference.expression;}}
if(node.kind===231 ){return node.moduleSpecifier;}
if(node.kind===221 &&node.name.kind===9 ){return node.name;}}
ts.getExternalModuleName=getExternalModuleName;function hasQuestionToken(node){if(node){switch(node.kind){case 139 :case 144 :case 143 :case 249 :case 248 :case 142 :case 141 :return node.questionToken!==undefined;}}
return false;}
ts.hasQuestionToken=hasQuestionToken;function isJSDocConstructSignature(node){return node.kind===264 &&node.parameters.length>0&&node.parameters[0].type.kind===266 ;}
ts.isJSDocConstructSignature=isJSDocConstructSignature;function getJSDocTag(node,kind,checkParentVariableStatement){if(!node){return undefined;}
var jsDocComment=getJSDocComment(node,checkParentVariableStatement);if(!jsDocComment){return undefined;}
for(var _i=0,_a=jsDocComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.kind===kind){return tag;}}}
function getJSDocComment(node,checkParentVariableStatement){if(node.jsDocComment){return node.jsDocComment;}
if(checkParentVariableStatement){var isInitializerOfVariableDeclarationInStatement=node.parent.kind===214 &&node.parent.initializer===node&&node.parent.parent.parent.kind===196 ;var variableStatementNode=isInitializerOfVariableDeclarationInStatement?node.parent.parent.parent:undefined;if(variableStatementNode){return variableStatementNode.jsDocComment;}
var parent_3=node.parent;var isSourceOfAssignmentExpressionStatement=parent_3&&parent_3.parent&&parent_3.kind===184 &&parent_3.operatorToken.kind===56 &&parent_3.parent.kind===198 ;if(isSourceOfAssignmentExpressionStatement){return parent_3.parent.jsDocComment;}
var isPropertyAssignmentExpression=parent_3&&parent_3.kind===248 ;if(isPropertyAssignmentExpression){return parent_3.jsDocComment;}}
return undefined;}
function getJSDocTypeTag(node){return getJSDocTag(node,272 ,false);}
ts.getJSDocTypeTag=getJSDocTypeTag;function getJSDocReturnTag(node){return getJSDocTag(node,271 ,true);}
ts.getJSDocReturnTag=getJSDocReturnTag;function getJSDocTemplateTag(node){return getJSDocTag(node,273 ,false);}
ts.getJSDocTemplateTag=getJSDocTemplateTag;function getCorrespondingJSDocParameterTag(parameter){if(parameter.name&&parameter.name.kind===69 ){var parameterName=parameter.name.text;var jsDocComment=getJSDocComment(parameter.parent,true);if(jsDocComment){for(var _i=0,_a=jsDocComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.kind===270 ){var parameterTag=tag;var name_6=parameterTag.preParameterName||parameterTag.postParameterName;if(name_6.text===parameterName){return parameterTag;}}}}}
return undefined;}
ts.getCorrespondingJSDocParameterTag=getCorrespondingJSDocParameterTag;function hasRestParameter(s){return isRestParameter(ts.lastOrUndefined(s.parameters));}
ts.hasRestParameter=hasRestParameter;function isRestParameter(node){if(node){if(node.parserContextFlags&32 ){if(node.type&&node.type.kind===265 ){return true;}
var paramTag=getCorrespondingJSDocParameterTag(node);if(paramTag&&paramTag.typeExpression){return paramTag.typeExpression.type.kind===265 ;}}
return node.dotDotDotToken!==undefined;}
return false;}
ts.isRestParameter=isRestParameter;function isLiteralKind(kind){return 8 <=kind&&kind<=11 ;}
ts.isLiteralKind=isLiteralKind;function isTextualLiteralKind(kind){return kind===9 ||kind===11 ;}
ts.isTextualLiteralKind=isTextualLiteralKind;function isTemplateLiteralKind(kind){return 11 <=kind&&kind<=14 ;}
ts.isTemplateLiteralKind=isTemplateLiteralKind;function isBindingPattern(node){return!!node&&(node.kind===165 ||node.kind===164 );}
ts.isBindingPattern=isBindingPattern;function isNodeDescendentOf(node,ancestor){while(node){if(node===ancestor)
return true;node=node.parent;}
return false;}
ts.isNodeDescendentOf=isNodeDescendentOf;function isInAmbientContext(node){while(node){if(node.flags&(4 |4096 )){return true;}
node=node.parent;}
return false;}
ts.isInAmbientContext=isInAmbientContext;function isDeclaration(node){switch(node.kind){case 177 :case 166 :case 217 :case 189 :case 145 :case 220 :case 250 :case 233 :case 216 :case 176 :case 146 :case 226 :case 224 :case 229 :case 218 :case 144 :case 143 :case 221 :case 227 :case 139 :case 248 :case 142 :case 141 :case 147 :case 249 :case 219 :case 138 :case 214 :return true;}
return false;}
ts.isDeclaration=isDeclaration;function isStatement(n){switch(n.kind){case 206 :case 205 :case 213 :case 200 :case 198 :case 197 :case 203 :case 204 :case 202 :case 199 :case 210 :case 207 :case 209 :case 211 :case 212 :case 196 :case 201 :case 208 :case 230 :return true;default:return false;}}
ts.isStatement=isStatement;function isClassElement(n){switch(n.kind){case 145 :case 142 :case 144 :case 146 :case 147 :case 143 :case 150 :return true;default:return false;}}
ts.isClassElement=isClassElement;function isDeclarationName(name){if(name.kind!==69 &&name.kind!==9 &&name.kind!==8 ){return false;}
var parent=name.parent;if(parent.kind===229 ||parent.kind===233 ){if(parent.propertyName){return true;}}
if(isDeclaration(parent)){return parent.name===name;}
return false;}
ts.isDeclarationName=isDeclarationName;function isIdentifierName(node){var parent=node.parent;switch(parent.kind){case 142 :case 141 :case 144 :case 143 :case 146 :case 147 :case 250 :case 248 :case 169 :return parent.name===node;case 136 :if(parent.right===node){while(parent.kind===136 ){parent=parent.parent;}
return parent.kind===155 ;}
return false;case 166 :case 229 :return parent.propertyName===node;case 233 :return true;}
return false;}
ts.isIdentifierName=isIdentifierName;function isAliasSymbolDeclaration(node){return node.kind===224 ||node.kind===226 &&!!node.name||node.kind===227 ||node.kind===229 ||node.kind===233 ||node.kind===230 &&node.expression.kind===69 ;}
ts.isAliasSymbolDeclaration=isAliasSymbolDeclaration;function getClassExtendsHeritageClauseElement(node){var heritageClause=getHeritageClause(node.heritageClauses,83 );return heritageClause&&heritageClause.types.length>0?heritageClause.types[0]:undefined;}
ts.getClassExtendsHeritageClauseElement=getClassExtendsHeritageClauseElement;function getClassImplementsHeritageClauseElements(node){var heritageClause=getHeritageClause(node.heritageClauses,106 );return heritageClause?heritageClause.types:undefined;}
ts.getClassImplementsHeritageClauseElements=getClassImplementsHeritageClauseElements;function getInterfaceBaseTypeNodes(node){var heritageClause=getHeritageClause(node.heritageClauses,83 );return heritageClause?heritageClause.types:undefined;}
ts.getInterfaceBaseTypeNodes=getInterfaceBaseTypeNodes;function getHeritageClause(clauses,kind){if(clauses){for(var _i=0,clauses_1=clauses;_i<clauses_1.length;_i++){var clause=clauses_1[_i];if(clause.token===kind){return clause;}}}
return undefined;}
ts.getHeritageClause=getHeritageClause;function tryResolveScriptReference(host,sourceFile,reference){if(!host.getCompilerOptions().noResolve){var referenceFileName=ts.isRootedDiskPath(reference.fileName)?reference.fileName:ts.combinePaths(ts.getDirectoryPath(sourceFile.fileName),reference.fileName);return host.getSourceFile(referenceFileName);}}
ts.tryResolveScriptReference=tryResolveScriptReference;function getAncestor(node,kind){while(node){if(node.kind===kind){return node;}
node=node.parent;}
return undefined;}
ts.getAncestor=getAncestor;function getFileReferenceFromReferencePath(comment,commentRange){var simpleReferenceRegEx=/^\/\/\/\s*<reference\s+/gim;var isNoDefaultLibRegEx=/^(\/\/\/\s*<reference\s+no-default-lib\s*=\s*)('|")(.+?)\2\s*\/>/gim;if(simpleReferenceRegEx.test(comment)){if(isNoDefaultLibRegEx.test(comment)){return{isNoDefaultLib:true};}
else{var matchResult=ts.fullTripleSlashReferencePathRegEx.exec(comment);if(matchResult){var start=commentRange.pos;var end=commentRange.end;return{fileReference:{pos:start,end:end,fileName:matchResult[3]},isNoDefaultLib:false};}
else{return{diagnosticMessage:ts.Diagnostics.Invalid_reference_directive_syntax,isNoDefaultLib:false};}}}
return undefined;}
ts.getFileReferenceFromReferencePath=getFileReferenceFromReferencePath;function isKeyword(token){return 70 <=token&&token<=135 ;}
ts.isKeyword=isKeyword;function isTrivia(token){return 2 <=token&&token<=7 ;}
ts.isTrivia=isTrivia;function isAsyncFunctionLike(node){return isFunctionLike(node)&&(node.flags&256 )!==0&&!isAccessor(node);}
ts.isAsyncFunctionLike=isAsyncFunctionLike;function isStringOrNumericLiteral(kind){return kind===9 ||kind===8 ;}
ts.isStringOrNumericLiteral=isStringOrNumericLiteral;function hasDynamicName(declaration){return declaration.name&&isDynamicName(declaration.name);}
ts.hasDynamicName=hasDynamicName;function isDynamicName(name){return name.kind===137 &&!isStringOrNumericLiteral(name.expression.kind)&&!isWellKnownSymbolSyntactically(name.expression);}
ts.isDynamicName=isDynamicName;function isWellKnownSymbolSyntactically(node){return isPropertyAccessExpression(node)&&isESSymbolIdentifier(node.expression);}
ts.isWellKnownSymbolSyntactically=isWellKnownSymbolSyntactically;function getPropertyNameForPropertyNameNode(name){if(name.kind===69 ||name.kind===9 ||name.kind===8 ){return name.text;}
if(name.kind===137 ){var nameExpression=name.expression;if(isWellKnownSymbolSyntactically(nameExpression)){var rightHandSideName=nameExpression.name.text;return getPropertyNameForKnownSymbolName(rightHandSideName);}}
return undefined;}
ts.getPropertyNameForPropertyNameNode=getPropertyNameForPropertyNameNode;function getPropertyNameForKnownSymbolName(symbolName){return"__@"+symbolName;}
ts.getPropertyNameForKnownSymbolName=getPropertyNameForKnownSymbolName;function isESSymbolIdentifier(node){return node.kind===69 &&node.text==="Symbol";}
ts.isESSymbolIdentifier=isESSymbolIdentifier;function isModifierKind(token){switch(token){case 115 :case 118 :case 74 :case 122 :case 77 :case 82 :case 112 :case 110 :case 111 :case 113 :return true;}
return false;}
ts.isModifierKind=isModifierKind;function isParameterDeclaration(node){var root=getRootDeclaration(node);return root.kind===139 ;}
ts.isParameterDeclaration=isParameterDeclaration;function getRootDeclaration(node){while(node.kind===166 ){node=node.parent.parent;}
return node;}
ts.getRootDeclaration=getRootDeclaration;function nodeStartsNewLexicalEnvironment(n){return isFunctionLike(n)||n.kind===221 ||n.kind===251 ;}
ts.nodeStartsNewLexicalEnvironment=nodeStartsNewLexicalEnvironment;function cloneNode(node,location,flags,parent){var clone=location!==undefined?ts.createNode(node.kind,location.pos,location.end):createSynthesizedNode(node.kind);for(var key in node){if(clone.hasOwnProperty(key)||!node.hasOwnProperty(key)){continue;}
clone[key]=node[key];}
if(flags!==undefined){clone.flags=flags;}
if(parent!==undefined){clone.parent=parent;}
return clone;}
ts.cloneNode=cloneNode;function cloneEntityName(node,parent){var clone=cloneNode(node,node,node.flags,parent);if(isQualifiedName(clone)){var left=clone.left,right=clone.right;clone.left=cloneEntityName(left,clone);clone.right=cloneNode(right,right,right.flags,parent);}
return clone;}
ts.cloneEntityName=cloneEntityName;function isQualifiedName(node){return node.kind===136 ;}
ts.isQualifiedName=isQualifiedName;function nodeIsSynthesized(node){return node.pos===-1;}
ts.nodeIsSynthesized=nodeIsSynthesized;function createSynthesizedNode(kind,startsOnNewLine){var node=ts.createNode(kind,-1,-1);node.startsOnNewLine=startsOnNewLine;return node;}
ts.createSynthesizedNode=createSynthesizedNode;function createSynthesizedNodeArray(){var array=[];array.pos=-1;array.end=-1;return array;}
ts.createSynthesizedNodeArray=createSynthesizedNodeArray;function createDiagnosticCollection(){var nonFileDiagnostics=[];var fileDiagnostics={};var diagnosticsModified=false;var modificationCount=0;return{add:add,getGlobalDiagnostics:getGlobalDiagnostics,getDiagnostics:getDiagnostics,getModificationCount:getModificationCount,reattachFileDiagnostics:reattachFileDiagnostics};function getModificationCount(){return modificationCount;}
function reattachFileDiagnostics(newFile){if(!ts.hasProperty(fileDiagnostics,newFile.fileName)){return;}
for(var _i=0,_a=fileDiagnostics[newFile.fileName];_i<_a.length;_i++){var diagnostic=_a[_i];diagnostic.file=newFile;}}
function add(diagnostic){var diagnostics;if(diagnostic.file){diagnostics=fileDiagnostics[diagnostic.file.fileName];if(!diagnostics){diagnostics=[];fileDiagnostics[diagnostic.file.fileName]=diagnostics;}}
else{diagnostics=nonFileDiagnostics;}
diagnostics.push(diagnostic);diagnosticsModified=true;modificationCount++;}
function getGlobalDiagnostics(){sortAndDeduplicate();return nonFileDiagnostics;}
function getDiagnostics(fileName){sortAndDeduplicate();if(fileName){return fileDiagnostics[fileName]||[];}
var allDiagnostics=[];function pushDiagnostic(d){allDiagnostics.push(d);}
ts.forEach(nonFileDiagnostics,pushDiagnostic);for(var key in fileDiagnostics){if(ts.hasProperty(fileDiagnostics,key)){ts.forEach(fileDiagnostics[key],pushDiagnostic);}}
return ts.sortAndDeduplicateDiagnostics(allDiagnostics);}
function sortAndDeduplicate(){if(!diagnosticsModified){return;}
diagnosticsModified=false;nonFileDiagnostics=ts.sortAndDeduplicateDiagnostics(nonFileDiagnostics);for(var key in fileDiagnostics){if(ts.hasProperty(fileDiagnostics,key)){fileDiagnostics[key]=ts.sortAndDeduplicateDiagnostics(fileDiagnostics[key]);}}}}
ts.createDiagnosticCollection=createDiagnosticCollection;var escapedCharsRegExp=/[\\\"\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g;var escapedCharsMap={"\0":"\\0","\t":"\\t","\v":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\","\"":"\\\"","\u2028":"\\u2028","\u2029":"\\u2029","\u0085":"\\u0085"};function escapeString(s){s=escapedCharsRegExp.test(s)?s.replace(escapedCharsRegExp,getReplacement):s;return s;function getReplacement(c){return escapedCharsMap[c]||get16BitUnicodeEscapeSequence(c.charCodeAt(0));}}
ts.escapeString=escapeString;function isIntrinsicJsxName(name){var ch=name.substr(0,1);return ch.toLowerCase()===ch;}
ts.isIntrinsicJsxName=isIntrinsicJsxName;function get16BitUnicodeEscapeSequence(charCode){var hexCharCode=charCode.toString(16).toUpperCase();var paddedHexCode=("0000"+hexCharCode).slice(-4);return"\\u"+paddedHexCode;}
var nonAsciiCharacters=/[^\u0000-\u007F]/g;function escapeNonAsciiCharacters(s){return nonAsciiCharacters.test(s)?s.replace(nonAsciiCharacters,function(c){return get16BitUnicodeEscapeSequence(c.charCodeAt(0));}):s;}
ts.escapeNonAsciiCharacters=escapeNonAsciiCharacters;var indentStrings=["","    "];function getIndentString(level){if(indentStrings[level]===undefined){indentStrings[level]=getIndentString(level-1)+indentStrings[1];}
return indentStrings[level];}
ts.getIndentString=getIndentString;function getIndentSize(){return indentStrings[1].length;}
ts.getIndentSize=getIndentSize;function createTextWriter(newLine){var output;var indent;var lineStart;var lineCount;var linePos;function write(s){if(s&&s.length){if(lineStart){output+=getIndentString(indent);lineStart=false;}
output+=s;}}
function reset(){output="";indent=0;lineStart=true;lineCount=0;linePos=0;}
function rawWrite(s){if(s!==undefined){if(lineStart){lineStart=false;}
output+=s;}}
function writeLiteral(s){if(s&&s.length){write(s);var lineStartsOfS=ts.computeLineStarts(s);if(lineStartsOfS.length>1){lineCount=lineCount+lineStartsOfS.length-1;linePos=output.length-s.length+ts.lastOrUndefined(lineStartsOfS);}}}
function writeLine(){if(!lineStart){output+=newLine;lineCount++;linePos=output.length;lineStart=true;}}
function writeTextOfNode(text,node){write(getTextOfNodeFromSourceText(text,node));}
reset();return{write:write,rawWrite:rawWrite,writeTextOfNode:writeTextOfNode,writeLiteral:writeLiteral,writeLine:writeLine,increaseIndent:function(){indent++;},decreaseIndent:function(){indent--;},getIndent:function(){return indent;},getTextPos:function(){return output.length;},getLine:function(){return lineCount+1;},getColumn:function(){return lineStart?indent*getIndentSize()+1:output.length-linePos+1;},getText:function(){return output;},reset:reset};}
ts.createTextWriter=createTextWriter;function getExternalModuleNameFromPath(host,fileName){var getCanonicalFileName=function(f){return host.getCanonicalFileName(f);};var dir=ts.toPath(host.getCommonSourceDirectory(),host.getCurrentDirectory(),getCanonicalFileName);var filePath=ts.getNormalizedAbsolutePath(fileName,host.getCurrentDirectory());var relativePath=ts.getRelativePathToDirectoryOrUrl(dir,filePath,dir,getCanonicalFileName,false);return ts.removeFileExtension(relativePath);}
ts.getExternalModuleNameFromPath=getExternalModuleNameFromPath;function getOwnEmitOutputFilePath(sourceFile,host,extension){var compilerOptions=host.getCompilerOptions();var emitOutputFilePathWithoutExtension;if(compilerOptions.outDir){emitOutputFilePathWithoutExtension=ts.removeFileExtension(getSourceFilePathInNewDir(sourceFile,host,compilerOptions.outDir));}
else{emitOutputFilePathWithoutExtension=ts.removeFileExtension(sourceFile.fileName);}
return emitOutputFilePathWithoutExtension+extension;}
ts.getOwnEmitOutputFilePath=getOwnEmitOutputFilePath;function getEmitScriptTarget(compilerOptions){return compilerOptions.target||0 ;}
ts.getEmitScriptTarget=getEmitScriptTarget;function getEmitModuleKind(compilerOptions){return typeof compilerOptions.module==="number"?compilerOptions.module:getEmitScriptTarget(compilerOptions)===2 ?5 :1 ;}
ts.getEmitModuleKind=getEmitModuleKind;function forEachExpectedEmitFile(host,action,targetSourceFile){var options=host.getCompilerOptions();if(options.outFile||options.out){onBundledEmit(host);}
else{var sourceFiles=targetSourceFile===undefined?host.getSourceFiles():[targetSourceFile];for(var _i=0,sourceFiles_1=sourceFiles;_i<sourceFiles_1.length;_i++){var sourceFile=sourceFiles_1[_i];if(!isDeclarationFile(sourceFile)){onSingleFileEmit(host,sourceFile);}}}
function onSingleFileEmit(host,sourceFile){var extension=".js";if(options.jsx===1 ){if(isSourceFileJavaScript(sourceFile)){if(ts.fileExtensionIs(sourceFile.fileName,".jsx")){extension=".jsx";}}
else if(sourceFile.languageVariant===1 ){extension=".jsx";}}
var jsFilePath=getOwnEmitOutputFilePath(sourceFile,host,extension);var emitFileNames={jsFilePath:jsFilePath,sourceMapFilePath:getSourceMapFilePath(jsFilePath,options),declarationFilePath:!isSourceFileJavaScript(sourceFile)?getDeclarationEmitFilePath(jsFilePath,options):undefined};action(emitFileNames,[sourceFile],false);}
function onBundledEmit(host){var bundledSources=ts.filter(host.getSourceFiles(),function(sourceFile){return!isDeclarationFile(sourceFile)&&(!isExternalModule(sourceFile)||(getEmitModuleKind(options)&&isExternalModule(sourceFile)));});if(bundledSources.length){var jsFilePath=options.outFile||options.out;var emitFileNames={jsFilePath:jsFilePath,sourceMapFilePath:getSourceMapFilePath(jsFilePath,options),declarationFilePath:getDeclarationEmitFilePath(jsFilePath,options)};action(emitFileNames,bundledSources,true);}}
function getSourceMapFilePath(jsFilePath,options){return options.sourceMap?jsFilePath+".map":undefined;}
function getDeclarationEmitFilePath(jsFilePath,options){return options.declaration?ts.removeFileExtension(jsFilePath)+".d.ts":undefined;}}
ts.forEachExpectedEmitFile=forEachExpectedEmitFile;function getSourceFilePathInNewDir(sourceFile,host,newDirPath){var sourceFilePath=ts.getNormalizedAbsolutePath(sourceFile.fileName,host.getCurrentDirectory());sourceFilePath=sourceFilePath.replace(host.getCommonSourceDirectory(),"");return ts.combinePaths(newDirPath,sourceFilePath);}
ts.getSourceFilePathInNewDir=getSourceFilePathInNewDir;function writeFile(host,diagnostics,fileName,data,writeByteOrderMark){host.writeFile(fileName,data,writeByteOrderMark,function(hostErrorMessage){diagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Could_not_write_file_0_Colon_1,fileName,hostErrorMessage));});}
ts.writeFile=writeFile;function getLineOfLocalPosition(currentSourceFile,pos){return ts.getLineAndCharacterOfPosition(currentSourceFile,pos).line;}
ts.getLineOfLocalPosition=getLineOfLocalPosition;function getLineOfLocalPositionFromLineMap(lineMap,pos){return ts.computeLineAndCharacterOfPosition(lineMap,pos).line;}
ts.getLineOfLocalPositionFromLineMap=getLineOfLocalPositionFromLineMap;function getFirstConstructorWithBody(node){return ts.forEach(node.members,function(member){if(member.kind===145 &&nodeIsPresent(member.body)){return member;}});}
ts.getFirstConstructorWithBody=getFirstConstructorWithBody;function getSetAccessorTypeAnnotationNode(accessor){return accessor&&accessor.parameters.length>0&&accessor.parameters[0].type;}
ts.getSetAccessorTypeAnnotationNode=getSetAccessorTypeAnnotationNode;function getAllAccessorDeclarations(declarations,accessor){var firstAccessor;var secondAccessor;var getAccessor;var setAccessor;if(hasDynamicName(accessor)){firstAccessor=accessor;if(accessor.kind===146 ){getAccessor=accessor;}
else if(accessor.kind===147 ){setAccessor=accessor;}
else{ts.Debug.fail("Accessor has wrong kind");}}
else{ts.forEach(declarations,function(member){if((member.kind===146 ||member.kind===147 )&&(member.flags&64 )===(accessor.flags&64 )){var memberName=getPropertyNameForPropertyNameNode(member.name);var accessorName=getPropertyNameForPropertyNameNode(accessor.name);if(memberName===accessorName){if(!firstAccessor){firstAccessor=member;}
else if(!secondAccessor){secondAccessor=member;}
if(member.kind===146 &&!getAccessor){getAccessor=member;}
if(member.kind===147 &&!setAccessor){setAccessor=member;}}}});}
return{firstAccessor:firstAccessor,secondAccessor:secondAccessor,getAccessor:getAccessor,setAccessor:setAccessor};}
ts.getAllAccessorDeclarations=getAllAccessorDeclarations;function emitNewLineBeforeLeadingComments(lineMap,writer,node,leadingComments){if(leadingComments&&leadingComments.length&&node.pos!==leadingComments[0].pos&&getLineOfLocalPositionFromLineMap(lineMap,node.pos)!==getLineOfLocalPositionFromLineMap(lineMap,leadingComments[0].pos)){writer.writeLine();}}
ts.emitNewLineBeforeLeadingComments=emitNewLineBeforeLeadingComments;function emitComments(text,lineMap,writer,comments,trailingSeparator,newLine,writeComment){var emitLeadingSpace=!trailingSeparator;ts.forEach(comments,function(comment){if(emitLeadingSpace){writer.write(" ");emitLeadingSpace=false;}
writeComment(text,lineMap,writer,comment,newLine);if(comment.hasTrailingNewLine){writer.writeLine();}
else if(trailingSeparator){writer.write(" ");}
else{emitLeadingSpace=true;}});}
ts.emitComments=emitComments;function emitDetachedComments(text,lineMap,writer,writeComment,node,newLine,removeComments){var leadingComments;var currentDetachedCommentInfo;if(removeComments){if(node.pos===0){leadingComments=ts.filter(ts.getLeadingCommentRanges(text,node.pos),isPinnedComment);}}
else{leadingComments=ts.getLeadingCommentRanges(text,node.pos);}
if(leadingComments){var detachedComments=[];var lastComment=void 0;for(var _i=0,leadingComments_1=leadingComments;_i<leadingComments_1.length;_i++){var comment=leadingComments_1[_i];if(lastComment){var lastCommentLine=getLineOfLocalPositionFromLineMap(lineMap,lastComment.end);var commentLine=getLineOfLocalPositionFromLineMap(lineMap,comment.pos);if(commentLine>=lastCommentLine+2){break;}}
detachedComments.push(comment);lastComment=comment;}
if(detachedComments.length){var lastCommentLine=getLineOfLocalPositionFromLineMap(lineMap,ts.lastOrUndefined(detachedComments).end);var nodeLine=getLineOfLocalPositionFromLineMap(lineMap,ts.skipTrivia(text,node.pos));if(nodeLine>=lastCommentLine+2){emitNewLineBeforeLeadingComments(lineMap,writer,node,leadingComments);emitComments(text,lineMap,writer,detachedComments,true,newLine,writeComment);currentDetachedCommentInfo={nodePos:node.pos,detachedCommentEndPos:ts.lastOrUndefined(detachedComments).end};}}}
return currentDetachedCommentInfo;function isPinnedComment(comment){return text.charCodeAt(comment.pos+1)===42 &&text.charCodeAt(comment.pos+2)===33 ;}}
ts.emitDetachedComments=emitDetachedComments;function writeCommentRange(text,lineMap,writer,comment,newLine){if(text.charCodeAt(comment.pos+1)===42 ){var firstCommentLineAndCharacter=ts.computeLineAndCharacterOfPosition(lineMap,comment.pos);var lineCount=lineMap.length;var firstCommentLineIndent=void 0;for(var pos=comment.pos,currentLine=firstCommentLineAndCharacter.line;pos<comment.end;currentLine++){var nextLineStart=(currentLine+1)===lineCount?text.length+1:lineMap[currentLine+1];if(pos!==comment.pos){if(firstCommentLineIndent===undefined){firstCommentLineIndent=calculateIndent(text,lineMap[firstCommentLineAndCharacter.line],comment.pos);}
var currentWriterIndentSpacing=writer.getIndent()*getIndentSize();var spacesToEmit=currentWriterIndentSpacing-firstCommentLineIndent+calculateIndent(text,pos,nextLineStart);if(spacesToEmit>0){var numberOfSingleSpacesToEmit=spacesToEmit%getIndentSize();var indentSizeSpaceString=getIndentString((spacesToEmit-numberOfSingleSpacesToEmit)/getIndentSize());writer.rawWrite(indentSizeSpaceString);while(numberOfSingleSpacesToEmit){writer.rawWrite(" ");numberOfSingleSpacesToEmit--;}}
else{writer.rawWrite("");}}
writeTrimmedCurrentLine(text,comment,writer,newLine,pos,nextLineStart);pos=nextLineStart;}}
else{writer.write(text.substring(comment.pos,comment.end));}}
ts.writeCommentRange=writeCommentRange;function writeTrimmedCurrentLine(text,comment,writer,newLine,pos,nextLineStart){var end=Math.min(comment.end,nextLineStart-1);var currentLineText=text.substring(pos,end).replace(/^\s+|\s+$/g,"");if(currentLineText){writer.write(currentLineText);if(end!==comment.end){writer.writeLine();}}
else{writer.writeLiteral(newLine);}}
function calculateIndent(text,pos,end){var currentLineIndent=0;for(;pos<end&&ts.isWhiteSpace(text.charCodeAt(pos));pos++){if(text.charCodeAt(pos)===9 ){currentLineIndent+=getIndentSize()-(currentLineIndent%getIndentSize());}
else{currentLineIndent++;}}
return currentLineIndent;}
function modifierToFlag(token){switch(token){case 113 :return 64 ;case 112 :return 8 ;case 111 :return 32 ;case 110 :return 16 ;case 115 :return 128 ;case 82 :return 2 ;case 122 :return 4 ;case 74 :return 16384 ;case 77 :return 512 ;case 118 :return 256 ;}
return 0;}
ts.modifierToFlag=modifierToFlag;function isLeftHandSideExpression(expr){if(expr){switch(expr.kind){case 169 :case 170 :case 172 :case 171 :case 236 :case 237 :case 173 :case 167 :case 175 :case 168 :case 189 :case 176 :case 69 :case 10 :case 8 :case 9 :case 11 :case 186 :case 84 :case 93 :case 97 :case 99 :case 95 :return true;}}
return false;}
ts.isLeftHandSideExpression=isLeftHandSideExpression;function isAssignmentOperator(token){return token>=56 &&token<=68 ;}
ts.isAssignmentOperator=isAssignmentOperator;function isExpressionWithTypeArgumentsInClassExtendsClause(node){return node.kind===191 &&node.parent.token===83 &&isClassLike(node.parent.parent);}
ts.isExpressionWithTypeArgumentsInClassExtendsClause=isExpressionWithTypeArgumentsInClassExtendsClause;function isSupportedExpressionWithTypeArguments(node){return isSupportedExpressionWithTypeArgumentsRest(node.expression);}
ts.isSupportedExpressionWithTypeArguments=isSupportedExpressionWithTypeArguments;function isSupportedExpressionWithTypeArgumentsRest(node){if(node.kind===69 ){return true;}
else if(isPropertyAccessExpression(node)){return isSupportedExpressionWithTypeArgumentsRest(node.expression);}
else{return false;}}
function isRightSideOfQualifiedNameOrPropertyAccess(node){return(node.parent.kind===136 &&node.parent.right===node)||(node.parent.kind===169 &&node.parent.name===node);}
ts.isRightSideOfQualifiedNameOrPropertyAccess=isRightSideOfQualifiedNameOrPropertyAccess;function isEmptyObjectLiteralOrArrayLiteral(expression){var kind=expression.kind;if(kind===168 ){return expression.properties.length===0;}
if(kind===167 ){return expression.elements.length===0;}
return false;}
ts.isEmptyObjectLiteralOrArrayLiteral=isEmptyObjectLiteralOrArrayLiteral;function getLocalSymbolForExportDefault(symbol){return symbol&&symbol.valueDeclaration&&(symbol.valueDeclaration.flags&512 )?symbol.valueDeclaration.localSymbol:undefined;}
ts.getLocalSymbolForExportDefault=getLocalSymbolForExportDefault;function hasJavaScriptFileExtension(fileName){return ts.forEach(ts.supportedJavascriptExtensions,function(extension){return ts.fileExtensionIs(fileName,extension);});}
ts.hasJavaScriptFileExtension=hasJavaScriptFileExtension;function hasTypeScriptFileExtension(fileName){return ts.forEach(ts.supportedTypeScriptExtensions,function(extension){return ts.fileExtensionIs(fileName,extension);});}
ts.hasTypeScriptFileExtension=hasTypeScriptFileExtension;function getExpandedCharCodes(input){var output=[];var length=input.length;for(var i=0;i<length;i++){var charCode=input.charCodeAt(i);if(charCode<0x80){output.push(charCode);}
else if(charCode<0x800){output.push((charCode>>6)|192);output.push((charCode&63)|128);}
else if(charCode<0x10000){output.push((charCode>>12)|224);output.push(((charCode>>6)&63)|128);output.push((charCode&63)|128);}
else if(charCode<0x20000){output.push((charCode>>18)|240);output.push(((charCode>>12)&63)|128);output.push(((charCode>>6)&63)|128);output.push((charCode&63)|128);}
else{ts.Debug.assert(false,"Unexpected code point");}}
return output;}
ts.stringify=typeof JSON!=="undefined"&&JSON.stringify?JSON.stringify:stringifyFallback;function stringifyFallback(value){return value===undefined?undefined:stringifyValue(value);}
function stringifyValue(value){return typeof value==="string"?"\""+escapeString(value)+"\"":typeof value==="number"?isFinite(value)?String(value):"null":typeof value==="boolean"?value?"true":"false":typeof value==="object"&&value?ts.isArray(value)?cycleCheck(stringifyArray,value):cycleCheck(stringifyObject,value):"null";}
function cycleCheck(cb,value){ts.Debug.assert(!value.hasOwnProperty("__cycle"),"Converting circular structure to JSON");value.__cycle=true;var result=cb(value);delete value.__cycle;return result;}
function stringifyArray(value){return"["+ts.reduceLeft(value,stringifyElement,"")+"]";}
function stringifyElement(memo,value){return(memo?memo+",":memo)+stringifyValue(value);}
function stringifyObject(value){return"{"+ts.reduceProperties(value,stringifyProperty,"")+"}";}
function stringifyProperty(memo,value,key){return value===undefined||typeof value==="function"||key==="__cycle"?memo:(memo?memo+",":memo)+("\""+escapeString(key)+"\":"+stringifyValue(value));}
var base64Digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function convertToBase64(input){var result="";var charCodes=getExpandedCharCodes(input);var i=0;var length=charCodes.length;var byte1,byte2,byte3,byte4;while(i<length){byte1=charCodes[i]>>2;byte2=(charCodes[i]&3)<<4|charCodes[i+1]>>4;byte3=(charCodes[i+1]&15)<<2|charCodes[i+2]>>6;byte4=charCodes[i+2]&63;if(i+1>=length){byte3=byte4=64;}
else if(i+2>=length){byte4=64;}
result+=base64Digits.charAt(byte1)+base64Digits.charAt(byte2)+base64Digits.charAt(byte3)+base64Digits.charAt(byte4);i+=3;}
return result;}
ts.convertToBase64=convertToBase64;function convertToRelativePath(absoluteOrRelativePath,basePath,getCanonicalFileName){return!ts.isRootedDiskPath(absoluteOrRelativePath)?absoluteOrRelativePath:ts.getRelativePathToDirectoryOrUrl(basePath,absoluteOrRelativePath,basePath,getCanonicalFileName,false);}
ts.convertToRelativePath=convertToRelativePath;var carriageReturnLineFeed="\r\n";var lineFeed="\n";function getNewLineCharacter(options){if(options.newLine===0 ){return carriageReturnLineFeed;}
else if(options.newLine===1 ){return lineFeed;}
else if(ts.sys){return ts.sys.newLine;}
return carriageReturnLineFeed;}
ts.getNewLineCharacter=getNewLineCharacter;})(ts||(ts={}));var ts;(function(ts){function getDefaultLibFileName(options){return options.target===2 ?"lib.es6.d.ts":"lib.d.ts";}
ts.getDefaultLibFileName=getDefaultLibFileName;function textSpanEnd(span){return span.start+span.length;}
ts.textSpanEnd=textSpanEnd;function textSpanIsEmpty(span){return span.length===0;}
ts.textSpanIsEmpty=textSpanIsEmpty;function textSpanContainsPosition(span,position){return position>=span.start&&position<textSpanEnd(span);}
ts.textSpanContainsPosition=textSpanContainsPosition;function textSpanContainsTextSpan(span,other){return other.start>=span.start&&textSpanEnd(other)<=textSpanEnd(span);}
ts.textSpanContainsTextSpan=textSpanContainsTextSpan;function textSpanOverlapsWith(span,other){var overlapStart=Math.max(span.start,other.start);var overlapEnd=Math.min(textSpanEnd(span),textSpanEnd(other));return overlapStart<overlapEnd;}
ts.textSpanOverlapsWith=textSpanOverlapsWith;function textSpanOverlap(span1,span2){var overlapStart=Math.max(span1.start,span2.start);var overlapEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));if(overlapStart<overlapEnd){return createTextSpanFromBounds(overlapStart,overlapEnd);}
return undefined;}
ts.textSpanOverlap=textSpanOverlap;function textSpanIntersectsWithTextSpan(span,other){return other.start<=textSpanEnd(span)&&textSpanEnd(other)>=span.start;}
ts.textSpanIntersectsWithTextSpan=textSpanIntersectsWithTextSpan;function textSpanIntersectsWith(span,start,length){var end=start+length;return start<=textSpanEnd(span)&&end>=span.start;}
ts.textSpanIntersectsWith=textSpanIntersectsWith;function decodedTextSpanIntersectsWith(start1,length1,start2,length2){var end1=start1+length1;var end2=start2+length2;return start2<=end1&&end2>=start1;}
ts.decodedTextSpanIntersectsWith=decodedTextSpanIntersectsWith;function textSpanIntersectsWithPosition(span,position){return position<=textSpanEnd(span)&&position>=span.start;}
ts.textSpanIntersectsWithPosition=textSpanIntersectsWithPosition;function textSpanIntersection(span1,span2){var intersectStart=Math.max(span1.start,span2.start);var intersectEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));if(intersectStart<=intersectEnd){return createTextSpanFromBounds(intersectStart,intersectEnd);}
return undefined;}
ts.textSpanIntersection=textSpanIntersection;function createTextSpan(start,length){if(start<0){throw new Error("start < 0");}
if(length<0){throw new Error("length < 0");}
return{start:start,length:length};}
ts.createTextSpan=createTextSpan;function createTextSpanFromBounds(start,end){return createTextSpan(start,end-start);}
ts.createTextSpanFromBounds=createTextSpanFromBounds;function textChangeRangeNewSpan(range){return createTextSpan(range.span.start,range.newLength);}
ts.textChangeRangeNewSpan=textChangeRangeNewSpan;function textChangeRangeIsUnchanged(range){return textSpanIsEmpty(range.span)&&range.newLength===0;}
ts.textChangeRangeIsUnchanged=textChangeRangeIsUnchanged;function createTextChangeRange(span,newLength){if(newLength<0){throw new Error("newLength < 0");}
return{span:span,newLength:newLength};}
ts.createTextChangeRange=createTextChangeRange;ts.unchangedTextChangeRange=createTextChangeRange(createTextSpan(0,0),0);function collapseTextChangeRangesAcrossMultipleVersions(changes){if(changes.length===0){return ts.unchangedTextChangeRange;}
if(changes.length===1){return changes[0];}
var change0=changes[0];var oldStartN=change0.span.start;var oldEndN=textSpanEnd(change0.span);var newEndN=oldStartN+change0.newLength;for(var i=1;i<changes.length;i++){var nextChange=changes[i];var oldStart1=oldStartN;var oldEnd1=oldEndN;var newEnd1=newEndN;var oldStart2=nextChange.span.start;var oldEnd2=textSpanEnd(nextChange.span);var newEnd2=oldStart2+nextChange.newLength;oldStartN=Math.min(oldStart1,oldStart2);oldEndN=Math.max(oldEnd1,oldEnd1+(oldEnd2-newEnd1));newEndN=Math.max(newEnd2,newEnd2+(newEnd1-oldEnd2));}
return createTextChangeRange(createTextSpanFromBounds(oldStartN,oldEndN),newEndN-oldStartN);}
ts.collapseTextChangeRangesAcrossMultipleVersions=collapseTextChangeRangesAcrossMultipleVersions;function getTypeParameterOwner(d){if(d&&d.kind===138 ){for(var current=d;current;current=current.parent){if(ts.isFunctionLike(current)||ts.isClassLike(current)||current.kind===218 ){return current;}}}}
ts.getTypeParameterOwner=getTypeParameterOwner;function isParameterPropertyDeclaration(node){return node.flags&56 &&node.parent.kind===145 &&ts.isClassLike(node.parent.parent);}
ts.isParameterPropertyDeclaration=isParameterPropertyDeclaration;})(ts||(ts={}));var ts;(function(ts){ts.parseTime=0;var NodeConstructor;var SourceFileConstructor;function createNode(kind,pos,end){if(kind===251 ){return new(SourceFileConstructor||(SourceFileConstructor=ts.objectAllocator.getSourceFileConstructor()))(kind,pos,end);}
else{return new(NodeConstructor||(NodeConstructor=ts.objectAllocator.getNodeConstructor()))(kind,pos,end);}}
ts.createNode=createNode;function visitNode(cbNode,node){if(node){return cbNode(node);}}
function visitNodeArray(cbNodes,nodes){if(nodes){return cbNodes(nodes);}}
function visitEachNode(cbNode,nodes){if(nodes){for(var _i=0,nodes_1=nodes;_i<nodes_1.length;_i++){var node=nodes_1[_i];var result=cbNode(node);if(result){return result;}}}}
function forEachChild(node,cbNode,cbNodeArray){if(!node){return;}
var visitNodes=cbNodeArray?visitNodeArray:visitEachNode;var cbNodes=cbNodeArray||cbNode;switch(node.kind){case 136 :return visitNode(cbNode,node.left)||visitNode(cbNode,node.right);case 138 :return visitNode(cbNode,node.name)||visitNode(cbNode,node.constraint)||visitNode(cbNode,node.expression);case 249 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.equalsToken)||visitNode(cbNode,node.objectAssignmentInitializer);case 139 :case 142 :case 141 :case 248 :case 214 :case 166 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.dotDotDotToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.type)||visitNode(cbNode,node.initializer);case 153 :case 154 :case 148 :case 149 :case 150 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 144 :case 143 :case 145 :case 146 :case 147 :case 176 :case 216 :case 177 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type)||visitNode(cbNode,node.equalsGreaterThanToken)||visitNode(cbNode,node.body);case 152 :return visitNode(cbNode,node.typeName)||visitNodes(cbNodes,node.typeArguments);case 151 :return visitNode(cbNode,node.parameterName)||visitNode(cbNode,node.type);case 155 :return visitNode(cbNode,node.exprName);case 156 :return visitNodes(cbNodes,node.members);case 157 :return visitNode(cbNode,node.elementType);case 158 :return visitNodes(cbNodes,node.elementTypes);case 159 :case 160 :return visitNodes(cbNodes,node.types);case 161 :return visitNode(cbNode,node.type);case 164 :case 165 :return visitNodes(cbNodes,node.elements);case 167 :return visitNodes(cbNodes,node.elements);case 168 :return visitNodes(cbNodes,node.properties);case 169 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.dotToken)||visitNode(cbNode,node.name);case 170 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.argumentExpression);case 171 :case 172 :return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments)||visitNodes(cbNodes,node.arguments);case 173 :return visitNode(cbNode,node.tag)||visitNode(cbNode,node.template);case 174 :return visitNode(cbNode,node.type)||visitNode(cbNode,node.expression);case 175 :return visitNode(cbNode,node.expression);case 178 :return visitNode(cbNode,node.expression);case 179 :return visitNode(cbNode,node.expression);case 180 :return visitNode(cbNode,node.expression);case 182 :return visitNode(cbNode,node.operand);case 187 :return visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.expression);case 181 :return visitNode(cbNode,node.expression);case 183 :return visitNode(cbNode,node.operand);case 184 :return visitNode(cbNode,node.left)||visitNode(cbNode,node.operatorToken)||visitNode(cbNode,node.right);case 192 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.type);case 185 :return visitNode(cbNode,node.condition)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.whenTrue)||visitNode(cbNode,node.colonToken)||visitNode(cbNode,node.whenFalse);case 188 :return visitNode(cbNode,node.expression);case 195 :case 222 :return visitNodes(cbNodes,node.statements);case 251 :return visitNodes(cbNodes,node.statements)||visitNode(cbNode,node.endOfFileToken);case 196 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.declarationList);case 215 :return visitNodes(cbNodes,node.declarations);case 198 :return visitNode(cbNode,node.expression);case 199 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.thenStatement)||visitNode(cbNode,node.elseStatement);case 200 :return visitNode(cbNode,node.statement)||visitNode(cbNode,node.expression);case 201 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 202 :return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.condition)||visitNode(cbNode,node.incrementor)||visitNode(cbNode,node.statement);case 203 :return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 204 :return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 205 :case 206 :return visitNode(cbNode,node.label);case 207 :return visitNode(cbNode,node.expression);case 208 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 209 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.caseBlock);case 223 :return visitNodes(cbNodes,node.clauses);case 244 :return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.statements);case 245 :return visitNodes(cbNodes,node.statements);case 210 :return visitNode(cbNode,node.label)||visitNode(cbNode,node.statement);case 211 :return visitNode(cbNode,node.expression);case 212 :return visitNode(cbNode,node.tryBlock)||visitNode(cbNode,node.catchClause)||visitNode(cbNode,node.finallyBlock);case 247 :return visitNode(cbNode,node.variableDeclaration)||visitNode(cbNode,node.block);case 140 :return visitNode(cbNode,node.expression);case 217 :case 189 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 218 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 219 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNode(cbNode,node.type);case 220 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.members);case 250 :return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);case 221 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.body);case 224 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.moduleReference);case 225 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.importClause)||visitNode(cbNode,node.moduleSpecifier);case 226 :return visitNode(cbNode,node.name)||visitNode(cbNode,node.namedBindings);case 227 :return visitNode(cbNode,node.name);case 228 :case 232 :return visitNodes(cbNodes,node.elements);case 231 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.exportClause)||visitNode(cbNode,node.moduleSpecifier);case 229 :case 233 :return visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.name);case 230 :return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.expression);case 186 :return visitNode(cbNode,node.head)||visitNodes(cbNodes,node.templateSpans);case 193 :return visitNode(cbNode,node.expression)||visitNode(cbNode,node.literal);case 137 :return visitNode(cbNode,node.expression);case 246 :return visitNodes(cbNodes,node.types);case 191 :return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments);case 235 :return visitNode(cbNode,node.expression);case 234 :return visitNodes(cbNodes,node.decorators);case 236 :return visitNode(cbNode,node.openingElement)||visitNodes(cbNodes,node.children)||visitNode(cbNode,node.closingElement);case 237 :case 238 :return visitNode(cbNode,node.tagName)||visitNodes(cbNodes,node.attributes);case 241 :return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);case 242 :return visitNode(cbNode,node.expression);case 243 :return visitNode(cbNode,node.expression);case 240 :return visitNode(cbNode,node.tagName);case 252 :return visitNode(cbNode,node.type);case 256 :return visitNodes(cbNodes,node.types);case 257 :return visitNodes(cbNodes,node.types);case 255 :return visitNode(cbNode,node.elementType);case 259 :return visitNode(cbNode,node.type);case 258 :return visitNode(cbNode,node.type);case 260 :return visitNodes(cbNodes,node.members);case 262 :return visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeArguments);case 263 :return visitNode(cbNode,node.type);case 264 :return visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 265 :return visitNode(cbNode,node.type);case 266 :return visitNode(cbNode,node.type);case 267 :return visitNode(cbNode,node.type);case 261 :return visitNode(cbNode,node.name)||visitNode(cbNode,node.type);case 268 :return visitNodes(cbNodes,node.tags);case 270 :return visitNode(cbNode,node.preParameterName)||visitNode(cbNode,node.typeExpression)||visitNode(cbNode,node.postParameterName);case 271 :return visitNode(cbNode,node.typeExpression);case 272 :return visitNode(cbNode,node.typeExpression);case 273 :return visitNodes(cbNodes,node.typeParameters);}}
ts.forEachChild=forEachChild;function createSourceFile(fileName,sourceText,languageVersion,setParentNodes,scriptKind){if(setParentNodes===void 0){setParentNodes=false;}
var start=new Date().getTime();var result=Parser.parseSourceFile(fileName,sourceText,languageVersion,undefined,setParentNodes,scriptKind);ts.parseTime+=new Date().getTime()-start;return result;}
ts.createSourceFile=createSourceFile;function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){return IncrementalParser.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks);}
ts.updateSourceFile=updateSourceFile;function parseIsolatedJSDocComment(content,start,length){return Parser.JSDocParser.parseIsolatedJSDocComment(content,start,length);}
ts.parseIsolatedJSDocComment=parseIsolatedJSDocComment;function parseJSDocTypeExpressionForTests(content,start,length){return Parser.JSDocParser.parseJSDocTypeExpressionForTests(content,start,length);}
ts.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests;var Parser;(function(Parser){var scanner=ts.createScanner(2 ,true);var disallowInAndDecoratorContext=1 |4 ;var NodeConstructor;var SourceFileConstructor;var sourceFile;var parseDiagnostics;var syntaxCursor;var token;var sourceText;var nodeCount;var identifiers;var identifierCount;var parsingContext;var contextFlags;var parseErrorBeforeNextFinishedNode=false;function parseSourceFile(fileName,_sourceText,languageVersion,_syntaxCursor,setParentNodes,scriptKind){scriptKind=ts.ensureScriptKind(fileName,scriptKind);initializeState(fileName,_sourceText,languageVersion,_syntaxCursor,scriptKind);var result=parseSourceFileWorker(fileName,languageVersion,setParentNodes,scriptKind);clearState();return result;}
Parser.parseSourceFile=parseSourceFile;function getLanguageVariant(scriptKind){return scriptKind===4 ||scriptKind===2 ||scriptKind===1 ?1 :0 ;}
function initializeState(fileName,_sourceText,languageVersion,_syntaxCursor,scriptKind){NodeConstructor=ts.objectAllocator.getNodeConstructor();SourceFileConstructor=ts.objectAllocator.getSourceFileConstructor();sourceText=_sourceText;syntaxCursor=_syntaxCursor;parseDiagnostics=[];parsingContext=0;identifiers={};identifierCount=0;nodeCount=0;contextFlags=scriptKind===1 ||scriptKind===2 ?32 :0 ;parseErrorBeforeNextFinishedNode=false;scanner.setText(sourceText);scanner.setOnError(scanError);scanner.setScriptTarget(languageVersion);scanner.setLanguageVariant(getLanguageVariant(scriptKind));}
function clearState(){scanner.setText("");scanner.setOnError(undefined);parseDiagnostics=undefined;sourceFile=undefined;identifiers=undefined;syntaxCursor=undefined;sourceText=undefined;}
function parseSourceFileWorker(fileName,languageVersion,setParentNodes,scriptKind){sourceFile=createSourceFile(fileName,languageVersion,scriptKind);if(contextFlags&32 ){sourceFile.parserContextFlags=32 ;}
token=nextToken();processReferenceComments(sourceFile);sourceFile.statements=parseList(0 ,parseStatement);ts.Debug.assert(token===1 );sourceFile.endOfFileToken=parseTokenNode();setExternalModuleIndicator(sourceFile);sourceFile.nodeCount=nodeCount;sourceFile.identifierCount=identifierCount;sourceFile.identifiers=identifiers;sourceFile.parseDiagnostics=parseDiagnostics;if(setParentNodes){fixupParentReferences(sourceFile);}
return sourceFile;}
function addJSDocComment(node){if(contextFlags&32 ){var comments=ts.getLeadingCommentRangesOfNode(node,sourceFile);if(comments){for(var _i=0,comments_1=comments;_i<comments_1.length;_i++){var comment=comments_1[_i];var jsDocComment=JSDocParser.parseJSDocComment(node,comment.pos,comment.end-comment.pos);if(jsDocComment){node.jsDocComment=jsDocComment;}}}}
return node;}
function fixupParentReferences(sourceFile){var parent=sourceFile;forEachChild(sourceFile,visitNode);return;function visitNode(n){if(n.parent!==parent){n.parent=parent;var saveParent=parent;parent=n;forEachChild(n,visitNode);parent=saveParent;}}}
Parser.fixupParentReferences=fixupParentReferences;function createSourceFile(fileName,languageVersion,scriptKind){var sourceFile=new SourceFileConstructor(251 ,0,sourceText.length);nodeCount++;sourceFile.text=sourceText;sourceFile.bindDiagnostics=[];sourceFile.languageVersion=languageVersion;sourceFile.fileName=ts.normalizePath(fileName);sourceFile.flags=ts.fileExtensionIs(sourceFile.fileName,".d.ts")?4096 :0;sourceFile.languageVariant=getLanguageVariant(scriptKind);sourceFile.scriptKind=scriptKind;return sourceFile;}
function setContextFlag(val,flag){if(val){contextFlags|=flag;}
else{contextFlags&=~flag;}}
function setDisallowInContext(val){setContextFlag(val,1 );}
function setYieldContext(val){setContextFlag(val,2 );}
function setDecoratorContext(val){setContextFlag(val,4 );}
function setAwaitContext(val){setContextFlag(val,8 );}
function doOutsideOfContext(context,func){var contextFlagsToClear=context&contextFlags;if(contextFlagsToClear){setContextFlag(false,contextFlagsToClear);var result=func();setContextFlag(true,contextFlagsToClear);return result;}
return func();}
function doInsideOfContext(context,func){var contextFlagsToSet=context&~contextFlags;if(contextFlagsToSet){setContextFlag(true,contextFlagsToSet);var result=func();setContextFlag(false,contextFlagsToSet);return result;}
return func();}
function allowInAnd(func){return doOutsideOfContext(1 ,func);}
function disallowInAnd(func){return doInsideOfContext(1 ,func);}
function doInYieldContext(func){return doInsideOfContext(2 ,func);}
function doInDecoratorContext(func){return doInsideOfContext(4 ,func);}
function doInAwaitContext(func){return doInsideOfContext(8 ,func);}
function doOutsideOfAwaitContext(func){return doOutsideOfContext(8 ,func);}
function doInYieldAndAwaitContext(func){return doInsideOfContext(2 |8 ,func);}
function inContext(flags){return(contextFlags&flags)!==0;}
function inYieldContext(){return inContext(2 );}
function inDisallowInContext(){return inContext(1 );}
function inDecoratorContext(){return inContext(4 );}
function inAwaitContext(){return inContext(8 );}
function parseErrorAtCurrentToken(message,arg0){var start=scanner.getTokenPos();var length=scanner.getTextPos()-start;parseErrorAtPosition(start,length,message,arg0);}
function parseErrorAtPosition(start,length,message,arg0){var lastError=ts.lastOrUndefined(parseDiagnostics);if(!lastError||start!==lastError.start){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,start,length,message,arg0));}
parseErrorBeforeNextFinishedNode=true;}
function scanError(message,length){var pos=scanner.getTextPos();parseErrorAtPosition(pos,length||0,message);}
function getNodePos(){return scanner.getStartPos();}
function getNodeEnd(){return scanner.getStartPos();}
function nextToken(){return token=scanner.scan();}
function reScanGreaterToken(){return token=scanner.reScanGreaterToken();}
function reScanSlashToken(){return token=scanner.reScanSlashToken();}
function reScanTemplateToken(){return token=scanner.reScanTemplateToken();}
function scanJsxIdentifier(){return token=scanner.scanJsxIdentifier();}
function scanJsxText(){return token=scanner.scanJsxToken();}
function speculationHelper(callback,isLookAhead){var saveToken=token;var saveParseDiagnosticsLength=parseDiagnostics.length;var saveParseErrorBeforeNextFinishedNode=parseErrorBeforeNextFinishedNode;var saveContextFlags=contextFlags;var result=isLookAhead?scanner.lookAhead(callback):scanner.tryScan(callback);ts.Debug.assert(saveContextFlags===contextFlags);if(!result||isLookAhead){token=saveToken;parseDiagnostics.length=saveParseDiagnosticsLength;parseErrorBeforeNextFinishedNode=saveParseErrorBeforeNextFinishedNode;}
return result;}
function lookAhead(callback){return speculationHelper(callback,true);}
function tryParse(callback){return speculationHelper(callback,false);}
function isIdentifier(){if(token===69 ){return true;}
if(token===114 &&inYieldContext()){return false;}
if(token===119 &&inAwaitContext()){return false;}
return token>105 ;}
function parseExpected(kind,diagnosticMessage,shouldAdvance){if(shouldAdvance===void 0){shouldAdvance=true;}
if(token===kind){if(shouldAdvance){nextToken();}
return true;}
if(diagnosticMessage){parseErrorAtCurrentToken(diagnosticMessage);}
else{parseErrorAtCurrentToken(ts.Diagnostics._0_expected,ts.tokenToString(kind));}
return false;}
function parseOptional(t){if(token===t){nextToken();return true;}
return false;}
function parseOptionalToken(t){if(token===t){return parseTokenNode();}
return undefined;}
function parseExpectedToken(t,reportAtCurrentPosition,diagnosticMessage,arg0){return parseOptionalToken(t)||createMissingNode(t,reportAtCurrentPosition,diagnosticMessage,arg0);}
function parseTokenNode(){var node=createNode(token);nextToken();return finishNode(node);}
function canParseSemicolon(){if(token===23 ){return true;}
return token===16 ||token===1 ||scanner.hasPrecedingLineBreak();}
function parseSemicolon(){if(canParseSemicolon()){if(token===23 ){nextToken();}
return true;}
else{return parseExpected(23 );}}
function createNode(kind,pos){nodeCount++;if(!(pos>=0)){pos=scanner.getStartPos();}
return new NodeConstructor(kind,pos,pos);}
function finishNode(node,end){node.end=end===undefined?scanner.getStartPos():end;if(contextFlags){node.parserContextFlags=contextFlags;}
if(parseErrorBeforeNextFinishedNode){parseErrorBeforeNextFinishedNode=false;node.parserContextFlags|=16 ;}
return node;}
function createMissingNode(kind,reportAtCurrentPosition,diagnosticMessage,arg0){if(reportAtCurrentPosition){parseErrorAtPosition(scanner.getStartPos(),0,diagnosticMessage,arg0);}
else{parseErrorAtCurrentToken(diagnosticMessage,arg0);}
var result=createNode(kind,scanner.getStartPos());result.text="";return finishNode(result);}
function internIdentifier(text){text=ts.escapeIdentifier(text);return ts.hasProperty(identifiers,text)?identifiers[text]:(identifiers[text]=text);}
function createIdentifier(isIdentifier,diagnosticMessage){identifierCount++;if(isIdentifier){var node=createNode(69 );if(token!==69 ){node.originalKeywordKind=token;}
node.text=internIdentifier(scanner.getTokenValue());nextToken();return finishNode(node);}
return createMissingNode(69 ,false,diagnosticMessage||ts.Diagnostics.Identifier_expected);}
function parseIdentifier(diagnosticMessage){return createIdentifier(isIdentifier(),diagnosticMessage);}
function parseIdentifierName(){return createIdentifier(ts.tokenIsIdentifierOrKeyword(token));}
function isLiteralPropertyName(){return ts.tokenIsIdentifierOrKeyword(token)||token===9 ||token===8 ;}
function parsePropertyNameWorker(allowComputedPropertyNames){if(token===9 ||token===8 ){return parseLiteralNode(true);}
if(allowComputedPropertyNames&&token===19 ){return parseComputedPropertyName();}
return parseIdentifierName();}
function parsePropertyName(){return parsePropertyNameWorker(true);}
function parseSimplePropertyName(){return parsePropertyNameWorker(false);}
function isSimplePropertyName(){return token===9 ||token===8 ||ts.tokenIsIdentifierOrKeyword(token);}
function parseComputedPropertyName(){var node=createNode(137 );parseExpected(19 );node.expression=allowInAnd(parseExpression);parseExpected(20 );return finishNode(node);}
function parseContextualModifier(t){return token===t&&tryParse(nextTokenCanFollowModifier);}
function nextTokenIsOnSameLineAndCanFollowModifier(){nextToken();if(scanner.hasPrecedingLineBreak()){return false;}
return canFollowModifier();}
function nextTokenCanFollowModifier(){if(token===74 ){return nextToken()===81 ;}
if(token===82 ){nextToken();if(token===77 ){return lookAhead(nextTokenIsClassOrFunction);}
return token!==37 &&token!==15 &&canFollowModifier();}
if(token===77 ){return nextTokenIsClassOrFunction();}
if(token===113 ){nextToken();return canFollowModifier();}
return nextTokenIsOnSameLineAndCanFollowModifier();}
function parseAnyContextualModifier(){return ts.isModifierKind(token)&&tryParse(nextTokenCanFollowModifier);}
function canFollowModifier(){return token===19 ||token===15 ||token===37 ||isLiteralPropertyName();}
function nextTokenIsClassOrFunction(){nextToken();return token===73 ||token===87 ;}
function isListElement(parsingContext,inErrorRecovery){var node=currentNode(parsingContext);if(node){return true;}
switch(parsingContext){case 0 :case 1 :case 3 :return!(token===23 &&inErrorRecovery)&&isStartOfStatement();case 2 :return token===71 ||token===77 ;case 4 :return isStartOfTypeMember();case 5 :return lookAhead(isClassMemberStart)||(token===23 &&!inErrorRecovery);case 6 :return token===19 ||isLiteralPropertyName();case 12 :return token===19 ||token===37 ||isLiteralPropertyName();case 9 :return token===19 ||isLiteralPropertyName();case 7 :if(token===15 ){return lookAhead(isValidHeritageClauseObjectLiteral);}
if(!inErrorRecovery){return isStartOfLeftHandSideExpression()&&!isHeritageClauseExtendsOrImplementsKeyword();}
else{return isIdentifier()&&!isHeritageClauseExtendsOrImplementsKeyword();}
case 8 :return isIdentifierOrPattern();case 10 :return token===24 ||token===22 ||isIdentifierOrPattern();case 17 :return isIdentifier();case 11 :case 15 :return token===24 ||token===22 ||isStartOfExpression();case 16 :return isStartOfParameter();case 18 :case 19 :return token===24 ||isStartOfType();case 20 :return isHeritageClause();case 21 :return ts.tokenIsIdentifierOrKeyword(token);case 13 :return ts.tokenIsIdentifierOrKeyword(token)||token===15 ;case 14 :return true;case 22 :case 23 :case 25 :return JSDocParser.isJSDocType();case 24 :return isSimplePropertyName();}
ts.Debug.fail("Non-exhaustive case in 'isListElement'.");}
function isValidHeritageClauseObjectLiteral(){ts.Debug.assert(token===15 );if(nextToken()===16 ){var next=nextToken();return next===24 ||next===15 ||next===83 ||next===106 ;}
return true;}
function nextTokenIsIdentifier(){nextToken();return isIdentifier();}
function nextTokenIsIdentifierOrKeyword(){nextToken();return ts.tokenIsIdentifierOrKeyword(token);}
function isHeritageClauseExtendsOrImplementsKeyword(){if(token===106 ||token===83 ){return lookAhead(nextTokenIsStartOfExpression);}
return false;}
function nextTokenIsStartOfExpression(){nextToken();return isStartOfExpression();}
function isListTerminator(kind){if(token===1 ){return true;}
switch(kind){case 1 :case 2 :case 4 :case 5 :case 6 :case 12 :case 9 :case 21 :return token===16 ;case 3 :return token===16 ||token===71 ||token===77 ;case 7 :return token===15 ||token===83 ||token===106 ;case 8 :return isVariableDeclaratorListTerminator();case 17 :return token===27 ||token===17 ||token===15 ||token===83 ||token===106 ;case 11 :return token===18 ||token===23 ;case 15 :case 19 :case 10 :return token===20 ;case 16 :return token===18 ||token===20  ;case 18 :return token===27 ||token===17 ;case 20 :return token===15 ||token===16 ;case 13 :return token===27 ||token===39 ;case 14 :return token===25 &&lookAhead(nextTokenIsSlash);case 22 :return token===18 ||token===54 ||token===16 ;case 23 :return token===27 ||token===16 ;case 25 :return token===20 ||token===16 ;case 24 :return token===16 ;}}
function isVariableDeclaratorListTerminator(){if(canParseSemicolon()){return true;}
if(isInOrOfKeyword(token)){return true;}
if(token===34 ){return true;}
return false;}
function isInSomeParsingContext(){for(var kind=0;kind<26 ;kind++){if(parsingContext&(1<<kind)){if(isListElement(kind,true)||isListTerminator(kind)){return true;}}}
return false;}
function parseList(kind,parseElement){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];result.pos=getNodePos();while(!isListTerminator(kind)){if(isListElement(kind,false)){var element=parseListElement(kind,parseElement);result.push(element);continue;}
if(abortParsingListOrMoveToNextToken(kind)){break;}}
result.end=getNodeEnd();parsingContext=saveParsingContext;return result;}
function parseListElement(parsingContext,parseElement){var node=currentNode(parsingContext);if(node){return consumeNode(node);}
return parseElement();}
function currentNode(parsingContext){if(parseErrorBeforeNextFinishedNode){return undefined;}
if(!syntaxCursor){return undefined;}
var node=syntaxCursor.currentNode(scanner.getStartPos());if(ts.nodeIsMissing(node)){return undefined;}
if(node.intersectsChange){return undefined;}
if(ts.containsParseError(node)){return undefined;}
var nodeContextFlags=node.parserContextFlags&63 ;if(nodeContextFlags!==contextFlags){return undefined;}
if(!canReuseNode(node,parsingContext)){return undefined;}
return node;}
function consumeNode(node){scanner.setTextPos(node.end);nextToken();return node;}
function canReuseNode(node,parsingContext){switch(parsingContext){case 5 :return isReusableClassMember(node);case 2 :return isReusableSwitchClause(node);case 0 :case 1 :case 3 :return isReusableStatement(node);case 6 :return isReusableEnumMember(node);case 4 :return isReusableTypeMember(node);case 8 :return isReusableVariableDeclaration(node);case 16 :return isReusableParameter(node);case 20 :case 17 :case 19 :case 18 :case 11 :case 12 :case 7 :case 13 :case 14 :}
return false;}
function isReusableClassMember(node){if(node){switch(node.kind){case 145 :case 150 :case 146 :case 147 :case 142 :case 194 :return true;case 144 :var methodDeclaration=node;var nameIsConstructor=methodDeclaration.name.kind===69 &&methodDeclaration.name.originalKeywordKind===121 ;return!nameIsConstructor;}}
return false;}
function isReusableSwitchClause(node){if(node){switch(node.kind){case 244 :case 245 :return true;}}
return false;}
function isReusableStatement(node){if(node){switch(node.kind){case 216 :case 196 :case 195 :case 199 :case 198 :case 211 :case 207 :case 209 :case 206 :case 205 :case 203 :case 204 :case 202 :case 201 :case 208 :case 197 :case 212 :case 210 :case 200 :case 213 :case 225 :case 224 :case 231 :case 230 :case 221 :case 217 :case 218 :case 220 :case 219 :return true;}}
return false;}
function isReusableEnumMember(node){return node.kind===250 ;}
function isReusableTypeMember(node){if(node){switch(node.kind){case 149 :case 143 :case 150 :case 141 :case 148 :return true;}}
return false;}
function isReusableVariableDeclaration(node){if(node.kind!==214 ){return false;}
var variableDeclarator=node;return variableDeclarator.initializer===undefined;}
function isReusableParameter(node){if(node.kind!==139 ){return false;}
var parameter=node;return parameter.initializer===undefined;}
function abortParsingListOrMoveToNextToken(kind){parseErrorAtCurrentToken(parsingContextErrors(kind));if(isInSomeParsingContext()){return true;}
nextToken();return false;}
function parsingContextErrors(context){switch(context){case 0 :return ts.Diagnostics.Declaration_or_statement_expected;case 1 :return ts.Diagnostics.Declaration_or_statement_expected;case 2 :return ts.Diagnostics.case_or_default_expected;case 3 :return ts.Diagnostics.Statement_expected;case 4 :return ts.Diagnostics.Property_or_signature_expected;case 5 :return ts.Diagnostics.Unexpected_token_A_constructor_method_accessor_or_property_was_expected;case 6 :return ts.Diagnostics.Enum_member_expected;case 7 :return ts.Diagnostics.Expression_expected;case 8 :return ts.Diagnostics.Variable_declaration_expected;case 9 :return ts.Diagnostics.Property_destructuring_pattern_expected;case 10 :return ts.Diagnostics.Array_element_destructuring_pattern_expected;case 11 :return ts.Diagnostics.Argument_expression_expected;case 12 :return ts.Diagnostics.Property_assignment_expected;case 15 :return ts.Diagnostics.Expression_or_comma_expected;case 16 :return ts.Diagnostics.Parameter_declaration_expected;case 17 :return ts.Diagnostics.Type_parameter_declaration_expected;case 18 :return ts.Diagnostics.Type_argument_expected;case 19 :return ts.Diagnostics.Type_expected;case 20 :return ts.Diagnostics.Unexpected_token_expected;case 21 :return ts.Diagnostics.Identifier_expected;case 13 :return ts.Diagnostics.Identifier_expected;case 14 :return ts.Diagnostics.Identifier_expected;case 22 :return ts.Diagnostics.Parameter_declaration_expected;case 23 :return ts.Diagnostics.Type_argument_expected;case 25 :return ts.Diagnostics.Type_expected;case 24 :return ts.Diagnostics.Property_assignment_expected;}};function parseDelimitedList(kind,parseElement,considerSemicolonAsDelimeter){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];result.pos=getNodePos();var commaStart=-1;while(true){if(isListElement(kind,false)){result.push(parseListElement(kind,parseElement));commaStart=scanner.getTokenPos();if(parseOptional(24 )){continue;}
commaStart=-1;if(isListTerminator(kind)){break;}
parseExpected(24 );if(considerSemicolonAsDelimeter&&token===23 &&!scanner.hasPrecedingLineBreak()){nextToken();}
continue;}
if(isListTerminator(kind)){break;}
if(abortParsingListOrMoveToNextToken(kind)){break;}}
if(commaStart>=0){result.hasTrailingComma=true;}
result.end=getNodeEnd();parsingContext=saveParsingContext;return result;}
function createMissingList(){var pos=getNodePos();var result=[];result.pos=pos;result.end=pos;return result;}
function parseBracketedList(kind,parseElement,open,close){if(parseExpected(open)){var result=parseDelimitedList(kind,parseElement);parseExpected(close);return result;}
return createMissingList();}
function parseEntityName(allowReservedWords,diagnosticMessage){var entity=parseIdentifier(diagnosticMessage);while(parseOptional(21 )){var node=createNode(136 ,entity.pos);node.left=entity;node.right=parseRightSideOfDot(allowReservedWords);entity=finishNode(node);}
return entity;}
function parseRightSideOfDot(allowIdentifierNames){if(scanner.hasPrecedingLineBreak()&&ts.tokenIsIdentifierOrKeyword(token)){var matchesPattern=lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);if(matchesPattern){return createMissingNode(69 ,true,ts.Diagnostics.Identifier_expected);}}
return allowIdentifierNames?parseIdentifierName():parseIdentifier();}
function parseTemplateExpression(){var template=createNode(186 );template.head=parseTemplateLiteralFragment();ts.Debug.assert(template.head.kind===12 ,"Template head has wrong token kind");var templateSpans=[];templateSpans.pos=getNodePos();do{templateSpans.push(parseTemplateSpan());}while(ts.lastOrUndefined(templateSpans).literal.kind===13 );templateSpans.end=getNodeEnd();template.templateSpans=templateSpans;return finishNode(template);}
function parseTemplateSpan(){var span=createNode(193 );span.expression=allowInAnd(parseExpression);var literal;if(token===16 ){reScanTemplateToken();literal=parseTemplateLiteralFragment();}
else{literal=parseExpectedToken(14 ,false,ts.Diagnostics._0_expected,ts.tokenToString(16 ));}
span.literal=literal;return finishNode(span);}
function parseStringLiteralTypeNode(){return parseLiteralLikeNode(163 ,true);}
function parseLiteralNode(internName){return parseLiteralLikeNode(token,internName);}
function parseTemplateLiteralFragment(){return parseLiteralLikeNode(token,false);}
function parseLiteralLikeNode(kind,internName){var node=createNode(kind);var text=scanner.getTokenValue();node.text=internName?internIdentifier(text):text;if(scanner.hasExtendedUnicodeEscape()){node.hasExtendedUnicodeEscape=true;}
if(scanner.isUnterminated()){node.isUnterminated=true;}
var tokenPos=scanner.getTokenPos();nextToken();finishNode(node);if(node.kind===8 &&sourceText.charCodeAt(tokenPos)===48 &&ts.isOctalDigit(sourceText.charCodeAt(tokenPos+1))){node.flags|=32768 ;}
return node;}
function parseTypeReference(){var typeName=parseEntityName(false,ts.Diagnostics.Type_expected);var node=createNode(152 ,typeName.pos);node.typeName=typeName;if(!scanner.hasPrecedingLineBreak()&&token===25 ){node.typeArguments=parseBracketedList(18 ,parseType,25 ,27 );}
return finishNode(node);}
function parseThisTypePredicate(lhs){nextToken();var node=createNode(151 ,lhs.pos);node.parameterName=lhs;node.type=parseType();return finishNode(node);}
function parseThisTypeNode(){var node=createNode(162 );nextToken();return finishNode(node);}
function parseTypeQuery(){var node=createNode(155 );parseExpected(101 );node.exprName=parseEntityName(true);return finishNode(node);}
function parseTypeParameter(){var node=createNode(138 );node.name=parseIdentifier();if(parseOptional(83 )){if(isStartOfType()||!isStartOfExpression()){node.constraint=parseType();}
else{node.expression=parseUnaryExpressionOrHigher();}}
return finishNode(node);}
function parseTypeParameters(){if(token===25 ){return parseBracketedList(17 ,parseTypeParameter,25 ,27 );}}
function parseParameterType(){if(parseOptional(54 )){return parseType();}
return undefined;}
function isStartOfParameter(){return token===22 ||isIdentifierOrPattern()||ts.isModifierKind(token)||token===55 ;}
function setModifiers(node,modifiers){if(modifiers){node.flags|=modifiers.flags;node.modifiers=modifiers;}}
function parseParameter(){var node=createNode(139 );node.decorators=parseDecorators();setModifiers(node,parseModifiers());node.dotDotDotToken=parseOptionalToken(22 );node.name=parseIdentifierOrPattern();if(ts.getFullWidth(node.name)===0&&node.flags===0&&ts.isModifierKind(token)){nextToken();}
node.questionToken=parseOptionalToken(53 );node.type=parseParameterType();node.initializer=parseBindingElementInitializer(true);return addJSDocComment(finishNode(node));}
function parseBindingElementInitializer(inParameter){return inParameter?parseParameterInitializer():parseNonParameterInitializer();}
function parseParameterInitializer(){return parseInitializer(true);}
function fillSignature(returnToken,yieldContext,awaitContext,requireCompleteParameterList,signature){var returnTokenRequired=returnToken===34 ;signature.typeParameters=parseTypeParameters();signature.parameters=parseParameterList(yieldContext,awaitContext,requireCompleteParameterList);if(returnTokenRequired){parseExpected(returnToken);signature.type=parseTypeOrTypePredicate();}
else if(parseOptional(returnToken)){signature.type=parseTypeOrTypePredicate();}}
function parseParameterList(yieldContext,awaitContext,requireCompleteParameterList){if(parseExpected(17 )){var savedYieldContext=inYieldContext();var savedAwaitContext=inAwaitContext();setYieldContext(yieldContext);setAwaitContext(awaitContext);var result=parseDelimitedList(16 ,parseParameter);setYieldContext(savedYieldContext);setAwaitContext(savedAwaitContext);if(!parseExpected(18 )&&requireCompleteParameterList){return undefined;}
return result;}
return requireCompleteParameterList?undefined:createMissingList();}
function parseTypeMemberSemicolon(){if(parseOptional(24 )){return;}
parseSemicolon();}
function parseSignatureMember(kind){var node=createNode(kind);if(kind===149 ){parseExpected(92 );}
fillSignature(54 ,false,false,false,node);parseTypeMemberSemicolon();return finishNode(node);}
function isIndexSignature(){if(token!==19 ){return false;}
return lookAhead(isUnambiguouslyIndexSignature);}
function isUnambiguouslyIndexSignature(){nextToken();if(token===22 ||token===20 ){return true;}
if(ts.isModifierKind(token)){nextToken();if(isIdentifier()){return true;}}
else if(!isIdentifier()){return false;}
else{nextToken();}
if(token===54 ||token===24 ){return true;}
if(token!==53 ){return false;}
nextToken();return token===54 ||token===24 ||token===20 ;}
function parseIndexSignatureDeclaration(fullStart,decorators,modifiers){var node=createNode(150 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.parameters=parseBracketedList(16 ,parseParameter,19 ,20 );node.type=parseTypeAnnotation();parseTypeMemberSemicolon();return finishNode(node);}
function parsePropertyOrMethodSignature(){var fullStart=scanner.getStartPos();var name=parsePropertyName();var questionToken=parseOptionalToken(53 );if(token===17 ||token===25 ){var method=createNode(143 ,fullStart);method.name=name;method.questionToken=questionToken;fillSignature(54 ,false,false,false,method);parseTypeMemberSemicolon();return finishNode(method);}
else{var property=createNode(141 ,fullStart);property.name=name;property.questionToken=questionToken;property.type=parseTypeAnnotation();if(token===56 ){property.initializer=parseNonParameterInitializer();}
parseTypeMemberSemicolon();return finishNode(property);}}
function isStartOfTypeMember(){switch(token){case 17 :case 25 :case 19 :return true;default:if(ts.isModifierKind(token)){var result=lookAhead(isStartOfIndexSignatureDeclaration);if(result){return result;}}
return isLiteralPropertyName()&&lookAhead(isTypeMemberWithLiteralPropertyName);}}
function isStartOfIndexSignatureDeclaration(){while(ts.isModifierKind(token)){nextToken();}
return isIndexSignature();}
function isTypeMemberWithLiteralPropertyName(){nextToken();return token===17 ||token===25 ||token===53 ||token===54 ||canParseSemicolon();}
function parseTypeMember(){switch(token){case 17 :case 25 :return parseSignatureMember(148 );case 19 :return isIndexSignature()?parseIndexSignatureDeclaration(scanner.getStartPos(),undefined,undefined):parsePropertyOrMethodSignature();case 92 :if(lookAhead(isStartOfConstructSignature)){return parseSignatureMember(149 );}
case 9 :case 8 :return parsePropertyOrMethodSignature();default:if(ts.isModifierKind(token)){var result=tryParse(parseIndexSignatureWithModifiers);if(result){return result;}}
if(ts.tokenIsIdentifierOrKeyword(token)){return parsePropertyOrMethodSignature();}}}
function parseIndexSignatureWithModifiers(){var fullStart=scanner.getStartPos();var decorators=parseDecorators();var modifiers=parseModifiers();return isIndexSignature()?parseIndexSignatureDeclaration(fullStart,decorators,modifiers):undefined;}
function isStartOfConstructSignature(){nextToken();return token===17 ||token===25 ;}
function parseTypeLiteral(){var node=createNode(156 );node.members=parseObjectTypeMembers();return finishNode(node);}
function parseObjectTypeMembers(){var members;if(parseExpected(15 )){members=parseList(4 ,parseTypeMember);parseExpected(16 );}
else{members=createMissingList();}
return members;}
function parseTupleType(){var node=createNode(158 );node.elementTypes=parseBracketedList(19 ,parseType,19 ,20 );return finishNode(node);}
function parseParenthesizedType(){var node=createNode(161 );parseExpected(17 );node.type=parseType();parseExpected(18 );return finishNode(node);}
function parseFunctionOrConstructorType(kind){var node=createNode(kind);if(kind===154 ){parseExpected(92 );}
fillSignature(34 ,false,false,false,node);return finishNode(node);}
function parseKeywordAndNoDot(){var node=parseTokenNode();return token===21 ?undefined:node;}
function parseNonArrayType(){switch(token){case 117 :case 130 :case 128 :case 120 :case 131 :var node=tryParse(parseKeywordAndNoDot);return node||parseTypeReference();case 9 :return parseStringLiteralTypeNode();case 103 :return parseTokenNode();case 97 :{var thisKeyword=parseThisTypeNode();if(token===124 &&!scanner.hasPrecedingLineBreak()){return parseThisTypePredicate(thisKeyword);}
else{return thisKeyword;}}
case 101 :return parseTypeQuery();case 15 :return parseTypeLiteral();case 19 :return parseTupleType();case 17 :return parseParenthesizedType();default:return parseTypeReference();}}
function isStartOfType(){switch(token){case 117 :case 130 :case 128 :case 120 :case 131 :case 103 :case 97 :case 101 :case 15 :case 19 :case 25 :case 92 :case 9 :return true;case 17 :return lookAhead(isStartOfParenthesizedOrFunctionType);default:return isIdentifier();}}
function isStartOfParenthesizedOrFunctionType(){nextToken();return token===18 ||isStartOfParameter()||isStartOfType();}
function parseArrayTypeOrHigher(){var type=parseNonArrayType();while(!scanner.hasPrecedingLineBreak()&&parseOptional(19 )){parseExpected(20 );var node=createNode(157 ,type.pos);node.elementType=type;type=finishNode(node);}
return type;}
function parseUnionOrIntersectionType(kind,parseConstituentType,operator){var type=parseConstituentType();if(token===operator){var types=[type];types.pos=type.pos;while(parseOptional(operator)){types.push(parseConstituentType());}
types.end=getNodeEnd();var node=createNode(kind,type.pos);node.types=types;type=finishNode(node);}
return type;}
function parseIntersectionTypeOrHigher(){return parseUnionOrIntersectionType(160 ,parseArrayTypeOrHigher,46 );}
function parseUnionTypeOrHigher(){return parseUnionOrIntersectionType(159 ,parseIntersectionTypeOrHigher,47 );}
function isStartOfFunctionType(){if(token===25 ){return true;}
return token===17 &&lookAhead(isUnambiguouslyStartOfFunctionType);}
function isUnambiguouslyStartOfFunctionType(){nextToken();if(token===18 ||token===22 ){return true;}
if(isIdentifier()||ts.isModifierKind(token)){nextToken();if(token===54 ||token===24 ||token===53 ||token===56 ||isIdentifier()||ts.isModifierKind(token)){return true;}
if(token===18 ){nextToken();if(token===34 ){return true;}}}
return false;}
function parseTypeOrTypePredicate(){var typePredicateVariable=isIdentifier()&&tryParse(parseTypePredicatePrefix);var type=parseType();if(typePredicateVariable){var node=createNode(151 ,typePredicateVariable.pos);node.parameterName=typePredicateVariable;node.type=type;return finishNode(node);}
else{return type;}}
function parseTypePredicatePrefix(){var id=parseIdentifier();if(token===124 &&!scanner.hasPrecedingLineBreak()){nextToken();return id;}}
function parseType(){return doOutsideOfContext(10 ,parseTypeWorker);}
function parseTypeWorker(){if(isStartOfFunctionType()){return parseFunctionOrConstructorType(153 );}
if(token===92 ){return parseFunctionOrConstructorType(154 );}
return parseUnionTypeOrHigher();}
function parseTypeAnnotation(){return parseOptional(54 )?parseType():undefined;}
function isStartOfLeftHandSideExpression(){switch(token){case 97 :case 95 :case 93 :case 99 :case 84 :case 8 :case 9 :case 11 :case 12 :case 17 :case 19 :case 15 :case 87 :case 73 :case 92 :case 39 :case 61 :case 69 :return true;default:return isIdentifier();}}
function isStartOfExpression(){if(isStartOfLeftHandSideExpression()){return true;}
switch(token){case 35 :case 36 :case 50 :case 49 :case 78 :case 101 :case 103 :case 41 :case 42 :case 25 :case 119 :case 114 :return true;default:if(isBinaryOperator()){return true;}
return isIdentifier();}}
function isStartOfExpressionStatement(){return token!==15 &&token!==87 &&token!==73 &&token!==55 &&isStartOfExpression();}
function parseExpression(){var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false);}
var expr=parseAssignmentExpressionOrHigher();var operatorToken;while((operatorToken=parseOptionalToken(24 ))){expr=makeBinaryExpression(expr,operatorToken,parseAssignmentExpressionOrHigher());}
if(saveDecoratorContext){setDecoratorContext(true);}
return expr;}
function parseInitializer(inParameter){if(token!==56 ){if(scanner.hasPrecedingLineBreak()||(inParameter&&token===15 )||!isStartOfExpression()){return undefined;}}
parseExpected(56 );return parseAssignmentExpressionOrHigher();}
function parseAssignmentExpressionOrHigher(){if(isYieldExpression()){return parseYieldExpression();}
var arrowExpression=tryParseParenthesizedArrowFunctionExpression();if(arrowExpression){return arrowExpression;}
var expr=parseBinaryExpressionOrHigher(0);if(expr.kind===69 &&token===34 ){return parseSimpleArrowFunctionExpression(expr);}
if(ts.isLeftHandSideExpression(expr)&&ts.isAssignmentOperator(reScanGreaterToken())){return makeBinaryExpression(expr,parseTokenNode(),parseAssignmentExpressionOrHigher());}
return parseConditionalExpressionRest(expr);}
function isYieldExpression(){if(token===114 ){if(inYieldContext()){return true;}
return lookAhead(nextTokenIsIdentifierOrKeywordOrNumberOnSameLine);}
return false;}
function nextTokenIsIdentifierOnSameLine(){nextToken();return!scanner.hasPrecedingLineBreak()&&isIdentifier();}
function parseYieldExpression(){var node=createNode(187 );nextToken();if(!scanner.hasPrecedingLineBreak()&&(token===37 ||isStartOfExpression())){node.asteriskToken=parseOptionalToken(37 );node.expression=parseAssignmentExpressionOrHigher();return finishNode(node);}
else{return finishNode(node);}}
function parseSimpleArrowFunctionExpression(identifier){ts.Debug.assert(token===34 ,"parseSimpleArrowFunctionExpression should only have been called if we had a =>");var node=createNode(177 ,identifier.pos);var parameter=createNode(139 ,identifier.pos);parameter.name=identifier;finishNode(parameter);node.parameters=[parameter];node.parameters.pos=parameter.pos;node.parameters.end=parameter.end;node.equalsGreaterThanToken=parseExpectedToken(34 ,false,ts.Diagnostics._0_expected,"=>");node.body=parseArrowFunctionExpressionBody(false);return finishNode(node);}
function tryParseParenthesizedArrowFunctionExpression(){var triState=isParenthesizedArrowFunctionExpression();if(triState===0 ){return undefined;}
var arrowFunction=triState===1 ?parseParenthesizedArrowFunctionExpressionHead(true):tryParse(parsePossibleParenthesizedArrowFunctionExpressionHead);if(!arrowFunction){return undefined;}
var isAsync=!!(arrowFunction.flags&256 );var lastToken=token;arrowFunction.equalsGreaterThanToken=parseExpectedToken(34 ,false,ts.Diagnostics._0_expected,"=>");arrowFunction.body=(lastToken===34 ||lastToken===15 )?parseArrowFunctionExpressionBody(isAsync):parseIdentifier();return finishNode(arrowFunction);}
function isParenthesizedArrowFunctionExpression(){if(token===17 ||token===25 ||token===118 ){return lookAhead(isParenthesizedArrowFunctionExpressionWorker);}
if(token===34 ){return 1 ;}
return 0 ;}
function isParenthesizedArrowFunctionExpressionWorker(){if(token===118 ){nextToken();if(scanner.hasPrecedingLineBreak()){return 0 ;}
if(token!==17 &&token!==25 ){return 0 ;}}
var first=token;var second=nextToken();if(first===17 ){if(second===18 ){var third=nextToken();switch(third){case 34 :case 54 :case 15 :return 1 ;default:return 0 ;}}
if(second===19 ||second===15 ){return 2 ;}
if(second===22 ){return 1 ;}
if(!isIdentifier()){return 0 ;}
if(nextToken()===54 ){return 1 ;}
return 2 ;}
else{ts.Debug.assert(first===25 );if(!isIdentifier()){return 0 ;}
if(sourceFile.languageVariant===1 ){var isArrowFunctionInJsx=lookAhead(function(){var third=nextToken();if(third===83 ){var fourth=nextToken();switch(fourth){case 56 :case 27 :return false;default:return true;}}
else if(third===24 ){return true;}
return false;});if(isArrowFunctionInJsx){return 1 ;}
return 0 ;}
return 2 ;}}
function parsePossibleParenthesizedArrowFunctionExpressionHead(){return parseParenthesizedArrowFunctionExpressionHead(false);}
function parseParenthesizedArrowFunctionExpressionHead(allowAmbiguity){var node=createNode(177 );setModifiers(node,parseModifiersForArrowFunction());var isAsync=!!(node.flags&256 );fillSignature(54 ,false,isAsync,!allowAmbiguity,node);if(!node.parameters){return undefined;}
if(!allowAmbiguity&&token!==34 &&token!==15 ){return undefined;}
return node;}
function parseArrowFunctionExpressionBody(isAsync){if(token===15 ){return parseFunctionBlock(false,isAsync,false);}
if(token!==23 &&token!==87 &&token!==73 &&isStartOfStatement()&&!isStartOfExpressionStatement()){return parseFunctionBlock(false,isAsync,true);}
return isAsync?doInAwaitContext(parseAssignmentExpressionOrHigher):doOutsideOfAwaitContext(parseAssignmentExpressionOrHigher);}
function parseConditionalExpressionRest(leftOperand){var questionToken=parseOptionalToken(53 );if(!questionToken){return leftOperand;}
var node=createNode(185 ,leftOperand.pos);node.condition=leftOperand;node.questionToken=questionToken;node.whenTrue=doOutsideOfContext(disallowInAndDecoratorContext,parseAssignmentExpressionOrHigher);node.colonToken=parseExpectedToken(54 ,false,ts.Diagnostics._0_expected,ts.tokenToString(54 ));node.whenFalse=parseAssignmentExpressionOrHigher();return finishNode(node);}
function parseBinaryExpressionOrHigher(precedence){var leftOperand=parseUnaryExpressionOrHigher();return parseBinaryExpressionRest(precedence,leftOperand);}
function isInOrOfKeyword(t){return t===90 ||t===135 ;}
function parseBinaryExpressionRest(precedence,leftOperand){while(true){reScanGreaterToken();var newPrecedence=getBinaryOperatorPrecedence();var consumeCurrentOperator=token===38 ?newPrecedence>=precedence:newPrecedence>precedence;if(!consumeCurrentOperator){break;}
if(token===90 &&inDisallowInContext()){break;}
if(token===116 ){if(scanner.hasPrecedingLineBreak()){break;}
else{nextToken();leftOperand=makeAsExpression(leftOperand,parseType());}}
else{leftOperand=makeBinaryExpression(leftOperand,parseTokenNode(),parseBinaryExpressionOrHigher(newPrecedence));}}
return leftOperand;}
function isBinaryOperator(){if(inDisallowInContext()&&token===90 ){return false;}
return getBinaryOperatorPrecedence()>0;}
function getBinaryOperatorPrecedence(){switch(token){case 52 :return 1;case 51 :return 2;case 47 :return 3;case 48 :return 4;case 46 :return 5;case 30 :case 31 :case 32 :case 33 :return 6;case 25 :case 27 :case 28 :case 29 :case 91 :case 90 :case 116 :return 7;case 43 :case 44 :case 45 :return 8;case 35 :case 36 :return 9;case 37 :case 39 :case 40 :return 10;case 38 :return 11;}
return-1;}
function makeBinaryExpression(left,operatorToken,right){var node=createNode(184 ,left.pos);node.left=left;node.operatorToken=operatorToken;node.right=right;return finishNode(node);}
function makeAsExpression(left,right){var node=createNode(192 ,left.pos);node.expression=left;node.type=right;return finishNode(node);}
function parsePrefixUnaryExpression(){var node=createNode(182 );node.operator=token;nextToken();node.operand=parseSimpleUnaryExpression();return finishNode(node);}
function parseDeleteExpression(){var node=createNode(178 );nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node);}
function parseTypeOfExpression(){var node=createNode(179 );nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node);}
function parseVoidExpression(){var node=createNode(180 );nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node);}
function isAwaitExpression(){if(token===119 ){if(inAwaitContext()){return true;}
return lookAhead(nextTokenIsIdentifierOnSameLine);}
return false;}
function parseAwaitExpression(){var node=createNode(181 );nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node);}
function parseUnaryExpressionOrHigher(){if(isAwaitExpression()){return parseAwaitExpression();}
if(isIncrementExpression()){var incrementExpression=parseIncrementExpression();return token===38 ?parseBinaryExpressionRest(getBinaryOperatorPrecedence(),incrementExpression):incrementExpression;}
var unaryOperator=token;var simpleUnaryExpression=parseSimpleUnaryExpression();if(token===38 ){var start=ts.skipTrivia(sourceText,simpleUnaryExpression.pos);if(simpleUnaryExpression.kind===174 ){parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses);}
else{parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses,ts.tokenToString(unaryOperator));}}
return simpleUnaryExpression;}
function parseSimpleUnaryExpression(){switch(token){case 35 :case 36 :case 50 :case 49 :return parsePrefixUnaryExpression();case 78 :return parseDeleteExpression();case 101 :return parseTypeOfExpression();case 103 :return parseVoidExpression();case 25 :return parseTypeAssertion();default:return parseIncrementExpression();}}
function isIncrementExpression(){switch(token){case 35 :case 36 :case 50 :case 49 :case 78 :case 101 :case 103 :return false;case 25 :if(sourceFile.languageVariant!==1 ){return false;}
default:return true;}}
function parseIncrementExpression(){if(token===41 ||token===42 ){var node=createNode(182 );node.operator=token;nextToken();node.operand=parseLeftHandSideExpressionOrHigher();return finishNode(node);}
else if(sourceFile.languageVariant===1 &&token===25 &&lookAhead(nextTokenIsIdentifierOrKeyword)){return parseJsxElementOrSelfClosingElement(true);}
var expression=parseLeftHandSideExpressionOrHigher();ts.Debug.assert(ts.isLeftHandSideExpression(expression));if((token===41 ||token===42 )&&!scanner.hasPrecedingLineBreak()){var node=createNode(183 ,expression.pos);node.operand=expression;node.operator=token;nextToken();return finishNode(node);}
return expression;}
function parseLeftHandSideExpressionOrHigher(){var expression=token===95 ?parseSuperExpression():parseMemberExpressionOrHigher();return parseCallExpressionRest(expression);}
function parseMemberExpressionOrHigher(){var expression=parsePrimaryExpression();return parseMemberExpressionRest(expression);}
function parseSuperExpression(){var expression=parseTokenNode();if(token===17 ||token===21 ||token===19 ){return expression;}
var node=createNode(169 ,expression.pos);node.expression=expression;node.dotToken=parseExpectedToken(21 ,false,ts.Diagnostics.super_must_be_followed_by_an_argument_list_or_member_access);node.name=parseRightSideOfDot(true);return finishNode(node);}
function tagNamesAreEquivalent(lhs,rhs){if(lhs.kind!==rhs.kind){return false;}
if(lhs.kind===69 ){return lhs.text===rhs.text;}
return lhs.right.text===rhs.right.text&&tagNamesAreEquivalent(lhs.left,rhs.left);}
function parseJsxElementOrSelfClosingElement(inExpressionContext){var opening=parseJsxOpeningOrSelfClosingElement(inExpressionContext);var result;if(opening.kind===238 ){var node=createNode(236 ,opening.pos);node.openingElement=opening;node.children=parseJsxChildren(node.openingElement.tagName);node.closingElement=parseJsxClosingElement(inExpressionContext);if(!tagNamesAreEquivalent(node.openingElement.tagName,node.closingElement.tagName)){parseErrorAtPosition(node.closingElement.pos,node.closingElement.end-node.closingElement.pos,ts.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,ts.getTextOfNodeFromSourceText(sourceText,node.openingElement.tagName));}
result=finishNode(node);}
else{ts.Debug.assert(opening.kind===237 );result=opening;}
if(inExpressionContext&&token===25 ){var invalidElement=tryParse(function(){return parseJsxElementOrSelfClosingElement(true);});if(invalidElement){parseErrorAtCurrentToken(ts.Diagnostics.JSX_expressions_must_have_one_parent_element);var badNode=createNode(184 ,result.pos);badNode.end=invalidElement.end;badNode.left=result;badNode.right=invalidElement;badNode.operatorToken=createMissingNode(24 ,false,undefined);badNode.operatorToken.pos=badNode.operatorToken.end=badNode.right.pos;return badNode;}}
return result;}
function parseJsxText(){var node=createNode(239 ,scanner.getStartPos());token=scanner.scanJsxToken();return finishNode(node);}
function parseJsxChild(){switch(token){case 239 :return parseJsxText();case 15 :return parseJsxExpression(false);case 25 :return parseJsxElementOrSelfClosingElement(false);}
ts.Debug.fail("Unknown JSX child kind "+token);}
function parseJsxChildren(openingTagName){var result=[];result.pos=scanner.getStartPos();var saveParsingContext=parsingContext;parsingContext|=1<<14 ;while(true){token=scanner.reScanJsxToken();if(token===26 ){break;}
else if(token===1 ){parseErrorAtPosition(openingTagName.pos,openingTagName.end-openingTagName.pos,ts.Diagnostics.JSX_element_0_has_no_corresponding_closing_tag,ts.getTextOfNodeFromSourceText(sourceText,openingTagName));break;}
result.push(parseJsxChild());}
result.end=scanner.getTokenPos();parsingContext=saveParsingContext;return result;}
function parseJsxOpeningOrSelfClosingElement(inExpressionContext){var fullStart=scanner.getStartPos();parseExpected(25 );var tagName=parseJsxElementName();var attributes=parseList(13 ,parseJsxAttribute);var node;if(token===27 ){node=createNode(238 ,fullStart);scanJsxText();}
else{parseExpected(39 );if(inExpressionContext){parseExpected(27 );}
else{parseExpected(27 ,undefined,false);scanJsxText();}
node=createNode(237 ,fullStart);}
node.tagName=tagName;node.attributes=attributes;return finishNode(node);}
function parseJsxElementName(){scanJsxIdentifier();var elementName=parseIdentifierName();while(parseOptional(21 )){scanJsxIdentifier();var node=createNode(136 ,elementName.pos);node.left=elementName;node.right=parseIdentifierName();elementName=finishNode(node);}
return elementName;}
function parseJsxExpression(inExpressionContext){var node=createNode(243 );parseExpected(15 );if(token!==16 ){node.expression=parseAssignmentExpressionOrHigher();}
if(inExpressionContext){parseExpected(16 );}
else{parseExpected(16 ,undefined,false);scanJsxText();}
return finishNode(node);}
function parseJsxAttribute(){if(token===15 ){return parseJsxSpreadAttribute();}
scanJsxIdentifier();var node=createNode(241 );node.name=parseIdentifierName();if(parseOptional(56 )){switch(token){case 9 :node.initializer=parseLiteralNode();break;default:node.initializer=parseJsxExpression(true);break;}}
return finishNode(node);}
function parseJsxSpreadAttribute(){var node=createNode(242 );parseExpected(15 );parseExpected(22 );node.expression=parseExpression();parseExpected(16 );return finishNode(node);}
function parseJsxClosingElement(inExpressionContext){var node=createNode(240 );parseExpected(26 );node.tagName=parseJsxElementName();if(inExpressionContext){parseExpected(27 );}
else{parseExpected(27 ,undefined,false);scanJsxText();}
return finishNode(node);}
function parseTypeAssertion(){var node=createNode(174 );parseExpected(25 );node.type=parseType();parseExpected(27 );node.expression=parseSimpleUnaryExpression();return finishNode(node);}
function parseMemberExpressionRest(expression){while(true){var dotToken=parseOptionalToken(21 );if(dotToken){var propertyAccess=createNode(169 ,expression.pos);propertyAccess.expression=expression;propertyAccess.dotToken=dotToken;propertyAccess.name=parseRightSideOfDot(true);expression=finishNode(propertyAccess);continue;}
if(!inDecoratorContext()&&parseOptional(19 )){var indexedAccess=createNode(170 ,expression.pos);indexedAccess.expression=expression;if(token!==20 ){indexedAccess.argumentExpression=allowInAnd(parseExpression);if(indexedAccess.argumentExpression.kind===9 ||indexedAccess.argumentExpression.kind===8 ){var literal=indexedAccess.argumentExpression;literal.text=internIdentifier(literal.text);}}
parseExpected(20 );expression=finishNode(indexedAccess);continue;}
if(token===11 ||token===12 ){var tagExpression=createNode(173 ,expression.pos);tagExpression.tag=expression;tagExpression.template=token===11 ?parseLiteralNode():parseTemplateExpression();expression=finishNode(tagExpression);continue;}
return expression;}}
function parseCallExpressionRest(expression){while(true){expression=parseMemberExpressionRest(expression);if(token===25 ){var typeArguments=tryParse(parseTypeArgumentsInExpression);if(!typeArguments){return expression;}
var callExpr=createNode(171 ,expression.pos);callExpr.expression=expression;callExpr.typeArguments=typeArguments;callExpr.arguments=parseArgumentList();expression=finishNode(callExpr);continue;}
else if(token===17 ){var callExpr=createNode(171 ,expression.pos);callExpr.expression=expression;callExpr.arguments=parseArgumentList();expression=finishNode(callExpr);continue;}
return expression;}}
function parseArgumentList(){parseExpected(17 );var result=parseDelimitedList(11 ,parseArgumentExpression);parseExpected(18 );return result;}
function parseTypeArgumentsInExpression(){if(!parseOptional(25 )){return undefined;}
var typeArguments=parseDelimitedList(18 ,parseType);if(!parseExpected(27 )){return undefined;}
return typeArguments&&canFollowTypeArgumentsInExpression()?typeArguments:undefined;}
function canFollowTypeArgumentsInExpression(){switch(token){case 17 :case 21 :case 18 :case 20 :case 54 :case 23 :case 53 :case 30 :case 32 :case 31 :case 33 :case 51 :case 52 :case 48 :case 46 :case 47 :case 16 :case 1 :return true;case 24 :case 15 :default:return false;}}
function parsePrimaryExpression(){switch(token){case 8 :case 9 :case 11 :return parseLiteralNode();case 97 :case 95 :case 93 :case 99 :case 84 :return parseTokenNode();case 17 :return parseParenthesizedExpression();case 19 :return parseArrayLiteralExpression();case 15 :return parseObjectLiteralExpression();case 118 :if(!lookAhead(nextTokenIsFunctionKeywordOnSameLine)){break;}
return parseFunctionExpression();case 73 :return parseClassExpression();case 87 :return parseFunctionExpression();case 92 :return parseNewExpression();case 39 :case 61 :if(reScanSlashToken()===10 ){return parseLiteralNode();}
break;case 12 :return parseTemplateExpression();}
return parseIdentifier(ts.Diagnostics.Expression_expected);}
function parseParenthesizedExpression(){var node=createNode(175 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );return finishNode(node);}
function parseSpreadElement(){var node=createNode(188 );parseExpected(22 );node.expression=parseAssignmentExpressionOrHigher();return finishNode(node);}
function parseArgumentOrArrayLiteralElement(){return token===22 ?parseSpreadElement():token===24 ?createNode(190 ):parseAssignmentExpressionOrHigher();}
function parseArgumentExpression(){return doOutsideOfContext(disallowInAndDecoratorContext,parseArgumentOrArrayLiteralElement);}
function parseArrayLiteralExpression(){var node=createNode(167 );parseExpected(19 );if(scanner.hasPrecedingLineBreak())
node.flags|=1024 ;node.elements=parseDelimitedList(15 ,parseArgumentOrArrayLiteralElement);parseExpected(20 );return finishNode(node);}
function tryParseAccessorDeclaration(fullStart,decorators,modifiers){if(parseContextualModifier(123 )){return parseAccessorDeclaration(146 ,fullStart,decorators,modifiers);}
else if(parseContextualModifier(129 )){return parseAccessorDeclaration(147 ,fullStart,decorators,modifiers);}
return undefined;}
function parseObjectLiteralElement(){var fullStart=scanner.getStartPos();var decorators=parseDecorators();var modifiers=parseModifiers();var accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor){return accessor;}
var asteriskToken=parseOptionalToken(37 );var tokenIsIdentifier=isIdentifier();var propertyName=parsePropertyName();var questionToken=parseOptionalToken(53 );if(asteriskToken||token===17 ||token===25 ){return parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,propertyName,questionToken);}
var isShorthandPropertyAssignment=tokenIsIdentifier&&(token===24 ||token===16 ||token===56 );if(isShorthandPropertyAssignment){var shorthandDeclaration=createNode(249 ,fullStart);shorthandDeclaration.name=propertyName;shorthandDeclaration.questionToken=questionToken;var equalsToken=parseOptionalToken(56 );if(equalsToken){shorthandDeclaration.equalsToken=equalsToken;shorthandDeclaration.objectAssignmentInitializer=allowInAnd(parseAssignmentExpressionOrHigher);}
return addJSDocComment(finishNode(shorthandDeclaration));}
else{var propertyAssignment=createNode(248 ,fullStart);propertyAssignment.modifiers=modifiers;propertyAssignment.name=propertyName;propertyAssignment.questionToken=questionToken;parseExpected(54 );propertyAssignment.initializer=allowInAnd(parseAssignmentExpressionOrHigher);return addJSDocComment(finishNode(propertyAssignment));}}
function parseObjectLiteralExpression(){var node=createNode(168 );parseExpected(15 );if(scanner.hasPrecedingLineBreak()){node.flags|=1024 ;}
node.properties=parseDelimitedList(12 ,parseObjectLiteralElement,true);parseExpected(16 );return finishNode(node);}
function parseFunctionExpression(){var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false);}
var node=createNode(176 );setModifiers(node,parseModifiers());parseExpected(87 );node.asteriskToken=parseOptionalToken(37 );var isGenerator=!!node.asteriskToken;var isAsync=!!(node.flags&256 );node.name=isGenerator&&isAsync?doInYieldAndAwaitContext(parseOptionalIdentifier):isGenerator?doInYieldContext(parseOptionalIdentifier):isAsync?doInAwaitContext(parseOptionalIdentifier):parseOptionalIdentifier();fillSignature(54 ,isGenerator,isAsync,false,node);node.body=parseFunctionBlock(isGenerator,isAsync,false);if(saveDecoratorContext){setDecoratorContext(true);}
return addJSDocComment(finishNode(node));}
function parseOptionalIdentifier(){return isIdentifier()?parseIdentifier():undefined;}
function parseNewExpression(){var node=createNode(172 );parseExpected(92 );node.expression=parseMemberExpressionOrHigher();node.typeArguments=tryParse(parseTypeArgumentsInExpression);if(node.typeArguments||token===17 ){node.arguments=parseArgumentList();}
return finishNode(node);}
function parseBlock(ignoreMissingOpenBrace,diagnosticMessage){var node=createNode(195 );if(parseExpected(15 ,diagnosticMessage)||ignoreMissingOpenBrace){node.statements=parseList(1 ,parseStatement);parseExpected(16 );}
else{node.statements=createMissingList();}
return finishNode(node);}
function parseFunctionBlock(allowYield,allowAwait,ignoreMissingOpenBrace,diagnosticMessage){var savedYieldContext=inYieldContext();setYieldContext(allowYield);var savedAwaitContext=inAwaitContext();setAwaitContext(allowAwait);var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false);}
var block=parseBlock(ignoreMissingOpenBrace,diagnosticMessage);if(saveDecoratorContext){setDecoratorContext(true);}
setYieldContext(savedYieldContext);setAwaitContext(savedAwaitContext);return block;}
function parseEmptyStatement(){var node=createNode(197 );parseExpected(23 );return finishNode(node);}
function parseIfStatement(){var node=createNode(199 );parseExpected(88 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );node.thenStatement=parseStatement();node.elseStatement=parseOptional(80 )?parseStatement():undefined;return finishNode(node);}
function parseDoStatement(){var node=createNode(200 );parseExpected(79 );node.statement=parseStatement();parseExpected(104 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );parseOptional(23 );return finishNode(node);}
function parseWhileStatement(){var node=createNode(201 );parseExpected(104 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );node.statement=parseStatement();return finishNode(node);}
function parseForOrForInOrForOfStatement(){var pos=getNodePos();parseExpected(86 );parseExpected(17 );var initializer=undefined;if(token!==23 ){if(token===102 ||token===108 ||token===74 ){initializer=parseVariableDeclarationList(true);}
else{initializer=disallowInAnd(parseExpression);}}
var forOrForInOrForOfStatement;if(parseOptional(90 )){var forInStatement=createNode(203 ,pos);forInStatement.initializer=initializer;forInStatement.expression=allowInAnd(parseExpression);parseExpected(18 );forOrForInOrForOfStatement=forInStatement;}
else if(parseOptional(135 )){var forOfStatement=createNode(204 ,pos);forOfStatement.initializer=initializer;forOfStatement.expression=allowInAnd(parseAssignmentExpressionOrHigher);parseExpected(18 );forOrForInOrForOfStatement=forOfStatement;}
else{var forStatement=createNode(202 ,pos);forStatement.initializer=initializer;parseExpected(23 );if(token!==23 &&token!==18 ){forStatement.condition=allowInAnd(parseExpression);}
parseExpected(23 );if(token!==18 ){forStatement.incrementor=allowInAnd(parseExpression);}
parseExpected(18 );forOrForInOrForOfStatement=forStatement;}
forOrForInOrForOfStatement.statement=parseStatement();return finishNode(forOrForInOrForOfStatement);}
function parseBreakOrContinueStatement(kind){var node=createNode(kind);parseExpected(kind===206 ?70 :75 );if(!canParseSemicolon()){node.label=parseIdentifier();}
parseSemicolon();return finishNode(node);}
function parseReturnStatement(){var node=createNode(207 );parseExpected(94 );if(!canParseSemicolon()){node.expression=allowInAnd(parseExpression);}
parseSemicolon();return finishNode(node);}
function parseWithStatement(){var node=createNode(208 );parseExpected(105 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );node.statement=parseStatement();return finishNode(node);}
function parseCaseClause(){var node=createNode(244 );parseExpected(71 );node.expression=allowInAnd(parseExpression);parseExpected(54 );node.statements=parseList(3 ,parseStatement);return finishNode(node);}
function parseDefaultClause(){var node=createNode(245 );parseExpected(77 );parseExpected(54 );node.statements=parseList(3 ,parseStatement);return finishNode(node);}
function parseCaseOrDefaultClause(){return token===71 ?parseCaseClause():parseDefaultClause();}
function parseSwitchStatement(){var node=createNode(209 );parseExpected(96 );parseExpected(17 );node.expression=allowInAnd(parseExpression);parseExpected(18 );var caseBlock=createNode(223 ,scanner.getStartPos());parseExpected(15 );caseBlock.clauses=parseList(2 ,parseCaseOrDefaultClause);parseExpected(16 );node.caseBlock=finishNode(caseBlock);return finishNode(node);}
function parseThrowStatement(){var node=createNode(211 );parseExpected(98 );node.expression=scanner.hasPrecedingLineBreak()?undefined:allowInAnd(parseExpression);parseSemicolon();return finishNode(node);}
function parseTryStatement(){var node=createNode(212 );parseExpected(100 );node.tryBlock=parseBlock(false);node.catchClause=token===72 ?parseCatchClause():undefined;if(!node.catchClause||token===85 ){parseExpected(85 );node.finallyBlock=parseBlock(false);}
return finishNode(node);}
function parseCatchClause(){var result=createNode(247 );parseExpected(72 );if(parseExpected(17 )){result.variableDeclaration=parseVariableDeclaration();}
parseExpected(18 );result.block=parseBlock(false);return finishNode(result);}
function parseDebuggerStatement(){var node=createNode(213 );parseExpected(76 );parseSemicolon();return finishNode(node);}
function parseExpressionOrLabeledStatement(){var fullStart=scanner.getStartPos();var expression=allowInAnd(parseExpression);if(expression.kind===69 &&parseOptional(54 )){var labeledStatement=createNode(210 ,fullStart);labeledStatement.label=expression;labeledStatement.statement=parseStatement();return addJSDocComment(finishNode(labeledStatement));}
else{var expressionStatement=createNode(198 ,fullStart);expressionStatement.expression=expression;parseSemicolon();return addJSDocComment(finishNode(expressionStatement));}}
function nextTokenIsIdentifierOrKeywordOnSameLine(){nextToken();return ts.tokenIsIdentifierOrKeyword(token)&&!scanner.hasPrecedingLineBreak();}
function nextTokenIsFunctionKeywordOnSameLine(){nextToken();return token===87 &&!scanner.hasPrecedingLineBreak();}
function nextTokenIsIdentifierOrKeywordOrNumberOnSameLine(){nextToken();return(ts.tokenIsIdentifierOrKeyword(token)||token===8 )&&!scanner.hasPrecedingLineBreak();}
function isDeclaration(){while(true){switch(token){case 102 :case 108 :case 74 :case 87 :case 73 :case 81 :return true;case 107 :case 132 :return nextTokenIsIdentifierOnSameLine();case 125 :case 126 :return nextTokenIsIdentifierOrStringLiteralOnSameLine();case 115 :case 118 :case 122 :case 110 :case 111 :case 112 :nextToken();if(scanner.hasPrecedingLineBreak()){return false;}
continue;case 134 :return nextToken()===15 ;case 89 :nextToken();return token===9 ||token===37 ||token===15 ||ts.tokenIsIdentifierOrKeyword(token);case 82 :nextToken();if(token===56 ||token===37 ||token===15 ||token===77 ){return true;}
continue;case 113 :nextToken();continue;default:return false;}}}
function isStartOfDeclaration(){return lookAhead(isDeclaration);}
function isStartOfStatement(){switch(token){case 55 :case 23 :case 15 :case 102 :case 108 :case 87 :case 73 :case 81 :case 88 :case 79 :case 104 :case 86 :case 75 :case 70 :case 94 :case 105 :case 96 :case 98 :case 100 :case 76 :case 72 :case 85 :return true;case 74 :case 82 :case 89 :return isStartOfDeclaration();case 118 :case 122 :case 107 :case 125 :case 126 :case 132 :case 134 :return true;case 112 :case 110 :case 111 :case 113 :return isStartOfDeclaration()||!lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);default:return isStartOfExpression();}}
function nextTokenIsIdentifierOrStartOfDestructuring(){nextToken();return isIdentifier()||token===15 ||token===19 ;}
function isLetDeclaration(){return lookAhead(nextTokenIsIdentifierOrStartOfDestructuring);}
function parseStatement(){switch(token){case 23 :return parseEmptyStatement();case 15 :return parseBlock(false);case 102 :return parseVariableStatement(scanner.getStartPos(),undefined,undefined);case 108 :if(isLetDeclaration()){return parseVariableStatement(scanner.getStartPos(),undefined,undefined);}
break;case 87 :return parseFunctionDeclaration(scanner.getStartPos(),undefined,undefined);case 73 :return parseClassDeclaration(scanner.getStartPos(),undefined,undefined);case 88 :return parseIfStatement();case 79 :return parseDoStatement();case 104 :return parseWhileStatement();case 86 :return parseForOrForInOrForOfStatement();case 75 :return parseBreakOrContinueStatement(205 );case 70 :return parseBreakOrContinueStatement(206 );case 94 :return parseReturnStatement();case 105 :return parseWithStatement();case 96 :return parseSwitchStatement();case 98 :return parseThrowStatement();case 100 :case 72 :case 85 :return parseTryStatement();case 76 :return parseDebuggerStatement();case 55 :return parseDeclaration();case 118 :case 107 :case 132 :case 125 :case 126 :case 122 :case 74 :case 81 :case 82 :case 89 :case 110 :case 111 :case 112 :case 115 :case 113 :case 134 :if(isStartOfDeclaration()){return parseDeclaration();}
break;}
return parseExpressionOrLabeledStatement();}
function parseDeclaration(){var fullStart=getNodePos();var decorators=parseDecorators();var modifiers=parseModifiers();switch(token){case 102 :case 108 :case 74 :return parseVariableStatement(fullStart,decorators,modifiers);case 87 :return parseFunctionDeclaration(fullStart,decorators,modifiers);case 73 :return parseClassDeclaration(fullStart,decorators,modifiers);case 107 :return parseInterfaceDeclaration(fullStart,decorators,modifiers);case 132 :return parseTypeAliasDeclaration(fullStart,decorators,modifiers);case 81 :return parseEnumDeclaration(fullStart,decorators,modifiers);case 134 :case 125 :case 126 :return parseModuleDeclaration(fullStart,decorators,modifiers);case 89 :return parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers);case 82 :nextToken();return token===77 ||token===56 ?parseExportAssignment(fullStart,decorators,modifiers):parseExportDeclaration(fullStart,decorators,modifiers);default:if(decorators||modifiers){var node=createMissingNode(234 ,true,ts.Diagnostics.Declaration_expected);node.pos=fullStart;node.decorators=decorators;setModifiers(node,modifiers);return finishNode(node);}}}
function nextTokenIsIdentifierOrStringLiteralOnSameLine(){nextToken();return!scanner.hasPrecedingLineBreak()&&(isIdentifier()||token===9 );}
function parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage){if(token!==15 &&canParseSemicolon()){parseSemicolon();return;}
return parseFunctionBlock(isGenerator,isAsync,false,diagnosticMessage);}
function parseArrayBindingElement(){if(token===24 ){return createNode(190 );}
var node=createNode(166 );node.dotDotDotToken=parseOptionalToken(22 );node.name=parseIdentifierOrPattern();node.initializer=parseBindingElementInitializer(false);return finishNode(node);}
function parseObjectBindingElement(){var node=createNode(166 );var tokenIsIdentifier=isIdentifier();var propertyName=parsePropertyName();if(tokenIsIdentifier&&token!==54 ){node.name=propertyName;}
else{parseExpected(54 );node.propertyName=propertyName;node.name=parseIdentifierOrPattern();}
node.initializer=parseBindingElementInitializer(false);return finishNode(node);}
function parseObjectBindingPattern(){var node=createNode(164 );parseExpected(15 );node.elements=parseDelimitedList(9 ,parseObjectBindingElement);parseExpected(16 );return finishNode(node);}
function parseArrayBindingPattern(){var node=createNode(165 );parseExpected(19 );node.elements=parseDelimitedList(10 ,parseArrayBindingElement);parseExpected(20 );return finishNode(node);}
function isIdentifierOrPattern(){return token===15 ||token===19 ||isIdentifier();}
function parseIdentifierOrPattern(){if(token===19 ){return parseArrayBindingPattern();}
if(token===15 ){return parseObjectBindingPattern();}
return parseIdentifier();}
function parseVariableDeclaration(){var node=createNode(214 );node.name=parseIdentifierOrPattern();node.type=parseTypeAnnotation();if(!isInOrOfKeyword(token)){node.initializer=parseInitializer(false);}
return finishNode(node);}
function parseVariableDeclarationList(inForStatementInitializer){var node=createNode(215 );switch(token){case 102 :break;case 108 :node.flags|=8192 ;break;case 74 :node.flags|=16384 ;break;default:ts.Debug.fail();}
nextToken();if(token===135 &&lookAhead(canFollowContextualOfKeyword)){node.declarations=createMissingList();}
else{var savedDisallowIn=inDisallowInContext();setDisallowInContext(inForStatementInitializer);node.declarations=parseDelimitedList(8 ,parseVariableDeclaration);setDisallowInContext(savedDisallowIn);}
return finishNode(node);}
function canFollowContextualOfKeyword(){return nextTokenIsIdentifier()&&nextToken()===18 ;}
function parseVariableStatement(fullStart,decorators,modifiers){var node=createNode(196 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.declarationList=parseVariableDeclarationList(false);parseSemicolon();return addJSDocComment(finishNode(node));}
function parseFunctionDeclaration(fullStart,decorators,modifiers){var node=createNode(216 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(87 );node.asteriskToken=parseOptionalToken(37 );node.name=node.flags&512 ?parseOptionalIdentifier():parseIdentifier();var isGenerator=!!node.asteriskToken;var isAsync=!!(node.flags&256 );fillSignature(54 ,isGenerator,isAsync,false,node);node.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,ts.Diagnostics.or_expected);return addJSDocComment(finishNode(node));}
function parseConstructorDeclaration(pos,decorators,modifiers){var node=createNode(145 ,pos);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(121 );fillSignature(54 ,false,false,false,node);node.body=parseFunctionBlockOrSemicolon(false,false,ts.Diagnostics.or_expected);return addJSDocComment(finishNode(node));}
function parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,diagnosticMessage){var method=createNode(144 ,fullStart);method.decorators=decorators;setModifiers(method,modifiers);method.asteriskToken=asteriskToken;method.name=name;method.questionToken=questionToken;var isGenerator=!!asteriskToken;var isAsync=!!(method.flags&256 );fillSignature(54 ,isGenerator,isAsync,false,method);method.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage);return addJSDocComment(finishNode(method));}
function parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken){var property=createNode(142 ,fullStart);property.decorators=decorators;setModifiers(property,modifiers);property.name=name;property.questionToken=questionToken;property.type=parseTypeAnnotation();property.initializer=modifiers&&modifiers.flags&64 ?allowInAnd(parseNonParameterInitializer):doOutsideOfContext(2 |1 ,parseNonParameterInitializer);parseSemicolon();return finishNode(property);}
function parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers){var asteriskToken=parseOptionalToken(37 );var name=parsePropertyName();var questionToken=parseOptionalToken(53 );if(asteriskToken||token===17 ||token===25 ){return parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,ts.Diagnostics.or_expected);}
else{return parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken);}}
function parseNonParameterInitializer(){return parseInitializer(false);}
function parseAccessorDeclaration(kind,fullStart,decorators,modifiers){var node=createNode(kind,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.name=parsePropertyName();fillSignature(54 ,false,false,false,node);node.body=parseFunctionBlockOrSemicolon(false,false);return finishNode(node);}
function isClassMemberModifier(idToken){switch(idToken){case 112 :case 110 :case 111 :case 113 :return true;default:return false;}}
function isClassMemberStart(){var idToken;if(token===55 ){return true;}
while(ts.isModifierKind(token)){idToken=token;if(isClassMemberModifier(idToken)){return true;}
nextToken();}
if(token===37 ){return true;}
if(isLiteralPropertyName()){idToken=token;nextToken();}
if(token===19 ){return true;}
if(idToken!==undefined){if(!ts.isKeyword(idToken)||idToken===129 ||idToken===123 ){return true;}
switch(token){case 17 :case 25 :case 54 :case 56 :case 53 :return true;default:return canParseSemicolon();}}
return false;}
function parseDecorators(){var decorators;while(true){var decoratorStart=getNodePos();if(!parseOptional(55 )){break;}
if(!decorators){decorators=[];decorators.pos=decoratorStart;}
var decorator=createNode(140 ,decoratorStart);decorator.expression=doInDecoratorContext(parseLeftHandSideExpressionOrHigher);decorators.push(finishNode(decorator));}
if(decorators){decorators.end=getNodeEnd();}
return decorators;}
function parseModifiers(permitInvalidConstAsModifier){var flags=0;var modifiers;while(true){var modifierStart=scanner.getStartPos();var modifierKind=token;if(token===74 &&permitInvalidConstAsModifier){if(!tryParse(nextTokenIsOnSameLineAndCanFollowModifier)){break;}}
else{if(!parseAnyContextualModifier()){break;}}
if(!modifiers){modifiers=[];modifiers.pos=modifierStart;}
flags|=ts.modifierToFlag(modifierKind);modifiers.push(finishNode(createNode(modifierKind,modifierStart)));}
if(modifiers){modifiers.flags=flags;modifiers.end=scanner.getStartPos();}
return modifiers;}
function parseModifiersForArrowFunction(){var flags=0;var modifiers;if(token===118 ){var modifierStart=scanner.getStartPos();var modifierKind=token;nextToken();modifiers=[];modifiers.pos=modifierStart;flags|=ts.modifierToFlag(modifierKind);modifiers.push(finishNode(createNode(modifierKind,modifierStart)));modifiers.flags=flags;modifiers.end=scanner.getStartPos();}
return modifiers;}
function parseClassElement(){if(token===23 ){var result=createNode(194 );nextToken();return finishNode(result);}
var fullStart=getNodePos();var decorators=parseDecorators();var modifiers=parseModifiers(true);var accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor){return accessor;}
if(token===121 ){return parseConstructorDeclaration(fullStart,decorators,modifiers);}
if(isIndexSignature()){return parseIndexSignatureDeclaration(fullStart,decorators,modifiers);}
if(ts.tokenIsIdentifierOrKeyword(token)||token===9 ||token===8 ||token===37 ||token===19 ){return parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers);}
if(decorators||modifiers){var name_7=createMissingNode(69 ,true,ts.Diagnostics.Declaration_expected);return parsePropertyDeclaration(fullStart,decorators,modifiers,name_7,undefined);}
ts.Debug.fail("Should not have attempted to parse class member declaration.");}
function parseClassExpression(){return parseClassDeclarationOrExpression(scanner.getStartPos(),undefined,undefined,189 );}
function parseClassDeclaration(fullStart,decorators,modifiers){return parseClassDeclarationOrExpression(fullStart,decorators,modifiers,217 );}
function parseClassDeclarationOrExpression(fullStart,decorators,modifiers,kind){var node=createNode(kind,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(73 );node.name=parseNameOfClassDeclarationOrExpression();node.typeParameters=parseTypeParameters();node.heritageClauses=parseHeritageClauses(true);if(parseExpected(15 )){node.members=parseClassMembers();parseExpected(16 );}
else{node.members=createMissingList();}
return finishNode(node);}
function parseNameOfClassDeclarationOrExpression(){return isIdentifier()&&!isImplementsClause()?parseIdentifier():undefined;}
function isImplementsClause(){return token===106 &&lookAhead(nextTokenIsIdentifierOrKeyword);}
function parseHeritageClauses(isClassHeritageClause){if(isHeritageClause()){return parseList(20 ,parseHeritageClause);}
return undefined;}
function parseHeritageClause(){if(token===83 ||token===106 ){var node=createNode(246 );node.token=token;nextToken();node.types=parseDelimitedList(7 ,parseExpressionWithTypeArguments);return finishNode(node);}
return undefined;}
function parseExpressionWithTypeArguments(){var node=createNode(191 );node.expression=parseLeftHandSideExpressionOrHigher();if(token===25 ){node.typeArguments=parseBracketedList(18 ,parseType,25 ,27 );}
return finishNode(node);}
function isHeritageClause(){return token===83 ||token===106 ;}
function parseClassMembers(){return parseList(5 ,parseClassElement);}
function parseInterfaceDeclaration(fullStart,decorators,modifiers){var node=createNode(218 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(107 );node.name=parseIdentifier();node.typeParameters=parseTypeParameters();node.heritageClauses=parseHeritageClauses(false);node.members=parseObjectTypeMembers();return finishNode(node);}
function parseTypeAliasDeclaration(fullStart,decorators,modifiers){var node=createNode(219 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(132 );node.name=parseIdentifier();node.typeParameters=parseTypeParameters();parseExpected(56 );node.type=parseType();parseSemicolon();return finishNode(node);}
function parseEnumMember(){var node=createNode(250 ,scanner.getStartPos());node.name=parsePropertyName();node.initializer=allowInAnd(parseNonParameterInitializer);return finishNode(node);}
function parseEnumDeclaration(fullStart,decorators,modifiers){var node=createNode(220 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(81 );node.name=parseIdentifier();if(parseExpected(15 )){node.members=parseDelimitedList(6 ,parseEnumMember);parseExpected(16 );}
else{node.members=createMissingList();}
return finishNode(node);}
function parseModuleBlock(){var node=createNode(222 ,scanner.getStartPos());if(parseExpected(15 )){node.statements=parseList(1 ,parseStatement);parseExpected(16 );}
else{node.statements=createMissingList();}
return finishNode(node);}
function parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags){var node=createNode(221 ,fullStart);var namespaceFlag=flags&65536 ;node.decorators=decorators;setModifiers(node,modifiers);node.flags|=flags;node.name=parseIdentifier();node.body=parseOptional(21 )?parseModuleOrNamespaceDeclaration(getNodePos(),undefined,undefined,2 |namespaceFlag):parseModuleBlock();return finishNode(node);}
function parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers){var node=createNode(221 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);if(token===134 ){node.name=parseIdentifier();node.flags|=2097152 ;}
else{node.name=parseLiteralNode(true);}
node.body=parseModuleBlock();return finishNode(node);}
function parseModuleDeclaration(fullStart,decorators,modifiers){var flags=modifiers?modifiers.flags:0;if(token===134 ){return parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers);}
else if(parseOptional(126 )){flags|=65536 ;}
else{parseExpected(125 );if(token===9 ){return parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers);}}
return parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags);}
function isExternalModuleReference(){return token===127 &&lookAhead(nextTokenIsOpenParen);}
function nextTokenIsOpenParen(){return nextToken()===17 ;}
function nextTokenIsSlash(){return nextToken()===39 ;}
function parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers){parseExpected(89 );var afterImportPos=scanner.getStartPos();var identifier;if(isIdentifier()){identifier=parseIdentifier();if(token!==24 &&token!==133 ){var importEqualsDeclaration=createNode(224 ,fullStart);importEqualsDeclaration.decorators=decorators;setModifiers(importEqualsDeclaration,modifiers);importEqualsDeclaration.name=identifier;parseExpected(56 );importEqualsDeclaration.moduleReference=parseModuleReference();parseSemicolon();return finishNode(importEqualsDeclaration);}}
var importDeclaration=createNode(225 ,fullStart);importDeclaration.decorators=decorators;setModifiers(importDeclaration,modifiers);if(identifier||token===37 ||token===15 ){importDeclaration.importClause=parseImportClause(identifier,afterImportPos);parseExpected(133 );}
importDeclaration.moduleSpecifier=parseModuleSpecifier();parseSemicolon();return finishNode(importDeclaration);}
function parseImportClause(identifier,fullStart){var importClause=createNode(226 ,fullStart);if(identifier){importClause.name=identifier;}
if(!importClause.name||parseOptional(24 )){importClause.namedBindings=token===37 ?parseNamespaceImport():parseNamedImportsOrExports(228 );}
return finishNode(importClause);}
function parseModuleReference(){return isExternalModuleReference()?parseExternalModuleReference():parseEntityName(false);}
function parseExternalModuleReference(){var node=createNode(235 );parseExpected(127 );parseExpected(17 );node.expression=parseModuleSpecifier();parseExpected(18 );return finishNode(node);}
function parseModuleSpecifier(){if(token===9 ){var result=parseLiteralNode();internIdentifier(result.text);return result;}
else{return parseExpression();}}
function parseNamespaceImport(){var namespaceImport=createNode(227 );parseExpected(37 );parseExpected(116 );namespaceImport.name=parseIdentifier();return finishNode(namespaceImport);}
function parseNamedImportsOrExports(kind){var node=createNode(kind);node.elements=parseBracketedList(21 ,kind===228 ?parseImportSpecifier:parseExportSpecifier,15 ,16 );return finishNode(node);}
function parseExportSpecifier(){return parseImportOrExportSpecifier(233 );}
function parseImportSpecifier(){return parseImportOrExportSpecifier(229 );}
function parseImportOrExportSpecifier(kind){var node=createNode(kind);var checkIdentifierIsKeyword=ts.isKeyword(token)&&!isIdentifier();var checkIdentifierStart=scanner.getTokenPos();var checkIdentifierEnd=scanner.getTextPos();var identifierName=parseIdentifierName();if(token===116 ){node.propertyName=identifierName;parseExpected(116 );checkIdentifierIsKeyword=ts.isKeyword(token)&&!isIdentifier();checkIdentifierStart=scanner.getTokenPos();checkIdentifierEnd=scanner.getTextPos();node.name=parseIdentifierName();}
else{node.name=identifierName;}
if(kind===229 &&checkIdentifierIsKeyword){parseErrorAtPosition(checkIdentifierStart,checkIdentifierEnd-checkIdentifierStart,ts.Diagnostics.Identifier_expected);}
return finishNode(node);}
function parseExportDeclaration(fullStart,decorators,modifiers){var node=createNode(231 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);if(parseOptional(37 )){parseExpected(133 );node.moduleSpecifier=parseModuleSpecifier();}
else{node.exportClause=parseNamedImportsOrExports(232 );if(token===133 ||(token===9 &&!scanner.hasPrecedingLineBreak())){parseExpected(133 );node.moduleSpecifier=parseModuleSpecifier();}}
parseSemicolon();return finishNode(node);}
function parseExportAssignment(fullStart,decorators,modifiers){var node=createNode(230 ,fullStart);node.decorators=decorators;setModifiers(node,modifiers);if(parseOptional(56 )){node.isExportEquals=true;}
else{parseExpected(77 );}
node.expression=parseAssignmentExpressionOrHigher();parseSemicolon();return finishNode(node);}
function processReferenceComments(sourceFile){var triviaScanner=ts.createScanner(sourceFile.languageVersion,false,0 ,sourceText);var referencedFiles=[];var amdDependencies=[];var amdModuleName;while(true){var kind=triviaScanner.scan();if(kind!==2 ){if(ts.isTrivia(kind)){continue;}
else{break;}}
var range={pos:triviaScanner.getTokenPos(),end:triviaScanner.getTextPos(),kind:triviaScanner.getToken()};var comment=sourceText.substring(range.pos,range.end);var referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,range);if(referencePathMatchResult){var fileReference=referencePathMatchResult.fileReference;sourceFile.hasNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var diagnosticMessage=referencePathMatchResult.diagnosticMessage;if(fileReference){referencedFiles.push(fileReference);}
if(diagnosticMessage){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,diagnosticMessage));}}
else{var amdModuleNameRegEx=/^\/\/\/\s*<amd-module\s+name\s*=\s*('|")(.+?)\1/gim;var amdModuleNameMatchResult=amdModuleNameRegEx.exec(comment);if(amdModuleNameMatchResult){if(amdModuleName){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,ts.Diagnostics.An_AMD_module_cannot_have_multiple_name_assignments));}
amdModuleName=amdModuleNameMatchResult[2];}
var amdDependencyRegEx=/^\/\/\/\s*<amd-dependency\s/gim;var pathRegex=/\spath\s*=\s*('|")(.+?)\1/gim;var nameRegex=/\sname\s*=\s*('|")(.+?)\1/gim;var amdDependencyMatchResult=amdDependencyRegEx.exec(comment);if(amdDependencyMatchResult){var pathMatchResult=pathRegex.exec(comment);var nameMatchResult=nameRegex.exec(comment);if(pathMatchResult){var amdDependency={path:pathMatchResult[2],name:nameMatchResult?nameMatchResult[2]:undefined};amdDependencies.push(amdDependency);}}}}
sourceFile.referencedFiles=referencedFiles;sourceFile.amdDependencies=amdDependencies;sourceFile.moduleName=amdModuleName;}
function setExternalModuleIndicator(sourceFile){sourceFile.externalModuleIndicator=ts.forEach(sourceFile.statements,function(node){return node.flags&2 ||node.kind===224 &&node.moduleReference.kind===235 ||node.kind===225 ||node.kind===230 ||node.kind===231 ?node:undefined;});}
var ParsingContext;(function(ParsingContext){ParsingContext[ParsingContext["SourceElements"]=0]="SourceElements";ParsingContext[ParsingContext["BlockStatements"]=1]="BlockStatements";ParsingContext[ParsingContext["SwitchClauses"]=2]="SwitchClauses";ParsingContext[ParsingContext["SwitchClauseStatements"]=3]="SwitchClauseStatements";ParsingContext[ParsingContext["TypeMembers"]=4]="TypeMembers";ParsingContext[ParsingContext["ClassMembers"]=5]="ClassMembers";ParsingContext[ParsingContext["EnumMembers"]=6]="EnumMembers";ParsingContext[ParsingContext["HeritageClauseElement"]=7]="HeritageClauseElement";ParsingContext[ParsingContext["VariableDeclarations"]=8]="VariableDeclarations";ParsingContext[ParsingContext["ObjectBindingElements"]=9]="ObjectBindingElements";ParsingContext[ParsingContext["ArrayBindingElements"]=10]="ArrayBindingElements";ParsingContext[ParsingContext["ArgumentExpressions"]=11]="ArgumentExpressions";ParsingContext[ParsingContext["ObjectLiteralMembers"]=12]="ObjectLiteralMembers";ParsingContext[ParsingContext["JsxAttributes"]=13]="JsxAttributes";ParsingContext[ParsingContext["JsxChildren"]=14]="JsxChildren";ParsingContext[ParsingContext["ArrayLiteralMembers"]=15]="ArrayLiteralMembers";ParsingContext[ParsingContext["Parameters"]=16]="Parameters";ParsingContext[ParsingContext["TypeParameters"]=17]="TypeParameters";ParsingContext[ParsingContext["TypeArguments"]=18]="TypeArguments";ParsingContext[ParsingContext["TupleElementTypes"]=19]="TupleElementTypes";ParsingContext[ParsingContext["HeritageClauses"]=20]="HeritageClauses";ParsingContext[ParsingContext["ImportOrExportSpecifiers"]=21]="ImportOrExportSpecifiers";ParsingContext[ParsingContext["JSDocFunctionParameters"]=22]="JSDocFunctionParameters";ParsingContext[ParsingContext["JSDocTypeArguments"]=23]="JSDocTypeArguments";ParsingContext[ParsingContext["JSDocRecordMembers"]=24]="JSDocRecordMembers";ParsingContext[ParsingContext["JSDocTupleTypes"]=25]="JSDocTupleTypes";ParsingContext[ParsingContext["Count"]=26]="Count";})(ParsingContext||(ParsingContext={}));var Tristate;(function(Tristate){Tristate[Tristate["False"]=0]="False";Tristate[Tristate["True"]=1]="True";Tristate[Tristate["Unknown"]=2]="Unknown";})(Tristate||(Tristate={}));var JSDocParser;(function(JSDocParser){function isJSDocType(){switch(token){case 37 :case 53 :case 17 :case 19 :case 49 :case 15 :case 87 :case 22 :case 92 :case 97 :return true;}
return ts.tokenIsIdentifierOrKeyword(token);}
JSDocParser.isJSDocType=isJSDocType;function parseJSDocTypeExpressionForTests(content,start,length){initializeState("file.js",content,2 ,undefined,1 );scanner.setText(content,start,length);token=scanner.scan();var jsDocTypeExpression=parseJSDocTypeExpression();var diagnostics=parseDiagnostics;clearState();return jsDocTypeExpression?{jsDocTypeExpression:jsDocTypeExpression,diagnostics:diagnostics}:undefined;}
JSDocParser.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests;function parseJSDocTypeExpression(){var result=createNode(252 ,scanner.getTokenPos());parseExpected(15 );result.type=parseJSDocTopLevelType();parseExpected(16 );fixupParentReferences(result);return finishNode(result);}
JSDocParser.parseJSDocTypeExpression=parseJSDocTypeExpression;function parseJSDocTopLevelType(){var type=parseJSDocType();if(token===47 ){var unionType=createNode(256 ,type.pos);unionType.types=parseJSDocTypeList(type);type=finishNode(unionType);}
if(token===56 ){var optionalType=createNode(263 ,type.pos);nextToken();optionalType.type=type;type=finishNode(optionalType);}
return type;}
function parseJSDocType(){var type=parseBasicTypeExpression();while(true){if(token===19 ){var arrayType=createNode(255 ,type.pos);arrayType.elementType=type;nextToken();parseExpected(20 );type=finishNode(arrayType);}
else if(token===53 ){var nullableType=createNode(258 ,type.pos);nullableType.type=type;nextToken();type=finishNode(nullableType);}
else if(token===49 ){var nonNullableType=createNode(259 ,type.pos);nonNullableType.type=type;nextToken();type=finishNode(nonNullableType);}
else{break;}}
return type;}
function parseBasicTypeExpression(){switch(token){case 37 :return parseJSDocAllType();case 53 :return parseJSDocUnknownOrNullableType();case 17 :return parseJSDocUnionType();case 19 :return parseJSDocTupleType();case 49 :return parseJSDocNonNullableType();case 15 :return parseJSDocRecordType();case 87 :return parseJSDocFunctionType();case 22 :return parseJSDocVariadicType();case 92 :return parseJSDocConstructorType();case 97 :return parseJSDocThisType();case 117 :case 130 :case 128 :case 120 :case 131 :case 103 :return parseTokenNode();}
return parseJSDocTypeReference();}
function parseJSDocThisType(){var result=createNode(267 );nextToken();parseExpected(54 );result.type=parseJSDocType();return finishNode(result);}
function parseJSDocConstructorType(){var result=createNode(266 );nextToken();parseExpected(54 );result.type=parseJSDocType();return finishNode(result);}
function parseJSDocVariadicType(){var result=createNode(265 );nextToken();result.type=parseJSDocType();return finishNode(result);}
function parseJSDocFunctionType(){var result=createNode(264 );nextToken();parseExpected(17 );result.parameters=parseDelimitedList(22 ,parseJSDocParameter);checkForTrailingComma(result.parameters);parseExpected(18 );if(token===54 ){nextToken();result.type=parseJSDocType();}
return finishNode(result);}
function parseJSDocParameter(){var parameter=createNode(139 );parameter.type=parseJSDocType();if(parseOptional(56 )){parameter.questionToken=createNode(56 );}
return finishNode(parameter);}
function parseJSDocTypeReference(){var result=createNode(262 );result.name=parseSimplePropertyName();if(token===25 ){result.typeArguments=parseTypeArguments();}
else{while(parseOptional(21 )){if(token===25 ){result.typeArguments=parseTypeArguments();break;}
else{result.name=parseQualifiedName(result.name);}}}
return finishNode(result);}
function parseTypeArguments(){nextToken();var typeArguments=parseDelimitedList(23 ,parseJSDocType);checkForTrailingComma(typeArguments);checkForEmptyTypeArgumentList(typeArguments);parseExpected(27 );return typeArguments;}
function checkForEmptyTypeArgumentList(typeArguments){if(parseDiagnostics.length===0&&typeArguments&&typeArguments.length===0){var start=typeArguments.pos-"<".length;var end=ts.skipTrivia(sourceText,typeArguments.end)+">".length;return parseErrorAtPosition(start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty);}}
function parseQualifiedName(left){var result=createNode(136 ,left.pos);result.left=left;result.right=parseIdentifierName();return finishNode(result);}
function parseJSDocRecordType(){var result=createNode(260 );nextToken();result.members=parseDelimitedList(24 ,parseJSDocRecordMember);checkForTrailingComma(result.members);parseExpected(16 );return finishNode(result);}
function parseJSDocRecordMember(){var result=createNode(261 );result.name=parseSimplePropertyName();if(token===54 ){nextToken();result.type=parseJSDocType();}
return finishNode(result);}
function parseJSDocNonNullableType(){var result=createNode(259 );nextToken();result.type=parseJSDocType();return finishNode(result);}
function parseJSDocTupleType(){var result=createNode(257 );nextToken();result.types=parseDelimitedList(25 ,parseJSDocType);checkForTrailingComma(result.types);parseExpected(20 );return finishNode(result);}
function checkForTrailingComma(list){if(parseDiagnostics.length===0&&list.hasTrailingComma){var start=list.end-",".length;parseErrorAtPosition(start,",".length,ts.Diagnostics.Trailing_comma_not_allowed);}}
function parseJSDocUnionType(){var result=createNode(256 );nextToken();result.types=parseJSDocTypeList(parseJSDocType());parseExpected(18 );return finishNode(result);}
function parseJSDocTypeList(firstType){ts.Debug.assert(!!firstType);var types=[];types.pos=firstType.pos;types.push(firstType);while(parseOptional(47 )){types.push(parseJSDocType());}
types.end=scanner.getStartPos();return types;}
function parseJSDocAllType(){var result=createNode(253 );nextToken();return finishNode(result);}
function parseJSDocUnknownOrNullableType(){var pos=scanner.getStartPos();nextToken();if(token===24 ||token===16 ||token===18 ||token===27 ||token===56 ||token===47 ){var result=createNode(254 ,pos);return finishNode(result);}
else{var result=createNode(258 ,pos);result.type=parseJSDocType();return finishNode(result);}}
function parseIsolatedJSDocComment(content,start,length){initializeState("file.js",content,2 ,undefined,1 );sourceFile={languageVariant:0 ,text:content};var jsDocComment=parseJSDocCommentWorker(start,length);var diagnostics=parseDiagnostics;clearState();return jsDocComment?{jsDocComment:jsDocComment,diagnostics:diagnostics}:undefined;}
JSDocParser.parseIsolatedJSDocComment=parseIsolatedJSDocComment;function parseJSDocComment(parent,start,length){var saveToken=token;var saveParseDiagnosticsLength=parseDiagnostics.length;var saveParseErrorBeforeNextFinishedNode=parseErrorBeforeNextFinishedNode;var comment=parseJSDocCommentWorker(start,length);if(comment){comment.parent=parent;}
token=saveToken;parseDiagnostics.length=saveParseDiagnosticsLength;parseErrorBeforeNextFinishedNode=saveParseErrorBeforeNextFinishedNode;return comment;}
JSDocParser.parseJSDocComment=parseJSDocComment;function parseJSDocCommentWorker(start,length){var content=sourceText;start=start||0;var end=length===undefined?content.length:start+length;length=end-start;ts.Debug.assert(start>=0);ts.Debug.assert(start<=end);ts.Debug.assert(end<=content.length);var tags;var result;if(content.charCodeAt(start)===47 &&content.charCodeAt(start+1)===42 &&content.charCodeAt(start+2)===42 &&content.charCodeAt(start+3)!==42 ){scanner.scanRange(start+3,length-5,function(){var canParseTag=true;var seenAsterisk=true;nextJSDocToken();while(token!==1 ){switch(token){case 55 :if(canParseTag){parseTag();}
seenAsterisk=false;break;case 4 :canParseTag=true;seenAsterisk=false;break;case 37 :if(seenAsterisk){canParseTag=false;}
seenAsterisk=true;break;case 69 :canParseTag=false;break;case 1 :break;}
nextJSDocToken();}
result=createJSDocComment();});}
return result;function createJSDocComment(){if(!tags){return undefined;}
var result=createNode(268 ,start);result.tags=tags;return finishNode(result,end);}
function skipWhitespace(){while(token===5 ||token===4 ){nextJSDocToken();}}
function parseTag(){ts.Debug.assert(token===55 );var atToken=createNode(55 ,scanner.getTokenPos());atToken.end=scanner.getTextPos();nextJSDocToken();var tagName=parseJSDocIdentifier();if(!tagName){return;}
var tag=handleTag(atToken,tagName)||handleUnknownTag(atToken,tagName);addTag(tag);}
function handleTag(atToken,tagName){if(tagName){switch(tagName.text){case"param":return handleParamTag(atToken,tagName);case"return":case"returns":return handleReturnTag(atToken,tagName);case"template":return handleTemplateTag(atToken,tagName);case"type":return handleTypeTag(atToken,tagName);}}
return undefined;}
function handleUnknownTag(atToken,tagName){var result=createNode(269 ,atToken.pos);result.atToken=atToken;result.tagName=tagName;return finishNode(result);}
function addTag(tag){if(tag){if(!tags){tags=[];tags.pos=tag.pos;}
tags.push(tag);tags.end=tag.end;}}
function tryParseTypeExpression(){if(token!==15 ){return undefined;}
var typeExpression=parseJSDocTypeExpression();return typeExpression;}
function handleParamTag(atToken,tagName){var typeExpression=tryParseTypeExpression();skipWhitespace();var name;var isBracketed;if(parseOptionalToken(19 )){name=parseJSDocIdentifier();isBracketed=true;if(parseOptionalToken(56 )){parseExpression();}
parseExpected(20 );}
else if(token===69 ){name=parseJSDocIdentifier();}
if(!name){parseErrorAtPosition(scanner.getStartPos(),0,ts.Diagnostics.Identifier_expected);return undefined;}
var preName,postName;if(typeExpression){postName=name;}
else{preName=name;}
if(!typeExpression){typeExpression=tryParseTypeExpression();}
var result=createNode(270 ,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.preParameterName=preName;result.typeExpression=typeExpression;result.postParameterName=postName;result.isBracketed=isBracketed;return finishNode(result);}
function handleReturnTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===271 ;})){parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);}
var result=createNode(271 ,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeExpression=tryParseTypeExpression();return finishNode(result);}
function handleTypeTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===272 ;})){parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);}
var result=createNode(272 ,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeExpression=tryParseTypeExpression();return finishNode(result);}
function handleTemplateTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===273 ;})){parseErrorAtPosition(tagName.pos,scanner.getTokenPos()-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text);}
var typeParameters=[];typeParameters.pos=scanner.getStartPos();while(true){var name_8=parseJSDocIdentifier();if(!name_8){parseErrorAtPosition(scanner.getStartPos(),0,ts.Diagnostics.Identifier_expected);return undefined;}
var typeParameter=createNode(138 ,name_8.pos);typeParameter.name=name_8;finishNode(typeParameter);typeParameters.push(typeParameter);if(token===24 ){nextJSDocToken();}
else{break;}}
var result=createNode(273 ,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeParameters=typeParameters;finishNode(result);typeParameters.end=result.end;return result;}
function nextJSDocToken(){return token=scanner.scanJSDocToken();}
function parseJSDocIdentifier(){if(token!==69 ){parseErrorAtCurrentToken(ts.Diagnostics.Identifier_expected);return undefined;}
var pos=scanner.getTokenPos();var end=scanner.getTextPos();var result=createNode(69 ,pos);result.text=content.substring(pos,end);finishNode(result,end);nextJSDocToken();return result;}}
JSDocParser.parseJSDocCommentWorker=parseJSDocCommentWorker;})(JSDocParser=Parser.JSDocParser||(Parser.JSDocParser={}));})(Parser||(Parser={}));var IncrementalParser;(function(IncrementalParser){function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){aggressiveChecks=aggressiveChecks||ts.Debug.shouldAssert(2 );checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks);if(ts.textChangeRangeIsUnchanged(textChangeRange)){return sourceFile;}
if(sourceFile.statements.length===0){return Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,undefined,true,sourceFile.scriptKind);}
var incrementalSourceFile=sourceFile;ts.Debug.assert(!incrementalSourceFile.hasBeenIncrementallyParsed);incrementalSourceFile.hasBeenIncrementallyParsed=true;var oldText=sourceFile.text;var syntaxCursor=createSyntaxCursor(sourceFile);var changeRange=extendToAffectedRange(sourceFile,textChangeRange);checkChangeRange(sourceFile,newText,changeRange,aggressiveChecks);ts.Debug.assert(changeRange.span.start<=textChangeRange.span.start);ts.Debug.assert(ts.textSpanEnd(changeRange.span)===ts.textSpanEnd(textChangeRange.span));ts.Debug.assert(ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange))===ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)));var delta=ts.textChangeRangeNewSpan(changeRange).length-changeRange.span.length;updateTokenPositionsAndMarkElements(incrementalSourceFile,changeRange.span.start,ts.textSpanEnd(changeRange.span),ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange)),delta,oldText,newText,aggressiveChecks);var result=Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,syntaxCursor,true,sourceFile.scriptKind);return result;}
IncrementalParser.updateSourceFile=updateSourceFile;function moveElementEntirelyPastChangeRange(element,isArray,delta,oldText,newText,aggressiveChecks){if(isArray){visitArray(element);}
else{visitNode(element);}
return;function visitNode(node){var text="";if(aggressiveChecks&&shouldCheckNode(node)){text=oldText.substring(node.pos,node.end);}
if(node._children){node._children=undefined;}
if(node.jsDocComment){node.jsDocComment=undefined;}
node.pos+=delta;node.end+=delta;if(aggressiveChecks&&shouldCheckNode(node)){ts.Debug.assert(text===newText.substring(node.pos,node.end));}
forEachChild(node,visitNode,visitArray);checkNodePositions(node,aggressiveChecks);}
function visitArray(array){array._children=undefined;array.pos+=delta;array.end+=delta;for(var _i=0,array_7=array;_i<array_7.length;_i++){var node=array_7[_i];visitNode(node);}}}
function shouldCheckNode(node){switch(node.kind){case 9 :case 8 :case 69 :return true;}
return false;}
function adjustIntersectingElement(element,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta){ts.Debug.assert(element.end>=changeStart,"Adjusting an element that was entirely before the change range");ts.Debug.assert(element.pos<=changeRangeOldEnd,"Adjusting an element that was entirely after the change range");ts.Debug.assert(element.pos<=element.end);element.pos=Math.min(element.pos,changeRangeNewEnd);if(element.end>=changeRangeOldEnd){element.end+=delta;}
else{element.end=Math.min(element.end,changeRangeNewEnd);}
ts.Debug.assert(element.pos<=element.end);if(element.parent){ts.Debug.assert(element.pos>=element.parent.pos);ts.Debug.assert(element.end<=element.parent.end);}}
function checkNodePositions(node,aggressiveChecks){if(aggressiveChecks){var pos_2=node.pos;forEachChild(node,function(child){ts.Debug.assert(child.pos>=pos_2);pos_2=child.end;});ts.Debug.assert(pos_2<=node.end);}}
function updateTokenPositionsAndMarkElements(sourceFile,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta,oldText,newText,aggressiveChecks){visitNode(sourceFile);return;function visitNode(child){ts.Debug.assert(child.pos<=child.end);if(child.pos>changeRangeOldEnd){moveElementEntirelyPastChangeRange(child,false,delta,oldText,newText,aggressiveChecks);return;}
var fullEnd=child.end;if(fullEnd>=changeStart){child.intersectsChange=true;child._children=undefined;adjustIntersectingElement(child,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta);forEachChild(child,visitNode,visitArray);checkNodePositions(child,aggressiveChecks);return;}
ts.Debug.assert(fullEnd<changeStart);}
function visitArray(array){ts.Debug.assert(array.pos<=array.end);if(array.pos>changeRangeOldEnd){moveElementEntirelyPastChangeRange(array,true,delta,oldText,newText,aggressiveChecks);return;}
var fullEnd=array.end;if(fullEnd>=changeStart){array.intersectsChange=true;array._children=undefined;adjustIntersectingElement(array,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta);for(var _i=0,array_8=array;_i<array_8.length;_i++){var node=array_8[_i];visitNode(node);}
return;}
ts.Debug.assert(fullEnd<changeStart);}}
function extendToAffectedRange(sourceFile,changeRange){var maxLookahead=1;var start=changeRange.span.start;for(var i=0;start>0&&i<=maxLookahead;i++){var nearestNode=findNearestNodeStartingBeforeOrAtPosition(sourceFile,start);ts.Debug.assert(nearestNode.pos<=start);var position=nearestNode.pos;start=Math.max(0,position-1);}
var finalSpan=ts.createTextSpanFromBounds(start,ts.textSpanEnd(changeRange.span));var finalLength=changeRange.newLength+(changeRange.span.start-start);return ts.createTextChangeRange(finalSpan,finalLength);}
function findNearestNodeStartingBeforeOrAtPosition(sourceFile,position){var bestResult=sourceFile;var lastNodeEntirelyBeforePosition;forEachChild(sourceFile,visit);if(lastNodeEntirelyBeforePosition){var lastChildOfLastEntireNodeBeforePosition=getLastChild(lastNodeEntirelyBeforePosition);if(lastChildOfLastEntireNodeBeforePosition.pos>bestResult.pos){bestResult=lastChildOfLastEntireNodeBeforePosition;}}
return bestResult;function getLastChild(node){while(true){var lastChild=getLastChildWorker(node);if(lastChild){node=lastChild;}
else{return node;}}}
function getLastChildWorker(node){var last=undefined;forEachChild(node,function(child){if(ts.nodeIsPresent(child)){last=child;}});return last;}
function visit(child){if(ts.nodeIsMissing(child)){return;}
if(child.pos<=position){if(child.pos>=bestResult.pos){bestResult=child;}
if(position<child.end){forEachChild(child,visit);return true;}
else{ts.Debug.assert(child.end<=position);lastNodeEntirelyBeforePosition=child;}}
else{ts.Debug.assert(child.pos>position);return true;}}}
function checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks){var oldText=sourceFile.text;if(textChangeRange){ts.Debug.assert((oldText.length-textChangeRange.span.length+textChangeRange.newLength)===newText.length);if(aggressiveChecks||ts.Debug.shouldAssert(3 )){var oldTextPrefix=oldText.substr(0,textChangeRange.span.start);var newTextPrefix=newText.substr(0,textChangeRange.span.start);ts.Debug.assert(oldTextPrefix===newTextPrefix);var oldTextSuffix=oldText.substring(ts.textSpanEnd(textChangeRange.span),oldText.length);var newTextSuffix=newText.substring(ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)),newText.length);ts.Debug.assert(oldTextSuffix===newTextSuffix);}}}
function createSyntaxCursor(sourceFile){var currentArray=sourceFile.statements;var currentArrayIndex=0;ts.Debug.assert(currentArrayIndex<currentArray.length);var current=currentArray[currentArrayIndex];var lastQueriedPosition=-1 ;return{currentNode:function(position){if(position!==lastQueriedPosition){if(current&&current.end===position&&currentArrayIndex<(currentArray.length-1)){currentArrayIndex++;current=currentArray[currentArrayIndex];}
if(!current||current.pos!==position){findHighestListElementThatStartsAtPosition(position);}}
lastQueriedPosition=position;ts.Debug.assert(!current||current.pos===position);return current;}};function findHighestListElementThatStartsAtPosition(position){currentArray=undefined;currentArrayIndex=-1 ;current=undefined;forEachChild(sourceFile,visitNode,visitArray);return;function visitNode(node){if(position>=node.pos&&position<node.end){forEachChild(node,visitNode,visitArray);return true;}
return false;}
function visitArray(array){if(position>=array.pos&&position<array.end){for(var i=0,n=array.length;i<n;i++){var child=array[i];if(child){if(child.pos===position){currentArray=array;currentArrayIndex=i;current=child;return true;}
else{if(child.pos<position&&position<child.end){forEachChild(child,visitNode,visitArray);return true;}}}}}
return false;}}}
var InvalidPosition;(function(InvalidPosition){InvalidPosition[InvalidPosition["Value"]=-1]="Value";})(InvalidPosition||(InvalidPosition={}));})(IncrementalParser||(IncrementalParser={}));})(ts||(ts={}));var ts;(function(ts){ts.bindTime=0;(function(ModuleInstanceState){ModuleInstanceState[ModuleInstanceState["NonInstantiated"]=0]="NonInstantiated";ModuleInstanceState[ModuleInstanceState["Instantiated"]=1]="Instantiated";ModuleInstanceState[ModuleInstanceState["ConstEnumOnly"]=2]="ConstEnumOnly";})(ts.ModuleInstanceState||(ts.ModuleInstanceState={}));var ModuleInstanceState=ts.ModuleInstanceState;var Reachability;(function(Reachability){Reachability[Reachability["Unintialized"]=1]="Unintialized";Reachability[Reachability["Reachable"]=2]="Reachable";Reachability[Reachability["Unreachable"]=4]="Unreachable";Reachability[Reachability["ReportedUnreachable"]=8]="ReportedUnreachable";})(Reachability||(Reachability={}));function or(state1,state2){return(state1|state2)&2 ?2 :(state1&state2)&8 ?8 :4 ;}
function getModuleInstanceState(node){if(node.kind===218 ||node.kind===219 ){return 0 ;}
else if(ts.isConstEnumDeclaration(node)){return 2 ;}
else if((node.kind===225 ||node.kind===224 )&&!(node.flags&2 )){return 0 ;}
else if(node.kind===222 ){var state_1=0 ;ts.forEachChild(node,function(n){switch(getModuleInstanceState(n)){case 0 :return false;case 2 :state_1=2 ;return false;case 1 :state_1=1 ;return true;}});return state_1;}
else if(node.kind===221 ){return getModuleInstanceState(node.body);}
else{return 1 ;}}
ts.getModuleInstanceState=getModuleInstanceState;var ContainerFlags;(function(ContainerFlags){ContainerFlags[ContainerFlags["None"]=0]="None";ContainerFlags[ContainerFlags["IsContainer"]=1]="IsContainer";ContainerFlags[ContainerFlags["IsBlockScopedContainer"]=2]="IsBlockScopedContainer";ContainerFlags[ContainerFlags["HasLocals"]=4]="HasLocals";ContainerFlags[ContainerFlags["IsContainerWithLocals"]=5]="IsContainerWithLocals";})(ContainerFlags||(ContainerFlags={}));var binder=createBinder();function bindSourceFile(file,options){var start=new Date().getTime();binder(file,options);ts.bindTime+=new Date().getTime()-start;}
ts.bindSourceFile=bindSourceFile;function createBinder(){var file;var options;var parent;var container;var blockScopeContainer;var lastContainer;var seenThisKeyword;var hasExplicitReturn;var currentReachabilityState;var labelStack;var labelIndexMap;var implicitLabels;var hasClassExtends;var hasAsyncFunctions;var hasDecorators;var hasParameterDecorators;var inStrictMode;var symbolCount=0;var Symbol;var classifiableNames;function bindSourceFile(f,opts){file=f;options=opts;inStrictMode=!!file.externalModuleIndicator;classifiableNames={};Symbol=ts.objectAllocator.getSymbolConstructor();if(!file.locals){bind(file);file.symbolCount=symbolCount;file.classifiableNames=classifiableNames;}
file=undefined;options=undefined;parent=undefined;container=undefined;blockScopeContainer=undefined;lastContainer=undefined;seenThisKeyword=false;hasExplicitReturn=false;labelStack=undefined;labelIndexMap=undefined;implicitLabels=undefined;hasClassExtends=false;hasAsyncFunctions=false;hasDecorators=false;hasParameterDecorators=false;}
return bindSourceFile;function createSymbol(flags,name){symbolCount++;return new Symbol(flags,name);}
function addDeclarationToSymbol(symbol,node,symbolFlags){symbol.flags|=symbolFlags;node.symbol=symbol;if(!symbol.declarations){symbol.declarations=[];}
symbol.declarations.push(node);if(symbolFlags&1952 &&!symbol.exports){symbol.exports={};}
if(symbolFlags&6240 &&!symbol.members){symbol.members={};}
if(symbolFlags&107455 ){var valueDeclaration=symbol.valueDeclaration;if(!valueDeclaration||(valueDeclaration.kind!==node.kind&&valueDeclaration.kind===221 )){symbol.valueDeclaration=node;}}}
function getDeclarationName(node){if(node.name){if(ts.isAmbientModule(node)){return ts.isGlobalScopeAugmentation(node)?"__global":"\""+node.name.text+"\"";}
if(node.name.kind===137 ){var nameExpression=node.name.expression;if(ts.isStringOrNumericLiteral(nameExpression.kind)){return nameExpression.text;}
ts.Debug.assert(ts.isWellKnownSymbolSyntactically(nameExpression));return ts.getPropertyNameForKnownSymbolName(nameExpression.name.text);}
return node.name.text;}
switch(node.kind){case 145 :return"__constructor";case 153 :case 148 :return"__call";case 154 :case 149 :return"__new";case 150 :return"__index";case 231 :return"__export";case 230 :return node.isExportEquals?"export=":"default";case 184 :switch(ts.getSpecialPropertyAssignmentKind(node)){case 2 :return"export=";case 1 :case 4 :return node.left.name.text;case 3 :return node.left.expression.name.text;}
ts.Debug.fail("Unknown binary declaration kind");break;case 216 :case 217 :return node.flags&512 ?"default":undefined;case 264 :return ts.isJSDocConstructSignature(node)?"__new":"__call";case 139 :ts.Debug.assert(node.parent.kind===264 );var functionType=node.parent;var index=ts.indexOf(functionType.parameters,node);return"p"+index;}}
function getDisplayName(node){return node.name?ts.declarationNameToString(node.name):getDeclarationName(node);}
function declareSymbol(symbolTable,parent,node,includes,excludes){ts.Debug.assert(!ts.hasDynamicName(node));var isDefaultExport=node.flags&512 ;var name=isDefaultExport&&parent?"default":getDeclarationName(node);var symbol;if(name!==undefined){symbol=ts.hasProperty(symbolTable,name)?symbolTable[name]:(symbolTable[name]=createSymbol(0 ,name));if(name&&(includes&788448 )){classifiableNames[name]=name;}
if(symbol.flags&excludes){if(node.name){node.name.parent=node;}
var message_1=symbol.flags&2 ?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(symbol.declarations,function(declaration){if(declaration.flags&512 ){message_1=ts.Diagnostics.A_module_cannot_have_multiple_default_exports;}});ts.forEach(symbol.declarations,function(declaration){file.bindDiagnostics.push(ts.createDiagnosticForNode(declaration.name||declaration,message_1,getDisplayName(declaration)));});file.bindDiagnostics.push(ts.createDiagnosticForNode(node.name||node,message_1,getDisplayName(node)));symbol=createSymbol(0 ,name);}}
else{symbol=createSymbol(0 ,"__missing");}
addDeclarationToSymbol(symbol,node,includes);symbol.parent=parent;return symbol;}
function declareModuleMember(node,symbolFlags,symbolExcludes){var hasExportModifier=ts.getCombinedNodeFlags(node)&2 ;if(symbolFlags&8388608 ){if(node.kind===233 ||(node.kind===224 &&hasExportModifier)){return declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);}
else{return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes);}}
else{if(!ts.isAmbientModule(node)&&(hasExportModifier||container.flags&131072 )){var exportKind=(symbolFlags&107455 ?1048576 :0)|(symbolFlags&793056 ?2097152 :0)|(symbolFlags&1536 ?4194304 :0);var local=declareSymbol(container.locals,undefined,node,exportKind,symbolExcludes);local.exportSymbol=declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);node.localSymbol=local;return local;}
else{return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes);}}}
function bindChildren(node){var saveParent=parent;var saveContainer=container;var savedBlockScopeContainer=blockScopeContainer;parent=node;var containerFlags=getContainerFlags(node);if(containerFlags&1 ){container=blockScopeContainer=node;if(containerFlags&4 ){container.locals={};}
addToContainerChain(container);}
else if(containerFlags&2 ){blockScopeContainer=node;blockScopeContainer.locals=undefined;}
var savedReachabilityState;var savedLabelStack;var savedLabels;var savedImplicitLabels;var savedHasExplicitReturn;var kind=node.kind;var flags=node.flags;flags&=~1572864 ;flags&=~62914560 ;if(kind===218 ){seenThisKeyword=false;}
var saveState=kind===251 ||kind===222 ||ts.isFunctionLikeKind(kind);if(saveState){savedReachabilityState=currentReachabilityState;savedLabelStack=labelStack;savedLabels=labelIndexMap;savedImplicitLabels=implicitLabels;savedHasExplicitReturn=hasExplicitReturn;currentReachabilityState=2 ;hasExplicitReturn=false;labelStack=labelIndexMap=implicitLabels=undefined;}
if(ts.isInJavaScriptFile(node)&&node.jsDocComment){bind(node.jsDocComment);}
bindReachableStatement(node);if(currentReachabilityState===2 &&ts.isFunctionLikeKind(kind)&&ts.nodeIsPresent(node.body)){flags|=524288 ;if(hasExplicitReturn){flags|=1048576 ;}}
if(kind===218 ){flags=seenThisKeyword?flags|262144 :flags&~262144 ;}
if(kind===251 ){if(hasClassExtends){flags|=4194304 ;}
if(hasDecorators){flags|=8388608 ;}
if(hasParameterDecorators){flags|=16777216 ;}
if(hasAsyncFunctions){flags|=33554432 ;}}
node.flags=flags;if(saveState){hasExplicitReturn=savedHasExplicitReturn;currentReachabilityState=savedReachabilityState;labelStack=savedLabelStack;labelIndexMap=savedLabels;implicitLabels=savedImplicitLabels;}
container=saveContainer;parent=saveParent;blockScopeContainer=savedBlockScopeContainer;}
function bindReachableStatement(node){if(checkUnreachable(node)){ts.forEachChild(node,bind);return;}
switch(node.kind){case 201 :bindWhileStatement(node);break;case 200 :bindDoStatement(node);break;case 202 :bindForStatement(node);break;case 203 :case 204 :bindForInOrForOfStatement(node);break;case 199 :bindIfStatement(node);break;case 207 :case 211 :bindReturnOrThrow(node);break;case 206 :case 205 :bindBreakOrContinueStatement(node);break;case 212 :bindTryStatement(node);break;case 209 :bindSwitchStatement(node);break;case 223 :bindCaseBlock(node);break;case 210 :bindLabeledStatement(node);break;default:ts.forEachChild(node,bind);break;}}
function bindWhileStatement(n){var preWhileState=n.expression.kind===84 ?4 :currentReachabilityState;var postWhileState=n.expression.kind===99 ?4 :currentReachabilityState;bind(n.expression);currentReachabilityState=preWhileState;var postWhileLabel=pushImplicitLabel();bind(n.statement);popImplicitLabel(postWhileLabel,postWhileState);}
function bindDoStatement(n){var preDoState=currentReachabilityState;var postDoLabel=pushImplicitLabel();bind(n.statement);var postDoState=n.expression.kind===99 ?4 :preDoState;popImplicitLabel(postDoLabel,postDoState);bind(n.expression);}
function bindForStatement(n){var preForState=currentReachabilityState;var postForLabel=pushImplicitLabel();bind(n.initializer);bind(n.condition);bind(n.incrementor);bind(n.statement);var isInfiniteLoop=(!n.condition||n.condition.kind===99 );var postForState=isInfiniteLoop?4 :preForState;popImplicitLabel(postForLabel,postForState);}
function bindForInOrForOfStatement(n){var preStatementState=currentReachabilityState;var postStatementLabel=pushImplicitLabel();bind(n.initializer);bind(n.expression);bind(n.statement);popImplicitLabel(postStatementLabel,preStatementState);}
function bindIfStatement(n){var ifTrueState=n.expression.kind===84 ?4 :currentReachabilityState;var ifFalseState=n.expression.kind===99 ?4 :currentReachabilityState;currentReachabilityState=ifTrueState;bind(n.expression);bind(n.thenStatement);if(n.elseStatement){var preElseState=currentReachabilityState;currentReachabilityState=ifFalseState;bind(n.elseStatement);currentReachabilityState=or(currentReachabilityState,preElseState);}
else{currentReachabilityState=or(currentReachabilityState,ifFalseState);}}
function bindReturnOrThrow(n){bind(n.expression);if(n.kind===207 ){hasExplicitReturn=true;}
currentReachabilityState=4 ;}
function bindBreakOrContinueStatement(n){bind(n.label);var isValidJump=jumpToLabel(n.label,n.kind===206 ?currentReachabilityState:4 );if(isValidJump){currentReachabilityState=4 ;}}
function bindTryStatement(n){var preTryState=currentReachabilityState;bind(n.tryBlock);var postTryState=currentReachabilityState;currentReachabilityState=preTryState;bind(n.catchClause);var postCatchState=currentReachabilityState;currentReachabilityState=preTryState;bind(n.finallyBlock);currentReachabilityState=or(postTryState,postCatchState);}
function bindSwitchStatement(n){var preSwitchState=currentReachabilityState;var postSwitchLabel=pushImplicitLabel();bind(n.expression);bind(n.caseBlock);var hasDefault=ts.forEach(n.caseBlock.clauses,function(c){return c.kind===245 ;});var postSwitchState=hasDefault&&currentReachabilityState!==2 ?4 :preSwitchState;popImplicitLabel(postSwitchLabel,postSwitchState);}
function bindCaseBlock(n){var startState=currentReachabilityState;for(var _i=0,_a=n.clauses;_i<_a.length;_i++){var clause=_a[_i];currentReachabilityState=startState;bind(clause);if(clause.statements.length&&currentReachabilityState===2 &&options.noFallthroughCasesInSwitch){errorOnFirstToken(clause,ts.Diagnostics.Fallthrough_case_in_switch);}}}
function bindLabeledStatement(n){bind(n.label);var ok=pushNamedLabel(n.label);bind(n.statement);if(ok){popNamedLabel(n.label,currentReachabilityState);}}
function getContainerFlags(node){switch(node.kind){case 189 :case 217 :case 218 :case 220 :case 168 :case 156 :case 260 :return 1 ;case 148 :case 149 :case 150 :case 144 :case 143 :case 216 :case 145 :case 146 :case 147 :case 153 :case 264 :case 154 :case 176 :case 177 :case 221 :case 251 :case 219 :return 5 ;case 247 :case 202 :case 203 :case 204 :case 223 :return 2 ;case 195 :return ts.isFunctionLike(node.parent)?0 :2 ;}
return 0 ;}
function addToContainerChain(next){if(lastContainer){lastContainer.nextContainer=next;}
lastContainer=next;}
function declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes){declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes);}
function declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes){switch(container.kind){case 221 :return declareModuleMember(node,symbolFlags,symbolExcludes);case 251 :return declareSourceFileMember(node,symbolFlags,symbolExcludes);case 189 :case 217 :return declareClassMember(node,symbolFlags,symbolExcludes);case 220 :return declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);case 156 :case 168 :case 218 :case 260 :return declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes);case 153 :case 154 :case 148 :case 149 :case 150 :case 144 :case 143 :case 145 :case 146 :case 147 :case 216 :case 176 :case 177 :case 264 :case 219 :return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes);}}
function declareClassMember(node,symbolFlags,symbolExcludes){return node.flags&64 ?declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes):declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes);}
function declareSourceFileMember(node,symbolFlags,symbolExcludes){return ts.isExternalModule(file)?declareModuleMember(node,symbolFlags,symbolExcludes):declareSymbol(file.locals,undefined,node,symbolFlags,symbolExcludes);}
function hasExportDeclarations(node){var body=node.kind===251 ?node:node.body;if(body.kind===251 ||body.kind===222 ){for(var _i=0,_a=body.statements;_i<_a.length;_i++){var stat=_a[_i];if(stat.kind===231 ||stat.kind===230 ){return true;}}}
return false;}
function setExportContextFlag(node){if(ts.isInAmbientContext(node)&&!hasExportDeclarations(node)){node.flags|=131072 ;}
else{node.flags&=~131072 ;}}
function bindModuleDeclaration(node){setExportContextFlag(node);if(ts.isAmbientModule(node)){if(node.flags&2 ){errorOnFirstToken(node,ts.Diagnostics.export_modifier_cannot_be_applied_to_ambient_modules_and_module_augmentations_since_they_are_always_visible);}
declareSymbolAndAddToSymbolTable(node,512 ,106639 );}
else{var state=getModuleInstanceState(node);if(state===0 ){declareSymbolAndAddToSymbolTable(node,1024 ,0 );}
else{declareSymbolAndAddToSymbolTable(node,512 ,106639 );if(node.symbol.flags&(16 |32 |256 )){node.symbol.constEnumOnlyModule=false;}
else{var currentModuleIsConstEnumOnly=state===2 ;if(node.symbol.constEnumOnlyModule===undefined){node.symbol.constEnumOnlyModule=currentModuleIsConstEnumOnly;}
else{node.symbol.constEnumOnlyModule=node.symbol.constEnumOnlyModule&&currentModuleIsConstEnumOnly;}}}}}
function bindFunctionOrConstructorType(node){var symbol=createSymbol(131072 ,getDeclarationName(node));addDeclarationToSymbol(symbol,node,131072 );var typeLiteralSymbol=createSymbol(2048 ,"__type");addDeclarationToSymbol(typeLiteralSymbol,node,2048 );typeLiteralSymbol.members=(_a={},_a[symbol.name]=symbol,_a);var _a;}
function bindObjectLiteralExpression(node){var ElementKind;(function(ElementKind){ElementKind[ElementKind["Property"]=1]="Property";ElementKind[ElementKind["Accessor"]=2]="Accessor";})(ElementKind||(ElementKind={}));if(inStrictMode){var seen={};for(var _i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i];if(prop.name.kind!==69 ){continue;}
var identifier=prop.name;var currentKind=prop.kind===248 ||prop.kind===249 ||prop.kind===144 ?1 :2 ;var existingKind=seen[identifier.text];if(!existingKind){seen[identifier.text]=currentKind;continue;}
if(currentKind===1 &&existingKind===1 ){var span=ts.getErrorSpanForNode(file,identifier);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode));}}}
return bindAnonymousDeclaration(node,4096 ,"__object");}
function bindAnonymousDeclaration(node,symbolFlags,name){var symbol=createSymbol(symbolFlags,name);addDeclarationToSymbol(symbol,node,symbolFlags);}
function bindBlockScopedDeclaration(node,symbolFlags,symbolExcludes){switch(blockScopeContainer.kind){case 221 :declareModuleMember(node,symbolFlags,symbolExcludes);break;case 251 :if(ts.isExternalModule(container)){declareModuleMember(node,symbolFlags,symbolExcludes);break;}
default:if(!blockScopeContainer.locals){blockScopeContainer.locals={};addToContainerChain(blockScopeContainer);}
declareSymbol(blockScopeContainer.locals,undefined,node,symbolFlags,symbolExcludes);}}
function bindBlockScopedVariableDeclaration(node){bindBlockScopedDeclaration(node,2 ,107455 );}
function checkStrictModeIdentifier(node){if(inStrictMode&&node.originalKeywordKind>=106 &&node.originalKeywordKind<=114 &&!ts.isIdentifierName(node)){if(!file.parseDiagnostics.length){file.bindDiagnostics.push(ts.createDiagnosticForNode(node,getStrictModeIdentifierMessage(node),ts.declarationNameToString(node)));}}}
function getStrictModeIdentifierMessage(node){if(ts.getContainingClass(node)){return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode;}
if(file.externalModuleIndicator){return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode;}
return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode;}
function checkStrictModeBinaryExpression(node){if(inStrictMode&&ts.isLeftHandSideExpression(node.left)&&ts.isAssignmentOperator(node.operatorToken.kind)){checkStrictModeEvalOrArguments(node,node.left);}}
function checkStrictModeCatchClause(node){if(inStrictMode&&node.variableDeclaration){checkStrictModeEvalOrArguments(node,node.variableDeclaration.name);}}
function checkStrictModeDeleteExpression(node){if(inStrictMode&&node.expression.kind===69 ){var span=ts.getErrorSpanForNode(file,node.expression);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.delete_cannot_be_called_on_an_identifier_in_strict_mode));}}
function isEvalOrArgumentsIdentifier(node){return node.kind===69 &&(node.text==="eval"||node.text==="arguments");}
function checkStrictModeEvalOrArguments(contextNode,name){if(name&&name.kind===69 ){var identifier=name;if(isEvalOrArgumentsIdentifier(identifier)){var span=ts.getErrorSpanForNode(file,name);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,getStrictModeEvalOrArgumentsMessage(contextNode),identifier.text));}}}
function getStrictModeEvalOrArgumentsMessage(node){if(ts.getContainingClass(node)){return ts.Diagnostics.Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode;}
if(file.externalModuleIndicator){return ts.Diagnostics.Invalid_use_of_0_Modules_are_automatically_in_strict_mode;}
return ts.Diagnostics.Invalid_use_of_0_in_strict_mode;}
function checkStrictModeFunctionName(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name);}}
function checkStrictModeNumericLiteral(node){if(inStrictMode&&node.flags&32768 ){file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Octal_literals_are_not_allowed_in_strict_mode));}}
function checkStrictModePostfixUnaryExpression(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.operand);}}
function checkStrictModePrefixUnaryExpression(node){if(inStrictMode){if(node.operator===41 ||node.operator===42 ){checkStrictModeEvalOrArguments(node,node.operand);}}}
function checkStrictModeWithStatement(node){if(inStrictMode){errorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_strict_mode);}}
function errorOnFirstToken(node,message,arg0,arg1,arg2){var span=ts.getSpanOfTokenAtPosition(file,node.pos);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,message,arg0,arg1,arg2));}
function getDestructuringParameterName(node){return"__"+ts.indexOf(node.parent.parameters,node);}
function bind(node){if(!node){return;}
node.parent=parent;var savedInStrictMode=inStrictMode;if(!savedInStrictMode){updateStrictMode(node);}
bindWorker(node);bindChildren(node);inStrictMode=savedInStrictMode;}
function updateStrictMode(node){switch(node.kind){case 251 :case 222 :updateStrictModeStatementList(node.statements);return;case 195 :if(ts.isFunctionLike(node.parent)){updateStrictModeStatementList(node.statements);}
return;case 217 :case 189 :inStrictMode=true;return;}}
function updateStrictModeStatementList(statements){for(var _i=0,statements_1=statements;_i<statements_1.length;_i++){var statement=statements_1[_i];if(!ts.isPrologueDirective(statement)){return;}
if(isUseStrictPrologueDirective(statement)){inStrictMode=true;return;}}}
function isUseStrictPrologueDirective(node){var nodeText=ts.getTextOfNodeFromSourceText(file.text,node.expression);return nodeText==="\"use strict\""||nodeText==="'use strict'";}
function bindWorker(node){switch(node.kind){case 69 :return checkStrictModeIdentifier(node);case 184 :if(ts.isInJavaScriptFile(node)){var specialKind=ts.getSpecialPropertyAssignmentKind(node);switch(specialKind){case 1 :bindExportsPropertyAssignment(node);break;case 2 :bindModuleExportsAssignment(node);break;case 3 :bindPrototypePropertyAssignment(node);break;case 4 :bindThisPropertyAssignment(node);break;case 0 :break;default:ts.Debug.fail("Unknown special property assignment kind");}}
return checkStrictModeBinaryExpression(node);case 247 :return checkStrictModeCatchClause(node);case 178 :return checkStrictModeDeleteExpression(node);case 8 :return checkStrictModeNumericLiteral(node);case 183 :return checkStrictModePostfixUnaryExpression(node);case 182 :return checkStrictModePrefixUnaryExpression(node);case 208 :return checkStrictModeWithStatement(node);case 162 :seenThisKeyword=true;return;case 151 :return checkTypePredicate(node);case 138 :return declareSymbolAndAddToSymbolTable(node,262144 ,530912 );case 139 :return bindParameter(node);case 214 :case 166 :return bindVariableDeclarationOrBindingElement(node);case 142 :case 141 :case 261 :return bindPropertyOrMethodOrAccessor(node,4 |(node.questionToken?536870912 :0 ),107455 );case 248 :case 249 :return bindPropertyOrMethodOrAccessor(node,4 ,107455 );case 250 :return bindPropertyOrMethodOrAccessor(node,8 ,107455 );case 148 :case 149 :case 150 :return declareSymbolAndAddToSymbolTable(node,131072 ,0 );case 144 :case 143 :return bindPropertyOrMethodOrAccessor(node,8192 |(node.questionToken?536870912 :0 ),ts.isObjectLiteralMethod(node)?107455 :99263 );case 216 :return bindFunctionDeclaration(node);case 145 :return declareSymbolAndAddToSymbolTable(node,16384 ,0 );case 146 :return bindPropertyOrMethodOrAccessor(node,32768 ,41919 );case 147 :return bindPropertyOrMethodOrAccessor(node,65536 ,74687 );case 153 :case 154 :case 264 :return bindFunctionOrConstructorType(node);case 156 :case 260 :return bindAnonymousDeclaration(node,2048 ,"__type");case 168 :return bindObjectLiteralExpression(node);case 176 :case 177 :return bindFunctionExpression(node);case 171 :if(ts.isInJavaScriptFile(node)){bindCallExpression(node);}
break;case 189 :case 217 :return bindClassLikeDeclaration(node);case 218 :return bindBlockScopedDeclaration(node,64 ,792960 );case 219 :return bindBlockScopedDeclaration(node,524288 ,793056 );case 220 :return bindEnumDeclaration(node);case 221 :return bindModuleDeclaration(node);case 224 :case 227 :case 229 :case 233 :return declareSymbolAndAddToSymbolTable(node,8388608 ,8388608 );case 226 :return bindImportClause(node);case 231 :return bindExportDeclaration(node);case 230 :return bindExportAssignment(node);case 251 :return bindSourceFileIfExternalModule();}}
function checkTypePredicate(node){var parameterName=node.parameterName,type=node.type;if(parameterName&&parameterName.kind===69 ){checkStrictModeIdentifier(parameterName);}
if(parameterName&&parameterName.kind===162 ){seenThisKeyword=true;}
bind(type);}
function bindSourceFileIfExternalModule(){setExportContextFlag(file);if(ts.isExternalModule(file)){bindSourceFileAsExternalModule();}}
function bindSourceFileAsExternalModule(){bindAnonymousDeclaration(file,512 ,"\""+ts.removeFileExtension(file.fileName)+"\"");}
function bindExportAssignment(node){var boundExpression=node.kind===230 ?node.expression:node.right;if(!container.symbol||!container.symbol.exports){bindAnonymousDeclaration(node,8388608 ,getDeclarationName(node));}
else if(boundExpression.kind===69 &&node.kind===230 ){declareSymbol(container.symbol.exports,container.symbol,node,8388608 ,107455 |8388608 );}
else{declareSymbol(container.symbol.exports,container.symbol,node,4 ,107455 |8388608 );}}
function bindExportDeclaration(node){if(!container.symbol||!container.symbol.exports){bindAnonymousDeclaration(node,1073741824 ,getDeclarationName(node));}
else if(!node.exportClause){declareSymbol(container.symbol.exports,container.symbol,node,1073741824 ,0 );}}
function bindImportClause(node){if(node.name){declareSymbolAndAddToSymbolTable(node,8388608 ,8388608 );}}
function setCommonJsModuleIndicator(node){if(!file.commonJsModuleIndicator){file.commonJsModuleIndicator=node;bindSourceFileAsExternalModule();}}
function bindExportsPropertyAssignment(node){setCommonJsModuleIndicator(node);declareSymbol(file.symbol.exports,file.symbol,node.left,4 |7340032 ,0 );}
function bindModuleExportsAssignment(node){setCommonJsModuleIndicator(node);declareSymbol(file.symbol.exports,file.symbol,node,4 |7340032 |512 ,0 );}
function bindThisPropertyAssignment(node){if(container.kind===176 ||container.kind===216 ){container.symbol.members=container.symbol.members||{};declareSymbol(container.symbol.members,container.symbol,node,4 ,107455 &~4 );}}
function bindPrototypePropertyAssignment(node){var leftSideOfAssignment=node.left;var classPrototype=leftSideOfAssignment.expression;var constructorFunction=classPrototype.expression;leftSideOfAssignment.parent=node;constructorFunction.parent=classPrototype;classPrototype.parent=leftSideOfAssignment;var funcSymbol=container.locals[constructorFunction.text];if(!funcSymbol||!(funcSymbol.flags&16 )){return;}
if(!funcSymbol.members){funcSymbol.members={};}
declareSymbol(funcSymbol.members,funcSymbol,leftSideOfAssignment,4 ,107455 &~4 );}
function bindCallExpression(node){if(!file.commonJsModuleIndicator&&ts.isRequireCall(node,false)){setCommonJsModuleIndicator(node);}}
function bindClassLikeDeclaration(node){if(!ts.isDeclarationFile(file)&&!ts.isInAmbientContext(node)){if(ts.getClassExtendsHeritageClauseElement(node)!==undefined){hasClassExtends=true;}
if(ts.nodeIsDecorated(node)){hasDecorators=true;}}
if(node.kind===217 ){bindBlockScopedDeclaration(node,32 ,899519 );}
else{var bindingName=node.name?node.name.text:"__class";bindAnonymousDeclaration(node,32 ,bindingName);if(node.name){classifiableNames[node.name.text]=node.name.text;}}
var symbol=node.symbol;var prototypeSymbol=createSymbol(4 |134217728 ,"prototype");if(ts.hasProperty(symbol.exports,prototypeSymbol.name)){if(node.name){node.name.parent=node;}
file.bindDiagnostics.push(ts.createDiagnosticForNode(symbol.exports[prototypeSymbol.name].declarations[0],ts.Diagnostics.Duplicate_identifier_0,prototypeSymbol.name));}
symbol.exports[prototypeSymbol.name]=prototypeSymbol;prototypeSymbol.parent=symbol;}
function bindEnumDeclaration(node){return ts.isConst(node)?bindBlockScopedDeclaration(node,128 ,899967 ):bindBlockScopedDeclaration(node,256 ,899327 );}
function bindVariableDeclarationOrBindingElement(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name);}
if(!ts.isBindingPattern(node.name)){if(ts.isBlockOrCatchScoped(node)){bindBlockScopedVariableDeclaration(node);}
else if(ts.isParameterDeclaration(node)){declareSymbolAndAddToSymbolTable(node,1 ,107455 );}
else{declareSymbolAndAddToSymbolTable(node,1 ,107454 );}}}
function bindParameter(node){if(!ts.isDeclarationFile(file)&&!ts.isInAmbientContext(node)&&ts.nodeIsDecorated(node)){hasDecorators=true;hasParameterDecorators=true;}
if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name);}
if(ts.isBindingPattern(node.name)){bindAnonymousDeclaration(node,1 ,getDestructuringParameterName(node));}
else{declareSymbolAndAddToSymbolTable(node,1 ,107455 );}
if(ts.isParameterPropertyDeclaration(node)){var classDeclaration=node.parent.parent;declareSymbol(classDeclaration.symbol.members,classDeclaration.symbol,node,4 ,107455 );}}
function bindFunctionDeclaration(node){if(!ts.isDeclarationFile(file)&&!ts.isInAmbientContext(node)){if(ts.isAsyncFunctionLike(node)){hasAsyncFunctions=true;}}
checkStrictModeFunctionName(node);return declareSymbolAndAddToSymbolTable(node,16 ,106927 );}
function bindFunctionExpression(node){if(!ts.isDeclarationFile(file)&&!ts.isInAmbientContext(node)){if(ts.isAsyncFunctionLike(node)){hasAsyncFunctions=true;}}
checkStrictModeFunctionName(node);var bindingName=node.name?node.name.text:"__function";return bindAnonymousDeclaration(node,16 ,bindingName);}
function bindPropertyOrMethodOrAccessor(node,symbolFlags,symbolExcludes){if(!ts.isDeclarationFile(file)&&!ts.isInAmbientContext(node)){if(ts.isAsyncFunctionLike(node)){hasAsyncFunctions=true;}
if(ts.nodeIsDecorated(node)){hasDecorators=true;}}
return ts.hasDynamicName(node)?bindAnonymousDeclaration(node,symbolFlags,"__computed"):declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes);}
function pushNamedLabel(name){initializeReachabilityStateIfNecessary();if(ts.hasProperty(labelIndexMap,name.text)){return false;}
labelIndexMap[name.text]=labelStack.push(1 )-1;return true;}
function pushImplicitLabel(){initializeReachabilityStateIfNecessary();var index=labelStack.push(1 )-1;implicitLabels.push(index);return index;}
function popNamedLabel(label,outerState){var index=labelIndexMap[label.text];ts.Debug.assert(index!==undefined);ts.Debug.assert(labelStack.length==index+1);labelIndexMap[label.text]=undefined;setCurrentStateAtLabel(labelStack.pop(),outerState,label);}
function popImplicitLabel(implicitLabelIndex,outerState){if(labelStack.length!==implicitLabelIndex+1){ts.Debug.assert(false,"Label stack: "+labelStack.length+", index:"+implicitLabelIndex);}
var i=implicitLabels.pop();if(implicitLabelIndex!==i){ts.Debug.assert(false,"i: "+i+", index: "+implicitLabelIndex);}
setCurrentStateAtLabel(labelStack.pop(),outerState,undefined);}
function setCurrentStateAtLabel(innerMergedState,outerState,label){if(innerMergedState===1 ){if(label&&!options.allowUnusedLabels){file.bindDiagnostics.push(ts.createDiagnosticForNode(label,ts.Diagnostics.Unused_label));}
currentReachabilityState=outerState;}
else{currentReachabilityState=or(innerMergedState,outerState);}}
function jumpToLabel(label,outerState){initializeReachabilityStateIfNecessary();var index=label?labelIndexMap[label.text]:ts.lastOrUndefined(implicitLabels);if(index===undefined){return false;}
var stateAtLabel=labelStack[index];labelStack[index]=stateAtLabel===1 ?outerState:or(stateAtLabel,outerState);return true;}
function checkUnreachable(node){switch(currentReachabilityState){case 4 :var reportError=(ts.isStatement(node)&&node.kind!==197 )||node.kind===217 ||(node.kind===221 &&shouldReportErrorOnModuleDeclaration(node))||(node.kind===220 &&(!ts.isConstEnumDeclaration(node)||options.preserveConstEnums));if(reportError){currentReachabilityState=8 ;var reportUnreachableCode=!options.allowUnreachableCode&&!ts.isInAmbientContext(node)&&(node.kind!==196 ||ts.getCombinedNodeFlags(node.declarationList)&24576 ||ts.forEach(node.declarationList.declarations,function(d){return d.initializer;}));if(reportUnreachableCode){errorOnFirstToken(node,ts.Diagnostics.Unreachable_code_detected);}}
case 8 :return true;default:return false;}
function shouldReportErrorOnModuleDeclaration(node){var instanceState=getModuleInstanceState(node);return instanceState===1 ||(instanceState===2 &&options.preserveConstEnums);}}
function initializeReachabilityStateIfNecessary(){if(labelIndexMap){return;}
currentReachabilityState=2 ;labelIndexMap={};labelStack=[];implicitLabels=[];}}})(ts||(ts={}));var ts;(function(ts){var nextSymbolId=1;var nextNodeId=1;var nextMergeId=1;function getNodeId(node){if(!node.id){node.id=nextNodeId;nextNodeId++;}
return node.id;}
ts.getNodeId=getNodeId;ts.checkTime=0;function getSymbolId(symbol){if(!symbol.id){symbol.id=nextSymbolId;nextSymbolId++;}
return symbol.id;}
ts.getSymbolId=getSymbolId;function createTypeChecker(host,produceDiagnostics){var cancellationToken;var Symbol=ts.objectAllocator.getSymbolConstructor();var Type=ts.objectAllocator.getTypeConstructor();var Signature=ts.objectAllocator.getSignatureConstructor();var typeCount=0;var symbolCount=0;var emptyArray=[];var emptySymbols={};var compilerOptions=host.getCompilerOptions();var languageVersion=compilerOptions.target||0 ;var modulekind=ts.getEmitModuleKind(compilerOptions);var allowSyntheticDefaultImports=typeof compilerOptions.allowSyntheticDefaultImports!=="undefined"?compilerOptions.allowSyntheticDefaultImports:modulekind===4 ;var emitResolver=createResolver();var undefinedSymbol=createSymbol(4 |67108864 ,"undefined");undefinedSymbol.declarations=[];var argumentsSymbol=createSymbol(4 |67108864 ,"arguments");var checker={getNodeCount:function(){return ts.sum(host.getSourceFiles(),"nodeCount");},getIdentifierCount:function(){return ts.sum(host.getSourceFiles(),"identifierCount");},getSymbolCount:function(){return ts.sum(host.getSourceFiles(),"symbolCount")+symbolCount;},getTypeCount:function(){return typeCount;},isUndefinedSymbol:function(symbol){return symbol===undefinedSymbol;},isArgumentsSymbol:function(symbol){return symbol===argumentsSymbol;},isUnknownSymbol:function(symbol){return symbol===unknownSymbol;},getDiagnostics:getDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getTypeOfSymbolAtLocation:getNarrowedTypeOfSymbol,getSymbolsOfParameterPropertyDeclaration:getSymbolsOfParameterPropertyDeclaration,getDeclaredTypeOfSymbol:getDeclaredTypeOfSymbol,getPropertiesOfType:getPropertiesOfType,getPropertyOfType:getPropertyOfType,getSignaturesOfType:getSignaturesOfType,getIndexTypeOfType:getIndexTypeOfType,getBaseTypes:getBaseTypes,getReturnTypeOfSignature:getReturnTypeOfSignature,getSymbolsInScope:getSymbolsInScope,getSymbolAtLocation:getSymbolAtLocation,getShorthandAssignmentValueSymbol:getShorthandAssignmentValueSymbol,getExportSpecifierLocalTargetSymbol:getExportSpecifierLocalTargetSymbol,getTypeAtLocation:getTypeOfNode,typeToString:typeToString,getSymbolDisplayBuilder:getSymbolDisplayBuilder,symbolToString:symbolToString,getAugmentedPropertiesOfType:getAugmentedPropertiesOfType,getRootSymbols:getRootSymbols,getContextualType:getContextualType,getFullyQualifiedName:getFullyQualifiedName,getResolvedSignature:getResolvedSignature,getConstantValue:getConstantValue,isValidPropertyAccess:isValidPropertyAccess,getSignatureFromDeclaration:getSignatureFromDeclaration,isImplementationOfOverload:isImplementationOfOverload,getAliasedSymbol:resolveAlias,getEmitResolver:getEmitResolver,getExportsOfModule:getExportsOfModuleAsArray,getJsxElementAttributesType:getJsxElementAttributesType,getJsxIntrinsicTagNames:getJsxIntrinsicTagNames,isOptionalParameter:isOptionalParameter};var unknownSymbol=createSymbol(4 |67108864 ,"unknown");var resolvingSymbol=createSymbol(67108864 ,"__resolving__");var anyType=createIntrinsicType(1 ,"any");var stringType=createIntrinsicType(2 ,"string");var numberType=createIntrinsicType(4 ,"number");var booleanType=createIntrinsicType(8 ,"boolean");var esSymbolType=createIntrinsicType(16777216 ,"symbol");var voidType=createIntrinsicType(16 ,"void");var undefinedType=createIntrinsicType(32 |2097152 ,"undefined");var nullType=createIntrinsicType(64 |2097152 ,"null");var unknownType=createIntrinsicType(1 ,"unknown");var emptyObjectType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);var emptyUnionType=emptyObjectType;var emptyGenericType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);emptyGenericType.instantiations={};var anyFunctionType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);anyFunctionType.flags|=8388608 ;var noConstraintType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);var anySignature=createSignature(undefined,undefined,emptyArray,anyType,undefined,0,false,false);var unknownSignature=createSignature(undefined,undefined,emptyArray,unknownType,undefined,0,false,false);var globals={};var globalESSymbolConstructorSymbol;var getGlobalPromiseConstructorSymbol;var globalObjectType;var globalFunctionType;var globalArrayType;var globalStringType;var globalNumberType;var globalBooleanType;var globalRegExpType;var globalTemplateStringsArrayType;var globalESSymbolType;var globalIterableType;var globalIteratorType;var globalIterableIteratorType;var anyArrayType;var getGlobalClassDecoratorType;var getGlobalParameterDecoratorType;var getGlobalPropertyDecoratorType;var getGlobalMethodDecoratorType;var getGlobalTypedPropertyDescriptorType;var getGlobalPromiseType;var tryGetGlobalPromiseType;var getGlobalPromiseLikeType;var getInstantiatedGlobalPromiseLikeType;var getGlobalPromiseConstructorLikeType;var getGlobalThenableType;var jsxElementClassType;var deferredNodes;var tupleTypes={};var unionTypes={};var intersectionTypes={};var stringLiteralTypes={};var resolutionTargets=[];var resolutionResults=[];var resolutionPropertyNames=[];var mergedSymbols=[];var symbolLinks=[];var nodeLinks=[];var potentialThisCollisions=[];var awaitedTypeStack=[];var diagnostics=ts.createDiagnosticCollection();var primitiveTypeInfo={"string":{type:stringType,flags:258 },"number":{type:numberType,flags:132 },"boolean":{type:booleanType,flags:8 },"symbol":{type:esSymbolType,flags:16777216 },"undefined":{type:undefinedType,flags:2097152 }};var jsxElementType;var jsxTypes={};var JsxNames={JSX:"JSX",IntrinsicElements:"IntrinsicElements",ElementClass:"ElementClass",ElementAttributesPropertyNameContainer:"ElementAttributesProperty",Element:"Element",IntrinsicAttributes:"IntrinsicAttributes",IntrinsicClassAttributes:"IntrinsicClassAttributes"};var subtypeRelation={};var assignableRelation={};var identityRelation={};var _displayBuilder;var TypeSystemPropertyName;(function(TypeSystemPropertyName){TypeSystemPropertyName[TypeSystemPropertyName["Type"]=0]="Type";TypeSystemPropertyName[TypeSystemPropertyName["ResolvedBaseConstructorType"]=1]="ResolvedBaseConstructorType";TypeSystemPropertyName[TypeSystemPropertyName["DeclaredType"]=2]="DeclaredType";TypeSystemPropertyName[TypeSystemPropertyName["ResolvedReturnType"]=3]="ResolvedReturnType";})(TypeSystemPropertyName||(TypeSystemPropertyName={}));var builtinGlobals=(_a={},_a[undefinedSymbol.name]=undefinedSymbol,_a);initializeTypeChecker();return checker;function getEmitResolver(sourceFile,cancellationToken){getDiagnostics(sourceFile,cancellationToken);return emitResolver;}
function error(location,message,arg0,arg1,arg2){var diagnostic=location?ts.createDiagnosticForNode(location,message,arg0,arg1,arg2):ts.createCompilerDiagnostic(message,arg0,arg1,arg2);diagnostics.add(diagnostic);}
function createSymbol(flags,name){symbolCount++;return new Symbol(flags,name);}
function getExcludedSymbolFlags(flags){var result=0;if(flags&2 )
result|=107455 ;if(flags&1 )
result|=107454 ;if(flags&4 )
result|=107455 ;if(flags&8 )
result|=107455 ;if(flags&16 )
result|=106927 ;if(flags&32 )
result|=899519 ;if(flags&64 )
result|=792960 ;if(flags&256 )
result|=899327 ;if(flags&128 )
result|=899967 ;if(flags&512 )
result|=106639 ;if(flags&8192 )
result|=99263 ;if(flags&32768 )
result|=41919 ;if(flags&65536 )
result|=74687 ;if(flags&262144 )
result|=530912 ;if(flags&524288 )
result|=793056 ;if(flags&8388608 )
result|=8388608 ;return result;}
function recordMergedSymbol(target,source){if(!source.mergeId){source.mergeId=nextMergeId;nextMergeId++;}
mergedSymbols[source.mergeId]=target;}
function cloneSymbol(symbol){var result=createSymbol(symbol.flags|33554432 ,symbol.name);result.declarations=symbol.declarations.slice(0);result.parent=symbol.parent;if(symbol.valueDeclaration)
result.valueDeclaration=symbol.valueDeclaration;if(symbol.constEnumOnlyModule)
result.constEnumOnlyModule=true;if(symbol.members)
result.members=cloneSymbolTable(symbol.members);if(symbol.exports)
result.exports=cloneSymbolTable(symbol.exports);recordMergedSymbol(result,symbol);return result;}
function mergeSymbol(target,source){if(!(target.flags&getExcludedSymbolFlags(source.flags))){if(source.flags&512 &&target.flags&512 &&target.constEnumOnlyModule&&!source.constEnumOnlyModule){target.constEnumOnlyModule=false;}
target.flags|=source.flags;if(source.valueDeclaration&&(!target.valueDeclaration||(target.valueDeclaration.kind===221 &&source.valueDeclaration.kind!==221 ))){target.valueDeclaration=source.valueDeclaration;}
ts.forEach(source.declarations,function(node){target.declarations.push(node);});if(source.members){if(!target.members)
target.members={};mergeSymbolTable(target.members,source.members);}
if(source.exports){if(!target.exports)
target.exports={};mergeSymbolTable(target.exports,source.exports);}
recordMergedSymbol(target,source);}
else{var message_2=target.flags&2 ||source.flags&2 ?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(source.declarations,function(node){error(node.name?node.name:node,message_2,symbolToString(source));});ts.forEach(target.declarations,function(node){error(node.name?node.name:node,message_2,symbolToString(source));});}}
function cloneSymbolTable(symbolTable){var result={};for(var id in symbolTable){if(ts.hasProperty(symbolTable,id)){result[id]=symbolTable[id];}}
return result;}
function mergeSymbolTable(target,source){for(var id in source){if(ts.hasProperty(source,id)){if(!ts.hasProperty(target,id)){target[id]=source[id];}
else{var symbol=target[id];if(!(symbol.flags&33554432 )){target[id]=symbol=cloneSymbol(symbol);}
mergeSymbol(symbol,source[id]);}}}}
function mergeModuleAugmentation(moduleName){var moduleAugmentation=moduleName.parent;if(moduleAugmentation.symbol.valueDeclaration!==moduleAugmentation){ts.Debug.assert(moduleAugmentation.symbol.declarations.length>1);return;}
if(ts.isGlobalScopeAugmentation(moduleAugmentation)){mergeSymbolTable(globals,moduleAugmentation.symbol.exports);}
else{var mainModule=resolveExternalModuleNameWorker(moduleName,moduleName,ts.Diagnostics.Invalid_module_name_in_augmentation_module_0_cannot_be_found);if(!mainModule){return;}
mainModule=resolveExternalModuleSymbol(mainModule);if(mainModule.flags&1536 ){mainModule=mainModule.flags&33554432 ?mainModule:cloneSymbol(mainModule);mergeSymbol(mainModule,moduleAugmentation.symbol);}
else{error(moduleName,ts.Diagnostics.Cannot_augment_module_0_because_it_resolves_to_a_non_module_entity,moduleName.text);}}}
function addToSymbolTable(target,source,message){for(var id in source){if(ts.hasProperty(source,id)){if(ts.hasProperty(target,id)){ts.forEach(target[id].declarations,addDeclarationDiagnostic(id,message));}
else{target[id]=source[id];}}}
function addDeclarationDiagnostic(id,message){return function(declaration){return diagnostics.add(ts.createDiagnosticForNode(declaration,message,id));};}}
function getSymbolLinks(symbol){if(symbol.flags&67108864 )
return symbol;var id=getSymbolId(symbol);return symbolLinks[id]||(symbolLinks[id]={});}
function getNodeLinks(node){var nodeId=getNodeId(node);return nodeLinks[nodeId]||(nodeLinks[nodeId]={});}
function isGlobalSourceFile(node){return node.kind===251 &&!ts.isExternalOrCommonJsModule(node);}
function getSymbol(symbols,name,meaning){if(meaning&&ts.hasProperty(symbols,name)){var symbol=symbols[name];ts.Debug.assert((symbol.flags&16777216 )===0,"Should never get an instantiated symbol here.");if(symbol.flags&meaning){return symbol;}
if(symbol.flags&8388608 ){var target=resolveAlias(symbol);if(target===unknownSymbol||target.flags&meaning){return symbol;}}}
}
function getSymbolsOfParameterPropertyDeclaration(parameter,parameterName){var constructoDeclaration=parameter.parent;var classDeclaration=parameter.parent.parent;var parameterSymbol=getSymbol(constructoDeclaration.locals,parameterName,107455 );var propertySymbol=getSymbol(classDeclaration.symbol.members,parameterName,107455 );if(parameterSymbol&&propertySymbol){return[parameterSymbol,propertySymbol];}
ts.Debug.fail("There should exist two symbols, one as property declaration and one as parameter declaration");}
function isBlockScopedNameDeclaredBeforeUse(declaration,usage){var declarationFile=ts.getSourceFileOfNode(declaration);var useFile=ts.getSourceFileOfNode(usage);if(declarationFile!==useFile){if(modulekind||(!compilerOptions.outFile&&!compilerOptions.out)){return true;}
var sourceFiles=host.getSourceFiles();return ts.indexOf(sourceFiles,declarationFile)<=ts.indexOf(sourceFiles,useFile);}
if(declaration.pos<=usage.pos){return declaration.kind!==214 ||!isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage);}
return isUsedInFunctionOrNonStaticProperty(declaration,usage);function isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage){var container=ts.getEnclosingBlockScopeContainer(declaration);if(declaration.parent.parent.kind===196 ||declaration.parent.parent.kind===202 ){return isSameScopeDescendentOf(usage,declaration,container);}
else if(declaration.parent.parent.kind===204 ||declaration.parent.parent.kind===203 ){var expression=declaration.parent.parent.expression;return isSameScopeDescendentOf(usage,expression,container);}}
function isUsedInFunctionOrNonStaticProperty(declaration,usage){var container=ts.getEnclosingBlockScopeContainer(declaration);var current=usage;while(current){if(current===container){return false;}
if(ts.isFunctionLike(current)){return true;}
var initializerOfNonStaticProperty=current.parent&&current.parent.kind===142 &&(current.parent.flags&64 )===0&&current.parent.initializer===current;if(initializerOfNonStaticProperty){return true;}
current=current.parent;}
return false;}}
function resolveName(location,name,meaning,nameNotFoundMessage,nameArg){var result;var lastLocation;var propertyWithInvalidInitializer;var errorLocation=location;var grandparent;loop:while(location){if(location.locals&&!isGlobalSourceFile(location)){if(result=getSymbol(location.locals,name,meaning)){var useResult=true;if(ts.isFunctionLike(location)&&lastLocation&&lastLocation!==location.body){if(meaning&result.flags&793056 &&lastLocation.kind!==268 ){useResult=result.flags&262144 ?lastLocation===location.type||lastLocation.kind===139 ||lastLocation.kind===138 :false;}
if(meaning&107455 &&result.flags&1 ){useResult=lastLocation.kind===139 ||(lastLocation===location.type&&result.valueDeclaration.kind===139 );}}
if(useResult){break loop;}
else{result=undefined;}}}
switch(location.kind){case 251 :if(!ts.isExternalOrCommonJsModule(location))
break;case 221 :var moduleExports=getSymbolOfNode(location).exports;if(location.kind===251 ||ts.isAmbientModule(location)){if(result=moduleExports["default"]){var localSymbol=ts.getLocalSymbolForExportDefault(result);if(localSymbol&&(result.flags&meaning)&&localSymbol.name===name){break loop;}
result=undefined;}
if(ts.hasProperty(moduleExports,name)&&moduleExports[name].flags===8388608 &&ts.getDeclarationOfKind(moduleExports[name],233 )){break;}}
if(result=getSymbol(moduleExports,name,meaning&8914931 )){break loop;}
break;case 220 :if(result=getSymbol(getSymbolOfNode(location).exports,name,meaning&8 )){break loop;}
break;case 142 :case 141 :if(ts.isClassLike(location.parent)&&!(location.flags&64 )){var ctor=findConstructorDeclaration(location.parent);if(ctor&&ctor.locals){if(getSymbol(ctor.locals,name,meaning&107455 )){propertyWithInvalidInitializer=location;}}}
break;case 217 :case 189 :case 218 :if(result=getSymbol(getSymbolOfNode(location).members,name,meaning&793056 )){if(lastLocation&&lastLocation.flags&64 ){error(errorLocation,ts.Diagnostics.Static_members_cannot_reference_class_type_parameters);return undefined;}
break loop;}
if(location.kind===189 &&meaning&32 ){var className=location.name;if(className&&name===className.text){result=location.symbol;break loop;}}
break;case 137 :grandparent=location.parent.parent;if(ts.isClassLike(grandparent)||grandparent.kind===218 ){if(result=getSymbol(getSymbolOfNode(grandparent).members,name,meaning&793056 )){error(errorLocation,ts.Diagnostics.A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type);return undefined;}}
break;case 144 :case 143 :case 145 :case 146 :case 147 :case 216 :case 177 :if(meaning&3 &&name==="arguments"){result=argumentsSymbol;break loop;}
break;case 176 :if(meaning&3 &&name==="arguments"){result=argumentsSymbol;break loop;}
if(meaning&16 ){var functionName=location.name;if(functionName&&name===functionName.text){result=location.symbol;break loop;}}
break;case 140 :if(location.parent&&location.parent.kind===139 ){location=location.parent;}
if(location.parent&&ts.isClassElement(location.parent)){location=location.parent;}
break;}
lastLocation=location;location=location.parent;}
if(!result){result=getSymbol(globals,name,meaning);}
if(!result){if(nameNotFoundMessage){if(!checkAndReportErrorForMissingPrefix(errorLocation,name,nameArg)){error(errorLocation,nameNotFoundMessage,typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg));}}
return undefined;}
if(nameNotFoundMessage){if(propertyWithInvalidInitializer){var propertyName=propertyWithInvalidInitializer.name;error(errorLocation,ts.Diagnostics.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,ts.declarationNameToString(propertyName),typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg));return undefined;}
if(meaning&2 ){var exportOrLocalSymbol=getExportSymbolOfValueSymbolIfExported(result);if(exportOrLocalSymbol.flags&2 ){checkResolvedBlockScopedVariable(exportOrLocalSymbol,errorLocation);}}}
return result;}
function checkAndReportErrorForMissingPrefix(errorLocation,name,nameArg){if(!errorLocation||(errorLocation.kind===69 &&(isTypeReferenceIdentifier(errorLocation))||isInTypeQuery(errorLocation))){return false;}
var container=ts.getThisContainer(errorLocation,true);var location=container;while(location){if(ts.isClassLike(location.parent)){var classSymbol=getSymbolOfNode(location.parent);if(!classSymbol){break;}
var constructorType=getTypeOfSymbol(classSymbol);if(getPropertyOfType(constructorType,name)){error(errorLocation,ts.Diagnostics.Cannot_find_name_0_Did_you_mean_the_static_member_1_0,typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg),symbolToString(classSymbol));return true;}
if(location===container&&!(location.flags&64 )){var instanceType=getDeclaredTypeOfSymbol(classSymbol).thisType;if(getPropertyOfType(instanceType,name)){error(errorLocation,ts.Diagnostics.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0,typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg));return true;}}}
location=location.parent;}
return false;}
function checkResolvedBlockScopedVariable(result,errorLocation){ts.Debug.assert((result.flags&2 )!==0);var declaration=ts.forEach(result.declarations,function(d){return ts.isBlockOrCatchScoped(d)?d:undefined;});ts.Debug.assert(declaration!==undefined,"Block-scoped variable declaration is undefined");if(!isBlockScopedNameDeclaredBeforeUse(ts.getAncestor(declaration,214 ),errorLocation)){error(errorLocation,ts.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,ts.declarationNameToString(declaration.name));}}
function isSameScopeDescendentOf(initial,parent,stopAt){if(!parent){return false;}
for(var current=initial;current&&current!==stopAt&&!ts.isFunctionLike(current);current=current.parent){if(current===parent){return true;}}
return false;}
function getAnyImportSyntax(node){if(ts.isAliasSymbolDeclaration(node)){if(node.kind===224 ){return node;}
while(node&&node.kind!==225 ){node=node.parent;}
return node;}}
function getDeclarationOfAliasSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isAliasSymbolDeclaration(d)?d:undefined;});}
function getTargetOfImportEqualsDeclaration(node){if(node.moduleReference.kind===235 ){return resolveExternalModuleSymbol(resolveExternalModuleName(node,ts.getExternalModuleImportEqualsDeclarationExpression(node)));}
return getSymbolOfPartOfRightHandSideOfImportEquals(node.moduleReference,node);}
function getTargetOfImportClause(node){var moduleSymbol=resolveExternalModuleName(node,node.parent.moduleSpecifier);if(moduleSymbol){var exportDefaultSymbol=moduleSymbol.exports["export="]?getPropertyOfType(getTypeOfSymbol(moduleSymbol.exports["export="]),"default"):resolveSymbol(moduleSymbol.exports["default"]);if(!exportDefaultSymbol&&!allowSyntheticDefaultImports){error(node.name,ts.Diagnostics.Module_0_has_no_default_export,symbolToString(moduleSymbol));}
else if(!exportDefaultSymbol&&allowSyntheticDefaultImports){return resolveExternalModuleSymbol(moduleSymbol)||resolveSymbol(moduleSymbol);}
return exportDefaultSymbol;}}
function getTargetOfNamespaceImport(node){var moduleSpecifier=node.parent.parent.moduleSpecifier;return resolveESModuleSymbol(resolveExternalModuleName(node,moduleSpecifier),moduleSpecifier);}
function combineValueAndTypeSymbols(valueSymbol,typeSymbol){if(valueSymbol.flags&(793056 |1536 )){return valueSymbol;}
var result=createSymbol(valueSymbol.flags|typeSymbol.flags,valueSymbol.name);result.declarations=ts.concatenate(valueSymbol.declarations,typeSymbol.declarations);result.parent=valueSymbol.parent||typeSymbol.parent;if(valueSymbol.valueDeclaration)
result.valueDeclaration=valueSymbol.valueDeclaration;if(typeSymbol.members)
result.members=typeSymbol.members;if(valueSymbol.exports)
result.exports=valueSymbol.exports;return result;}
function getExportOfModule(symbol,name){if(symbol.flags&1536 ){var exports=getExportsOfSymbol(symbol);if(ts.hasProperty(exports,name)){return resolveSymbol(exports[name]);}}}
function getPropertyOfVariable(symbol,name){if(symbol.flags&3 ){var typeAnnotation=symbol.valueDeclaration.type;if(typeAnnotation){return resolveSymbol(getPropertyOfType(getTypeFromTypeNode(typeAnnotation),name));}}}
function getExternalModuleMember(node,specifier){var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier);var targetSymbol=resolveESModuleSymbol(moduleSymbol,node.moduleSpecifier);if(targetSymbol){var name_9=specifier.propertyName||specifier.name;if(name_9.text){var symbolFromVariable=void 0;if(moduleSymbol&&moduleSymbol.exports&&moduleSymbol.exports["export="]){symbolFromVariable=getPropertyOfType(getTypeOfSymbol(targetSymbol),name_9.text);}
else{symbolFromVariable=getPropertyOfVariable(targetSymbol,name_9.text);}
var symbolFromModule=getExportOfModule(targetSymbol,name_9.text);var symbol=symbolFromModule&&symbolFromVariable?combineValueAndTypeSymbols(symbolFromVariable,symbolFromModule):symbolFromModule||symbolFromVariable;if(!symbol){error(name_9,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(moduleSymbol),ts.declarationNameToString(name_9));}
return symbol;}}}
function getTargetOfImportSpecifier(node){return getExternalModuleMember(node.parent.parent.parent,node);}
function getTargetOfExportSpecifier(node){return node.parent.parent.moduleSpecifier?getExternalModuleMember(node.parent.parent,node):resolveEntityName(node.propertyName||node.name,107455 |793056 |1536 );}
function getTargetOfExportAssignment(node){return resolveEntityName(node.expression,107455 |793056 |1536 );}
function getTargetOfAliasDeclaration(node){switch(node.kind){case 224 :return getTargetOfImportEqualsDeclaration(node);case 226 :return getTargetOfImportClause(node);case 227 :return getTargetOfNamespaceImport(node);case 229 :return getTargetOfImportSpecifier(node);case 233 :return getTargetOfExportSpecifier(node);case 230 :return getTargetOfExportAssignment(node);}}
function resolveSymbol(symbol){return symbol&&symbol.flags&8388608 &&!(symbol.flags&(107455 |793056 |1536 ))?resolveAlias(symbol):symbol;}
function resolveAlias(symbol){ts.Debug.assert((symbol.flags&8388608 )!==0,"Should only get Alias here.");var links=getSymbolLinks(symbol);if(!links.target){links.target=resolvingSymbol;var node=getDeclarationOfAliasSymbol(symbol);var target=getTargetOfAliasDeclaration(node);if(links.target===resolvingSymbol){links.target=target||unknownSymbol;}
else{error(node,ts.Diagnostics.Circular_definition_of_import_alias_0,symbolToString(symbol));}}
else if(links.target===resolvingSymbol){links.target=unknownSymbol;}
return links.target;}
function markExportAsReferenced(node){var symbol=getSymbolOfNode(node);var target=resolveAlias(symbol);if(target){var markAlias=(target===unknownSymbol&&compilerOptions.isolatedModules)||(target!==unknownSymbol&&(target.flags&107455 )&&!isConstEnumOrConstEnumOnlyModule(target));if(markAlias){markAliasSymbolAsReferenced(symbol);}}}
function markAliasSymbolAsReferenced(symbol){var links=getSymbolLinks(symbol);if(!links.referenced){links.referenced=true;var node=getDeclarationOfAliasSymbol(symbol);if(node.kind===230 ){checkExpressionCached(node.expression);}
else if(node.kind===233 ){checkExpressionCached(node.propertyName||node.name);}
else if(ts.isInternalModuleImportEqualsDeclaration(node)){checkExpressionCached(node.moduleReference);}}}
function getSymbolOfPartOfRightHandSideOfImportEquals(entityName,importDeclaration){if(!importDeclaration){importDeclaration=ts.getAncestor(entityName,224 );ts.Debug.assert(importDeclaration!==undefined);}
if(entityName.kind===69 &&ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)){entityName=entityName.parent;}
if(entityName.kind===69 ||entityName.parent.kind===136 ){return resolveEntityName(entityName,1536 );}
else{ts.Debug.assert(entityName.parent.kind===224 );return resolveEntityName(entityName,107455 |793056 |1536 );}}
function getFullyQualifiedName(symbol){return symbol.parent?getFullyQualifiedName(symbol.parent)+"."+symbolToString(symbol):symbolToString(symbol);}
function resolveEntityName(name,meaning,ignoreErrors){if(ts.nodeIsMissing(name)){return undefined;}
var symbol;if(name.kind===69 ){var message=meaning===1536 ?ts.Diagnostics.Cannot_find_namespace_0:ts.Diagnostics.Cannot_find_name_0;symbol=resolveName(name,name.text,meaning,ignoreErrors?undefined:message,name);if(!symbol){return undefined;}}
else if(name.kind===136 ||name.kind===169 ){var left=name.kind===136 ?name.left:name.expression;var right=name.kind===136 ?name.right:name.name;var namespace=resolveEntityName(left,1536 ,ignoreErrors);if(!namespace||namespace===unknownSymbol||ts.nodeIsMissing(right)){return undefined;}
symbol=getSymbol(getExportsOfSymbol(namespace),right.text,meaning);if(!symbol){if(!ignoreErrors){error(right,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(namespace),ts.declarationNameToString(right));}
return undefined;}}
else{ts.Debug.fail("Unknown entity name kind.");}
ts.Debug.assert((symbol.flags&16777216 )===0,"Should never get an instantiated symbol here.");return symbol.flags&meaning?symbol:resolveAlias(symbol);}
function resolveExternalModuleName(location,moduleReferenceExpression){return resolveExternalModuleNameWorker(location,moduleReferenceExpression,ts.Diagnostics.Cannot_find_module_0);}
function resolveExternalModuleNameWorker(location,moduleReferenceExpression,moduleNotFoundError){if(moduleReferenceExpression.kind!==9 ){return;}
var moduleReferenceLiteral=moduleReferenceExpression;var moduleName=ts.escapeIdentifier(moduleReferenceLiteral.text);if(moduleName===undefined){return;}
var isRelative=ts.isExternalModuleNameRelative(moduleName);if(!isRelative){var symbol=getSymbol(globals,"\""+moduleName+"\"",512 );if(symbol){return getMergedSymbol(symbol);}}
var resolvedModule=ts.getResolvedModule(ts.getSourceFileOfNode(location),moduleReferenceLiteral.text);var sourceFile=resolvedModule&&host.getSourceFile(resolvedModule.resolvedFileName);if(sourceFile){if(sourceFile.symbol){return getMergedSymbol(sourceFile.symbol);}
if(moduleNotFoundError){error(moduleReferenceLiteral,ts.Diagnostics.File_0_is_not_a_module,sourceFile.fileName);}
return undefined;}
if(moduleNotFoundError){error(moduleReferenceLiteral,moduleNotFoundError,moduleName);}
return undefined;}
function resolveExternalModuleSymbol(moduleSymbol){return moduleSymbol&&getMergedSymbol(resolveSymbol(moduleSymbol.exports["export="]))||moduleSymbol;}
function resolveESModuleSymbol(moduleSymbol,moduleReferenceExpression){var symbol=resolveExternalModuleSymbol(moduleSymbol);if(symbol&&!(symbol.flags&(1536 |3 ))){error(moduleReferenceExpression,ts.Diagnostics.Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct,symbolToString(moduleSymbol));symbol=undefined;}
return symbol;}
function hasExportAssignmentSymbol(moduleSymbol){return moduleSymbol.exports["export="]!==undefined;}
function getExportsOfModuleAsArray(moduleSymbol){return symbolsToArray(getExportsOfModule(moduleSymbol));}
function getExportsOfSymbol(symbol){return symbol.flags&1536 ?getExportsOfModule(symbol):symbol.exports||emptySymbols;}
function getExportsOfModule(moduleSymbol){var links=getSymbolLinks(moduleSymbol);return links.resolvedExports||(links.resolvedExports=getExportsForModule(moduleSymbol));}
function extendExportSymbols(target,source,lookupTable,exportNode){for(var id in source){if(id!=="default"&&!ts.hasProperty(target,id)){target[id]=source[id];if(lookupTable&&exportNode){lookupTable[id]={specifierText:ts.getTextOfNode(exportNode.moduleSpecifier)};}}
else if(lookupTable&&exportNode&&id!=="default"&&ts.hasProperty(target,id)&&resolveSymbol(target[id])!==resolveSymbol(source[id])){if(!lookupTable[id].exportsWithDuplicate){lookupTable[id].exportsWithDuplicate=[exportNode];}
else{lookupTable[id].exportsWithDuplicate.push(exportNode);}}}}
function getExportsForModule(moduleSymbol){var visitedSymbols=[];return visit(moduleSymbol)||moduleSymbol.exports;function visit(symbol){if(!(symbol&&symbol.flags&1952 &&!ts.contains(visitedSymbols,symbol))){return;}
visitedSymbols.push(symbol);var symbols=cloneSymbolTable(symbol.exports);var exportStars=symbol.exports["__export"];if(exportStars){var nestedSymbols={};var lookupTable={};for(var _i=0,_a=exportStars.declarations;_i<_a.length;_i++){var node=_a[_i];var resolvedModule=resolveExternalModuleName(node,node.moduleSpecifier);var exportedSymbols=visit(resolvedModule);extendExportSymbols(nestedSymbols,exportedSymbols,lookupTable,node);}
for(var id in lookupTable){var exportsWithDuplicate=lookupTable[id].exportsWithDuplicate;if(id==="export="||!(exportsWithDuplicate&&exportsWithDuplicate.length)||ts.hasProperty(symbols,id)){continue;}
for(var _b=0,exportsWithDuplicate_1=exportsWithDuplicate;_b<exportsWithDuplicate_1.length;_b++){var node=exportsWithDuplicate_1[_b];diagnostics.add(ts.createDiagnosticForNode(node,ts.Diagnostics.Module_0_has_already_exported_a_member_named_1_Consider_explicitly_re_exporting_to_resolve_the_ambiguity,lookupTable[id].specifierText,id));}}
extendExportSymbols(symbols,nestedSymbols);}
return symbols;}}
function getMergedSymbol(symbol){var merged;return symbol&&symbol.mergeId&&(merged=mergedSymbols[symbol.mergeId])?merged:symbol;}
function getSymbolOfNode(node){return getMergedSymbol(node.symbol);}
function getParentOfSymbol(symbol){return getMergedSymbol(symbol.parent);}
function getExportSymbolOfValueSymbolIfExported(symbol){return symbol&&(symbol.flags&1048576 )!==0?getMergedSymbol(symbol.exportSymbol):symbol;}
function symbolIsValue(symbol){if(symbol.flags&16777216 ){return symbolIsValue(getSymbolLinks(symbol).target);}
if(symbol.flags&107455 ){return true;}
if(symbol.flags&8388608 ){return(resolveAlias(symbol).flags&107455 )!==0;}
return false;}
function findConstructorDeclaration(node){var members=node.members;for(var _i=0,members_1=members;_i<members_1.length;_i++){var member=members_1[_i];if(member.kind===145 &&ts.nodeIsPresent(member.body)){return member;}}}
function createType(flags){var result=new Type(checker,flags);result.id=typeCount;typeCount++;return result;}
function createIntrinsicType(kind,intrinsicName){var type=createType(kind);type.intrinsicName=intrinsicName;return type;}
function createObjectType(kind,symbol){var type=createType(kind);type.symbol=symbol;return type;}
function isReservedMemberName(name){return name.charCodeAt(0)===95 &&name.charCodeAt(1)===95 &&name.charCodeAt(2)!==95 &&name.charCodeAt(2)!==64 ;}
function getNamedMembers(members){var result;for(var id in members){if(ts.hasProperty(members,id)){if(!isReservedMemberName(id)){if(!result)
result=[];var symbol=members[id];if(symbolIsValue(symbol)){result.push(symbol);}}}}
return result||emptyArray;}
function setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType){type.members=members;type.properties=getNamedMembers(members);type.callSignatures=callSignatures;type.constructSignatures=constructSignatures;if(stringIndexType)
type.stringIndexType=stringIndexType;if(numberIndexType)
type.numberIndexType=numberIndexType;return type;}
function createAnonymousType(symbol,members,callSignatures,constructSignatures,stringIndexType,numberIndexType){return setObjectTypeMembers(createObjectType(65536 ,symbol),members,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
function forEachSymbolTableInScope(enclosingDeclaration,callback){var result;for(var location_1=enclosingDeclaration;location_1;location_1=location_1.parent){if(location_1.locals&&!isGlobalSourceFile(location_1)){if(result=callback(location_1.locals)){return result;}}
switch(location_1.kind){case 251 :if(!ts.isExternalOrCommonJsModule(location_1)){break;}
case 221 :if(result=callback(getSymbolOfNode(location_1).exports)){return result;}
break;case 217 :case 218 :if(result=callback(getSymbolOfNode(location_1).members)){return result;}
break;}}
return callback(globals);}
function getQualifiedLeftMeaning(rightMeaning){return rightMeaning===107455 ?107455 :1536 ;}
function getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,useOnlyExternalAliasing){function getAccessibleSymbolChainFromSymbolTable(symbols){function canQualifySymbol(symbolFromSymbolTable,meaning){if(!needsQualification(symbolFromSymbolTable,enclosingDeclaration,meaning)){return true;}
var accessibleParent=getAccessibleSymbolChain(symbolFromSymbolTable.parent,enclosingDeclaration,getQualifiedLeftMeaning(meaning),useOnlyExternalAliasing);return!!accessibleParent;}
function isAccessible(symbolFromSymbolTable,resolvedAliasSymbol){if(symbol===(resolvedAliasSymbol||symbolFromSymbolTable)){return!ts.forEach(symbolFromSymbolTable.declarations,hasExternalModuleSymbol)&&canQualifySymbol(symbolFromSymbolTable,meaning);}}
if(isAccessible(ts.lookUp(symbols,symbol.name))){return[symbol];}
return ts.forEachValue(symbols,function(symbolFromSymbolTable){if(symbolFromSymbolTable.flags&8388608 &&symbolFromSymbolTable.name!=="export="&&!ts.getDeclarationOfKind(symbolFromSymbolTable,233 )){if(!useOnlyExternalAliasing||ts.forEach(symbolFromSymbolTable.declarations,ts.isExternalModuleImportEqualsDeclaration)){var resolvedImportedSymbol=resolveAlias(symbolFromSymbolTable);if(isAccessible(symbolFromSymbolTable,resolveAlias(symbolFromSymbolTable))){return[symbolFromSymbolTable];}
var accessibleSymbolsFromExports=resolvedImportedSymbol.exports?getAccessibleSymbolChainFromSymbolTable(resolvedImportedSymbol.exports):undefined;if(accessibleSymbolsFromExports&&canQualifySymbol(symbolFromSymbolTable,getQualifiedLeftMeaning(meaning))){return[symbolFromSymbolTable].concat(accessibleSymbolsFromExports);}}}});}
if(symbol){return forEachSymbolTableInScope(enclosingDeclaration,getAccessibleSymbolChainFromSymbolTable);}}
function needsQualification(symbol,enclosingDeclaration,meaning){var qualify=false;forEachSymbolTableInScope(enclosingDeclaration,function(symbolTable){if(!ts.hasProperty(symbolTable,symbol.name)){return false;}
var symbolFromSymbolTable=symbolTable[symbol.name];if(symbolFromSymbolTable===symbol){return true;}
symbolFromSymbolTable=(symbolFromSymbolTable.flags&8388608 &&!ts.getDeclarationOfKind(symbolFromSymbolTable,233 ))?resolveAlias(symbolFromSymbolTable):symbolFromSymbolTable;if(symbolFromSymbolTable.flags&meaning){qualify=true;return true;}
return false;});return qualify;}
function isSymbolAccessible(symbol,enclosingDeclaration,meaning){if(symbol&&enclosingDeclaration&&!(symbol.flags&262144 )){var initialSymbol=symbol;var meaningToLook=meaning;while(symbol){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaningToLook,false);if(accessibleSymbolChain){var hasAccessibleDeclarations=hasVisibleDeclarations(accessibleSymbolChain[0]);if(!hasAccessibleDeclarations){return{accessibility:1 ,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbol!==initialSymbol?symbolToString(symbol,enclosingDeclaration,1536 ):undefined};}
return hasAccessibleDeclarations;}
meaningToLook=getQualifiedLeftMeaning(meaning);symbol=getParentOfSymbol(symbol);}
var symbolExternalModule=ts.forEach(initialSymbol.declarations,getExternalModuleContainer);if(symbolExternalModule){var enclosingExternalModule=getExternalModuleContainer(enclosingDeclaration);if(symbolExternalModule!==enclosingExternalModule){return{accessibility:2 ,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbolToString(symbolExternalModule)};}}
return{accessibility:1 ,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning)};}
return{accessibility:0 };function getExternalModuleContainer(declaration){for(;declaration;declaration=declaration.parent){if(hasExternalModuleSymbol(declaration)){return getSymbolOfNode(declaration);}}}}
function hasExternalModuleSymbol(declaration){return ts.isAmbientModule(declaration)||(declaration.kind===251 &&ts.isExternalOrCommonJsModule(declaration));}
function hasVisibleDeclarations(symbol){var aliasesToMakeVisible;if(ts.forEach(symbol.declarations,function(declaration){return!getIsDeclarationVisible(declaration);})){return undefined;}
return{accessibility:0 ,aliasesToMakeVisible:aliasesToMakeVisible};function getIsDeclarationVisible(declaration){if(!isDeclarationVisible(declaration)){var anyImportSyntax=getAnyImportSyntax(declaration);if(anyImportSyntax&&!(anyImportSyntax.flags&2 )&&isDeclarationVisible(anyImportSyntax.parent)){getNodeLinks(declaration).isVisible=true;if(aliasesToMakeVisible){if(!ts.contains(aliasesToMakeVisible,anyImportSyntax)){aliasesToMakeVisible.push(anyImportSyntax);}}
else{aliasesToMakeVisible=[anyImportSyntax];}
return true;}
return false;}
return true;}}
function isEntityNameVisible(entityName,enclosingDeclaration){var meaning;if(entityName.parent.kind===155 ){meaning=107455 |1048576 ;}
else if(entityName.kind===136 ||entityName.kind===169 ||entityName.parent.kind===224 ){meaning=1536 ;}
else{meaning=793056 ;}
var firstIdentifier=getFirstIdentifier(entityName);var symbol=resolveName(enclosingDeclaration,firstIdentifier.text,meaning,undefined,undefined);return(symbol&&hasVisibleDeclarations(symbol))||{accessibility:1 ,errorSymbolName:ts.getTextOfNode(firstIdentifier),errorNode:firstIdentifier};}
function writeKeyword(writer,kind){writer.writeKeyword(ts.tokenToString(kind));}
function writePunctuation(writer,kind){writer.writePunctuation(ts.tokenToString(kind));}
function writeSpace(writer){writer.writeSpace(" ");}
function symbolToString(symbol,enclosingDeclaration,meaning){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning);var result=writer.string();ts.releaseStringWriter(writer);return result;}
function signatureToString(signature,enclosingDeclaration,flags,kind){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags,kind);var result=writer.string();ts.releaseStringWriter(writer);return result;}
function typeToString(type,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);var result=writer.string();ts.releaseStringWriter(writer);var maxLength=compilerOptions.noErrorTruncation||flags&4 ?undefined:100;if(maxLength&&result.length>=maxLength){result=result.substr(0,maxLength-"...".length)+"...";}
return result;}
function typePredicateToString(typePredicate,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildTypePredicateDisplay(typePredicate,writer,enclosingDeclaration,flags);var result=writer.string();ts.releaseStringWriter(writer);return result;}
function getTypeAliasForTypeLiteral(type){if(type.symbol&&type.symbol.flags&2048 ){var node=type.symbol.declarations[0].parent;while(node.kind===161 ){node=node.parent;}
if(node.kind===219 ){return getSymbolOfNode(node);}}
return undefined;}
function isTopLevelInExternalModuleAugmentation(node){return node&&node.parent&&node.parent.kind===222 &&ts.isExternalModuleAugmentation(node.parent.parent);}
function getSymbolDisplayBuilder(){function getNameOfSymbol(symbol){if(symbol.declarations&&symbol.declarations.length){var declaration=symbol.declarations[0];if(declaration.name){return ts.declarationNameToString(declaration.name);}
switch(declaration.kind){case 189 :return"(Anonymous class)";case 176 :case 177 :return"(Anonymous function)";}}
return symbol.name;}
function appendSymbolNameOnly(symbol,writer){writer.writeSymbol(getNameOfSymbol(symbol),symbol);}
function buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags,typeFlags){var parentSymbol;function appendParentTypeArgumentsAndSymbolName(symbol){if(parentSymbol){if(flags&1 ){if(symbol.flags&16777216 ){buildDisplayForTypeArgumentsAndDelimiters(getTypeParametersOfClassOrInterface(parentSymbol),symbol.mapper,writer,enclosingDeclaration);}
else{buildTypeParameterDisplayFromSymbol(parentSymbol,writer,enclosingDeclaration);}}
writePunctuation(writer,21 );}
parentSymbol=symbol;appendSymbolNameOnly(symbol,writer);}
writer.trackSymbol(symbol,enclosingDeclaration,meaning);function walkSymbol(symbol,meaning){if(symbol){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,!!(flags&2 ));if(!accessibleSymbolChain||needsQualification(accessibleSymbolChain[0],enclosingDeclaration,accessibleSymbolChain.length===1?meaning:getQualifiedLeftMeaning(meaning))){walkSymbol(getParentOfSymbol(accessibleSymbolChain?accessibleSymbolChain[0]:symbol),getQualifiedLeftMeaning(meaning));}
if(accessibleSymbolChain){for(var _i=0,accessibleSymbolChain_1=accessibleSymbolChain;_i<accessibleSymbolChain_1.length;_i++){var accessibleSymbol=accessibleSymbolChain_1[_i];appendParentTypeArgumentsAndSymbolName(accessibleSymbol);}}
else{if(!parentSymbol&&ts.forEach(symbol.declarations,hasExternalModuleSymbol)){return;}
if(symbol.flags&2048 ||symbol.flags&4096 ){return;}
appendParentTypeArgumentsAndSymbolName(symbol);}}}
var isTypeParameter=symbol.flags&262144 ;var typeFormatFlag=128 &typeFlags;if(!isTypeParameter&&(enclosingDeclaration||typeFormatFlag)){walkSymbol(symbol,meaning);return;}
return appendParentTypeArgumentsAndSymbolName(symbol);}
function buildTypeDisplay(type,writer,enclosingDeclaration,globalFlags,symbolStack){var globalFlagsToPass=globalFlags&16 ;var inObjectTypeLiteral=false;return writeType(type,globalFlags);function writeType(type,flags){if(type.flags&16777343 ){writer.writeKeyword(!(globalFlags&16 )&&isTypeAny(type)?"any":type.intrinsicName);}
else if(type.flags&33554432 ){if(inObjectTypeLiteral){writer.reportInaccessibleThisError();}
writer.writeKeyword("this");}
else if(type.flags&4096 ){writeTypeReference(type,flags);}
else if(type.flags&(1024 |2048 |128 |512 )){buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,793056 ,0 ,flags);}
else if(type.flags&8192 ){writeTupleType(type);}
else if(type.flags&49152 ){writeUnionOrIntersectionType(type,flags);}
else if(type.flags&65536 ){writeAnonymousType(type,flags);}
else if(type.flags&256 ){writer.writeStringLiteral("\""+ts.escapeString(type.text)+"\"");}
else{writePunctuation(writer,15 );writeSpace(writer);writePunctuation(writer,22 );writeSpace(writer);writePunctuation(writer,16 );}}
function writeTypeList(types,delimiter){for(var i=0;i<types.length;i++){if(i>0){if(delimiter!==24 ){writeSpace(writer);}
writePunctuation(writer,delimiter);writeSpace(writer);}
writeType(types[i],delimiter===24 ?0 :64 );}}
function writeSymbolTypeReference(symbol,typeArguments,pos,end,flags){if(symbol.flags&32 ||!isReservedMemberName(symbol.name)){buildSymbolDisplay(symbol,writer,enclosingDeclaration,793056 ,0 ,flags);}
if(pos<end){writePunctuation(writer,25 );writeType(typeArguments[pos],0 );pos++;while(pos<end){writePunctuation(writer,24 );writeSpace(writer);writeType(typeArguments[pos],0 );pos++;}
writePunctuation(writer,27 );}}
function writeTypeReference(type,flags){var typeArguments=type.typeArguments||emptyArray;if(type.target===globalArrayType&&!(flags&1 )){writeType(typeArguments[0],64 );writePunctuation(writer,19 );writePunctuation(writer,20 );}
else{var outerTypeParameters=type.target.outerTypeParameters;var i=0;if(outerTypeParameters){var length_1=outerTypeParameters.length;while(i<length_1){var start=i;var parent_4=getParentSymbolOfTypeParameter(outerTypeParameters[i]);do{i++;}while(i<length_1&&getParentSymbolOfTypeParameter(outerTypeParameters[i])===parent_4);if(!ts.rangeEquals(outerTypeParameters,typeArguments,start,i)){writeSymbolTypeReference(parent_4,typeArguments,start,i,flags);writePunctuation(writer,21 );}}}
var typeParameterCount=(type.target.typeParameters||emptyArray).length;writeSymbolTypeReference(type.symbol,typeArguments,i,typeParameterCount,flags);}}
function writeTupleType(type){writePunctuation(writer,19 );writeTypeList(type.elementTypes,24 );writePunctuation(writer,20 );}
function writeUnionOrIntersectionType(type,flags){if(flags&64 ){writePunctuation(writer,17 );}
writeTypeList(type.types,type.flags&16384 ?47 :46 );if(flags&64 ){writePunctuation(writer,18 );}}
function writeAnonymousType(type,flags){var symbol=type.symbol;if(symbol){if(symbol.flags&(32 |384 |512 )){writeTypeofSymbol(type,flags);}
else if(shouldWriteTypeOfFunctionSymbol()){writeTypeofSymbol(type,flags);}
else if(ts.contains(symbolStack,symbol)){var typeAlias=getTypeAliasForTypeLiteral(type);if(typeAlias){buildSymbolDisplay(typeAlias,writer,enclosingDeclaration,793056 ,0 ,flags);}
else{writeKeyword(writer,117 );}}
else{if(!symbolStack){symbolStack=[];}
symbolStack.push(symbol);writeLiteralType(type,flags);symbolStack.pop();}}
else{writeLiteralType(type,flags);}
function shouldWriteTypeOfFunctionSymbol(){var isStaticMethodSymbol=!!(symbol.flags&8192 &&ts.forEach(symbol.declarations,function(declaration){return declaration.flags&64 ;}));var isNonLocalFunctionSymbol=!!(symbol.flags&16 )&&(symbol.parent||ts.forEach(symbol.declarations,function(declaration){return declaration.parent.kind===251 ||declaration.parent.kind===222 ;}));if(isStaticMethodSymbol||isNonLocalFunctionSymbol){return!!(flags&2 )||(ts.contains(symbolStack,symbol));}}}
function writeTypeofSymbol(type,typeFormatFlags){writeKeyword(writer,101 );writeSpace(writer);buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,107455 ,0 ,typeFormatFlags);}
function getIndexerParameterName(type,indexKind,fallbackName){var declaration=getIndexDeclarationOfSymbol(type.symbol,indexKind);if(!declaration){return fallbackName;}
ts.Debug.assert(declaration.parameters.length!==0);return ts.declarationNameToString(declaration.parameters[0].name);}
function writeLiteralType(type,flags){var resolved=resolveStructuredTypeMembers(type);if(!resolved.properties.length&&!resolved.stringIndexType&&!resolved.numberIndexType){if(!resolved.callSignatures.length&&!resolved.constructSignatures.length){writePunctuation(writer,15 );writePunctuation(writer,16 );return;}
if(resolved.callSignatures.length===1&&!resolved.constructSignatures.length){if(flags&64 ){writePunctuation(writer,17 );}
buildSignatureDisplay(resolved.callSignatures[0],writer,enclosingDeclaration,globalFlagsToPass|8 ,undefined,symbolStack);if(flags&64 ){writePunctuation(writer,18 );}
return;}
if(resolved.constructSignatures.length===1&&!resolved.callSignatures.length){if(flags&64 ){writePunctuation(writer,17 );}
writeKeyword(writer,92 );writeSpace(writer);buildSignatureDisplay(resolved.constructSignatures[0],writer,enclosingDeclaration,globalFlagsToPass|8 ,undefined,symbolStack);if(flags&64 ){writePunctuation(writer,18 );}
return;}}
var saveInObjectTypeLiteral=inObjectTypeLiteral;inObjectTypeLiteral=true;writePunctuation(writer,15 );writer.writeLine();writer.increaseIndent();for(var _i=0,_a=resolved.callSignatures;_i<_a.length;_i++){var signature=_a[_i];buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,undefined,symbolStack);writePunctuation(writer,23 );writer.writeLine();}
for(var _b=0,_c=resolved.constructSignatures;_b<_c.length;_b++){var signature=_c[_b];buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,1 ,symbolStack);writePunctuation(writer,23 );writer.writeLine();}
if(resolved.stringIndexType){writePunctuation(writer,19 );writer.writeParameter(getIndexerParameterName(resolved,0 ,"x"));writePunctuation(writer,54 );writeSpace(writer);writeKeyword(writer,130 );writePunctuation(writer,20 );writePunctuation(writer,54 );writeSpace(writer);writeType(resolved.stringIndexType,0 );writePunctuation(writer,23 );writer.writeLine();}
if(resolved.numberIndexType){writePunctuation(writer,19 );writer.writeParameter(getIndexerParameterName(resolved,1 ,"x"));writePunctuation(writer,54 );writeSpace(writer);writeKeyword(writer,128 );writePunctuation(writer,20 );writePunctuation(writer,54 );writeSpace(writer);writeType(resolved.numberIndexType,0 );writePunctuation(writer,23 );writer.writeLine();}
for(var _d=0,_e=resolved.properties;_d<_e.length;_d++){var p=_e[_d];var t=getTypeOfSymbol(p);if(p.flags&(16 |8192 )&&!getPropertiesOfObjectType(t).length){var signatures=getSignaturesOfType(t,0 );for(var _f=0,signatures_1=signatures;_f<signatures_1.length;_f++){var signature=signatures_1[_f];buildSymbolDisplay(p,writer);if(p.flags&536870912 ){writePunctuation(writer,53 );}
buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,undefined,symbolStack);writePunctuation(writer,23 );writer.writeLine();}}
else{buildSymbolDisplay(p,writer);if(p.flags&536870912 ){writePunctuation(writer,53 );}
writePunctuation(writer,54 );writeSpace(writer);writeType(t,0 );writePunctuation(writer,23 );writer.writeLine();}}
writer.decreaseIndent();writePunctuation(writer,16 );inObjectTypeLiteral=saveInObjectTypeLiteral;}}
function buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaration,flags){var targetSymbol=getTargetSymbol(symbol);if(targetSymbol.flags&32 ||targetSymbol.flags&64 ||targetSymbol.flags&524288 ){buildDisplayForTypeParametersAndDelimiters(getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol),writer,enclosingDeclaration,flags);}}
function buildTypeParameterDisplay(tp,writer,enclosingDeclaration,flags,symbolStack){appendSymbolNameOnly(tp.symbol,writer);var constraint=getConstraintOfTypeParameter(tp);if(constraint){writeSpace(writer);writeKeyword(writer,83 );writeSpace(writer);buildTypeDisplay(constraint,writer,enclosingDeclaration,flags,symbolStack);}}
function buildParameterDisplay(p,writer,enclosingDeclaration,flags,symbolStack){var parameterNode=p.valueDeclaration;if(ts.isRestParameter(parameterNode)){writePunctuation(writer,22 );}
appendSymbolNameOnly(p,writer);if(isOptionalParameter(parameterNode)){writePunctuation(writer,53 );}
writePunctuation(writer,54 );writeSpace(writer);buildTypeDisplay(getTypeOfSymbol(p),writer,enclosingDeclaration,flags,symbolStack);}
function buildDisplayForTypeParametersAndDelimiters(typeParameters,writer,enclosingDeclaration,flags,symbolStack){if(typeParameters&&typeParameters.length){writePunctuation(writer,25 );for(var i=0;i<typeParameters.length;i++){if(i>0){writePunctuation(writer,24 );writeSpace(writer);}
buildTypeParameterDisplay(typeParameters[i],writer,enclosingDeclaration,flags,symbolStack);}
writePunctuation(writer,27 );}}
function buildDisplayForTypeArgumentsAndDelimiters(typeParameters,mapper,writer,enclosingDeclaration,flags,symbolStack){if(typeParameters&&typeParameters.length){writePunctuation(writer,25 );for(var i=0;i<typeParameters.length;i++){if(i>0){writePunctuation(writer,24 );writeSpace(writer);}
buildTypeDisplay(mapper(typeParameters[i]),writer,enclosingDeclaration,0 );}
writePunctuation(writer,27 );}}
function buildDisplayForParametersAndDelimiters(parameters,writer,enclosingDeclaration,flags,symbolStack){writePunctuation(writer,17 );for(var i=0;i<parameters.length;i++){if(i>0){writePunctuation(writer,24 );writeSpace(writer);}
buildParameterDisplay(parameters[i],writer,enclosingDeclaration,flags,symbolStack);}
writePunctuation(writer,18 );}
function buildTypePredicateDisplay(predicate,writer,enclosingDeclaration,flags,symbolStack){if(ts.isIdentifierTypePredicate(predicate)){writer.writeParameter(predicate.parameterName);}
else{writeKeyword(writer,97 );}
writeSpace(writer);writeKeyword(writer,124 );writeSpace(writer);buildTypeDisplay(predicate.type,writer,enclosingDeclaration,flags,symbolStack);}
function buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack){if(flags&8 ){writeSpace(writer);writePunctuation(writer,34 );}
else{writePunctuation(writer,54 );}
writeSpace(writer);if(signature.typePredicate){buildTypePredicateDisplay(signature.typePredicate,writer,enclosingDeclaration,flags,symbolStack);}
else{var returnType=getReturnTypeOfSignature(signature);buildTypeDisplay(returnType,writer,enclosingDeclaration,flags,symbolStack);}}
function buildSignatureDisplay(signature,writer,enclosingDeclaration,flags,kind,symbolStack){if(kind===1 ){writeKeyword(writer,92 );writeSpace(writer);}
if(signature.target&&(flags&32 )){buildDisplayForTypeArgumentsAndDelimiters(signature.target.typeParameters,signature.mapper,writer,enclosingDeclaration);}
else{buildDisplayForTypeParametersAndDelimiters(signature.typeParameters,writer,enclosingDeclaration,flags,symbolStack);}
buildDisplayForParametersAndDelimiters(signature.parameters,writer,enclosingDeclaration,flags,symbolStack);buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack);}
return _displayBuilder||(_displayBuilder={buildSymbolDisplay:buildSymbolDisplay,buildTypeDisplay:buildTypeDisplay,buildTypeParameterDisplay:buildTypeParameterDisplay,buildTypePredicateDisplay:buildTypePredicateDisplay,buildParameterDisplay:buildParameterDisplay,buildDisplayForParametersAndDelimiters:buildDisplayForParametersAndDelimiters,buildDisplayForTypeParametersAndDelimiters:buildDisplayForTypeParametersAndDelimiters,buildTypeParameterDisplayFromSymbol:buildTypeParameterDisplayFromSymbol,buildSignatureDisplay:buildSignatureDisplay,buildReturnTypeDisplay:buildReturnTypeDisplay});}
function isDeclarationVisible(node){if(node){var links=getNodeLinks(node);if(links.isVisible===undefined){links.isVisible=!!determineIfDeclarationIsVisible();}
return links.isVisible;}
return false;function determineIfDeclarationIsVisible(){switch(node.kind){case 166 :return isDeclarationVisible(node.parent.parent);case 214 :if(ts.isBindingPattern(node.name)&&!node.name.elements.length){return false;}
case 221 :case 217 :case 218 :case 219 :case 216 :case 220 :case 224 :if(ts.isExternalModuleAugmentation(node)){return true;}
var parent_5=getDeclarationContainer(node);if(!(ts.getCombinedNodeFlags(node)&2 )&&!(node.kind!==224 &&parent_5.kind!==251 &&ts.isInAmbientContext(parent_5))){return isGlobalSourceFile(parent_5);}
return isDeclarationVisible(parent_5);case 142 :case 141 :case 146 :case 147 :case 144 :case 143 :if(node.flags&(16 |32 )){return false;}
case 145 :case 149 :case 148 :case 150 :case 139 :case 222 :case 153 :case 154 :case 156 :case 152 :case 157 :case 158 :case 159 :case 160 :case 161 :return isDeclarationVisible(node.parent);case 226 :case 227 :case 229 :return false;case 138 :case 251 :return true;case 230 :return false;default:ts.Debug.fail("isDeclarationVisible unknown: SyntaxKind: "+node.kind);}}}
function collectLinkedAliases(node){var exportSymbol;if(node.parent&&node.parent.kind===230 ){exportSymbol=resolveName(node.parent,node.text,107455 |793056 |1536 |8388608 ,ts.Diagnostics.Cannot_find_name_0,node);}
else if(node.parent.kind===233 ){var exportSpecifier=node.parent;exportSymbol=exportSpecifier.parent.parent.moduleSpecifier?getExternalModuleMember(exportSpecifier.parent.parent,exportSpecifier):resolveEntityName(exportSpecifier.propertyName||exportSpecifier.name,107455 |793056 |1536 |8388608 );}
var result=[];if(exportSymbol){buildVisibleNodeList(exportSymbol.declarations);}
return result;function buildVisibleNodeList(declarations){ts.forEach(declarations,function(declaration){getNodeLinks(declaration).isVisible=true;var resultNode=getAnyImportSyntax(declaration)||declaration;if(!ts.contains(result,resultNode)){result.push(resultNode);}
if(ts.isInternalModuleImportEqualsDeclaration(declaration)){var internalModuleReference=declaration.moduleReference;var firstIdentifier=getFirstIdentifier(internalModuleReference);var importSymbol=resolveName(declaration,firstIdentifier.text,107455 |793056 |1536 ,ts.Diagnostics.Cannot_find_name_0,firstIdentifier);if(importSymbol){buildVisibleNodeList(importSymbol.declarations);}}});}}
function pushTypeResolution(target,propertyName){var resolutionCycleStartIndex=findResolutionCycleStartIndex(target,propertyName);if(resolutionCycleStartIndex>=0){var length_2=resolutionTargets.length;for(var i=resolutionCycleStartIndex;i<length_2;i++){resolutionResults[i]=false;}
return false;}
resolutionTargets.push(target);resolutionResults.push(true);resolutionPropertyNames.push(propertyName);return true;}
function findResolutionCycleStartIndex(target,propertyName){for(var i=resolutionTargets.length-1;i>=0;i--){if(hasType(resolutionTargets[i],resolutionPropertyNames[i])){return-1;}
if(resolutionTargets[i]===target&&resolutionPropertyNames[i]===propertyName){return i;}}
return-1;}
function hasType(target,propertyName){if(propertyName===0 ){return getSymbolLinks(target).type;}
if(propertyName===2 ){return getSymbolLinks(target).declaredType;}
if(propertyName===1 ){ts.Debug.assert(!!(target.flags&1024 ));return target.resolvedBaseConstructorType;}
if(propertyName===3 ){return target.resolvedReturnType;}
ts.Debug.fail("Unhandled TypeSystemPropertyName "+propertyName);}
function popTypeResolution(){resolutionTargets.pop();resolutionPropertyNames.pop();return resolutionResults.pop();}
function getDeclarationContainer(node){node=ts.getRootDeclaration(node);while(node){switch(node.kind){case 214 :case 215 :case 229 :case 228 :case 227 :case 226 :node=node.parent;break;default:return node.parent;}}}
function getTypeOfPrototypeProperty(prototype){var classType=getDeclaredTypeOfSymbol(getParentOfSymbol(prototype));return classType.typeParameters?createTypeReference(classType,ts.map(classType.typeParameters,function(_){return anyType;})):classType;}
function getTypeOfPropertyOfType(type,name){var prop=getPropertyOfType(type,name);return prop?getTypeOfSymbol(prop):undefined;}
function isTypeAny(type){return type&&(type.flags&1 )!==0;}
function getTypeForBindingElementParent(node){var symbol=getSymbolOfNode(node);return symbol&&getSymbolLinks(symbol).type||getTypeForVariableLikeDeclaration(node);}
function getTextOfPropertyName(name){switch(name.kind){case 69 :return name.text;case 9 :case 8 :return name.text;case 137 :if(ts.isStringOrNumericLiteral(name.expression.kind)){return name.expression.text;}}
return undefined;}
function isComputedNonLiteralName(name){return name.kind===137 &&!ts.isStringOrNumericLiteral(name.expression.kind);}
function getTypeForBindingElement(declaration){var pattern=declaration.parent;var parentType=getTypeForBindingElementParent(pattern.parent);if(parentType===unknownType){return unknownType;}
if(!parentType||isTypeAny(parentType)){if(declaration.initializer){return checkExpressionCached(declaration.initializer);}
return parentType;}
var type;if(pattern.kind===164 ){var name_10=declaration.propertyName||declaration.name;if(isComputedNonLiteralName(name_10)){return anyType;}
var text=getTextOfPropertyName(name_10);type=getTypeOfPropertyOfType(parentType,text)||isNumericLiteralName(text)&&getIndexTypeOfType(parentType,1 )||getIndexTypeOfType(parentType,0 );if(!type){error(name_10,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(parentType),ts.declarationNameToString(name_10));return unknownType;}}
else{var elementType=checkIteratedTypeOrElementType(parentType,pattern,false);if(!declaration.dotDotDotToken){var propName=""+ts.indexOf(pattern.elements,declaration);type=isTupleLikeType(parentType)?getTypeOfPropertyOfType(parentType,propName):elementType;if(!type){if(isTupleType(parentType)){error(declaration,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(parentType),parentType.elementTypes.length,pattern.elements.length);}
else{error(declaration,ts.Diagnostics.Type_0_has_no_property_1,typeToString(parentType),propName);}
return unknownType;}}
else{type=createArrayType(elementType);}}
return type;}
function getTypeForVariableLikeDeclarationFromJSDocComment(declaration){var jsDocType=getJSDocTypeForVariableLikeDeclarationFromJSDocComment(declaration);if(jsDocType){return getTypeFromTypeNode(jsDocType);}}
function getJSDocTypeForVariableLikeDeclarationFromJSDocComment(declaration){var typeTag=ts.getJSDocTypeTag(declaration);if(typeTag&&typeTag.typeExpression){return typeTag.typeExpression.type;}
if(declaration.kind===214 &&declaration.parent.kind===215 &&declaration.parent.parent.kind===196 ){var annotation=ts.getJSDocTypeTag(declaration.parent.parent);if(annotation&&annotation.typeExpression){return annotation.typeExpression.type;}}
else if(declaration.kind===139 ){var paramTag=ts.getCorrespondingJSDocParameterTag(declaration);if(paramTag&&paramTag.typeExpression){return paramTag.typeExpression.type;}}
return undefined;}
function getTypeForVariableLikeDeclaration(declaration){if(declaration.parserContextFlags&32 ){var type=getTypeForVariableLikeDeclarationFromJSDocComment(declaration);if(type&&type!==unknownType){return type;}}
if(declaration.parent.parent.kind===203 ){return stringType;}
if(declaration.parent.parent.kind===204 ){return checkRightHandSideOfForOf(declaration.parent.parent.expression)||anyType;}
if(ts.isBindingPattern(declaration.parent)){return getTypeForBindingElement(declaration);}
if(declaration.type){return getTypeFromTypeNode(declaration.type);}
if(declaration.kind===139 ){var func=declaration.parent;if(func.kind===147 &&!ts.hasDynamicName(func)){var getter=ts.getDeclarationOfKind(declaration.parent.symbol,146 );if(getter){return getReturnTypeOfSignature(getSignatureFromDeclaration(getter));}}
var type=getContextuallyTypedParameterType(declaration);if(type){return type;}}
if(declaration.initializer){return checkExpressionCached(declaration.initializer);}
if(declaration.kind===249 ){return checkIdentifier(declaration.name);}
if(ts.isBindingPattern(declaration.name)){return getTypeFromBindingPattern(declaration.name,false);}
return undefined;}
function getTypeFromBindingElement(element,includePatternInType){if(element.initializer){return getWidenedType(checkExpressionCached(element.initializer));}
if(ts.isBindingPattern(element.name)){return getTypeFromBindingPattern(element.name,includePatternInType);}
return anyType;}
function getTypeFromObjectBindingPattern(pattern,includePatternInType){var members={};var hasComputedProperties=false;ts.forEach(pattern.elements,function(e){var name=e.propertyName||e.name;if(isComputedNonLiteralName(name)){hasComputedProperties=true;return;}
var text=getTextOfPropertyName(name);var flags=4 |67108864 |(e.initializer?536870912 :0);var symbol=createSymbol(flags,text);symbol.type=getTypeFromBindingElement(e,includePatternInType);symbol.bindingElement=e;members[symbol.name]=symbol;});var result=createAnonymousType(undefined,members,emptyArray,emptyArray,undefined,undefined);if(includePatternInType){result.pattern=pattern;}
if(hasComputedProperties){result.flags|=67108864 ;}
return result;}
function getTypeFromArrayBindingPattern(pattern,includePatternInType){var elements=pattern.elements;if(elements.length===0||elements[elements.length-1].dotDotDotToken){return languageVersion>=2 ?createIterableType(anyType):anyArrayType;}
var elementTypes=ts.map(elements,function(e){return e.kind===190 ?anyType:getTypeFromBindingElement(e,includePatternInType);});if(includePatternInType){var result=createNewTupleType(elementTypes);result.pattern=pattern;return result;}
return createTupleType(elementTypes);}
function getTypeFromBindingPattern(pattern,includePatternInType){return pattern.kind===164 ?getTypeFromObjectBindingPattern(pattern,includePatternInType):getTypeFromArrayBindingPattern(pattern,includePatternInType);}
function getWidenedTypeForVariableLikeDeclaration(declaration,reportErrors){var type=getTypeForVariableLikeDeclaration(declaration);if(type){if(reportErrors){reportErrorsFromWidening(declaration,type);}
if(declaration.kind===248 ){return type;}
return getWidenedType(type);}
type=declaration.dotDotDotToken?anyArrayType:anyType;if(reportErrors&&compilerOptions.noImplicitAny){var root=ts.getRootDeclaration(declaration);if(!isPrivateWithinAmbient(root)&&!(root.kind===139 &&isPrivateWithinAmbient(root.parent))){reportImplicitAnyError(declaration,type);}}
return type;}
function getTypeOfVariableOrParameterOrProperty(symbol){var links=getSymbolLinks(symbol);if(!links.type){if(symbol.flags&134217728 ){return links.type=getTypeOfPrototypeProperty(symbol);}
var declaration=symbol.valueDeclaration;if(declaration.parent.kind===247 ){return links.type=anyType;}
if(declaration.kind===230 ){return links.type=checkExpression(declaration.expression);}
if(declaration.kind===184 ){return links.type=getUnionType(ts.map(symbol.declarations,function(decl){return checkExpressionCached(decl.right);}));}
if(declaration.kind===169 ){if(declaration.parent.kind===184 ){return links.type=checkExpressionCached(declaration.parent.right);}}
if(!pushTypeResolution(symbol,0 )){return unknownType;}
var type=getWidenedTypeForVariableLikeDeclaration(declaration,true);if(!popTypeResolution()){if(symbol.valueDeclaration.type){type=unknownType;error(symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_type_annotation,symbolToString(symbol));}
else{type=anyType;if(compilerOptions.noImplicitAny){error(symbol.valueDeclaration,ts.Diagnostics._0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer,symbolToString(symbol));}}}
links.type=type;}
return links.type;}
function getAnnotatedAccessorType(accessor){if(accessor){if(accessor.kind===146 ){return accessor.type&&getTypeFromTypeNode(accessor.type);}
else{var setterTypeAnnotation=ts.getSetAccessorTypeAnnotationNode(accessor);return setterTypeAnnotation&&getTypeFromTypeNode(setterTypeAnnotation);}}
return undefined;}
function getTypeOfAccessors(symbol){var links=getSymbolLinks(symbol);if(!links.type){if(!pushTypeResolution(symbol,0 )){return unknownType;}
var getter=ts.getDeclarationOfKind(symbol,146 );var setter=ts.getDeclarationOfKind(symbol,147 );var type=void 0;var getterReturnType=getAnnotatedAccessorType(getter);if(getterReturnType){type=getterReturnType;}
else{var setterParameterType=getAnnotatedAccessorType(setter);if(setterParameterType){type=setterParameterType;}
else{if(getter&&getter.body){type=getReturnTypeFromBody(getter);}
else{if(compilerOptions.noImplicitAny){error(setter,ts.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_type_annotation,symbolToString(symbol));}
type=anyType;}}}
if(!popTypeResolution()){type=anyType;if(compilerOptions.noImplicitAny){var getter_1=ts.getDeclarationOfKind(symbol,146 );error(getter_1,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,symbolToString(symbol));}}
links.type=type;}
return links.type;}
function getTypeOfFuncClassEnumModule(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=createObjectType(65536 ,symbol);}
return links.type;}
function getTypeOfEnumMember(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=getDeclaredTypeOfEnum(getParentOfSymbol(symbol));}
return links.type;}
function getTypeOfAlias(symbol){var links=getSymbolLinks(symbol);if(!links.type){var targetSymbol=resolveAlias(symbol);links.type=targetSymbol.flags&107455 ?getTypeOfSymbol(targetSymbol):unknownType;}
return links.type;}
function getTypeOfInstantiatedSymbol(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=instantiateType(getTypeOfSymbol(links.target),links.mapper);}
return links.type;}
function getTypeOfSymbol(symbol){if(symbol.flags&16777216 ){return getTypeOfInstantiatedSymbol(symbol);}
if(symbol.flags&(3 |4 )){return getTypeOfVariableOrParameterOrProperty(symbol);}
if(symbol.flags&(16 |8192 |32 |384 |512 )){return getTypeOfFuncClassEnumModule(symbol);}
if(symbol.flags&8 ){return getTypeOfEnumMember(symbol);}
if(symbol.flags&98304 ){return getTypeOfAccessors(symbol);}
if(symbol.flags&8388608 ){return getTypeOfAlias(symbol);}
return unknownType;}
function getTargetType(type){return type.flags&4096 ?type.target:type;}
function hasBaseType(type,checkBase){return check(type);function check(type){var target=getTargetType(type);return target===checkBase||ts.forEach(getBaseTypes(target),check);}}
function appendTypeParameters(typeParameters,declarations){for(var _i=0,declarations_2=declarations;_i<declarations_2.length;_i++){var declaration=declarations_2[_i];var tp=getDeclaredTypeOfTypeParameter(getSymbolOfNode(declaration));if(!typeParameters){typeParameters=[tp];}
else if(!ts.contains(typeParameters,tp)){typeParameters.push(tp);}}
return typeParameters;}
function appendOuterTypeParameters(typeParameters,node){while(true){node=node.parent;if(!node){return typeParameters;}
if(node.kind===217 ||node.kind===189 ||node.kind===216 ||node.kind===176 ||node.kind===144 ||node.kind===177 ){var declarations=node.typeParameters;if(declarations){return appendTypeParameters(appendOuterTypeParameters(typeParameters,node),declarations);}}}}
function getOuterTypeParametersOfClassOrInterface(symbol){var declaration=symbol.flags&32 ?symbol.valueDeclaration:ts.getDeclarationOfKind(symbol,218 );return appendOuterTypeParameters(undefined,declaration);}
function getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol){var result;for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var node=_a[_i];if(node.kind===218 ||node.kind===217 ||node.kind===189 ||node.kind===219 ){var declaration=node;if(declaration.typeParameters){result=appendTypeParameters(result,declaration.typeParameters);}}}
return result;}
function getTypeParametersOfClassOrInterface(symbol){return ts.concatenate(getOuterTypeParametersOfClassOrInterface(symbol),getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol));}
function isConstructorType(type){return type.flags&80896 &&getSignaturesOfType(type,1 ).length>0;}
function getBaseTypeNodeOfClass(type){return ts.getClassExtendsHeritageClauseElement(type.symbol.valueDeclaration);}
function getConstructorsForTypeArguments(type,typeArgumentNodes){var typeArgCount=typeArgumentNodes?typeArgumentNodes.length:0;return ts.filter(getSignaturesOfType(type,1 ),function(sig){return(sig.typeParameters?sig.typeParameters.length:0)===typeArgCount;});}
function getInstantiatedConstructorsForTypeArguments(type,typeArgumentNodes){var signatures=getConstructorsForTypeArguments(type,typeArgumentNodes);if(typeArgumentNodes){var typeArguments_1=ts.map(typeArgumentNodes,getTypeFromTypeNode);signatures=ts.map(signatures,function(sig){return getSignatureInstantiation(sig,typeArguments_1);});}
return signatures;}
function getBaseConstructorTypeOfClass(type){if(!type.resolvedBaseConstructorType){var baseTypeNode=getBaseTypeNodeOfClass(type);if(!baseTypeNode){return type.resolvedBaseConstructorType=undefinedType;}
if(!pushTypeResolution(type,1 )){return unknownType;}
var baseConstructorType=checkExpression(baseTypeNode.expression);if(baseConstructorType.flags&80896 ){resolveStructuredTypeMembers(baseConstructorType);}
if(!popTypeResolution()){error(type.symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_base_expression,symbolToString(type.symbol));return type.resolvedBaseConstructorType=unknownType;}
if(baseConstructorType!==unknownType&&baseConstructorType!==nullType&&!isConstructorType(baseConstructorType)){error(baseTypeNode.expression,ts.Diagnostics.Type_0_is_not_a_constructor_function_type,typeToString(baseConstructorType));return type.resolvedBaseConstructorType=unknownType;}
type.resolvedBaseConstructorType=baseConstructorType;}
return type.resolvedBaseConstructorType;}
function getBaseTypes(type){var isClass=type.symbol.flags&32 ;var isInterface=type.symbol.flags&64 ;if(!type.resolvedBaseTypes){if(!isClass&&!isInterface){ts.Debug.fail("type must be class or interface");}
if(isClass){resolveBaseTypesOfClass(type);}
if(isInterface){resolveBaseTypesOfInterface(type);}}
return type.resolvedBaseTypes;}
function resolveBaseTypesOfClass(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;var baseConstructorType=getBaseConstructorTypeOfClass(type);if(!(baseConstructorType.flags&80896 )){return;}
var baseTypeNode=getBaseTypeNodeOfClass(type);var baseType;var originalBaseType=baseConstructorType&&baseConstructorType.symbol?getDeclaredTypeOfSymbol(baseConstructorType.symbol):undefined;if(baseConstructorType.symbol&&baseConstructorType.symbol.flags&32 &&areAllOuterTypeParametersApplied(originalBaseType)){baseType=getTypeFromClassOrInterfaceReference(baseTypeNode,baseConstructorType.symbol);}
else{var constructors=getInstantiatedConstructorsForTypeArguments(baseConstructorType,baseTypeNode.typeArguments);if(!constructors.length){error(baseTypeNode.expression,ts.Diagnostics.No_base_constructor_has_the_specified_number_of_type_arguments);return;}
baseType=getReturnTypeOfSignature(constructors[0]);}
if(baseType===unknownType){return;}
if(!(getTargetType(baseType).flags&(1024 |2048 ))){error(baseTypeNode.expression,ts.Diagnostics.Base_constructor_return_type_0_is_not_a_class_or_interface_type,typeToString(baseType));return;}
if(type===baseType||hasBaseType(baseType,type)){error(type.symbol.valueDeclaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,undefined,1 ));return;}
if(type.resolvedBaseTypes===emptyArray){type.resolvedBaseTypes=[baseType];}
else{type.resolvedBaseTypes.push(baseType);}}
function areAllOuterTypeParametersApplied(type){var outerTypeParameters=type.outerTypeParameters;if(outerTypeParameters){var last=outerTypeParameters.length-1;var typeArguments=type.typeArguments;return outerTypeParameters[last].symbol!==typeArguments[last].symbol;}
return true;}
function resolveBaseTypesOfInterface(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;for(var _i=0,_a=type.symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(declaration.kind===218 &&ts.getInterfaceBaseTypeNodes(declaration)){for(var _b=0,_c=ts.getInterfaceBaseTypeNodes(declaration);_b<_c.length;_b++){var node=_c[_b];var baseType=getTypeFromTypeNode(node);if(baseType!==unknownType){if(getTargetType(baseType).flags&(1024 |2048 )){if(type!==baseType&&!hasBaseType(baseType,type)){if(type.resolvedBaseTypes===emptyArray){type.resolvedBaseTypes=[baseType];}
else{type.resolvedBaseTypes.push(baseType);}}
else{error(declaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,undefined,1 ));}}
else{error(node,ts.Diagnostics.An_interface_may_only_extend_a_class_or_another_interface);}}}}}}
function isIndependentInterface(symbol){for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(declaration.kind===218 ){if(declaration.flags&262144 ){return false;}
var baseTypeNodes=ts.getInterfaceBaseTypeNodes(declaration);if(baseTypeNodes){for(var _b=0,baseTypeNodes_1=baseTypeNodes;_b<baseTypeNodes_1.length;_b++){var node=baseTypeNodes_1[_b];if(ts.isSupportedExpressionWithTypeArguments(node)){var baseSymbol=resolveEntityName(node.expression,793056 ,true);if(!baseSymbol||!(baseSymbol.flags&64 )||getDeclaredTypeOfClassOrInterface(baseSymbol).thisType){return false;}}}}}}
return true;}
function getDeclaredTypeOfClassOrInterface(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var kind=symbol.flags&32 ?1024 :2048 ;var type=links.declaredType=createObjectType(kind,symbol);var outerTypeParameters=getOuterTypeParametersOfClassOrInterface(symbol);var localTypeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol);if(outerTypeParameters||localTypeParameters||kind===1024 ||!isIndependentInterface(symbol)){type.flags|=4096 ;type.typeParameters=ts.concatenate(outerTypeParameters,localTypeParameters);type.outerTypeParameters=outerTypeParameters;type.localTypeParameters=localTypeParameters;type.instantiations={};type.instantiations[getTypeListId(type.typeParameters)]=type;type.target=type;type.typeArguments=type.typeParameters;type.thisType=createType(512 |33554432 );type.thisType.symbol=symbol;type.thisType.constraint=type;}}
return links.declaredType;}
function getDeclaredTypeOfTypeAlias(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){if(!pushTypeResolution(symbol,2 )){return unknownType;}
var declaration=ts.getDeclarationOfKind(symbol,219 );var type=getTypeFromTypeNode(declaration.type);if(popTypeResolution()){links.typeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol);if(links.typeParameters){links.instantiations={};links.instantiations[getTypeListId(links.typeParameters)]=type;}}
else{type=unknownType;error(declaration.name,ts.Diagnostics.Type_alias_0_circularly_references_itself,symbolToString(symbol));}
links.declaredType=type;}
return links.declaredType;}
function getDeclaredTypeOfEnum(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var type=createType(128 );type.symbol=symbol;links.declaredType=type;}
return links.declaredType;}
function getDeclaredTypeOfTypeParameter(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var type=createType(512 );type.symbol=symbol;if(!ts.getDeclarationOfKind(symbol,138 ).constraint){type.constraint=noConstraintType;}
links.declaredType=type;}
return links.declaredType;}
function getDeclaredTypeOfAlias(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){links.declaredType=getDeclaredTypeOfSymbol(resolveAlias(symbol));}
return links.declaredType;}
function getDeclaredTypeOfSymbol(symbol){ts.Debug.assert((symbol.flags&16777216 )===0);if(symbol.flags&(32 |64 )){return getDeclaredTypeOfClassOrInterface(symbol);}
if(symbol.flags&524288 ){return getDeclaredTypeOfTypeAlias(symbol);}
if(symbol.flags&384 ){return getDeclaredTypeOfEnum(symbol);}
if(symbol.flags&262144 ){return getDeclaredTypeOfTypeParameter(symbol);}
if(symbol.flags&8388608 ){return getDeclaredTypeOfAlias(symbol);}
return unknownType;}
function isIndependentTypeReference(node){if(node.typeArguments){for(var _i=0,_a=node.typeArguments;_i<_a.length;_i++){var typeNode=_a[_i];if(!isIndependentType(typeNode)){return false;}}}
return true;}
function isIndependentType(node){switch(node.kind){case 117 :case 130 :case 128 :case 120 :case 131 :case 103 :case 163 :return true;case 157 :return isIndependentType(node.elementType);case 152 :return isIndependentTypeReference(node);}
return false;}
function isIndependentVariableLikeDeclaration(node){return node.type&&isIndependentType(node.type)||!node.type&&!node.initializer;}
function isIndependentFunctionLikeDeclaration(node){if(node.kind!==145 &&(!node.type||!isIndependentType(node.type))){return false;}
for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];if(!isIndependentVariableLikeDeclaration(parameter)){return false;}}
return true;}
function isIndependentMember(symbol){if(symbol.declarations&&symbol.declarations.length===1){var declaration=symbol.declarations[0];if(declaration){switch(declaration.kind){case 142 :case 141 :return isIndependentVariableLikeDeclaration(declaration);case 144 :case 143 :case 145 :return isIndependentFunctionLikeDeclaration(declaration);}}}
return false;}
function createSymbolTable(symbols){var result={};for(var _i=0,symbols_1=symbols;_i<symbols_1.length;_i++){var symbol=symbols_1[_i];result[symbol.name]=symbol;}
return result;}
function createInstantiatedSymbolTable(symbols,mapper,mappingThisOnly){var result={};for(var _i=0,symbols_2=symbols;_i<symbols_2.length;_i++){var symbol=symbols_2[_i];result[symbol.name]=mappingThisOnly&&isIndependentMember(symbol)?symbol:instantiateSymbol(symbol,mapper);}
return result;}
function addInheritedMembers(symbols,baseSymbols){for(var _i=0,baseSymbols_1=baseSymbols;_i<baseSymbols_1.length;_i++){var s=baseSymbols_1[_i];if(!ts.hasProperty(symbols,s.name)){symbols[s.name]=s;}}}
function resolveDeclaredMembers(type){if(!type.declaredProperties){var symbol=type.symbol;type.declaredProperties=getNamedMembers(symbol.members);type.declaredCallSignatures=getSignaturesOfSymbol(symbol.members["__call"]);type.declaredConstructSignatures=getSignaturesOfSymbol(symbol.members["__new"]);type.declaredStringIndexType=getIndexTypeOfSymbol(symbol,0 );type.declaredNumberIndexType=getIndexTypeOfSymbol(symbol,1 );}
return type;}
function getTypeWithThisArgument(type,thisArgument){if(type.flags&4096 ){return createTypeReference(type.target,ts.concatenate(type.typeArguments,[thisArgument||type.target.thisType]));}
return type;}
function resolveObjectTypeMembers(type,source,typeParameters,typeArguments){var mapper=identityMapper;var members=source.symbol.members;var callSignatures=source.declaredCallSignatures;var constructSignatures=source.declaredConstructSignatures;var stringIndexType=source.declaredStringIndexType;var numberIndexType=source.declaredNumberIndexType;if(!ts.rangeEquals(typeParameters,typeArguments,0,typeParameters.length)){mapper=createTypeMapper(typeParameters,typeArguments);members=createInstantiatedSymbolTable(source.declaredProperties,mapper,typeParameters.length===1);callSignatures=instantiateList(source.declaredCallSignatures,mapper,instantiateSignature);constructSignatures=instantiateList(source.declaredConstructSignatures,mapper,instantiateSignature);stringIndexType=instantiateType(source.declaredStringIndexType,mapper);numberIndexType=instantiateType(source.declaredNumberIndexType,mapper);}
var baseTypes=getBaseTypes(source);if(baseTypes.length){if(members===source.symbol.members){members=createSymbolTable(source.declaredProperties);}
var thisArgument=ts.lastOrUndefined(typeArguments);for(var _i=0,baseTypes_1=baseTypes;_i<baseTypes_1.length;_i++){var baseType=baseTypes_1[_i];var instantiatedBaseType=thisArgument?getTypeWithThisArgument(instantiateType(baseType,mapper),thisArgument):baseType;addInheritedMembers(members,getPropertiesOfObjectType(instantiatedBaseType));callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(instantiatedBaseType,0 ));constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(instantiatedBaseType,1 ));stringIndexType=stringIndexType||getIndexTypeOfType(instantiatedBaseType,0 );numberIndexType=numberIndexType||getIndexTypeOfType(instantiatedBaseType,1 );}}
setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
function resolveClassOrInterfaceMembers(type){resolveObjectTypeMembers(type,resolveDeclaredMembers(type),emptyArray,emptyArray);}
function resolveTypeReferenceMembers(type){var source=resolveDeclaredMembers(type.target);var typeParameters=ts.concatenate(source.typeParameters,[source.thisType]);var typeArguments=type.typeArguments&&type.typeArguments.length===typeParameters.length?type.typeArguments:ts.concatenate(type.typeArguments,[type]);resolveObjectTypeMembers(type,source,typeParameters,typeArguments);}
function createSignature(declaration,typeParameters,parameters,resolvedReturnType,typePredicate,minArgumentCount,hasRestParameter,hasStringLiterals){var sig=new Signature(checker);sig.declaration=declaration;sig.typeParameters=typeParameters;sig.parameters=parameters;sig.resolvedReturnType=resolvedReturnType;sig.typePredicate=typePredicate;sig.minArgumentCount=minArgumentCount;sig.hasRestParameter=hasRestParameter;sig.hasStringLiterals=hasStringLiterals;return sig;}
function cloneSignature(sig){return createSignature(sig.declaration,sig.typeParameters,sig.parameters,sig.resolvedReturnType,sig.typePredicate,sig.minArgumentCount,sig.hasRestParameter,sig.hasStringLiterals);}
function getDefaultConstructSignatures(classType){var baseConstructorType=getBaseConstructorTypeOfClass(classType);var baseSignatures=getSignaturesOfType(baseConstructorType,1 );if(baseSignatures.length===0){return[createSignature(undefined,classType.localTypeParameters,emptyArray,classType,undefined,0,false,false)];}
var baseTypeNode=getBaseTypeNodeOfClass(classType);var typeArguments=ts.map(baseTypeNode.typeArguments,getTypeFromTypeNode);var typeArgCount=typeArguments?typeArguments.length:0;var result=[];for(var _i=0,baseSignatures_1=baseSignatures;_i<baseSignatures_1.length;_i++){var baseSig=baseSignatures_1[_i];var typeParamCount=baseSig.typeParameters?baseSig.typeParameters.length:0;if(typeParamCount===typeArgCount){var sig=typeParamCount?getSignatureInstantiation(baseSig,typeArguments):cloneSignature(baseSig);sig.typeParameters=classType.localTypeParameters;sig.resolvedReturnType=classType;result.push(sig);}}
return result;}
function createTupleTypeMemberSymbols(memberTypes){var members={};for(var i=0;i<memberTypes.length;i++){var symbol=createSymbol(4 |67108864 ,""+i);symbol.type=memberTypes[i];members[i]=symbol;}
return members;}
function resolveTupleTypeMembers(type){var arrayElementType=getUnionType(type.elementTypes,true);var arrayType=resolveStructuredTypeMembers(createTypeFromGenericGlobalType(globalArrayType,[arrayElementType,type]));var members=createTupleTypeMemberSymbols(type.elementTypes);addInheritedMembers(members,arrayType.properties);setObjectTypeMembers(type,members,arrayType.callSignatures,arrayType.constructSignatures,arrayType.stringIndexType,arrayType.numberIndexType);}
function findMatchingSignature(signatureList,signature,partialMatch,ignoreReturnTypes){for(var _i=0,signatureList_1=signatureList;_i<signatureList_1.length;_i++){var s=signatureList_1[_i];if(compareSignaturesIdentical(s,signature,partialMatch,ignoreReturnTypes,compareTypesIdentical)){return s;}}}
function findMatchingSignatures(signatureLists,signature,listIndex){if(signature.typeParameters){if(listIndex>0){return undefined;}
for(var i=1;i<signatureLists.length;i++){if(!findMatchingSignature(signatureLists[i],signature,false,false)){return undefined;}}
return[signature];}
var result=undefined;for(var i=0;i<signatureLists.length;i++){var match=i===listIndex?signature:findMatchingSignature(signatureLists[i],signature,true,true);if(!match){return undefined;}
if(!ts.contains(result,match)){(result||(result=[])).push(match);}}
return result;}
function getUnionSignatures(types,kind){var signatureLists=ts.map(types,function(t){return getSignaturesOfType(t,kind);});var result=undefined;for(var i=0;i<signatureLists.length;i++){for(var _i=0,_a=signatureLists[i];_i<_a.length;_i++){var signature=_a[_i];if(!result||!findMatchingSignature(result,signature,false,true)){var unionSignatures=findMatchingSignatures(signatureLists,signature,i);if(unionSignatures){var s=signature;if(unionSignatures.length>1){s=cloneSignature(signature);s.resolvedReturnType=undefined;s.unionSignatures=unionSignatures;}
(result||(result=[])).push(s);}}}}
return result||emptyArray;}
function getUnionIndexType(types,kind){var indexTypes=[];for(var _i=0,types_1=types;_i<types_1.length;_i++){var type=types_1[_i];var indexType=getIndexTypeOfType(type,kind);if(!indexType){return undefined;}
indexTypes.push(indexType);}
return getUnionType(indexTypes);}
function resolveUnionTypeMembers(type){var callSignatures=getUnionSignatures(type.types,0 );var constructSignatures=getUnionSignatures(type.types,1 );var stringIndexType=getUnionIndexType(type.types,0 );var numberIndexType=getUnionIndexType(type.types,1 );setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
function intersectTypes(type1,type2){return!type1?type2:!type2?type1:getIntersectionType([type1,type2]);}
function resolveIntersectionTypeMembers(type){var callSignatures=emptyArray;var constructSignatures=emptyArray;var stringIndexType=undefined;var numberIndexType=undefined;for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(t,0 ));constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(t,1 ));stringIndexType=intersectTypes(stringIndexType,getIndexTypeOfType(t,0 ));numberIndexType=intersectTypes(numberIndexType,getIndexTypeOfType(t,1 ));}
setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
function resolveAnonymousTypeMembers(type){var symbol=type.symbol;if(type.target){var members=createInstantiatedSymbolTable(getPropertiesOfObjectType(type.target),type.mapper,false);var callSignatures=instantiateList(getSignaturesOfType(type.target,0 ),type.mapper,instantiateSignature);var constructSignatures=instantiateList(getSignaturesOfType(type.target,1 ),type.mapper,instantiateSignature);var stringIndexType=instantiateType(getIndexTypeOfType(type.target,0 ),type.mapper);var numberIndexType=instantiateType(getIndexTypeOfType(type.target,1 ),type.mapper);setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
else if(symbol.flags&2048 ){var members=symbol.members;var callSignatures=getSignaturesOfSymbol(members["__call"]);var constructSignatures=getSignaturesOfSymbol(members["__new"]);var stringIndexType=getIndexTypeOfSymbol(symbol,0 );var numberIndexType=getIndexTypeOfSymbol(symbol,1 );setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType);}
else{var members=emptySymbols;var constructSignatures=emptyArray;if(symbol.flags&1952 ){members=getExportsOfSymbol(symbol);}
if(symbol.flags&32 ){var classType=getDeclaredTypeOfClassOrInterface(symbol);constructSignatures=getSignaturesOfSymbol(symbol.members["__constructor"]);if(!constructSignatures.length){constructSignatures=getDefaultConstructSignatures(classType);}
var baseConstructorType=getBaseConstructorTypeOfClass(classType);if(baseConstructorType.flags&80896 ){members=createSymbolTable(getNamedMembers(members));addInheritedMembers(members,getPropertiesOfObjectType(baseConstructorType));}}
var numberIndexType=(symbol.flags&384 )?stringType:undefined;setObjectTypeMembers(type,members,emptyArray,constructSignatures,undefined,numberIndexType);if(symbol.flags&(16 |8192 )){type.callSignatures=getSignaturesOfSymbol(symbol);}}}
function resolveStructuredTypeMembers(type){if(!type.members){if(type.flags&4096 ){resolveTypeReferenceMembers(type);}
else if(type.flags&(1024 |2048 )){resolveClassOrInterfaceMembers(type);}
else if(type.flags&65536 ){resolveAnonymousTypeMembers(type);}
else if(type.flags&8192 ){resolveTupleTypeMembers(type);}
else if(type.flags&16384 ){resolveUnionTypeMembers(type);}
else if(type.flags&32768 ){resolveIntersectionTypeMembers(type);}}
return type;}
function getPropertiesOfObjectType(type){if(type.flags&80896 ){return resolveStructuredTypeMembers(type).properties;}
return emptyArray;}
function getPropertyOfObjectType(type,name){if(type.flags&80896 ){var resolved=resolveStructuredTypeMembers(type);if(ts.hasProperty(resolved.members,name)){var symbol=resolved.members[name];if(symbolIsValue(symbol)){return symbol;}}}}
function getPropertiesOfUnionOrIntersectionType(type){for(var _i=0,_a=type.types;_i<_a.length;_i++){var current=_a[_i];for(var _b=0,_c=getPropertiesOfType(current);_b<_c.length;_b++){var prop=_c[_b];getPropertyOfUnionOrIntersectionType(type,prop.name);}
if(type.flags&16384 ){break;}}
return type.resolvedProperties?symbolsToArray(type.resolvedProperties):emptyArray;}
function getPropertiesOfType(type){type=getApparentType(type);return type.flags&49152 ?getPropertiesOfUnionOrIntersectionType(type):getPropertiesOfObjectType(type);}
function getApparentTypeOfTypeParameter(type){if(!type.resolvedApparentType){var constraintType=getConstraintOfTypeParameter(type);while(constraintType&&constraintType.flags&512 ){constraintType=getConstraintOfTypeParameter(constraintType);}
type.resolvedApparentType=getTypeWithThisArgument(constraintType||emptyObjectType,type);}
return type.resolvedApparentType;}
function getApparentType(type){if(type.flags&512 ){type=getApparentTypeOfTypeParameter(type);}
if(type.flags&258 ){type=globalStringType;}
else if(type.flags&132 ){type=globalNumberType;}
else if(type.flags&8 ){type=globalBooleanType;}
else if(type.flags&16777216 ){type=globalESSymbolType;}
return type;}
function createUnionOrIntersectionProperty(containingType,name){var types=containingType.types;var props;var commonFlags=(containingType.flags&32768 )?536870912 :0 ;for(var _i=0,types_2=types;_i<types_2.length;_i++){var current=types_2[_i];var type=getApparentType(current);if(type!==unknownType){var prop=getPropertyOfType(type,name);if(prop&&!(getDeclarationFlagsFromSymbol(prop)&(16 |32 ))){commonFlags&=prop.flags;if(!props){props=[prop];}
else if(!ts.contains(props,prop)){props.push(prop);}}
else if(containingType.flags&16384 ){return undefined;}}}
if(!props){return undefined;}
if(props.length===1){return props[0];}
var propTypes=[];var declarations=[];for(var _a=0,props_1=props;_a<props_1.length;_a++){var prop=props_1[_a];if(prop.declarations){ts.addRange(declarations,prop.declarations);}
propTypes.push(getTypeOfSymbol(prop));}
var result=createSymbol(4 |67108864 |268435456 |commonFlags,name);result.containingType=containingType;result.declarations=declarations;result.type=containingType.flags&16384 ?getUnionType(propTypes):getIntersectionType(propTypes);return result;}
function getPropertyOfUnionOrIntersectionType(type,name){var properties=type.resolvedProperties||(type.resolvedProperties={});if(ts.hasProperty(properties,name)){return properties[name];}
var property=createUnionOrIntersectionProperty(type,name);if(property){properties[name]=property;}
return property;}
function getPropertyOfType(type,name){type=getApparentType(type);if(type.flags&80896 ){var resolved=resolveStructuredTypeMembers(type);if(ts.hasProperty(resolved.members,name)){var symbol=resolved.members[name];if(symbolIsValue(symbol)){return symbol;}}
if(resolved===anyFunctionType||resolved.callSignatures.length||resolved.constructSignatures.length){var symbol=getPropertyOfObjectType(globalFunctionType,name);if(symbol){return symbol;}}
return getPropertyOfObjectType(globalObjectType,name);}
if(type.flags&49152 ){return getPropertyOfUnionOrIntersectionType(type,name);}
return undefined;}
function getSignaturesOfStructuredType(type,kind){if(type.flags&130048 ){var resolved=resolveStructuredTypeMembers(type);return kind===0 ?resolved.callSignatures:resolved.constructSignatures;}
return emptyArray;}
function getSignaturesOfType(type,kind){return getSignaturesOfStructuredType(getApparentType(type),kind);}
function getIndexTypeOfStructuredType(type,kind){if(type.flags&130048 ){var resolved=resolveStructuredTypeMembers(type);return kind===0 ?resolved.stringIndexType:resolved.numberIndexType;}}
function getIndexTypeOfType(type,kind){return getIndexTypeOfStructuredType(getApparentType(type),kind);}
function getTypeParametersFromJSDocTemplate(declaration){if(declaration.parserContextFlags&32 ){var templateTag=ts.getJSDocTemplateTag(declaration);if(templateTag){return getTypeParametersFromDeclaration(templateTag.typeParameters);}}
return undefined;}
function getTypeParametersFromDeclaration(typeParameterDeclarations){var result=[];ts.forEach(typeParameterDeclarations,function(node){var tp=getDeclaredTypeOfTypeParameter(node.symbol);if(!ts.contains(result,tp)){result.push(tp);}});return result;}
function symbolsToArray(symbols){var result=[];for(var id in symbols){if(!isReservedMemberName(id)){result.push(symbols[id]);}}
return result;}
function isOptionalParameter(node){if(node.parserContextFlags&32 ){if(node.type&&node.type.kind===263 ){return true;}
var paramTag=ts.getCorrespondingJSDocParameterTag(node);if(paramTag){if(paramTag.isBracketed){return true;}
if(paramTag.typeExpression){return paramTag.typeExpression.type.kind===263 ;}}}
if(ts.hasQuestionToken(node)){return true;}
if(node.initializer){var signatureDeclaration=node.parent;var signature=getSignatureFromDeclaration(signatureDeclaration);var parameterIndex=ts.indexOf(signatureDeclaration.parameters,node);ts.Debug.assert(parameterIndex>=0);return parameterIndex>=signature.minArgumentCount;}
return false;}
function createTypePredicateFromTypePredicateNode(node){if(node.parameterName.kind===69 ){var parameterName=node.parameterName;return{kind:1 ,parameterName:parameterName?parameterName.text:undefined,parameterIndex:parameterName?getTypePredicateParameterIndex(node.parent.parameters,parameterName):undefined,type:getTypeFromTypeNode(node.type)};}
else{return{kind:0 ,type:getTypeFromTypeNode(node.type)};}}
function getSignatureFromDeclaration(declaration){var links=getNodeLinks(declaration);if(!links.resolvedSignature){var classType=declaration.kind===145 ?getDeclaredTypeOfClassOrInterface(getMergedSymbol(declaration.parent.symbol)):undefined;var typeParameters=classType?classType.localTypeParameters:declaration.typeParameters?getTypeParametersFromDeclaration(declaration.typeParameters):getTypeParametersFromJSDocTemplate(declaration);var parameters=[];var hasStringLiterals=false;var minArgumentCount=-1;var isJSConstructSignature=ts.isJSDocConstructSignature(declaration);var returnType=undefined;var typePredicate=undefined;for(var i=isJSConstructSignature?1:0,n=declaration.parameters.length;i<n;i++){var param=declaration.parameters[i];var paramSymbol=param.symbol;if(paramSymbol&&!!(paramSymbol.flags&4 )&&!ts.isBindingPattern(param.name)){var resolvedSymbol=resolveName(param,paramSymbol.name,107455 ,undefined,undefined);paramSymbol=resolvedSymbol;}
parameters.push(paramSymbol);if(param.type&&param.type.kind===163 ){hasStringLiterals=true;}
if(param.initializer||param.questionToken||param.dotDotDotToken){if(minArgumentCount<0){minArgumentCount=i;}}
else{minArgumentCount=-1;}}
if(minArgumentCount<0){minArgumentCount=declaration.parameters.length;}
if(isJSConstructSignature){minArgumentCount--;returnType=getTypeFromTypeNode(declaration.parameters[0].type);}
else if(classType){returnType=classType;}
else if(declaration.type){returnType=getTypeFromTypeNode(declaration.type);if(declaration.type.kind===151 ){typePredicate=createTypePredicateFromTypePredicateNode(declaration.type);}}
else{if(declaration.parserContextFlags&32 ){var type=getReturnTypeFromJSDocComment(declaration);if(type&&type!==unknownType){returnType=type;}}
if(declaration.kind===146 &&!ts.hasDynamicName(declaration)){var setter=ts.getDeclarationOfKind(declaration.symbol,147 );returnType=getAnnotatedAccessorType(setter);}
if(!returnType&&ts.nodeIsMissing(declaration.body)){returnType=anyType;}}
links.resolvedSignature=createSignature(declaration,typeParameters,parameters,returnType,typePredicate,minArgumentCount,ts.hasRestParameter(declaration),hasStringLiterals);}
return links.resolvedSignature;}
function getSignaturesOfSymbol(symbol){if(!symbol)
return emptyArray;var result=[];for(var i=0,len=symbol.declarations.length;i<len;i++){var node=symbol.declarations[i];switch(node.kind){case 153 :case 154 :case 216 :case 144 :case 143 :case 145 :case 148 :case 149 :case 150 :case 146 :case 147 :case 176 :case 177 :case 264 :if(i>0&&node.body){var previous=symbol.declarations[i-1];if(node.parent===previous.parent&&node.kind===previous.kind&&node.pos===previous.end){break;}}
result.push(getSignatureFromDeclaration(node));}}
return result;}
function resolveExternalModuleTypeByLiteral(name){var moduleSym=resolveExternalModuleName(name,name);if(moduleSym){var resolvedModuleSymbol=resolveExternalModuleSymbol(moduleSym);if(resolvedModuleSymbol){return getTypeOfSymbol(resolvedModuleSymbol);}}
return anyType;}
function getReturnTypeOfSignature(signature){if(!signature.resolvedReturnType){if(!pushTypeResolution(signature,3 )){return unknownType;}
var type=void 0;if(signature.target){type=instantiateType(getReturnTypeOfSignature(signature.target),signature.mapper);}
else if(signature.unionSignatures){type=getUnionType(ts.map(signature.unionSignatures,getReturnTypeOfSignature));}
else{type=getReturnTypeFromBody(signature.declaration);}
if(!popTypeResolution()){type=anyType;if(compilerOptions.noImplicitAny){var declaration=signature.declaration;if(declaration.name){error(declaration.name,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,ts.declarationNameToString(declaration.name));}
else{error(declaration,ts.Diagnostics.Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions);}}}
signature.resolvedReturnType=type;}
return signature.resolvedReturnType;}
function getRestTypeOfSignature(signature){if(signature.hasRestParameter){var type=getTypeOfSymbol(ts.lastOrUndefined(signature.parameters));if(type.flags&4096 &&type.target===globalArrayType){return type.typeArguments[0];}}
return anyType;}
function getSignatureInstantiation(signature,typeArguments){return instantiateSignature(signature,createTypeMapper(signature.typeParameters,typeArguments),true);}
function getErasedSignature(signature){if(!signature.typeParameters)
return signature;if(!signature.erasedSignatureCache){if(signature.target){signature.erasedSignatureCache=instantiateSignature(getErasedSignature(signature.target),signature.mapper);}
else{signature.erasedSignatureCache=instantiateSignature(signature,createTypeEraser(signature.typeParameters),true);}}
return signature.erasedSignatureCache;}
function getOrCreateTypeFromSignature(signature){if(!signature.isolatedSignatureType){var isConstructor=signature.declaration.kind===145 ||signature.declaration.kind===149 ;var type=createObjectType(65536 |262144 );type.members=emptySymbols;type.properties=emptyArray;type.callSignatures=!isConstructor?[signature]:emptyArray;type.constructSignatures=isConstructor?[signature]:emptyArray;signature.isolatedSignatureType=type;}
return signature.isolatedSignatureType;}
function getIndexSymbol(symbol){return symbol.members["__index"];}
function getIndexDeclarationOfSymbol(symbol,kind){var syntaxKind=kind===1 ?128 :130 ;var indexSymbol=getIndexSymbol(symbol);if(indexSymbol){for(var _i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i];var node=decl;if(node.parameters.length===1){var parameter=node.parameters[0];if(parameter&&parameter.type&&parameter.type.kind===syntaxKind){return node;}}}}
return undefined;}
function getIndexTypeOfSymbol(symbol,kind){var declaration=getIndexDeclarationOfSymbol(symbol,kind);return declaration?declaration.type?getTypeFromTypeNode(declaration.type):anyType:undefined;}
function getConstraintDeclaration(type){return ts.getDeclarationOfKind(type.symbol,138 ).constraint;}
function hasConstraintReferenceTo(type,target){var checked;while(type&&!(type.flags&33554432 )&&type.flags&512 &&!ts.contains(checked,type)){if(type===target){return true;}
(checked||(checked=[])).push(type);var constraintDeclaration=getConstraintDeclaration(type);type=constraintDeclaration&&getTypeFromTypeNode(constraintDeclaration);}
return false;}
function getConstraintOfTypeParameter(typeParameter){if(!typeParameter.constraint){if(typeParameter.target){var targetConstraint=getConstraintOfTypeParameter(typeParameter.target);typeParameter.constraint=targetConstraint?instantiateType(targetConstraint,typeParameter.mapper):noConstraintType;}
else{var constraintDeclaration=getConstraintDeclaration(typeParameter);var constraint=getTypeFromTypeNode(constraintDeclaration);if(hasConstraintReferenceTo(constraint,typeParameter)){error(constraintDeclaration,ts.Diagnostics.Type_parameter_0_has_a_circular_constraint,typeToString(typeParameter));constraint=unknownType;}
typeParameter.constraint=constraint;}}
return typeParameter.constraint===noConstraintType?undefined:typeParameter.constraint;}
function getParentSymbolOfTypeParameter(typeParameter){return getSymbolOfNode(ts.getDeclarationOfKind(typeParameter.symbol,138 ).parent);}
function getTypeListId(types){if(types){switch(types.length){case 1:return""+types[0].id;case 2:return types[0].id+","+types[1].id;default:var result="";for(var i=0;i<types.length;i++){if(i>0){result+=",";}
result+=types[i].id;}
return result;}}
return"";}
function getPropagatingFlagsOfTypes(types){var result=0;for(var _i=0,types_3=types;_i<types_3.length;_i++){var type=types_3[_i];result|=type.flags;}
return result&14680064 ;}
function createTypeReference(target,typeArguments){var id=getTypeListId(typeArguments);var type=target.instantiations[id];if(!type){var flags=4096 |(typeArguments?getPropagatingFlagsOfTypes(typeArguments):0);type=target.instantiations[id]=createObjectType(flags,target.symbol);type.target=target;type.typeArguments=typeArguments;}
return type;}
function getTypeFromClassOrInterfaceReference(node,symbol){var type=getDeclaredTypeOfSymbol(symbol);var typeParameters=type.localTypeParameters;if(typeParameters){if(!node.typeArguments||node.typeArguments.length!==typeParameters.length){error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,typeToString(type,undefined,1 ),typeParameters.length);return unknownType;}
return createTypeReference(type,ts.concatenate(type.outerTypeParameters,ts.map(node.typeArguments,getTypeFromTypeNode)));}
if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,typeToString(type));return unknownType;}
return type;}
function getTypeFromTypeAliasReference(node,symbol){var type=getDeclaredTypeOfSymbol(symbol);var links=getSymbolLinks(symbol);var typeParameters=links.typeParameters;if(typeParameters){if(!node.typeArguments||node.typeArguments.length!==typeParameters.length){error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,symbolToString(symbol),typeParameters.length);return unknownType;}
var typeArguments=ts.map(node.typeArguments,getTypeFromTypeNode);var id=getTypeListId(typeArguments);return links.instantiations[id]||(links.instantiations[id]=instantiateType(type,createTypeMapper(typeParameters,typeArguments)));}
if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol));return unknownType;}
return type;}
function getTypeFromNonGenericTypeReference(node,symbol){if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol));return unknownType;}
return getDeclaredTypeOfSymbol(symbol);}
function getTypeReferenceName(node){switch(node.kind){case 152 :return node.typeName;case 262 :return node.name;case 191 :if(ts.isSupportedExpressionWithTypeArguments(node)){return node.expression;}}
return undefined;}
function resolveTypeReferenceName(node,typeReferenceName){if(!typeReferenceName){return unknownSymbol;}
return resolveEntityName(typeReferenceName,793056 )||unknownSymbol;}
function getTypeReferenceType(node,symbol){if(symbol===unknownSymbol){return unknownType;}
if(symbol.flags&(32 |64 )){return getTypeFromClassOrInterfaceReference(node,symbol);}
if(symbol.flags&524288 ){return getTypeFromTypeAliasReference(node,symbol);}
if(symbol.flags&107455 &&node.kind===262 ){return getTypeOfSymbol(symbol);}
return getTypeFromNonGenericTypeReference(node,symbol);}
function getTypeFromTypeReference(node){var links=getNodeLinks(node);if(!links.resolvedType){var symbol=void 0;var type=void 0;if(node.kind===262 ){var typeReferenceName=getTypeReferenceName(node);symbol=resolveTypeReferenceName(node,typeReferenceName);type=getTypeReferenceType(node,symbol);links.resolvedSymbol=symbol;links.resolvedType=type;}
else{var typeNameOrExpression=node.kind===152 ?node.typeName:ts.isSupportedExpressionWithTypeArguments(node)?node.expression:undefined;symbol=typeNameOrExpression&&resolveEntityName(typeNameOrExpression,793056 )||unknownSymbol;type=symbol===unknownSymbol?unknownType:symbol.flags&(32 |64 )?getTypeFromClassOrInterfaceReference(node,symbol):symbol.flags&524288 ?getTypeFromTypeAliasReference(node,symbol):getTypeFromNonGenericTypeReference(node,symbol);}
links.resolvedSymbol=symbol;links.resolvedType=type;}
return links.resolvedType;}
function getTypeFromTypeQueryNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getWidenedType(checkExpression(node.exprName));}
return links.resolvedType;}
function getTypeOfGlobalSymbol(symbol,arity){function getTypeDeclaration(symbol){var declarations=symbol.declarations;for(var _i=0,declarations_3=declarations;_i<declarations_3.length;_i++){var declaration=declarations_3[_i];switch(declaration.kind){case 217 :case 218 :case 220 :return declaration;}}}
if(!symbol){return arity?emptyGenericType:emptyObjectType;}
var type=getDeclaredTypeOfSymbol(symbol);if(!(type.flags&80896 )){error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_be_a_class_or_interface_type,symbol.name);return arity?emptyGenericType:emptyObjectType;}
if((type.typeParameters?type.typeParameters.length:0)!==arity){error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_have_1_type_parameter_s,symbol.name,arity);return arity?emptyGenericType:emptyObjectType;}
return type;}
function getGlobalValueSymbol(name){return getGlobalSymbol(name,107455 ,ts.Diagnostics.Cannot_find_global_value_0);}
function getGlobalTypeSymbol(name){return getGlobalSymbol(name,793056 ,ts.Diagnostics.Cannot_find_global_type_0);}
function getGlobalSymbol(name,meaning,diagnostic){return resolveName(undefined,name,meaning,diagnostic,name);}
function getGlobalType(name,arity){if(arity===void 0){arity=0;}
return getTypeOfGlobalSymbol(getGlobalTypeSymbol(name),arity);}
function getExportedTypeFromNamespace(namespace,name){var namespaceSymbol=getGlobalSymbol(namespace,1536 ,undefined);var typeSymbol=namespaceSymbol&&getSymbol(namespaceSymbol.exports,name,793056 );return typeSymbol&&getDeclaredTypeOfSymbol(typeSymbol);}
function getGlobalESSymbolConstructorSymbol(){return globalESSymbolConstructorSymbol||(globalESSymbolConstructorSymbol=getGlobalValueSymbol("Symbol"));}
function createTypedPropertyDescriptorType(propertyType){var globalTypedPropertyDescriptorType=getGlobalTypedPropertyDescriptorType();return globalTypedPropertyDescriptorType!==emptyGenericType?createTypeReference(globalTypedPropertyDescriptorType,[propertyType]):emptyObjectType;}
function createTypeFromGenericGlobalType(genericGlobalType,typeArguments){return genericGlobalType!==emptyGenericType?createTypeReference(genericGlobalType,typeArguments):emptyObjectType;}
function createIterableType(elementType){return createTypeFromGenericGlobalType(globalIterableType,[elementType]);}
function createIterableIteratorType(elementType){return createTypeFromGenericGlobalType(globalIterableIteratorType,[elementType]);}
function createArrayType(elementType){return createTypeFromGenericGlobalType(globalArrayType,[elementType]);}
function getTypeFromArrayTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createArrayType(getTypeFromTypeNode(node.elementType));}
return links.resolvedType;}
function createTupleType(elementTypes){var id=getTypeListId(elementTypes);return tupleTypes[id]||(tupleTypes[id]=createNewTupleType(elementTypes));}
function createNewTupleType(elementTypes){var type=createObjectType(8192 |getPropagatingFlagsOfTypes(elementTypes));type.elementTypes=elementTypes;return type;}
function getTypeFromTupleTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createTupleType(ts.map(node.elementTypes,getTypeFromTypeNode));}
return links.resolvedType;}
function addTypeToSet(typeSet,type,typeSetKind){if(type.flags&typeSetKind){addTypesToSet(typeSet,type.types,typeSetKind);}
else if(!ts.contains(typeSet,type)){typeSet.push(type);}}
function addTypesToSet(typeSet,types,typeSetKind){for(var _i=0,types_4=types;_i<types_4.length;_i++){var type=types_4[_i];addTypeToSet(typeSet,type,typeSetKind);}}
function isSubtypeOfAny(candidate,types){for(var i=0,len=types.length;i<len;i++){if(candidate!==types[i]&&isTypeSubtypeOf(candidate,types[i])){return true;}}
return false;}
function removeSubtypes(types){var i=types.length;while(i>0){i--;if(isSubtypeOfAny(types[i],types)){types.splice(i,1);}}}
function containsTypeAny(types){for(var _i=0,types_5=types;_i<types_5.length;_i++){var type=types_5[_i];if(isTypeAny(type)){return true;}}
return false;}
function removeAllButLast(types,typeToRemove){var i=types.length;while(i>0&&types.length>1){i--;if(types[i]===typeToRemove){types.splice(i,1);}}}
function getUnionType(types,noSubtypeReduction){if(types.length===0){return emptyUnionType;}
var typeSet=[];addTypesToSet(typeSet,types,16384 );if(containsTypeAny(typeSet)){return anyType;}
if(noSubtypeReduction){removeAllButLast(typeSet,undefinedType);removeAllButLast(typeSet,nullType);}
else{removeSubtypes(typeSet);}
if(typeSet.length===1){return typeSet[0];}
var id=getTypeListId(typeSet);var type=unionTypes[id];if(!type){type=unionTypes[id]=createObjectType(16384 |getPropagatingFlagsOfTypes(typeSet));type.types=typeSet;}
return type;}
function getTypeFromUnionTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getUnionType(ts.map(node.types,getTypeFromTypeNode),true);}
return links.resolvedType;}
function getIntersectionType(types){if(types.length===0){return emptyObjectType;}
var typeSet=[];addTypesToSet(typeSet,types,32768 );if(containsTypeAny(typeSet)){return anyType;}
if(typeSet.length===1){return typeSet[0];}
var id=getTypeListId(typeSet);var type=intersectionTypes[id];if(!type){type=intersectionTypes[id]=createObjectType(32768 |getPropagatingFlagsOfTypes(typeSet));type.types=typeSet;}
return type;}
function getTypeFromIntersectionTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getIntersectionType(ts.map(node.types,getTypeFromTypeNode));}
return links.resolvedType;}
function getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createObjectType(65536 ,node.symbol);}
return links.resolvedType;}
function getStringLiteralTypeForText(text){if(ts.hasProperty(stringLiteralTypes,text)){return stringLiteralTypes[text];}
var type=stringLiteralTypes[text]=createType(256 );type.text=text;return type;}
function getTypeFromStringLiteralTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getStringLiteralTypeForText(node.text);}
return links.resolvedType;}
function getTypeFromJSDocVariadicType(node){var links=getNodeLinks(node);if(!links.resolvedType){var type=getTypeFromTypeNode(node.type);links.resolvedType=type?createArrayType(type):unknownType;}
return links.resolvedType;}
function getTypeFromJSDocTupleType(node){var links=getNodeLinks(node);if(!links.resolvedType){var types=ts.map(node.types,getTypeFromTypeNode);links.resolvedType=createTupleType(types);}
return links.resolvedType;}
function getThisType(node){var container=ts.getThisContainer(node,false);var parent=container&&container.parent;if(parent&&(ts.isClassLike(parent)||parent.kind===218 )){if(!(container.flags&64 )&&(container.kind!==145 ||ts.isNodeDescendentOf(node,container.body))){return getDeclaredTypeOfClassOrInterface(getSymbolOfNode(parent)).thisType;}}
error(node,ts.Diagnostics.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface);return unknownType;}
function getTypeFromThisTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getThisType(node);}
return links.resolvedType;}
function getTypeFromTypeNode(node){switch(node.kind){case 117 :case 253 :case 254 :return anyType;case 130 :return stringType;case 128 :return numberType;case 120 :return booleanType;case 131 :return esSymbolType;case 103 :return voidType;case 162 :return getTypeFromThisTypeNode(node);case 163 :return getTypeFromStringLiteralTypeNode(node);case 152 :case 262 :return getTypeFromTypeReference(node);case 151 :return booleanType;case 191 :return getTypeFromTypeReference(node);case 155 :return getTypeFromTypeQueryNode(node);case 157 :case 255 :return getTypeFromArrayTypeNode(node);case 158 :return getTypeFromTupleTypeNode(node);case 159 :case 256 :return getTypeFromUnionTypeNode(node);case 160 :return getTypeFromIntersectionTypeNode(node);case 161 :case 258 :case 259 :case 266 :case 267 :case 263 :return getTypeFromTypeNode(node.type);case 153 :case 154 :case 156 :case 264 :case 260 :return getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node);case 69 :case 136 :var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol);case 257 :return getTypeFromJSDocTupleType(node);case 265 :return getTypeFromJSDocVariadicType(node);default:return unknownType;}}
function instantiateList(items,mapper,instantiator){if(items&&items.length){var result=[];for(var _i=0,items_1=items;_i<items_1.length;_i++){var v=items_1[_i];result.push(instantiator(v,mapper));}
return result;}
return items;}
function createUnaryTypeMapper(source,target){return function(t){return t===source?target:t;};}
function createBinaryTypeMapper(source1,target1,source2,target2){return function(t){return t===source1?target1:t===source2?target2:t;};}
function createTypeMapper(sources,targets){switch(sources.length){case 1:return createUnaryTypeMapper(sources[0],targets[0]);case 2:return createBinaryTypeMapper(sources[0],targets[0],sources[1],targets[1]);}
return function(t){for(var i=0;i<sources.length;i++){if(t===sources[i]){return targets[i];}}
return t;};}
function createUnaryTypeEraser(source){return function(t){return t===source?anyType:t;};}
function createBinaryTypeEraser(source1,source2){return function(t){return t===source1||t===source2?anyType:t;};}
function createTypeEraser(sources){switch(sources.length){case 1:return createUnaryTypeEraser(sources[0]);case 2:return createBinaryTypeEraser(sources[0],sources[1]);}
return function(t){for(var _i=0,sources_1=sources;_i<sources_1.length;_i++){var source=sources_1[_i];if(t===source){return anyType;}}
return t;};}
function getInferenceMapper(context){if(!context.mapper){var mapper=function(t){var typeParameters=context.typeParameters;for(var i=0;i<typeParameters.length;i++){if(t===typeParameters[i]){context.inferences[i].isFixed=true;return getInferredType(context,i);}}
return t;};mapper.context=context;context.mapper=mapper;}
return context.mapper;}
function identityMapper(type){return type;}
function combineTypeMappers(mapper1,mapper2){return function(t){return instantiateType(mapper1(t),mapper2);};}
function cloneTypeParameter(typeParameter){var result=createType(512 );result.symbol=typeParameter.symbol;result.target=typeParameter;return result;}
function cloneTypePredicate(predicate,mapper){if(ts.isIdentifierTypePredicate(predicate)){return{kind:1 ,parameterName:predicate.parameterName,parameterIndex:predicate.parameterIndex,type:instantiateType(predicate.type,mapper)};}
else{return{kind:0 ,type:instantiateType(predicate.type,mapper)};}}
function instantiateSignature(signature,mapper,eraseTypeParameters){var freshTypeParameters;var freshTypePredicate;if(signature.typeParameters&&!eraseTypeParameters){freshTypeParameters=ts.map(signature.typeParameters,cloneTypeParameter);mapper=combineTypeMappers(createTypeMapper(signature.typeParameters,freshTypeParameters),mapper);for(var _i=0,freshTypeParameters_1=freshTypeParameters;_i<freshTypeParameters_1.length;_i++){var tp=freshTypeParameters_1[_i];tp.mapper=mapper;}}
if(signature.typePredicate){freshTypePredicate=cloneTypePredicate(signature.typePredicate,mapper);}
var result=createSignature(signature.declaration,freshTypeParameters,instantiateList(signature.parameters,mapper,instantiateSymbol),instantiateType(signature.resolvedReturnType,mapper),freshTypePredicate,signature.minArgumentCount,signature.hasRestParameter,signature.hasStringLiterals);result.target=signature;result.mapper=mapper;return result;}
function instantiateSymbol(symbol,mapper){if(symbol.flags&16777216 ){var links=getSymbolLinks(symbol);symbol=links.target;mapper=combineTypeMappers(links.mapper,mapper);}
var result=createSymbol(16777216 |67108864 |symbol.flags,symbol.name);result.declarations=symbol.declarations;result.parent=symbol.parent;result.target=symbol;result.mapper=mapper;if(symbol.valueDeclaration){result.valueDeclaration=symbol.valueDeclaration;}
return result;}
function instantiateAnonymousType(type,mapper){if(mapper.instantiations){var cachedType=mapper.instantiations[type.id];if(cachedType){return cachedType;}}
else{mapper.instantiations=[];}
var result=createObjectType(65536 |131072 ,type.symbol);result.target=type;result.mapper=mapper;mapper.instantiations[type.id]=result;return result;}
function instantiateType(type,mapper){if(type&&mapper!==identityMapper){if(type.flags&512 ){return mapper(type);}
if(type.flags&65536 ){return type.symbol&&type.symbol.flags&(16 |8192 |32 |2048 |4096 )?instantiateAnonymousType(type,mapper):type;}
if(type.flags&4096 ){return createTypeReference(type.target,instantiateList(type.typeArguments,mapper,instantiateType));}
if(type.flags&8192 ){return createTupleType(instantiateList(type.elementTypes,mapper,instantiateType));}
if(type.flags&16384 ){return getUnionType(instantiateList(type.types,mapper,instantiateType),true);}
if(type.flags&32768 ){return getIntersectionType(instantiateList(type.types,mapper,instantiateType));}}
return type;}
function isContextSensitive(node){ts.Debug.assert(node.kind!==144 ||ts.isObjectLiteralMethod(node));switch(node.kind){case 176 :case 177 :return isContextSensitiveFunctionLikeDeclaration(node);case 168 :return ts.forEach(node.properties,isContextSensitive);case 167 :return ts.forEach(node.elements,isContextSensitive);case 185 :return isContextSensitive(node.whenTrue)||isContextSensitive(node.whenFalse);case 184 :return node.operatorToken.kind===52 &&(isContextSensitive(node.left)||isContextSensitive(node.right));case 248 :return isContextSensitive(node.initializer);case 144 :case 143 :return isContextSensitiveFunctionLikeDeclaration(node);case 175 :return isContextSensitive(node.expression);}
return false;}
function isContextSensitiveFunctionLikeDeclaration(node){return!node.typeParameters&&node.parameters.length&&!ts.forEach(node.parameters,function(p){return p.type;});}
function getTypeWithoutSignatures(type){if(type.flags&80896 ){var resolved=resolveStructuredTypeMembers(type);if(resolved.constructSignatures.length){var result=createObjectType(65536 ,type.symbol);result.members=resolved.members;result.properties=resolved.properties;result.callSignatures=emptyArray;result.constructSignatures=emptyArray;type=result;}}
return type;}
function isTypeIdenticalTo(source,target){return checkTypeRelatedTo(source,target,identityRelation,undefined);}
function compareTypesIdentical(source,target){return checkTypeRelatedTo(source,target,identityRelation,undefined)?-1 :0 ;}
function compareTypesAssignable(source,target){return checkTypeRelatedTo(source,target,assignableRelation,undefined)?-1 :0 ;}
function isTypeSubtypeOf(source,target){return checkTypeSubtypeOf(source,target,undefined);}
function isTypeAssignableTo(source,target){return checkTypeAssignableTo(source,target,undefined);}
function checkTypeSubtypeOf(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,subtypeRelation,errorNode,headMessage,containingMessageChain);}
function checkTypeAssignableTo(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,assignableRelation,errorNode,headMessage,containingMessageChain);}
function isSignatureAssignableTo(source,target,ignoreReturnTypes){return compareSignaturesRelated(source,target,ignoreReturnTypes,false,undefined,compareTypesAssignable)!==0 ;}
function compareSignaturesRelated(source,target,ignoreReturnTypes,reportErrors,errorReporter,compareTypes){if(source===target){return-1 ;}
if(!target.hasRestParameter&&source.minArgumentCount>target.parameters.length){return 0 ;}
source=getErasedSignature(source);target=getErasedSignature(target);var result=-1 ;var sourceMax=getNumNonRestParameters(source);var targetMax=getNumNonRestParameters(target);var checkCount=getNumParametersToCheckForSignatureRelatability(source,sourceMax,target,targetMax);var sourceParams=source.parameters;var targetParams=target.parameters;for(var i=0;i<checkCount;i++){var s=i<sourceMax?getTypeOfSymbol(sourceParams[i]):getRestTypeOfSignature(source);var t=i<targetMax?getTypeOfSymbol(targetParams[i]):getRestTypeOfSignature(target);var related=compareTypes(s,t,false)||compareTypes(t,s,reportErrors);if(!related){if(reportErrors){errorReporter(ts.Diagnostics.Types_of_parameters_0_and_1_are_incompatible,sourceParams[i<sourceMax?i:sourceMax].name,targetParams[i<targetMax?i:targetMax].name);}
return 0 ;}
result&=related;}
if(!ignoreReturnTypes){var targetReturnType=getReturnTypeOfSignature(target);if(targetReturnType===voidType){return result;}
var sourceReturnType=getReturnTypeOfSignature(source);if(target.typePredicate){if(source.typePredicate){result&=compareTypePredicateRelatedTo(source.typePredicate,target.typePredicate,reportErrors,errorReporter,compareTypes);}
else if(ts.isIdentifierTypePredicate(target.typePredicate)){if(reportErrors){errorReporter(ts.Diagnostics.Signature_0_must_have_a_type_predicate,signatureToString(source));}
return 0 ;}}
else{result&=compareTypes(sourceReturnType,targetReturnType,reportErrors);}}
return result;}
function compareTypePredicateRelatedTo(source,target,reportErrors,errorReporter,compareTypes){if(source.kind!==target.kind){if(reportErrors){errorReporter(ts.Diagnostics.A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard);errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target));}
return 0 ;}
if(source.kind===1 ){var sourceIdentifierPredicate=source;var targetIdentifierPredicate=target;if(sourceIdentifierPredicate.parameterIndex!==targetIdentifierPredicate.parameterIndex){if(reportErrors){errorReporter(ts.Diagnostics.Parameter_0_is_not_in_the_same_position_as_parameter_1,sourceIdentifierPredicate.parameterName,targetIdentifierPredicate.parameterName);errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target));}
return 0 ;}}
var related=compareTypes(source.type,target.type,reportErrors);if(related===0 &&reportErrors){errorReporter(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,typePredicateToString(source),typePredicateToString(target));}
return related;}
function isImplementationCompatibleWithOverload(implementation,overload){var erasedSource=getErasedSignature(implementation);var erasedTarget=getErasedSignature(overload);var sourceReturnType=getReturnTypeOfSignature(erasedSource);var targetReturnType=getReturnTypeOfSignature(erasedTarget);if(targetReturnType===voidType||checkTypeRelatedTo(targetReturnType,sourceReturnType,assignableRelation,undefined)||checkTypeRelatedTo(sourceReturnType,targetReturnType,assignableRelation,undefined)){return isSignatureAssignableTo(erasedSource,erasedTarget,true);}
return false;}
function getNumNonRestParameters(signature){var numParams=signature.parameters.length;return signature.hasRestParameter?numParams-1:numParams;}
function getNumParametersToCheckForSignatureRelatability(source,sourceNonRestParamCount,target,targetNonRestParamCount){if(source.hasRestParameter===target.hasRestParameter){if(source.hasRestParameter){return Math.max(sourceNonRestParamCount,targetNonRestParamCount)+1;}
else{return Math.min(sourceNonRestParamCount,targetNonRestParamCount);}}
else{return source.hasRestParameter?targetNonRestParamCount:sourceNonRestParamCount;}}
function checkTypeRelatedTo(source,target,relation,errorNode,headMessage,containingMessageChain){var errorInfo;var sourceStack;var targetStack;var maybeStack;var expandingFlags;var depth=0;var overflow=false;ts.Debug.assert(relation!==identityRelation||!errorNode,"no error reporting in identity checking");var result=isRelatedTo(source,target,!!errorNode,headMessage);if(overflow){error(errorNode,ts.Diagnostics.Excessive_stack_depth_comparing_types_0_and_1,typeToString(source),typeToString(target));}
else if(errorInfo){if(containingMessageChain){errorInfo=ts.concatenateDiagnosticMessageChains(containingMessageChain,errorInfo);}
diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(errorNode,errorInfo));}
return result!==0 ;function reportError(message,arg0,arg1,arg2){ts.Debug.assert(!!errorNode);errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2);}
function reportRelationError(message,source,target){var sourceType=typeToString(source);var targetType=typeToString(target);if(sourceType===targetType){sourceType=typeToString(source,undefined,128 );targetType=typeToString(target,undefined,128 );}
reportError(message||ts.Diagnostics.Type_0_is_not_assignable_to_type_1,sourceType,targetType);}
function isRelatedTo(source,target,reportErrors,headMessage){var result;if(source===target)
return-1 ;if(relation===identityRelation){return isIdenticalTo(source,target);}
if(isTypeAny(target))
return-1 ;if(source===undefinedType)
return-1 ;if(source===nullType&&target!==undefinedType)
return-1 ;if(source.flags&128 &&target===numberType)
return-1 ;if(source.flags&128 &&target.flags&128 ){if(result=enumRelatedTo(source,target)){return result;}}
if(source.flags&256 &&target===stringType)
return-1 ;if(relation===assignableRelation){if(isTypeAny(source))
return-1 ;if(source===numberType&&target.flags&128 )
return-1 ;}
if(source.flags&8 &&target.flags&8 ){return-1 ;}
if(source.flags&1048576 ){if(hasExcessProperties(source,target,reportErrors)){if(reportErrors){reportRelationError(headMessage,source,target);}
return 0 ;}
if(target.flags&49152 ){source=getRegularTypeOfObjectLiteral(source);}}
var saveErrorInfo=errorInfo;if(source.flags&16384 ){if(result=eachTypeRelatedToType(source,target,reportErrors)){return result;}}
else if(target.flags&32768 ){if(result=typeRelatedToEachType(source,target,reportErrors)){return result;}}
else{if(source.flags&32768 ){if(result=someTypeRelatedToType(source,target,reportErrors&&!(target.flags&16384 ))){return result;}}
if(target.flags&16384 ){if(result=typeRelatedToSomeType(source,target,reportErrors)){return result;}}}
if(source.flags&512 ){var constraint=getConstraintOfTypeParameter(source);if(!constraint||constraint.flags&1 ){constraint=emptyObjectType;}
var reportConstraintErrors=reportErrors&&constraint!==emptyObjectType;if(result=isRelatedTo(constraint,target,reportConstraintErrors)){errorInfo=saveErrorInfo;return result;}}
else{if(source.flags&4096 &&target.flags&4096 &&source.target===target.target){if(result=typeArgumentsRelatedTo(source,target,reportErrors)){return result;}}
var apparentSource=getApparentType(source);if(apparentSource.flags&(80896 |32768 )&&target.flags&80896 ){var reportStructuralErrors=reportErrors&&errorInfo===saveErrorInfo&&!(source.flags&16777726 );if(result=objectTypeRelatedTo(apparentSource,source,target,reportStructuralErrors)){errorInfo=saveErrorInfo;return result;}}}
if(reportErrors){reportRelationError(headMessage,source,target);}
return 0 ;}
function isIdenticalTo(source,target){var result;if(source.flags&80896 &&target.flags&80896 ){if(source.flags&4096 &&target.flags&4096 &&source.target===target.target){if(result=typeArgumentsRelatedTo(source,target,false)){return result;}}
return objectTypeRelatedTo(source,source,target,false);}
if(source.flags&16384 &&target.flags&16384 ||source.flags&32768 &&target.flags&32768 ){if(result=eachTypeRelatedToSomeType(source,target)){if(result&=eachTypeRelatedToSomeType(target,source)){return result;}}}
return 0 ;}
function isKnownProperty(type,name){if(type.flags&80896 ){var resolved=resolveStructuredTypeMembers(type);if(relation===assignableRelation&&(type===globalObjectType||resolved.properties.length===0)||resolved.stringIndexType||resolved.numberIndexType||getPropertyOfType(type,name)){return true;}}
else if(type.flags&49152 ){for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(isKnownProperty(t,name)){return true;}}}
return false;}
function hasExcessProperties(source,target,reportErrors){if(!(target.flags&67108864 )&&someConstituentTypeHasKind(target,80896 )){for(var _i=0,_a=getPropertiesOfObjectType(source);_i<_a.length;_i++){var prop=_a[_i];if(!isKnownProperty(target,prop.name)){if(reportErrors){ts.Debug.assert(!!errorNode);errorNode=prop.valueDeclaration;reportError(ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(prop),typeToString(target));}
return true;}}}
return false;}
function eachTypeRelatedToSomeType(source,target){var result=-1 ;var sourceTypes=source.types;for(var _i=0,sourceTypes_1=sourceTypes;_i<sourceTypes_1.length;_i++){var sourceType=sourceTypes_1[_i];var related=typeRelatedToSomeType(sourceType,target,false);if(!related){return 0 ;}
result&=related;}
return result;}
function typeRelatedToSomeType(source,target,reportErrors){var targetTypes=target.types;for(var i=0,len=targetTypes.length;i<len;i++){var related=isRelatedTo(source,targetTypes[i],reportErrors&&i===len-1);if(related){return related;}}
return 0 ;}
function typeRelatedToEachType(source,target,reportErrors){var result=-1 ;var targetTypes=target.types;for(var _i=0,targetTypes_1=targetTypes;_i<targetTypes_1.length;_i++){var targetType=targetTypes_1[_i];var related=isRelatedTo(source,targetType,reportErrors);if(!related){return 0 ;}
result&=related;}
return result;}
function someTypeRelatedToType(source,target,reportErrors){var sourceTypes=source.types;for(var i=0,len=sourceTypes.length;i<len;i++){var related=isRelatedTo(sourceTypes[i],target,reportErrors&&i===len-1);if(related){return related;}}
return 0 ;}
function eachTypeRelatedToType(source,target,reportErrors){var result=-1 ;var sourceTypes=source.types;for(var _i=0,sourceTypes_2=sourceTypes;_i<sourceTypes_2.length;_i++){var sourceType=sourceTypes_2[_i];var related=isRelatedTo(sourceType,target,reportErrors);if(!related){return 0 ;}
result&=related;}
return result;}
function typeArgumentsRelatedTo(source,target,reportErrors){var sources=source.typeArguments||emptyArray;var targets=target.typeArguments||emptyArray;if(sources.length!==targets.length&&relation===identityRelation){return 0 ;}
var length=sources.length<=targets.length?sources.length:targets.length;var result=-1 ;for(var i=0;i<length;i++){var related=isRelatedTo(sources[i],targets[i],reportErrors);if(!related){return 0 ;}
result&=related;}
return result;}
function objectTypeRelatedTo(source,originalSource,target,reportErrors){if(overflow){return 0 ;}
var id=relation!==identityRelation||source.id<target.id?source.id+","+target.id:target.id+","+source.id;var related=relation[id];if(related!==undefined){if(reportErrors&&related===2 ){relation[id]=3 ;}
else{return related===1 ?-1 :0 ;}}
if(depth>0){for(var i=0;i<depth;i++){if(maybeStack[i][id]){return 1 ;}}
if(depth===100){overflow=true;return 0 ;}}
else{sourceStack=[];targetStack=[];maybeStack=[];expandingFlags=0;}
sourceStack[depth]=source;targetStack[depth]=target;maybeStack[depth]={};maybeStack[depth][id]=1 ;depth++;var saveExpandingFlags=expandingFlags;if(!(expandingFlags&1)&&isDeeplyNestedGeneric(source,sourceStack,depth))
expandingFlags|=1;if(!(expandingFlags&2)&&isDeeplyNestedGeneric(target,targetStack,depth))
expandingFlags|=2;var result;if(expandingFlags===3){result=1 ;}
else{result=propertiesRelatedTo(source,target,reportErrors);if(result){result&=signaturesRelatedTo(source,target,0 ,reportErrors);if(result){result&=signaturesRelatedTo(source,target,1 ,reportErrors);if(result){result&=stringIndexTypesRelatedTo(source,originalSource,target,reportErrors);if(result){result&=numberIndexTypesRelatedTo(source,originalSource,target,reportErrors);}}}}}
expandingFlags=saveExpandingFlags;depth--;if(result){var maybeCache=maybeStack[depth];var destinationCache=(result===-1 ||depth===0)?relation:maybeStack[depth-1];ts.copyMap(maybeCache,destinationCache);}
else{relation[id]=reportErrors?3 :2 ;}
return result;}
function propertiesRelatedTo(source,target,reportErrors){if(relation===identityRelation){return propertiesIdenticalTo(source,target);}
var result=-1 ;var properties=getPropertiesOfObjectType(target);var requireOptionalProperties=relation===subtypeRelation&&!(source.flags&524288 );for(var _i=0,properties_1=properties;_i<properties_1.length;_i++){var targetProp=properties_1[_i];var sourceProp=getPropertyOfType(source,targetProp.name);if(sourceProp!==targetProp){if(!sourceProp){if(!(targetProp.flags&536870912 )||requireOptionalProperties){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_missing_in_type_1,symbolToString(targetProp),typeToString(source));}
return 0 ;}}
else if(!(targetProp.flags&134217728 )){var sourcePropFlags=getDeclarationFlagsFromSymbol(sourceProp);var targetPropFlags=getDeclarationFlagsFromSymbol(targetProp);if(sourcePropFlags&16 ||targetPropFlags&16 ){if(sourceProp.valueDeclaration!==targetProp.valueDeclaration){if(reportErrors){if(sourcePropFlags&16 &&targetPropFlags&16 ){reportError(ts.Diagnostics.Types_have_separate_declarations_of_a_private_property_0,symbolToString(targetProp));}
else{reportError(ts.Diagnostics.Property_0_is_private_in_type_1_but_not_in_type_2,symbolToString(targetProp),typeToString(sourcePropFlags&16 ?source:target),typeToString(sourcePropFlags&16 ?target:source));}}
return 0 ;}}
else if(targetPropFlags&32 ){var sourceDeclaredInClass=sourceProp.parent&&sourceProp.parent.flags&32 ;var sourceClass=sourceDeclaredInClass?getDeclaredTypeOfSymbol(getParentOfSymbol(sourceProp)):undefined;var targetClass=getDeclaredTypeOfSymbol(getParentOfSymbol(targetProp));if(!sourceClass||!hasBaseType(sourceClass,targetClass)){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,symbolToString(targetProp),typeToString(sourceClass||source),typeToString(targetClass));}
return 0 ;}}
else if(sourcePropFlags&32 ){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_protected_in_type_1_but_public_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target));}
return 0 ;}
var related=isRelatedTo(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp),reportErrors);if(!related){if(reportErrors){reportError(ts.Diagnostics.Types_of_property_0_are_incompatible,symbolToString(targetProp));}
return 0 ;}
result&=related;if(sourceProp.flags&536870912 &&!(targetProp.flags&536870912 )){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_optional_in_type_1_but_required_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target));}
return 0 ;}}}}
return result;}
function propertiesIdenticalTo(source,target){if(!(source.flags&80896 &&target.flags&80896 )){return 0 ;}
var sourceProperties=getPropertiesOfObjectType(source);var targetProperties=getPropertiesOfObjectType(target);if(sourceProperties.length!==targetProperties.length){return 0 ;}
var result=-1 ;for(var _i=0,sourceProperties_1=sourceProperties;_i<sourceProperties_1.length;_i++){var sourceProp=sourceProperties_1[_i];var targetProp=getPropertyOfObjectType(target,sourceProp.name);if(!targetProp){return 0 ;}
var related=compareProperties(sourceProp,targetProp,isRelatedTo);if(!related){return 0 ;}
result&=related;}
return result;}
function signaturesRelatedTo(source,target,kind,reportErrors){if(relation===identityRelation){return signaturesIdenticalTo(source,target,kind);}
if(target===anyFunctionType||source===anyFunctionType){return-1 ;}
var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);if(kind===1 &&sourceSignatures.length&&targetSignatures.length&&isAbstractConstructorType(source)&&!isAbstractConstructorType(target)){if(reportErrors){reportError(ts.Diagnostics.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type);}
return 0 ;}
var result=-1 ;var saveErrorInfo=errorInfo;outer:for(var _i=0,targetSignatures_1=targetSignatures;_i<targetSignatures_1.length;_i++){var t=targetSignatures_1[_i];if(!t.hasStringLiterals||target.flags&262144 ){var shouldElaborateErrors=reportErrors;for(var _a=0,sourceSignatures_1=sourceSignatures;_a<sourceSignatures_1.length;_a++){var s=sourceSignatures_1[_a];if(!s.hasStringLiterals||source.flags&262144 ){var related=signatureRelatedTo(s,t,shouldElaborateErrors);if(related){result&=related;errorInfo=saveErrorInfo;continue outer;}
shouldElaborateErrors=false;}}
if(shouldElaborateErrors){reportError(ts.Diagnostics.Type_0_provides_no_match_for_the_signature_1,typeToString(source),signatureToString(t,undefined,undefined,kind));}
return 0 ;}}
return result;}
function signatureRelatedTo(source,target,reportErrors){return compareSignaturesRelated(source,target,false,reportErrors,reportError,isRelatedTo);}
function signaturesIdenticalTo(source,target,kind){var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);if(sourceSignatures.length!==targetSignatures.length){return 0 ;}
var result=-1 ;for(var i=0,len=sourceSignatures.length;i<len;i++){var related=compareSignaturesIdentical(sourceSignatures[i],targetSignatures[i],false,false,isRelatedTo);if(!related){return 0 ;}
result&=related;}
return result;}
function stringIndexTypesRelatedTo(source,originalSource,target,reportErrors){if(relation===identityRelation){return indexTypesIdenticalTo(0 ,source,target);}
var targetType=getIndexTypeOfType(target,0 );if(targetType){if((targetType.flags&1 )&&!(originalSource.flags&16777726 )){return-1 ;}
var sourceType=getIndexTypeOfType(source,0 );if(!sourceType){if(reportErrors){reportError(ts.Diagnostics.Index_signature_is_missing_in_type_0,typeToString(source));}
return 0 ;}
var related=isRelatedTo(sourceType,targetType,reportErrors);if(!related){if(reportErrors){reportError(ts.Diagnostics.Index_signatures_are_incompatible);}
return 0 ;}
return related;}
return-1 ;}
function numberIndexTypesRelatedTo(source,originalSource,target,reportErrors){if(relation===identityRelation){return indexTypesIdenticalTo(1 ,source,target);}
var targetType=getIndexTypeOfType(target,1 );if(targetType){if((targetType.flags&1 )&&!(originalSource.flags&16777726 )){return-1 ;}
var sourceStringType=getIndexTypeOfType(source,0 );var sourceNumberType=getIndexTypeOfType(source,1 );if(!(sourceStringType||sourceNumberType)){if(reportErrors){reportError(ts.Diagnostics.Index_signature_is_missing_in_type_0,typeToString(source));}
return 0 ;}
var related=void 0;if(sourceStringType&&sourceNumberType){related=isRelatedTo(sourceStringType,targetType,false)||isRelatedTo(sourceNumberType,targetType,reportErrors);}
else{related=isRelatedTo(sourceStringType||sourceNumberType,targetType,reportErrors);}
if(!related){if(reportErrors){reportError(ts.Diagnostics.Index_signatures_are_incompatible);}
return 0 ;}
return related;}
return-1 ;}
function indexTypesIdenticalTo(indexKind,source,target){var targetType=getIndexTypeOfType(target,indexKind);var sourceType=getIndexTypeOfType(source,indexKind);if(!sourceType&&!targetType){return-1 ;}
if(sourceType&&targetType){return isRelatedTo(sourceType,targetType);}
return 0 ;}
function enumRelatedTo(source,target){if(source.symbol.name!==target.symbol.name||source.symbol.flags&128 ||target.symbol.flags&128 ){return 0 ;}
var targetEnumType=getTypeOfSymbol(target.symbol);for(var _i=0,_a=getPropertiesOfType(getTypeOfSymbol(source.symbol));_i<_a.length;_i++){var property=_a[_i];if(property.flags&8 ){var targetProperty=getPropertyOfType(targetEnumType,property.name);if(!targetProperty||!(targetProperty.flags&8 )){reportError(ts.Diagnostics.Property_0_is_missing_in_type_1,property.name,typeToString(target,undefined,128 ));return 0 ;}}}
return-1 ;}}
function isAbstractConstructorType(type){if(type.flags&65536 ){var symbol=type.symbol;if(symbol&&symbol.flags&32 ){var declaration=getClassLikeDeclarationOfSymbol(symbol);if(declaration&&declaration.flags&128 ){return true;}}}
return false;}
function isDeeplyNestedGeneric(type,stack,depth){if(type.flags&(4096 |131072 )&&depth>=5){var symbol=type.symbol;var count=0;for(var i=0;i<depth;i++){var t=stack[i];if(t.flags&(4096 |131072 )&&t.symbol===symbol){count++;if(count>=5)
return true;}}}
return false;}
function isPropertyIdenticalTo(sourceProp,targetProp){return compareProperties(sourceProp,targetProp,compareTypesIdentical)!==0 ;}
function compareProperties(sourceProp,targetProp,compareTypes){if(sourceProp===targetProp){return-1 ;}
var sourcePropAccessibility=getDeclarationFlagsFromSymbol(sourceProp)&(16 |32 );var targetPropAccessibility=getDeclarationFlagsFromSymbol(targetProp)&(16 |32 );if(sourcePropAccessibility!==targetPropAccessibility){return 0 ;}
if(sourcePropAccessibility){if(getTargetSymbol(sourceProp)!==getTargetSymbol(targetProp)){return 0 ;}}
else{if((sourceProp.flags&536870912 )!==(targetProp.flags&536870912 )){return 0 ;}}
return compareTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp));}
function isMatchingSignature(source,target,partialMatch){if(source.parameters.length===target.parameters.length&&source.minArgumentCount===target.minArgumentCount&&source.hasRestParameter===target.hasRestParameter){return true;}
if(partialMatch&&source.minArgumentCount<=target.minArgumentCount&&(source.hasRestParameter&&!target.hasRestParameter||source.hasRestParameter===target.hasRestParameter&&source.parameters.length>=target.parameters.length)){return true;}
return false;}
function compareSignaturesIdentical(source,target,partialMatch,ignoreReturnTypes,compareTypes){if(source===target){return-1 ;}
if(!(isMatchingSignature(source,target,partialMatch))){return 0 ;}
if((source.typeParameters?source.typeParameters.length:0)!==(target.typeParameters?target.typeParameters.length:0)){return 0 ;}
source=getErasedSignature(source);target=getErasedSignature(target);var result=-1 ;var targetLen=target.parameters.length;for(var i=0;i<targetLen;i++){var s=isRestParameterIndex(source,i)?getRestTypeOfSignature(source):getTypeOfSymbol(source.parameters[i]);var t=isRestParameterIndex(target,i)?getRestTypeOfSignature(target):getTypeOfSymbol(target.parameters[i]);var related=compareTypes(s,t);if(!related){return 0 ;}
result&=related;}
if(!ignoreReturnTypes){result&=compareTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target));}
return result;}
function isRestParameterIndex(signature,parameterIndex){return signature.hasRestParameter&&parameterIndex>=signature.parameters.length-1;}
function isSupertypeOfEach(candidate,types){for(var _i=0,types_6=types;_i<types_6.length;_i++){var type=types_6[_i];if(candidate!==type&&!isTypeSubtypeOf(type,candidate))
return false;}
return true;}
function getCommonSupertype(types){return ts.forEach(types,function(t){return isSupertypeOfEach(t,types)?t:undefined;});}
function reportNoCommonSupertypeError(types,errorLocation,errorMessageChainHead){var bestSupertype;var bestSupertypeDownfallType;var bestSupertypeScore=0;for(var i=0;i<types.length;i++){var score=0;var downfallType=undefined;for(var j=0;j<types.length;j++){if(isTypeSubtypeOf(types[j],types[i])){score++;}
else if(!downfallType){downfallType=types[j];}}
ts.Debug.assert(!!downfallType,"If there is no common supertype, each type should have a downfallType");if(score>bestSupertypeScore){bestSupertype=types[i];bestSupertypeDownfallType=downfallType;bestSupertypeScore=score;}
if(bestSupertypeScore===types.length-1){break;}}
checkTypeSubtypeOf(bestSupertypeDownfallType,bestSupertype,errorLocation,ts.Diagnostics.Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0,errorMessageChainHead);}
function isArrayType(type){return type.flags&4096 &&type.target===globalArrayType;}
function isArrayLikeType(type){return!(type.flags&(32 |64 ))&&isTypeAssignableTo(type,anyArrayType);}
function isTupleLikeType(type){return!!getPropertyOfType(type,"0");}
function isStringLiteralType(type){return type.flags&256 ;}
function isTupleType(type){return!!(type.flags&8192 );}
function getRegularTypeOfObjectLiteral(type){if(type.flags&1048576 ){var regularType=type.regularType;if(!regularType){regularType=createType(type.flags&~1048576 );regularType.symbol=type.symbol;regularType.members=type.members;regularType.properties=type.properties;regularType.callSignatures=type.callSignatures;regularType.constructSignatures=type.constructSignatures;regularType.stringIndexType=type.stringIndexType;regularType.numberIndexType=type.numberIndexType;type.regularType=regularType;}
return regularType;}
return type;}
function getWidenedTypeOfObjectLiteral(type){var properties=getPropertiesOfObjectType(type);var members={};ts.forEach(properties,function(p){var propType=getTypeOfSymbol(p);var widenedType=getWidenedType(propType);if(propType!==widenedType){var symbol=createSymbol(p.flags|67108864 ,p.name);symbol.declarations=p.declarations;symbol.parent=p.parent;symbol.type=widenedType;symbol.target=p;if(p.valueDeclaration)
symbol.valueDeclaration=p.valueDeclaration;p=symbol;}
members[p.name]=p;});var stringIndexType=getIndexTypeOfType(type,0 );var numberIndexType=getIndexTypeOfType(type,1 );if(stringIndexType)
stringIndexType=getWidenedType(stringIndexType);if(numberIndexType)
numberIndexType=getWidenedType(numberIndexType);return createAnonymousType(type.symbol,members,emptyArray,emptyArray,stringIndexType,numberIndexType);}
function getWidenedType(type){if(type.flags&6291456 ){if(type.flags&(32 |64 )){return anyType;}
if(type.flags&524288 ){return getWidenedTypeOfObjectLiteral(type);}
if(type.flags&16384 ){return getUnionType(ts.map(type.types,getWidenedType),true);}
if(isArrayType(type)){return createArrayType(getWidenedType(type.typeArguments[0]));}
if(isTupleType(type)){return createTupleType(ts.map(type.elementTypes,getWidenedType));}}
return type;}
function reportWideningErrorsInType(type){var errorReported=false;if(type.flags&16384 ){for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(reportWideningErrorsInType(t)){errorReported=true;}}}
if(isArrayType(type)){return reportWideningErrorsInType(type.typeArguments[0]);}
if(isTupleType(type)){for(var _b=0,_c=type.elementTypes;_b<_c.length;_b++){var t=_c[_b];if(reportWideningErrorsInType(t)){errorReported=true;}}}
if(type.flags&524288 ){for(var _d=0,_e=getPropertiesOfObjectType(type);_d<_e.length;_d++){var p=_e[_d];var t=getTypeOfSymbol(p);if(t.flags&2097152 ){if(!reportWideningErrorsInType(t)){error(p.valueDeclaration,ts.Diagnostics.Object_literal_s_property_0_implicitly_has_an_1_type,p.name,typeToString(getWidenedType(t)));}
errorReported=true;}}}
return errorReported;}
function reportImplicitAnyError(declaration,type){var typeAsString=typeToString(getWidenedType(type));var diagnostic;switch(declaration.kind){case 142 :case 141 :diagnostic=ts.Diagnostics.Member_0_implicitly_has_an_1_type;break;case 139 :diagnostic=declaration.dotDotDotToken?ts.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type:ts.Diagnostics.Parameter_0_implicitly_has_an_1_type;break;case 216 :case 144 :case 143 :case 146 :case 147 :case 176 :case 177 :if(!declaration.name){error(declaration,ts.Diagnostics.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,typeAsString);return;}
diagnostic=ts.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type;break;default:diagnostic=ts.Diagnostics.Variable_0_implicitly_has_an_1_type;}
error(declaration,diagnostic,ts.declarationNameToString(declaration.name),typeAsString);}
function reportErrorsFromWidening(declaration,type){if(produceDiagnostics&&compilerOptions.noImplicitAny&&type.flags&2097152 ){if(!reportWideningErrorsInType(type)){reportImplicitAnyError(declaration,type);}}}
function forEachMatchingParameterType(source,target,callback){var sourceMax=source.parameters.length;var targetMax=target.parameters.length;var count;if(source.hasRestParameter&&target.hasRestParameter){count=sourceMax>targetMax?sourceMax:targetMax;sourceMax--;targetMax--;}
else if(source.hasRestParameter){sourceMax--;count=targetMax;}
else if(target.hasRestParameter){targetMax--;count=sourceMax;}
else{count=sourceMax<targetMax?sourceMax:targetMax;}
for(var i=0;i<count;i++){var s=i<sourceMax?getTypeOfSymbol(source.parameters[i]):getRestTypeOfSignature(source);var t=i<targetMax?getTypeOfSymbol(target.parameters[i]):getRestTypeOfSignature(target);callback(s,t);}}
function createInferenceContext(typeParameters,inferUnionTypes){var inferences=ts.map(typeParameters,createTypeInferencesObject);return{typeParameters:typeParameters,inferUnionTypes:inferUnionTypes,inferences:inferences,inferredTypes:new Array(typeParameters.length)};}
function createTypeInferencesObject(){return{primary:undefined,secondary:undefined,isFixed:false};}
function inferTypes(context,source,target){var sourceStack;var targetStack;var maxDepth=5;var depth=0;var inferiority=0;var visited={};inferFromTypes(source,target);function isInProcess(source,target){for(var i=0;i<depth;i++){if(source===sourceStack[i]&&target===targetStack[i]){return true;}}
return false;}
function inferFromTypes(source,target){if(source.flags&16384 &&target.flags&16384 ||source.flags&32768 &&target.flags&32768 ){var matchingTypes=void 0;for(var _i=0,_a=target.types;_i<_a.length;_i++){var t=_a[_i];if(typeIdenticalToSomeType(t,source.types)){(matchingTypes||(matchingTypes=[])).push(t);inferFromTypes(t,t);}}
if(matchingTypes){source=removeTypesFromUnionOrIntersection(source,matchingTypes);target=removeTypesFromUnionOrIntersection(target,matchingTypes);}}
if(target.flags&512 ){if(source.flags&8388608 ){return;}
var typeParameters=context.typeParameters;for(var i=0;i<typeParameters.length;i++){if(target===typeParameters[i]){var inferences=context.inferences[i];if(!inferences.isFixed){var candidates=inferiority?inferences.secondary||(inferences.secondary=[]):inferences.primary||(inferences.primary=[]);if(!ts.contains(candidates,source)){candidates.push(source);}}
return;}}}
else if(source.flags&4096 &&target.flags&4096 &&source.target===target.target){var sourceTypes=source.typeArguments||emptyArray;var targetTypes=target.typeArguments||emptyArray;var count=sourceTypes.length<targetTypes.length?sourceTypes.length:targetTypes.length;for(var i=0;i<count;i++){inferFromTypes(sourceTypes[i],targetTypes[i]);}}
else if(source.flags&8192 &&target.flags&8192 &&source.elementTypes.length===target.elementTypes.length){var sourceTypes=source.elementTypes;var targetTypes=target.elementTypes;for(var i=0;i<sourceTypes.length;i++){inferFromTypes(sourceTypes[i],targetTypes[i]);}}
else if(target.flags&49152 ){var targetTypes=target.types;var typeParameterCount=0;var typeParameter=void 0;for(var _b=0,targetTypes_2=targetTypes;_b<targetTypes_2.length;_b++){var t=targetTypes_2[_b];if(t.flags&512 &&ts.contains(context.typeParameters,t)){typeParameter=t;typeParameterCount++;}
else{inferFromTypes(source,t);}}
if(target.flags&16384 &&typeParameterCount===1){inferiority++;inferFromTypes(source,typeParameter);inferiority--;}}
else if(source.flags&49152 ){var sourceTypes=source.types;for(var _c=0,sourceTypes_3=sourceTypes;_c<sourceTypes_3.length;_c++){var sourceType=sourceTypes_3[_c];inferFromTypes(sourceType,target);}}
else{source=getApparentType(source);if(source.flags&80896 &&(target.flags&4096 &&target.typeArguments||target.flags&8192 ||target.flags&65536 &&target.symbol&&target.symbol.flags&(8192 |2048 |32 ))){if(isInProcess(source,target)){return;}
if(depth>maxDepth){return;}
if(isDeeplyNestedGeneric(source,sourceStack,depth)&&isDeeplyNestedGeneric(target,targetStack,depth)){return;}
var key=source.id+","+target.id;if(ts.hasProperty(visited,key)){return;}
visited[key]=true;if(depth===0){sourceStack=[];targetStack=[];}
sourceStack[depth]=source;targetStack[depth]=target;depth++;inferFromProperties(source,target);inferFromSignatures(source,target,0 );inferFromSignatures(source,target,1 );inferFromIndexTypes(source,target,0 ,0 );inferFromIndexTypes(source,target,1 ,1 );inferFromIndexTypes(source,target,0 ,1 );depth--;}}}
function inferFromProperties(source,target){var properties=getPropertiesOfObjectType(target);for(var _i=0,properties_2=properties;_i<properties_2.length;_i++){var targetProp=properties_2[_i];var sourceProp=getPropertyOfObjectType(source,targetProp.name);if(sourceProp){inferFromTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp));}}}
function inferFromSignatures(source,target,kind){var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);var sourceLen=sourceSignatures.length;var targetLen=targetSignatures.length;var len=sourceLen<targetLen?sourceLen:targetLen;for(var i=0;i<len;i++){inferFromSignature(getErasedSignature(sourceSignatures[sourceLen-len+i]),getErasedSignature(targetSignatures[targetLen-len+i]));}}
function inferFromSignature(source,target){forEachMatchingParameterType(source,target,inferFromTypes);if(source.typePredicate&&target.typePredicate&&source.typePredicate.kind===target.typePredicate.kind){inferFromTypes(source.typePredicate.type,target.typePredicate.type);}
else{inferFromTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target));}}
function inferFromIndexTypes(source,target,sourceKind,targetKind){var targetIndexType=getIndexTypeOfType(target,targetKind);if(targetIndexType){var sourceIndexType=getIndexTypeOfType(source,sourceKind);if(sourceIndexType){inferFromTypes(sourceIndexType,targetIndexType);}}}}
function typeIdenticalToSomeType(type,types){for(var _i=0,types_7=types;_i<types_7.length;_i++){var t=types_7[_i];if(isTypeIdenticalTo(t,type)){return true;}}
return false;}
function removeTypesFromUnionOrIntersection(type,typesToRemove){var reducedTypes=[];for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(!typeIdenticalToSomeType(t,typesToRemove)){reducedTypes.push(t);}}
return type.flags&16384 ?getUnionType(reducedTypes,true):getIntersectionType(reducedTypes);}
function getInferenceCandidates(context,index){var inferences=context.inferences[index];return inferences.primary||inferences.secondary||emptyArray;}
function getInferredType(context,index){var inferredType=context.inferredTypes[index];var inferenceSucceeded;if(!inferredType){var inferences=getInferenceCandidates(context,index);if(inferences.length){var unionOrSuperType=context.inferUnionTypes?getUnionType(inferences):getCommonSupertype(inferences);inferredType=unionOrSuperType?getWidenedType(unionOrSuperType):unknownType;inferenceSucceeded=!!unionOrSuperType;}
else{inferredType=emptyObjectType;inferenceSucceeded=true;}
context.inferredTypes[index]=inferredType;if(inferenceSucceeded){var constraint=getConstraintOfTypeParameter(context.typeParameters[index]);if(constraint){var instantiatedConstraint=instantiateType(constraint,getInferenceMapper(context));if(!isTypeAssignableTo(inferredType,getTypeWithThisArgument(instantiatedConstraint,inferredType))){context.inferredTypes[index]=inferredType=instantiatedConstraint;}}}
else if(context.failedTypeParameterIndex===undefined||context.failedTypeParameterIndex>index){context.failedTypeParameterIndex=index;}}
return inferredType;}
function getInferredTypes(context){for(var i=0;i<context.inferredTypes.length;i++){getInferredType(context,i);}
return context.inferredTypes;}
function getResolvedSymbol(node){var links=getNodeLinks(node);if(!links.resolvedSymbol){links.resolvedSymbol=(!ts.nodeIsMissing(node)&&resolveName(node,node.text,107455 |1048576 ,ts.Diagnostics.Cannot_find_name_0,node))||unknownSymbol;}
return links.resolvedSymbol;}
function isInTypeQuery(node){while(node){switch(node.kind){case 155 :return true;case 69 :case 136 :node=node.parent;continue;default:return false;}}
ts.Debug.fail("should not get here");}
function hasInitializer(node){return!!(node.initializer||ts.isBindingPattern(node.parent)&&hasInitializer(node.parent.parent));}
function isVariableAssignedWithin(symbol,node){var links=getNodeLinks(node);if(links.assignmentChecks){var cachedResult=links.assignmentChecks[symbol.id];if(cachedResult!==undefined){return cachedResult;}}
else{links.assignmentChecks={};}
return links.assignmentChecks[symbol.id]=isAssignedIn(node);function isAssignedInBinaryExpression(node){if(node.operatorToken.kind>=56 &&node.operatorToken.kind<=68 ){var n=skipParenthesizedNodes(node.left);if(n.kind===69 &&getResolvedSymbol(n)===symbol){return true;}}
return ts.forEachChild(node,isAssignedIn);}
function isAssignedInVariableDeclaration(node){if(!ts.isBindingPattern(node.name)&&getSymbolOfNode(node)===symbol&&hasInitializer(node)){return true;}
return ts.forEachChild(node,isAssignedIn);}
function isAssignedIn(node){switch(node.kind){case 184 :return isAssignedInBinaryExpression(node);case 214 :case 166 :return isAssignedInVariableDeclaration(node);case 164 :case 165 :case 167 :case 168 :case 169 :case 170 :case 171 :case 172 :case 174 :case 192 :case 175 :case 182 :case 178 :case 181 :case 179 :case 180 :case 183 :case 187 :case 185 :case 188 :case 195 :case 196 :case 198 :case 199 :case 200 :case 201 :case 202 :case 203 :case 204 :case 207 :case 208 :case 209 :case 244 :case 245 :case 210 :case 211 :case 212 :case 247 :case 236 :case 237 :case 241 :case 242 :case 238 :case 243 :return ts.forEachChild(node,isAssignedIn);}
return false;}}
function getNarrowedTypeOfSymbol(symbol,node){var type=getTypeOfSymbol(symbol);if(node&&symbol.flags&3 ){if(isTypeAny(type)||type.flags&(80896 |16384 |512 )){var declaration=ts.getDeclarationOfKind(symbol,214 );var top_1=declaration&&getDeclarationContainer(declaration);var originalType=type;var nodeStack=[];loop:while(node.parent){var child=node;node=node.parent;switch(node.kind){case 199 :case 185 :case 184 :nodeStack.push({node:node,child:child});break;case 251 :case 221 :break loop;}
if(node===top_1){break;}}
var nodes=void 0;while(nodes=nodeStack.pop()){var node_1=nodes.node,child=nodes.child;switch(node_1.kind){case 199 :if(child!==node_1.expression){type=narrowType(type,node_1.expression,child===node_1.thenStatement);}
break;case 185 :if(child!==node_1.condition){type=narrowType(type,node_1.condition,child===node_1.whenTrue);}
break;case 184 :if(child===node_1.right){if(node_1.operatorToken.kind===51 ){type=narrowType(type,node_1.left,true);}
else if(node_1.operatorToken.kind===52 ){type=narrowType(type,node_1.left,false);}}
break;default:ts.Debug.fail("Unreachable!");}
if(type!==originalType&&isVariableAssignedWithin(symbol,node_1)){type=originalType;}}
if(type===emptyUnionType){type=originalType;}}}
return type;function narrowTypeByEquality(type,expr,assumeTrue){if(expr.left.kind!==179 ||expr.right.kind!==9 ){return type;}
var left=expr.left;var right=expr.right;if(left.expression.kind!==69 ||getResolvedSymbol(left.expression)!==symbol){return type;}
if(expr.operatorToken.kind===33 ){assumeTrue=!assumeTrue;}
var typeInfo=primitiveTypeInfo[right.text];if(typeInfo&&typeInfo.type===undefinedType){return type;}
var flags;if(typeInfo){flags=typeInfo.flags;}
else{assumeTrue=!assumeTrue;flags=132 |258 |16777216 |8 ;}
if(!(type.flags&16384 )){if(assumeTrue&&typeInfo&&isTypeSubtypeOf(typeInfo.type,type)){return typeInfo.type;}
return filterUnion(type)?type:emptyUnionType;}
return getUnionType(ts.filter(type.types,filterUnion),true);function filterUnion(type){return assumeTrue===!!(type.flags&flags);}}
function narrowTypeByAnd(type,expr,assumeTrue){if(assumeTrue){return narrowType(narrowType(type,expr.left,true),expr.right,true);}
else{return getUnionType([narrowType(type,expr.left,false),narrowType(type,expr.right,false)]);}}
function narrowTypeByOr(type,expr,assumeTrue){if(assumeTrue){return getUnionType([narrowType(type,expr.left,true),narrowType(type,expr.right,true)]);}
else{return narrowType(narrowType(type,expr.left,false),expr.right,false);}}
function narrowTypeByInstanceof(type,expr,assumeTrue){if(isTypeAny(type)||expr.left.kind!==69 ||getResolvedSymbol(expr.left)!==symbol){return type;}
var rightType=checkExpression(expr.right);if(!isTypeSubtypeOf(rightType,globalFunctionType)){return type;}
var targetType;var prototypeProperty=getPropertyOfType(rightType,"prototype");if(prototypeProperty){var prototypePropertyType=getTypeOfSymbol(prototypeProperty);if(!isTypeAny(prototypePropertyType)){targetType=prototypePropertyType;}}
if(!targetType){var constructSignatures=void 0;if(rightType.flags&2048 ){constructSignatures=resolveDeclaredMembers(rightType).declaredConstructSignatures;}
else if(rightType.flags&65536 ){constructSignatures=getSignaturesOfType(rightType,1 );}
if(constructSignatures&&constructSignatures.length){targetType=getUnionType(ts.map(constructSignatures,function(signature){return getReturnTypeOfSignature(getErasedSignature(signature));}));}}
if(targetType){return getNarrowedType(type,targetType,assumeTrue);}
return type;}
function getNarrowedType(originalType,narrowedTypeCandidate,assumeTrue){if(!assumeTrue){if(originalType.flags&16384 ){return getUnionType(ts.filter(originalType.types,function(t){return!isTypeSubtypeOf(t,narrowedTypeCandidate);}));}
return originalType;}
if(originalType.flags&16384 ){var assignableConstituents=ts.filter(originalType.types,function(t){return isTypeAssignableTo(t,narrowedTypeCandidate);});if(assignableConstituents.length){return getUnionType(assignableConstituents);}}
if(isTypeAssignableTo(narrowedTypeCandidate,originalType)){return narrowedTypeCandidate;}
return originalType;}
function narrowTypeByTypePredicate(type,callExpression,assumeTrue){if(type.flags&1 ){return type;}
var signature=getResolvedSignature(callExpression);var predicate=signature.typePredicate;if(!predicate){return type;}
if(ts.isIdentifierTypePredicate(predicate)){if(callExpression.arguments[predicate.parameterIndex]&&getSymbolAtTypePredicatePosition(callExpression.arguments[predicate.parameterIndex])===symbol){return getNarrowedType(type,predicate.type,assumeTrue);}}
else{var invokedExpression=skipParenthesizedNodes(callExpression.expression);return narrowTypeByThisTypePredicate(type,predicate,invokedExpression,assumeTrue);}
return type;}
function narrowTypeByThisTypePredicate(type,predicate,invokedExpression,assumeTrue){if(invokedExpression.kind===170 ||invokedExpression.kind===169 ){var accessExpression=invokedExpression;var possibleIdentifier=skipParenthesizedNodes(accessExpression.expression);if(possibleIdentifier.kind===69 &&getSymbolAtTypePredicatePosition(possibleIdentifier)===symbol){return getNarrowedType(type,predicate.type,assumeTrue);}}
return type;}
function getSymbolAtTypePredicatePosition(expr){expr=skipParenthesizedNodes(expr);switch(expr.kind){case 69 :case 169 :return getSymbolOfEntityNameOrPropertyAccessExpression(expr);}}
function narrowType(type,expr,assumeTrue){switch(expr.kind){case 171 :return narrowTypeByTypePredicate(type,expr,assumeTrue);case 175 :return narrowType(type,expr.expression,assumeTrue);case 184 :var operator=expr.operatorToken.kind;if(operator===32 ||operator===33 ){return narrowTypeByEquality(type,expr,assumeTrue);}
else if(operator===51 ){return narrowTypeByAnd(type,expr,assumeTrue);}
else if(operator===52 ){return narrowTypeByOr(type,expr,assumeTrue);}
else if(operator===91 ){return narrowTypeByInstanceof(type,expr,assumeTrue);}
break;case 182 :if(expr.operator===49 ){return narrowType(type,expr.operand,!assumeTrue);}
break;}
return type;}}
function skipParenthesizedNodes(expression){while(expression.kind===175 ){expression=expression.expression;}
return expression;}
function checkIdentifier(node){var symbol=getResolvedSymbol(node);if(symbol===argumentsSymbol){var container=ts.getContainingFunction(node);if(container.kind===177 ){if(languageVersion<2 ){error(node,ts.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression);}}
if(node.parserContextFlags&8 ){getNodeLinks(container).flags|=8192 ;}}
if(symbol.flags&8388608 &&!isInTypeQuery(node)&&!isConstEnumOrConstEnumOnlyModule(resolveAlias(symbol))){markAliasSymbolAsReferenced(symbol);}
var localOrExportSymbol=getExportSymbolOfValueSymbolIfExported(symbol);if(languageVersion===2 &&localOrExportSymbol.flags&32 &&localOrExportSymbol.valueDeclaration.kind===217 &&ts.nodeIsDecorated(localOrExportSymbol.valueDeclaration)){var container=ts.getContainingClass(node);while(container!==undefined){if(container===localOrExportSymbol.valueDeclaration&&container.name!==node){getNodeLinks(container).flags|=524288 ;getNodeLinks(node).flags|=1048576 ;break;}
container=ts.getContainingClass(container);}}
checkCollisionWithCapturedSuperVariable(node,node);checkCollisionWithCapturedThisVariable(node,node);checkNestedBlockScopedBinding(node,symbol);return getNarrowedTypeOfSymbol(localOrExportSymbol,node);}
function isInsideFunction(node,threshold){var current=node;while(current&&current!==threshold){if(ts.isFunctionLike(current)){return true;}
current=current.parent;}
return false;}
function checkNestedBlockScopedBinding(node,symbol){if(languageVersion>=2 ||(symbol.flags&(2 |32 ))===0||symbol.valueDeclaration.parent.kind===247 ){return;}
var container=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration);var usedInFunction=isInsideFunction(node.parent,container);var current=container;var containedInIterationStatement=false;while(current&&!ts.nodeStartsNewLexicalEnvironment(current)){if(ts.isIterationStatement(current,false)){containedInIterationStatement=true;break;}
current=current.parent;}
if(containedInIterationStatement){if(usedInFunction){getNodeLinks(current).flags|=65536 ;}
if(container.kind===202 &&ts.getAncestor(symbol.valueDeclaration,215 ).parent===container&&isAssignedInBodyOfForStatement(node,container)){getNodeLinks(symbol.valueDeclaration).flags|=2097152 ;}
getNodeLinks(symbol.valueDeclaration).flags|=262144 ;}
if(usedInFunction){getNodeLinks(symbol.valueDeclaration).flags|=131072 ;}}
function isAssignedInBodyOfForStatement(node,container){var current=node;while(current.parent.kind===175 ){current=current.parent;}
var isAssigned=false;if(current.parent.kind===184 ){isAssigned=current.parent.left===current&&ts.isAssignmentOperator(current.parent.operatorToken.kind);}
if((current.parent.kind===182 ||current.parent.kind===183 )){var expr=current.parent;isAssigned=expr.operator===41 ||expr.operator===42 ;}
if(!isAssigned){return false;}
while(current!==container){if(current===container.statement){return true;}
else{current=current.parent;}}
return false;}
function captureLexicalThis(node,container){getNodeLinks(node).flags|=2 ;if(container.kind===142 ||container.kind===145 ){var classNode=container.parent;getNodeLinks(classNode).flags|=4 ;}
else{getNodeLinks(container).flags|=4 ;}}
function findFirstSuperCall(n){if(ts.isSuperCallExpression(n)){return n;}
else if(ts.isFunctionLike(n)){return undefined;}
return ts.forEachChild(n,findFirstSuperCall);}
function getSuperCallInConstructor(constructor){var links=getNodeLinks(constructor);if(links.hasSuperCall===undefined){links.superCall=findFirstSuperCall(constructor.body);links.hasSuperCall=links.superCall?true:false;}
return links.superCall;}
function classDeclarationExtendsNull(classDecl){var classSymbol=getSymbolOfNode(classDecl);var classInstanceType=getDeclaredTypeOfSymbol(classSymbol);var baseConstructorType=getBaseConstructorTypeOfClass(classInstanceType);return baseConstructorType===nullType;}
function checkThisExpression(node){var container=ts.getThisContainer(node,true);var needToCaptureLexicalThis=false;if(container.kind===145 ){var containingClassDecl=container.parent;var baseTypeNode=ts.getClassExtendsHeritageClauseElement(containingClassDecl);if(baseTypeNode&&!classDeclarationExtendsNull(containingClassDecl)){var superCall=getSuperCallInConstructor(container);if(!superCall||superCall.end>node.pos){error(node,ts.Diagnostics.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class);}}}
if(container.kind===177 ){container=ts.getThisContainer(container,false);needToCaptureLexicalThis=(languageVersion<2 );}
switch(container.kind){case 221 :error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 220 :error(node,ts.Diagnostics.this_cannot_be_referenced_in_current_location);break;case 145 :if(isInConstructorArgumentInitializer(node,container)){error(node,ts.Diagnostics.this_cannot_be_referenced_in_constructor_arguments);}
break;case 142 :case 141 :if(container.flags&64 ){error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_static_property_initializer);}
break;case 137 :error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_computed_property_name);break;}
if(needToCaptureLexicalThis){captureLexicalThis(node,container);}
if(ts.isClassLike(container.parent)){var symbol=getSymbolOfNode(container.parent);return container.flags&64 ?getTypeOfSymbol(symbol):getDeclaredTypeOfSymbol(symbol).thisType;}
if(ts.isInJavaScriptFile(node)){var type=getTypeForThisExpressionFromJSDoc(container);if(type&&type!==unknownType){return type;}
if(container.kind===176 ){if(ts.getSpecialPropertyAssignmentKind(container.parent)===3 ){var className=container.parent.left.expression.expression;var classSymbol=checkExpression(className).symbol;if(classSymbol&&classSymbol.members&&(classSymbol.flags&16 )){return getInferredClassType(classSymbol);}}}}
return anyType;}
function getTypeForThisExpressionFromJSDoc(node){var typeTag=ts.getJSDocTypeTag(node);if(typeTag&&typeTag.typeExpression&&typeTag.typeExpression.type&&typeTag.typeExpression.type.kind===264 ){var jsDocFunctionType=typeTag.typeExpression.type;if(jsDocFunctionType.parameters.length>0&&jsDocFunctionType.parameters[0].type.kind===267 ){return getTypeFromTypeNode(jsDocFunctionType.parameters[0].type);}}}
function isInConstructorArgumentInitializer(node,constructorDecl){for(var n=node;n&&n!==constructorDecl;n=n.parent){if(n.kind===139 ){return true;}}
return false;}
function checkSuperExpression(node){var isCallExpression=node.parent.kind===171 &&node.parent.expression===node;var container=ts.getSuperContainer(node,true);var needToCaptureLexicalThis=false;if(!isCallExpression){while(container&&container.kind===177 ){container=ts.getSuperContainer(container,true);needToCaptureLexicalThis=languageVersion<2 ;}}
var canUseSuperExpression=isLegalUsageOfSuperExpression(container);var nodeCheckFlag=0;if(!canUseSuperExpression){var current=node;while(current&&current!==container&&current.kind!==137 ){current=current.parent;}
if(current&&current.kind===137 ){error(node,ts.Diagnostics.super_cannot_be_referenced_in_a_computed_property_name);}
else if(isCallExpression){error(node,ts.Diagnostics.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors);}
else if(!container||!container.parent||!(ts.isClassLike(container.parent)||container.parent.kind===168 )){error(node,ts.Diagnostics.super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions);}
else{error(node,ts.Diagnostics.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class);}
return unknownType;}
if((container.flags&64 )||isCallExpression){nodeCheckFlag=512 ;}
else{nodeCheckFlag=256 ;}
getNodeLinks(node).flags|=nodeCheckFlag;if(container.kind===144 &&container.flags&256 ){if(ts.isSuperPropertyOrElementAccess(node.parent)&&isAssignmentTarget(node.parent)){getNodeLinks(container).flags|=4096 ;}
else{getNodeLinks(container).flags|=2048 ;}}
if(needToCaptureLexicalThis){captureLexicalThis(node.parent,container);}
if(container.parent.kind===168 ){if(languageVersion<2 ){error(node,ts.Diagnostics.super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher);return unknownType;}
else{return anyType;}}
var classLikeDeclaration=container.parent;var classType=getDeclaredTypeOfSymbol(getSymbolOfNode(classLikeDeclaration));var baseClassType=classType&&getBaseTypes(classType)[0];if(!baseClassType){if(!ts.getClassExtendsHeritageClauseElement(classLikeDeclaration)){error(node,ts.Diagnostics.super_can_only_be_referenced_in_a_derived_class);}
return unknownType;}
if(container.kind===145 &&isInConstructorArgumentInitializer(node,container)){error(node,ts.Diagnostics.super_cannot_be_referenced_in_constructor_arguments);return unknownType;}
return nodeCheckFlag===512 ?getBaseConstructorTypeOfClass(classType):baseClassType;function isLegalUsageOfSuperExpression(container){if(!container){return false;}
if(isCallExpression){return container.kind===145 ;}
else{if(ts.isClassLike(container.parent)||container.parent.kind===168 ){if(container.flags&64 ){return container.kind===144 ||container.kind===143 ||container.kind===146 ||container.kind===147 ;}
else{return container.kind===144 ||container.kind===143 ||container.kind===146 ||container.kind===147 ||container.kind===142 ||container.kind===141 ||container.kind===145 ;}}}
return false;}}
function getContextuallyTypedParameterType(parameter){var func=parameter.parent;if(isFunctionExpressionOrArrowFunction(func)||ts.isObjectLiteralMethod(func)){if(isContextSensitive(func)){var contextualSignature=getContextualSignature(func);if(contextualSignature){var funcHasRestParameters=ts.hasRestParameter(func);var len=func.parameters.length-(funcHasRestParameters?1:0);var indexOfParameter=ts.indexOf(func.parameters,parameter);if(indexOfParameter<len){return getTypeAtPosition(contextualSignature,indexOfParameter);}
if(funcHasRestParameters&&indexOfParameter===(func.parameters.length-1)&&isRestParameterIndex(contextualSignature,func.parameters.length-1)){return getTypeOfSymbol(ts.lastOrUndefined(contextualSignature.parameters));}}}}
return undefined;}
function getContextualTypeForInitializerExpression(node){var declaration=node.parent;if(node===declaration.initializer){if(declaration.type){return getTypeFromTypeNode(declaration.type);}
if(declaration.kind===139 ){var type=getContextuallyTypedParameterType(declaration);if(type){return type;}}
if(ts.isBindingPattern(declaration.name)){return getTypeFromBindingPattern(declaration.name,true);}}
return undefined;}
function getContextualTypeForReturnExpression(node){var func=ts.getContainingFunction(node);if(func&&!func.asteriskToken){return getContextualReturnType(func);}
return undefined;}
function getContextualTypeForYieldOperand(node){var func=ts.getContainingFunction(node);if(func){var contextualReturnType=getContextualReturnType(func);if(contextualReturnType){return node.asteriskToken?contextualReturnType:getElementTypeOfIterableIterator(contextualReturnType);}}
return undefined;}
function isInParameterInitializerBeforeContainingFunction(node){while(node.parent&&!ts.isFunctionLike(node.parent)){if(node.parent.kind===139 &&node.parent.initializer===node){return true;}
node=node.parent;}
return false;}
function getContextualReturnType(functionDecl){if(functionDecl.type||functionDecl.kind===145 ||functionDecl.kind===146 &&ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(functionDecl.symbol,147 ))){return getReturnTypeOfSignature(getSignatureFromDeclaration(functionDecl));}
var signature=getContextualSignatureForFunctionLikeDeclaration(functionDecl);if(signature){return getReturnTypeOfSignature(signature);}
return undefined;}
function getContextualTypeForArgument(callTarget,arg){var args=getEffectiveCallArguments(callTarget);var argIndex=ts.indexOf(args,arg);if(argIndex>=0){var signature=getResolvedSignature(callTarget);return getTypeAtPosition(signature,argIndex);}
return undefined;}
function getContextualTypeForSubstitutionExpression(template,substitutionExpression){if(template.parent.kind===173 ){return getContextualTypeForArgument(template.parent,substitutionExpression);}
return undefined;}
function getContextualTypeForBinaryOperand(node){var binaryExpression=node.parent;var operator=binaryExpression.operatorToken.kind;if(operator>=56 &&operator<=68 ){if(node===binaryExpression.right){return checkExpression(binaryExpression.left);}}
else if(operator===52 ){var type=getContextualType(binaryExpression);if(!type&&node===binaryExpression.right){type=checkExpression(binaryExpression.left);}
return type;}
else if(operator===51 ||operator===24 ){if(node===binaryExpression.right){return getContextualType(binaryExpression);}}
return undefined;}
function applyToContextualType(type,mapper){if(!(type.flags&16384 )){return mapper(type);}
var types=type.types;var mappedType;var mappedTypes;for(var _i=0,types_8=types;_i<types_8.length;_i++){var current=types_8[_i];var t=mapper(current);if(t){if(!mappedType){mappedType=t;}
else if(!mappedTypes){mappedTypes=[mappedType,t];}
else{mappedTypes.push(t);}}}
return mappedTypes?getUnionType(mappedTypes):mappedType;}
function getTypeOfPropertyOfContextualType(type,name){return applyToContextualType(type,function(t){var prop=t.flags&130048 ?getPropertyOfType(t,name):undefined;return prop?getTypeOfSymbol(prop):undefined;});}
function getIndexTypeOfContextualType(type,kind){return applyToContextualType(type,function(t){return getIndexTypeOfStructuredType(t,kind);});}
function contextualTypeIsStringLiteralType(type){return!!(type.flags&16384 ?ts.forEach(type.types,isStringLiteralType):isStringLiteralType(type));}
function contextualTypeIsTupleLikeType(type){return!!(type.flags&16384 ?ts.forEach(type.types,isTupleLikeType):isTupleLikeType(type));}
function contextualTypeHasIndexSignature(type,kind){return!!(type.flags&16384 ?ts.forEach(type.types,function(t){return getIndexTypeOfStructuredType(t,kind);}):getIndexTypeOfStructuredType(type,kind));}
function getContextualTypeForObjectLiteralMethod(node){ts.Debug.assert(ts.isObjectLiteralMethod(node));if(isInsideWithStatementBody(node)){return undefined;}
return getContextualTypeForObjectLiteralElement(node);}
function getContextualTypeForObjectLiteralElement(element){var objectLiteral=element.parent;var type=getApparentTypeOfContextualType(objectLiteral);if(type){if(!ts.hasDynamicName(element)){var symbolName=getSymbolOfNode(element).name;var propertyType=getTypeOfPropertyOfContextualType(type,symbolName);if(propertyType){return propertyType;}}
return isNumericName(element.name)&&getIndexTypeOfContextualType(type,1 )||getIndexTypeOfContextualType(type,0 );}
return undefined;}
function getContextualTypeForElementExpression(node){var arrayLiteral=node.parent;var type=getApparentTypeOfContextualType(arrayLiteral);if(type){var index=ts.indexOf(arrayLiteral.elements,node);return getTypeOfPropertyOfContextualType(type,""+index)||getIndexTypeOfContextualType(type,1 )||(languageVersion>=2 ?getElementTypeOfIterable(type,undefined):undefined);}
return undefined;}
function getContextualTypeForConditionalOperand(node){var conditional=node.parent;return node===conditional.whenTrue||node===conditional.whenFalse?getContextualType(conditional):undefined;}
function getContextualTypeForJsxAttribute(attribute){var kind=attribute.kind;var jsxElement=attribute.parent;var attrsType=getJsxElementAttributesType(jsxElement);if(attribute.kind===241 ){if(!attrsType||isTypeAny(attrsType)){return undefined;}
return getTypeOfPropertyOfType(attrsType,attribute.name.text);}
else if(attribute.kind===242 ){return attrsType;}
ts.Debug.fail("Expected JsxAttribute or JsxSpreadAttribute, got ts.SyntaxKind["+kind+"]");}
function getApparentTypeOfContextualType(node){var type=getContextualType(node);return type&&getApparentType(type);}
function getContextualType(node){if(isInsideWithStatementBody(node)){return undefined;}
if(node.contextualType){return node.contextualType;}
var parent=node.parent;switch(parent.kind){case 214 :case 139 :case 142 :case 141 :case 166 :return getContextualTypeForInitializerExpression(node);case 177 :case 207 :return getContextualTypeForReturnExpression(node);case 187 :return getContextualTypeForYieldOperand(parent);case 171 :case 172 :return getContextualTypeForArgument(parent,node);case 174 :case 192 :return getTypeFromTypeNode(parent.type);case 184 :return getContextualTypeForBinaryOperand(node);case 248 :return getContextualTypeForObjectLiteralElement(parent);case 167 :return getContextualTypeForElementExpression(node);case 185 :return getContextualTypeForConditionalOperand(node);case 193 :ts.Debug.assert(parent.parent.kind===186 );return getContextualTypeForSubstitutionExpression(parent.parent,node);case 175 :return getContextualType(parent);case 243 :return getContextualType(parent);case 241 :case 242 :return getContextualTypeForJsxAttribute(parent);}
return undefined;}
function getNonGenericSignature(type){var signatures=getSignaturesOfStructuredType(type,0 );if(signatures.length===1){var signature=signatures[0];if(!signature.typeParameters){return signature;}}}
function isFunctionExpressionOrArrowFunction(node){return node.kind===176 ||node.kind===177 ;}
function getContextualSignatureForFunctionLikeDeclaration(node){return isFunctionExpressionOrArrowFunction(node)||ts.isObjectLiteralMethod(node)?getContextualSignature(node):undefined;}
function getContextualSignature(node){ts.Debug.assert(node.kind!==144 ||ts.isObjectLiteralMethod(node));var type=ts.isObjectLiteralMethod(node)?getContextualTypeForObjectLiteralMethod(node):getApparentTypeOfContextualType(node);if(!type){return undefined;}
if(!(type.flags&16384 )){return getNonGenericSignature(type);}
var signatureList;var types=type.types;for(var _i=0,types_9=types;_i<types_9.length;_i++){var current=types_9[_i];var signature=getNonGenericSignature(current);if(signature){if(!signatureList){signatureList=[signature];}
else if(!compareSignaturesIdentical(signatureList[0],signature,false,true,compareTypesIdentical)){return undefined;}
else{signatureList.push(signature);}}}
var result;if(signatureList){result=cloneSignature(signatureList[0]);result.resolvedReturnType=undefined;result.unionSignatures=signatureList;}
return result;}
function isInferentialContext(mapper){return mapper&&mapper.context;}
function isAssignmentTarget(node){var parent=node.parent;if(parent.kind===184 &&parent.operatorToken.kind===56 &&parent.left===node){return true;}
if(parent.kind===248 ){return isAssignmentTarget(parent.parent);}
if(parent.kind===167 ){return isAssignmentTarget(parent);}
return false;}
function checkSpreadElementExpression(node,contextualMapper){var arrayOrIterableType=checkExpressionCached(node.expression,contextualMapper);return checkIteratedTypeOrElementType(arrayOrIterableType,node.expression,false);}
function hasDefaultValue(node){return(node.kind===166 &&!!node.initializer)||(node.kind===184 &&node.operatorToken.kind===56 );}
function checkArrayLiteral(node,contextualMapper){var elements=node.elements;var hasSpreadElement=false;var elementTypes=[];var inDestructuringPattern=isAssignmentTarget(node);for(var _i=0,elements_1=elements;_i<elements_1.length;_i++){var e=elements_1[_i];if(inDestructuringPattern&&e.kind===188 ){var restArrayType=checkExpression(e.expression,contextualMapper);var restElementType=getIndexTypeOfType(restArrayType,1 )||(languageVersion>=2 ?getElementTypeOfIterable(restArrayType,undefined):undefined);if(restElementType){elementTypes.push(restElementType);}}
else{var type=checkExpression(e,contextualMapper);elementTypes.push(type);}
hasSpreadElement=hasSpreadElement||e.kind===188 ;}
if(!hasSpreadElement){if(inDestructuringPattern&&elementTypes.length){var type=createNewTupleType(elementTypes);type.pattern=node;return type;}
var contextualType=getApparentTypeOfContextualType(node);if(contextualType&&contextualTypeIsTupleLikeType(contextualType)){var pattern=contextualType.pattern;if(pattern&&(pattern.kind===165 ||pattern.kind===167 )){var patternElements=pattern.elements;for(var i=elementTypes.length;i<patternElements.length;i++){var patternElement=patternElements[i];if(hasDefaultValue(patternElement)){elementTypes.push(contextualType.elementTypes[i]);}
else{if(patternElement.kind!==190 ){error(patternElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value);}
elementTypes.push(unknownType);}}}
if(elementTypes.length){return createTupleType(elementTypes);}}}
return createArrayType(elementTypes.length?getUnionType(elementTypes):undefinedType);}
function isNumericName(name){return name.kind===137 ?isNumericComputedName(name):isNumericLiteralName(name.text);}
function isNumericComputedName(name){return isTypeAnyOrAllConstituentTypesHaveKind(checkComputedPropertyName(name),132 );}
function isTypeAnyOrAllConstituentTypesHaveKind(type,kind){return isTypeAny(type)||allConstituentTypesHaveKind(type,kind);}
function isNumericLiteralName(name){return(+name).toString()===name;}
function checkComputedPropertyName(node){var links=getNodeLinks(node.expression);if(!links.resolvedType){links.resolvedType=checkExpression(node.expression);if(!isTypeAnyOrAllConstituentTypesHaveKind(links.resolvedType,132 |258 |16777216 )){error(node,ts.Diagnostics.A_computed_property_name_must_be_of_type_string_number_symbol_or_any);}
else{checkThatExpressionIsProperSymbolReference(node.expression,links.resolvedType,true);}}
return links.resolvedType;}
function checkObjectLiteral(node,contextualMapper){var inDestructuringPattern=isAssignmentTarget(node);checkGrammarObjectLiteralExpression(node,inDestructuringPattern);var propertiesTable={};var propertiesArray=[];var contextualType=getApparentTypeOfContextualType(node);var contextualTypeHasPattern=contextualType&&contextualType.pattern&&(contextualType.pattern.kind===164 ||contextualType.pattern.kind===168 );var typeFlags=0;var patternWithComputedProperties=false;for(var _i=0,_a=node.properties;_i<_a.length;_i++){var memberDecl=_a[_i];var member=memberDecl.symbol;if(memberDecl.kind===248 ||memberDecl.kind===249 ||ts.isObjectLiteralMethod(memberDecl)){var type=void 0;if(memberDecl.kind===248 ){type=checkPropertyAssignment(memberDecl,contextualMapper);}
else if(memberDecl.kind===144 ){type=checkObjectLiteralMethod(memberDecl,contextualMapper);}
else{ts.Debug.assert(memberDecl.kind===249 );type=checkExpression(memberDecl.name,contextualMapper);}
typeFlags|=type.flags;var prop=createSymbol(4 |67108864 |member.flags,member.name);if(inDestructuringPattern){var isOptional=(memberDecl.kind===248 &&hasDefaultValue(memberDecl.initializer))||(memberDecl.kind===249 &&memberDecl.objectAssignmentInitializer);if(isOptional){prop.flags|=536870912 ;}
if(ts.hasDynamicName(memberDecl)){patternWithComputedProperties=true;}}
else if(contextualTypeHasPattern&&!(contextualType.flags&67108864 )){var impliedProp=getPropertyOfType(contextualType,member.name);if(impliedProp){prop.flags|=impliedProp.flags&536870912 ;}
else if(!compilerOptions.suppressExcessPropertyErrors){error(memberDecl.name,ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(member),typeToString(contextualType));}}
prop.declarations=member.declarations;prop.parent=member.parent;if(member.valueDeclaration){prop.valueDeclaration=member.valueDeclaration;}
prop.type=type;prop.target=member;member=prop;}
else{ts.Debug.assert(memberDecl.kind===146 ||memberDecl.kind===147 );checkAccessorDeclaration(memberDecl);}
if(!ts.hasDynamicName(memberDecl)){propertiesTable[member.name]=member;}
propertiesArray.push(member);}
if(contextualTypeHasPattern){for(var _b=0,_c=getPropertiesOfType(contextualType);_b<_c.length;_b++){var prop=_c[_b];if(!ts.hasProperty(propertiesTable,prop.name)){if(!(prop.flags&536870912 )){error(prop.valueDeclaration||prop.bindingElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value);}
propertiesTable[prop.name]=prop;propertiesArray.push(prop);}}}
var stringIndexType=getIndexType(0 );var numberIndexType=getIndexType(1 );var result=createAnonymousType(node.symbol,propertiesTable,emptyArray,emptyArray,stringIndexType,numberIndexType);var freshObjectLiteralFlag=compilerOptions.suppressExcessPropertyErrors?0:1048576 ;result.flags|=524288 |4194304 |freshObjectLiteralFlag|(typeFlags&14680064 )|(patternWithComputedProperties?67108864 :0);if(inDestructuringPattern){result.pattern=node;}
return result;function getIndexType(kind){if(contextualType&&contextualTypeHasIndexSignature(contextualType,kind)){var propTypes=[];for(var i=0;i<propertiesArray.length;i++){var propertyDecl=node.properties[i];if(kind===0 ||isNumericName(propertyDecl.name)){var type=getTypeOfSymbol(propertiesArray[i]);if(!ts.contains(propTypes,type)){propTypes.push(type);}}}
var result_1=propTypes.length?getUnionType(propTypes):undefinedType;typeFlags|=result_1.flags;return result_1;}
return undefined;}}
function checkJsxSelfClosingElement(node){checkJsxOpeningLikeElement(node);return jsxElementType||anyType;}
function checkJsxElement(node){checkJsxOpeningLikeElement(node.openingElement);getJsxElementTagSymbol(node.closingElement);for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];switch(child.kind){case 243 :checkJsxExpression(child);break;case 236 :checkJsxElement(child);break;case 237 :checkJsxSelfClosingElement(child);break;}}
return jsxElementType||anyType;}
function isUnhyphenatedJsxName(name){return name.indexOf("-")<0;}
function isJsxIntrinsicIdentifier(tagName){if(tagName.kind===136 ){return false;}
else{return ts.isIntrinsicJsxName(tagName.text);}}
function checkJsxAttribute(node,elementAttributesType,nameTable){var correspondingPropType=undefined;if(elementAttributesType===emptyObjectType&&isUnhyphenatedJsxName(node.name.text)){error(node.parent,ts.Diagnostics.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,getJsxElementPropertiesName());}
else if(elementAttributesType&&!isTypeAny(elementAttributesType)){var correspondingPropSymbol=getPropertyOfType(elementAttributesType,node.name.text);correspondingPropType=correspondingPropSymbol&&getTypeOfSymbol(correspondingPropSymbol);if(isUnhyphenatedJsxName(node.name.text)){var indexerType=getIndexTypeOfType(elementAttributesType,0 );if(indexerType){correspondingPropType=indexerType;}
else{if(!correspondingPropType){error(node.name,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.name.text,typeToString(elementAttributesType));return unknownType;}}}}
var exprType;if(node.initializer){exprType=checkExpression(node.initializer);}
else{exprType=booleanType;}
if(correspondingPropType){checkTypeAssignableTo(exprType,correspondingPropType,node);}
nameTable[node.name.text]=true;return exprType;}
function checkJsxSpreadAttribute(node,elementAttributesType,nameTable){var type=checkExpression(node.expression);var props=getPropertiesOfType(type);for(var _i=0,props_2=props;_i<props_2.length;_i++){var prop=props_2[_i];if(!nameTable[prop.name]){var targetPropSym=getPropertyOfType(elementAttributesType,prop.name);if(targetPropSym){var msg=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property,prop.name);checkTypeAssignableTo(getTypeOfSymbol(prop),getTypeOfSymbol(targetPropSym),node,undefined,msg);}
nameTable[prop.name]=true;}}
return type;}
function getJsxType(name){if(jsxTypes[name]===undefined){return jsxTypes[name]=getExportedTypeFromNamespace(JsxNames.JSX,name)||unknownType;}
return jsxTypes[name];}
function getJsxElementTagSymbol(node){var links=getNodeLinks(node);if(!links.resolvedSymbol){if(isJsxIntrinsicIdentifier(node.tagName)){links.resolvedSymbol=lookupIntrinsicTag(node);}
else{links.resolvedSymbol=lookupClassTag(node);}}
return links.resolvedSymbol;function lookupIntrinsicTag(node){var intrinsicElementsType=getJsxType(JsxNames.IntrinsicElements);if(intrinsicElementsType!==unknownType){var intrinsicProp=getPropertyOfType(intrinsicElementsType,node.tagName.text);if(intrinsicProp){links.jsxFlags|=1 ;return intrinsicProp;}
var indexSignatureType=getIndexTypeOfType(intrinsicElementsType,0 );if(indexSignatureType){links.jsxFlags|=2 ;return intrinsicElementsType.symbol;}
error(node,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.tagName.text,"JSX."+JsxNames.IntrinsicElements);return unknownSymbol;}
else{if(compilerOptions.noImplicitAny){error(node,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,JsxNames.IntrinsicElements);}
return unknownSymbol;}}
function lookupClassTag(node){var valueSymbol=resolveJsxTagName(node);if(valueSymbol&&valueSymbol!==unknownSymbol){links.jsxFlags|=4 ;if(valueSymbol.flags&8388608 ){markAliasSymbolAsReferenced(valueSymbol);}}
return valueSymbol||unknownSymbol;}
function resolveJsxTagName(node){if(node.tagName.kind===69 ){var tag=node.tagName;var sym=getResolvedSymbol(tag);return sym.exportSymbol||sym;}
else{return checkQualifiedName(node.tagName).symbol;}}}
function getJsxElementInstanceType(node){ts.Debug.assert(!!(getNodeLinks(node).jsxFlags&4 ),"Should not call getJsxElementInstanceType on non-class Element");var classSymbol=getJsxElementTagSymbol(node);if(classSymbol===unknownSymbol){return anyType;}
var valueType=getTypeOfSymbol(classSymbol);if(isTypeAny(valueType)){return anyType;}
var signatures=getSignaturesOfType(valueType,1 );if(signatures.length===0){signatures=getSignaturesOfType(valueType,0 );if(signatures.length===0){error(node.tagName,ts.Diagnostics.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,ts.getTextOfNode(node.tagName));return unknownType;}}
return getUnionType(signatures.map(getReturnTypeOfSignature));}
function getJsxElementPropertiesName(){var jsxNamespace=getGlobalSymbol(JsxNames.JSX,1536 ,undefined);var attribsPropTypeSym=jsxNamespace&&getSymbol(jsxNamespace.exports,JsxNames.ElementAttributesPropertyNameContainer,793056 );var attribPropType=attribsPropTypeSym&&getDeclaredTypeOfSymbol(attribsPropTypeSym);var attribProperties=attribPropType&&getPropertiesOfType(attribPropType);if(attribProperties){if(attribProperties.length===0){return"";}
else if(attribProperties.length===1){return attribProperties[0].name;}
else{error(attribsPropTypeSym.declarations[0],ts.Diagnostics.The_global_type_JSX_0_may_not_have_more_than_one_property,JsxNames.ElementAttributesPropertyNameContainer);return undefined;}}
else{return undefined;}}
function getJsxElementAttributesType(node){var links=getNodeLinks(node);if(!links.resolvedJsxType){var sym=getJsxElementTagSymbol(node);if(links.jsxFlags&4 ){var elemInstanceType=getJsxElementInstanceType(node);var elemClassType=getJsxGlobalElementClassType();if(!elemClassType||!isTypeAssignableTo(elemInstanceType,elemClassType)){var elemType=getTypeOfSymbol(sym);var callSignatures=elemType&&getSignaturesOfType(elemType,0 );var callSignature=callSignatures&&callSignatures.length>0&&callSignatures[0];var callReturnType=callSignature&&getReturnTypeOfSignature(callSignature);var paramType=callReturnType&&(callSignature.parameters.length===0?emptyObjectType:getTypeOfSymbol(callSignature.parameters[0]));if(callReturnType&&isTypeAssignableTo(callReturnType,jsxElementType)){var intrinsicAttributes=getJsxType(JsxNames.IntrinsicAttributes);if(intrinsicAttributes!==unknownType){paramType=intersectTypes(intrinsicAttributes,paramType);}
return links.resolvedJsxType=paramType;}}
if(elemClassType){checkTypeRelatedTo(elemInstanceType,elemClassType,assignableRelation,node,ts.Diagnostics.JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements);}
if(isTypeAny(elemInstanceType)){return links.resolvedJsxType=elemInstanceType;}
var propsName=getJsxElementPropertiesName();if(propsName===undefined){return links.resolvedJsxType=anyType;}
else if(propsName===""){return links.resolvedJsxType=elemInstanceType;}
else{var attributesType=getTypeOfPropertyOfType(elemInstanceType,propsName);if(!attributesType){return links.resolvedJsxType=emptyObjectType;}
else if(isTypeAny(attributesType)||(attributesType===unknownType)){return links.resolvedJsxType=attributesType;}
else if(attributesType.flags&16384 ){error(node.tagName,ts.Diagnostics.JSX_element_attributes_type_0_may_not_be_a_union_type,typeToString(attributesType));return links.resolvedJsxType=anyType;}
else{var apparentAttributesType=attributesType;var intrinsicClassAttribs=getJsxType(JsxNames.IntrinsicClassAttributes);if(intrinsicClassAttribs!==unknownType){var typeParams=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(intrinsicClassAttribs.symbol);if(typeParams){if(typeParams.length===1){apparentAttributesType=intersectTypes(createTypeReference(intrinsicClassAttribs,[elemInstanceType]),apparentAttributesType);}}
else{apparentAttributesType=intersectTypes(attributesType,intrinsicClassAttribs);}}
var intrinsicAttribs=getJsxType(JsxNames.IntrinsicAttributes);if(intrinsicAttribs!==unknownType){apparentAttributesType=intersectTypes(intrinsicAttribs,apparentAttributesType);}
return links.resolvedJsxType=apparentAttributesType;}}}
else if(links.jsxFlags&1 ){return links.resolvedJsxType=getTypeOfSymbol(sym);}
else if(links.jsxFlags&2 ){return links.resolvedJsxType=getIndexTypeOfSymbol(sym,0 );}
else{return links.resolvedJsxType=anyType;}}
return links.resolvedJsxType;}
function getJsxAttributePropertySymbol(attrib){var attributesType=getJsxElementAttributesType(attrib.parent);var prop=getPropertyOfType(attributesType,attrib.name.text);return prop||unknownSymbol;}
function getJsxGlobalElementClassType(){if(!jsxElementClassType){jsxElementClassType=getExportedTypeFromNamespace(JsxNames.JSX,JsxNames.ElementClass);}
return jsxElementClassType;}
function getJsxIntrinsicTagNames(){var intrinsics=getJsxType(JsxNames.IntrinsicElements);return intrinsics?getPropertiesOfType(intrinsics):emptyArray;}
function checkJsxPreconditions(errorNode){if((compilerOptions.jsx||0 )===0 ){error(errorNode,ts.Diagnostics.Cannot_use_JSX_unless_the_jsx_flag_is_provided);}
if(jsxElementType===undefined){if(compilerOptions.noImplicitAny){error(errorNode,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist);}}}
function checkJsxOpeningLikeElement(node){checkGrammarJsxElement(node);checkJsxPreconditions(node);var reactRefErr=compilerOptions.jsx===2 ?ts.Diagnostics.Cannot_find_name_0:undefined;var reactNamespace=compilerOptions.reactNamespace?compilerOptions.reactNamespace:"React";var reactSym=resolveName(node.tagName,reactNamespace,107455 ,reactRefErr,reactNamespace);if(reactSym){getSymbolLinks(reactSym).referenced=true;}
var targetAttributesType=getJsxElementAttributesType(node);var nameTable={};var sawSpreadedAny=false;for(var i=node.attributes.length-1;i>=0;i--){if(node.attributes[i].kind===241 ){checkJsxAttribute((node.attributes[i]),targetAttributesType,nameTable);}
else{ts.Debug.assert(node.attributes[i].kind===242 );var spreadType=checkJsxSpreadAttribute((node.attributes[i]),targetAttributesType,nameTable);if(isTypeAny(spreadType)){sawSpreadedAny=true;}}}
if(targetAttributesType&&!sawSpreadedAny){var targetProperties=getPropertiesOfType(targetAttributesType);for(var i=0;i<targetProperties.length;i++){if(!(targetProperties[i].flags&536870912 )&&nameTable[targetProperties[i].name]===undefined){error(node,ts.Diagnostics.Property_0_is_missing_in_type_1,targetProperties[i].name,typeToString(targetAttributesType));}}}}
function checkJsxExpression(node){if(node.expression){return checkExpression(node.expression);}
else{return unknownType;}}
function getDeclarationKindFromSymbol(s){return s.valueDeclaration?s.valueDeclaration.kind:142 ;}
function getDeclarationFlagsFromSymbol(s){return s.valueDeclaration?ts.getCombinedNodeFlags(s.valueDeclaration):s.flags&134217728 ?8 |64 :0;}
function checkClassPropertyAccess(node,left,type,prop){var flags=getDeclarationFlagsFromSymbol(prop);var declaringClass=getDeclaredTypeOfSymbol(getParentOfSymbol(prop));if(left.kind===95 ){var errorNode=node.kind===169 ?node.name:node.right;if(languageVersion<2 &&getDeclarationKindFromSymbol(prop)!==144 ){error(errorNode,ts.Diagnostics.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword);return false;}
if(flags&128 ){error(errorNode,ts.Diagnostics.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,symbolToString(prop),typeToString(declaringClass));return false;}}
if(!(flags&(16 |32 ))){return true;}
var enclosingClassDeclaration=ts.getContainingClass(node);var enclosingClass=enclosingClassDeclaration?getDeclaredTypeOfSymbol(getSymbolOfNode(enclosingClassDeclaration)):undefined;if(flags&16 ){if(declaringClass!==enclosingClass){error(node,ts.Diagnostics.Property_0_is_private_and_only_accessible_within_class_1,symbolToString(prop),typeToString(declaringClass));return false;}
return true;}
if(left.kind===95 ){return true;}
if(!enclosingClass||!hasBaseType(enclosingClass,declaringClass)){error(node,ts.Diagnostics.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,symbolToString(prop),typeToString(declaringClass));return false;}
if(flags&64 ){return true;}
if(type.flags&33554432 ){type=getConstraintOfTypeParameter(type);}
if(!(getTargetType(type).flags&(1024 |2048 )&&hasBaseType(type,enclosingClass))){error(node,ts.Diagnostics.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1,symbolToString(prop),typeToString(enclosingClass));return false;}
return true;}
function checkPropertyAccessExpression(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.expression,node.name);}
function checkQualifiedName(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.left,node.right);}
function checkPropertyAccessExpressionOrQualifiedName(node,left,right){var type=checkExpression(left);if(isTypeAny(type)){return type;}
var apparentType=getApparentType(getWidenedType(type));if(apparentType===unknownType){return unknownType;}
var prop=getPropertyOfType(apparentType,right.text);if(!prop){if(right.text){error(right,ts.Diagnostics.Property_0_does_not_exist_on_type_1,ts.declarationNameToString(right),typeToString(type.flags&33554432 ?apparentType:type));}
return unknownType;}
getNodeLinks(node).resolvedSymbol=prop;if(prop.parent&&prop.parent.flags&32 ){checkClassPropertyAccess(node,left,apparentType,prop);}
return getTypeOfSymbol(prop);}
function isValidPropertyAccess(node,propertyName){var left=node.kind===169 ?node.expression:node.left;var type=checkExpression(left);if(type!==unknownType&&!isTypeAny(type)){var prop=getPropertyOfType(getWidenedType(type),propertyName);if(prop&&prop.parent&&prop.parent.flags&32 ){return checkClassPropertyAccess(node,left,type,prop);}}
return true;}
function getForInVariableSymbol(node){var initializer=node.initializer;if(initializer.kind===215 ){var variable=initializer.declarations[0];if(variable&&!ts.isBindingPattern(variable.name)){return getSymbolOfNode(variable);}}
else if(initializer.kind===69 ){return getResolvedSymbol(initializer);}
return undefined;}
function hasNumericPropertyNames(type){return getIndexTypeOfType(type,1 )&&!getIndexTypeOfType(type,0 );}
function isForInVariableForNumericPropertyNames(expr){var e=skipParenthesizedNodes(expr);if(e.kind===69 ){var symbol=getResolvedSymbol(e);if(symbol.flags&3 ){var child=expr;var node=expr.parent;while(node){if(node.kind===203 &&child===node.statement&&getForInVariableSymbol(node)===symbol&&hasNumericPropertyNames(checkExpression(node.expression))){return true;}
child=node;node=node.parent;}}}
return false;}
function checkIndexedAccess(node){if(!node.argumentExpression){var sourceFile=ts.getSourceFileOfNode(node);if(node.parent.kind===172 &&node.parent.expression===node){var start=ts.skipTrivia(sourceFile.text,node.expression.end);var end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead);}
else{var start=node.end-"]".length;var end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Expression_expected);}}
var objectType=getApparentType(checkExpression(node.expression));var indexType=node.argumentExpression?checkExpression(node.argumentExpression):unknownType;if(objectType===unknownType){return unknownType;}
var isConstEnum=isConstEnumObjectType(objectType);if(isConstEnum&&(!node.argumentExpression||node.argumentExpression.kind!==9 )){error(node.argumentExpression,ts.Diagnostics.A_const_enum_member_can_only_be_accessed_using_a_string_literal);return unknownType;}
if(node.argumentExpression){var name_11=getPropertyNameForIndexedAccess(node.argumentExpression,indexType);if(name_11!==undefined){var prop=getPropertyOfType(objectType,name_11);if(prop){getNodeLinks(node).resolvedSymbol=prop;return getTypeOfSymbol(prop);}
else if(isConstEnum){error(node.argumentExpression,ts.Diagnostics.Property_0_does_not_exist_on_const_enum_1,name_11,symbolToString(objectType.symbol));return unknownType;}}}
if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,258 |132 |16777216 )){if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,132 )||isForInVariableForNumericPropertyNames(node.argumentExpression)){var numberIndexType=getIndexTypeOfType(objectType,1 );if(numberIndexType){return numberIndexType;}}
var stringIndexType=getIndexTypeOfType(objectType,0 );if(stringIndexType){return stringIndexType;}
if(compilerOptions.noImplicitAny&&!compilerOptions.suppressImplicitAnyIndexErrors&&!isTypeAny(objectType)){error(node,getIndexTypeOfType(objectType,1 )?ts.Diagnostics.Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number:ts.Diagnostics.Index_signature_of_object_type_implicitly_has_an_any_type);}
return anyType;}
error(node,ts.Diagnostics.An_index_expression_argument_must_be_of_type_string_number_symbol_or_any);return unknownType;}
function getPropertyNameForIndexedAccess(indexArgumentExpression,indexArgumentType){if(indexArgumentExpression.kind===9 ||indexArgumentExpression.kind===8 ){return indexArgumentExpression.text;}
if(indexArgumentExpression.kind===170 ||indexArgumentExpression.kind===169 ){var value=getConstantValue(indexArgumentExpression);if(value!==undefined){return value.toString();}}
if(checkThatExpressionIsProperSymbolReference(indexArgumentExpression,indexArgumentType,false)){var rightHandSideName=indexArgumentExpression.name.text;return ts.getPropertyNameForKnownSymbolName(rightHandSideName);}
return undefined;}
function checkThatExpressionIsProperSymbolReference(expression,expressionType,reportError){if(expressionType===unknownType){return false;}
if(!ts.isWellKnownSymbolSyntactically(expression)){return false;}
if((expressionType.flags&16777216 )===0){if(reportError){error(expression,ts.Diagnostics.A_computed_property_name_of_the_form_0_must_be_of_type_symbol,ts.getTextOfNode(expression));}
return false;}
var leftHandSide=expression.expression;var leftHandSideSymbol=getResolvedSymbol(leftHandSide);if(!leftHandSideSymbol){return false;}
var globalESSymbol=getGlobalESSymbolConstructorSymbol();if(!globalESSymbol){return false;}
if(leftHandSideSymbol!==globalESSymbol){if(reportError){error(leftHandSide,ts.Diagnostics.Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object);}
return false;}
return true;}
function resolveUntypedCall(node){if(node.kind===173 ){checkExpression(node.template);}
else if(node.kind!==140 ){ts.forEach(node.arguments,function(argument){checkExpression(argument);});}
return anySignature;}
function resolveErrorCall(node){resolveUntypedCall(node);return unknownSignature;}
function reorderCandidates(signatures,result){var lastParent;var lastSymbol;var cutoffIndex=0;var index;var specializedIndex=-1;var spliceIndex;ts.Debug.assert(!result.length);for(var _i=0,signatures_2=signatures;_i<signatures_2.length;_i++){var signature=signatures_2[_i];var symbol=signature.declaration&&getSymbolOfNode(signature.declaration);var parent_6=signature.declaration&&signature.declaration.parent;if(!lastSymbol||symbol===lastSymbol){if(lastParent&&parent_6===lastParent){index++;}
else{lastParent=parent_6;index=cutoffIndex;}}
else{index=cutoffIndex=result.length;lastParent=parent_6;}
lastSymbol=symbol;if(signature.hasStringLiterals){specializedIndex++;spliceIndex=specializedIndex;cutoffIndex++;}
else{spliceIndex=index;}
result.splice(spliceIndex,0,signature);}}
function getSpreadArgumentIndex(args){for(var i=0;i<args.length;i++){var arg=args[i];if(arg&&arg.kind===188 ){return i;}}
return-1;}
function hasCorrectArity(node,args,signature){var adjustedArgCount;var typeArguments;var callIsIncomplete;var isDecorator;var spreadArgIndex=-1;if(node.kind===173 ){var tagExpression=node;adjustedArgCount=args.length;typeArguments=undefined;if(tagExpression.template.kind===186 ){var templateExpression=tagExpression.template;var lastSpan=ts.lastOrUndefined(templateExpression.templateSpans);ts.Debug.assert(lastSpan!==undefined);callIsIncomplete=ts.nodeIsMissing(lastSpan.literal)||!!lastSpan.literal.isUnterminated;}
else{var templateLiteral=tagExpression.template;ts.Debug.assert(templateLiteral.kind===11 );callIsIncomplete=!!templateLiteral.isUnterminated;}}
else if(node.kind===140 ){isDecorator=true;typeArguments=undefined;adjustedArgCount=getEffectiveArgumentCount(node,undefined,signature);}
else{var callExpression=node;if(!callExpression.arguments){ts.Debug.assert(callExpression.kind===172 );return signature.minArgumentCount===0;}
adjustedArgCount=callExpression.arguments.hasTrailingComma?args.length+1:args.length;callIsIncomplete=callExpression.arguments.end===callExpression.end;typeArguments=callExpression.typeArguments;spreadArgIndex=getSpreadArgumentIndex(args);}
var hasRightNumberOfTypeArgs=!typeArguments||(signature.typeParameters&&typeArguments.length===signature.typeParameters.length);if(!hasRightNumberOfTypeArgs){return false;}
if(spreadArgIndex>=0){return isRestParameterIndex(signature,spreadArgIndex);}
if(!signature.hasRestParameter&&adjustedArgCount>signature.parameters.length){return false;}
var hasEnoughArguments=adjustedArgCount>=signature.minArgumentCount;return callIsIncomplete||hasEnoughArguments;}
function getSingleCallSignature(type){if(type.flags&80896 ){var resolved=resolveStructuredTypeMembers(type);if(resolved.callSignatures.length===1&&resolved.constructSignatures.length===0&&resolved.properties.length===0&&!resolved.stringIndexType&&!resolved.numberIndexType){return resolved.callSignatures[0];}}
return undefined;}
function instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper){var context=createInferenceContext(signature.typeParameters,true);forEachMatchingParameterType(contextualSignature,signature,function(source,target){inferTypes(context,instantiateType(source,contextualMapper),target);});return getSignatureInstantiation(signature,getInferredTypes(context));}
function inferTypeArguments(node,signature,args,excludeArgument,context){var typeParameters=signature.typeParameters;var inferenceMapper=getInferenceMapper(context);for(var i=0;i<typeParameters.length;i++){if(!context.inferences[i].isFixed){context.inferredTypes[i]=undefined;}}
if(context.failedTypeParameterIndex!==undefined&&!context.inferences[context.failedTypeParameterIndex].isFixed){context.failedTypeParameterIndex=undefined;}
var argCount=getEffectiveArgumentCount(node,args,signature);for(var i=0;i<argCount;i++){var arg=getEffectiveArgument(node,args,i);if(arg===undefined||arg.kind!==190 ){var paramType=getTypeAtPosition(signature,i);var argType=getEffectiveArgumentType(node,i,arg);if(argType===undefined){var mapper=excludeArgument&&excludeArgument[i]!==undefined?identityMapper:inferenceMapper;argType=checkExpressionWithContextualType(arg,paramType,mapper);}
inferTypes(context,argType,paramType);}}
if(excludeArgument){for(var i=0;i<argCount;i++){if(excludeArgument[i]===false){var arg=args[i];var paramType=getTypeAtPosition(signature,i);inferTypes(context,checkExpressionWithContextualType(arg,paramType,inferenceMapper),paramType);}}}
getInferredTypes(context);}
function checkTypeArguments(signature,typeArgumentNodes,typeArgumentTypes,reportErrors,headMessage){var typeParameters=signature.typeParameters;var typeArgumentsAreAssignable=true;var mapper;for(var i=0;i<typeParameters.length;i++){if(typeArgumentsAreAssignable ){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){var errorInfo=void 0;var typeArgumentHeadMessage=ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1;if(reportErrors&&headMessage){errorInfo=ts.chainDiagnosticMessages(errorInfo,typeArgumentHeadMessage);typeArgumentHeadMessage=headMessage;}
if(!mapper){mapper=createTypeMapper(typeParameters,typeArgumentTypes);}
var typeArgument=typeArgumentTypes[i];typeArgumentsAreAssignable=checkTypeAssignableTo(typeArgument,getTypeWithThisArgument(instantiateType(constraint,mapper),typeArgument),reportErrors?typeArgumentNodes[i]:undefined,typeArgumentHeadMessage,errorInfo);}}}
return typeArgumentsAreAssignable;}
function checkApplicableSignature(node,args,signature,relation,excludeArgument,reportErrors){var argCount=getEffectiveArgumentCount(node,args,signature);for(var i=0;i<argCount;i++){var arg=getEffectiveArgument(node,args,i);if(arg===undefined||arg.kind!==190 ){var paramType=getTypeAtPosition(signature,i);var argType=getEffectiveArgumentType(node,i,arg);if(argType===undefined){argType=arg.kind===9 &&!reportErrors?getStringLiteralTypeForText(arg.text):checkExpressionWithContextualType(arg,paramType,excludeArgument&&excludeArgument[i]?identityMapper:undefined);}
var errorNode=reportErrors?getEffectiveArgumentErrorNode(node,i,arg):undefined;var headMessage=ts.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1;if(!checkTypeRelatedTo(argType,paramType,relation,errorNode,headMessage)){return false;}}}
return true;}
function getEffectiveCallArguments(node){var args;if(node.kind===173 ){var template=node.template;args=[undefined];if(template.kind===186 ){ts.forEach(template.templateSpans,function(span){args.push(span.expression);});}}
else if(node.kind===140 ){return undefined;}
else{args=node.arguments||emptyArray;}
return args;}
function getEffectiveArgumentCount(node,args,signature){if(node.kind===140 ){switch(node.parent.kind){case 217 :case 189 :return 1;case 142 :return 2;case 144 :case 146 :case 147 :if(languageVersion===0 ){return 2;}
return signature.parameters.length>=3?3:2;case 139 :return 3;}}
else{return args.length;}}
function getEffectiveDecoratorFirstArgumentType(node){if(node.kind===217 ){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol);}
if(node.kind===139 ){node=node.parent;if(node.kind===145 ){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol);}}
if(node.kind===142 ||node.kind===144 ||node.kind===146 ||node.kind===147 ){return getParentTypeOfClassElement(node);}
ts.Debug.fail("Unsupported decorator target.");return unknownType;}
function getEffectiveDecoratorSecondArgumentType(node){if(node.kind===217 ){ts.Debug.fail("Class decorators should not have a second synthetic argument.");return unknownType;}
if(node.kind===139 ){node=node.parent;if(node.kind===145 ){return anyType;}}
if(node.kind===142 ||node.kind===144 ||node.kind===146 ||node.kind===147 ){var element=node;switch(element.name.kind){case 69 :case 8 :case 9 :return getStringLiteralTypeForText(element.name.text);case 137 :var nameType=checkComputedPropertyName(element.name);if(allConstituentTypesHaveKind(nameType,16777216 )){return nameType;}
else{return stringType;}
default:ts.Debug.fail("Unsupported property name.");return unknownType;}}
ts.Debug.fail("Unsupported decorator target.");return unknownType;}
function getEffectiveDecoratorThirdArgumentType(node){if(node.kind===217 ){ts.Debug.fail("Class decorators should not have a third synthetic argument.");return unknownType;}
if(node.kind===139 ){return numberType;}
if(node.kind===142 ){ts.Debug.fail("Property decorators should not have a third synthetic argument.");return unknownType;}
if(node.kind===144 ||node.kind===146 ||node.kind===147 ){var propertyType=getTypeOfNode(node);return createTypedPropertyDescriptorType(propertyType);}
ts.Debug.fail("Unsupported decorator target.");return unknownType;}
function getEffectiveDecoratorArgumentType(node,argIndex){if(argIndex===0){return getEffectiveDecoratorFirstArgumentType(node.parent);}
else if(argIndex===1){return getEffectiveDecoratorSecondArgumentType(node.parent);}
else if(argIndex===2){return getEffectiveDecoratorThirdArgumentType(node.parent);}
ts.Debug.fail("Decorators should not have a fourth synthetic argument.");return unknownType;}
function getEffectiveArgumentType(node,argIndex,arg){if(node.kind===140 ){return getEffectiveDecoratorArgumentType(node,argIndex);}
else if(argIndex===0&&node.kind===173 ){return globalTemplateStringsArrayType;}
return undefined;}
function getEffectiveArgument(node,args,argIndex){if(node.kind===140 ||(argIndex===0&&node.kind===173 )){return undefined;}
return args[argIndex];}
function getEffectiveArgumentErrorNode(node,argIndex,arg){if(node.kind===140 ){return node.expression;}
else if(argIndex===0&&node.kind===173 ){return node.template;}
else{return arg;}}
function resolveCall(node,signatures,candidatesOutArray,headMessage){var isTaggedTemplate=node.kind===173 ;var isDecorator=node.kind===140 ;var typeArguments;if(!isTaggedTemplate&&!isDecorator){typeArguments=node.typeArguments;if(node.expression.kind!==95 ){ts.forEach(typeArguments,checkSourceElement);}}
var candidates=candidatesOutArray||[];reorderCandidates(signatures,candidates);if(!candidates.length){reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target);return resolveErrorCall(node);}
var args=getEffectiveCallArguments(node);var excludeArgument;if(!isDecorator){for(var i=isTaggedTemplate?1:0;i<args.length;i++){if(isContextSensitive(args[i])){if(!excludeArgument){excludeArgument=new Array(args.length);}
excludeArgument[i]=true;}}}
var candidateForArgumentError;var candidateForTypeArgumentError;var resultOfFailedInference;var result;if(candidates.length>1){result=chooseOverload(candidates,subtypeRelation);}
if(!result){candidateForArgumentError=undefined;candidateForTypeArgumentError=undefined;resultOfFailedInference=undefined;result=chooseOverload(candidates,assignableRelation);}
if(result){return result;}
if(candidateForArgumentError){checkApplicableSignature(node,args,candidateForArgumentError,assignableRelation,undefined,true);}
else if(candidateForTypeArgumentError){if(!isTaggedTemplate&&!isDecorator&&typeArguments){var typeArguments_2=node.typeArguments;checkTypeArguments(candidateForTypeArgumentError,typeArguments_2,ts.map(typeArguments_2,getTypeFromTypeNode),true,headMessage);}
else{ts.Debug.assert(resultOfFailedInference.failedTypeParameterIndex>=0);var failedTypeParameter=candidateForTypeArgumentError.typeParameters[resultOfFailedInference.failedTypeParameterIndex];var inferenceCandidates=getInferenceCandidates(resultOfFailedInference,resultOfFailedInference.failedTypeParameterIndex);var diagnosticChainHead=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly,typeToString(failedTypeParameter));if(headMessage){diagnosticChainHead=ts.chainDiagnosticMessages(diagnosticChainHead,headMessage);}
reportNoCommonSupertypeError(inferenceCandidates,node.expression||node.tag,diagnosticChainHead);}}
else{reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target);}
if(!produceDiagnostics){for(var _i=0,candidates_1=candidates;_i<candidates_1.length;_i++){var candidate=candidates_1[_i];if(hasCorrectArity(node,args,candidate)){if(candidate.typeParameters&&typeArguments){candidate=getSignatureInstantiation(candidate,ts.map(typeArguments,getTypeFromTypeNode));}
return candidate;}}}
return resolveErrorCall(node);function reportError(message,arg0,arg1,arg2){var errorInfo;errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2);if(headMessage){errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage);}
diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo));}
function chooseOverload(candidates,relation){for(var _i=0,candidates_2=candidates;_i<candidates_2.length;_i++){var originalCandidate=candidates_2[_i];if(!hasCorrectArity(node,args,originalCandidate)){continue;}
var candidate=void 0;var typeArgumentsAreValid=void 0;var inferenceContext=originalCandidate.typeParameters?createInferenceContext(originalCandidate.typeParameters,false):undefined;while(true){candidate=originalCandidate;if(candidate.typeParameters){var typeArgumentTypes=void 0;if(typeArguments){typeArgumentTypes=ts.map(typeArguments,getTypeFromTypeNode);typeArgumentsAreValid=checkTypeArguments(candidate,typeArguments,typeArgumentTypes,false);}
else{inferTypeArguments(node,candidate,args,excludeArgument,inferenceContext);typeArgumentsAreValid=inferenceContext.failedTypeParameterIndex===undefined;typeArgumentTypes=inferenceContext.inferredTypes;}
if(!typeArgumentsAreValid){break;}
candidate=getSignatureInstantiation(candidate,typeArgumentTypes);}
if(!checkApplicableSignature(node,args,candidate,relation,excludeArgument,false)){break;}
var index=excludeArgument?ts.indexOf(excludeArgument,true):-1;if(index<0){return candidate;}
excludeArgument[index]=false;}
if(originalCandidate.typeParameters){var instantiatedCandidate=candidate;if(typeArgumentsAreValid){candidateForArgumentError=instantiatedCandidate;}
else{candidateForTypeArgumentError=originalCandidate;if(!typeArguments){resultOfFailedInference=inferenceContext;}}}
else{ts.Debug.assert(originalCandidate===candidate);candidateForArgumentError=originalCandidate;}}
return undefined;}}
function resolveCallExpression(node,candidatesOutArray){if(node.expression.kind===95 ){var superType=checkSuperExpression(node.expression);if(superType!==unknownType){var baseTypeNode=ts.getClassExtendsHeritageClauseElement(ts.getContainingClass(node));var baseConstructors=getInstantiatedConstructorsForTypeArguments(superType,baseTypeNode.typeArguments);return resolveCall(node,baseConstructors,candidatesOutArray);}
return resolveUntypedCall(node);}
var funcType=checkExpression(node.expression);var apparentType=getApparentType(funcType);if(apparentType===unknownType){return resolveErrorCall(node);}
var callSignatures=getSignaturesOfType(apparentType,0 );var constructSignatures=getSignaturesOfType(apparentType,1 );if(isTypeAny(funcType)||(!callSignatures.length&&!constructSignatures.length&&!(funcType.flags&16384 )&&isTypeAssignableTo(funcType,globalFunctionType))){if(funcType!==unknownType&&node.typeArguments){error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments);}
return resolveUntypedCall(node);}
if(!callSignatures.length){if(constructSignatures.length){error(node,ts.Diagnostics.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,typeToString(funcType));}
else{error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature);}
return resolveErrorCall(node);}
return resolveCall(node,callSignatures,candidatesOutArray);}
function resolveNewExpression(node,candidatesOutArray){if(node.arguments&&languageVersion<1 ){var spreadIndex=getSpreadArgumentIndex(node.arguments);if(spreadIndex>=0){error(node.arguments[spreadIndex],ts.Diagnostics.Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher);}}
var expressionType=checkExpression(node.expression);expressionType=getApparentType(expressionType);if(expressionType===unknownType){return resolveErrorCall(node);}
var valueDecl=expressionType.symbol&&getClassLikeDeclarationOfSymbol(expressionType.symbol);if(valueDecl&&valueDecl.flags&128 ){error(node,ts.Diagnostics.Cannot_create_an_instance_of_the_abstract_class_0,ts.declarationNameToString(valueDecl.name));return resolveErrorCall(node);}
if(isTypeAny(expressionType)){if(node.typeArguments){error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments);}
return resolveUntypedCall(node);}
var constructSignatures=getSignaturesOfType(expressionType,1 );if(constructSignatures.length){return resolveCall(node,constructSignatures,candidatesOutArray);}
var callSignatures=getSignaturesOfType(expressionType,0 );if(callSignatures.length){var signature=resolveCall(node,callSignatures,candidatesOutArray);if(getReturnTypeOfSignature(signature)!==voidType){error(node,ts.Diagnostics.Only_a_void_function_can_be_called_with_the_new_keyword);}
return signature;}
error(node,ts.Diagnostics.Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature);return resolveErrorCall(node);}
function resolveTaggedTemplateExpression(node,candidatesOutArray){var tagType=checkExpression(node.tag);var apparentType=getApparentType(tagType);if(apparentType===unknownType){return resolveErrorCall(node);}
var callSignatures=getSignaturesOfType(apparentType,0 );if(isTypeAny(tagType)||(!callSignatures.length&&!(tagType.flags&16384 )&&isTypeAssignableTo(tagType,globalFunctionType))){return resolveUntypedCall(node);}
if(!callSignatures.length){error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature);return resolveErrorCall(node);}
return resolveCall(node,callSignatures,candidatesOutArray);}
function getDiagnosticHeadMessageForDecoratorResolution(node){switch(node.parent.kind){case 217 :case 189 :return ts.Diagnostics.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 139 :return ts.Diagnostics.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 142 :return ts.Diagnostics.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 144 :case 146 :case 147 :return ts.Diagnostics.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression;}}
function resolveDecorator(node,candidatesOutArray){var funcType=checkExpression(node.expression);var apparentType=getApparentType(funcType);if(apparentType===unknownType){return resolveErrorCall(node);}
var callSignatures=getSignaturesOfType(apparentType,0 );if(funcType===anyType||(!callSignatures.length&&!(funcType.flags&16384 )&&isTypeAssignableTo(funcType,globalFunctionType))){return resolveUntypedCall(node);}
var headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);if(!callSignatures.length){var errorInfo=void 0;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature);errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage);diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo));return resolveErrorCall(node);}
return resolveCall(node,callSignatures,candidatesOutArray,headMessage);}
function getResolvedSignature(node,candidatesOutArray){var links=getNodeLinks(node);if(!links.resolvedSignature||candidatesOutArray){links.resolvedSignature=anySignature;if(node.kind===171 ){links.resolvedSignature=resolveCallExpression(node,candidatesOutArray);}
else if(node.kind===172 ){links.resolvedSignature=resolveNewExpression(node,candidatesOutArray);}
else if(node.kind===173 ){links.resolvedSignature=resolveTaggedTemplateExpression(node,candidatesOutArray);}
else if(node.kind===140 ){links.resolvedSignature=resolveDecorator(node,candidatesOutArray);}
else{ts.Debug.fail("Branch in 'getResolvedSignature' should be unreachable.");}}
return links.resolvedSignature;}
function getInferredClassType(symbol){var links=getSymbolLinks(symbol);if(!links.inferredClassType){links.inferredClassType=createAnonymousType(undefined,symbol.members,emptyArray,emptyArray,undefined,undefined);}
return links.inferredClassType;}
function checkCallExpression(node){checkGrammarTypeArguments(node,node.typeArguments)||checkGrammarArguments(node,node.arguments);var signature=getResolvedSignature(node);if(node.expression.kind===95 ){return voidType;}
if(node.kind===172 ){var declaration=signature.declaration;if(declaration&&declaration.kind!==145 &&declaration.kind!==149 &&declaration.kind!==154 &&!ts.isJSDocConstructSignature(declaration)){var funcSymbol=checkExpression(node.expression).symbol;if(funcSymbol&&funcSymbol.members&&(funcSymbol.flags&16 )){return getInferredClassType(funcSymbol);}
else if(compilerOptions.noImplicitAny){error(node,ts.Diagnostics.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type);}
return anyType;}}
if(ts.isInJavaScriptFile(node)&&ts.isRequireCall(node,true)){return resolveExternalModuleTypeByLiteral(node.arguments[0]);}
return getReturnTypeOfSignature(signature);}
function checkTaggedTemplateExpression(node){return getReturnTypeOfSignature(getResolvedSignature(node));}
function checkAssertion(node){var exprType=getRegularTypeOfObjectLiteral(checkExpression(node.expression));var targetType=getTypeFromTypeNode(node.type);if(produceDiagnostics&&targetType!==unknownType){var widenedType=getWidenedType(exprType);var bothAreStringLike=someConstituentTypeHasKind(targetType,258 )&&someConstituentTypeHasKind(widenedType,258 );if(!bothAreStringLike&&!(isTypeAssignableTo(targetType,widenedType))){checkTypeAssignableTo(exprType,targetType,node,ts.Diagnostics.Neither_type_0_nor_type_1_is_assignable_to_the_other);}}
return targetType;}
function getTypeAtPosition(signature,pos){return signature.hasRestParameter?pos<signature.parameters.length-1?getTypeOfSymbol(signature.parameters[pos]):getRestTypeOfSignature(signature):pos<signature.parameters.length?getTypeOfSymbol(signature.parameters[pos]):anyType;}
function assignContextualParameterTypes(signature,context,mapper){var len=signature.parameters.length-(signature.hasRestParameter?1:0);for(var i=0;i<len;i++){var parameter=signature.parameters[i];var contextualParameterType=getTypeAtPosition(context,i);assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper);}
if(signature.hasRestParameter&&isRestParameterIndex(context,signature.parameters.length-1)){var parameter=ts.lastOrUndefined(signature.parameters);var contextualParameterType=getTypeOfSymbol(ts.lastOrUndefined(context.parameters));assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper);}}
function assignBindingElementTypes(node){if(ts.isBindingPattern(node.name)){for(var _i=0,_a=node.name.elements;_i<_a.length;_i++){var element=_a[_i];if(element.kind!==190 ){if(element.name.kind===69 ){getSymbolLinks(getSymbolOfNode(element)).type=getTypeForBindingElement(element);}
assignBindingElementTypes(element);}}}}
function assignTypeToParameterAndFixTypeParameters(parameter,contextualType,mapper){var links=getSymbolLinks(parameter);if(!links.type){links.type=instantiateType(contextualType,mapper);assignBindingElementTypes(parameter.valueDeclaration);}
else if(isInferentialContext(mapper)){inferTypes(mapper.context,links.type,instantiateType(contextualType,mapper));}}
function getReturnTypeFromJSDocComment(func){var returnTag=ts.getJSDocReturnTag(func);if(returnTag&&returnTag.typeExpression){return getTypeFromTypeNode(returnTag.typeExpression.type);}
return undefined;}
function createPromiseType(promisedType){var globalPromiseType=getGlobalPromiseType();if(globalPromiseType!==emptyGenericType){promisedType=getAwaitedType(promisedType);return createTypeReference(globalPromiseType,[promisedType]);}
return emptyObjectType;}
function getReturnTypeFromBody(func,contextualMapper){var contextualSignature=getContextualSignatureForFunctionLikeDeclaration(func);if(!func.body){return unknownType;}
var isAsync=ts.isAsyncFunctionLike(func);var type;if(func.body.kind!==195 ){type=checkExpressionCached(func.body,contextualMapper);if(isAsync){type=checkAwaitedType(type,func,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member);}}
else{var types=void 0;var funcIsGenerator=!!func.asteriskToken;if(funcIsGenerator){types=checkAndAggregateYieldOperandTypes(func.body,contextualMapper);if(types.length===0){var iterableIteratorAny=createIterableIteratorType(anyType);if(compilerOptions.noImplicitAny){error(func.asteriskToken,ts.Diagnostics.Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type,typeToString(iterableIteratorAny));}
return iterableIteratorAny;}}
else{types=checkAndAggregateReturnExpressionTypes(func.body,contextualMapper,isAsync);if(types.length===0){if(isAsync){var promiseType=createPromiseType(voidType);if(promiseType===emptyObjectType){error(func,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);return unknownType;}
return promiseType;}
else{return voidType;}}}
type=contextualSignature?getUnionType(types):getCommonSupertype(types);if(!type){if(funcIsGenerator){error(func,ts.Diagnostics.No_best_common_type_exists_among_yield_expressions);return createIterableIteratorType(unknownType);}
else{error(func,ts.Diagnostics.No_best_common_type_exists_among_return_expressions);return getUnionType(types);}}
if(funcIsGenerator){type=createIterableIteratorType(type);}}
if(!contextualSignature){reportErrorsFromWidening(func,type);}
var widenedType=getWidenedType(type);if(isAsync){var promiseType=createPromiseType(widenedType);if(promiseType===emptyObjectType){error(func,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);return unknownType;}
return promiseType;}
else{return widenedType;}}
function checkAndAggregateYieldOperandTypes(body,contextualMapper){var aggregatedTypes=[];ts.forEachYieldExpression(body,function(yieldExpression){var expr=yieldExpression.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);if(yieldExpression.asteriskToken){type=checkElementTypeOfIterable(type,yieldExpression.expression);}
if(!ts.contains(aggregatedTypes,type)){aggregatedTypes.push(type);}}});return aggregatedTypes;}
function checkAndAggregateReturnExpressionTypes(body,contextualMapper,isAsync){var aggregatedTypes=[];ts.forEachReturnStatement(body,function(returnStatement){var expr=returnStatement.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);if(isAsync){type=checkAwaitedType(type,body.parent,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member);}
if(!ts.contains(aggregatedTypes,type)){aggregatedTypes.push(type);}}});return aggregatedTypes;}
function checkAllCodePathsInNonVoidFunctionReturnOrThrow(func,returnType){if(!produceDiagnostics){return;}
if(returnType===voidType||isTypeAny(returnType)||(returnType&&(returnType.flags&16384 )&&someConstituentTypeHasKind(returnType,1 |16 ))){return;}
if(ts.nodeIsMissing(func.body)||func.body.kind!==195 ||!(func.flags&524288 )){return;}
var hasExplicitReturn=func.flags&1048576 ;if(returnType&&!hasExplicitReturn){error(func.type,ts.Diagnostics.A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value);}
else if(compilerOptions.noImplicitReturns){if(!returnType){var inferredReturnType=hasExplicitReturn?getReturnTypeOfSignature(getSignatureFromDeclaration(func)):voidType;if(inferredReturnType===voidType||isTypeAny(inferredReturnType)){return;}}
error(func.type||func,ts.Diagnostics.Not_all_code_paths_return_a_value);}}
function checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper){ts.Debug.assert(node.kind!==144 ||ts.isObjectLiteralMethod(node));var hasGrammarError=checkGrammarFunctionLikeDeclaration(node);if(!hasGrammarError&&node.kind===176 ){checkGrammarForGenerator(node);}
if(contextualMapper===identityMapper&&isContextSensitive(node)){checkNodeDeferred(node);return anyFunctionType;}
var links=getNodeLinks(node);var type=getTypeOfSymbol(node.symbol);var contextSensitive=isContextSensitive(node);var mightFixTypeParameters=contextSensitive&&isInferentialContext(contextualMapper);if(mightFixTypeParameters||!(links.flags&1024 )){var contextualSignature=getContextualSignature(node);var contextChecked=!!(links.flags&1024 );if(mightFixTypeParameters||!contextChecked){links.flags|=1024 ;if(contextualSignature){var signature=getSignaturesOfType(type,0 )[0];if(contextSensitive){assignContextualParameterTypes(signature,contextualSignature,contextualMapper||identityMapper);}
if(mightFixTypeParameters||!node.type&&!signature.resolvedReturnType){var returnType=getReturnTypeFromBody(node,contextualMapper);if(!signature.resolvedReturnType){signature.resolvedReturnType=returnType;}}}
if(!contextChecked){checkSignatureDeclaration(node);checkNodeDeferred(node);}}}
if(produceDiagnostics&&node.kind!==144 &&node.kind!==143 ){checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name);}
return type;}
function checkFunctionExpressionOrObjectLiteralMethodDeferred(node){ts.Debug.assert(node.kind!==144 ||ts.isObjectLiteralMethod(node));var isAsync=ts.isAsyncFunctionLike(node);var returnOrPromisedType=node.type&&(isAsync?checkAsyncFunctionReturnType(node):getTypeFromTypeNode(node.type));if(!node.asteriskToken){checkAllCodePathsInNonVoidFunctionReturnOrThrow(node,returnOrPromisedType);}
if(node.body){if(!node.type){getReturnTypeOfSignature(getSignatureFromDeclaration(node));}
if(node.body.kind===195 ){checkSourceElement(node.body);}
else{var exprType=checkExpression(node.body);if(returnOrPromisedType){if(isAsync){var awaitedType=checkAwaitedType(exprType,node.body,ts.Diagnostics.Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member);checkTypeAssignableTo(awaitedType,returnOrPromisedType,node.body);}
else{checkTypeAssignableTo(exprType,returnOrPromisedType,node.body);}}}}}
function checkArithmeticOperandType(operand,type,diagnostic){if(!isTypeAnyOrAllConstituentTypesHaveKind(type,132 )){error(operand,diagnostic);return false;}
return true;}
function checkReferenceExpression(n,invalidReferenceMessage,constantVariableMessage){function findSymbol(n){var symbol=getNodeLinks(n).resolvedSymbol;return symbol&&getExportSymbolOfValueSymbolIfExported(symbol);}
function isReferenceOrErrorExpression(n){switch(n.kind){case 69 :{var symbol=findSymbol(n);return!symbol||symbol===unknownSymbol||symbol===argumentsSymbol||(symbol.flags&3 )!==0;}
case 169 :{var symbol=findSymbol(n);return!symbol||symbol===unknownSymbol||(symbol.flags&~8 )!==0;}
case 170 :return true;case 175 :return isReferenceOrErrorExpression(n.expression);default:return false;}}
function isConstVariableReference(n){switch(n.kind){case 69 :case 169 :{var symbol=findSymbol(n);return symbol&&(symbol.flags&3 )!==0&&(getDeclarationFlagsFromSymbol(symbol)&16384 )!==0;}
case 170 :{var index=n.argumentExpression;var symbol=findSymbol(n.expression);if(symbol&&index&&index.kind===9 ){var name_12=index.text;var prop=getPropertyOfType(getTypeOfSymbol(symbol),name_12);return prop&&(prop.flags&3 )!==0&&(getDeclarationFlagsFromSymbol(prop)&16384 )!==0;}
return false;}
case 175 :return isConstVariableReference(n.expression);default:return false;}}
if(!isReferenceOrErrorExpression(n)){error(n,invalidReferenceMessage);return false;}
if(isConstVariableReference(n)){error(n,constantVariableMessage);return false;}
return true;}
function checkDeleteExpression(node){checkExpression(node.expression);return booleanType;}
function checkTypeOfExpression(node){checkExpression(node.expression);return stringType;}
function checkVoidExpression(node){checkExpression(node.expression);return undefinedType;}
function checkAwaitExpression(node){if(produceDiagnostics){if(!(node.parserContextFlags&8 )){grammarErrorOnFirstToken(node,ts.Diagnostics.await_expression_is_only_allowed_within_an_async_function);}
if(isInParameterInitializerBeforeContainingFunction(node)){error(node,ts.Diagnostics.await_expressions_cannot_be_used_in_a_parameter_initializer);}}
var operandType=checkExpression(node.expression);return checkAwaitedType(operandType,node);}
function checkPrefixUnaryExpression(node){var operandType=checkExpression(node.operand);switch(node.operator){case 35 :case 36 :case 50 :if(someConstituentTypeHasKind(operandType,16777216 )){error(node.operand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(node.operator));}
return numberType;case 49 :return booleanType;case 41 :case 42 :var ok=checkArithmeticOperandType(node.operand,operandType,ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);if(ok){checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant);}
return numberType;}
return unknownType;}
function checkPostfixUnaryExpression(node){var operandType=checkExpression(node.operand);var ok=checkArithmeticOperandType(node.operand,operandType,ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);if(ok){checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant);}
return numberType;}
function someConstituentTypeHasKind(type,kind){if(type.flags&kind){return true;}
if(type.flags&49152 ){var types=type.types;for(var _i=0,types_10=types;_i<types_10.length;_i++){var current=types_10[_i];if(current.flags&kind){return true;}}
return false;}
return false;}
function allConstituentTypesHaveKind(type,kind){if(type.flags&kind){return true;}
if(type.flags&49152 ){var types=type.types;for(var _i=0,types_11=types;_i<types_11.length;_i++){var current=types_11[_i];if(!(current.flags&kind)){return false;}}
return true;}
return false;}
function isConstEnumObjectType(type){return type.flags&(80896 |65536 )&&type.symbol&&isConstEnumSymbol(type.symbol);}
function isConstEnumSymbol(symbol){return(symbol.flags&128 )!==0;}
function checkInstanceOfExpression(left,right,leftType,rightType){if(allConstituentTypesHaveKind(leftType,16777726 )){error(left,ts.Diagnostics.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter);}
if(!(isTypeAny(rightType)||isTypeSubtypeOf(rightType,globalFunctionType))){error(right,ts.Diagnostics.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type);}
return booleanType;}
function checkInExpression(left,right,leftType,rightType){if(!isTypeAnyOrAllConstituentTypesHaveKind(leftType,258 |132 |16777216 )){error(left,ts.Diagnostics.The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol);}
if(!isTypeAnyOrAllConstituentTypesHaveKind(rightType,80896 |512 )){error(right,ts.Diagnostics.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter);}
return booleanType;}
function checkObjectLiteralAssignment(node,sourceType,contextualMapper){var properties=node.properties;for(var _i=0,properties_3=properties;_i<properties_3.length;_i++){var p=properties_3[_i];if(p.kind===248 ||p.kind===249 ){var name_13=p.name;if(name_13.kind===137 ){checkComputedPropertyName(name_13);}
if(isComputedNonLiteralName(name_13)){continue;}
var text=getTextOfPropertyName(name_13);var type=isTypeAny(sourceType)?sourceType:getTypeOfPropertyOfType(sourceType,text)||isNumericLiteralName(text)&&getIndexTypeOfType(sourceType,1 )||getIndexTypeOfType(sourceType,0 );if(type){if(p.kind===249 ){checkDestructuringAssignment(p,type);}
else{checkDestructuringAssignment(p.initializer,type);}}
else{error(name_13,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(sourceType),ts.declarationNameToString(name_13));}}
else{error(p,ts.Diagnostics.Property_assignment_expected);}}
return sourceType;}
function checkArrayLiteralAssignment(node,sourceType,contextualMapper){var elementType=checkIteratedTypeOrElementType(sourceType,node,false)||unknownType;var elements=node.elements;for(var i=0;i<elements.length;i++){var e=elements[i];if(e.kind!==190 ){if(e.kind!==188 ){var propName=""+i;var type=isTypeAny(sourceType)?sourceType:isTupleLikeType(sourceType)?getTypeOfPropertyOfType(sourceType,propName):elementType;if(type){checkDestructuringAssignment(e,type,contextualMapper);}
else{if(isTupleType(sourceType)){error(e,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(sourceType),sourceType.elementTypes.length,elements.length);}
else{error(e,ts.Diagnostics.Type_0_has_no_property_1,typeToString(sourceType),propName);}}}
else{if(i<elements.length-1){error(e,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern);}
else{var restExpression=e.expression;if(restExpression.kind===184 &&restExpression.operatorToken.kind===56 ){error(restExpression.operatorToken,ts.Diagnostics.A_rest_element_cannot_have_an_initializer);}
else{checkDestructuringAssignment(restExpression,createArrayType(elementType),contextualMapper);}}}}}
return sourceType;}
function checkDestructuringAssignment(exprOrAssignment,sourceType,contextualMapper){var target;if(exprOrAssignment.kind===249 ){var prop=exprOrAssignment;if(prop.objectAssignmentInitializer){checkBinaryLikeExpression(prop.name,prop.equalsToken,prop.objectAssignmentInitializer,contextualMapper);}
target=exprOrAssignment.name;}
else{target=exprOrAssignment;}
if(target.kind===184 &&target.operatorToken.kind===56 ){checkBinaryExpression(target,contextualMapper);target=target.left;}
if(target.kind===168 ){return checkObjectLiteralAssignment(target,sourceType,contextualMapper);}
if(target.kind===167 ){return checkArrayLiteralAssignment(target,sourceType,contextualMapper);}
return checkReferenceAssignment(target,sourceType,contextualMapper);}
function checkReferenceAssignment(target,sourceType,contextualMapper){var targetType=checkExpression(target,contextualMapper);if(checkReferenceExpression(target,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant)){checkTypeAssignableTo(sourceType,targetType,target,undefined);}
return sourceType;}
function checkBinaryExpression(node,contextualMapper){return checkBinaryLikeExpression(node.left,node.operatorToken,node.right,contextualMapper,node);}
function checkBinaryLikeExpression(left,operatorToken,right,contextualMapper,errorNode){var operator=operatorToken.kind;if(operator===56 &&(left.kind===168 ||left.kind===167 )){return checkDestructuringAssignment(left,checkExpression(right,contextualMapper),contextualMapper);}
var leftType=checkExpression(left,contextualMapper);var rightType=checkExpression(right,contextualMapper);switch(operator){case 37 :case 38 :case 59 :case 60 :case 39 :case 61 :case 40 :case 62 :case 36 :case 58 :case 43 :case 63 :case 44 :case 64 :case 45 :case 65 :case 47 :case 67 :case 48 :case 68 :case 46 :case 66 :if(leftType.flags&(32 |64 ))
leftType=rightType;if(rightType.flags&(32 |64 ))
rightType=leftType;var suggestedOperator=void 0;if((leftType.flags&8 )&&(rightType.flags&8 )&&(suggestedOperator=getSuggestedBooleanOperator(operatorToken.kind))!==undefined){error(errorNode||operatorToken,ts.Diagnostics.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,ts.tokenToString(operatorToken.kind),ts.tokenToString(suggestedOperator));}
else{var leftOk=checkArithmeticOperandType(left,leftType,ts.Diagnostics.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type);var rightOk=checkArithmeticOperandType(right,rightType,ts.Diagnostics.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type);if(leftOk&&rightOk){checkAssignmentOperator(numberType);}}
return numberType;case 35 :case 57 :if(leftType.flags&(32 |64 ))
leftType=rightType;if(rightType.flags&(32 |64 ))
rightType=leftType;var resultType=void 0;if(allConstituentTypesHaveKind(leftType,132 )&&allConstituentTypesHaveKind(rightType,132 )){resultType=numberType;}
else{if(allConstituentTypesHaveKind(leftType,258 )||allConstituentTypesHaveKind(rightType,258 )){resultType=stringType;}
else if(isTypeAny(leftType)||isTypeAny(rightType)){resultType=leftType===unknownType||rightType===unknownType?unknownType:anyType;}
if(resultType&&!checkForDisallowedESSymbolOperand(operator)){return resultType;}}
if(!resultType){reportOperatorError();return anyType;}
if(operator===57 ){checkAssignmentOperator(resultType);}
return resultType;case 25 :case 27 :case 28 :case 29 :if(!checkForDisallowedESSymbolOperand(operator)){return booleanType;}
case 30 :case 31 :case 32 :case 33 :if(someConstituentTypeHasKind(leftType,258 )&&someConstituentTypeHasKind(rightType,258 )){return booleanType;}
if(!isTypeAssignableTo(leftType,rightType)&&!isTypeAssignableTo(rightType,leftType)){reportOperatorError();}
return booleanType;case 91 :return checkInstanceOfExpression(left,right,leftType,rightType);case 90 :return checkInExpression(left,right,leftType,rightType);case 51 :return rightType;case 52 :return getUnionType([leftType,rightType]);case 56 :checkAssignmentOperator(rightType);return getRegularTypeOfObjectLiteral(rightType);case 24 :return rightType;}
function checkForDisallowedESSymbolOperand(operator){var offendingSymbolOperand=someConstituentTypeHasKind(leftType,16777216 )?left:someConstituentTypeHasKind(rightType,16777216 )?right:undefined;if(offendingSymbolOperand){error(offendingSymbolOperand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(operator));return false;}
return true;}
function getSuggestedBooleanOperator(operator){switch(operator){case 47 :case 67 :return 52 ;case 48 :case 68 :return 33 ;case 46 :case 66 :return 51 ;default:return undefined;}}
function checkAssignmentOperator(valueType){if(produceDiagnostics&&operator>=56 &&operator<=68 ){var ok=checkReferenceExpression(left,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant);if(ok){checkTypeAssignableTo(valueType,leftType,left,undefined);}}}
function reportOperatorError(){error(errorNode||operatorToken,ts.Diagnostics.Operator_0_cannot_be_applied_to_types_1_and_2,ts.tokenToString(operatorToken.kind),typeToString(leftType),typeToString(rightType));}}
function isYieldExpressionInClass(node){var current=node;var parent=node.parent;while(parent){if(ts.isFunctionLike(parent)&&current===parent.body){return false;}
else if(ts.isClassLike(current)){return true;}
current=parent;parent=parent.parent;}
return false;}
function checkYieldExpression(node){if(produceDiagnostics){if(!(node.parserContextFlags&2 )||isYieldExpressionInClass(node)){grammarErrorOnFirstToken(node,ts.Diagnostics.A_yield_expression_is_only_allowed_in_a_generator_body);}
if(isInParameterInitializerBeforeContainingFunction(node)){error(node,ts.Diagnostics.yield_expressions_cannot_be_used_in_a_parameter_initializer);}}
if(node.expression){var func=ts.getContainingFunction(node);if(func&&func.asteriskToken){var expressionType=checkExpressionCached(node.expression,undefined);var expressionElementType=void 0;var nodeIsYieldStar=!!node.asteriskToken;if(nodeIsYieldStar){expressionElementType=checkElementTypeOfIterable(expressionType,node.expression);}
if(func.type){var signatureElementType=getElementTypeOfIterableIterator(getTypeFromTypeNode(func.type))||anyType;if(nodeIsYieldStar){checkTypeAssignableTo(expressionElementType,signatureElementType,node.expression,undefined);}
else{checkTypeAssignableTo(expressionType,signatureElementType,node.expression,undefined);}}}}
return anyType;}
function checkConditionalExpression(node,contextualMapper){checkExpression(node.condition);var type1=checkExpression(node.whenTrue,contextualMapper);var type2=checkExpression(node.whenFalse,contextualMapper);return getUnionType([type1,type2]);}
function checkStringLiteralExpression(node){var contextualType=getContextualType(node);if(contextualType&&contextualTypeIsStringLiteralType(contextualType)){return getStringLiteralTypeForText(node.text);}
return stringType;}
function checkTemplateExpression(node){ts.forEach(node.templateSpans,function(templateSpan){checkExpression(templateSpan.expression);});return stringType;}
function checkExpressionWithContextualType(node,contextualType,contextualMapper){var saveContextualType=node.contextualType;node.contextualType=contextualType;var result=checkExpression(node,contextualMapper);node.contextualType=saveContextualType;return result;}
function checkExpressionCached(node,contextualMapper){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=checkExpression(node,contextualMapper);}
return links.resolvedType;}
function checkPropertyAssignment(node,contextualMapper){if(node.name.kind===137 ){checkComputedPropertyName(node.name);}
return checkExpression(node.initializer,contextualMapper);}
function checkObjectLiteralMethod(node,contextualMapper){checkGrammarMethod(node);if(node.name.kind===137 ){checkComputedPropertyName(node.name);}
var uninstantiatedType=checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);return instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper);}
function instantiateTypeWithSingleGenericCallSignature(node,type,contextualMapper){if(isInferentialContext(contextualMapper)){var signature=getSingleCallSignature(type);if(signature&&signature.typeParameters){var contextualType=getApparentTypeOfContextualType(node);if(contextualType){var contextualSignature=getSingleCallSignature(contextualType);if(contextualSignature&&!contextualSignature.typeParameters){return getOrCreateTypeFromSignature(instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper));}}}}
return type;}
function checkExpression(node,contextualMapper){var type;if(node.kind===136 ){type=checkQualifiedName(node);}
else{var uninstantiatedType=checkExpressionWorker(node,contextualMapper);type=instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper);}
if(isConstEnumObjectType(type)){var ok=(node.parent.kind===169 &&node.parent.expression===node)||(node.parent.kind===170 &&node.parent.expression===node)||((node.kind===69 ||node.kind===136 )&&isInRightSideOfImportOrExportAssignment(node));if(!ok){error(node,ts.Diagnostics.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment);}}
return type;}
function checkNumericLiteral(node){checkGrammarNumericLiteral(node);return numberType;}
function checkExpressionWorker(node,contextualMapper){switch(node.kind){case 69 :return checkIdentifier(node);case 97 :return checkThisExpression(node);case 95 :return checkSuperExpression(node);case 93 :return nullType;case 99 :case 84 :return booleanType;case 8 :return checkNumericLiteral(node);case 186 :return checkTemplateExpression(node);case 9 :return checkStringLiteralExpression(node);case 11 :return stringType;case 10 :return globalRegExpType;case 167 :return checkArrayLiteral(node,contextualMapper);case 168 :return checkObjectLiteral(node,contextualMapper);case 169 :return checkPropertyAccessExpression(node);case 170 :return checkIndexedAccess(node);case 171 :case 172 :return checkCallExpression(node);case 173 :return checkTaggedTemplateExpression(node);case 175 :return checkExpression(node.expression,contextualMapper);case 189 :return checkClassExpression(node);case 176 :case 177 :return checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);case 179 :return checkTypeOfExpression(node);case 174 :case 192 :return checkAssertion(node);case 178 :return checkDeleteExpression(node);case 180 :return checkVoidExpression(node);case 181 :return checkAwaitExpression(node);case 182 :return checkPrefixUnaryExpression(node);case 183 :return checkPostfixUnaryExpression(node);case 184 :return checkBinaryExpression(node,contextualMapper);case 185 :return checkConditionalExpression(node,contextualMapper);case 188 :return checkSpreadElementExpression(node,contextualMapper);case 190 :return undefinedType;case 187 :return checkYieldExpression(node);case 243 :return checkJsxExpression(node);case 236 :return checkJsxElement(node);case 237 :return checkJsxSelfClosingElement(node);case 238 :ts.Debug.fail("Shouldn't ever directly check a JsxOpeningElement");}
return unknownType;}
function checkTypeParameter(node){if(node.expression){grammarErrorOnFirstToken(node.expression,ts.Diagnostics.Type_expected);}
checkSourceElement(node.constraint);getConstraintOfTypeParameter(getDeclaredTypeOfTypeParameter(getSymbolOfNode(node)));if(produceDiagnostics){checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_parameter_name_cannot_be_0);}}
function checkParameter(node){checkGrammarDecorators(node)||checkGrammarModifiers(node);checkVariableLikeDeclaration(node);var func=ts.getContainingFunction(node);if(node.flags&56 ){func=ts.getContainingFunction(node);if(!(func.kind===145 &&ts.nodeIsPresent(func.body))){error(node,ts.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation);}}
if(node.questionToken&&ts.isBindingPattern(node.name)&&func.body){error(node,ts.Diagnostics.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature);}
if(node.dotDotDotToken&&!ts.isBindingPattern(node.name)&&!isArrayType(getTypeOfSymbol(node.symbol))){error(node,ts.Diagnostics.A_rest_parameter_must_be_of_an_array_type);}}
function isSyntacticallyValidGenerator(node){if(!node.asteriskToken||!node.body){return false;}
return node.kind===144 ||node.kind===216 ||node.kind===176 ;}
function getTypePredicateParameterIndex(parameterList,parameter){if(parameterList){for(var i=0;i<parameterList.length;i++){var param=parameterList[i];if(param.name.kind===69 &&param.name.text===parameter.text){return i;}}}
return-1;}
function checkTypePredicate(node){var parent=getTypePredicateParent(node);if(!parent){error(node,ts.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods);return;}
var typePredicate=getSignatureFromDeclaration(parent).typePredicate;if(!typePredicate){return;}
var parameterName=node.parameterName;if(ts.isThisTypePredicate(typePredicate)){getTypeFromThisTypeNode(parameterName);}
else{if(typePredicate.parameterIndex>=0){if(parent.parameters[typePredicate.parameterIndex].dotDotDotToken){error(parameterName,ts.Diagnostics.A_type_predicate_cannot_reference_a_rest_parameter);}
else{checkTypeAssignableTo(typePredicate.type,getTypeOfNode(parent.parameters[typePredicate.parameterIndex]),node.type);}}
else if(parameterName){var hasReportedError=false;for(var _i=0,_a=parent.parameters;_i<_a.length;_i++){var name_14=_a[_i].name;if(ts.isBindingPattern(name_14)&&checkIfTypePredicateVariableIsDeclaredInBindingPattern(name_14,parameterName,typePredicate.parameterName)){hasReportedError=true;break;}}
if(!hasReportedError){error(node.parameterName,ts.Diagnostics.Cannot_find_parameter_0,typePredicate.parameterName);}}}}
function getTypePredicateParent(node){switch(node.parent.kind){case 177 :case 148 :case 216 :case 176 :case 153 :case 144 :case 143 :var parent_7=node.parent;if(node===parent_7.type){return parent_7;}}}
function checkIfTypePredicateVariableIsDeclaredInBindingPattern(pattern,predicateVariableNode,predicateVariableName){for(var _i=0,_a=pattern.elements;_i<_a.length;_i++){var name_15=_a[_i].name;if(name_15.kind===69 &&name_15.text===predicateVariableName){error(predicateVariableNode,ts.Diagnostics.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,predicateVariableName);return true;}
else if(name_15.kind===165 ||name_15.kind===164 ){if(checkIfTypePredicateVariableIsDeclaredInBindingPattern(name_15,predicateVariableNode,predicateVariableName)){return true;}}}}
function checkSignatureDeclaration(node){if(node.kind===150 ){checkGrammarIndexSignature(node);}
else if(node.kind===153 ||node.kind===216 ||node.kind===154 ||node.kind===148 ||node.kind===145 ||node.kind===149 ){checkGrammarFunctionLikeDeclaration(node);}
checkTypeParameters(node.typeParameters);ts.forEach(node.parameters,checkParameter);if(node.type){checkSourceElement(node.type);}
if(produceDiagnostics){checkCollisionWithArgumentsInGeneratedCode(node);if(compilerOptions.noImplicitAny&&!node.type){switch(node.kind){case 149 :error(node,ts.Diagnostics.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 148 :error(node,ts.Diagnostics.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;}}
if(node.type){if(languageVersion>=2 &&isSyntacticallyValidGenerator(node)){var returnType=getTypeFromTypeNode(node.type);if(returnType===voidType){error(node.type,ts.Diagnostics.A_generator_cannot_have_a_void_type_annotation);}
else{var generatorElementType=getElementTypeOfIterableIterator(returnType)||anyType;var iterableIteratorInstantiation=createIterableIteratorType(generatorElementType);checkTypeAssignableTo(iterableIteratorInstantiation,returnType,node.type);}}
else if(ts.isAsyncFunctionLike(node)){checkAsyncFunctionReturnType(node);}}}
checkSpecializedSignatureDeclaration(node);}
function checkTypeForDuplicateIndexSignatures(node){if(node.kind===218 ){var nodeSymbol=getSymbolOfNode(node);if(nodeSymbol.declarations.length>0&&nodeSymbol.declarations[0]!==node){return;}}
var indexSymbol=getIndexSymbol(getSymbolOfNode(node));if(indexSymbol){var seenNumericIndexer=false;var seenStringIndexer=false;for(var _i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i];var declaration=decl;if(declaration.parameters.length===1&&declaration.parameters[0].type){switch(declaration.parameters[0].type.kind){case 130 :if(!seenStringIndexer){seenStringIndexer=true;}
else{error(declaration,ts.Diagnostics.Duplicate_string_index_signature);}
break;case 128 :if(!seenNumericIndexer){seenNumericIndexer=true;}
else{error(declaration,ts.Diagnostics.Duplicate_number_index_signature);}
break;}}}}}
function checkPropertyDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarProperty(node)||checkGrammarComputedPropertyName(node.name);checkVariableLikeDeclaration(node);}
function checkMethodDeclaration(node){checkGrammarMethod(node)||checkGrammarComputedPropertyName(node.name);checkFunctionOrMethodDeclaration(node);if(node.flags&128 &&node.body){error(node,ts.Diagnostics.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,ts.declarationNameToString(node.name));}}
function checkConstructorDeclaration(node){checkSignatureDeclaration(node);checkGrammarConstructorTypeParameters(node)||checkGrammarConstructorTypeAnnotation(node);checkSourceElement(node.body);var symbol=getSymbolOfNode(node);var firstDeclaration=ts.getDeclarationOfKind(symbol,node.kind);if(node===firstDeclaration){checkFunctionOrConstructorSymbol(symbol);}
if(ts.nodeIsMissing(node.body)){return;}
if(!produceDiagnostics){return;}
function markThisReferencesAsErrors(n){if(n.kind===97 ){error(n,ts.Diagnostics.this_cannot_be_referenced_in_current_location);}
else if(n.kind!==176 &&n.kind!==216 ){ts.forEachChild(n,markThisReferencesAsErrors);}}
function isInstancePropertyWithInitializer(n){return n.kind===142 &&!(n.flags&64 )&&!!n.initializer;}
var containingClassDecl=node.parent;if(ts.getClassExtendsHeritageClauseElement(containingClassDecl)){var classExtendsNull=classDeclarationExtendsNull(containingClassDecl);var superCall=getSuperCallInConstructor(node);if(superCall){if(classExtendsNull){error(superCall,ts.Diagnostics.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null);}
var superCallShouldBeFirst=ts.forEach(node.parent.members,isInstancePropertyWithInitializer)||ts.forEach(node.parameters,function(p){return p.flags&(8 |16 |32 );});if(superCallShouldBeFirst){var statements=node.body.statements;var superCallStatement=void 0;for(var _i=0,statements_2=statements;_i<statements_2.length;_i++){var statement=statements_2[_i];if(statement.kind===198 &&ts.isSuperCallExpression(statement.expression)){superCallStatement=statement;break;}
if(!ts.isPrologueDirective(statement)){break;}}
if(!superCallStatement){error(node,ts.Diagnostics.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties);}}}
else if(!classExtendsNull){error(node,ts.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call);}}}
function checkAccessorDeclaration(node){if(produceDiagnostics){checkGrammarFunctionLikeDeclaration(node)||checkGrammarAccessor(node)||checkGrammarComputedPropertyName(node.name);checkDecorators(node);checkSignatureDeclaration(node);if(node.kind===146 ){if(!ts.isInAmbientContext(node)&&ts.nodeIsPresent(node.body)&&(node.flags&524288 )){if(node.flags&1048576 ){if(compilerOptions.noImplicitReturns){error(node.name,ts.Diagnostics.Not_all_code_paths_return_a_value);}}
else{error(node.name,ts.Diagnostics.A_get_accessor_must_return_a_value);}}}
if(node.name.kind===137 ){checkComputedPropertyName(node.name);}
if(!ts.hasDynamicName(node)){var otherKind=node.kind===146 ?147 :146 ;var otherAccessor=ts.getDeclarationOfKind(node.symbol,otherKind);if(otherAccessor){if(((node.flags&56 )!==(otherAccessor.flags&56 ))){error(node.name,ts.Diagnostics.Getter_and_setter_accessors_do_not_agree_in_visibility);}
var currentAccessorType=getAnnotatedAccessorType(node);var otherAccessorType=getAnnotatedAccessorType(otherAccessor);if(currentAccessorType&&otherAccessorType){if(!isTypeIdenticalTo(currentAccessorType,otherAccessorType)){error(node,ts.Diagnostics.get_and_set_accessor_must_have_the_same_type);}}}}
getTypeOfAccessors(getSymbolOfNode(node));}
if(node.parent.kind!==168 ){checkSourceElement(node.body);}
else{checkNodeDeferred(node);}}
function checkAccessorDeferred(node){checkSourceElement(node.body);}
function checkMissingDeclaration(node){checkDecorators(node);}
function checkTypeArgumentConstraints(typeParameters,typeArgumentNodes){var typeArguments;var mapper;var result=true;for(var i=0;i<typeParameters.length;i++){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){if(!typeArguments){typeArguments=ts.map(typeArgumentNodes,getTypeFromTypeNode);mapper=createTypeMapper(typeParameters,typeArguments);}
var typeArgument=typeArguments[i];result=result&&checkTypeAssignableTo(typeArgument,getTypeWithThisArgument(instantiateType(constraint,mapper),typeArgument),typeArgumentNodes[i],ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1);}}
return result;}
function checkTypeReferenceNode(node){checkGrammarTypeArguments(node,node.typeArguments);var type=getTypeFromTypeReference(node);if(type!==unknownType&&node.typeArguments){ts.forEach(node.typeArguments,checkSourceElement);if(produceDiagnostics){var symbol=getNodeLinks(node).resolvedSymbol;var typeParameters=symbol.flags&524288 ?getSymbolLinks(symbol).typeParameters:type.target.localTypeParameters;checkTypeArgumentConstraints(typeParameters,node.typeArguments);}}}
function checkTypeQuery(node){getTypeFromTypeQueryNode(node);}
function checkTypeLiteral(node){ts.forEach(node.members,checkSourceElement);if(produceDiagnostics){var type=getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node);checkIndexConstraints(type);checkTypeForDuplicateIndexSignatures(node);}}
function checkArrayType(node){checkSourceElement(node.elementType);}
function checkTupleType(node){var hasErrorFromDisallowedTrailingComma=checkGrammarForDisallowedTrailingComma(node.elementTypes);if(!hasErrorFromDisallowedTrailingComma&&node.elementTypes.length===0){grammarErrorOnNode(node,ts.Diagnostics.A_tuple_type_element_list_cannot_be_empty);}
ts.forEach(node.elementTypes,checkSourceElement);}
function checkUnionOrIntersectionType(node){ts.forEach(node.types,checkSourceElement);}
function isPrivateWithinAmbient(node){return(node.flags&16 )&&ts.isInAmbientContext(node);}
function checkSpecializedSignatureDeclaration(signatureDeclarationNode){if(!produceDiagnostics){return;}
var signature=getSignatureFromDeclaration(signatureDeclarationNode);if(!signature.hasStringLiterals){return;}
if(ts.nodeIsPresent(signatureDeclarationNode.body)){error(signatureDeclarationNode,ts.Diagnostics.A_signature_with_an_implementation_cannot_use_a_string_literal_type);return;}
var signaturesToCheck;if(!signatureDeclarationNode.name&&signatureDeclarationNode.parent&&signatureDeclarationNode.parent.kind===218 ){ts.Debug.assert(signatureDeclarationNode.kind===148 ||signatureDeclarationNode.kind===149 );var signatureKind=signatureDeclarationNode.kind===148 ?0 :1 ;var containingSymbol=getSymbolOfNode(signatureDeclarationNode.parent);var containingType=getDeclaredTypeOfSymbol(containingSymbol);signaturesToCheck=getSignaturesOfType(containingType,signatureKind);}
else{signaturesToCheck=getSignaturesOfSymbol(getSymbolOfNode(signatureDeclarationNode));}
for(var _i=0,signaturesToCheck_1=signaturesToCheck;_i<signaturesToCheck_1.length;_i++){var otherSignature=signaturesToCheck_1[_i];if(!otherSignature.hasStringLiterals&&isSignatureAssignableTo(signature,otherSignature,false)){return;}}
error(signatureDeclarationNode,ts.Diagnostics.Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature);}
function getEffectiveDeclarationFlags(n,flagsToCheck){var flags=ts.getCombinedNodeFlags(n);if(n.parent.kind!==218 &&n.parent.kind!==217 &&n.parent.kind!==189 &&ts.isInAmbientContext(n)){if(!(flags&4 )){flags|=2 ;}
flags|=4 ;}
return flags&flagsToCheck;}
function checkFunctionOrConstructorSymbol(symbol){if(!produceDiagnostics){return;}
function getCanonicalOverload(overloads,implementation){var implementationSharesContainerWithFirstOverload=implementation!==undefined&&implementation.parent===overloads[0].parent;return implementationSharesContainerWithFirstOverload?implementation:overloads[0];}
function checkFlagAgreementBetweenOverloads(overloads,implementation,flagsToCheck,someOverloadFlags,allOverloadFlags){var someButNotAllOverloadFlags=someOverloadFlags^allOverloadFlags;if(someButNotAllOverloadFlags!==0){var canonicalFlags_1=getEffectiveDeclarationFlags(getCanonicalOverload(overloads,implementation),flagsToCheck);ts.forEach(overloads,function(o){var deviation=getEffectiveDeclarationFlags(o,flagsToCheck)^canonicalFlags_1;if(deviation&2 ){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_exported_or_not_exported);}
else if(deviation&4 ){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_ambient_or_non_ambient);}
else if(deviation&(16 |32 )){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_public_private_or_protected);}
else if(deviation&128 ){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_abstract_or_not_abstract);}});}}
function checkQuestionTokenAgreementBetweenOverloads(overloads,implementation,someHaveQuestionToken,allHaveQuestionToken){if(someHaveQuestionToken!==allHaveQuestionToken){var canonicalHasQuestionToken_1=ts.hasQuestionToken(getCanonicalOverload(overloads,implementation));ts.forEach(overloads,function(o){var deviation=ts.hasQuestionToken(o)!==canonicalHasQuestionToken_1;if(deviation){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_optional_or_required);}});}}
var flagsToCheck=2 |4 |16 |32 |128 ;var someNodeFlags=0;var allNodeFlags=flagsToCheck;var someHaveQuestionToken=false;var allHaveQuestionToken=true;var hasOverloads=false;var bodyDeclaration;var lastSeenNonAmbientDeclaration;var previousDeclaration;var declarations=symbol.declarations;var isConstructor=(symbol.flags&16384 )!==0;function reportImplementationExpectedError(node){if(node.name&&ts.nodeIsMissing(node.name)){return;}
var seen=false;var subsequentNode=ts.forEachChild(node.parent,function(c){if(seen){return c;}
else{seen=c===node;}});if(subsequentNode&&subsequentNode.pos===node.end){if(subsequentNode.kind===node.kind){var errorNode_1=subsequentNode.name||subsequentNode;if(node.name&&subsequentNode.name&&node.name.text===subsequentNode.name.text){var reportError=(node.kind===144 ||node.kind===143 )&&(node.flags&64 )!==(subsequentNode.flags&64 );if(reportError){var diagnostic=node.flags&64 ?ts.Diagnostics.Function_overload_must_be_static:ts.Diagnostics.Function_overload_must_not_be_static;error(errorNode_1,diagnostic);}
return;}
else if(ts.nodeIsPresent(subsequentNode.body)){error(errorNode_1,ts.Diagnostics.Function_implementation_name_must_be_0,ts.declarationNameToString(node.name));return;}}}
var errorNode=node.name||node;if(isConstructor){error(errorNode,ts.Diagnostics.Constructor_implementation_is_missing);}
else{if(node.flags&128 ){error(errorNode,ts.Diagnostics.All_declarations_of_an_abstract_method_must_be_consecutive);}
else{error(errorNode,ts.Diagnostics.Function_implementation_is_missing_or_not_immediately_following_the_declaration);}}}
var isExportSymbolInsideModule=symbol.parent&&symbol.parent.flags&1536 ;var duplicateFunctionDeclaration=false;var multipleConstructorImplementation=false;for(var _i=0,declarations_4=declarations;_i<declarations_4.length;_i++){var current=declarations_4[_i];var node=current;var inAmbientContext=ts.isInAmbientContext(node);var inAmbientContextOrInterface=node.parent.kind===218 ||node.parent.kind===156 ||inAmbientContext;if(inAmbientContextOrInterface){previousDeclaration=undefined;}
if(node.kind===216 ||node.kind===144 ||node.kind===143 ||node.kind===145 ){var currentNodeFlags=getEffectiveDeclarationFlags(node,flagsToCheck);someNodeFlags|=currentNodeFlags;allNodeFlags&=currentNodeFlags;someHaveQuestionToken=someHaveQuestionToken||ts.hasQuestionToken(node);allHaveQuestionToken=allHaveQuestionToken&&ts.hasQuestionToken(node);if(ts.nodeIsPresent(node.body)&&bodyDeclaration){if(isConstructor){multipleConstructorImplementation=true;}
else{duplicateFunctionDeclaration=true;}}
else if(!isExportSymbolInsideModule&&previousDeclaration&&previousDeclaration.parent===node.parent&&previousDeclaration.end!==node.pos){reportImplementationExpectedError(previousDeclaration);}
if(ts.nodeIsPresent(node.body)){if(!bodyDeclaration){bodyDeclaration=node;}}
else{hasOverloads=true;}
previousDeclaration=node;if(!inAmbientContextOrInterface){lastSeenNonAmbientDeclaration=node;}}}
if(multipleConstructorImplementation){ts.forEach(declarations,function(declaration){error(declaration,ts.Diagnostics.Multiple_constructor_implementations_are_not_allowed);});}
if(duplicateFunctionDeclaration){ts.forEach(declarations,function(declaration){error(declaration.name,ts.Diagnostics.Duplicate_function_implementation);});}
if(!isExportSymbolInsideModule&&lastSeenNonAmbientDeclaration&&!lastSeenNonAmbientDeclaration.body&&!(lastSeenNonAmbientDeclaration.flags&128 )){reportImplementationExpectedError(lastSeenNonAmbientDeclaration);}
if(hasOverloads){checkFlagAgreementBetweenOverloads(declarations,bodyDeclaration,flagsToCheck,someNodeFlags,allNodeFlags);checkQuestionTokenAgreementBetweenOverloads(declarations,bodyDeclaration,someHaveQuestionToken,allHaveQuestionToken);if(bodyDeclaration){var signatures=getSignaturesOfSymbol(symbol);var bodySignature=getSignatureFromDeclaration(bodyDeclaration);if(!bodySignature.hasStringLiterals){for(var _a=0,signatures_3=signatures;_a<signatures_3.length;_a++){var signature=signatures_3[_a];if(!signature.hasStringLiterals&&!isImplementationCompatibleWithOverload(bodySignature,signature)){error(signature.declaration,ts.Diagnostics.Overload_signature_is_not_compatible_with_function_implementation);break;}}}}}}
function checkExportsOnMergedDeclarations(node){if(!produceDiagnostics){return;}
var symbol=node.localSymbol;if(!symbol){symbol=getSymbolOfNode(node);if(!(symbol.flags&7340032 )){return;}}
if(ts.getDeclarationOfKind(symbol,node.kind)!==node){return;}
var exportedDeclarationSpaces=0 ;var nonExportedDeclarationSpaces=0 ;var defaultExportedDeclarationSpaces=0 ;for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var d=_a[_i];var declarationSpaces=getDeclarationSpaces(d);var effectiveDeclarationFlags=getEffectiveDeclarationFlags(d,2 |512 );if(effectiveDeclarationFlags&2 ){if(effectiveDeclarationFlags&512 ){defaultExportedDeclarationSpaces|=declarationSpaces;}
else{exportedDeclarationSpaces|=declarationSpaces;}}
else{nonExportedDeclarationSpaces|=declarationSpaces;}}
var nonDefaultExportedDeclarationSpaces=exportedDeclarationSpaces|nonExportedDeclarationSpaces;var commonDeclarationSpacesForExportsAndLocals=exportedDeclarationSpaces&nonExportedDeclarationSpaces;var commonDeclarationSpacesForDefaultAndNonDefault=defaultExportedDeclarationSpaces&nonDefaultExportedDeclarationSpaces;if(commonDeclarationSpacesForExportsAndLocals||commonDeclarationSpacesForDefaultAndNonDefault){for(var _b=0,_c=symbol.declarations;_b<_c.length;_b++){var d=_c[_b];var declarationSpaces=getDeclarationSpaces(d);if(declarationSpaces&commonDeclarationSpacesForDefaultAndNonDefault){error(d.name,ts.Diagnostics.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,ts.declarationNameToString(d.name));}
else if(declarationSpaces&commonDeclarationSpacesForExportsAndLocals){error(d.name,ts.Diagnostics.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,ts.declarationNameToString(d.name));}}}
function getDeclarationSpaces(d){switch(d.kind){case 218 :return 2097152 ;case 221 :return ts.isAmbientModule(d)||ts.getModuleInstanceState(d)!==0 ?4194304 |1048576 :4194304 ;case 217 :case 220 :return 2097152 |1048576 ;case 224 :var result_2=0;var target=resolveAlias(getSymbolOfNode(d));ts.forEach(target.declarations,function(d){result_2|=getDeclarationSpaces(d);});return result_2;default:return 1048576 ;}}}
function checkNonThenableType(type,location,message){type=getWidenedType(type);if(!isTypeAny(type)&&isTypeAssignableTo(type,getGlobalThenableType())){if(location){if(!message){message=ts.Diagnostics.Operand_for_await_does_not_have_a_valid_callable_then_member;}
error(location,message);}
return unknownType;}
return type;}
function getPromisedType(promise){if(promise.flags&1 ){return undefined;}
if((promise.flags&4096 )&&promise.target===tryGetGlobalPromiseType()){return promise.typeArguments[0];}
var globalPromiseLikeType=getInstantiatedGlobalPromiseLikeType();if(globalPromiseLikeType===emptyObjectType||!isTypeAssignableTo(promise,globalPromiseLikeType)){return undefined;}
var thenFunction=getTypeOfPropertyOfType(promise,"then");if(thenFunction&&(thenFunction.flags&1 )){return undefined;}
var thenSignatures=thenFunction?getSignaturesOfType(thenFunction,0 ):emptyArray;if(thenSignatures.length===0){return undefined;}
var onfulfilledParameterType=getUnionType(ts.map(thenSignatures,getTypeOfFirstParameterOfSignature));if(onfulfilledParameterType.flags&1 ){return undefined;}
var onfulfilledParameterSignatures=getSignaturesOfType(onfulfilledParameterType,0 );if(onfulfilledParameterSignatures.length===0){return undefined;}
var valueParameterType=getUnionType(ts.map(onfulfilledParameterSignatures,getTypeOfFirstParameterOfSignature));return valueParameterType;}
function getTypeOfFirstParameterOfSignature(signature){return getTypeAtPosition(signature,0);}
function getAwaitedType(type){return checkAwaitedType(type,undefined,undefined);}
function checkAwaitedType(type,location,message){return checkAwaitedTypeWorker(type);function checkAwaitedTypeWorker(type){if(type.flags&16384 ){var types=[];for(var _i=0,_a=type.types;_i<_a.length;_i++){var constituentType=_a[_i];types.push(checkAwaitedTypeWorker(constituentType));}
return getUnionType(types);}
else{var promisedType=getPromisedType(type);if(promisedType===undefined){return checkNonThenableType(type,location,message);}
else{if(type.id===promisedType.id||awaitedTypeStack.indexOf(promisedType.id)>=0){if(location){error(location,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method,symbolToString(type.symbol));}
return unknownType;}
awaitedTypeStack.push(type.id);var awaitedType=checkAwaitedTypeWorker(promisedType);awaitedTypeStack.pop();return awaitedType;}}}}
function checkCorrectPromiseType(returnType,location){if(returnType===unknownType){return unknownType;}
var globalPromiseType=getGlobalPromiseType();if(globalPromiseType===emptyGenericType||globalPromiseType===getTargetType(returnType)){return checkAwaitedType(returnType,location,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);}
error(location,ts.Diagnostics.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type);return unknownType;}
function checkAsyncFunctionReturnType(node){if(compilerOptions.noCustomAsyncPromise&&languageVersion>=2 ){var returnType=getTypeFromTypeNode(node.type);return checkCorrectPromiseType(returnType,node.type);}
var globalPromiseConstructorLikeType=getGlobalPromiseConstructorLikeType();if(globalPromiseConstructorLikeType===emptyObjectType){return unknownType;}
var promiseType=getTypeFromTypeNode(node.type);if(promiseType===unknownType&&compilerOptions.isolatedModules){return unknownType;}
var promiseConstructor=getNodeLinks(node.type).resolvedSymbol;if(!promiseConstructor||!symbolIsValue(promiseConstructor)){var typeName=promiseConstructor?symbolToString(promiseConstructor):typeToString(promiseType);error(node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type,typeName);return unknownType;}
checkReturnTypeAnnotationAsExpression(node);var promiseConstructorType=getTypeOfSymbol(promiseConstructor);if(!checkTypeAssignableTo(promiseConstructorType,globalPromiseConstructorLikeType,node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type)){return unknownType;}
var promiseName=ts.getEntityNameFromTypeNode(node.type);var promiseNameOrNamespaceRoot=getFirstIdentifier(promiseName);var rootSymbol=getSymbol(node.locals,promiseNameOrNamespaceRoot.text,107455 );if(rootSymbol){error(rootSymbol.valueDeclaration,ts.Diagnostics.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,promiseNameOrNamespaceRoot.text,getFullyQualifiedName(promiseConstructor));return unknownType;}
return checkAwaitedType(promiseType,node,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);}
function checkDecorator(node){var signature=getResolvedSignature(node);var returnType=getReturnTypeOfSignature(signature);if(returnType.flags&1 ){return;}
var expectedReturnType;var headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);var errorInfo;switch(node.parent.kind){case 217 :var classSymbol=getSymbolOfNode(node.parent);var classConstructorType=getTypeOfSymbol(classSymbol);expectedReturnType=getUnionType([classConstructorType,voidType]);break;case 139 :expectedReturnType=voidType;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any);break;case 142 :expectedReturnType=voidType;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_property_decorator_function_must_be_either_void_or_any);break;case 144 :case 146 :case 147 :var methodType=getTypeOfNode(node.parent);var descriptorType=createTypedPropertyDescriptorType(methodType);expectedReturnType=getUnionType([descriptorType,voidType]);break;}
checkTypeAssignableTo(returnType,expectedReturnType,node,headMessage,errorInfo);}
function checkTypeNodeAsExpression(node){if(node&&node.kind===152 ){var root=getFirstIdentifier(node.typeName);var meaning=root.parent.kind===152 ?793056 :1536 ;var rootSymbol=resolveName(root,root.text,meaning|8388608 ,undefined,undefined);if(rootSymbol&&rootSymbol.flags&8388608 ){var aliasTarget=resolveAlias(rootSymbol);if(aliasTarget.flags&107455 &&!isConstEnumOrConstEnumOnlyModule(resolveAlias(rootSymbol))){markAliasSymbolAsReferenced(rootSymbol);}}}}
function checkTypeAnnotationAsExpression(node){checkTypeNodeAsExpression(node.type);}
function checkReturnTypeAnnotationAsExpression(node){checkTypeNodeAsExpression(node.type);}
function checkParameterTypeAnnotationsAsExpressions(node){for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];checkTypeAnnotationAsExpression(parameter);}}
function checkDecorators(node){if(!node.decorators){return;}
if(!ts.nodeCanBeDecorated(node)){return;}
if(!compilerOptions.experimentalDecorators){error(node,ts.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning);}
if(compilerOptions.emitDecoratorMetadata){switch(node.kind){case 217 :var constructor=ts.getFirstConstructorWithBody(node);if(constructor){checkParameterTypeAnnotationsAsExpressions(constructor);}
break;case 144 :case 146 :case 147 :checkParameterTypeAnnotationsAsExpressions(node);checkReturnTypeAnnotationAsExpression(node);break;case 142 :case 139 :checkTypeAnnotationAsExpression(node);break;}}
ts.forEach(node.decorators,checkDecorator);}
function checkFunctionDeclaration(node){if(produceDiagnostics){checkFunctionOrMethodDeclaration(node)||checkGrammarForGenerator(node);checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);}}
function checkFunctionOrMethodDeclaration(node){checkDecorators(node);checkSignatureDeclaration(node);var isAsync=ts.isAsyncFunctionLike(node);if(node.name&&node.name.kind===137 ){checkComputedPropertyName(node.name);}
if(!ts.hasDynamicName(node)){var symbol=getSymbolOfNode(node);var localSymbol=node.localSymbol||symbol;var firstDeclaration=ts.forEach(localSymbol.declarations,function(declaration){return declaration.kind===node.kind&&!ts.isSourceFileJavaScript(ts.getSourceFileOfNode(declaration))?declaration:undefined;});if(node===firstDeclaration){checkFunctionOrConstructorSymbol(localSymbol);}
if(symbol.parent){if(ts.getDeclarationOfKind(symbol,node.kind)===node){checkFunctionOrConstructorSymbol(symbol);}}}
checkSourceElement(node.body);if(!node.asteriskToken){var returnOrPromisedType=node.type&&(isAsync?checkAsyncFunctionReturnType(node):getTypeFromTypeNode(node.type));checkAllCodePathsInNonVoidFunctionReturnOrThrow(node,returnOrPromisedType);}
if(produceDiagnostics&&!node.type){if(compilerOptions.noImplicitAny&&ts.nodeIsMissing(node.body)&&!isPrivateWithinAmbient(node)){reportImplicitAnyError(node,anyType);}
if(node.asteriskToken&&ts.nodeIsPresent(node.body)){getReturnTypeOfSignature(getSignatureFromDeclaration(node));}}}
function checkBlock(node){if(node.kind===195 ){checkGrammarStatementInAmbientContext(node);}
ts.forEach(node.statements,checkSourceElement);}
function checkCollisionWithArgumentsInGeneratedCode(node){if(!ts.hasRestParameter(node)||ts.isInAmbientContext(node)||ts.nodeIsMissing(node.body)){return;}
ts.forEach(node.parameters,function(p){if(p.name&&!ts.isBindingPattern(p.name)&&p.name.text===argumentsSymbol.name){error(p,ts.Diagnostics.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters);}});}
function needCollisionCheckForIdentifier(node,identifier,name){if(!(identifier&&identifier.text===name)){return false;}
if(node.kind===142 ||node.kind===141 ||node.kind===144 ||node.kind===143 ||node.kind===146 ||node.kind===147 ){return false;}
if(ts.isInAmbientContext(node)){return false;}
var root=ts.getRootDeclaration(node);if(root.kind===139 &&ts.nodeIsMissing(root.parent.body)){return false;}
return true;}
function checkCollisionWithCapturedThisVariable(node,name){if(needCollisionCheckForIdentifier(node,name,"_this")){potentialThisCollisions.push(node);}}
function checkIfThisIsCapturedInEnclosingScope(node){var current=node;while(current){if(getNodeCheckFlags(current)&4 ){var isDeclaration_1=node.kind!==69 ;if(isDeclaration_1){error(node.name,ts.Diagnostics.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference);}
else{error(node,ts.Diagnostics.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference);}
return;}
current=current.parent;}}
function checkCollisionWithCapturedSuperVariable(node,name){if(!needCollisionCheckForIdentifier(node,name,"_super")){return;}
var enclosingClass=ts.getContainingClass(node);if(!enclosingClass||ts.isInAmbientContext(enclosingClass)){return;}
if(ts.getClassExtendsHeritageClauseElement(enclosingClass)){var isDeclaration_2=node.kind!==69 ;if(isDeclaration_2){error(node,ts.Diagnostics.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference);}
else{error(node,ts.Diagnostics.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference);}}}
function checkCollisionWithRequireExportsInGeneratedCode(node,name){if(!needCollisionCheckForIdentifier(node,name,"require")&&!needCollisionCheckForIdentifier(node,name,"exports")){return;}
if(node.kind===221 &&ts.getModuleInstanceState(node)!==1 ){return;}
var parent=getDeclarationContainer(node);if(parent.kind===251 &&ts.isExternalOrCommonJsModule(parent)){error(name,ts.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,ts.declarationNameToString(name),ts.declarationNameToString(name));}}
function checkCollisionWithGlobalPromiseInGeneratedCode(node,name){if(!compilerOptions.noCustomAsyncPromise){return;}
if(!needCollisionCheckForIdentifier(node,name,"Promise")){return;}
if(node.kind===221 &&ts.getModuleInstanceState(node)!==1 ){return;}
var parent=getDeclarationContainer(node);if(parent.kind===251 &&ts.isExternalOrCommonJsModule(parent)&&parent.flags&33554432 ){error(name,ts.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions,ts.declarationNameToString(name),ts.declarationNameToString(name));}}
function checkVarDeclaredNamesNotShadowed(node){if((ts.getCombinedNodeFlags(node)&24576 )!==0||ts.isParameterDeclaration(node)){return;}
if(node.kind===214 &&!node.initializer){return;}
var symbol=getSymbolOfNode(node);if(symbol.flags&1 ){var localDeclarationSymbol=resolveName(node,node.name.text,3 ,undefined,undefined);if(localDeclarationSymbol&&localDeclarationSymbol!==symbol&&localDeclarationSymbol.flags&2 ){if(getDeclarationFlagsFromSymbol(localDeclarationSymbol)&24576 ){var varDeclList=ts.getAncestor(localDeclarationSymbol.valueDeclaration,215 );var container=varDeclList.parent.kind===196 &&varDeclList.parent.parent?varDeclList.parent.parent:undefined;var namesShareScope=container&&(container.kind===195 &&ts.isFunctionLike(container.parent)||container.kind===222 ||container.kind===221 ||container.kind===251 );if(!namesShareScope){var name_16=symbolToString(localDeclarationSymbol);error(node,ts.Diagnostics.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,name_16,name_16);}}}}}
function checkParameterInitializer(node){if(ts.getRootDeclaration(node).kind!==139 ){return;}
var func=ts.getContainingFunction(node);visit(node.initializer);function visit(n){if(n.kind===69 ){var referencedSymbol=getNodeLinks(n).resolvedSymbol;if(referencedSymbol&&referencedSymbol!==unknownSymbol&&getSymbol(func.locals,referencedSymbol.name,107455 )===referencedSymbol){if(referencedSymbol.valueDeclaration.kind===139 ){if(referencedSymbol.valueDeclaration===node){error(n,ts.Diagnostics.Parameter_0_cannot_be_referenced_in_its_initializer,ts.declarationNameToString(node.name));return;}
if(referencedSymbol.valueDeclaration.pos<node.pos){return;}}
error(n,ts.Diagnostics.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,ts.declarationNameToString(node.name),ts.declarationNameToString(n));}}
else{ts.forEachChild(n,visit);}}}
function checkVariableLikeDeclaration(node){checkDecorators(node);checkSourceElement(node.type);if(node.name.kind===137 ){checkComputedPropertyName(node.name);if(node.initializer){checkExpressionCached(node.initializer);}}
if(node.kind===166 ){if(node.propertyName&&node.propertyName.kind===137 ){checkComputedPropertyName(node.propertyName);}}
if(ts.isBindingPattern(node.name)){ts.forEach(node.name.elements,checkSourceElement);}
if(node.initializer&&ts.getRootDeclaration(node).kind===139 &&ts.nodeIsMissing(ts.getContainingFunction(node).body)){error(node,ts.Diagnostics.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);return;}
if(ts.isBindingPattern(node.name)){if(node.initializer&&node.parent.parent.kind!==203 ){checkTypeAssignableTo(checkExpressionCached(node.initializer),getWidenedTypeForVariableLikeDeclaration(node),node,undefined);checkParameterInitializer(node);}
return;}
var symbol=getSymbolOfNode(node);var type=getTypeOfVariableOrParameterOrProperty(symbol);if(node===symbol.valueDeclaration){if(node.initializer&&node.parent.parent.kind!==203 ){checkTypeAssignableTo(checkExpressionCached(node.initializer),type,node,undefined);checkParameterInitializer(node);}}
else{var declarationType=getWidenedTypeForVariableLikeDeclaration(node);if(type!==unknownType&&declarationType!==unknownType&&!isTypeIdenticalTo(type,declarationType)){error(node.name,ts.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,ts.declarationNameToString(node.name),typeToString(type),typeToString(declarationType));}
if(node.initializer){checkTypeAssignableTo(checkExpressionCached(node.initializer),declarationType,node,undefined);}}
if(node.kind!==142 &&node.kind!==141 ){checkExportsOnMergedDeclarations(node);if(node.kind===214 ||node.kind===166 ){checkVarDeclaredNamesNotShadowed(node);}
checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);}}
function checkVariableDeclaration(node){checkGrammarVariableDeclaration(node);return checkVariableLikeDeclaration(node);}
function checkBindingElement(node){checkGrammarBindingElement(node);return checkVariableLikeDeclaration(node);}
function checkVariableStatement(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarVariableDeclarationList(node.declarationList)||checkGrammarForDisallowedLetOrConstStatement(node);ts.forEach(node.declarationList.declarations,checkSourceElement);}
function checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node){if(node.modifiers&&node.parent.kind===168 ){if(ts.isAsyncFunctionLike(node)){if(node.modifiers.length>1){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);}}
else{return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);}}}
function checkExpressionStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression);}
function checkIfStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression);checkSourceElement(node.thenStatement);if(node.thenStatement.kind===197 ){error(node.thenStatement,ts.Diagnostics.The_body_of_an_if_statement_cannot_be_the_empty_statement);}
checkSourceElement(node.elseStatement);}
function checkDoStatement(node){checkGrammarStatementInAmbientContext(node);checkSourceElement(node.statement);checkExpression(node.expression);}
function checkWhileStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression);checkSourceElement(node.statement);}
function checkForStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.initializer&&node.initializer.kind===215 ){checkGrammarVariableDeclarationList(node.initializer);}}
if(node.initializer){if(node.initializer.kind===215 ){ts.forEach(node.initializer.declarations,checkVariableDeclaration);}
else{checkExpression(node.initializer);}}
if(node.condition)
checkExpression(node.condition);if(node.incrementor)
checkExpression(node.incrementor);checkSourceElement(node.statement);}
function checkForOfStatement(node){checkGrammarForInOrForOfStatement(node);if(node.initializer.kind===215 ){checkForInOrForOfVariableDeclaration(node);}
else{var varExpr=node.initializer;var iteratedType=checkRightHandSideOfForOf(node.expression);if(varExpr.kind===167 ||varExpr.kind===168 ){checkDestructuringAssignment(varExpr,iteratedType||unknownType);}
else{var leftType=checkExpression(varExpr);checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_of_statement,ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_be_a_previously_defined_constant);if(iteratedType){checkTypeAssignableTo(iteratedType,leftType,varExpr,undefined);}}}
checkSourceElement(node.statement);}
function checkForInStatement(node){checkGrammarForInOrForOfStatement(node);if(node.initializer.kind===215 ){var variable=node.initializer.declarations[0];if(variable&&ts.isBindingPattern(variable.name)){error(variable.name,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern);}
checkForInOrForOfVariableDeclaration(node);}
else{var varExpr=node.initializer;var leftType=checkExpression(varExpr);if(varExpr.kind===167 ||varExpr.kind===168 ){error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern);}
else if(!isTypeAnyOrAllConstituentTypesHaveKind(leftType,258 )){error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any);}
else{checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_in_statement,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_previously_defined_constant);}}
var rightType=checkExpression(node.expression);if(!isTypeAnyOrAllConstituentTypesHaveKind(rightType,80896 |512 )){error(node.expression,ts.Diagnostics.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter);}
checkSourceElement(node.statement);}
function checkForInOrForOfVariableDeclaration(iterationStatement){var variableDeclarationList=iterationStatement.initializer;if(variableDeclarationList.declarations.length>=1){var decl=variableDeclarationList.declarations[0];checkVariableDeclaration(decl);}}
function checkRightHandSideOfForOf(rhsExpression){var expressionType=getTypeOfExpression(rhsExpression);return checkIteratedTypeOrElementType(expressionType,rhsExpression,true);}
function checkIteratedTypeOrElementType(inputType,errorNode,allowStringInput){if(isTypeAny(inputType)){return inputType;}
if(languageVersion>=2 ){return checkElementTypeOfIterable(inputType,errorNode);}
if(allowStringInput){return checkElementTypeOfArrayOrString(inputType,errorNode);}
if(isArrayLikeType(inputType)){var indexType=getIndexTypeOfType(inputType,1 );if(indexType){return indexType;}}
error(errorNode,ts.Diagnostics.Type_0_is_not_an_array_type,typeToString(inputType));return unknownType;}
function checkElementTypeOfIterable(iterable,errorNode){var elementType=getElementTypeOfIterable(iterable,errorNode);if(errorNode&&elementType){checkTypeAssignableTo(iterable,createIterableType(elementType),errorNode);}
return elementType||anyType;}
function getElementTypeOfIterable(type,errorNode){if(isTypeAny(type)){return undefined;}
var typeAsIterable=type;if(!typeAsIterable.iterableElementType){if((type.flags&4096 )&&type.target===globalIterableType){typeAsIterable.iterableElementType=type.typeArguments[0];}
else{var iteratorFunction=getTypeOfPropertyOfType(type,ts.getPropertyNameForKnownSymbolName("iterator"));if(isTypeAny(iteratorFunction)){return undefined;}
var iteratorFunctionSignatures=iteratorFunction?getSignaturesOfType(iteratorFunction,0 ):emptyArray;if(iteratorFunctionSignatures.length===0){if(errorNode){error(errorNode,ts.Diagnostics.Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator);}
return undefined;}
typeAsIterable.iterableElementType=getElementTypeOfIterator(getUnionType(ts.map(iteratorFunctionSignatures,getReturnTypeOfSignature)),errorNode);}}
return typeAsIterable.iterableElementType;}
function getElementTypeOfIterator(type,errorNode){if(isTypeAny(type)){return undefined;}
var typeAsIterator=type;if(!typeAsIterator.iteratorElementType){if((type.flags&4096 )&&type.target===globalIteratorType){typeAsIterator.iteratorElementType=type.typeArguments[0];}
else{var iteratorNextFunction=getTypeOfPropertyOfType(type,"next");if(isTypeAny(iteratorNextFunction)){return undefined;}
var iteratorNextFunctionSignatures=iteratorNextFunction?getSignaturesOfType(iteratorNextFunction,0 ):emptyArray;if(iteratorNextFunctionSignatures.length===0){if(errorNode){error(errorNode,ts.Diagnostics.An_iterator_must_have_a_next_method);}
return undefined;}
var iteratorNextResult=getUnionType(ts.map(iteratorNextFunctionSignatures,getReturnTypeOfSignature));if(isTypeAny(iteratorNextResult)){return undefined;}
var iteratorNextValue=getTypeOfPropertyOfType(iteratorNextResult,"value");if(!iteratorNextValue){if(errorNode){error(errorNode,ts.Diagnostics.The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property);}
return undefined;}
typeAsIterator.iteratorElementType=iteratorNextValue;}}
return typeAsIterator.iteratorElementType;}
function getElementTypeOfIterableIterator(type){if(isTypeAny(type)){return undefined;}
if((type.flags&4096 )&&type.target===globalIterableIteratorType){return type.typeArguments[0];}
return getElementTypeOfIterable(type,undefined)||getElementTypeOfIterator(type,undefined);}
function checkElementTypeOfArrayOrString(arrayOrStringType,errorNode){ts.Debug.assert(languageVersion<2 );var arrayType=arrayOrStringType;if(arrayOrStringType.flags&16384 ){arrayType=getUnionType(ts.filter(arrayOrStringType.types,function(t){return!(t.flags&258 );}));}
else if(arrayOrStringType.flags&258 ){arrayType=emptyUnionType;}
var hasStringConstituent=arrayOrStringType!==arrayType;var reportedError=false;if(hasStringConstituent){if(languageVersion<1 ){error(errorNode,ts.Diagnostics.Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher);reportedError=true;}
if(arrayType===emptyObjectType){return stringType;}}
if(!isArrayLikeType(arrayType)){if(!reportedError){var diagnostic=hasStringConstituent?ts.Diagnostics.Type_0_is_not_an_array_type:ts.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type;error(errorNode,diagnostic,typeToString(arrayType));}
return hasStringConstituent?stringType:unknownType;}
var arrayElementType=getIndexTypeOfType(arrayType,1 )||unknownType;if(hasStringConstituent){if(arrayElementType.flags&258 ){return stringType;}
return getUnionType([arrayElementType,stringType]);}
return arrayElementType;}
function checkBreakOrContinueStatement(node){checkGrammarStatementInAmbientContext(node)||checkGrammarBreakOrContinueStatement(node);}
function isGetAccessorWithAnnotatatedSetAccessor(node){return!!(node.kind===146 &&ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(node.symbol,147 )));}
function checkReturnStatement(node){if(!checkGrammarStatementInAmbientContext(node)){var functionBlock=ts.getContainingFunction(node);if(!functionBlock){grammarErrorOnFirstToken(node,ts.Diagnostics.A_return_statement_can_only_be_used_within_a_function_body);}}
if(node.expression){var func=ts.getContainingFunction(node);if(func){var signature=getSignatureFromDeclaration(func);var returnType=getReturnTypeOfSignature(signature);var exprType=checkExpressionCached(node.expression);if(func.asteriskToken){return;}
if(func.kind===147 ){error(node.expression,ts.Diagnostics.Setters_cannot_return_a_value);}
else if(func.kind===145 ){if(!checkTypeAssignableTo(exprType,returnType,node.expression)){error(node.expression,ts.Diagnostics.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class);}}
else if(func.type||isGetAccessorWithAnnotatatedSetAccessor(func)){if(ts.isAsyncFunctionLike(func)){var promisedType=getPromisedType(returnType);var awaitedType=checkAwaitedType(exprType,node.expression,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member);if(promisedType){checkTypeAssignableTo(awaitedType,promisedType,node.expression);}}
else{checkTypeAssignableTo(exprType,returnType,node.expression);}}}}}
function checkWithStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.parserContextFlags&8 ){grammarErrorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_an_async_function_block);}}
checkExpression(node.expression);error(node.expression,ts.Diagnostics.All_symbols_within_a_with_block_will_be_resolved_to_any);}
function checkSwitchStatement(node){checkGrammarStatementInAmbientContext(node);var firstDefaultClause;var hasDuplicateDefaultClause=false;var expressionType=checkExpression(node.expression);var expressionTypeIsStringLike=someConstituentTypeHasKind(expressionType,258 );ts.forEach(node.caseBlock.clauses,function(clause){if(clause.kind===245 &&!hasDuplicateDefaultClause){if(firstDefaultClause===undefined){firstDefaultClause=clause;}
else{var sourceFile=ts.getSourceFileOfNode(node);var start=ts.skipTrivia(sourceFile.text,clause.pos);var end=clause.statements.length>0?clause.statements[0].pos:clause.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement);hasDuplicateDefaultClause=true;}}
if(produceDiagnostics&&clause.kind===244 ){var caseClause=clause;var caseType=checkExpression(caseClause.expression);var expressionTypeIsAssignableToCaseType=(expressionTypeIsStringLike&&someConstituentTypeHasKind(caseType,258 ))||isTypeAssignableTo(expressionType,caseType);if(!expressionTypeIsAssignableToCaseType){checkTypeAssignableTo(caseType,expressionType,caseClause.expression,undefined);}}
ts.forEach(clause.statements,checkSourceElement);});}
function checkLabeledStatement(node){if(!checkGrammarStatementInAmbientContext(node)){var current=node.parent;while(current){if(ts.isFunctionLike(current)){break;}
if(current.kind===210 &&current.label.text===node.label.text){var sourceFile=ts.getSourceFileOfNode(node);grammarErrorOnNode(node.label,ts.Diagnostics.Duplicate_label_0,ts.getTextOfNodeFromSourceText(sourceFile.text,node.label));break;}
current=current.parent;}}
checkSourceElement(node.statement);}
function checkThrowStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.expression===undefined){grammarErrorAfterFirstToken(node,ts.Diagnostics.Line_break_not_permitted_here);}}
if(node.expression){checkExpression(node.expression);}}
function checkTryStatement(node){checkGrammarStatementInAmbientContext(node);checkBlock(node.tryBlock);var catchClause=node.catchClause;if(catchClause){if(catchClause.variableDeclaration){if(catchClause.variableDeclaration.name.kind!==69 ){grammarErrorOnFirstToken(catchClause.variableDeclaration.name,ts.Diagnostics.Catch_clause_variable_name_must_be_an_identifier);}
else if(catchClause.variableDeclaration.type){grammarErrorOnFirstToken(catchClause.variableDeclaration.type,ts.Diagnostics.Catch_clause_variable_cannot_have_a_type_annotation);}
else if(catchClause.variableDeclaration.initializer){grammarErrorOnFirstToken(catchClause.variableDeclaration.initializer,ts.Diagnostics.Catch_clause_variable_cannot_have_an_initializer);}
else{var identifierName=catchClause.variableDeclaration.name.text;var locals=catchClause.block.locals;if(locals&&ts.hasProperty(locals,identifierName)){var localSymbol=locals[identifierName];if(localSymbol&&(localSymbol.flags&2 )!==0){grammarErrorOnNode(localSymbol.valueDeclaration,ts.Diagnostics.Cannot_redeclare_identifier_0_in_catch_clause,identifierName);}}}}
checkBlock(catchClause.block);}
if(node.finallyBlock){checkBlock(node.finallyBlock);}}
function checkIndexConstraints(type){var declaredNumberIndexer=getIndexDeclarationOfSymbol(type.symbol,1 );var declaredStringIndexer=getIndexDeclarationOfSymbol(type.symbol,0 );var stringIndexType=getIndexTypeOfType(type,0 );var numberIndexType=getIndexTypeOfType(type,1 );if(stringIndexType||numberIndexType){ts.forEach(getPropertiesOfObjectType(type),function(prop){var propType=getTypeOfSymbol(prop);checkIndexConstraintForProperty(prop,propType,type,declaredStringIndexer,stringIndexType,0 );checkIndexConstraintForProperty(prop,propType,type,declaredNumberIndexer,numberIndexType,1 );});if(type.flags&1024 &&ts.isClassLike(type.symbol.valueDeclaration)){var classDeclaration=type.symbol.valueDeclaration;for(var _i=0,_a=classDeclaration.members;_i<_a.length;_i++){var member=_a[_i];if(!(member.flags&64 )&&ts.hasDynamicName(member)){var propType=getTypeOfSymbol(member.symbol);checkIndexConstraintForProperty(member.symbol,propType,type,declaredStringIndexer,stringIndexType,0 );checkIndexConstraintForProperty(member.symbol,propType,type,declaredNumberIndexer,numberIndexType,1 );}}}}
var errorNode;if(stringIndexType&&numberIndexType){errorNode=declaredNumberIndexer||declaredStringIndexer;if(!errorNode&&(type.flags&2048 )){var someBaseTypeHasBothIndexers=ts.forEach(getBaseTypes(type),function(base){return getIndexTypeOfType(base,0 )&&getIndexTypeOfType(base,1 );});errorNode=someBaseTypeHasBothIndexers?undefined:type.symbol.declarations[0];}}
if(errorNode&&!isTypeAssignableTo(numberIndexType,stringIndexType)){error(errorNode,ts.Diagnostics.Numeric_index_type_0_is_not_assignable_to_string_index_type_1,typeToString(numberIndexType),typeToString(stringIndexType));}
function checkIndexConstraintForProperty(prop,propertyType,containingType,indexDeclaration,indexType,indexKind){if(!indexType){return;}
if(indexKind===1 &&!isNumericName(prop.valueDeclaration.name)){return;}
var errorNode;if(prop.valueDeclaration.name.kind===137 ||prop.parent===containingType.symbol){errorNode=prop.valueDeclaration;}
else if(indexDeclaration){errorNode=indexDeclaration;}
else if(containingType.flags&2048 ){var someBaseClassHasBothPropertyAndIndexer=ts.forEach(getBaseTypes(containingType),function(base){return getPropertyOfObjectType(base,prop.name)&&getIndexTypeOfType(base,indexKind);});errorNode=someBaseClassHasBothPropertyAndIndexer?undefined:containingType.symbol.declarations[0];}
if(errorNode&&!isTypeAssignableTo(propertyType,indexType)){var errorMessage=indexKind===0 ?ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_string_index_type_2:ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2;error(errorNode,errorMessage,symbolToString(prop),typeToString(propertyType),typeToString(indexType));}}}
function checkTypeNameIsReserved(name,message){switch(name.text){case"any":case"number":case"boolean":case"string":case"symbol":case"void":error(name,message,name.text);}}
function checkTypeParameters(typeParameterDeclarations){if(typeParameterDeclarations){for(var i=0,n=typeParameterDeclarations.length;i<n;i++){var node=typeParameterDeclarations[i];checkTypeParameter(node);if(produceDiagnostics){for(var j=0;j<i;j++){if(typeParameterDeclarations[j].symbol===node.symbol){error(node.name,ts.Diagnostics.Duplicate_identifier_0,ts.declarationNameToString(node.name));}}}}}}
function checkClassExpression(node){checkClassLikeDeclaration(node);checkNodeDeferred(node);return getTypeOfSymbol(getSymbolOfNode(node));}
function checkClassExpressionDeferred(node){ts.forEach(node.members,checkSourceElement);}
function checkClassDeclaration(node){if(!node.name&&!(node.flags&512 )){grammarErrorOnFirstToken(node,ts.Diagnostics.A_class_declaration_without_the_default_modifier_must_have_a_name);}
checkClassLikeDeclaration(node);ts.forEach(node.members,checkSourceElement);}
function checkClassLikeDeclaration(node){checkGrammarClassDeclarationHeritageClauses(node);checkDecorators(node);if(node.name){checkTypeNameIsReserved(node.name,ts.Diagnostics.Class_name_cannot_be_0);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);}
checkTypeParameters(node.typeParameters);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);var type=getDeclaredTypeOfSymbol(symbol);var typeWithThis=getTypeWithThisArgument(type);var staticType=getTypeOfSymbol(symbol);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){var baseTypes=getBaseTypes(type);if(baseTypes.length&&produceDiagnostics){var baseType_1=baseTypes[0];var staticBaseType=getBaseConstructorTypeOfClass(type);checkSourceElement(baseTypeNode.expression);if(baseTypeNode.typeArguments){ts.forEach(baseTypeNode.typeArguments,checkSourceElement);for(var _i=0,_a=getConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);_i<_a.length;_i++){var constructor=_a[_i];if(!checkTypeArgumentConstraints(constructor.typeParameters,baseTypeNode.typeArguments)){break;}}}
checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType_1,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_extends_base_class_1);checkTypeAssignableTo(staticType,getTypeWithoutSignatures(staticBaseType),node.name||node,ts.Diagnostics.Class_static_side_0_incorrectly_extends_base_class_static_side_1);if(!(staticBaseType.symbol&&staticBaseType.symbol.flags&32 )){var constructors=getInstantiatedConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);if(ts.forEach(constructors,function(sig){return getReturnTypeOfSignature(sig)!==baseType_1;})){error(baseTypeNode.expression,ts.Diagnostics.Base_constructors_must_all_have_the_same_return_type);}}
checkKindsOfPropertyMemberOverrides(type,baseType_1);}}
var implementedTypeNodes=ts.getClassImplementsHeritageClauseElements(node);if(implementedTypeNodes){for(var _b=0,implementedTypeNodes_1=implementedTypeNodes;_b<implementedTypeNodes_1.length;_b++){var typeRefNode=implementedTypeNodes_1[_b];if(!ts.isSupportedExpressionWithTypeArguments(typeRefNode)){error(typeRefNode.expression,ts.Diagnostics.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments);}
checkTypeReferenceNode(typeRefNode);if(produceDiagnostics){var t=getTypeFromTypeNode(typeRefNode);if(t!==unknownType){var declaredType=(t.flags&4096 )?t.target:t;if(declaredType.flags&(1024 |2048 )){checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(t,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_implements_interface_1);}
else{error(typeRefNode,ts.Diagnostics.A_class_may_only_implement_another_class_or_interface);}}}}}
if(produceDiagnostics){checkIndexConstraints(type);checkTypeForDuplicateIndexSignatures(node);}}
function getTargetSymbol(s){return s.flags&16777216 ?getSymbolLinks(s).target:s;}
function getClassLikeDeclarationOfSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isClassLike(d)?d:undefined;});}
function checkKindsOfPropertyMemberOverrides(type,baseType){var baseProperties=getPropertiesOfObjectType(baseType);for(var _i=0,baseProperties_1=baseProperties;_i<baseProperties_1.length;_i++){var baseProperty=baseProperties_1[_i];var base=getTargetSymbol(baseProperty);if(base.flags&134217728 ){continue;}
var derived=getTargetSymbol(getPropertyOfObjectType(type,base.name));var baseDeclarationFlags=getDeclarationFlagsFromSymbol(base);ts.Debug.assert(!!derived,"derived should point to something, even if it is the base class' declaration.");if(derived){if(derived===base){var derivedClassDecl=getClassLikeDeclarationOfSymbol(type.symbol);if(baseDeclarationFlags&128 &&(!derivedClassDecl||!(derivedClassDecl.flags&128 ))){if(derivedClassDecl.kind===189 ){error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,symbolToString(baseProperty),typeToString(baseType));}
else{error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,typeToString(type),symbolToString(baseProperty),typeToString(baseType));}}}
else{var derivedDeclarationFlags=getDeclarationFlagsFromSymbol(derived);if((baseDeclarationFlags&16 )||(derivedDeclarationFlags&16 )){continue;}
if((baseDeclarationFlags&64 )!==(derivedDeclarationFlags&64 )){continue;}
if((base.flags&derived.flags&8192 )||((base.flags&98308 )&&(derived.flags&98308 ))){continue;}
var errorMessage=void 0;if(base.flags&8192 ){if(derived.flags&98304 ){errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor;}
else{ts.Debug.assert((derived.flags&4 )!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property;}}
else if(base.flags&4 ){ts.Debug.assert((derived.flags&8192 )!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function;}
else{ts.Debug.assert((base.flags&98304 )!==0);ts.Debug.assert((derived.flags&8192 )!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function;}
error(derived.valueDeclaration.name,errorMessage,typeToString(baseType),symbolToString(base),typeToString(type));}}}}
function isAccessor(kind){return kind===146 ||kind===147 ;}
function areTypeParametersIdentical(list1,list2){if(!list1&&!list2){return true;}
if(!list1||!list2||list1.length!==list2.length){return false;}
for(var i=0,len=list1.length;i<len;i++){var tp1=list1[i];var tp2=list2[i];if(tp1.name.text!==tp2.name.text){return false;}
if(!tp1.constraint&&!tp2.constraint){continue;}
if(!tp1.constraint||!tp2.constraint){return false;}
if(!isTypeIdenticalTo(getTypeFromTypeNode(tp1.constraint),getTypeFromTypeNode(tp2.constraint))){return false;}}
return true;}
function checkInheritedPropertiesAreIdentical(type,typeNode){var baseTypes=getBaseTypes(type);if(baseTypes.length<2){return true;}
var seen={};ts.forEach(resolveDeclaredMembers(type).declaredProperties,function(p){seen[p.name]={prop:p,containingType:type};});var ok=true;for(var _i=0,baseTypes_2=baseTypes;_i<baseTypes_2.length;_i++){var base=baseTypes_2[_i];var properties=getPropertiesOfObjectType(getTypeWithThisArgument(base,type.thisType));for(var _a=0,properties_4=properties;_a<properties_4.length;_a++){var prop=properties_4[_a];if(!ts.hasProperty(seen,prop.name)){seen[prop.name]={prop:prop,containingType:base};}
else{var existing=seen[prop.name];var isInheritedProperty=existing.containingType!==type;if(isInheritedProperty&&!isPropertyIdenticalTo(existing.prop,prop)){ok=false;var typeName1=typeToString(existing.containingType);var typeName2=typeToString(base);var errorInfo=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.Named_property_0_of_types_1_and_2_are_not_identical,symbolToString(prop),typeName1,typeName2);errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Interface_0_cannot_simultaneously_extend_types_1_and_2,typeToString(type),typeName1,typeName2);diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(typeNode,errorInfo));}}}}
return ok;}
function checkInterfaceDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarInterfaceDeclaration(node);checkTypeParameters(node.typeParameters);if(produceDiagnostics){checkTypeNameIsReserved(node.name,ts.Diagnostics.Interface_name_cannot_be_0);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);var firstInterfaceDecl=ts.getDeclarationOfKind(symbol,218 );if(symbol.declarations.length>1){if(node!==firstInterfaceDecl&&!areTypeParametersIdentical(firstInterfaceDecl.typeParameters,node.typeParameters)){error(node.name,ts.Diagnostics.All_declarations_of_an_interface_must_have_identical_type_parameters);}}
if(node===firstInterfaceDecl){var type=getDeclaredTypeOfSymbol(symbol);var typeWithThis=getTypeWithThisArgument(type);if(checkInheritedPropertiesAreIdentical(type,node.name)){for(var _i=0,_a=getBaseTypes(type);_i<_a.length;_i++){var baseType=_a[_i];checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType,type.thisType),node.name,ts.Diagnostics.Interface_0_incorrectly_extends_interface_1);}
checkIndexConstraints(type);}}}
ts.forEach(ts.getInterfaceBaseTypeNodes(node),function(heritageElement){if(!ts.isSupportedExpressionWithTypeArguments(heritageElement)){error(heritageElement.expression,ts.Diagnostics.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments);}
checkTypeReferenceNode(heritageElement);});ts.forEach(node.members,checkSourceElement);if(produceDiagnostics){checkTypeForDuplicateIndexSignatures(node);}}
function checkTypeAliasDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node);checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_alias_name_cannot_be_0);checkSourceElement(node.type);}
function computeEnumMemberValues(node){var nodeLinks=getNodeLinks(node);if(!(nodeLinks.flags&16384 )){var enumSymbol=getSymbolOfNode(node);var enumType=getDeclaredTypeOfSymbol(enumSymbol);var autoValue=0;var ambient=ts.isInAmbientContext(node);var enumIsConst=ts.isConst(node);for(var _i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(isComputedNonLiteralName(member.name)){error(member.name,ts.Diagnostics.Computed_property_names_are_not_allowed_in_enums);}
else{var text=getTextOfPropertyName(member.name);if(isNumericLiteralName(text)){error(member.name,ts.Diagnostics.An_enum_member_cannot_have_a_numeric_name);}}
var previousEnumMemberIsNonConstant=autoValue===undefined;var initializer=member.initializer;if(initializer){autoValue=computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient);}
else if(ambient&&!enumIsConst){autoValue=undefined;}
else if(previousEnumMemberIsNonConstant){error(member.name,ts.Diagnostics.Enum_member_must_have_initializer);}
if(autoValue!==undefined){getNodeLinks(member).enumMemberValue=autoValue;autoValue++;}}
nodeLinks.flags|=16384 ;}
function computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient){var reportError=true;var value=evalConstant(initializer);if(reportError){if(value===undefined){if(enumIsConst){error(initializer,ts.Diagnostics.In_const_enum_declarations_member_initializer_must_be_constant_expression);}
else if(ambient){error(initializer,ts.Diagnostics.In_ambient_enum_declarations_member_initializer_must_be_constant_expression);}
else{checkTypeAssignableTo(checkExpression(initializer),enumType,initializer,undefined);}}
else if(enumIsConst){if(isNaN(value)){error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN);}
else if(!isFinite(value)){error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_a_non_finite_value);}}}
return value;function evalConstant(e){switch(e.kind){case 182 :var value_1=evalConstant(e.operand);if(value_1===undefined){return undefined;}
switch(e.operator){case 35 :return value_1;case 36 :return-value_1;case 50 :return~value_1;}
return undefined;case 184 :var left=evalConstant(e.left);if(left===undefined){return undefined;}
var right=evalConstant(e.right);if(right===undefined){return undefined;}
switch(e.operatorToken.kind){case 47 :return left|right;case 46 :return left&right;case 44 :return left>>right;case 45 :return left>>>right;case 43 :return left<<right;case 48 :return left^right;case 37 :return left*right;case 39 :return left/right;case 35 :return left+right;case 36 :return left-right;case 40 :return left%right;}
return undefined;case 8 :return+e.text;case 175 :return evalConstant(e.expression);case 69 :case 170 :case 169 :var member=initializer.parent;var currentType=getTypeOfSymbol(getSymbolOfNode(member.parent));var enumType_1;var propertyName=void 0;if(e.kind===69 ){enumType_1=currentType;propertyName=e.text;}
else{var expression=void 0;if(e.kind===170 ){if(e.argumentExpression===undefined||e.argumentExpression.kind!==9 ){return undefined;}
expression=e.expression;propertyName=e.argumentExpression.text;}
else{expression=e.expression;propertyName=e.name.text;}
var current=expression;while(current){if(current.kind===69 ){break;}
else if(current.kind===169 ){current=current.expression;}
else{return undefined;}}
enumType_1=checkExpression(expression);if(!(enumType_1.symbol&&(enumType_1.symbol.flags&384 ))){return undefined;}}
if(propertyName===undefined){return undefined;}
var property=getPropertyOfObjectType(enumType_1,propertyName);if(!property||!(property.flags&8 )){return undefined;}
var propertyDecl=property.valueDeclaration;if(member===propertyDecl){return undefined;}
if(!isBlockScopedNameDeclaredBeforeUse(propertyDecl,member)){reportError=false;error(e,ts.Diagnostics.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums);return undefined;}
return getNodeLinks(propertyDecl).enumMemberValue;}}}}
function checkEnumDeclaration(node){if(!produceDiagnostics){return;}
checkGrammarDecorators(node)||checkGrammarModifiers(node);checkTypeNameIsReserved(node.name,ts.Diagnostics.Enum_name_cannot_be_0);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);checkExportsOnMergedDeclarations(node);computeEnumMemberValues(node);var enumIsConst=ts.isConst(node);if(compilerOptions.isolatedModules&&enumIsConst&&ts.isInAmbientContext(node)){error(node.name,ts.Diagnostics.Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided);}
var enumSymbol=getSymbolOfNode(node);var firstDeclaration=ts.getDeclarationOfKind(enumSymbol,node.kind);if(node===firstDeclaration){if(enumSymbol.declarations.length>1){ts.forEach(enumSymbol.declarations,function(decl){if(ts.isConstEnumDeclaration(decl)!==enumIsConst){error(decl.name,ts.Diagnostics.Enum_declarations_must_all_be_const_or_non_const);}});}
var seenEnumMissingInitialInitializer_1=false;ts.forEach(enumSymbol.declarations,function(declaration){if(declaration.kind!==220 ){return false;}
var enumDeclaration=declaration;if(!enumDeclaration.members.length){return false;}
var firstEnumMember=enumDeclaration.members[0];if(!firstEnumMember.initializer){if(seenEnumMissingInitialInitializer_1){error(firstEnumMember.name,ts.Diagnostics.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element);}
else{seenEnumMissingInitialInitializer_1=true;}}});}}
function getFirstNonAmbientClassOrFunctionDeclaration(symbol){var declarations=symbol.declarations;for(var _i=0,declarations_5=declarations;_i<declarations_5.length;_i++){var declaration=declarations_5[_i];if((declaration.kind===217 ||(declaration.kind===216 &&ts.nodeIsPresent(declaration.body)))&&!ts.isInAmbientContext(declaration)){return declaration;}}
return undefined;}
function inSameLexicalScope(node1,node2){var container1=ts.getEnclosingBlockScopeContainer(node1);var container2=ts.getEnclosingBlockScopeContainer(node2);if(isGlobalSourceFile(container1)){return isGlobalSourceFile(container2);}
else if(isGlobalSourceFile(container2)){return false;}
else{return container1===container2;}}
function checkModuleDeclaration(node){if(produceDiagnostics){var isGlobalAugmentation=ts.isGlobalScopeAugmentation(node);var inAmbientContext=ts.isInAmbientContext(node);if(isGlobalAugmentation&&!inAmbientContext){error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context);}
var isAmbientExternalModule=ts.isAmbientModule(node);var contextErrorMessage=isAmbientExternalModule?ts.Diagnostics.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:ts.Diagnostics.A_namespace_declaration_is_only_allowed_in_a_namespace_or_module;if(checkGrammarModuleElementContext(node,contextErrorMessage)){return;}
if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)){if(!inAmbientContext&&node.name.kind===9 ){grammarErrorOnNode(node.name,ts.Diagnostics.Only_ambient_modules_can_use_quoted_names);}}
checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);if(symbol.flags&512 &&symbol.declarations.length>1&&!inAmbientContext&&ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules)){var firstNonAmbientClassOrFunc=getFirstNonAmbientClassOrFunctionDeclaration(symbol);if(firstNonAmbientClassOrFunc){if(ts.getSourceFileOfNode(node)!==ts.getSourceFileOfNode(firstNonAmbientClassOrFunc)){error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged);}
else if(node.pos<firstNonAmbientClassOrFunc.pos){error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged);}}
var mergedClass=ts.getDeclarationOfKind(symbol,217 );if(mergedClass&&inSameLexicalScope(node,mergedClass)){getNodeLinks(node).flags|=32768 ;}}
if(isAmbientExternalModule){if(ts.isExternalModuleAugmentation(node)){var checkBody=isGlobalAugmentation||(getSymbolOfNode(node).flags&33554432 );if(checkBody){for(var _i=0,_a=node.body.statements;_i<_a.length;_i++){var statement=_a[_i];checkModuleAugmentationElement(statement,isGlobalAugmentation);}}}
else if(isGlobalSourceFile(node.parent)){if(isGlobalAugmentation){error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations);}
else if(ts.isExternalModuleNameRelative(node.name.text)){error(node.name,ts.Diagnostics.Ambient_module_declaration_cannot_specify_relative_module_name);}}
else{if(isGlobalAugmentation){error(node.name,ts.Diagnostics.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations);}
else{error(node.name,ts.Diagnostics.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces);}}}}
checkSourceElement(node.body);}
function checkModuleAugmentationElement(node,isGlobalAugmentation){switch(node.kind){case 196 :for(var _i=0,_a=node.declarationList.declarations;_i<_a.length;_i++){var decl=_a[_i];checkModuleAugmentationElement(decl,isGlobalAugmentation);}
break;case 230 :case 231 :grammarErrorOnFirstToken(node,ts.Diagnostics.Exports_and_export_assignments_are_not_permitted_in_module_augmentations);break;case 224 :if(node.moduleReference.kind!==9 ){error(node.name,ts.Diagnostics.Module_augmentation_cannot_introduce_new_names_in_the_top_level_scope);break;}
case 225 :grammarErrorOnFirstToken(node,ts.Diagnostics.Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module);break;case 166 :case 214 :var name_17=node.name;if(ts.isBindingPattern(name_17)){for(var _b=0,_c=name_17.elements;_b<_c.length;_b++){var el=_c[_b];checkModuleAugmentationElement(el,isGlobalAugmentation);}
break;}
case 217 :case 220 :case 216 :case 218 :case 221 :case 219 :var symbol=getSymbolOfNode(node);if(symbol){var reportError=!(symbol.flags&33554432 );if(!reportError){if(isGlobalAugmentation){reportError=symbol.parent!==undefined;}
else{reportError=ts.isExternalModuleAugmentation(symbol.parent.valueDeclaration);}}
if(reportError){error(node,ts.Diagnostics.Module_augmentation_cannot_introduce_new_names_in_the_top_level_scope);}}
break;}}
function getFirstIdentifier(node){while(true){if(node.kind===136 ){node=node.left;}
else if(node.kind===169 ){node=node.expression;}
else{break;}}
ts.Debug.assert(node.kind===69 );return node;}
function checkExternalImportOrExportDeclaration(node){var moduleName=ts.getExternalModuleName(node);if(!ts.nodeIsMissing(moduleName)&&moduleName.kind!==9 ){error(moduleName,ts.Diagnostics.String_literal_expected);return false;}
var inAmbientExternalModule=node.parent.kind===222 &&ts.isAmbientModule(node.parent.parent);if(node.parent.kind!==251 &&!inAmbientExternalModule){error(moduleName,node.kind===231 ?ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace:ts.Diagnostics.Import_declarations_in_a_namespace_cannot_reference_a_module);return false;}
if(inAmbientExternalModule&&ts.isExternalModuleNameRelative(moduleName.text)){if(!isTopLevelInExternalModuleAugmentation(node)){error(node,ts.Diagnostics.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name);return false;}}
return true;}
function checkAliasSymbol(node){var symbol=getSymbolOfNode(node);var target=resolveAlias(symbol);if(target!==unknownSymbol){var excludedMeanings=(symbol.flags&107455 ?107455 :0)|(symbol.flags&793056 ?793056 :0)|(symbol.flags&1536 ?1536 :0);if(target.flags&excludedMeanings){var message=node.kind===233 ?ts.Diagnostics.Export_declaration_conflicts_with_exported_declaration_of_0:ts.Diagnostics.Import_declaration_conflicts_with_local_declaration_of_0;error(node,message,symbolToString(symbol));}}}
function checkImportBinding(node){checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkCollisionWithGlobalPromiseInGeneratedCode(node,node.name);checkAliasSymbol(node);}
function checkImportDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)){return;}
if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&(node.flags&1022 )){grammarErrorOnFirstToken(node,ts.Diagnostics.An_import_declaration_cannot_have_modifiers);}
if(checkExternalImportOrExportDeclaration(node)){var importClause=node.importClause;if(importClause){if(importClause.name){checkImportBinding(importClause);}
if(importClause.namedBindings){if(importClause.namedBindings.kind===227 ){checkImportBinding(importClause.namedBindings);}
else{ts.forEach(importClause.namedBindings.elements,checkImportBinding);}}}}}
function checkImportEqualsDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)){return;}
checkGrammarDecorators(node)||checkGrammarModifiers(node);if(ts.isInternalModuleImportEqualsDeclaration(node)||checkExternalImportOrExportDeclaration(node)){checkImportBinding(node);if(node.flags&2 ){markExportAsReferenced(node);}
if(ts.isInternalModuleImportEqualsDeclaration(node)){var target=resolveAlias(getSymbolOfNode(node));if(target!==unknownSymbol){if(target.flags&107455 ){var moduleName=getFirstIdentifier(node.moduleReference);if(!(resolveEntityName(moduleName,107455 |1536 ).flags&1536 )){error(moduleName,ts.Diagnostics.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,ts.declarationNameToString(moduleName));}}
if(target.flags&793056 ){checkTypeNameIsReserved(node.name,ts.Diagnostics.Import_name_cannot_be_0);}}}
else{if(modulekind===5 &&!ts.isInAmbientContext(node)){grammarErrorOnNode(node,ts.Diagnostics.Import_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead);}}}}
function checkExportDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_declaration_can_only_be_used_in_a_module)){return;}
if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&(node.flags&1022 )){grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_declaration_cannot_have_modifiers);}
if(!node.moduleSpecifier||checkExternalImportOrExportDeclaration(node)){if(node.exportClause){ts.forEach(node.exportClause.elements,checkExportSpecifier);var inAmbientExternalModule=node.parent.kind===222 &&ts.isAmbientModule(node.parent.parent);if(node.parent.kind!==251 &&!inAmbientExternalModule){error(node,ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace);}}
else{var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier);if(moduleSymbol&&hasExportAssignmentSymbol(moduleSymbol)){error(node.moduleSpecifier,ts.Diagnostics.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,symbolToString(moduleSymbol));}}}}
function checkGrammarModuleElementContext(node,errorMessage){if(node.parent.kind!==251 &&node.parent.kind!==222 &&node.parent.kind!==221 ){return grammarErrorOnFirstToken(node,errorMessage);}}
function checkExportSpecifier(node){checkAliasSymbol(node);if(!node.parent.parent.moduleSpecifier){var exportedName=node.propertyName||node.name;var symbol=resolveName(exportedName,exportedName.text,107455 |793056 |1536 |8388608 ,undefined,undefined);if(symbol&&(symbol===undefinedSymbol||isGlobalSourceFile(getDeclarationContainer(symbol.declarations[0])))){error(exportedName,ts.Diagnostics.Cannot_re_export_name_that_is_not_defined_in_the_module);}
else{markExportAsReferenced(node);}}}
function checkExportAssignment(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_assignment_can_only_be_used_in_a_module)){return;}
var container=node.parent.kind===251 ?node.parent:node.parent.parent;if(container.kind===221 &&!ts.isAmbientModule(container)){error(node,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_namespace);return;}
if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&(node.flags&1022 )){grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_assignment_cannot_have_modifiers);}
if(node.expression.kind===69 ){markExportAsReferenced(node);}
else{checkExpressionCached(node.expression);}
checkExternalModuleExports(container);if(node.isExportEquals&&!ts.isInAmbientContext(node)){if(modulekind===5 ){grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_export_default_or_another_module_format_instead);}
else if(modulekind===4 ){grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_is_not_supported_when_module_flag_is_system);}}}
function hasExportedMembers(moduleSymbol){for(var id in moduleSymbol.exports){if(id!=="export="){return true;}}
return false;}
function checkExternalModuleExports(node){var moduleSymbol=getSymbolOfNode(node);var links=getSymbolLinks(moduleSymbol);if(!links.exportsChecked){var exportEqualsSymbol=moduleSymbol.exports["export="];if(exportEqualsSymbol&&hasExportedMembers(moduleSymbol)){var declaration=getDeclarationOfAliasSymbol(exportEqualsSymbol)||exportEqualsSymbol.valueDeclaration;if(!isTopLevelInExternalModuleAugmentation(declaration)){error(declaration,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements);}}
var exports=getExportsOfModule(moduleSymbol);for(var id in exports){if(id==="__export"){continue;}
var _a=exports[id],declarations=_a.declarations,flags=_a.flags;if(!(flags&(1536 |64 |384 ))&&(flags&524288 ?declarations.length-1:declarations.length)>1){var exportedDeclarations=ts.filter(declarations,isNotOverload);if(exportedDeclarations.length>1){for(var _i=0,exportedDeclarations_1=exportedDeclarations;_i<exportedDeclarations_1.length;_i++){var declaration=exportedDeclarations_1[_i];diagnostics.add(ts.createDiagnosticForNode(declaration,ts.Diagnostics.Cannot_redeclare_exported_variable_0,id));}}}}
links.exportsChecked=true;}
function isNotOverload(declaration){return declaration.kind!==216 ||!!declaration.body;}}
function checkSourceElement(node){if(!node){return;}
var kind=node.kind;if(cancellationToken){switch(kind){case 221 :case 217 :case 218 :case 216 :cancellationToken.throwIfCancellationRequested();}}
switch(kind){case 138 :return checkTypeParameter(node);case 139 :return checkParameter(node);case 142 :case 141 :return checkPropertyDeclaration(node);case 153 :case 154 :case 148 :case 149 :return checkSignatureDeclaration(node);case 150 :return checkSignatureDeclaration(node);case 144 :case 143 :return checkMethodDeclaration(node);case 145 :return checkConstructorDeclaration(node);case 146 :case 147 :return checkAccessorDeclaration(node);case 152 :return checkTypeReferenceNode(node);case 151 :return checkTypePredicate(node);case 155 :return checkTypeQuery(node);case 156 :return checkTypeLiteral(node);case 157 :return checkArrayType(node);case 158 :return checkTupleType(node);case 159 :case 160 :return checkUnionOrIntersectionType(node);case 161 :return checkSourceElement(node.type);case 216 :return checkFunctionDeclaration(node);case 195 :case 222 :return checkBlock(node);case 196 :return checkVariableStatement(node);case 198 :return checkExpressionStatement(node);case 199 :return checkIfStatement(node);case 200 :return checkDoStatement(node);case 201 :return checkWhileStatement(node);case 202 :return checkForStatement(node);case 203 :return checkForInStatement(node);case 204 :return checkForOfStatement(node);case 205 :case 206 :return checkBreakOrContinueStatement(node);case 207 :return checkReturnStatement(node);case 208 :return checkWithStatement(node);case 209 :return checkSwitchStatement(node);case 210 :return checkLabeledStatement(node);case 211 :return checkThrowStatement(node);case 212 :return checkTryStatement(node);case 214 :return checkVariableDeclaration(node);case 166 :return checkBindingElement(node);case 217 :return checkClassDeclaration(node);case 218 :return checkInterfaceDeclaration(node);case 219 :return checkTypeAliasDeclaration(node);case 220 :return checkEnumDeclaration(node);case 221 :return checkModuleDeclaration(node);case 225 :return checkImportDeclaration(node);case 224 :return checkImportEqualsDeclaration(node);case 231 :return checkExportDeclaration(node);case 230 :return checkExportAssignment(node);case 197 :checkGrammarStatementInAmbientContext(node);return;case 213 :checkGrammarStatementInAmbientContext(node);return;case 234 :return checkMissingDeclaration(node);}}
function checkNodeDeferred(node){if(deferredNodes){deferredNodes.push(node);}}
function checkDeferredNodes(){for(var _i=0,deferredNodes_1=deferredNodes;_i<deferredNodes_1.length;_i++){var node=deferredNodes_1[_i];switch(node.kind){case 176 :case 177 :case 144 :case 143 :checkFunctionExpressionOrObjectLiteralMethodDeferred(node);break;case 146 :case 147 :checkAccessorDeferred(node);break;case 189 :checkClassExpressionDeferred(node);break;}}}
function checkSourceFile(node){var start=new Date().getTime();checkSourceFileWorker(node);ts.checkTime+=new Date().getTime()-start;}
function checkSourceFileWorker(node){var links=getNodeLinks(node);if(!(links.flags&1 )){if(compilerOptions.skipDefaultLibCheck){if(node.hasNoDefaultLib){return;}}
checkGrammarSourceFile(node);potentialThisCollisions.length=0;deferredNodes=[];ts.forEach(node.statements,checkSourceElement);checkDeferredNodes();deferredNodes=undefined;if(ts.isExternalOrCommonJsModule(node)){checkExternalModuleExports(node);}
if(potentialThisCollisions.length){ts.forEach(potentialThisCollisions,checkIfThisIsCapturedInEnclosingScope);potentialThisCollisions.length=0;}
links.flags|=1 ;}}
function getDiagnostics(sourceFile,ct){try{cancellationToken=ct;return getDiagnosticsWorker(sourceFile);}
finally{cancellationToken=undefined;}}
function getDiagnosticsWorker(sourceFile){throwIfNonDiagnosticsProducing();if(sourceFile){checkSourceFile(sourceFile);return diagnostics.getDiagnostics(sourceFile.fileName);}
ts.forEach(host.getSourceFiles(),checkSourceFile);return diagnostics.getDiagnostics();}
function getGlobalDiagnostics(){throwIfNonDiagnosticsProducing();return diagnostics.getGlobalDiagnostics();}
function throwIfNonDiagnosticsProducing(){if(!produceDiagnostics){throw new Error("Trying to get diagnostics from a type checker that does not produce them.");}}
function isInsideWithStatementBody(node){if(node){while(node.parent){if(node.parent.kind===208 &&node.parent.statement===node){return true;}
node=node.parent;}}
return false;}
function getSymbolsInScope(location,meaning){var symbols={};var memberFlags=0;if(isInsideWithStatementBody(location)){return[];}
populateSymbols();return symbolsToArray(symbols);function populateSymbols(){while(location){if(location.locals&&!isGlobalSourceFile(location)){copySymbols(location.locals,meaning);}
switch(location.kind){case 251 :if(!ts.isExternalOrCommonJsModule(location)){break;}
case 221 :copySymbols(getSymbolOfNode(location).exports,meaning&8914931 );break;case 220 :copySymbols(getSymbolOfNode(location).exports,meaning&8 );break;case 189 :var className=location.name;if(className){copySymbol(location.symbol,meaning);}
case 217 :case 218 :if(!(memberFlags&64 )){copySymbols(getSymbolOfNode(location).members,meaning&793056 );}
break;case 176 :var funcName=location.name;if(funcName){copySymbol(location.symbol,meaning);}
break;}
if(ts.introducesArgumentsExoticObject(location)){copySymbol(argumentsSymbol,meaning);}
memberFlags=location.flags;location=location.parent;}
copySymbols(globals,meaning);}
function copySymbol(symbol,meaning){if(symbol.flags&meaning){var id=symbol.name;if(!ts.hasProperty(symbols,id)){symbols[id]=symbol;}}}
function copySymbols(source,meaning){if(meaning){for(var id in source){var symbol=source[id];copySymbol(symbol,meaning);}}}}
function isTypeDeclarationName(name){return name.kind===69 &&isTypeDeclaration(name.parent)&&name.parent.name===name;}
function isTypeDeclaration(node){switch(node.kind){case 138 :case 217 :case 218 :case 219 :case 220 :return true;}}
function isTypeReferenceIdentifier(entityName){var node=entityName;while(node.parent&&node.parent.kind===136 ){node=node.parent;}
return node.parent&&node.parent.kind===152 ;}
function isHeritageClauseElementIdentifier(entityName){var node=entityName;while(node.parent&&node.parent.kind===169 ){node=node.parent;}
return node.parent&&node.parent.kind===191 ;}
function getLeftSideOfImportEqualsOrExportAssignment(nodeOnRightSide){while(nodeOnRightSide.parent.kind===136 ){nodeOnRightSide=nodeOnRightSide.parent;}
if(nodeOnRightSide.parent.kind===224 ){return nodeOnRightSide.parent.moduleReference===nodeOnRightSide&&nodeOnRightSide.parent;}
if(nodeOnRightSide.parent.kind===230 ){return nodeOnRightSide.parent.expression===nodeOnRightSide&&nodeOnRightSide.parent;}
return undefined;}
function isInRightSideOfImportOrExportAssignment(node){return getLeftSideOfImportEqualsOrExportAssignment(node)!==undefined;}
function getSymbolOfEntityNameOrPropertyAccessExpression(entityName){if(ts.isDeclarationName(entityName)){return getSymbolOfNode(entityName.parent);}
if(ts.isInJavaScriptFile(entityName)&&entityName.parent.kind===169 ){var specialPropertyAssignmentKind=ts.getSpecialPropertyAssignmentKind(entityName.parent.parent);switch(specialPropertyAssignmentKind){case 1 :case 3 :return getSymbolOfNode(entityName.parent);case 4 :case 2 :return getSymbolOfNode(entityName.parent.parent);default:}}
if(entityName.parent.kind===230 ){return resolveEntityName(entityName,107455 |793056 |1536 |8388608 );}
if(entityName.kind!==169 ){if(isInRightSideOfImportOrExportAssignment(entityName)){return getSymbolOfPartOfRightHandSideOfImportEquals(entityName);}}
if(ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)){entityName=entityName.parent;}
if(isHeritageClauseElementIdentifier(entityName)){var meaning=0 ;if(entityName.parent.kind===191 ){meaning=793056 ;if(ts.isExpressionWithTypeArgumentsInClassExtendsClause(entityName.parent)){meaning|=107455 ;}}
else{meaning=1536 ;}
meaning|=8388608 ;return resolveEntityName(entityName,meaning);}
else if((entityName.parent.kind===238 )||(entityName.parent.kind===237 )||(entityName.parent.kind===240 )){return getJsxElementTagSymbol(entityName.parent);}
else if(ts.isExpression(entityName)){if(ts.nodeIsMissing(entityName)){return undefined;}
if(entityName.kind===69 ){var meaning=107455 |8388608 ;return resolveEntityName(entityName,meaning);}
else if(entityName.kind===169 ){var symbol=getNodeLinks(entityName).resolvedSymbol;if(!symbol){checkPropertyAccessExpression(entityName);}
return getNodeLinks(entityName).resolvedSymbol;}
else if(entityName.kind===136 ){var symbol=getNodeLinks(entityName).resolvedSymbol;if(!symbol){checkQualifiedName(entityName);}
return getNodeLinks(entityName).resolvedSymbol;}}
else if(isTypeReferenceIdentifier(entityName)){var meaning=entityName.parent.kind===152 ?793056 :1536 ;meaning|=8388608 ;return resolveEntityName(entityName,meaning);}
else if(entityName.parent.kind===241 ){return getJsxAttributePropertySymbol(entityName.parent);}
if(entityName.parent.kind===151 ){return resolveEntityName(entityName,1 );}
return undefined;}
function getSymbolAtLocation(node){if(isInsideWithStatementBody(node)){return undefined;}
if(ts.isDeclarationName(node)){return getSymbolOfNode(node.parent);}
if(node.kind===69 ){if(isInRightSideOfImportOrExportAssignment(node)){return node.parent.kind===230 ?getSymbolOfEntityNameOrPropertyAccessExpression(node):getSymbolOfPartOfRightHandSideOfImportEquals(node);}
else if(node.parent.kind===166 &&node.parent.parent.kind===164 &&node===node.parent.propertyName){var typeOfPattern=getTypeOfNode(node.parent.parent);var propertyDeclaration=typeOfPattern&&getPropertyOfType(typeOfPattern,node.text);if(propertyDeclaration){return propertyDeclaration;}}}
switch(node.kind){case 69 :case 169 :case 136 :return getSymbolOfEntityNameOrPropertyAccessExpression(node);case 97 :case 95 :var type=ts.isExpression(node)?checkExpression(node):getTypeFromTypeNode(node);return type.symbol;case 162 :return getTypeFromTypeNode(node).symbol;case 121 :var constructorDeclaration=node.parent;if(constructorDeclaration&&constructorDeclaration.kind===145 ){return constructorDeclaration.parent.symbol;}
return undefined;case 9 :if((ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node)||((node.parent.kind===225 ||node.parent.kind===231 )&&node.parent.moduleSpecifier===node)){return resolveExternalModuleName(node,node);}
case 8 :if(node.parent.kind===170 &&node.parent.argumentExpression===node){var objectType=checkExpression(node.parent.expression);if(objectType===unknownType)
return undefined;var apparentType=getApparentType(objectType);if(apparentType===unknownType)
return undefined;return getPropertyOfType(apparentType,node.text);}
break;}
return undefined;}
function getShorthandAssignmentValueSymbol(location){if(location&&location.kind===249 ){return resolveEntityName(location.name,107455 |8388608 );}
return undefined;}
function getExportSpecifierLocalTargetSymbol(node){return node.parent.parent.moduleSpecifier?getExternalModuleMember(node.parent.parent,node):resolveEntityName(node.propertyName||node.name,107455 |793056 |1536 |8388608 );}
function getTypeOfNode(node){if(isInsideWithStatementBody(node)){return unknownType;}
if(ts.isTypeNode(node)){return getTypeFromTypeNode(node);}
if(ts.isExpression(node)){return getTypeOfExpression(node);}
if(ts.isExpressionWithTypeArgumentsInClassExtendsClause(node)){return getBaseTypes(getDeclaredTypeOfSymbol(getSymbolOfNode(node.parent.parent)))[0];}
if(isTypeDeclaration(node)){var symbol=getSymbolOfNode(node);return getDeclaredTypeOfSymbol(symbol);}
if(isTypeDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol);}
if(ts.isDeclaration(node)){var symbol=getSymbolOfNode(node);return getTypeOfSymbol(symbol);}
if(ts.isDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getTypeOfSymbol(symbol);}
if(ts.isBindingPattern(node)){return getTypeForVariableLikeDeclaration(node.parent);}
if(isInRightSideOfImportOrExportAssignment(node)){var symbol=getSymbolAtLocation(node);var declaredType=symbol&&getDeclaredTypeOfSymbol(symbol);return declaredType!==unknownType?declaredType:getTypeOfSymbol(symbol);}
return unknownType;}
function getTypeOfExpression(expr){if(ts.isRightSideOfQualifiedNameOrPropertyAccess(expr)){expr=expr.parent;}
return checkExpression(expr);}
function getParentTypeOfClassElement(node){var classSymbol=getSymbolOfNode(node.parent);return node.flags&64 ?getTypeOfSymbol(classSymbol):getDeclaredTypeOfSymbol(classSymbol);}
function getAugmentedPropertiesOfType(type){type=getApparentType(type);var propsByName=createSymbolTable(getPropertiesOfType(type));if(getSignaturesOfType(type,0 ).length||getSignaturesOfType(type,1 ).length){ts.forEach(getPropertiesOfType(globalFunctionType),function(p){if(!ts.hasProperty(propsByName,p.name)){propsByName[p.name]=p;}});}
return getNamedMembers(propsByName);}
function getRootSymbols(symbol){if(symbol.flags&268435456 ){var symbols_3=[];var name_18=symbol.name;ts.forEach(getSymbolLinks(symbol).containingType.types,function(t){var symbol=getPropertyOfType(t,name_18);if(symbol){symbols_3.push(symbol);}});return symbols_3;}
else if(symbol.flags&67108864 ){var target=getSymbolLinks(symbol).target;if(target){return[target];}}
return[symbol];}
function isArgumentsLocalBinding(node){return getReferencedValueSymbol(node)===argumentsSymbol;}
function moduleExportsSomeValue(moduleReferenceExpression){var moduleSymbol=resolveExternalModuleName(moduleReferenceExpression.parent,moduleReferenceExpression);if(!moduleSymbol){return true;}
var hasExportAssignment=hasExportAssignmentSymbol(moduleSymbol);moduleSymbol=resolveExternalModuleSymbol(moduleSymbol);var symbolLinks=getSymbolLinks(moduleSymbol);if(symbolLinks.exportsSomeValue===undefined){symbolLinks.exportsSomeValue=hasExportAssignment?!!(moduleSymbol.flags&107455 ):ts.forEachValue(getExportsOfModule(moduleSymbol),isValue);}
return symbolLinks.exportsSomeValue;function isValue(s){s=resolveSymbol(s);return s&&!!(s.flags&107455 );}}
function getReferencedExportContainer(node){var symbol=getReferencedValueSymbol(node);if(symbol){if(symbol.flags&1048576 ){var exportSymbol=getMergedSymbol(symbol.exportSymbol);if(exportSymbol.flags&944 ){return undefined;}
symbol=exportSymbol;}
var parentSymbol=getParentOfSymbol(symbol);if(parentSymbol){if(parentSymbol.flags&512 &&parentSymbol.valueDeclaration.kind===251 ){return parentSymbol.valueDeclaration;}
for(var n=node.parent;n;n=n.parent){if((n.kind===221 ||n.kind===220 )&&getSymbolOfNode(n)===parentSymbol){return n;}}}}}
function getReferencedImportDeclaration(node){var symbol=getReferencedValueSymbol(node);return symbol&&symbol.flags&8388608 ?getDeclarationOfAliasSymbol(symbol):undefined;}
function isSymbolOfDeclarationWithCollidingName(symbol){if(symbol.flags&418 ){var links=getSymbolLinks(symbol);if(links.isDeclaratonWithCollidingName===undefined){var container=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration);if(ts.isStatementWithLocals(container)){var nodeLinks_1=getNodeLinks(symbol.valueDeclaration);if(!!resolveName(container.parent,symbol.name,107455 ,undefined,undefined)){links.isDeclaratonWithCollidingName=true;}
else if(nodeLinks_1.flags&131072 ){var isDeclaredInLoop=nodeLinks_1.flags&262144 ;var inLoopInitializer=ts.isIterationStatement(container,false);var inLoopBodyBlock=container.kind===195 &&ts.isIterationStatement(container.parent,false);links.isDeclaratonWithCollidingName=!ts.isBlockScopedContainerTopLevel(container)&&(!isDeclaredInLoop||(!inLoopInitializer&&!inLoopBodyBlock));}
else{links.isDeclaratonWithCollidingName=false;}}}
return links.isDeclaratonWithCollidingName;}
return false;}
function getReferencedDeclarationWithCollidingName(node){var symbol=getReferencedValueSymbol(node);return symbol&&isSymbolOfDeclarationWithCollidingName(symbol)?symbol.valueDeclaration:undefined;}
function isDeclarationWithCollidingName(node){return isSymbolOfDeclarationWithCollidingName(getSymbolOfNode(node));}
function isValueAliasDeclaration(node){switch(node.kind){case 224 :case 226 :case 227 :case 229 :case 233 :return isAliasResolvedToValue(getSymbolOfNode(node));case 231 :var exportClause=node.exportClause;return exportClause&&ts.forEach(exportClause.elements,isValueAliasDeclaration);case 230 :return node.expression&&node.expression.kind===69 ?isAliasResolvedToValue(getSymbolOfNode(node)):true;}
return false;}
function isTopLevelValueImportEqualsWithEntityName(node){if(node.parent.kind!==251 ||!ts.isInternalModuleImportEqualsDeclaration(node)){return false;}
var isValue=isAliasResolvedToValue(getSymbolOfNode(node));return isValue&&node.moduleReference&&!ts.nodeIsMissing(node.moduleReference);}
function isAliasResolvedToValue(symbol){var target=resolveAlias(symbol);if(target===unknownSymbol&&compilerOptions.isolatedModules){return true;}
return target!==unknownSymbol&&target&&target.flags&107455 &&(compilerOptions.preserveConstEnums||!isConstEnumOrConstEnumOnlyModule(target));}
function isConstEnumOrConstEnumOnlyModule(s){return isConstEnumSymbol(s)||s.constEnumOnlyModule;}
function isReferencedAliasDeclaration(node,checkChildren){if(ts.isAliasSymbolDeclaration(node)){var symbol=getSymbolOfNode(node);if(getSymbolLinks(symbol).referenced){return true;}}
if(checkChildren){return ts.forEachChild(node,function(node){return isReferencedAliasDeclaration(node,checkChildren);});}
return false;}
function isImplementationOfOverload(node){if(ts.nodeIsPresent(node.body)){var symbol=getSymbolOfNode(node);var signaturesOfSymbol=getSignaturesOfSymbol(symbol);return signaturesOfSymbol.length>1||(signaturesOfSymbol.length===1&&signaturesOfSymbol[0].declaration!==node);}
return false;}
function getNodeCheckFlags(node){return getNodeLinks(node).flags;}
function getEnumMemberValue(node){computeEnumMemberValues(node.parent);return getNodeLinks(node).enumMemberValue;}
function getConstantValue(node){if(node.kind===250 ){return getEnumMemberValue(node);}
var symbol=getNodeLinks(node).resolvedSymbol;if(symbol&&(symbol.flags&8 )){if(ts.isConstEnumDeclaration(symbol.valueDeclaration.parent)){return getEnumMemberValue(symbol.valueDeclaration);}}
return undefined;}
function isFunctionType(type){return type.flags&80896 &&getSignaturesOfType(type,0 ).length>0;}
function getTypeReferenceSerializationKind(typeName){var valueSymbol=resolveEntityName(typeName,107455 ,true);var constructorType=valueSymbol?getTypeOfSymbol(valueSymbol):undefined;if(constructorType&&isConstructorType(constructorType)){return ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue;}
var typeSymbol=resolveEntityName(typeName,793056 ,true);if(!typeSymbol){return ts.TypeReferenceSerializationKind.ObjectType;}
var type=getDeclaredTypeOfSymbol(typeSymbol);if(type===unknownType){return ts.TypeReferenceSerializationKind.Unknown;}
else if(type.flags&1 ){return ts.TypeReferenceSerializationKind.ObjectType;}
else if(allConstituentTypesHaveKind(type,16 )){return ts.TypeReferenceSerializationKind.VoidType;}
else if(allConstituentTypesHaveKind(type,8 )){return ts.TypeReferenceSerializationKind.BooleanType;}
else if(allConstituentTypesHaveKind(type,132 )){return ts.TypeReferenceSerializationKind.NumberLikeType;}
else if(allConstituentTypesHaveKind(type,258 )){return ts.TypeReferenceSerializationKind.StringLikeType;}
else if(allConstituentTypesHaveKind(type,8192 )){return ts.TypeReferenceSerializationKind.ArrayLikeType;}
else if(allConstituentTypesHaveKind(type,16777216 )){return ts.TypeReferenceSerializationKind.ESSymbolType;}
else if(isFunctionType(type)){return ts.TypeReferenceSerializationKind.TypeWithCallSignature;}
else if(isArrayType(type)){return ts.TypeReferenceSerializationKind.ArrayLikeType;}
else{return ts.TypeReferenceSerializationKind.ObjectType;}}
function writeTypeOfDeclaration(declaration,enclosingDeclaration,flags,writer){var symbol=getSymbolOfNode(declaration);var type=symbol&&!(symbol.flags&(2048 |131072 ))?getTypeOfSymbol(symbol):unknownType;getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);}
function writeReturnTypeOfSignatureDeclaration(signatureDeclaration,enclosingDeclaration,flags,writer){var signature=getSignatureFromDeclaration(signatureDeclaration);getSymbolDisplayBuilder().buildTypeDisplay(getReturnTypeOfSignature(signature),writer,enclosingDeclaration,flags);}
function writeTypeOfExpression(expr,enclosingDeclaration,flags,writer){var type=getTypeOfExpression(expr);getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);}
function hasGlobalName(name){return ts.hasProperty(globals,name);}
function getReferencedValueSymbol(reference){return getNodeLinks(reference).resolvedSymbol||resolveName(reference,reference.text,107455 |1048576 |8388608 ,undefined,undefined);}
function getReferencedValueDeclaration(reference){ts.Debug.assert(!ts.nodeIsSynthesized(reference));var symbol=getReferencedValueSymbol(reference);return symbol&&getExportSymbolOfValueSymbolIfExported(symbol).valueDeclaration;}
function createResolver(){return{getReferencedExportContainer:getReferencedExportContainer,getReferencedImportDeclaration:getReferencedImportDeclaration,getReferencedDeclarationWithCollidingName:getReferencedDeclarationWithCollidingName,isDeclarationWithCollidingName:isDeclarationWithCollidingName,isValueAliasDeclaration:isValueAliasDeclaration,hasGlobalName:hasGlobalName,isReferencedAliasDeclaration:isReferencedAliasDeclaration,getNodeCheckFlags:getNodeCheckFlags,isTopLevelValueImportEqualsWithEntityName:isTopLevelValueImportEqualsWithEntityName,isDeclarationVisible:isDeclarationVisible,isImplementationOfOverload:isImplementationOfOverload,writeTypeOfDeclaration:writeTypeOfDeclaration,writeReturnTypeOfSignatureDeclaration:writeReturnTypeOfSignatureDeclaration,writeTypeOfExpression:writeTypeOfExpression,isSymbolAccessible:isSymbolAccessible,isEntityNameVisible:isEntityNameVisible,getConstantValue:getConstantValue,collectLinkedAliases:collectLinkedAliases,getReferencedValueDeclaration:getReferencedValueDeclaration,getTypeReferenceSerializationKind:getTypeReferenceSerializationKind,isOptionalParameter:isOptionalParameter,moduleExportsSomeValue:moduleExportsSomeValue,isArgumentsLocalBinding:isArgumentsLocalBinding,getExternalModuleFileFromDeclaration:getExternalModuleFileFromDeclaration};}
function getExternalModuleFileFromDeclaration(declaration){var specifier=ts.getExternalModuleName(declaration);var moduleSymbol=resolveExternalModuleNameWorker(specifier,specifier,undefined);if(!moduleSymbol){return undefined;}
return ts.getDeclarationOfKind(moduleSymbol,251 );}
function initializeTypeChecker(){ts.forEach(host.getSourceFiles(),function(file){ts.bindSourceFile(file,compilerOptions);});var augmentations;ts.forEach(host.getSourceFiles(),function(file){if(!ts.isExternalOrCommonJsModule(file)){mergeSymbolTable(globals,file.locals);}
if(file.moduleAugmentations.length){(augmentations||(augmentations=[])).push(file.moduleAugmentations);}});if(augmentations){for(var _i=0,augmentations_1=augmentations;_i<augmentations_1.length;_i++){var list=augmentations_1[_i];for(var _a=0,list_2=list;_a<list_2.length;_a++){var augmentation=list_2[_a];mergeModuleAugmentation(augmentation);}}}
addToSymbolTable(globals,builtinGlobals,ts.Diagnostics.Declaration_name_conflicts_with_built_in_global_identifier_0);getSymbolLinks(undefinedSymbol).type=undefinedType;getSymbolLinks(argumentsSymbol).type=getGlobalType("IArguments");getSymbolLinks(unknownSymbol).type=unknownType;globalArrayType=getGlobalType("Array",1);globalObjectType=getGlobalType("Object");globalFunctionType=getGlobalType("Function");globalStringType=getGlobalType("String");globalNumberType=getGlobalType("Number");globalBooleanType=getGlobalType("Boolean");globalRegExpType=getGlobalType("RegExp");jsxElementType=getExportedTypeFromNamespace("JSX",JsxNames.Element);getGlobalClassDecoratorType=ts.memoize(function(){return getGlobalType("ClassDecorator");});getGlobalPropertyDecoratorType=ts.memoize(function(){return getGlobalType("PropertyDecorator");});getGlobalMethodDecoratorType=ts.memoize(function(){return getGlobalType("MethodDecorator");});getGlobalParameterDecoratorType=ts.memoize(function(){return getGlobalType("ParameterDecorator");});getGlobalTypedPropertyDescriptorType=ts.memoize(function(){return getGlobalType("TypedPropertyDescriptor",1);});getGlobalPromiseType=ts.memoize(function(){return getGlobalType("Promise",1);});tryGetGlobalPromiseType=ts.memoize(function(){return getGlobalSymbol("Promise",793056 ,undefined)&&getGlobalPromiseType();});getGlobalPromiseLikeType=ts.memoize(function(){return getGlobalType("PromiseLike",1);});getInstantiatedGlobalPromiseLikeType=ts.memoize(createInstantiatedPromiseLikeType);getGlobalPromiseConstructorSymbol=ts.memoize(function(){return getGlobalValueSymbol("Promise");});getGlobalPromiseConstructorLikeType=ts.memoize(function(){return getGlobalType("PromiseConstructorLike");});getGlobalThenableType=ts.memoize(createThenableType);if(languageVersion>=2 ){globalTemplateStringsArrayType=getGlobalType("TemplateStringsArray");globalESSymbolType=getGlobalType("Symbol");globalESSymbolConstructorSymbol=getGlobalValueSymbol("Symbol");globalIterableType=getGlobalType("Iterable",1);globalIteratorType=getGlobalType("Iterator",1);globalIterableIteratorType=getGlobalType("IterableIterator",1);}
else{globalTemplateStringsArrayType=unknownType;globalESSymbolType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);globalESSymbolConstructorSymbol=undefined;globalIterableType=emptyGenericType;globalIteratorType=emptyGenericType;globalIterableIteratorType=emptyGenericType;}
anyArrayType=createArrayType(anyType);}
function createInstantiatedPromiseLikeType(){var promiseLikeType=getGlobalPromiseLikeType();if(promiseLikeType!==emptyGenericType){return createTypeReference(promiseLikeType,[anyType]);}
return emptyObjectType;}
function createThenableType(){var thenPropertySymbol=createSymbol(67108864 |4 ,"then");getSymbolLinks(thenPropertySymbol).type=globalFunctionType;var thenableType=createObjectType(65536 );thenableType.properties=[thenPropertySymbol];thenableType.members=createSymbolTable(thenableType.properties);thenableType.callSignatures=[];thenableType.constructSignatures=[];return thenableType;}
function checkGrammarDecorators(node){if(!node.decorators){return false;}
if(!ts.nodeCanBeDecorated(node)){if(node.kind===144 &&!ts.nodeIsPresent(node.body)){return grammarErrorOnFirstToken(node,ts.Diagnostics.A_decorator_can_only_decorate_a_method_implementation_not_an_overload);}
else{return grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_are_not_valid_here);}}
else if(node.kind===146 ||node.kind===147 ){var accessors=ts.getAllAccessorDeclarations(node.parent.members,node);if(accessors.firstAccessor.decorators&&node===accessors.secondAccessor){return grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name);}}
return false;}
function checkGrammarModifiers(node){switch(node.kind){case 146 :case 147 :case 145 :case 142 :case 141 :case 144 :case 143 :case 150 :case 221 :case 225 :case 224 :case 231 :case 230 :case 139 :break;case 216 :if(node.modifiers&&(node.modifiers.length>1||node.modifiers[0].kind!==118 )&&node.parent.kind!==222 &&node.parent.kind!==251 ){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);}
break;case 217 :case 218 :case 196 :case 219 :if(node.modifiers&&node.parent.kind!==222 &&node.parent.kind!==251 ){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);}
break;case 220 :if(node.modifiers&&(node.modifiers.length>1||node.modifiers[0].kind!==74 )&&node.parent.kind!==222 &&node.parent.kind!==251 ){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here);}
break;default:return false;}
if(!node.modifiers){return;}
var lastStatic,lastPrivate,lastProtected,lastDeclare,lastAsync;var flags=0;for(var _i=0,_a=node.modifiers;_i<_a.length;_i++){var modifier=_a[_i];switch(modifier.kind){case 74 :if(node.kind!==220 &&node.parent.kind===217 ){return grammarErrorOnNode(node,ts.Diagnostics.A_class_member_cannot_have_the_0_keyword,ts.tokenToString(74 ));}
break;case 112 :case 111 :case 110 :var text=void 0;if(modifier.kind===112 ){text="public";}
else if(modifier.kind===111 ){text="protected";lastProtected=modifier;}
else{text="private";lastPrivate=modifier;}
if(flags&56 ){return grammarErrorOnNode(modifier,ts.Diagnostics.Accessibility_modifier_already_seen);}
else if(flags&64 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"static");}
else if(flags&256 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"async");}
else if(node.parent.kind===222 ||node.parent.kind===251 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_element,text);}
else if(flags&128 ){if(modifier.kind===110 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,text,"abstract");}
else{return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"abstract");}}
flags|=ts.modifierToFlag(modifier.kind);break;case 113 :if(flags&64 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"static");}
else if(flags&256 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"static","async");}
else if(node.parent.kind===222 ||node.parent.kind===251 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_element,"static");}
else if(node.kind===139 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"static");}
else if(flags&128 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");}
flags|=64 ;lastStatic=modifier;break;case 82 :if(flags&2 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"export");}
else if(flags&4 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","declare");}
else if(flags&128 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","abstract");}
else if(flags&256 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","async");}
else if(node.parent.kind===217 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"export");}
else if(node.kind===139 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"export");}
flags|=2 ;break;case 122 :if(flags&4 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"declare");}
else if(flags&256 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");}
else if(node.parent.kind===217 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"declare");}
else if(node.kind===139 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"declare");}
else if(ts.isInAmbientContext(node.parent)&&node.parent.kind===222 ){return grammarErrorOnNode(modifier,ts.Diagnostics.A_declare_modifier_cannot_be_used_in_an_already_ambient_context);}
flags|=4 ;lastDeclare=modifier;break;case 115 :if(flags&128 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"abstract");}
if(node.kind!==217 ){if(node.kind!==144 ){return grammarErrorOnNode(modifier,ts.Diagnostics.abstract_modifier_can_only_appear_on_a_class_or_method_declaration);}
if(!(node.parent.kind===217 &&node.parent.flags&128 )){return grammarErrorOnNode(modifier,ts.Diagnostics.Abstract_methods_can_only_appear_within_an_abstract_class);}
if(flags&64 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");}
if(flags&16 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"private","abstract");}}
flags|=128 ;break;case 118 :if(flags&256 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"async");}
else if(flags&4 ||ts.isInAmbientContext(node.parent)){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async");}
else if(node.kind===139 ){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"async");}
flags|=256 ;lastAsync=modifier;break;}}
if(node.kind===145 ){if(flags&64 ){return grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"static");}
if(flags&128 ){return grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"abstract");}
else if(flags&32 ){return grammarErrorOnNode(lastProtected,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"protected");}
else if(flags&16 ){return grammarErrorOnNode(lastPrivate,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"private");}
else if(flags&256 ){return grammarErrorOnNode(lastAsync,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"async");}
return;}
else if((node.kind===225 ||node.kind===224 )&&flags&4 ){return grammarErrorOnNode(lastDeclare,ts.Diagnostics.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare");}
else if(node.kind===139 &&(flags&56 )&&ts.isBindingPattern(node.name)){return grammarErrorOnNode(node,ts.Diagnostics.A_parameter_property_may_not_be_a_binding_pattern);}
if(flags&256 ){return checkGrammarAsyncModifier(node,lastAsync);}}
function checkGrammarAsyncModifier(node,asyncModifier){if(languageVersion<2 ){return grammarErrorOnNode(asyncModifier,ts.Diagnostics.Async_functions_are_only_available_when_targeting_ECMAScript_6_and_higher);}
switch(node.kind){case 144 :case 216 :case 176 :case 177 :if(!node.asteriskToken){return false;}
break;}
return grammarErrorOnNode(asyncModifier,ts.Diagnostics._0_modifier_cannot_be_used_here,"async");}
function checkGrammarForDisallowedTrailingComma(list){if(list&&list.hasTrailingComma){var start=list.end-",".length;var end=list.end;var sourceFile=ts.getSourceFileOfNode(list[0]);return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Trailing_comma_not_allowed);}}
function checkGrammarTypeParameterList(node,typeParameters,file){if(checkGrammarForDisallowedTrailingComma(typeParameters)){return true;}
if(typeParameters&&typeParameters.length===0){var start=typeParameters.pos-"<".length;var end=ts.skipTrivia(file.text,typeParameters.end)+">".length;return grammarErrorAtPos(file,start,end-start,ts.Diagnostics.Type_parameter_list_cannot_be_empty);}}
function checkGrammarParameterList(parameters){if(checkGrammarForDisallowedTrailingComma(parameters)){return true;}
var seenOptionalParameter=false;var parameterCount=parameters.length;for(var i=0;i<parameterCount;i++){var parameter=parameters[i];if(parameter.dotDotDotToken){if(i!==(parameterCount-1)){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_rest_parameter_must_be_last_in_a_parameter_list);}
if(ts.isBindingPattern(parameter.name)){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);}
if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_rest_parameter_cannot_be_optional);}
if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_parameter_cannot_have_an_initializer);}}
else if(parameter.questionToken){seenOptionalParameter=true;if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.Parameter_cannot_have_question_mark_and_initializer);}}
else if(seenOptionalParameter&&!parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_required_parameter_cannot_follow_an_optional_parameter);}}}
function checkGrammarFunctionLikeDeclaration(node){var file=ts.getSourceFileOfNode(node);return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarTypeParameterList(node,node.typeParameters,file)||checkGrammarParameterList(node.parameters)||checkGrammarArrowFunction(node,file);}
function checkGrammarArrowFunction(node,file){if(node.kind===177 ){var arrowFunction=node;var startLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.pos).line;var endLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.end).line;if(startLine!==endLine){return grammarErrorOnNode(arrowFunction.equalsGreaterThanToken,ts.Diagnostics.Line_terminator_not_permitted_before_arrow);}}
return false;}
function checkGrammarIndexSignatureParameters(node){var parameter=node.parameters[0];if(node.parameters.length!==1){if(parameter){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter);}
else{return grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter);}}
if(parameter.dotDotDotToken){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.An_index_signature_cannot_have_a_rest_parameter);}
if(parameter.flags&1022 ){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_accessibility_modifier);}
if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.An_index_signature_parameter_cannot_have_a_question_mark);}
if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_initializer);}
if(!parameter.type){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_must_have_a_type_annotation);}
if(parameter.type.kind!==130 &&parameter.type.kind!==128 ){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_type_must_be_string_or_number);}
if(!node.type){return grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_a_type_annotation);}}
function checkGrammarForIndexSignatureModifier(node){if(node.flags&1022 ){grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_not_permitted_on_index_signature_members);}}
function checkGrammarIndexSignature(node){return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarIndexSignatureParameters(node)||checkGrammarForIndexSignatureModifier(node);}
function checkGrammarForAtLeastOneTypeArgument(node,typeArguments){if(typeArguments&&typeArguments.length===0){var sourceFile=ts.getSourceFileOfNode(node);var start=typeArguments.pos-"<".length;var end=ts.skipTrivia(sourceFile.text,typeArguments.end)+">".length;return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty);}}
function checkGrammarTypeArguments(node,typeArguments){return checkGrammarForDisallowedTrailingComma(typeArguments)||checkGrammarForAtLeastOneTypeArgument(node,typeArguments);}
function checkGrammarForOmittedArgument(node,args){if(args){var sourceFile=ts.getSourceFileOfNode(node);for(var _i=0,args_1=args;_i<args_1.length;_i++){var arg=args_1[_i];if(arg.kind===190 ){return grammarErrorAtPos(sourceFile,arg.pos,0,ts.Diagnostics.Argument_expression_expected);}}}}
function checkGrammarArguments(node,args){return checkGrammarForDisallowedTrailingComma(args)||checkGrammarForOmittedArgument(node,args);}
function checkGrammarHeritageClause(node){var types=node.types;if(checkGrammarForDisallowedTrailingComma(types)){return true;}
if(types&&types.length===0){var listType=ts.tokenToString(node.token);var sourceFile=ts.getSourceFileOfNode(node);return grammarErrorAtPos(sourceFile,types.pos,0,ts.Diagnostics._0_list_cannot_be_empty,listType);}}
function checkGrammarClassDeclarationHeritageClauses(node){var seenExtendsClause=false;var seenImplementsClause=false;if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.heritageClauses){for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(heritageClause.token===83 ){if(seenExtendsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen);}
if(seenImplementsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_must_precede_implements_clause);}
if(heritageClause.types.length>1){return grammarErrorOnFirstToken(heritageClause.types[1],ts.Diagnostics.Classes_can_only_extend_a_single_class);}
seenExtendsClause=true;}
else{ts.Debug.assert(heritageClause.token===106 );if(seenImplementsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.implements_clause_already_seen);}
seenImplementsClause=true;}
checkGrammarHeritageClause(heritageClause);}}}
function checkGrammarInterfaceDeclaration(node){var seenExtendsClause=false;if(node.heritageClauses){for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(heritageClause.token===83 ){if(seenExtendsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen);}
seenExtendsClause=true;}
else{ts.Debug.assert(heritageClause.token===106 );return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.Interface_declaration_cannot_have_implements_clause);}
checkGrammarHeritageClause(heritageClause);}}
return false;}
function checkGrammarComputedPropertyName(node){if(node.kind!==137 ){return false;}
var computedPropertyName=node;if(computedPropertyName.expression.kind===184 &&computedPropertyName.expression.operatorToken.kind===24 ){return grammarErrorOnNode(computedPropertyName.expression,ts.Diagnostics.A_comma_expression_is_not_allowed_in_a_computed_property_name);}}
function checkGrammarForGenerator(node){if(node.asteriskToken){ts.Debug.assert(node.kind===216 ||node.kind===176 ||node.kind===144 );if(ts.isInAmbientContext(node)){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_not_allowed_in_an_ambient_context);}
if(!node.body){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.An_overload_signature_cannot_be_declared_as_a_generator);}
if(languageVersion<2 ){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_only_available_when_targeting_ECMAScript_6_or_higher);}}}
function checkGrammarForInvalidQuestionMark(node,questionToken,message){if(questionToken){return grammarErrorOnNode(questionToken,message);}}
function checkGrammarObjectLiteralExpression(node,inDestructuring){var seen={};var Property=1;var GetAccessor=2;var SetAccesor=4;var GetOrSetAccessor=GetAccessor|SetAccesor;var _loop_1=function(prop){var name_19=prop.name;if(prop.kind===190 ||name_19.kind===137 ){checkGrammarComputedPropertyName(name_19);return"continue";}
if(prop.kind===249 &&!inDestructuring&&prop.objectAssignmentInitializer){return{value:grammarErrorOnNode(prop.equalsToken,ts.Diagnostics.can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment)};}
ts.forEach(prop.modifiers,function(mod){if(mod.kind!==118 ||prop.kind!==144 ){grammarErrorOnNode(mod,ts.Diagnostics._0_modifier_cannot_be_used_here,ts.getTextOfNode(mod));}});var currentKind=void 0;if(prop.kind===248 ||prop.kind===249 ){checkGrammarForInvalidQuestionMark(prop,prop.questionToken,ts.Diagnostics.An_object_member_cannot_be_declared_optional);if(name_19.kind===8 ){checkGrammarNumericLiteral(name_19);}
currentKind=Property;}
else if(prop.kind===144 ){currentKind=Property;}
else if(prop.kind===146 ){currentKind=GetAccessor;}
else if(prop.kind===147 ){currentKind=SetAccesor;}
else{ts.Debug.fail("Unexpected syntax kind:"+prop.kind);}
if(!ts.hasProperty(seen,name_19.text)){seen[name_19.text]=currentKind;}
else{var existingKind=seen[name_19.text];if(currentKind===Property&&existingKind===Property){return"continue";}
else if((currentKind&GetOrSetAccessor)&&(existingKind&GetOrSetAccessor)){if(existingKind!==GetOrSetAccessor&&currentKind!==existingKind){seen[name_19.text]=currentKind|existingKind;}
else{return{value:grammarErrorOnNode(name_19,ts.Diagnostics.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name)};}}
else{return{value:grammarErrorOnNode(name_19,ts.Diagnostics.An_object_literal_cannot_have_property_and_accessor_with_the_same_name)};}}};for(var _i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i];var state_2=_loop_1(prop);if(typeof state_2==="object")return state_2.value;if(state_2==="continue")continue;}}
function checkGrammarJsxElement(node){var seen={};for(var _i=0,_a=node.attributes;_i<_a.length;_i++){var attr=_a[_i];if(attr.kind===242 ){continue;}
var jsxAttr=attr;var name_20=jsxAttr.name;if(!ts.hasProperty(seen,name_20.text)){seen[name_20.text]=true;}
else{return grammarErrorOnNode(name_20,ts.Diagnostics.JSX_elements_cannot_have_multiple_attributes_with_the_same_name);}
var initializer=jsxAttr.initializer;if(initializer&&initializer.kind===243 &&!initializer.expression){return grammarErrorOnNode(jsxAttr.initializer,ts.Diagnostics.JSX_attributes_must_only_be_assigned_a_non_empty_expression);}}}
function checkGrammarForInOrForOfStatement(forInOrOfStatement){if(checkGrammarStatementInAmbientContext(forInOrOfStatement)){return true;}
if(forInOrOfStatement.initializer.kind===215 ){var variableList=forInOrOfStatement.initializer;if(!checkGrammarVariableDeclarationList(variableList)){var declarations=variableList.declarations;if(!declarations.length){return false;}
if(declarations.length>1){var diagnostic=forInOrOfStatement.kind===203 ?ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement;return grammarErrorOnFirstToken(variableList.declarations[1],diagnostic);}
var firstDeclaration=declarations[0];if(firstDeclaration.initializer){var diagnostic=forInOrOfStatement.kind===203 ?ts.Diagnostics.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:ts.Diagnostics.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer;return grammarErrorOnNode(firstDeclaration.name,diagnostic);}
if(firstDeclaration.type){var diagnostic=forInOrOfStatement.kind===203 ?ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation;return grammarErrorOnNode(firstDeclaration,diagnostic);}}}
return false;}
function checkGrammarAccessor(accessor){var kind=accessor.kind;if(languageVersion<1 ){return grammarErrorOnNode(accessor.name,ts.Diagnostics.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher);}
else if(ts.isInAmbientContext(accessor)){return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_be_declared_in_an_ambient_context);}
else if(accessor.body===undefined){return grammarErrorAtPos(ts.getSourceFileOfNode(accessor),accessor.end-1,";".length,ts.Diagnostics._0_expected,"{");}
else if(accessor.typeParameters){return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_have_type_parameters);}
else if(kind===146 &&accessor.parameters.length){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_get_accessor_cannot_have_parameters);}
else if(kind===147 ){if(accessor.type){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_cannot_have_a_return_type_annotation);}
else if(accessor.parameters.length!==1){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_must_have_exactly_one_parameter);}
else{var parameter=accessor.parameters[0];if(parameter.dotDotDotToken){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_set_accessor_cannot_have_rest_parameter);}
else if(parameter.flags&1022 ){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation);}
else if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_set_accessor_cannot_have_an_optional_parameter);}
else if(parameter.initializer){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_parameter_cannot_have_an_initializer);}}}}
function checkGrammarForNonSymbolComputedProperty(node,message){if(ts.isDynamicName(node)){return grammarErrorOnNode(node,message);}}
function checkGrammarMethod(node){if(checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node)||checkGrammarFunctionLikeDeclaration(node)||checkGrammarForGenerator(node)){return true;}
if(node.parent.kind===168 ){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)){return true;}
else if(node.body===undefined){return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.end-1,";".length,ts.Diagnostics._0_expected,"{");}}
if(ts.isClassLike(node.parent)){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)){return true;}
if(ts.isInAmbientContext(node)){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol);}
else if(!node.body){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol);}}
else if(node.parent.kind===218 ){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol);}
else if(node.parent.kind===156 ){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol);}}
function checkGrammarBreakOrContinueStatement(node){var current=node;while(current){if(ts.isFunctionLike(current)){return grammarErrorOnNode(node,ts.Diagnostics.Jump_target_cannot_cross_function_boundary);}
switch(current.kind){case 210 :if(node.label&&current.label.text===node.label.text){var isMisplacedContinueLabel=node.kind===205 &&!ts.isIterationStatement(current.statement,true);if(isMisplacedContinueLabel){return grammarErrorOnNode(node,ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement);}
return false;}
break;case 209 :if(node.kind===206 &&!node.label){return false;}
break;default:if(ts.isIterationStatement(current,false)&&!node.label){return false;}
break;}
current=current.parent;}
if(node.label){var message=node.kind===206 ?ts.Diagnostics.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message);}
else{var message=node.kind===206 ?ts.Diagnostics.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:ts.Diagnostics.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message);}}
function checkGrammarBindingElement(node){if(node.dotDotDotToken){var elements=node.parent.elements;if(node!==ts.lastOrUndefined(elements)){return grammarErrorOnNode(node,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern);}
if(node.name.kind===165 ||node.name.kind===164 ){return grammarErrorOnNode(node.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern);}
if(node.initializer){return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-1,1,ts.Diagnostics.A_rest_element_cannot_have_an_initializer);}}}
function checkGrammarVariableDeclaration(node){if(node.parent.parent.kind!==203 &&node.parent.parent.kind!==204 ){if(ts.isInAmbientContext(node)){if(node.initializer){var equalsTokenLength="=".length;return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-equalsTokenLength,equalsTokenLength,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts);}}
else if(!node.initializer){if(ts.isBindingPattern(node.name)&&!ts.isBindingPattern(node.parent)){return grammarErrorOnNode(node,ts.Diagnostics.A_destructuring_declaration_must_have_an_initializer);}
if(ts.isConst(node)){return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_must_be_initialized);}}}
var checkLetConstNames=(ts.isLet(node)||ts.isConst(node));return checkLetConstNames&&checkGrammarNameInLetOrConstDeclarations(node.name);}
function checkGrammarNameInLetOrConstDeclarations(name){if(name.kind===69 ){if(name.originalKeywordKind===108 ){return grammarErrorOnNode(name,ts.Diagnostics.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations);}}
else{var elements=name.elements;for(var _i=0,elements_2=elements;_i<elements_2.length;_i++){var element=elements_2[_i];if(element.kind!==190 ){checkGrammarNameInLetOrConstDeclarations(element.name);}}}}
function checkGrammarVariableDeclarationList(declarationList){var declarations=declarationList.declarations;if(checkGrammarForDisallowedTrailingComma(declarationList.declarations)){return true;}
if(!declarationList.declarations.length){return grammarErrorAtPos(ts.getSourceFileOfNode(declarationList),declarations.pos,declarations.end-declarations.pos,ts.Diagnostics.Variable_declaration_list_cannot_be_empty);}}
function allowLetAndConstDeclarations(parent){switch(parent.kind){case 199 :case 200 :case 201 :case 208 :case 202 :case 203 :case 204 :return false;case 210 :return allowLetAndConstDeclarations(parent.parent);}
return true;}
function checkGrammarForDisallowedLetOrConstStatement(node){if(!allowLetAndConstDeclarations(node.parent)){if(ts.isLet(node.declarationList)){return grammarErrorOnNode(node,ts.Diagnostics.let_declarations_can_only_be_declared_inside_a_block);}
else if(ts.isConst(node.declarationList)){return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_can_only_be_declared_inside_a_block);}}}
function hasParseDiagnostics(sourceFile){return sourceFile.parseDiagnostics.length>0;}
function grammarErrorOnFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);diagnostics.add(ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2));return true;}}
function grammarErrorAtPos(sourceFile,start,length,message,arg0,arg1,arg2){if(!hasParseDiagnostics(sourceFile)){diagnostics.add(ts.createFileDiagnostic(sourceFile,start,length,message,arg0,arg1,arg2));return true;}}
function grammarErrorOnNode(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){diagnostics.add(ts.createDiagnosticForNode(node,message,arg0,arg1,arg2));return true;}}
function checkGrammarConstructorTypeParameters(node){if(node.typeParameters){return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.typeParameters.pos,node.typeParameters.end-node.typeParameters.pos,ts.Diagnostics.Type_parameters_cannot_appear_on_a_constructor_declaration);}}
function checkGrammarConstructorTypeAnnotation(node){if(node.type){return grammarErrorOnNode(node.type,ts.Diagnostics.Type_annotation_cannot_appear_on_a_constructor_declaration);}}
function checkGrammarProperty(node){if(ts.isClassLike(node.parent)){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)||checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol)){return true;}}
else if(node.parent.kind===218 ){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol)){return true;}
if(node.initializer){return grammarErrorOnNode(node.initializer,ts.Diagnostics.An_interface_property_cannot_have_an_initializer);}}
else if(node.parent.kind===156 ){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)){return true;}
if(node.initializer){return grammarErrorOnNode(node.initializer,ts.Diagnostics.A_type_literal_property_cannot_have_an_initializer);}}
if(ts.isInAmbientContext(node)&&node.initializer){return grammarErrorOnFirstToken(node.initializer,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts);}}
function checkGrammarTopLevelElementForRequiredDeclareModifier(node){if(node.kind===218 ||node.kind===219 ||node.kind===225 ||node.kind===224 ||node.kind===231 ||node.kind===230 ||(node.flags&4 )||(node.flags&(2 |512 ))){return false;}
return grammarErrorOnFirstToken(node,ts.Diagnostics.A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file);}
function checkGrammarTopLevelElementsForRequiredDeclareModifier(file){for(var _i=0,_a=file.statements;_i<_a.length;_i++){var decl=_a[_i];if(ts.isDeclaration(decl)||decl.kind===196 ){if(checkGrammarTopLevelElementForRequiredDeclareModifier(decl)){return true;}}}}
function checkGrammarSourceFile(node){return ts.isInAmbientContext(node)&&checkGrammarTopLevelElementsForRequiredDeclareModifier(node);}
function checkGrammarStatementInAmbientContext(node){if(ts.isInAmbientContext(node)){if(isAccessor(node.parent.kind)){return getNodeLinks(node).hasReportedStatementInAmbientContext=true;}
var links=getNodeLinks(node);if(!links.hasReportedStatementInAmbientContext&&ts.isFunctionLike(node.parent)){return getNodeLinks(node).hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.An_implementation_cannot_be_declared_in_ambient_contexts);}
if(node.parent.kind===195 ||node.parent.kind===222 ||node.parent.kind===251 ){var links_1=getNodeLinks(node.parent);if(!links_1.hasReportedStatementInAmbientContext){return links_1.hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.Statements_are_not_allowed_in_ambient_contexts);}}
else{}}}
function checkGrammarNumericLiteral(node){if(node.flags&32768 &&languageVersion>=1 ){return grammarErrorOnNode(node,ts.Diagnostics.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher);}}
function grammarErrorAfterFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);diagnostics.add(ts.createFileDiagnostic(sourceFile,ts.textSpanEnd(span),0,message,arg0,arg1,arg2));return true;}}
var _a;}
ts.createTypeChecker=createTypeChecker;})(ts||(ts={}));var ts;(function(ts){var nullSourceMapWriter;var defaultLastEncodedSourceMapSpan={emittedLine:1,emittedColumn:1,sourceLine:1,sourceColumn:1,sourceIndex:0};function getNullSourceMapWriter(){if(nullSourceMapWriter===undefined){nullSourceMapWriter={getSourceMapData:function(){return undefined;},setSourceFile:function(sourceFile){},emitStart:function(range){},emitEnd:function(range,stopOverridingSpan){},emitPos:function(pos){},changeEmitSourcePos:function(){},getText:function(){return undefined;},getSourceMappingURL:function(){return undefined;},initialize:function(filePath,sourceMapFilePath,sourceFiles,isBundledEmit){},reset:function(){}};}
return nullSourceMapWriter;}
ts.getNullSourceMapWriter=getNullSourceMapWriter;function createSourceMapWriter(host,writer){var compilerOptions=host.getCompilerOptions();var currentSourceFile;var sourceMapDir;var stopOverridingSpan=false;var modifyLastSourcePos=false;var sourceMapSourceIndex;var lastRecordedSourceMapSpan;var lastEncodedSourceMapSpan;var lastEncodedNameIndex;var sourceMapData;return{getSourceMapData:function(){return sourceMapData;},setSourceFile:setSourceFile,emitPos:emitPos,emitStart:emitStart,emitEnd:emitEnd,changeEmitSourcePos:changeEmitSourcePos,getText:getText,getSourceMappingURL:getSourceMappingURL,initialize:initialize,reset:reset};function initialize(filePath,sourceMapFilePath,sourceFiles,isBundledEmit){if(sourceMapData){reset();}
currentSourceFile=undefined;sourceMapSourceIndex=-1;lastRecordedSourceMapSpan=undefined;lastEncodedSourceMapSpan=defaultLastEncodedSourceMapSpan;lastEncodedNameIndex=0;sourceMapData={sourceMapFilePath:sourceMapFilePath,jsSourceMappingURL:!compilerOptions.inlineSourceMap?ts.getBaseFileName(ts.normalizeSlashes(sourceMapFilePath)):undefined,sourceMapFile:ts.getBaseFileName(ts.normalizeSlashes(filePath)),sourceMapSourceRoot:compilerOptions.sourceRoot||"",sourceMapSources:[],inputSourceFileNames:[],sourceMapNames:[],sourceMapMappings:"",sourceMapSourcesContent:compilerOptions.inlineSources?[]:undefined,sourceMapDecodedMappings:[]};sourceMapData.sourceMapSourceRoot=ts.normalizeSlashes(sourceMapData.sourceMapSourceRoot);if(sourceMapData.sourceMapSourceRoot.length&&sourceMapData.sourceMapSourceRoot.charCodeAt(sourceMapData.sourceMapSourceRoot.length-1)!==47 ){sourceMapData.sourceMapSourceRoot+=ts.directorySeparator;}
if(compilerOptions.mapRoot){sourceMapDir=ts.normalizeSlashes(compilerOptions.mapRoot);if(!isBundledEmit){ts.Debug.assert(sourceFiles.length===1);sourceMapDir=ts.getDirectoryPath(ts.getSourceFilePathInNewDir(sourceFiles[0],host,sourceMapDir));}
if(!ts.isRootedDiskPath(sourceMapDir)&&!ts.isUrl(sourceMapDir)){sourceMapDir=ts.combinePaths(host.getCommonSourceDirectory(),sourceMapDir);sourceMapData.jsSourceMappingURL=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizePath(filePath)),ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL),host.getCurrentDirectory(),host.getCanonicalFileName,true);}
else{sourceMapData.jsSourceMappingURL=ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL);}}
else{sourceMapDir=ts.getDirectoryPath(ts.normalizePath(filePath));}}
function reset(){currentSourceFile=undefined;sourceMapDir=undefined;sourceMapSourceIndex=undefined;lastRecordedSourceMapSpan=undefined;lastEncodedSourceMapSpan=undefined;lastEncodedNameIndex=undefined;sourceMapData=undefined;}
function updateLastEncodedAndRecordedSpans(){if(modifyLastSourcePos){modifyLastSourcePos=false;lastRecordedSourceMapSpan.emittedLine=lastEncodedSourceMapSpan.emittedLine;lastRecordedSourceMapSpan.emittedColumn=lastEncodedSourceMapSpan.emittedColumn;sourceMapData.sourceMapDecodedMappings.pop();lastEncodedSourceMapSpan=sourceMapData.sourceMapDecodedMappings.length?sourceMapData.sourceMapDecodedMappings[sourceMapData.sourceMapDecodedMappings.length-1]:defaultLastEncodedSourceMapSpan;var sourceMapMappings=sourceMapData.sourceMapMappings;var lenthToSet=sourceMapMappings.length-1;for(;lenthToSet>=0;lenthToSet--){var currentChar=sourceMapMappings.charAt(lenthToSet);if(currentChar===","){break;}
if(currentChar===";"&&lenthToSet!==0&&sourceMapMappings.charAt(lenthToSet-1)!==";"){break;}}
sourceMapData.sourceMapMappings=sourceMapMappings.substr(0,Math.max(0,lenthToSet));}}
function encodeLastRecordedSourceMapSpan(){if(!lastRecordedSourceMapSpan||lastRecordedSourceMapSpan===lastEncodedSourceMapSpan){return;}
var prevEncodedEmittedColumn=lastEncodedSourceMapSpan.emittedColumn;if(lastEncodedSourceMapSpan.emittedLine===lastRecordedSourceMapSpan.emittedLine){if(sourceMapData.sourceMapMappings){sourceMapData.sourceMapMappings+=",";}}
else{for(var encodedLine=lastEncodedSourceMapSpan.emittedLine;encodedLine<lastRecordedSourceMapSpan.emittedLine;encodedLine++){sourceMapData.sourceMapMappings+=";";}
prevEncodedEmittedColumn=1;}
sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.emittedColumn-prevEncodedEmittedColumn);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceIndex-lastEncodedSourceMapSpan.sourceIndex);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceLine-lastEncodedSourceMapSpan.sourceLine);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceColumn-lastEncodedSourceMapSpan.sourceColumn);if(lastRecordedSourceMapSpan.nameIndex>=0){ts.Debug.assert(false,"We do not support name index right now, Make sure to update updateLastEncodedAndRecordedSpans when we start using this");sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.nameIndex-lastEncodedNameIndex);lastEncodedNameIndex=lastRecordedSourceMapSpan.nameIndex;}
lastEncodedSourceMapSpan=lastRecordedSourceMapSpan;sourceMapData.sourceMapDecodedMappings.push(lastEncodedSourceMapSpan);}
function emitPos(pos){if(pos===-1){return;}
var sourceLinePos=ts.getLineAndCharacterOfPosition(currentSourceFile,pos);sourceLinePos.line++;sourceLinePos.character++;var emittedLine=writer.getLine();var emittedColumn=writer.getColumn();if(!lastRecordedSourceMapSpan||lastRecordedSourceMapSpan.emittedLine!==emittedLine||lastRecordedSourceMapSpan.emittedColumn!==emittedColumn||(lastRecordedSourceMapSpan.sourceIndex===sourceMapSourceIndex&&(lastRecordedSourceMapSpan.sourceLine>sourceLinePos.line||(lastRecordedSourceMapSpan.sourceLine===sourceLinePos.line&&lastRecordedSourceMapSpan.sourceColumn>sourceLinePos.character)))){encodeLastRecordedSourceMapSpan();lastRecordedSourceMapSpan={emittedLine:emittedLine,emittedColumn:emittedColumn,sourceLine:sourceLinePos.line,sourceColumn:sourceLinePos.character,sourceIndex:sourceMapSourceIndex};stopOverridingSpan=false;}
else if(!stopOverridingSpan){lastRecordedSourceMapSpan.sourceLine=sourceLinePos.line;lastRecordedSourceMapSpan.sourceColumn=sourceLinePos.character;lastRecordedSourceMapSpan.sourceIndex=sourceMapSourceIndex;}
updateLastEncodedAndRecordedSpans();}
function getStartPos(range){var rangeHasDecorators=!!range.decorators;return range.pos!==-1?ts.skipTrivia(currentSourceFile.text,rangeHasDecorators?range.decorators.end:range.pos):-1;}
function emitStart(range){emitPos(getStartPos(range));}
function emitEnd(range,stopOverridingEnd){emitPos(range.end);stopOverridingSpan=stopOverridingEnd;}
function changeEmitSourcePos(){ts.Debug.assert(!modifyLastSourcePos);modifyLastSourcePos=true;}
function setSourceFile(sourceFile){currentSourceFile=sourceFile;var sourcesDirectoryPath=compilerOptions.sourceRoot?host.getCommonSourceDirectory():sourceMapDir;var source=ts.getRelativePathToDirectoryOrUrl(sourcesDirectoryPath,currentSourceFile.fileName,host.getCurrentDirectory(),host.getCanonicalFileName,true);sourceMapSourceIndex=ts.indexOf(sourceMapData.sourceMapSources,source);if(sourceMapSourceIndex===-1){sourceMapSourceIndex=sourceMapData.sourceMapSources.length;sourceMapData.sourceMapSources.push(source);sourceMapData.inputSourceFileNames.push(sourceFile.fileName);if(compilerOptions.inlineSources){sourceMapData.sourceMapSourcesContent.push(sourceFile.text);}}}
function getText(){encodeLastRecordedSourceMapSpan();return ts.stringify({version:3,file:sourceMapData.sourceMapFile,sourceRoot:sourceMapData.sourceMapSourceRoot,sources:sourceMapData.sourceMapSources,names:sourceMapData.sourceMapNames,mappings:sourceMapData.sourceMapMappings,sourcesContent:sourceMapData.sourceMapSourcesContent});}
function getSourceMappingURL(){if(compilerOptions.inlineSourceMap){var base64SourceMapText=ts.convertToBase64(getText());return sourceMapData.jsSourceMappingURL="data:application/json;base64,"+base64SourceMapText;}
else{return sourceMapData.jsSourceMappingURL;}}}
ts.createSourceMapWriter=createSourceMapWriter;var base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function base64FormatEncode(inValue){if(inValue<64){return base64Chars.charAt(inValue);}
throw TypeError(inValue+": not a 64 based value");}
function base64VLQFormatEncode(inValue){if(inValue<0){inValue=((-inValue)<<1)+1;}
else{inValue=inValue<<1;}
var encodedStr="";do{var currentDigit=inValue&31;inValue=inValue>>5;if(inValue>0){currentDigit=currentDigit|32;}
encodedStr=encodedStr+base64FormatEncode(currentDigit);}while(inValue>0);return encodedStr;}})(ts||(ts={}));var ts;(function(ts){function getDeclarationDiagnostics(host,resolver,targetSourceFile){var declarationDiagnostics=ts.createDiagnosticCollection();ts.forEachExpectedEmitFile(host,getDeclarationDiagnosticsFromFile,targetSourceFile);return declarationDiagnostics.getDiagnostics(targetSourceFile?targetSourceFile.fileName:undefined);function getDeclarationDiagnosticsFromFile(_a,sources,isBundledEmit){var declarationFilePath=_a.declarationFilePath;emitDeclarations(host,resolver,declarationDiagnostics,declarationFilePath,sources,isBundledEmit);}}
ts.getDeclarationDiagnostics=getDeclarationDiagnostics;function emitDeclarations(host,resolver,emitterDiagnostics,declarationFilePath,sourceFiles,isBundledEmit){var newLine=host.getNewLine();var compilerOptions=host.getCompilerOptions();var write;var writeLine;var increaseIndent;var decreaseIndent;var writeTextOfNode;var writer=createAndSetNewTextWriterWithSymbolWriter();var enclosingDeclaration;var resultHasExternalModuleIndicator;var currentText;var currentLineMap;var currentIdentifiers;var isCurrentFileExternalModule;var reportedDeclarationError=false;var errorNameNode;var emitJsDocComments=compilerOptions.removeComments?function(declaration){}:writeJsDocComments;var emit=compilerOptions.stripInternal?stripInternal:emitNode;var noDeclare;var moduleElementDeclarationEmitInfo=[];var asynchronousSubModuleDeclarationEmitInfo;var referencePathsOutput="";var emittedReferencedFiles=[];var addedGlobalFileReference=false;var allSourcesModuleElementDeclarationEmitInfo=[];ts.forEach(sourceFiles,function(sourceFile){if(ts.isSourceFileJavaScript(sourceFile)){return;}
if(!compilerOptions.noResolve){ts.forEach(sourceFile.referencedFiles,function(fileReference){var referencedFile=ts.tryResolveScriptReference(host,sourceFile,fileReference);if(referencedFile&&!ts.contains(emittedReferencedFiles,referencedFile)){if(writeReferencePath(referencedFile,!isBundledEmit&&!addedGlobalFileReference)){addedGlobalFileReference=true;}
emittedReferencedFiles.push(referencedFile);}});}
resultHasExternalModuleIndicator=false;if(!isBundledEmit||!ts.isExternalModule(sourceFile)){noDeclare=false;emitSourceFile(sourceFile);}
else if(ts.isExternalModule(sourceFile)){noDeclare=true;write("declare module \""+ts.getResolvedExternalModuleName(host,sourceFile)+"\" {");writeLine();increaseIndent();emitSourceFile(sourceFile);decreaseIndent();write("}");writeLine();}
if(moduleElementDeclarationEmitInfo.length){var oldWriter=writer;ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){if(aliasEmitInfo.isVisible&&!aliasEmitInfo.asynchronousOutput){ts.Debug.assert(aliasEmitInfo.node.kind===225 );createAndSetNewTextWriterWithSymbolWriter();ts.Debug.assert(aliasEmitInfo.indent===0||(aliasEmitInfo.indent===1&&isBundledEmit));for(var i=0;i<aliasEmitInfo.indent;i++){increaseIndent();}
writeImportDeclaration(aliasEmitInfo.node);aliasEmitInfo.asynchronousOutput=writer.getText();for(var i=0;i<aliasEmitInfo.indent;i++){decreaseIndent();}}});setWriter(oldWriter);allSourcesModuleElementDeclarationEmitInfo=allSourcesModuleElementDeclarationEmitInfo.concat(moduleElementDeclarationEmitInfo);moduleElementDeclarationEmitInfo=[];}
if(!isBundledEmit&&ts.isExternalModule(sourceFile)&&sourceFile.moduleAugmentations.length&&!resultHasExternalModuleIndicator){write("export {};");writeLine();}});return{reportedDeclarationError:reportedDeclarationError,moduleElementDeclarationEmitInfo:allSourcesModuleElementDeclarationEmitInfo,synchronousDeclarationOutput:writer.getText(),referencePathsOutput:referencePathsOutput};function hasInternalAnnotation(range){var comment=currentText.substring(range.pos,range.end);return comment.indexOf("@internal")>=0;}
function stripInternal(node){if(node){var leadingCommentRanges=ts.getLeadingCommentRanges(currentText,node.pos);if(ts.forEach(leadingCommentRanges,hasInternalAnnotation)){return;}
emitNode(node);}}
function createAndSetNewTextWriterWithSymbolWriter(){var writer=ts.createTextWriter(newLine);writer.trackSymbol=trackSymbol;writer.reportInaccessibleThisError=reportInaccessibleThisError;writer.writeKeyword=writer.write;writer.writeOperator=writer.write;writer.writePunctuation=writer.write;writer.writeSpace=writer.write;writer.writeStringLiteral=writer.writeLiteral;writer.writeParameter=writer.write;writer.writeSymbol=writer.write;setWriter(writer);return writer;}
function setWriter(newWriter){writer=newWriter;write=newWriter.write;writeTextOfNode=newWriter.writeTextOfNode;writeLine=newWriter.writeLine;increaseIndent=newWriter.increaseIndent;decreaseIndent=newWriter.decreaseIndent;}
function writeAsynchronousModuleElements(nodes){var oldWriter=writer;ts.forEach(nodes,function(declaration){var nodeToCheck;if(declaration.kind===214 ){nodeToCheck=declaration.parent.parent;}
else if(declaration.kind===228 ||declaration.kind===229 ||declaration.kind===226 ){ts.Debug.fail("We should be getting ImportDeclaration instead to write");}
else{nodeToCheck=declaration;}
var moduleElementEmitInfo=ts.forEach(moduleElementDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:undefined;});if(!moduleElementEmitInfo&&asynchronousSubModuleDeclarationEmitInfo){moduleElementEmitInfo=ts.forEach(asynchronousSubModuleDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:undefined;});}
if(moduleElementEmitInfo){if(moduleElementEmitInfo.node.kind===225 ){moduleElementEmitInfo.isVisible=true;}
else{createAndSetNewTextWriterWithSymbolWriter();for(var declarationIndent=moduleElementEmitInfo.indent;declarationIndent;declarationIndent--){increaseIndent();}
if(nodeToCheck.kind===221 ){ts.Debug.assert(asynchronousSubModuleDeclarationEmitInfo===undefined);asynchronousSubModuleDeclarationEmitInfo=[];}
writeModuleElement(nodeToCheck);if(nodeToCheck.kind===221 ){moduleElementEmitInfo.subModuleElementDeclarationEmitInfo=asynchronousSubModuleDeclarationEmitInfo;asynchronousSubModuleDeclarationEmitInfo=undefined;}
moduleElementEmitInfo.asynchronousOutput=writer.getText();}}});setWriter(oldWriter);}
function handleSymbolAccessibilityError(symbolAccesibilityResult){if(symbolAccesibilityResult.accessibility===0 ){if(symbolAccesibilityResult&&symbolAccesibilityResult.aliasesToMakeVisible){writeAsynchronousModuleElements(symbolAccesibilityResult.aliasesToMakeVisible);}}
else{reportedDeclarationError=true;var errorInfo=writer.getSymbolAccessibilityDiagnostic(symbolAccesibilityResult);if(errorInfo){if(errorInfo.typeName){emitterDiagnostics.add(ts.createDiagnosticForNode(symbolAccesibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,ts.getTextOfNodeFromSourceText(currentText,errorInfo.typeName),symbolAccesibilityResult.errorSymbolName,symbolAccesibilityResult.errorModuleName));}
else{emitterDiagnostics.add(ts.createDiagnosticForNode(symbolAccesibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,symbolAccesibilityResult.errorSymbolName,symbolAccesibilityResult.errorModuleName));}}}}
function trackSymbol(symbol,enclosingDeclaration,meaning){handleSymbolAccessibilityError(resolver.isSymbolAccessible(symbol,enclosingDeclaration,meaning));}
function reportInaccessibleThisError(){if(errorNameNode){reportedDeclarationError=true;emitterDiagnostics.add(ts.createDiagnosticForNode(errorNameNode,ts.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary,ts.declarationNameToString(errorNameNode)));}}
function writeTypeOfDeclaration(declaration,type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;write(": ");if(type){emitType(type);}
else{errorNameNode=declaration.name;resolver.writeTypeOfDeclaration(declaration,enclosingDeclaration,2 ,writer);errorNameNode=undefined;}}
function writeReturnTypeAtSignature(signature,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;write(": ");if(signature.type){emitType(signature.type);}
else{errorNameNode=signature.name;resolver.writeReturnTypeOfSignatureDeclaration(signature,enclosingDeclaration,2 ,writer);errorNameNode=undefined;}}
function emitLines(nodes){for(var _i=0,nodes_2=nodes;_i<nodes_2.length;_i++){var node=nodes_2[_i];emit(node);}}
function emitSeparatedList(nodes,separator,eachNodeEmitFn,canEmitFn){var currentWriterPos=writer.getTextPos();for(var _i=0,nodes_3=nodes;_i<nodes_3.length;_i++){var node=nodes_3[_i];if(!canEmitFn||canEmitFn(node)){if(currentWriterPos!==writer.getTextPos()){write(separator);}
currentWriterPos=writer.getTextPos();eachNodeEmitFn(node);}}}
function emitCommaList(nodes,eachNodeEmitFn,canEmitFn){emitSeparatedList(nodes,", ",eachNodeEmitFn,canEmitFn);}
function writeJsDocComments(declaration){if(declaration){var jsDocComments=ts.getJsDocCommentsFromText(declaration,currentText);ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,declaration,jsDocComments);ts.emitComments(currentText,currentLineMap,writer,jsDocComments,true,newLine,ts.writeCommentRange);}}
function emitTypeWithNewGetSymbolAccessibilityDiagnostic(type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;emitType(type);}
function emitType(type){switch(type.kind){case 117 :case 130 :case 128 :case 120 :case 131 :case 103 :case 162 :case 163 :return writeTextOfNode(currentText,type);case 191 :return emitExpressionWithTypeArguments(type);case 152 :return emitTypeReference(type);case 155 :return emitTypeQuery(type);case 157 :return emitArrayType(type);case 158 :return emitTupleType(type);case 159 :return emitUnionType(type);case 160 :return emitIntersectionType(type);case 161 :return emitParenType(type);case 153 :case 154 :return emitSignatureDeclarationWithJsDocComments(type);case 156 :return emitTypeLiteral(type);case 69 :return emitEntityName(type);case 136 :return emitEntityName(type);case 151 :return emitTypePredicate(type);}
function writeEntityName(entityName){if(entityName.kind===69 ){writeTextOfNode(currentText,entityName);}
else{var left=entityName.kind===136 ?entityName.left:entityName.expression;var right=entityName.kind===136 ?entityName.right:entityName.name;writeEntityName(left);write(".");writeTextOfNode(currentText,right);}}
function emitEntityName(entityName){var visibilityResult=resolver.isEntityNameVisible(entityName,entityName.parent.kind===224 ?entityName.parent:enclosingDeclaration);handleSymbolAccessibilityError(visibilityResult);writeEntityName(entityName);}
function emitExpressionWithTypeArguments(node){if(ts.isSupportedExpressionWithTypeArguments(node)){ts.Debug.assert(node.expression.kind===69 ||node.expression.kind===169 );emitEntityName(node.expression);if(node.typeArguments){write("<");emitCommaList(node.typeArguments,emitType);write(">");}}}
function emitTypeReference(type){emitEntityName(type.typeName);if(type.typeArguments){write("<");emitCommaList(type.typeArguments,emitType);write(">");}}
function emitTypePredicate(type){writeTextOfNode(currentText,type.parameterName);write(" is ");emitType(type.type);}
function emitTypeQuery(type){write("typeof ");emitEntityName(type.exprName);}
function emitArrayType(type){emitType(type.elementType);write("[]");}
function emitTupleType(type){write("[");emitCommaList(type.elementTypes,emitType);write("]");}
function emitUnionType(type){emitSeparatedList(type.types," | ",emitType);}
function emitIntersectionType(type){emitSeparatedList(type.types," & ",emitType);}
function emitParenType(type){write("(");emitType(type.type);write(")");}
function emitTypeLiteral(type){write("{");if(type.members.length){writeLine();increaseIndent();emitLines(type.members);decreaseIndent();}
write("}");}}
function emitSourceFile(node){currentText=node.text;currentLineMap=ts.getLineStarts(node);currentIdentifiers=node.identifiers;isCurrentFileExternalModule=ts.isExternalModule(node);enclosingDeclaration=node;ts.emitDetachedComments(currentText,currentLineMap,writer,ts.writeCommentRange,node,newLine,true );emitLines(node.statements);}
function getExportDefaultTempVariableName(){var baseName="_default";if(!ts.hasProperty(currentIdentifiers,baseName)){return baseName;}
var count=0;while(true){count++;var name_21=baseName+"_"+count;if(!ts.hasProperty(currentIdentifiers,name_21)){return name_21;}}}
function emitExportAssignment(node){if(node.expression.kind===69 ){write(node.isExportEquals?"export = ":"export default ");writeTextOfNode(currentText,node.expression);}
else{var tempVarName=getExportDefaultTempVariableName();write("declare var ");write(tempVarName);write(": ");writer.getSymbolAccessibilityDiagnostic=getDefaultExportAccessibilityDiagnostic;resolver.writeTypeOfExpression(node.expression,enclosingDeclaration,2 ,writer);write(";");writeLine();write(node.isExportEquals?"export = ":"export default ");write(tempVarName);}
write(";");writeLine();if(node.expression.kind===69 ){var nodes=resolver.collectLinkedAliases(node.expression);writeAsynchronousModuleElements(nodes);}
function getDefaultExportAccessibilityDiagnostic(diagnostic){return{diagnosticMessage:ts.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:node};}}
function isModuleElementVisible(node){return resolver.isDeclarationVisible(node);}
function emitModuleElement(node,isModuleElementVisible){if(isModuleElementVisible){writeModuleElement(node);}
else if(node.kind===224 ||(node.parent.kind===251 &&isCurrentFileExternalModule)){var isVisible=void 0;if(asynchronousSubModuleDeclarationEmitInfo&&node.parent.kind!==251 ){asynchronousSubModuleDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible});}
else{if(node.kind===225 ){var importDeclaration=node;if(importDeclaration.importClause){isVisible=(importDeclaration.importClause.name&&resolver.isDeclarationVisible(importDeclaration.importClause))||isVisibleNamedBinding(importDeclaration.importClause.namedBindings);}}
moduleElementDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible});}}}
function writeModuleElement(node){switch(node.kind){case 216 :return writeFunctionDeclaration(node);case 196 :return writeVariableStatement(node);case 218 :return writeInterfaceDeclaration(node);case 217 :return writeClassDeclaration(node);case 219 :return writeTypeAliasDeclaration(node);case 220 :return writeEnumDeclaration(node);case 221 :return writeModuleDeclaration(node);case 224 :return writeImportEqualsDeclaration(node);case 225 :return writeImportDeclaration(node);default:ts.Debug.fail("Unknown symbol kind");}}
function emitModuleElementDeclarationFlags(node){if(node.parent.kind===251 ){if(node.flags&2 ){write("export ");}
if(node.flags&512 ){write("default ");}
else if(node.kind!==218 &&!noDeclare){write("declare ");}}}
function emitClassMemberDeclarationFlags(node){if(node.flags&16 ){write("private ");}
else if(node.flags&32 ){write("protected ");}
if(node.flags&64 ){write("static ");}
if(node.flags&128 ){write("abstract ");}}
function writeImportEqualsDeclaration(node){emitJsDocComments(node);if(node.flags&2 ){write("export ");}
write("import ");writeTextOfNode(currentText,node.name);write(" = ");if(ts.isInternalModuleImportEqualsDeclaration(node)){emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.moduleReference,getImportEntityNameVisibilityError);write(";");}
else{write("require(");emitExternalModuleSpecifier(node);write(");");}
writer.writeLine();function getImportEntityNameVisibilityError(symbolAccesibilityResult){return{diagnosticMessage:ts.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:node,typeName:node.name};}}
function isVisibleNamedBinding(namedBindings){if(namedBindings){if(namedBindings.kind===227 ){return resolver.isDeclarationVisible(namedBindings);}
else{return ts.forEach(namedBindings.elements,function(namedImport){return resolver.isDeclarationVisible(namedImport);});}}}
function writeImportDeclaration(node){emitJsDocComments(node);if(node.flags&2 ){write("export ");}
write("import ");if(node.importClause){var currentWriterPos=writer.getTextPos();if(node.importClause.name&&resolver.isDeclarationVisible(node.importClause)){writeTextOfNode(currentText,node.importClause.name);}
if(node.importClause.namedBindings&&isVisibleNamedBinding(node.importClause.namedBindings)){if(currentWriterPos!==writer.getTextPos()){write(", ");}
if(node.importClause.namedBindings.kind===227 ){write("* as ");writeTextOfNode(currentText,node.importClause.namedBindings.name);}
else{write("{ ");emitCommaList(node.importClause.namedBindings.elements,emitImportOrExportSpecifier,resolver.isDeclarationVisible);write(" }");}}
write(" from ");}
emitExternalModuleSpecifier(node);write(";");writer.writeLine();}
function emitExternalModuleSpecifier(parent){resultHasExternalModuleIndicator=resultHasExternalModuleIndicator||parent.kind!==221 ;var moduleSpecifier;if(parent.kind===224 ){var node=parent;moduleSpecifier=ts.getExternalModuleImportEqualsDeclarationExpression(node);}
else if(parent.kind===221 ){moduleSpecifier=parent.name;}
else{var node=parent;moduleSpecifier=node.moduleSpecifier;}
if(moduleSpecifier.kind===9 &&isBundledEmit&&(compilerOptions.out||compilerOptions.outFile)){var moduleName=ts.getExternalModuleNameFromDeclaration(host,resolver,parent);if(moduleName){write("\"");write(moduleName);write("\"");return;}}
writeTextOfNode(currentText,moduleSpecifier);}
function emitImportOrExportSpecifier(node){if(node.propertyName){writeTextOfNode(currentText,node.propertyName);write(" as ");}
writeTextOfNode(currentText,node.name);}
function emitExportSpecifier(node){emitImportOrExportSpecifier(node);var nodes=resolver.collectLinkedAliases(node.propertyName||node.name);writeAsynchronousModuleElements(nodes);}
function emitExportDeclaration(node){emitJsDocComments(node);write("export ");if(node.exportClause){write("{ ");emitCommaList(node.exportClause.elements,emitExportSpecifier);write(" }");}
else{write("*");}
if(node.moduleSpecifier){write(" from ");emitExternalModuleSpecifier(node);}
write(";");writer.writeLine();}
function writeModuleDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(ts.isGlobalScopeAugmentation(node)){write("global ");}
else{if(node.flags&65536 ){write("namespace ");}
else{write("module ");}
if(ts.isExternalModuleAugmentation(node)){emitExternalModuleSpecifier(node);}
else{writeTextOfNode(currentText,node.name);}}
while(node.body.kind!==222 ){node=node.body;write(".");writeTextOfNode(currentText,node.name);}
var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;write(" {");writeLine();increaseIndent();emitLines(node.body.statements);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration;}
function writeTypeAliasDeclaration(node){var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitJsDocComments(node);emitModuleElementDeclarationFlags(node);write("type ");writeTextOfNode(currentText,node.name);emitTypeParameters(node.typeParameters);write(" = ");emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.type,getTypeAliasDeclarationVisibilityError);write(";");writeLine();enclosingDeclaration=prevEnclosingDeclaration;function getTypeAliasDeclarationVisibilityError(symbolAccesibilityResult){return{diagnosticMessage:ts.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:node.type,typeName:node.name};}}
function writeEnumDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(ts.isConst(node)){write("const ");}
write("enum ");writeTextOfNode(currentText,node.name);write(" {");writeLine();increaseIndent();emitLines(node.members);decreaseIndent();write("}");writeLine();}
function emitEnumMemberDeclaration(node){emitJsDocComments(node);writeTextOfNode(currentText,node.name);var enumMemberValue=resolver.getConstantValue(node);if(enumMemberValue!==undefined){write(" = ");write(enumMemberValue.toString());}
write(",");writeLine();}
function isPrivateMethodTypeParameter(node){return node.parent.kind===144 &&(node.parent.flags&16 );}
function emitTypeParameters(typeParameters){function emitTypeParameter(node){increaseIndent();emitJsDocComments(node);decreaseIndent();writeTextOfNode(currentText,node.name);if(node.constraint&&!isPrivateMethodTypeParameter(node)){write(" extends ");if(node.parent.kind===153 ||node.parent.kind===154 ||(node.parent.parent&&node.parent.parent.kind===156 )){ts.Debug.assert(node.parent.kind===144 ||node.parent.kind===143 ||node.parent.kind===153 ||node.parent.kind===154 ||node.parent.kind===148 ||node.parent.kind===149 );emitType(node.constraint);}
else{emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.constraint,getTypeParameterConstraintVisibilityError);}}
function getTypeParameterConstraintVisibilityError(symbolAccesibilityResult){var diagnosticMessage;switch(node.parent.kind){case 217 :diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 218 :diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 149 :diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 148 :diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 144 :case 143 :if(node.parent.flags&64 ){diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1;}
else if(node.parent.parent.kind===217 ){diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1;}
else{diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;}
break;case 216 :diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;default:ts.Debug.fail("This is unknown parent for type parameter: "+node.parent.kind);}
return{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name};}}
if(typeParameters){write("<");emitCommaList(typeParameters,emitTypeParameter);write(">");}}
function emitHeritageClause(typeReferences,isImplementsList){if(typeReferences){write(isImplementsList?" implements ":" extends ");emitCommaList(typeReferences,emitTypeOfTypeReference);}
function emitTypeOfTypeReference(node){if(ts.isSupportedExpressionWithTypeArguments(node)){emitTypeWithNewGetSymbolAccessibilityDiagnostic(node,getHeritageClauseVisibilityError);}
else if(!isImplementsList&&node.expression.kind===93 ){write("null");}
function getHeritageClauseVisibilityError(symbolAccesibilityResult){var diagnosticMessage;if(node.parent.parent.kind===217 ){diagnosticMessage=isImplementsList?ts.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:ts.Diagnostics.Extends_clause_of_exported_class_0_has_or_is_using_private_name_1;}
else{diagnosticMessage=ts.Diagnostics.Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1;}
return{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.parent.parent.name};}}}
function writeClassDeclaration(node){function emitParameterProperties(constructorDeclaration){if(constructorDeclaration){ts.forEach(constructorDeclaration.parameters,function(param){if(param.flags&56 ){emitPropertyDeclaration(param);}});}}
emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(node.flags&128 ){write("abstract ");}
write("class ");writeTextOfNode(currentText,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitTypeParameters(node.typeParameters);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){emitHeritageClause([baseTypeNode],false);}
emitHeritageClause(ts.getClassImplementsHeritageClauseElements(node),true);write(" {");writeLine();increaseIndent();emitParameterProperties(ts.getFirstConstructorWithBody(node));emitLines(node.members);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration;}
function writeInterfaceDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);write("interface ");writeTextOfNode(currentText,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitTypeParameters(node.typeParameters);emitHeritageClause(ts.getInterfaceBaseTypeNodes(node),false);write(" {");writeLine();increaseIndent();emitLines(node.members);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration;}
function emitPropertyDeclaration(node){if(ts.hasDynamicName(node)){return;}
emitJsDocComments(node);emitClassMemberDeclarationFlags(node);emitVariableDeclaration(node);write(";");writeLine();}
function emitVariableDeclaration(node){if(node.kind!==214 ||resolver.isDeclarationVisible(node)){if(ts.isBindingPattern(node.name)){emitBindingPattern(node.name);}
else{writeTextOfNode(currentText,node.name);if((node.kind===142 ||node.kind===141 )&&ts.hasQuestionToken(node)){write("?");}
if((node.kind===142 ||node.kind===141 )&&node.parent.kind===156 ){emitTypeOfVariableDeclarationFromTypeLiteral(node);}
else if(!(node.flags&16 )){writeTypeOfDeclaration(node,node.type,getVariableDeclarationTypeVisibilityError);}}}
function getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult){if(node.kind===214 ){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1;}
else if(node.kind===142 ||node.kind===141 ){if(node.flags&64 ){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1;}
else if(node.parent.kind===217 ){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1;}
else{return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1;}}}
function getVariableDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:undefined;}
function emitBindingPattern(bindingPattern){var elements=[];for(var _i=0,_a=bindingPattern.elements;_i<_a.length;_i++){var element=_a[_i];if(element.kind!==190 ){elements.push(element);}}
emitCommaList(elements,emitBindingElement);}
function emitBindingElement(bindingElement){function getBindingElementTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:bindingElement,typeName:bindingElement.name}:undefined;}
if(bindingElement.name){if(ts.isBindingPattern(bindingElement.name)){emitBindingPattern(bindingElement.name);}
else{writeTextOfNode(currentText,bindingElement.name);writeTypeOfDeclaration(bindingElement,undefined,getBindingElementTypeVisibilityError);}}}}
function emitTypeOfVariableDeclarationFromTypeLiteral(node){if(node.type){write(": ");emitType(node.type);}}
function isVariableStatementVisible(node){return ts.forEach(node.declarationList.declarations,function(varDeclaration){return resolver.isDeclarationVisible(varDeclaration);});}
function writeVariableStatement(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(ts.isLet(node.declarationList)){write("let ");}
else if(ts.isConst(node.declarationList)){write("const ");}
else{write("var ");}
emitCommaList(node.declarationList.declarations,emitVariableDeclaration,resolver.isDeclarationVisible);write(";");writeLine();}
function emitAccessorDeclaration(node){if(ts.hasDynamicName(node)){return;}
var accessors=ts.getAllAccessorDeclarations(node.parent.members,node);var accessorWithTypeAnnotation;if(node===accessors.firstAccessor){emitJsDocComments(accessors.getAccessor);emitJsDocComments(accessors.setAccessor);emitClassMemberDeclarationFlags(node);writeTextOfNode(currentText,node.name);if(!(node.flags&16 )){accessorWithTypeAnnotation=node;var type=getTypeAnnotationFromAccessor(node);if(!type){var anotherAccessor=node.kind===146 ?accessors.setAccessor:accessors.getAccessor;type=getTypeAnnotationFromAccessor(anotherAccessor);if(type){accessorWithTypeAnnotation=anotherAccessor;}}
writeTypeOfDeclaration(node,type,getAccessorDeclarationTypeVisibilityError);}
write(";");writeLine();}
function getTypeAnnotationFromAccessor(accessor){if(accessor){return accessor.kind===146 ?accessor.type:accessor.parameters.length>0?accessor.parameters[0].type:undefined;}}
function getAccessorDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage;if(accessorWithTypeAnnotation.kind===147 ){if(accessorWithTypeAnnotation.parent.flags&64 ){diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1;}
else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1;}
return{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.parameters[0],typeName:accessorWithTypeAnnotation.name};}
else{if(accessorWithTypeAnnotation.flags&64 ){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0;}
else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0;}
return{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.name,typeName:undefined};}}}
function writeFunctionDeclaration(node){if(ts.hasDynamicName(node)){return;}
if(!resolver.isImplementationOfOverload(node)){emitJsDocComments(node);if(node.kind===216 ){emitModuleElementDeclarationFlags(node);}
else if(node.kind===144 ){emitClassMemberDeclarationFlags(node);}
if(node.kind===216 ){write("function ");writeTextOfNode(currentText,node.name);}
else if(node.kind===145 ){write("constructor");}
else{writeTextOfNode(currentText,node.name);if(ts.hasQuestionToken(node)){write("?");}}
emitSignatureDeclaration(node);}}
function emitSignatureDeclarationWithJsDocComments(node){emitJsDocComments(node);emitSignatureDeclaration(node);}
function emitSignatureDeclaration(node){var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;if(node.kind===149 ||node.kind===154 ){write("new ");}
emitTypeParameters(node.typeParameters);if(node.kind===150 ){write("[");}
else{write("(");}
emitCommaList(node.parameters,emitParameterDeclaration);if(node.kind===150 ){write("]");}
else{write(")");}
var isFunctionTypeOrConstructorType=node.kind===153 ||node.kind===154 ;if(isFunctionTypeOrConstructorType||node.parent.kind===156 ){if(node.type){write(isFunctionTypeOrConstructorType?" => ":": ");emitType(node.type);}}
else if(node.kind!==145 &&!(node.flags&16 )){writeReturnTypeAtSignature(node,getReturnTypeVisibilityError);}
enclosingDeclaration=prevEnclosingDeclaration;if(!isFunctionTypeOrConstructorType){write(";");writeLine();}
function getReturnTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage;switch(node.kind){case 149 :diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 148 :diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 150 :diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 144 :case 143 :if(node.flags&64 ){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0;}
else if(node.parent.kind===217 ){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0;}
else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;}
break;case 216 :diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:ts.Debug.fail("This is unknown kind for signature: "+node.kind);}
return{diagnosticMessage:diagnosticMessage,errorNode:node.name||node};}}
function emitParameterDeclaration(node){increaseIndent();emitJsDocComments(node);if(node.dotDotDotToken){write("...");}
if(ts.isBindingPattern(node.name)){emitBindingPattern(node.name);}
else{writeTextOfNode(currentText,node.name);}
if(resolver.isOptionalParameter(node)){write("?");}
decreaseIndent();if(node.parent.kind===153 ||node.parent.kind===154 ||node.parent.parent.kind===156 ){emitTypeOfVariableDeclarationFromTypeLiteral(node);}
else if(!(node.parent.flags&16 )){writeTypeOfDeclaration(node,node.type,getParameterDeclarationTypeVisibilityError);}
function getParameterDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:undefined;}
function getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult){switch(node.parent.kind){case 145 :return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 149 :return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 148 :return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 144 :case 143 :if(node.parent.flags&64 ){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1;}
else if(node.parent.parent.kind===217 ){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1;}
else{return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;}
case 216 :return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2 ?ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;default:ts.Debug.fail("This is unknown parent for parameter: "+node.parent.kind);}}
function emitBindingPattern(bindingPattern){if(bindingPattern.kind===164 ){write("{");emitCommaList(bindingPattern.elements,emitBindingElement);write("}");}
else if(bindingPattern.kind===165 ){write("[");var elements=bindingPattern.elements;emitCommaList(elements,emitBindingElement);if(elements&&elements.hasTrailingComma){write(", ");}
write("]");}}
function emitBindingElement(bindingElement){if(bindingElement.kind===190 ){write(" ");}
else if(bindingElement.kind===166 ){if(bindingElement.propertyName){writeTextOfNode(currentText,bindingElement.propertyName);write(": ");}
if(bindingElement.name){if(ts.isBindingPattern(bindingElement.name)){emitBindingPattern(bindingElement.name);}
else{ts.Debug.assert(bindingElement.name.kind===69 );if(bindingElement.dotDotDotToken){write("...");}
writeTextOfNode(currentText,bindingElement.name);}}}}}
function emitNode(node){switch(node.kind){case 216 :case 221 :case 224 :case 218 :case 217 :case 219 :case 220 :return emitModuleElement(node,isModuleElementVisible(node));case 196 :return emitModuleElement(node,isVariableStatementVisible(node));case 225 :return emitModuleElement(node,!node.importClause);case 231 :return emitExportDeclaration(node);case 145 :case 144 :case 143 :return writeFunctionDeclaration(node);case 149 :case 148 :case 150 :return emitSignatureDeclarationWithJsDocComments(node);case 146 :case 147 :return emitAccessorDeclaration(node);case 142 :case 141 :return emitPropertyDeclaration(node);case 250 :return emitEnumMemberDeclaration(node);case 230 :return emitExportAssignment(node);case 251 :return emitSourceFile(node);}}
function writeReferencePath(referencedFile,addBundledFileReference){var declFileName;var addedBundledEmitReference=false;if(ts.isDeclarationFile(referencedFile)){declFileName=referencedFile.fileName;}
else{ts.forEachExpectedEmitFile(host,getDeclFileName,referencedFile);}
if(declFileName){declFileName=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizeSlashes(declarationFilePath)),declFileName,host.getCurrentDirectory(),host.getCanonicalFileName,false);referencePathsOutput+="/// <reference path=\""+declFileName+"\" />"+newLine;}
return addedBundledEmitReference;function getDeclFileName(emitFileNames,sourceFiles,isBundledEmit){if(isBundledEmit&&!addBundledFileReference){return;}
ts.Debug.assert(!!emitFileNames.declarationFilePath||ts.isSourceFileJavaScript(referencedFile),"Declaration file is not present only for javascript files");declFileName=emitFileNames.declarationFilePath||emitFileNames.jsFilePath;addedBundledEmitReference=isBundledEmit;}}}
function writeDeclarationFile(declarationFilePath,sourceFiles,isBundledEmit,host,resolver,emitterDiagnostics){var emitDeclarationResult=emitDeclarations(host,resolver,emitterDiagnostics,declarationFilePath,sourceFiles,isBundledEmit);var emitSkipped=emitDeclarationResult.reportedDeclarationError||host.isEmitBlocked(declarationFilePath)||host.getCompilerOptions().noEmit;if(!emitSkipped){var declarationOutput=emitDeclarationResult.referencePathsOutput
+getDeclarationOutput(emitDeclarationResult.synchronousDeclarationOutput,emitDeclarationResult.moduleElementDeclarationEmitInfo);ts.writeFile(host,emitterDiagnostics,declarationFilePath,declarationOutput,host.getCompilerOptions().emitBOM);}
return emitSkipped;function getDeclarationOutput(synchronousDeclarationOutput,moduleElementDeclarationEmitInfo){var appliedSyncOutputPos=0;var declarationOutput="";ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){if(aliasEmitInfo.asynchronousOutput){declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos,aliasEmitInfo.outputPos);declarationOutput+=getDeclarationOutput(aliasEmitInfo.asynchronousOutput,aliasEmitInfo.subModuleElementDeclarationEmitInfo);appliedSyncOutputPos=aliasEmitInfo.outputPos;}});declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos);return declarationOutput;}}
ts.writeDeclarationFile=writeDeclarationFile;})(ts||(ts={}));var ts;(function(ts){function getResolvedExternalModuleName(host,file){return file.moduleName||ts.getExternalModuleNameFromPath(host,file.fileName);}
ts.getResolvedExternalModuleName=getResolvedExternalModuleName;function getExternalModuleNameFromDeclaration(host,resolver,declaration){var file=resolver.getExternalModuleFileFromDeclaration(declaration);if(!file||ts.isDeclarationFile(file)){return undefined;}
return getResolvedExternalModuleName(host,file);}
ts.getExternalModuleNameFromDeclaration=getExternalModuleNameFromDeclaration;var Jump;(function(Jump){Jump[Jump["Break"]=2]="Break";Jump[Jump["Continue"]=4]="Continue";Jump[Jump["Return"]=8]="Return";})(Jump||(Jump={}));var entities={"quot":0x0022,"amp":0x0026,"apos":0x0027,"lt":0x003C,"gt":0x003E,"nbsp":0x00A0,"iexcl":0x00A1,"cent":0x00A2,"pound":0x00A3,"curren":0x00A4,"yen":0x00A5,"brvbar":0x00A6,"sect":0x00A7,"uml":0x00A8,"copy":0x00A9,"ordf":0x00AA,"laquo":0x00AB,"not":0x00AC,"shy":0x00AD,"reg":0x00AE,"macr":0x00AF,"deg":0x00B0,"plusmn":0x00B1,"sup2":0x00B2,"sup3":0x00B3,"acute":0x00B4,"micro":0x00B5,"para":0x00B6,"middot":0x00B7,"cedil":0x00B8,"sup1":0x00B9,"ordm":0x00BA,"raquo":0x00BB,"frac14":0x00BC,"frac12":0x00BD,"frac34":0x00BE,"iquest":0x00BF,"Agrave":0x00C0,"Aacute":0x00C1,"Acirc":0x00C2,"Atilde":0x00C3,"Auml":0x00C4,"Aring":0x00C5,"AElig":0x00C6,"Ccedil":0x00C7,"Egrave":0x00C8,"Eacute":0x00C9,"Ecirc":0x00CA,"Euml":0x00CB,"Igrave":0x00CC,"Iacute":0x00CD,"Icirc":0x00CE,"Iuml":0x00CF,"ETH":0x00D0,"Ntilde":0x00D1,"Ograve":0x00D2,"Oacute":0x00D3,"Ocirc":0x00D4,"Otilde":0x00D5,"Ouml":0x00D6,"times":0x00D7,"Oslash":0x00D8,"Ugrave":0x00D9,"Uacute":0x00DA,"Ucirc":0x00DB,"Uuml":0x00DC,"Yacute":0x00DD,"THORN":0x00DE,"szlig":0x00DF,"agrave":0x00E0,"aacute":0x00E1,"acirc":0x00E2,"atilde":0x00E3,"auml":0x00E4,"aring":0x00E5,"aelig":0x00E6,"ccedil":0x00E7,"egrave":0x00E8,"eacute":0x00E9,"ecirc":0x00EA,"euml":0x00EB,"igrave":0x00EC,"iacute":0x00ED,"icirc":0x00EE,"iuml":0x00EF,"eth":0x00F0,"ntilde":0x00F1,"ograve":0x00F2,"oacute":0x00F3,"ocirc":0x00F4,"otilde":0x00F5,"ouml":0x00F6,"divide":0x00F7,"oslash":0x00F8,"ugrave":0x00F9,"uacute":0x00FA,"ucirc":0x00FB,"uuml":0x00FC,"yacute":0x00FD,"thorn":0x00FE,"yuml":0x00FF,"OElig":0x0152,"oelig":0x0153,"Scaron":0x0160,"scaron":0x0161,"Yuml":0x0178,"fnof":0x0192,"circ":0x02C6,"tilde":0x02DC,"Alpha":0x0391,"Beta":0x0392,"Gamma":0x0393,"Delta":0x0394,"Epsilon":0x0395,"Zeta":0x0396,"Eta":0x0397,"Theta":0x0398,"Iota":0x0399,"Kappa":0x039A,"Lambda":0x039B,"Mu":0x039C,"Nu":0x039D,"Xi":0x039E,"Omicron":0x039F,"Pi":0x03A0,"Rho":0x03A1,"Sigma":0x03A3,"Tau":0x03A4,"Upsilon":0x03A5,"Phi":0x03A6,"Chi":0x03A7,"Psi":0x03A8,"Omega":0x03A9,"alpha":0x03B1,"beta":0x03B2,"gamma":0x03B3,"delta":0x03B4,"epsilon":0x03B5,"zeta":0x03B6,"eta":0x03B7,"theta":0x03B8,"iota":0x03B9,"kappa":0x03BA,"lambda":0x03BB,"mu":0x03BC,"nu":0x03BD,"xi":0x03BE,"omicron":0x03BF,"pi":0x03C0,"rho":0x03C1,"sigmaf":0x03C2,"sigma":0x03C3,"tau":0x03C4,"upsilon":0x03C5,"phi":0x03C6,"chi":0x03C7,"psi":0x03C8,"omega":0x03C9,"thetasym":0x03D1,"upsih":0x03D2,"piv":0x03D6,"ensp":0x2002,"emsp":0x2003,"thinsp":0x2009,"zwnj":0x200C,"zwj":0x200D,"lrm":0x200E,"rlm":0x200F,"ndash":0x2013,"mdash":0x2014,"lsquo":0x2018,"rsquo":0x2019,"sbquo":0x201A,"ldquo":0x201C,"rdquo":0x201D,"bdquo":0x201E,"dagger":0x2020,"Dagger":0x2021,"bull":0x2022,"hellip":0x2026,"permil":0x2030,"prime":0x2032,"Prime":0x2033,"lsaquo":0x2039,"rsaquo":0x203A,"oline":0x203E,"frasl":0x2044,"euro":0x20AC,"image":0x2111,"weierp":0x2118,"real":0x211C,"trade":0x2122,"alefsym":0x2135,"larr":0x2190,"uarr":0x2191,"rarr":0x2192,"darr":0x2193,"harr":0x2194,"crarr":0x21B5,"lArr":0x21D0,"uArr":0x21D1,"rArr":0x21D2,"dArr":0x21D3,"hArr":0x21D4,"forall":0x2200,"part":0x2202,"exist":0x2203,"empty":0x2205,"nabla":0x2207,"isin":0x2208,"notin":0x2209,"ni":0x220B,"prod":0x220F,"sum":0x2211,"minus":0x2212,"lowast":0x2217,"radic":0x221A,"prop":0x221D,"infin":0x221E,"ang":0x2220,"and":0x2227,"or":0x2228,"cap":0x2229,"cup":0x222A,"int":0x222B,"there4":0x2234,"sim":0x223C,"cong":0x2245,"asymp":0x2248,"ne":0x2260,"equiv":0x2261,"le":0x2264,"ge":0x2265,"sub":0x2282,"sup":0x2283,"nsub":0x2284,"sube":0x2286,"supe":0x2287,"oplus":0x2295,"otimes":0x2297,"perp":0x22A5,"sdot":0x22C5,"lceil":0x2308,"rceil":0x2309,"lfloor":0x230A,"rfloor":0x230B,"lang":0x2329,"rang":0x232A,"loz":0x25CA,"spades":0x2660,"clubs":0x2663,"hearts":0x2665,"diams":0x2666};var TempFlags;(function(TempFlags){TempFlags[TempFlags["Auto"]=0]="Auto";TempFlags[TempFlags["CountMask"]=268435455]="CountMask";TempFlags[TempFlags["_i"]=268435456]="_i";})(TempFlags||(TempFlags={}));var CopyDirection;(function(CopyDirection){CopyDirection[CopyDirection["ToOriginal"]=0]="ToOriginal";CopyDirection[CopyDirection["ToOutParameter"]=1]="ToOutParameter";})(CopyDirection||(CopyDirection={}));function emitFiles(resolver,host,targetSourceFile){var extendsHelper="\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};";var decorateHelper="\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};";var metadataHelper="\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};";var paramHelper="\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};";var awaiterHelper="\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};";var compilerOptions=host.getCompilerOptions();var languageVersion=ts.getEmitScriptTarget(compilerOptions);var modulekind=ts.getEmitModuleKind(compilerOptions);var sourceMapDataList=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?[]:undefined;var emitterDiagnostics=ts.createDiagnosticCollection();var emitSkipped=false;var newLine=host.getNewLine();var emitJavaScript=createFileEmitter();ts.forEachExpectedEmitFile(host,emitFile,targetSourceFile);return{emitSkipped:emitSkipped,diagnostics:emitterDiagnostics.getDiagnostics(),sourceMaps:sourceMapDataList};function isUniqueLocalName(name,container){for(var node=container;ts.isNodeDescendentOf(node,container);node=node.nextContainer){if(node.locals&&ts.hasProperty(node.locals,name)){if(node.locals[name].flags&(107455 |1048576 |8388608 )){return false;}}}
return true;}
function setLabeledJump(state,isBreak,labelText,labelMarker){if(isBreak){if(!state.labeledNonLocalBreaks){state.labeledNonLocalBreaks={};}
state.labeledNonLocalBreaks[labelText]=labelMarker;}
else{if(!state.labeledNonLocalContinues){state.labeledNonLocalContinues={};}
state.labeledNonLocalContinues[labelText]=labelMarker;}}
function hoistVariableDeclarationFromLoop(state,declaration){if(!state.hoistedLocalVariables){state.hoistedLocalVariables=[];}
visit(declaration.name);function visit(node){if(node.kind===69 ){state.hoistedLocalVariables.push(node);}
else{for(var _a=0,_b=node.elements;_a<_b.length;_a++){var element=_b[_a];visit(element.name);}}}}
function createFileEmitter(){var writer=ts.createTextWriter(newLine);var write=writer.write,writeTextOfNode=writer.writeTextOfNode,writeLine=writer.writeLine,increaseIndent=writer.increaseIndent,decreaseIndent=writer.decreaseIndent;var sourceMap=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?ts.createSourceMapWriter(host,writer):ts.getNullSourceMapWriter();var setSourceFile=sourceMap.setSourceFile,emitStart=sourceMap.emitStart,emitEnd=sourceMap.emitEnd,emitPos=sourceMap.emitPos;var currentSourceFile;var currentText;var currentLineMap;var currentFileIdentifiers;var renamedDependencies;var isEs6Module;var isCurrentFileExternalModule;var exportFunctionForFile;var contextObjectForFile;var generatedNameSet;var nodeToGeneratedName;var computedPropertyNamesToGeneratedNames;var decoratedClassAliases;var convertedLoopState;var extendsEmitted;var decorateEmitted;var paramEmitted;var awaiterEmitted;var tempFlags=0;var tempVariables;var tempParameters;var externalImports;var exportSpecifiers;var exportEquals;var hasExportStarsToExportValues;var detachedCommentsInfo;var sourceMapData;var isOwnFileEmit;var emitLeadingCommentsOfPosition=compilerOptions.removeComments?function(pos){}:emitLeadingCommentsOfPositionWorker;var setSourceMapWriterEmit=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?changeSourceMapEmit:function(writer){};var moduleEmitDelegates=(_a={},_a[5 ]=emitES6Module,_a[2 ]=emitAMDModule,_a[4 ]=emitSystemModule,_a[3 ]=emitUMDModule,_a[1 ]=emitCommonJSModule,_a);var bundleEmitDelegates=(_b={},_b[5 ]=function(){},_b[2 ]=emitAMDModule,_b[4 ]=emitSystemModule,_b[3 ]=function(){},_b[1 ]=function(){},_b);return doEmit;function doEmit(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit){sourceMap.initialize(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit);generatedNameSet={};nodeToGeneratedName=[];decoratedClassAliases=[];isOwnFileEmit=!isBundledEmit;if(isBundledEmit&&modulekind){ts.forEach(sourceFiles,emitEmitHelpers);}
ts.forEach(sourceFiles,emitSourceFile);writeLine();var sourceMappingURL=sourceMap.getSourceMappingURL();if(sourceMappingURL){write("//# sourceMappingURL="+sourceMappingURL);}
writeEmittedFiles(writer.getText(),jsFilePath,sourceMapFilePath,compilerOptions.emitBOM);sourceMap.reset();writer.reset();currentSourceFile=undefined;currentText=undefined;currentLineMap=undefined;exportFunctionForFile=undefined;contextObjectForFile=undefined;generatedNameSet=undefined;nodeToGeneratedName=undefined;decoratedClassAliases=undefined;computedPropertyNamesToGeneratedNames=undefined;convertedLoopState=undefined;extendsEmitted=false;decorateEmitted=false;paramEmitted=false;awaiterEmitted=false;tempFlags=0;tempVariables=undefined;tempParameters=undefined;externalImports=undefined;exportSpecifiers=undefined;exportEquals=undefined;hasExportStarsToExportValues=undefined;detachedCommentsInfo=undefined;sourceMapData=undefined;isEs6Module=false;renamedDependencies=undefined;isCurrentFileExternalModule=false;}
function emitSourceFile(sourceFile){currentSourceFile=sourceFile;currentText=sourceFile.text;currentLineMap=ts.getLineStarts(sourceFile);exportFunctionForFile=undefined;contextObjectForFile=undefined;isEs6Module=sourceFile.symbol&&sourceFile.symbol.exports&&!!sourceFile.symbol.exports["___esModule"];renamedDependencies=sourceFile.renamedDependencies;currentFileIdentifiers=sourceFile.identifiers;isCurrentFileExternalModule=ts.isExternalModule(sourceFile);setSourceFile(sourceFile);emitNodeWithCommentsAndWithoutSourcemap(sourceFile);}
function isUniqueName(name){return!resolver.hasGlobalName(name)&&!ts.hasProperty(currentFileIdentifiers,name)&&!ts.hasProperty(generatedNameSet,name);}
function makeTempVariableName(flags){if(flags&&!(tempFlags&flags)){var name_22=flags===268435456 ?"_i":"_n";if(isUniqueName(name_22)){tempFlags|=flags;return name_22;}}
while(true){var count=tempFlags&268435455 ;tempFlags++;if(count!==8&&count!==13){var name_23=count<26?"_"+String.fromCharCode(97 +count):"_"+(count-26);if(isUniqueName(name_23)){return name_23;}}}}
function makeUniqueName(baseName){if(baseName.charCodeAt(baseName.length-1)!==95 ){baseName+="_";}
var i=1;while(true){var generatedName=baseName+i;if(isUniqueName(generatedName)){return generatedNameSet[generatedName]=generatedName;}
i++;}}
function generateNameForModuleOrEnum(node){var name=node.name.text;return isUniqueLocalName(name,node)?name:makeUniqueName(name);}
function generateNameForImportOrExportDeclaration(node){var expr=ts.getExternalModuleName(node);var baseName=expr.kind===9 ?ts.escapeIdentifier(ts.makeIdentifierFromModuleName(expr.text)):"module";return makeUniqueName(baseName);}
function generateNameForExportDefault(){return makeUniqueName("default");}
function generateNameForClassExpression(){return makeUniqueName("class");}
function generateNameForNode(node){switch(node.kind){case 69 :return makeUniqueName(node.text);case 221 :case 220 :return generateNameForModuleOrEnum(node);case 225 :case 231 :return generateNameForImportOrExportDeclaration(node);case 216 :case 217 :case 230 :return generateNameForExportDefault();case 189 :return generateNameForClassExpression();}}
function getGeneratedNameForNode(node){var id=ts.getNodeId(node);return nodeToGeneratedName[id]||(nodeToGeneratedName[id]=ts.unescapeIdentifier(generateNameForNode(node)));}
function writeEmittedFiles(emitOutput,jsFilePath,sourceMapFilePath,writeByteOrderMark){if(compilerOptions.sourceMap&&!compilerOptions.inlineSourceMap){ts.writeFile(host,emitterDiagnostics,sourceMapFilePath,sourceMap.getText(),false);}
if(sourceMapDataList){sourceMapDataList.push(sourceMap.getSourceMapData());}
ts.writeFile(host,emitterDiagnostics,jsFilePath,emitOutput,writeByteOrderMark);}
function createTempVariable(flags){var result=ts.createSynthesizedNode(69 );result.text=makeTempVariableName(flags);return result;}
function recordTempDeclaration(name){if(!tempVariables){tempVariables=[];}
tempVariables.push(name);}
function createAndRecordTempVariable(flags){var temp=createTempVariable(flags);recordTempDeclaration(temp);return temp;}
function emitTempDeclarations(newLine){if(tempVariables){if(newLine){writeLine();}
else{write(" ");}
write("var ");emitCommaList(tempVariables);write(";");}}
function emitToken(tokenKind,startPos,emitFn){var tokenStartPos=ts.skipTrivia(currentText,startPos);emitPos(tokenStartPos);var tokenString=ts.tokenToString(tokenKind);if(emitFn){emitFn();}
else{write(tokenString);}
var tokenEndPos=tokenStartPos+tokenString.length;emitPos(tokenEndPos);return tokenEndPos;}
function emitOptional(prefix,node){if(node){write(prefix);emit(node);}}
function emitParenthesizedIf(node,parenthesized){if(parenthesized){write("(");}
emit(node);if(parenthesized){write(")");}}
function emitLinePreservingList(parent,nodes,allowTrailingComma,spacesBetweenBraces){ts.Debug.assert(nodes.length>0);increaseIndent();if(nodeStartPositionsAreOnSameLine(parent,nodes[0])){if(spacesBetweenBraces){write(" ");}}
else{writeLine();}
for(var i=0,n=nodes.length;i<n;i++){if(i){if(nodeEndIsOnSameLineAsNodeStart(nodes[i-1],nodes[i])){write(", ");}
else{write(",");writeLine();}}
emit(nodes[i]);}
if(nodes.hasTrailingComma&&allowTrailingComma){write(",");}
decreaseIndent();if(nodeEndPositionsAreOnSameLine(parent,ts.lastOrUndefined(nodes))){if(spacesBetweenBraces){write(" ");}}
else{writeLine();}}
function emitList(nodes,start,count,multiLine,trailingComma,leadingComma,noTrailingNewLine,emitNode){if(!emitNode){emitNode=emit;}
for(var i=0;i<count;i++){if(multiLine){if(i||leadingComma){write(",");}
writeLine();}
else{if(i||leadingComma){write(", ");}}
var node=nodes[start+i];emitTrailingCommentsOfPosition(node.pos);emitNode(node);leadingComma=true;}
if(trailingComma){write(",");}
if(multiLine&&!noTrailingNewLine){writeLine();}
return count;}
function emitCommaList(nodes){if(nodes){emitList(nodes,0,nodes.length,false,false);}}
function emitLines(nodes){emitLinesStartingAt(nodes,0);}
function emitLinesStartingAt(nodes,startIndex){for(var i=startIndex;i<nodes.length;i++){writeLine();emit(nodes[i]);}}
function isBinaryOrOctalIntegerLiteral(node,text){if(node.kind===8 &&text.length>1){switch(text.charCodeAt(1)){case 98 :case 66 :case 111 :case 79 :return true;}}
return false;}
function emitLiteral(node){var text=getLiteralText(node);if((compilerOptions.sourceMap||compilerOptions.inlineSourceMap)&&(node.kind===9 ||ts.isTemplateLiteralKind(node.kind))){writer.writeLiteral(text);}
else if(languageVersion<2 &&isBinaryOrOctalIntegerLiteral(node,text)){write(node.text);}
else{write(text);}}
function getLiteralText(node){if(languageVersion<2 &&(ts.isTemplateLiteralKind(node.kind)||node.hasExtendedUnicodeEscape)){return getQuotedEscapedLiteralText("\"",node.text,"\"");}
if(node.parent){return ts.getTextOfNodeFromSourceText(currentText,node);}
switch(node.kind){case 9 :return getQuotedEscapedLiteralText("\"",node.text,"\"");case 11 :return getQuotedEscapedLiteralText("`",node.text,"`");case 12 :return getQuotedEscapedLiteralText("`",node.text,"${");case 13 :return getQuotedEscapedLiteralText("}",node.text,"${");case 14 :return getQuotedEscapedLiteralText("}",node.text,"`");case 8 :return node.text;}
ts.Debug.fail("Literal kind '"+node.kind+"' not accounted for.");}
function getQuotedEscapedLiteralText(leftQuote,text,rightQuote){return leftQuote+ts.escapeNonAsciiCharacters(ts.escapeString(text))+rightQuote;}
function emitDownlevelRawTemplateLiteral(node){var text=ts.getTextOfNodeFromSourceText(currentText,node);var isLast=node.kind===11 ||node.kind===14 ;text=text.substring(1,text.length-(isLast?1:2));text=text.replace(/\r\n?/g,"\n");text=ts.escapeString(text);write("\""+text+"\"");}
function emitDownlevelTaggedTemplateArray(node,literalEmitter){write("[");if(node.template.kind===11 ){literalEmitter(node.template);}
else{literalEmitter(node.template.head);ts.forEach(node.template.templateSpans,function(child){write(", ");literalEmitter(child.literal);});}
write("]");}
function emitDownlevelTaggedTemplate(node){var tempVariable=createAndRecordTempVariable(0 );write("(");emit(tempVariable);write(" = ");emitDownlevelTaggedTemplateArray(node,emit);write(", ");emit(tempVariable);write(".raw = ");emitDownlevelTaggedTemplateArray(node,emitDownlevelRawTemplateLiteral);write(", ");emitParenthesizedIf(node.tag,needsParenthesisForPropertyAccessOrInvocation(node.tag));write("(");emit(tempVariable);if(node.template.kind===186 ){ts.forEach(node.template.templateSpans,function(templateSpan){write(", ");var needsParens=templateSpan.expression.kind===184 &&templateSpan.expression.operatorToken.kind===24 ;emitParenthesizedIf(templateSpan.expression,needsParens);});}
write("))");}
function emitTemplateExpression(node){if(languageVersion>=2 ){ts.forEachChild(node,emit);return;}
var emitOuterParens=ts.isExpression(node.parent)&&templateNeedsParens(node,node.parent);if(emitOuterParens){write("(");}
var headEmitted=false;if(shouldEmitTemplateHead()){emitLiteral(node.head);headEmitted=true;}
for(var i=0,n=node.templateSpans.length;i<n;i++){var templateSpan=node.templateSpans[i];var needsParens=templateSpan.expression.kind!==175 &&comparePrecedenceToBinaryPlus(templateSpan.expression)!==1 ;if(i>0||headEmitted){write(" + ");}
emitParenthesizedIf(templateSpan.expression,needsParens);if(templateSpan.literal.text.length!==0){write(" + ");emitLiteral(templateSpan.literal);}}
if(emitOuterParens){write(")");}
function shouldEmitTemplateHead(){ts.Debug.assert(node.templateSpans.length!==0);return node.head.text.length!==0||node.templateSpans[0].literal.text.length===0;}
function templateNeedsParens(template,parent){switch(parent.kind){case 171 :case 172 :return parent.expression===template;case 173 :case 175 :return false;default:return comparePrecedenceToBinaryPlus(parent)!==-1 ;}}
function comparePrecedenceToBinaryPlus(expression){switch(expression.kind){case 184 :switch(expression.operatorToken.kind){case 37 :case 39 :case 40 :return 1 ;case 35 :case 36 :return 0 ;default:return-1 ;}
case 187 :case 185 :return-1 ;default:return 1 ;}}}
function emitTemplateSpan(span){emit(span.expression);emit(span.literal);}
function jsxEmitReact(node){function emitTagName(name){if(name.kind===69 &&ts.isIntrinsicJsxName(name.text)){write("\"");emit(name);write("\"");}
else{emit(name);}}
function emitAttributeName(name){if(/^[A-Za-z_]\w*$/.test(name.text)){emit(name);}
else{write("\"");emit(name);write("\"");}}
function emitJsxAttribute(node){emitAttributeName(node.name);write(": ");if(node.initializer){emit(node.initializer);}
else{write("true");}}
function emitJsxElement(openingNode,children){var syntheticReactRef=ts.createSynthesizedNode(69 );syntheticReactRef.text=compilerOptions.reactNamespace?compilerOptions.reactNamespace:"React";syntheticReactRef.parent=openingNode;emitLeadingComments(openingNode);emitExpressionIdentifier(syntheticReactRef);write(".createElement(");emitTagName(openingNode.tagName);write(", ");if(openingNode.attributes.length===0){write("null");}
else{var attrs=openingNode.attributes;if(ts.forEach(attrs,function(attr){return attr.kind===242 ;})){emitExpressionIdentifier(syntheticReactRef);write(".__spread(");var haveOpenedObjectLiteral=false;for(var i=0;i<attrs.length;i++){if(attrs[i].kind===242 ){if(i===0){write("{}, ");}
if(haveOpenedObjectLiteral){write("}");haveOpenedObjectLiteral=false;}
if(i>0){write(", ");}
emit(attrs[i].expression);}
else{ts.Debug.assert(attrs[i].kind===241 );if(haveOpenedObjectLiteral){write(", ");}
else{haveOpenedObjectLiteral=true;if(i>0){write(", ");}
write("{");}
emitJsxAttribute(attrs[i]);}}
if(haveOpenedObjectLiteral)
write("}");write(")");}
else{write("{");for(var i=0,n=attrs.length;i<n;i++){if(i>0){write(", ");}
emitJsxAttribute(attrs[i]);}
write("}");}}
if(children){for(var i=0;i<children.length;i++){if(children[i].kind===243 &&!(children[i].expression)){continue;}
if(children[i].kind===239 ){var text=getTextToEmit(children[i]);if(text!==undefined){write(", \"");write(text);write("\"");}}
else{write(", ");emit(children[i]);}}}
write(")");emitTrailingComments(openingNode);}
if(node.kind===236 ){emitJsxElement(node.openingElement,node.children);}
else{ts.Debug.assert(node.kind===237 );emitJsxElement(node);}}
function jsxEmitPreserve(node){function emitJsxAttribute(node){emit(node.name);if(node.initializer){write("=");emit(node.initializer);}}
function emitJsxSpreadAttribute(node){write("{...");emit(node.expression);write("}");}
function emitAttributes(attribs){for(var i=0,n=attribs.length;i<n;i++){if(i>0){write(" ");}
if(attribs[i].kind===242 ){emitJsxSpreadAttribute(attribs[i]);}
else{ts.Debug.assert(attribs[i].kind===241 );emitJsxAttribute(attribs[i]);}}}
function emitJsxOpeningOrSelfClosingElement(node){write("<");emit(node.tagName);if(node.attributes.length>0||(node.kind===237 )){write(" ");}
emitAttributes(node.attributes);if(node.kind===237 ){write("/>");}
else{write(">");}}
function emitJsxClosingElement(node){write("</");emit(node.tagName);write(">");}
function emitJsxElement(node){emitJsxOpeningOrSelfClosingElement(node.openingElement);for(var i=0,n=node.children.length;i<n;i++){emit(node.children[i]);}
emitJsxClosingElement(node.closingElement);}
if(node.kind===236 ){emitJsxElement(node);}
else{ts.Debug.assert(node.kind===237 );emitJsxOpeningOrSelfClosingElement(node);}}
function emitExpressionForPropertyName(node){ts.Debug.assert(node.kind!==166 );if(node.kind===9 ){emitLiteral(node);}
else if(node.kind===137 ){if(ts.nodeIsDecorated(node.parent)){if(!computedPropertyNamesToGeneratedNames){computedPropertyNamesToGeneratedNames=[];}
var generatedName=computedPropertyNamesToGeneratedNames[ts.getNodeId(node)];if(generatedName){write(generatedName);return;}
generatedName=createAndRecordTempVariable(0 ).text;computedPropertyNamesToGeneratedNames[ts.getNodeId(node)]=generatedName;write(generatedName);write(" = ");}
emit(node.expression);}
else{write("\"");if(node.kind===8 ){write(node.text);}
else{writeTextOfNode(currentText,node);}
write("\"");}}
function isExpressionIdentifier(node){var parent=node.parent;switch(parent.kind){case 167 :case 192 :case 184 :case 171 :case 244 :case 137 :case 185 :case 140 :case 178 :case 200 :case 170 :case 230 :case 198 :case 191 :case 202 :case 203 :case 204 :case 199 :case 240 :case 237 :case 238 :case 242 :case 243 :case 172 :case 175 :case 183 :case 182 :case 207 :case 249 :case 188 :case 209 :case 173 :case 193 :case 211 :case 174 :case 179 :case 180 :case 201 :case 208 :case 187 :return true;case 166 :case 250 :case 139 :case 248 :case 142 :case 214 :return parent.initializer===node;case 169 :return parent.expression===node;case 177 :case 176 :return parent.body===node;case 224 :return parent.moduleReference===node;case 136 :return parent.left===node;}
return false;}
function emitExpressionIdentifier(node){var container=resolver.getReferencedExportContainer(node);if(container){if(container.kind===251 ){if(modulekind!==5 &&modulekind!==4 ){write("exports.");}}
else{write(getGeneratedNameForNode(container));write(".");}}
else{if(modulekind!==5 ){var declaration=resolver.getReferencedImportDeclaration(node);if(declaration){if(declaration.kind===226 ){write(getGeneratedNameForNode(declaration.parent));write(languageVersion===0 ?"[\"default\"]":".default");return;}
else if(declaration.kind===229 ){write(getGeneratedNameForNode(declaration.parent.parent.parent));var name_24=declaration.propertyName||declaration.name;var identifier=ts.getTextOfNodeFromSourceText(currentText,name_24);if(languageVersion===0 &&identifier==="default"){write("[\"default\"]");}
else{write(".");write(identifier);}
return;}}}
if(languageVersion<2 ){var declaration=resolver.getReferencedDeclarationWithCollidingName(node);if(declaration){write(getGeneratedNameForNode(declaration.name));return;}}
else if(resolver.getNodeCheckFlags(node)&1048576 ){var declaration=resolver.getReferencedValueDeclaration(node);if(declaration){var classAlias=decoratedClassAliases[ts.getNodeId(declaration)];if(classAlias!==undefined){write(classAlias);return;}}}}
if(ts.nodeIsSynthesized(node)){write(node.text);}
else{writeTextOfNode(currentText,node);}}
function isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(node){if(languageVersion<2 ){var parent_8=node.parent;switch(parent_8.kind){case 166 :case 217 :case 220 :case 214 :return parent_8.name===node&&resolver.isDeclarationWithCollidingName(parent_8);}}
return false;}
function emitIdentifier(node){if(convertedLoopState){if(node.text=="arguments"&&resolver.isArgumentsLocalBinding(node)){var name_25=convertedLoopState.argumentsName||(convertedLoopState.argumentsName=makeUniqueName("arguments"));write(name_25);return;}}
if(!node.parent){write(node.text);}
else if(isExpressionIdentifier(node)){emitExpressionIdentifier(node);}
else if(isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(node)){write(getGeneratedNameForNode(node));}
else if(ts.nodeIsSynthesized(node)){write(node.text);}
else{writeTextOfNode(currentText,node);}}
function emitThis(node){if(resolver.getNodeCheckFlags(node)&2 ){write("_this");}
else if(convertedLoopState){write(convertedLoopState.thisName||(convertedLoopState.thisName=makeUniqueName("this")));}
else{write("this");}}
function emitSuper(node){if(languageVersion>=2 ){write("super");}
else{var flags=resolver.getNodeCheckFlags(node);if(flags&256 ){write("_super.prototype");}
else{write("_super");}}}
function emitObjectBindingPattern(node){write("{ ");var elements=node.elements;emitList(elements,0,elements.length,false,elements.hasTrailingComma);write(" }");}
function emitArrayBindingPattern(node){write("[");var elements=node.elements;emitList(elements,0,elements.length,false,elements.hasTrailingComma);write("]");}
function emitBindingElement(node){if(node.propertyName){emit(node.propertyName);write(": ");}
if(node.dotDotDotToken){write("...");}
if(ts.isBindingPattern(node.name)){emit(node.name);}
else{emitModuleMemberName(node);}
emitOptional(" = ",node.initializer);}
function emitSpreadElementExpression(node){write("...");emit(node.expression);}
function emitYieldExpression(node){write(ts.tokenToString(114 ));if(node.asteriskToken){write("*");}
if(node.expression){write(" ");emit(node.expression);}}
function emitAwaitExpression(node){var needsParenthesis=needsParenthesisForAwaitExpressionAsYield(node);if(needsParenthesis){write("(");}
write(ts.tokenToString(114 ));write(" ");emit(node.expression);if(needsParenthesis){write(")");}}
function needsParenthesisForAwaitExpressionAsYield(node){if(node.parent.kind===184 &&!ts.isAssignmentOperator(node.parent.operatorToken.kind)){return true;}
else if(node.parent.kind===185 &&node.parent.condition===node){return true;}
return false;}
function needsParenthesisForPropertyAccessOrInvocation(node){switch(node.kind){case 69 :case 167 :case 169 :case 170 :case 171 :case 175 :return false;}
return true;}
function emitListWithSpread(elements,needsUniqueCopy,multiLine,trailingComma,useConcat){var pos=0;var group=0;var length=elements.length;while(pos<length){if(group===1&&useConcat){write(".concat(");}
else if(group>0){write(", ");}
var e=elements[pos];if(e.kind===188 ){e=e.expression;emitParenthesizedIf(e,group===0&&needsParenthesisForPropertyAccessOrInvocation(e));pos++;if(pos===length&&group===0&&needsUniqueCopy&&e.kind!==167 ){write(".slice()");}}
else{var i=pos;while(i<length&&elements[i].kind!==188 ){i++;}
write("[");if(multiLine){increaseIndent();}
emitList(elements,pos,i-pos,multiLine,trailingComma&&i===length);if(multiLine){decreaseIndent();}
write("]");pos=i;}
group++;}
if(group>1){if(useConcat){write(")");}}}
function isSpreadElementExpression(node){return node.kind===188 ;}
function emitArrayLiteral(node){var elements=node.elements;if(elements.length===0){write("[]");}
else if(languageVersion>=2 ||!ts.forEach(elements,isSpreadElementExpression)){write("[");emitLinePreservingList(node,node.elements,elements.hasTrailingComma,false);write("]");}
else{emitListWithSpread(elements,true,(node.flags&1024 )!==0,elements.hasTrailingComma,true);}}
function emitObjectLiteralBody(node,numElements){if(numElements===0){write("{}");return;}
write("{");if(numElements>0){var properties=node.properties;if(numElements===properties.length){emitLinePreservingList(node,properties,languageVersion>=1 ,true);}
else{var multiLine=(node.flags&1024 )!==0;if(!multiLine){write(" ");}
else{increaseIndent();}
emitList(properties,0,numElements,multiLine,false);if(!multiLine){write(" ");}
else{decreaseIndent();}}}
write("}");}
function emitDownlevelObjectLiteralWithComputedProperties(node,firstComputedPropertyIndex){var multiLine=(node.flags&1024 )!==0;var properties=node.properties;write("(");if(multiLine){increaseIndent();}
var tempVar=createAndRecordTempVariable(0 );emit(tempVar);write(" = ");emitObjectLiteralBody(node,firstComputedPropertyIndex);for(var i=firstComputedPropertyIndex,n=properties.length;i<n;i++){writeComma();var property=properties[i];emitStart(property);if(property.kind===146 ||property.kind===147 ){var accessors=ts.getAllAccessorDeclarations(node.properties,property);if(property!==accessors.firstAccessor){continue;}
write("Object.defineProperty(");emit(tempVar);write(", ");emitStart(node.name);emitExpressionForPropertyName(property.name);emitEnd(property.name);write(", {");increaseIndent();if(accessors.getAccessor){writeLine();emitLeadingComments(accessors.getAccessor);write("get: ");emitStart(accessors.getAccessor);write("function ");emitSignatureAndBody(accessors.getAccessor);emitEnd(accessors.getAccessor);emitTrailingComments(accessors.getAccessor);write(",");}
if(accessors.setAccessor){writeLine();emitLeadingComments(accessors.setAccessor);write("set: ");emitStart(accessors.setAccessor);write("function ");emitSignatureAndBody(accessors.setAccessor);emitEnd(accessors.setAccessor);emitTrailingComments(accessors.setAccessor);write(",");}
writeLine();write("enumerable: true,");writeLine();write("configurable: true");decreaseIndent();writeLine();write("})");emitEnd(property);}
else{emitLeadingComments(property);emitStart(property.name);emit(tempVar);emitMemberAccessForPropertyName(property.name);emitEnd(property.name);write(" = ");if(property.kind===248 ){emit(property.initializer);}
else if(property.kind===249 ){emitExpressionIdentifier(property.name);}
else if(property.kind===144 ){emitFunctionDeclaration(property);}
else{ts.Debug.fail("ObjectLiteralElement type not accounted for: "+property.kind);}}
emitEnd(property);}
writeComma();emit(tempVar);if(multiLine){decreaseIndent();writeLine();}
write(")");function writeComma(){if(multiLine){write(",");writeLine();}
else{write(", ");}}}
function emitObjectLiteral(node){var properties=node.properties;if(languageVersion<2 ){var numProperties=properties.length;var numInitialNonComputedProperties=numProperties;for(var i=0,n=properties.length;i<n;i++){if(properties[i].name.kind===137 ){numInitialNonComputedProperties=i;break;}}
var hasComputedProperty=numInitialNonComputedProperties!==properties.length;if(hasComputedProperty){emitDownlevelObjectLiteralWithComputedProperties(node,numInitialNonComputedProperties);return;}}
emitObjectLiteralBody(node,properties.length);}
function createBinaryExpression(left,operator,right,startsOnNewLine){var result=ts.createSynthesizedNode(184 ,startsOnNewLine);result.operatorToken=ts.createSynthesizedNode(operator);result.left=left;result.right=right;return result;}
function createPropertyAccessExpression(expression,name){var result=ts.createSynthesizedNode(169 );result.expression=parenthesizeForAccess(expression);result.dotToken=ts.createSynthesizedNode(21 );result.name=name;return result;}
function createElementAccessExpression(expression,argumentExpression){var result=ts.createSynthesizedNode(170 );result.expression=parenthesizeForAccess(expression);result.argumentExpression=argumentExpression;return result;}
function parenthesizeForAccess(expr){while(expr.kind===174 ||expr.kind===192 ){expr=expr.expression;}
if(ts.isLeftHandSideExpression(expr)&&expr.kind!==172 &&expr.kind!==8 ){return expr;}
var node=ts.createSynthesizedNode(175 );node.expression=expr;return node;}
function emitComputedPropertyName(node){write("[");emitExpressionForPropertyName(node);write("]");}
function emitMethod(node){if(languageVersion>=2 &&node.asteriskToken){write("*");}
emit(node.name);if(languageVersion<2 ){write(": function ");}
emitSignatureAndBody(node);}
function emitPropertyAssignment(node){emit(node.name);write(": ");emitTrailingCommentsOfPosition(node.initializer.pos);emit(node.initializer);}
function isNamespaceExportReference(node){var container=resolver.getReferencedExportContainer(node);return container&&container.kind!==251 ;}
function emitShorthandPropertyAssignment(node){writeTextOfNode(currentText,node.name);if(modulekind!==5 ||isNamespaceExportReference(node.name)){write(": ");emit(node.name);}
if(languageVersion>=2 &&node.objectAssignmentInitializer){write(" = ");emit(node.objectAssignmentInitializer);}}
function tryEmitConstantValue(node){var constantValue=tryGetConstEnumValue(node);if(constantValue!==undefined){write(constantValue.toString());if(!compilerOptions.removeComments){var propertyName=node.kind===169 ?ts.declarationNameToString(node.name):ts.getTextOfNode(node.argumentExpression);write(" /* "+propertyName+" */");}
return true;}
return false;}
function tryGetConstEnumValue(node){if(compilerOptions.isolatedModules){return undefined;}
return node.kind===169 ||node.kind===170 ?resolver.getConstantValue(node):undefined;}
function indentIfOnDifferentLines(parent,node1,node2,valueToWriteWhenNotIndenting){var realNodesAreOnDifferentLines=!ts.nodeIsSynthesized(parent)&&!nodeEndIsOnSameLineAsNodeStart(node1,node2);var synthesizedNodeIsOnDifferentLine=synthesizedNodeStartsOnNewLine(node2);if(realNodesAreOnDifferentLines||synthesizedNodeIsOnDifferentLine){increaseIndent();writeLine();return true;}
else{if(valueToWriteWhenNotIndenting){write(valueToWriteWhenNotIndenting);}
return false;}}
function emitPropertyAccess(node){if(tryEmitConstantValue(node)){return;}
if(languageVersion===2 &&node.expression.kind===95 &&isInAsyncMethodWithSuperInES6(node)){var name_26=ts.createSynthesizedNode(9 );name_26.text=node.name.text;emitSuperAccessInAsyncMethod(node.expression,name_26);return;}
emit(node.expression);var indentedBeforeDot=indentIfOnDifferentLines(node,node.expression,node.dotToken);var shouldEmitSpace=false;if(!indentedBeforeDot){if(node.expression.kind===8 ){var text=ts.getTextOfNodeFromSourceText(currentText,node.expression);shouldEmitSpace=text.indexOf(ts.tokenToString(21 ))<0;}
else{var constantValue=tryGetConstEnumValue(node.expression);shouldEmitSpace=isFinite(constantValue)&&Math.floor(constantValue)===constantValue;}}
if(shouldEmitSpace){write(" .");}
else{write(".");}
var indentedAfterDot=indentIfOnDifferentLines(node,node.dotToken,node.name);emit(node.name);decreaseIndentIf(indentedBeforeDot,indentedAfterDot);}
function emitQualifiedName(node){emit(node.left);write(".");emit(node.right);}
function emitQualifiedNameAsExpression(node,useFallback){if(node.left.kind===69 ){emitEntityNameAsExpression(node.left,useFallback);}
else if(useFallback){var temp=createAndRecordTempVariable(0 );write("(");emitNodeWithoutSourceMap(temp);write(" = ");emitEntityNameAsExpression(node.left,true);write(") && ");emitNodeWithoutSourceMap(temp);}
else{emitEntityNameAsExpression(node.left,false);}
write(".");emit(node.right);}
function emitEntityNameAsExpression(node,useFallback){switch(node.kind){case 69 :if(useFallback){write("typeof ");emitExpressionIdentifier(node);write(" !== 'undefined' && ");}
emitExpressionIdentifier(node);break;case 136 :emitQualifiedNameAsExpression(node,useFallback);break;default:emitNodeWithoutSourceMap(node);break;}}
function emitIndexedAccess(node){if(tryEmitConstantValue(node)){return;}
if(languageVersion===2 &&node.expression.kind===95 &&isInAsyncMethodWithSuperInES6(node)){emitSuperAccessInAsyncMethod(node.expression,node.argumentExpression);return;}
emit(node.expression);write("[");emit(node.argumentExpression);write("]");}
function hasSpreadElement(elements){return ts.forEach(elements,function(e){return e.kind===188 ;});}
function skipParentheses(node){while(node.kind===175 ||node.kind===174 ||node.kind===192 ){node=node.expression;}
return node;}
function emitCallTarget(node){if(node.kind===69 ||node.kind===97 ||node.kind===95 ){emit(node);return node;}
var temp=createAndRecordTempVariable(0 );write("(");emit(temp);write(" = ");emit(node);write(")");return temp;}
function emitCallWithSpread(node){var target;var expr=skipParentheses(node.expression);if(expr.kind===169 ){target=emitCallTarget(expr.expression);write(".");emit(expr.name);}
else if(expr.kind===170 ){target=emitCallTarget(expr.expression);write("[");emit(expr.argumentExpression);write("]");}
else if(expr.kind===95 ){target=expr;write("_super");}
else{emit(node.expression);}
write(".apply(");if(target){if(target.kind===95 ){emitThis(target);}
else{emit(target);}}
else{write("void 0");}
write(", ");emitListWithSpread(node.arguments,false,false,false,true);write(")");}
function isInAsyncMethodWithSuperInES6(node){if(languageVersion===2 ){var container=ts.getSuperContainer(node,false);if(container&&resolver.getNodeCheckFlags(container)&(2048 |4096 )){return true;}}
return false;}
function emitSuperAccessInAsyncMethod(superNode,argumentExpression){var container=ts.getSuperContainer(superNode,false);var isSuperBinding=resolver.getNodeCheckFlags(container)&4096 ;write("_super(");emit(argumentExpression);write(isSuperBinding?").value":")");}
function emitCallExpression(node){if(languageVersion<2 &&hasSpreadElement(node.arguments)){emitCallWithSpread(node);return;}
var expression=node.expression;var superCall=false;var isAsyncMethodWithSuper=false;if(expression.kind===95 ){emitSuper(expression);superCall=true;}
else{superCall=ts.isSuperPropertyOrElementAccess(expression);isAsyncMethodWithSuper=superCall&&isInAsyncMethodWithSuperInES6(node);emit(expression);}
if(superCall&&(languageVersion<2 ||isAsyncMethodWithSuper)){write(".call(");emitThis(expression);if(node.arguments.length){write(", ");emitCommaList(node.arguments);}
write(")");}
else{write("(");emitCommaList(node.arguments);write(")");}}
function emitNewExpression(node){write("new ");if(languageVersion===1 &&node.arguments&&hasSpreadElement(node.arguments)){write("(");var target=emitCallTarget(node.expression);write(".bind.apply(");emit(target);write(", [void 0].concat(");emitListWithSpread(node.arguments,false,false,false,false);write(")))");write("()");}
else{emit(node.expression);if(node.arguments){write("(");emitCommaList(node.arguments);write(")");}}}
function emitTaggedTemplateExpression(node){if(languageVersion>=2 ){emit(node.tag);write(" ");emit(node.template);}
else{emitDownlevelTaggedTemplate(node);}}
function emitParenExpression(node){if(!ts.nodeIsSynthesized(node)&&node.parent.kind!==177 ){if(node.expression.kind===174 ||node.expression.kind===192 ){var operand=node.expression.expression;while(operand.kind===174 ||operand.kind===192 ){operand=operand.expression;}
if(operand.kind!==182 &&operand.kind!==180 &&operand.kind!==179 &&operand.kind!==178 &&operand.kind!==183 &&operand.kind!==172 &&!(operand.kind===171 &&node.parent.kind===172 )&&!(operand.kind===176 &&node.parent.kind===171 )&&!(operand.kind===8 &&node.parent.kind===169 )){emit(operand);return;}}}
write("(");emit(node.expression);write(")");}
function emitDeleteExpression(node){write(ts.tokenToString(78 ));write(" ");emit(node.expression);}
function emitVoidExpression(node){write(ts.tokenToString(103 ));write(" ");emit(node.expression);}
function emitTypeOfExpression(node){write(ts.tokenToString(101 ));write(" ");emit(node.expression);}
function isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node){if(!isCurrentFileSystemExternalModule()||node.kind!==69 ||ts.nodeIsSynthesized(node)){return false;}
var isVariableDeclarationOrBindingElement=node.parent&&(node.parent.kind===214 ||node.parent.kind===166 );var targetDeclaration=isVariableDeclarationOrBindingElement?node.parent:resolver.getReferencedValueDeclaration(node);return isSourceFileLevelDeclarationInSystemJsModule(targetDeclaration,true);}
function emitPrefixUnaryExpression(node){var exportChanged=(node.operator===41 ||node.operator===42 )&&isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand);if(exportChanged){write(exportFunctionForFile+"(\"");emitNodeWithoutSourceMap(node.operand);write("\", ");}
write(ts.tokenToString(node.operator));if(node.operand.kind===182 ){var operand=node.operand;if(node.operator===35 &&(operand.operator===35 ||operand.operator===41 )){write(" ");}
else if(node.operator===36 &&(operand.operator===36 ||operand.operator===42 )){write(" ");}}
emit(node.operand);if(exportChanged){write(")");}}
function emitPostfixUnaryExpression(node){var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand);if(exportChanged){write("("+exportFunctionForFile+"(\"");emitNodeWithoutSourceMap(node.operand);write("\", ");write(ts.tokenToString(node.operator));emit(node.operand);if(node.operator===41 ){write(") - 1)");}
else{write(") + 1)");}}
else{emit(node.operand);write(ts.tokenToString(node.operator));}}
function shouldHoistDeclarationInSystemJsModule(node){return isSourceFileLevelDeclarationInSystemJsModule(node,false);}
function isSourceFileLevelDeclarationInSystemJsModule(node,isExported){if(!node||!isCurrentFileSystemExternalModule()){return false;}
var current=ts.getRootDeclaration(node).parent;while(current){if(current.kind===251 ){return!isExported||((ts.getCombinedNodeFlags(node)&2 )!==0);}
else if(ts.isDeclaration(current)){return false;}
else{current=current.parent;}}}
function emitExponentiationOperator(node){var leftHandSideExpression=node.left;if(node.operatorToken.kind===60 ){var synthesizedLHS=void 0;var shouldEmitParentheses=false;if(ts.isElementAccessExpression(leftHandSideExpression)){shouldEmitParentheses=true;write("(");synthesizedLHS=ts.createSynthesizedNode(170 ,false);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,false,false);synthesizedLHS.expression=identifier;if(leftHandSideExpression.argumentExpression.kind!==8 &&leftHandSideExpression.argumentExpression.kind!==9 ){var tempArgumentExpression=createAndRecordTempVariable(268435456 );synthesizedLHS.argumentExpression=tempArgumentExpression;emitAssignment(tempArgumentExpression,leftHandSideExpression.argumentExpression,true,leftHandSideExpression.expression);}
else{synthesizedLHS.argumentExpression=leftHandSideExpression.argumentExpression;}
write(", ");}
else if(ts.isPropertyAccessExpression(leftHandSideExpression)){shouldEmitParentheses=true;write("(");synthesizedLHS=ts.createSynthesizedNode(169 ,false);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,false,false);synthesizedLHS.expression=identifier;synthesizedLHS.dotToken=leftHandSideExpression.dotToken;synthesizedLHS.name=leftHandSideExpression.name;write(", ");}
emit(synthesizedLHS||leftHandSideExpression);write(" = ");write("Math.pow(");emit(synthesizedLHS||leftHandSideExpression);write(", ");emit(node.right);write(")");if(shouldEmitParentheses){write(")");}}
else{write("Math.pow(");emit(leftHandSideExpression);write(", ");emit(node.right);write(")");}}
function emitBinaryExpression(node){if(languageVersion<2 &&node.operatorToken.kind===56 &&(node.left.kind===168 ||node.left.kind===167 )){emitDestructuring(node,node.parent.kind===198 );}
else{var exportChanged=node.operatorToken.kind>=56 &&node.operatorToken.kind<=68 &&isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.left);if(exportChanged){write(exportFunctionForFile+"(\"");emitNodeWithoutSourceMap(node.left);write("\", ");}
if(node.operatorToken.kind===38 ||node.operatorToken.kind===60 ){emitExponentiationOperator(node);}
else{emit(node.left);var indentedBeforeOperator=indentIfOnDifferentLines(node,node.left,node.operatorToken,node.operatorToken.kind!==24 ?" ":undefined);write(ts.tokenToString(node.operatorToken.kind));var indentedAfterOperator=indentIfOnDifferentLines(node,node.operatorToken,node.right," ");emit(node.right);decreaseIndentIf(indentedBeforeOperator,indentedAfterOperator);}
if(exportChanged){write(")");}}}
function synthesizedNodeStartsOnNewLine(node){return ts.nodeIsSynthesized(node)&&node.startsOnNewLine;}
function emitConditionalExpression(node){emit(node.condition);var indentedBeforeQuestion=indentIfOnDifferentLines(node,node.condition,node.questionToken," ");write("?");var indentedAfterQuestion=indentIfOnDifferentLines(node,node.questionToken,node.whenTrue," ");emit(node.whenTrue);decreaseIndentIf(indentedBeforeQuestion,indentedAfterQuestion);var indentedBeforeColon=indentIfOnDifferentLines(node,node.whenTrue,node.colonToken," ");write(":");var indentedAfterColon=indentIfOnDifferentLines(node,node.colonToken,node.whenFalse," ");emit(node.whenFalse);decreaseIndentIf(indentedBeforeColon,indentedAfterColon);}
function decreaseIndentIf(value1,value2){if(value1){decreaseIndent();}
if(value2){decreaseIndent();}}
function isSingleLineEmptyBlock(node){if(node&&node.kind===195 ){var block=node;return block.statements.length===0&&nodeEndIsOnSameLineAsNodeStart(block,block);}}
function emitBlock(node){if(isSingleLineEmptyBlock(node)){emitToken(15 ,node.pos);write(" ");emitToken(16 ,node.statements.end);return;}
emitToken(15 ,node.pos);increaseIndent();if(node.kind===222 ){ts.Debug.assert(node.parent.kind===221 );emitCaptureThisForNodeIfNecessary(node.parent);}
emitLines(node.statements);if(node.kind===222 ){emitTempDeclarations(true);}
decreaseIndent();writeLine();emitToken(16 ,node.statements.end);}
function emitEmbeddedStatement(node){if(node.kind===195 ){write(" ");emit(node);}
else{increaseIndent();writeLine();emit(node);decreaseIndent();}}
function emitExpressionStatement(node){emitParenthesizedIf(node.expression,node.expression.kind===177 );write(";");}
function emitIfStatement(node){var endPos=emitToken(88 ,node.pos);write(" ");endPos=emitToken(17 ,endPos);emit(node.expression);emitToken(18 ,node.expression.end);emitEmbeddedStatement(node.thenStatement);if(node.elseStatement){writeLine();emitToken(80 ,node.thenStatement.end);if(node.elseStatement.kind===199 ){write(" ");emit(node.elseStatement);}
else{emitEmbeddedStatement(node.elseStatement);}}}
function emitDoStatement(node){emitLoop(node,emitDoStatementWorker);}
function emitDoStatementWorker(node,loop){write("do");if(loop){emitConvertedLoopCall(loop,true);}
else{emitNormalLoopBody(node,true);}
if(node.statement.kind===195 ){write(" ");}
else{writeLine();}
write("while (");emit(node.expression);write(");");}
function emitWhileStatement(node){emitLoop(node,emitWhileStatementWorker);}
function emitWhileStatementWorker(node,loop){write("while (");emit(node.expression);write(")");if(loop){emitConvertedLoopCall(loop,true);}
else{emitNormalLoopBody(node,true);}}
function tryEmitStartOfVariableDeclarationList(decl){if(shouldHoistVariable(decl,true)){return false;}
if(convertedLoopState&&(ts.getCombinedNodeFlags(decl)&24576 )===0){for(var _a=0,_b=decl.declarations;_a<_b.length;_a++){var varDecl=_b[_a];hoistVariableDeclarationFromLoop(convertedLoopState,varDecl);}
return false;}
emitStart(decl);if(decl&&languageVersion>=2 ){if(ts.isLet(decl)){write("let ");}
else if(ts.isConst(decl)){write("const ");}
else{write("var ");}}
else{write("var ");}
return true;}
function emitVariableDeclarationListSkippingUninitializedEntries(list){var started=false;for(var _a=0,_b=list.declarations;_a<_b.length;_a++){var decl=_b[_a];if(!decl.initializer){continue;}
if(!started){started=true;}
else{write(", ");}
emit(decl);}
return started;}
function shouldConvertLoopBody(node){return languageVersion<2 &&(resolver.getNodeCheckFlags(node)&65536 )!==0;}
function emitLoop(node,loopEmitter){var shouldConvert=shouldConvertLoopBody(node);if(!shouldConvert){loopEmitter(node,undefined);}
else{var loop=convertLoopBody(node);if(node.parent.kind===210 ){emitLabelAndColon(node.parent);}
loopEmitter(node,loop);}}
function convertLoopBody(node){var functionName=makeUniqueName("_loop");var loopInitializer;switch(node.kind){case 202 :case 203 :case 204 :var initializer=node.initializer;if(initializer&&initializer.kind===215 ){loopInitializer=node.initializer;}
break;}
var loopParameters;var loopOutParameters;if(loopInitializer&&(ts.getCombinedNodeFlags(loopInitializer)&24576 )){loopParameters=[];for(var _a=0,_b=loopInitializer.declarations;_a<_b.length;_a++){var varDeclaration=_b[_a];processVariableDeclaration(varDeclaration.name);}}
var bodyIsBlock=node.statement.kind===195 ;var paramList=loopParameters?loopParameters.join(", "):"";writeLine();write("var "+functionName+" = function("+paramList+")");var convertedOuterLoopState=convertedLoopState;convertedLoopState={loopOutParameters:loopOutParameters};if(convertedOuterLoopState){if(convertedOuterLoopState.argumentsName){convertedLoopState.argumentsName=convertedOuterLoopState.argumentsName;}
if(convertedOuterLoopState.thisName){convertedLoopState.thisName=convertedOuterLoopState.thisName;}
if(convertedOuterLoopState.hoistedLocalVariables){convertedLoopState.hoistedLocalVariables=convertedOuterLoopState.hoistedLocalVariables;}}
write(" {");writeLine();increaseIndent();if(bodyIsBlock){emitLines(node.statement.statements);}
else{emit(node.statement);}
writeLine();copyLoopOutParameters(convertedLoopState,1 ,true);decreaseIndent();writeLine();write("};");writeLine();if(loopOutParameters){write("var ");for(var i=0;i<loopOutParameters.length;i++){if(i!==0){write(", ");}
write(loopOutParameters[i].outParamName);}
write(";");writeLine();}
if(convertedLoopState.argumentsName){if(convertedOuterLoopState){convertedOuterLoopState.argumentsName=convertedLoopState.argumentsName;}
else{write("var "+convertedLoopState.argumentsName+" = arguments;");writeLine();}}
if(convertedLoopState.thisName){if(convertedOuterLoopState){convertedOuterLoopState.thisName=convertedLoopState.thisName;}
else{write("var "+convertedLoopState.thisName+" = this;");writeLine();}}
if(convertedLoopState.hoistedLocalVariables){if(convertedOuterLoopState){convertedOuterLoopState.hoistedLocalVariables=convertedLoopState.hoistedLocalVariables;}
else{write("var ");var seen=void 0;for(var _c=0,_d=convertedLoopState.hoistedLocalVariables;_c<_d.length;_c++){var id=_d[_c];if(!seen){seen={};}
else{write(", ");}
if(!ts.hasProperty(seen,id.text)){emit(id);seen[id.text]=id.text;}}
write(";");writeLine();}}
var currentLoopState=convertedLoopState;convertedLoopState=convertedOuterLoopState;return{functionName:functionName,paramList:paramList,state:currentLoopState};function processVariableDeclaration(name){if(name.kind===69 ){var nameText=isNameOfNestedBlockScopedRedeclarationOrCapturedBinding(name)?getGeneratedNameForNode(name):name.text;loopParameters.push(nameText);if(resolver.getNodeCheckFlags(name.parent)&2097152 ){var reassignedVariable={originalName:name,outParamName:makeUniqueName("out_"+nameText)};(loopOutParameters||(loopOutParameters=[])).push(reassignedVariable);}}
else{for(var _a=0,_b=name.elements;_a<_b.length;_a++){var element=_b[_a];processVariableDeclaration(element.name);}}}}
function emitNormalLoopBody(node,emitAsEmbeddedStatement){var saveAllowedNonLabeledJumps;if(convertedLoopState){saveAllowedNonLabeledJumps=convertedLoopState.allowedNonLabeledJumps;convertedLoopState.allowedNonLabeledJumps=2 |4 ;}
if(emitAsEmbeddedStatement){emitEmbeddedStatement(node.statement);}
else if(node.statement.kind===195 ){emitLines(node.statement.statements);}
else{writeLine();emit(node.statement);}
if(convertedLoopState){convertedLoopState.allowedNonLabeledJumps=saveAllowedNonLabeledJumps;}}
function copyLoopOutParameters(state,copyDirection,emitAsStatements){if(state.loopOutParameters){for(var _a=0,_b=state.loopOutParameters;_a<_b.length;_a++){var outParam=_b[_a];if(copyDirection===0 ){emitIdentifier(outParam.originalName);write(" = "+outParam.outParamName);}
else{write(outParam.outParamName+" = ");emitIdentifier(outParam.originalName);}
if(emitAsStatements){write(";");writeLine();}
else{write(", ");}}}}
function emitConvertedLoopCall(loop,emitAsBlock){if(emitAsBlock){write(" {");writeLine();increaseIndent();}
var isSimpleLoop=!loop.state.nonLocalJumps&&!loop.state.labeledNonLocalBreaks&&!loop.state.labeledNonLocalContinues;var loopResult=makeUniqueName("state");if(!isSimpleLoop){write("var "+loopResult+" = ");}
write(loop.functionName+"("+loop.paramList+");");writeLine();copyLoopOutParameters(loop.state,0 ,true);if(!isSimpleLoop){writeLine();if(loop.state.nonLocalJumps&8 ){write("if (typeof "+loopResult+" === \"object\") ");if(convertedLoopState){write("return "+loopResult+";");convertedLoopState.nonLocalJumps|=8 ;}
else{write("return "+loopResult+".value;");}
writeLine();}
if(loop.state.nonLocalJumps&2 ){write("if ("+loopResult+" === \"break\") break;");writeLine();}
if(loop.state.nonLocalJumps&4 ){write("if ("+loopResult+" === \"continue\") continue;");writeLine();}
emitDispatchTableForLabeledJumps(loopResult,loop.state,convertedLoopState);}
if(emitAsBlock){writeLine();decreaseIndent();write("}");}
function emitDispatchTableForLabeledJumps(loopResultVariable,currentLoop,outerLoop){if(!currentLoop.labeledNonLocalBreaks&&!currentLoop.labeledNonLocalContinues){return;}
write("switch("+loopResultVariable+") {");increaseIndent();emitDispatchEntriesForLabeledJumps(currentLoop.labeledNonLocalBreaks,true,loopResultVariable,outerLoop);emitDispatchEntriesForLabeledJumps(currentLoop.labeledNonLocalContinues,false,loopResultVariable,outerLoop);decreaseIndent();writeLine();write("}");}
function emitDispatchEntriesForLabeledJumps(table,isBreak,loopResultVariable,outerLoop){if(!table){return;}
for(var labelText in table){var labelMarker=table[labelText];writeLine();write("case \""+labelMarker+"\": ");if(!outerLoop||(outerLoop.labels&&outerLoop.labels[labelText])){if(isBreak){write("break ");}
else{write("continue ");}
write(labelText+";");}
else{setLabeledJump(outerLoop,isBreak,labelText,labelMarker);write("return "+loopResultVariable+";");}}}}
function emitForStatement(node){emitLoop(node,emitForStatementWorker);}
function emitForStatementWorker(node,loop){var endPos=emitToken(86 ,node.pos);write(" ");endPos=emitToken(17 ,endPos);if(node.initializer&&node.initializer.kind===215 ){var variableDeclarationList=node.initializer;var startIsEmitted=tryEmitStartOfVariableDeclarationList(variableDeclarationList);if(startIsEmitted){emitCommaList(variableDeclarationList.declarations);}
else{emitVariableDeclarationListSkippingUninitializedEntries(variableDeclarationList);}}
else if(node.initializer){emit(node.initializer);}
write(";");emitOptional(" ",node.condition);write(";");emitOptional(" ",node.incrementor);write(")");if(loop){emitConvertedLoopCall(loop,true);}
else{emitNormalLoopBody(node,true);}}
function emitForInOrForOfStatement(node){if(languageVersion<2 &&node.kind===204 ){emitLoop(node,emitDownLevelForOfStatementWorker);}
else{emitLoop(node,emitForInOrForOfStatementWorker);}}
function emitForInOrForOfStatementWorker(node,loop){var endPos=emitToken(86 ,node.pos);write(" ");endPos=emitToken(17 ,endPos);if(node.initializer.kind===215 ){var variableDeclarationList=node.initializer;if(variableDeclarationList.declarations.length>=1){tryEmitStartOfVariableDeclarationList(variableDeclarationList);emit(variableDeclarationList.declarations[0]);}}
else{emit(node.initializer);}
if(node.kind===203 ){write(" in ");}
else{write(" of ");}
emit(node.expression);emitToken(18 ,node.expression.end);if(loop){emitConvertedLoopCall(loop,true);}
else{emitNormalLoopBody(node,true);}}
function emitDownLevelForOfStatementWorker(node,loop){var endPos=emitToken(86 ,node.pos);write(" ");endPos=emitToken(17 ,endPos);var counter=createTempVariable(268435456 );var rhsReference=ts.createSynthesizedNode(69 );rhsReference.text=node.expression.kind===69 ?makeUniqueName(node.expression.text):makeTempVariableName(0 );emitStart(node.expression);write("var ");emitNodeWithoutSourceMap(counter);write(" = 0");emitEnd(node.expression);write(", ");emitStart(node.expression);emitNodeWithoutSourceMap(rhsReference);write(" = ");emitNodeWithoutSourceMap(node.expression);emitEnd(node.expression);write("; ");emitStart(node.expression);emitNodeWithoutSourceMap(counter);write(" < ");emitNodeWithCommentsAndWithoutSourcemap(rhsReference);write(".length");emitEnd(node.expression);write("; ");emitStart(node.expression);emitNodeWithoutSourceMap(counter);write("++");emitEnd(node.expression);emitToken(18 ,node.expression.end);write(" {");writeLine();increaseIndent();var rhsIterationValue=createElementAccessExpression(rhsReference,counter);emitStart(node.initializer);if(node.initializer.kind===215 ){write("var ");var variableDeclarationList=node.initializer;if(variableDeclarationList.declarations.length>0){var declaration=variableDeclarationList.declarations[0];if(ts.isBindingPattern(declaration.name)){emitDestructuring(declaration,false,rhsIterationValue);}
else{emitNodeWithCommentsAndWithoutSourcemap(declaration);write(" = ");emitNodeWithoutSourceMap(rhsIterationValue);}}
else{emitNodeWithoutSourceMap(createTempVariable(0 ));write(" = ");emitNodeWithoutSourceMap(rhsIterationValue);}}
else{var assignmentExpression=createBinaryExpression(node.initializer,56 ,rhsIterationValue,false);if(node.initializer.kind===167 ||node.initializer.kind===168 ){emitDestructuring(assignmentExpression,true,undefined);}
else{emitNodeWithCommentsAndWithoutSourcemap(assignmentExpression);}}
emitEnd(node.initializer);write(";");if(loop){writeLine();emitConvertedLoopCall(loop,false);}
else{emitNormalLoopBody(node,false);}
writeLine();decreaseIndent();write("}");}
function emitBreakOrContinueStatement(node){if(convertedLoopState){var jump=node.kind===206 ?2 :4 ;var canUseBreakOrContinue=(node.label&&convertedLoopState.labels&&convertedLoopState.labels[node.label.text])||(!node.label&&(convertedLoopState.allowedNonLabeledJumps&jump));if(!canUseBreakOrContinue){write("return ");copyLoopOutParameters(convertedLoopState,1 ,false);if(!node.label){if(node.kind===206 ){convertedLoopState.nonLocalJumps|=2 ;write("\"break\";");}
else{convertedLoopState.nonLocalJumps|=4 ;write("\"continue\";");}}
else{var labelMarker=void 0;if(node.kind===206 ){labelMarker="break-"+node.label.text;setLabeledJump(convertedLoopState,true,node.label.text,labelMarker);}
else{labelMarker="continue-"+node.label.text;setLabeledJump(convertedLoopState,false,node.label.text,labelMarker);}
write("\""+labelMarker+"\";");}
return;}}
emitToken(node.kind===206 ?70 :75 ,node.pos);emitOptional(" ",node.label);write(";");}
function emitReturnStatement(node){if(convertedLoopState){convertedLoopState.nonLocalJumps|=8 ;write("return { value: ");if(node.expression){emit(node.expression);}
else{write("void 0");}
write(" };");return;}
emitToken(94 ,node.pos);emitOptional(" ",node.expression);write(";");}
function emitWithStatement(node){write("with (");emit(node.expression);write(")");emitEmbeddedStatement(node.statement);}
function emitSwitchStatement(node){var endPos=emitToken(96 ,node.pos);write(" ");emitToken(17 ,endPos);emit(node.expression);endPos=emitToken(18 ,node.expression.end);write(" ");var saveAllowedNonLabeledJumps;if(convertedLoopState){saveAllowedNonLabeledJumps=convertedLoopState.allowedNonLabeledJumps;convertedLoopState.allowedNonLabeledJumps|=2 ;}
emitCaseBlock(node.caseBlock,endPos);if(convertedLoopState){convertedLoopState.allowedNonLabeledJumps=saveAllowedNonLabeledJumps;}}
function emitCaseBlock(node,startPos){emitToken(15 ,startPos);increaseIndent();emitLines(node.clauses);decreaseIndent();writeLine();emitToken(16 ,node.clauses.end);}
function nodeStartPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node1.pos))===ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node2.pos));}
function nodeEndPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,node1.end)===ts.getLineOfLocalPositionFromLineMap(currentLineMap,node2.end);}
function nodeEndIsOnSameLineAsNodeStart(node1,node2){return ts.getLineOfLocalPositionFromLineMap(currentLineMap,node1.end)===ts.getLineOfLocalPositionFromLineMap(currentLineMap,ts.skipTrivia(currentText,node2.pos));}
function emitCaseOrDefaultClause(node){if(node.kind===244 ){write("case ");emit(node.expression);write(":");}
else{write("default:");}
if(node.statements.length===1&&nodeStartPositionsAreOnSameLine(node,node.statements[0])){write(" ");emit(node.statements[0]);}
else{increaseIndent();emitLines(node.statements);decreaseIndent();}}
function emitThrowStatement(node){write("throw ");emit(node.expression);write(";");}
function emitTryStatement(node){write("try ");emit(node.tryBlock);emit(node.catchClause);if(node.finallyBlock){writeLine();write("finally ");emit(node.finallyBlock);}}
function emitCatchClause(node){writeLine();var endPos=emitToken(72 ,node.pos);write(" ");emitToken(17 ,endPos);emit(node.variableDeclaration);emitToken(18 ,node.variableDeclaration?node.variableDeclaration.end:endPos);write(" ");emitBlock(node.block);}
function emitDebuggerStatement(node){emitToken(76 ,node.pos);write(";");}
function emitLabelAndColon(node){emit(node.label);write(": ");}
function emitLabeledStatement(node){if(!ts.isIterationStatement(node.statement,false)||!shouldConvertLoopBody(node.statement)){emitLabelAndColon(node);}
if(convertedLoopState){if(!convertedLoopState.labels){convertedLoopState.labels={};}
convertedLoopState.labels[node.label.text]=node.label.text;}
emit(node.statement);if(convertedLoopState){convertedLoopState.labels[node.label.text]=undefined;}}
function getContainingModule(node){do{node=node.parent;}while(node&&node.kind!==221 );return node;}
function emitContainingModuleName(node){var container=getContainingModule(node);write(container?getGeneratedNameForNode(container):"exports");}
function emitModuleMemberName(node){emitStart(node.name);if(ts.getCombinedNodeFlags(node)&2 ){var container=getContainingModule(node);if(container){write(getGeneratedNameForNode(container));write(".");}
else if(modulekind!==5 &&modulekind!==4 ){write("exports.");}}
emitNodeWithCommentsAndWithoutSourcemap(node.name);emitEnd(node.name);}
function createVoidZero(){var zero=ts.createSynthesizedNode(8 );zero.text="0";var result=ts.createSynthesizedNode(180 );result.expression=zero;return result;}
function emitEs6ExportDefaultCompat(node){if(node.parent.kind===251 ){ts.Debug.assert(!!(node.flags&512 )||node.kind===230 );if(modulekind===1 ||modulekind===2 ||modulekind===3 ){if(!isEs6Module){if(languageVersion!==0 ){write("Object.defineProperty(exports, \"__esModule\", { value: true });");writeLine();}
else{write("exports.__esModule = true;");writeLine();}}}}}
function emitExportMemberAssignment(node){if(node.flags&2 ){writeLine();emitStart(node);if(modulekind===4 &&node.parent===currentSourceFile){write(exportFunctionForFile+"(\"");if(node.flags&512 ){write("default");}
else{emitNodeWithCommentsAndWithoutSourcemap(node.name);}
write("\", ");emitDeclarationName(node);write(")");}
else{if(node.flags&512 ){emitEs6ExportDefaultCompat(node);if(languageVersion===0 ){write("exports[\"default\"]");}
else{write("exports.default");}}
else{emitModuleMemberName(node);}
write(" = ");emitDeclarationName(node);}
emitEnd(node);write(";");}}
function emitExportMemberAssignments(name){if(modulekind===4 ){return;}
if(!exportEquals&&exportSpecifiers&&ts.hasProperty(exportSpecifiers,name.text)){for(var _a=0,_b=exportSpecifiers[name.text];_a<_b.length;_a++){var specifier=_b[_a];writeLine();emitStart(specifier.name);emitContainingModuleName(specifier);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.name);emitEnd(specifier.name);write(" = ");emitExpressionIdentifier(name);write(";");}}}
function emitExportSpecifierInSystemModule(specifier){ts.Debug.assert(modulekind===4 );if(!resolver.getReferencedValueDeclaration(specifier.propertyName||specifier.name)&&!resolver.isValueAliasDeclaration(specifier)){return;}
writeLine();emitStart(specifier.name);write(exportFunctionForFile+"(\"");emitNodeWithCommentsAndWithoutSourcemap(specifier.name);write("\", ");emitExpressionIdentifier(specifier.propertyName||specifier.name);write(")");emitEnd(specifier.name);write(";");}
function emitAssignment(name,value,shouldEmitCommaBeforeAssignment,nodeForSourceMap){if(shouldEmitCommaBeforeAssignment){write(", ");}
var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(name);if(exportChanged){write(exportFunctionForFile+"(\"");emitNodeWithCommentsAndWithoutSourcemap(name);write("\", ");}
var isVariableDeclarationOrBindingElement=name.parent&&(name.parent.kind===214 ||name.parent.kind===166 );emitStart(isFirstVariableDeclaration(nodeForSourceMap)?nodeForSourceMap.parent:nodeForSourceMap);withTemporaryNoSourceMap(function(){if(isVariableDeclarationOrBindingElement){emitModuleMemberName(name.parent);}
else{emit(name);}
write(" = ");emit(value);});emitEnd(nodeForSourceMap,true);if(exportChanged){write(")");}}
function emitTempVariableAssignment(expression,canDefineTempVariablesInPlace,shouldEmitCommaBeforeAssignment,sourceMapNode){var identifier=createTempVariable(0 );if(!canDefineTempVariablesInPlace){recordTempDeclaration(identifier);}
emitAssignment(identifier,expression,shouldEmitCommaBeforeAssignment,sourceMapNode||expression.parent);return identifier;}
function isFirstVariableDeclaration(root){return root.kind===214 &&root.parent.kind===215 &&root.parent.declarations[0]===root;}
function emitDestructuring(root,isAssignmentExpressionStatement,value){var emitCount=0;var canDefineTempVariablesInPlace=false;if(root.kind===214 ){var isExported=ts.getCombinedNodeFlags(root)&2 ;var isSourceLevelForSystemModuleKind=shouldHoistDeclarationInSystemJsModule(root);canDefineTempVariablesInPlace=!isExported&&!isSourceLevelForSystemModuleKind;}
else if(root.kind===139 ){canDefineTempVariablesInPlace=true;}
if(root.kind===184 ){emitAssignmentExpression(root);}
else{ts.Debug.assert(!isAssignmentExpressionStatement);if(isFirstVariableDeclaration(root)){sourceMap.changeEmitSourcePos();}
emitBindingElement(root,value);}
function ensureIdentifier(expr,reuseIdentifierExpressions,sourceMapNode){if(expr.kind===69 &&reuseIdentifierExpressions){return expr;}
var identifier=emitTempVariableAssignment(expr,canDefineTempVariablesInPlace,emitCount>0,sourceMapNode);emitCount++;return identifier;}
function createDefaultValueCheck(value,defaultValue,sourceMapNode){value=ensureIdentifier(value,true,sourceMapNode);var equals=ts.createSynthesizedNode(184 );equals.left=value;equals.operatorToken=ts.createSynthesizedNode(32 );equals.right=createVoidZero();return createConditionalExpression(equals,defaultValue,value);}
function createConditionalExpression(condition,whenTrue,whenFalse){var cond=ts.createSynthesizedNode(185 );cond.condition=condition;cond.questionToken=ts.createSynthesizedNode(53 );cond.whenTrue=whenTrue;cond.colonToken=ts.createSynthesizedNode(54 );cond.whenFalse=whenFalse;return cond;}
function createNumericLiteral(value){var node=ts.createSynthesizedNode(8 );node.text=""+value;return node;}
function createPropertyAccessForDestructuringProperty(object,propName){var index;var nameIsComputed=propName.kind===137 ;if(nameIsComputed){index=ensureIdentifier(propName.expression,false,propName);}
else{index=ts.createSynthesizedNode(propName.kind);index.text=ts.unescapeIdentifier(propName.text);}
return!nameIsComputed&&index.kind===69 ?createPropertyAccessExpression(object,index):createElementAccessExpression(object,index);}
function createSliceCall(value,sliceIndex){var call=ts.createSynthesizedNode(171 );var sliceIdentifier=ts.createSynthesizedNode(69 );sliceIdentifier.text="slice";call.expression=createPropertyAccessExpression(value,sliceIdentifier);call.arguments=ts.createSynthesizedNodeArray();call.arguments[0]=createNumericLiteral(sliceIndex);return call;}
function emitObjectLiteralAssignment(target,value,sourceMapNode){var properties=target.properties;if(properties.length!==1){value=ensureIdentifier(value,true,sourceMapNode);}
for(var _a=0,properties_5=properties;_a<properties_5.length;_a++){var p=properties_5[_a];if(p.kind===248 ||p.kind===249 ){var propName=p.name;var target_1=p.kind===249 ?p:p.initializer||propName;emitDestructuringAssignment(target_1,createPropertyAccessForDestructuringProperty(value,propName),p);}}}
function emitArrayLiteralAssignment(target,value,sourceMapNode){var elements=target.elements;if(elements.length!==1){value=ensureIdentifier(value,true,sourceMapNode);}
for(var i=0;i<elements.length;i++){var e=elements[i];if(e.kind!==190 ){if(e.kind!==188 ){emitDestructuringAssignment(e,createElementAccessExpression(value,createNumericLiteral(i)),e);}
else if(i===elements.length-1){emitDestructuringAssignment(e.expression,createSliceCall(value,i),e);}}}}
function emitDestructuringAssignment(target,value,sourceMapNode){if(target.kind===249 ){if(target.objectAssignmentInitializer){value=createDefaultValueCheck(value,target.objectAssignmentInitializer,sourceMapNode);}
target=target.name;}
else if(target.kind===184 &&target.operatorToken.kind===56 ){value=createDefaultValueCheck(value,target.right,sourceMapNode);target=target.left;}
if(target.kind===168 ){emitObjectLiteralAssignment(target,value,sourceMapNode);}
else if(target.kind===167 ){emitArrayLiteralAssignment(target,value,sourceMapNode);}
else{emitAssignment(target,value,emitCount>0,sourceMapNode);emitCount++;}}
function emitAssignmentExpression(root){var target=root.left;var value=root.right;if(ts.isEmptyObjectLiteralOrArrayLiteral(target)){emit(value);}
else if(isAssignmentExpressionStatement){emitDestructuringAssignment(target,value,ts.nodeIsSynthesized(root)?target:root);}
else{if(root.parent.kind!==175 ){write("(");}
value=ensureIdentifier(value,true,root);emitDestructuringAssignment(target,value,root);write(", ");emit(value);if(root.parent.kind!==175 ){write(")");}}}
function emitBindingElement(target,value){if(target.initializer){value=value?createDefaultValueCheck(value,target.initializer,target):target.initializer;}
else if(!value){value=createVoidZero();}
if(ts.isBindingPattern(target.name)){var pattern=target.name;var elements=pattern.elements;var numElements=elements.length;if(numElements!==1){value=ensureIdentifier(value,numElements!==0,target);}
for(var i=0;i<numElements;i++){var element=elements[i];if(pattern.kind===164 ){var propName=element.propertyName||element.name;emitBindingElement(element,createPropertyAccessForDestructuringProperty(value,propName));}
else if(element.kind!==190 ){if(!element.dotDotDotToken){emitBindingElement(element,createElementAccessExpression(value,createNumericLiteral(i)));}
else if(i===numElements-1){emitBindingElement(element,createSliceCall(value,i));}}}}
else{emitAssignment(target.name,value,emitCount>0,target);emitCount++;}}}
function emitVariableDeclaration(node){if(ts.isBindingPattern(node.name)){if(languageVersion<2 ){emitDestructuring(node,false);}
else{emit(node.name);emitOptional(" = ",node.initializer);}}
else{var initializer=node.initializer;if(!initializer&&languageVersion<2 &&node.name.kind===69 ){var container=ts.getEnclosingBlockScopeContainer(node);var flags=resolver.getNodeCheckFlags(node);var isCapturedInFunction=flags&131072 ;var isDeclaredInLoop=flags&262144 ;var emittedAsTopLevel=ts.isBlockScopedContainerTopLevel(container)||(isCapturedInFunction&&isDeclaredInLoop&&container.kind===195 &&ts.isIterationStatement(container.parent,false));var emittedAsNestedLetDeclaration=ts.getCombinedNodeFlags(node)&8192 &&!emittedAsTopLevel;var emitExplicitInitializer=emittedAsNestedLetDeclaration&&container.kind!==203 &&container.kind!==204 &&(!resolver.isDeclarationWithCollidingName(node)||(isDeclaredInLoop&&!isCapturedInFunction&&!ts.isIterationStatement(container,false)));if(emitExplicitInitializer){initializer=createVoidZero();}}
var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.name);if(exportChanged){write(exportFunctionForFile+"(\"");emitNodeWithCommentsAndWithoutSourcemap(node.name);write("\", ");}
emitModuleMemberName(node);emitOptional(" = ",initializer);if(exportChanged){write(")");}}}
function emitExportVariableAssignments(node){if(node.kind===190 ){return;}
var name=node.name;if(name.kind===69 ){emitExportMemberAssignments(name);}
else if(ts.isBindingPattern(name)){ts.forEach(name.elements,emitExportVariableAssignments);}}
function isES6ExportedDeclaration(node){return!!(node.flags&2 )&&modulekind===5 &&node.parent.kind===251 ;}
function emitVariableStatement(node){var startIsEmitted=false;if(node.flags&2 ){if(isES6ExportedDeclaration(node)){write("export ");startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList);}}
else{startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList);}
if(startIsEmitted){emitCommaList(node.declarationList.declarations);write(";");}
else{var atLeastOneItem=emitVariableDeclarationListSkippingUninitializedEntries(node.declarationList);if(atLeastOneItem){write(";");}}
if(modulekind!==5 &&node.parent===currentSourceFile){ts.forEach(node.declarationList.declarations,emitExportVariableAssignments);}}
function shouldEmitLeadingAndTrailingCommentsForVariableStatement(node){if(!(node.flags&2 )){return true;}
if(isES6ExportedDeclaration(node)){return true;}
for(var _a=0,_b=node.declarationList.declarations;_a<_b.length;_a++){var declaration=_b[_a];if(declaration.initializer){return true;}}
return false;}
function emitParameter(node){if(languageVersion<2 ){if(ts.isBindingPattern(node.name)){var name_27=createTempVariable(0 );if(!tempParameters){tempParameters=[];}
tempParameters.push(name_27);emit(name_27);}
else{emit(node.name);}}
else{if(node.dotDotDotToken){write("...");}
emit(node.name);emitOptional(" = ",node.initializer);}}
function emitDefaultValueAssignments(node){if(languageVersion<2 ){var tempIndex_1=0;ts.forEach(node.parameters,function(parameter){if(parameter.dotDotDotToken){return;}
var paramName=parameter.name,initializer=parameter.initializer;if(ts.isBindingPattern(paramName)){var hasBindingElements=paramName.elements.length>0;if(hasBindingElements||initializer){writeLine();write("var ");if(hasBindingElements){emitDestructuring(parameter,false,tempParameters[tempIndex_1]);}
else{emit(tempParameters[tempIndex_1]);write(" = ");emit(initializer);}
write(";");tempIndex_1++;}}
else if(initializer){writeLine();emitStart(parameter);write("if (");emitNodeWithoutSourceMap(paramName);write(" === void 0)");emitEnd(parameter);write(" { ");emitStart(parameter);emitNodeWithCommentsAndWithoutSourcemap(paramName);write(" = ");emitNodeWithCommentsAndWithoutSourcemap(initializer);emitEnd(parameter);write("; }");}});}}
function emitRestParameter(node){if(languageVersion<2 &&ts.hasRestParameter(node)){var restIndex=node.parameters.length-1;var restParam=node.parameters[restIndex];if(ts.isBindingPattern(restParam.name)){return;}
var tempName=createTempVariable(268435456 ).text;writeLine();emitLeadingComments(restParam);emitStart(restParam);write("var ");emitNodeWithCommentsAndWithoutSourcemap(restParam.name);write(" = [];");emitEnd(restParam);emitTrailingComments(restParam);writeLine();write("for (");emitStart(restParam);write("var "+tempName+" = "+restIndex+";");emitEnd(restParam);write(" ");emitStart(restParam);write(tempName+" < arguments.length;");emitEnd(restParam);write(" ");emitStart(restParam);write(tempName+"++");emitEnd(restParam);write(") {");increaseIndent();writeLine();emitStart(restParam);emitNodeWithCommentsAndWithoutSourcemap(restParam.name);write("["+tempName+" - "+restIndex+"] = arguments["+tempName+"];");emitEnd(restParam);decreaseIndent();writeLine();write("}");}}
function emitAccessor(node){write(node.kind===146 ?"get ":"set ");emit(node.name);emitSignatureAndBody(node);}
function shouldEmitAsArrowFunction(node){return node.kind===177 &&languageVersion>=2 ;}
function emitDeclarationName(node){if(node.name){emitNodeWithCommentsAndWithoutSourcemap(node.name);}
else{write(getGeneratedNameForNode(node));}}
function shouldEmitFunctionName(node){if(node.kind===176 ){return!!node.name;}
if(node.kind===216 ){return!!node.name||modulekind!==5 ;}}
function emitFunctionDeclaration(node){if(ts.nodeIsMissing(node.body)){return emitCommentsOnNotEmittedNode(node);}
var kind=node.kind,parent=node.parent;if(kind!==144 &&kind!==143 &&parent&&parent.kind!==248 &&parent.kind!==171 &&parent.kind!==167 ){emitLeadingComments(node);}
emitStart(node);if(!shouldEmitAsArrowFunction(node)){if(isES6ExportedDeclaration(node)){write("export ");if(node.flags&512 ){write("default ");}}
write("function");if(languageVersion>=2 &&node.asteriskToken){write("*");}
write(" ");}
if(shouldEmitFunctionName(node)){emitDeclarationName(node);}
emitSignatureAndBody(node);if(modulekind!==5 &&kind===216 &&parent===currentSourceFile&&node.name){emitExportMemberAssignments(node.name);}
emitEnd(node);if(kind!==144 &&kind!==143 ){emitTrailingComments(node);}}
function emitCaptureThisForNodeIfNecessary(node){if(resolver.getNodeCheckFlags(node)&4 ){writeLine();emitStart(node);write("var _this = this;");emitEnd(node);}}
function emitSignatureParameters(node){increaseIndent();write("(");if(node){var parameters=node.parameters;var omitCount=languageVersion<2 &&ts.hasRestParameter(node)?1:0;emitList(parameters,0,parameters.length-omitCount,false,false);}
write(")");decreaseIndent();}
function emitSignatureParametersForArrow(node){if(node.parameters.length===1&&node.pos===node.parameters[0].pos){emit(node.parameters[0]);return;}
emitSignatureParameters(node);}
function emitAsyncFunctionBodyForES6(node){var promiseConstructor=ts.getEntityNameFromTypeNode(node.type);var isArrowFunction=node.kind===177 ;var hasLexicalArguments=(resolver.getNodeCheckFlags(node)&8192 )!==0;if(!isArrowFunction){write(" {");increaseIndent();writeLine();if(resolver.getNodeCheckFlags(node)&4096 ){writeLines("\nconst _super = (function (geti, seti) {\n    const cache = Object.create(null);\n    return name => cache[name] || (cache[name] = { get value() { return geti(name); }, set value(v) { seti(name, v); } });\n})(name => super[name], (name, value) => super[name] = value);");writeLine();}
else if(resolver.getNodeCheckFlags(node)&2048 ){write("const _super = name => super[name];");writeLine();}
write("return");}
write(" __awaiter(this");if(hasLexicalArguments){write(", arguments, ");}
else{write(", void 0, ");}
if(!promiseConstructor||(compilerOptions.noCustomAsyncPromise&&languageVersion>=2 )){write("void 0");}
else{emitEntityNameAsExpression(promiseConstructor,false);}
write(", function* ()");emitFunctionBody(node);write(")");if(!isArrowFunction){write(";");decreaseIndent();writeLine();write("}");}}
function emitFunctionBody(node){if(!node.body){write(" { }");}
else{if(node.body.kind===195 ){emitBlockFunctionBody(node,node.body);}
else{emitExpressionFunctionBody(node,node.body);}}}
function emitSignatureAndBody(node){var saveConvertedLoopState=convertedLoopState;var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;convertedLoopState=undefined;tempFlags=0;tempVariables=undefined;tempParameters=undefined;if(shouldEmitAsArrowFunction(node)){emitSignatureParametersForArrow(node);write(" =>");}
else{emitSignatureParameters(node);}
var isAsync=ts.isAsyncFunctionLike(node);if(isAsync){emitAsyncFunctionBodyForES6(node);}
else{emitFunctionBody(node);}
if(!isES6ExportedDeclaration(node)){emitExportMemberAssignment(node);}
ts.Debug.assert(convertedLoopState===undefined);convertedLoopState=saveConvertedLoopState;tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters;}
function emitFunctionBodyPreamble(node){emitCaptureThisForNodeIfNecessary(node);emitDefaultValueAssignments(node);emitRestParameter(node);}
function emitExpressionFunctionBody(node,body){if(languageVersion<2 ||node.flags&256 ){emitDownLevelExpressionFunctionBody(node,body);return;}
write(" ");var current=body;while(current.kind===174 ){current=current.expression;}
emitParenthesizedIf(body,current.kind===168 );}
function emitDownLevelExpressionFunctionBody(node,body){write(" {");increaseIndent();var outPos=writer.getTextPos();emitDetachedCommentsAndUpdateCommentsInfo(node.body);emitFunctionBodyPreamble(node);var preambleEmitted=writer.getTextPos()!==outPos;decreaseIndent();if(!preambleEmitted&&nodeStartPositionsAreOnSameLine(node,body)){write(" ");emitStart(body);write("return ");emit(body);emitEnd(body);write(";");emitTempDeclarations(false);write(" ");}
else{increaseIndent();writeLine();emitLeadingComments(node.body);emitStart(body);write("return ");emit(body);emitEnd(body);write(";");emitTrailingComments(node.body);emitTempDeclarations(true);decreaseIndent();writeLine();}
emitStart(node.body);write("}");emitEnd(node.body);}
function emitBlockFunctionBody(node,body){write(" {");var initialTextPos=writer.getTextPos();increaseIndent();emitDetachedCommentsAndUpdateCommentsInfo(body.statements);var startIndex=emitDirectivePrologues(body.statements,true);emitFunctionBodyPreamble(node);decreaseIndent();var preambleEmitted=writer.getTextPos()!==initialTextPos;if(!preambleEmitted&&nodeEndIsOnSameLineAsNodeStart(body,body)){for(var _a=0,_b=body.statements;_a<_b.length;_a++){var statement=_b[_a];write(" ");emit(statement);}
emitTempDeclarations(false);write(" ");emitLeadingCommentsOfPosition(body.statements.end);}
else{increaseIndent();emitLinesStartingAt(body.statements,startIndex);emitTempDeclarations(true);writeLine();emitLeadingCommentsOfPosition(body.statements.end);decreaseIndent();}
emitToken(16 ,body.statements.end);}
function getSuperCallAtGivenIndex(ctor,index){if(!ctor.body){return undefined;}
var statements=ctor.body.statements;if(!statements||index>=statements.length){return undefined;}
var statement=statements[index];if(statement.kind===198 ){return ts.isSuperCallExpression(statement.expression)?statement:undefined;}}
function emitParameterPropertyAssignments(node){ts.forEach(node.parameters,function(param){if(param.flags&56 ){writeLine();emitStart(param);emitStart(param.name);write("this.");emitNodeWithoutSourceMap(param.name);emitEnd(param.name);write(" = ");emit(param.name);write(";");emitEnd(param);}});}
function emitMemberAccessForPropertyName(memberName){if(memberName.kind===9 ||memberName.kind===8 ){write("[");emitNodeWithCommentsAndWithoutSourcemap(memberName);write("]");}
else if(memberName.kind===137 ){emitComputedPropertyName(memberName);}
else{write(".");emitNodeWithCommentsAndWithoutSourcemap(memberName);}}
function getInitializedProperties(node,isStatic){var properties=[];for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if(member.kind===142 &&isStatic===((member.flags&64 )!==0)&&member.initializer){properties.push(member);}}
return properties;}
function emitPropertyDeclarations(node,properties){for(var _a=0,properties_6=properties;_a<properties_6.length;_a++){var property=properties_6[_a];emitPropertyDeclaration(node,property);}}
function emitPropertyDeclaration(node,property,receiver,isExpression){writeLine();emitLeadingComments(property);emitStart(property);emitStart(property.name);if(receiver){emit(receiver);}
else{if(property.flags&64 ){emitDeclarationName(node);}
else{write("this");}}
emitMemberAccessForPropertyName(property.name);emitEnd(property.name);write(" = ");emit(property.initializer);if(!isExpression){write(";");}
emitEnd(property);emitTrailingComments(property);}
function emitMemberFunctionsForES5AndLower(node){ts.forEach(node.members,function(member){if(member.kind===194 ){writeLine();write(";");}
else if(member.kind===144 ||node.kind===143 ){if(!member.body){return emitCommentsOnNotEmittedNode(member);}
writeLine();emitLeadingComments(member);emitStart(member);emitStart(member.name);emitClassMemberPrefix(node,member);emitMemberAccessForPropertyName(member.name);emitEnd(member.name);write(" = ");emitFunctionDeclaration(member);emitEnd(member);write(";");emitTrailingComments(member);}
else if(member.kind===146 ||member.kind===147 ){var accessors=ts.getAllAccessorDeclarations(node.members,member);if(member===accessors.firstAccessor){writeLine();emitStart(member);write("Object.defineProperty(");emitStart(member.name);emitClassMemberPrefix(node,member);write(", ");emitExpressionForPropertyName(member.name);emitEnd(member.name);write(", {");increaseIndent();if(accessors.getAccessor){writeLine();emitLeadingComments(accessors.getAccessor);write("get: ");emitStart(accessors.getAccessor);write("function ");emitSignatureAndBody(accessors.getAccessor);emitEnd(accessors.getAccessor);emitTrailingComments(accessors.getAccessor);write(",");}
if(accessors.setAccessor){writeLine();emitLeadingComments(accessors.setAccessor);write("set: ");emitStart(accessors.setAccessor);write("function ");emitSignatureAndBody(accessors.setAccessor);emitEnd(accessors.setAccessor);emitTrailingComments(accessors.setAccessor);write(",");}
writeLine();write("enumerable: true,");writeLine();write("configurable: true");decreaseIndent();writeLine();write("});");emitEnd(member);}}});}
function emitMemberFunctionsForES6AndHigher(node){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if((member.kind===144 ||node.kind===143 )&&!member.body){emitCommentsOnNotEmittedNode(member);}
else if(member.kind===144 ||member.kind===146 ||member.kind===147 ){writeLine();emitLeadingComments(member);emitStart(member);if(member.flags&64 ){write("static ");}
if(member.kind===146 ){write("get ");}
else if(member.kind===147 ){write("set ");}
if(member.asteriskToken){write("*");}
emit(member.name);emitSignatureAndBody(member);emitEnd(member);emitTrailingComments(member);}
else if(member.kind===194 ){writeLine();write(";");}}}
function emitConstructor(node,baseTypeElement){var saveConvertedLoopState=convertedLoopState;var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;convertedLoopState=undefined;tempFlags=0;tempVariables=undefined;tempParameters=undefined;emitConstructorWorker(node,baseTypeElement);ts.Debug.assert(convertedLoopState===undefined);convertedLoopState=saveConvertedLoopState;tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters;}
function emitConstructorWorker(node,baseTypeElement){var hasInstancePropertyWithInitializer=false;ts.forEach(node.members,function(member){if(member.kind===145 &&!member.body){emitCommentsOnNotEmittedNode(member);}
if(member.kind===142 &&member.initializer&&(member.flags&64 )===0){hasInstancePropertyWithInitializer=true;}});var ctor=ts.getFirstConstructorWithBody(node);if(languageVersion>=2 &&!ctor&&!hasInstancePropertyWithInitializer){return;}
if(ctor){emitLeadingComments(ctor);}
emitStart(ctor||node);if(languageVersion<2 ){write("function ");emitDeclarationName(node);emitSignatureParameters(ctor);}
else{write("constructor");if(ctor){emitSignatureParameters(ctor);}
else{if(baseTypeElement){write("(...args)");}
else{write("()");}}}
var startIndex=0;write(" {");increaseIndent();if(ctor){startIndex=emitDirectivePrologues(ctor.body.statements,true);emitDetachedCommentsAndUpdateCommentsInfo(ctor.body.statements);}
emitCaptureThisForNodeIfNecessary(node);var superCall;if(ctor){emitDefaultValueAssignments(ctor);emitRestParameter(ctor);if(baseTypeElement){superCall=getSuperCallAtGivenIndex(ctor,startIndex);if(superCall){writeLine();emit(superCall);}}
emitParameterPropertyAssignments(ctor);}
else{if(baseTypeElement){writeLine();emitStart(baseTypeElement);if(languageVersion<2 ){write("_super.apply(this, arguments);");}
else{write("super(...args);");}
emitEnd(baseTypeElement);}}
emitPropertyDeclarations(node,getInitializedProperties(node,false));if(ctor){var statements=ctor.body.statements;if(superCall){statements=statements.slice(1);}
emitLinesStartingAt(statements,startIndex);}
emitTempDeclarations(true);writeLine();if(ctor){emitLeadingCommentsOfPosition(ctor.body.statements.end);}
decreaseIndent();emitToken(16 ,ctor?ctor.body.statements.end:node.members.end);emitEnd(ctor||node);if(ctor){emitTrailingComments(ctor);}}
function emitClassExpression(node){return emitClassLikeDeclaration(node);}
function emitClassDeclaration(node){return emitClassLikeDeclaration(node);}
function emitClassLikeDeclaration(node){if(languageVersion<2 ){emitClassLikeDeclarationBelowES6(node);}
else{emitClassLikeDeclarationForES6AndHigher(node);}
if(modulekind!==5 &&node.parent===currentSourceFile&&node.name){emitExportMemberAssignments(node.name);}}
function emitClassLikeDeclarationForES6AndHigher(node){var decoratedClassAlias;var thisNodeIsDecorated=ts.nodeIsDecorated(node);if(node.kind===217 ){if(thisNodeIsDecorated){if(resolver.getNodeCheckFlags(node)&524288 ){decoratedClassAlias=ts.unescapeIdentifier(makeUniqueName(node.name?node.name.text:"default"));decoratedClassAliases[ts.getNodeId(node)]=decoratedClassAlias;write("let "+decoratedClassAlias+";");writeLine();}
if(isES6ExportedDeclaration(node)&&!(node.flags&512 )){write("export ");}
write("let ");emitDeclarationName(node);if(decoratedClassAlias!==undefined){write(" = "+decoratedClassAlias);}
write(" = ");}
else if(isES6ExportedDeclaration(node)){write("export ");if(node.flags&512 ){write("default ");}}}
var staticProperties=getInitializedProperties(node,true);var isClassExpressionWithStaticProperties=staticProperties.length>0&&node.kind===189 ;var tempVariable;if(isClassExpressionWithStaticProperties){tempVariable=createAndRecordTempVariable(0 );write("(");increaseIndent();emit(tempVariable);write(" = ");}
write("class");if(node.name||(node.flags&512 &&(staticProperties.length>0||modulekind!==5 )&&!thisNodeIsDecorated)){write(" ");emitDeclarationName(node);}
var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){write(" extends ");emit(baseTypeNode.expression);}
write(" {");increaseIndent();writeLine();emitConstructor(node,baseTypeNode);emitMemberFunctionsForES6AndHigher(node);decreaseIndent();writeLine();emitToken(16 ,node.members.end);if(thisNodeIsDecorated){decoratedClassAliases[ts.getNodeId(node)]=undefined;write(";");}
if(isClassExpressionWithStaticProperties){for(var _a=0,staticProperties_1=staticProperties;_a<staticProperties_1.length;_a++){var property=staticProperties_1[_a];write(",");writeLine();emitPropertyDeclaration(node,property,tempVariable,true);}
write(",");writeLine();emit(tempVariable);decreaseIndent();write(")");}
else{writeLine();emitPropertyDeclarations(node,staticProperties);emitDecoratorsOfClass(node,decoratedClassAlias);}
if(!(node.flags&2 )){return;}
if(modulekind!==5 ){emitExportMemberAssignment(node);}
else{if(node.flags&512 ){if(thisNodeIsDecorated){writeLine();write("export default ");emitDeclarationName(node);write(";");}}
else if(node.parent.kind!==251 ){writeLine();emitStart(node);emitModuleMemberName(node);write(" = ");emitDeclarationName(node);emitEnd(node);write(";");}}}
function emitClassLikeDeclarationBelowES6(node){if(node.kind===217 ){if(!shouldHoistDeclarationInSystemJsModule(node)){write("var ");}
emitDeclarationName(node);write(" = ");}
write("(function (");var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){write("_super");}
write(") {");var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;var saveComputedPropertyNamesToGeneratedNames=computedPropertyNamesToGeneratedNames;var saveConvertedLoopState=convertedLoopState;convertedLoopState=undefined;tempFlags=0;tempVariables=undefined;tempParameters=undefined;computedPropertyNamesToGeneratedNames=undefined;increaseIndent();if(baseTypeNode){writeLine();emitStart(baseTypeNode);write("__extends(");emitDeclarationName(node);write(", _super);");emitEnd(baseTypeNode);}
writeLine();emitConstructor(node,baseTypeNode);emitMemberFunctionsForES5AndLower(node);emitPropertyDeclarations(node,getInitializedProperties(node,true));writeLine();emitDecoratorsOfClass(node,undefined);writeLine();emitToken(16 ,node.members.end,function(){write("return ");emitDeclarationName(node);});write(";");emitTempDeclarations(true);ts.Debug.assert(convertedLoopState===undefined);convertedLoopState=saveConvertedLoopState;tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters;computedPropertyNamesToGeneratedNames=saveComputedPropertyNamesToGeneratedNames;decreaseIndent();writeLine();emitToken(16 ,node.members.end);emitStart(node);write("(");if(baseTypeNode){emit(baseTypeNode.expression);}
write("))");if(node.kind===217 ){write(";");}
emitEnd(node);if(node.kind===217 ){emitExportMemberAssignment(node);}}
function emitClassMemberPrefix(node,member){emitDeclarationName(node);if(!(member.flags&64 )){write(".prototype");}}
function emitDecoratorsOfClass(node,decoratedClassAlias){emitDecoratorsOfMembers(node,0);emitDecoratorsOfMembers(node,64 );emitDecoratorsOfConstructor(node,decoratedClassAlias);}
function emitDecoratorsOfConstructor(node,decoratedClassAlias){var decorators=node.decorators;var constructor=ts.getFirstConstructorWithBody(node);var firstParameterDecorator=constructor&&ts.forEach(constructor.parameters,function(parameter){return parameter.decorators;});if(!decorators&&!firstParameterDecorator){return;}
writeLine();emitStart(node.decorators||firstParameterDecorator);emitDeclarationName(node);if(decoratedClassAlias!==undefined){write(" = "+decoratedClassAlias);}
write(" = __decorate([");increaseIndent();writeLine();var decoratorCount=decorators?decorators.length:0;var argumentsWritten=emitList(decorators,0,decoratorCount,true,false,false,true,function(decorator){return emit(decorator.expression);});if(firstParameterDecorator){argumentsWritten+=emitDecoratorsOfParameters(constructor,argumentsWritten>0);}
emitSerializedTypeMetadata(node,argumentsWritten>=0);decreaseIndent();writeLine();write("], ");emitDeclarationName(node);write(")");emitEnd(node.decorators||firstParameterDecorator);write(";");writeLine();}
function emitDecoratorsOfMembers(node,staticFlag){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if((member.flags&64 )!==staticFlag){continue;}
if(!ts.nodeCanBeDecorated(member)){continue;}
var decorators=void 0;var functionLikeMember=void 0;if(ts.isAccessor(member)){var accessors=ts.getAllAccessorDeclarations(node.members,member);if(member!==accessors.firstAccessor){continue;}
decorators=accessors.firstAccessor.decorators;if(!decorators&&accessors.secondAccessor){decorators=accessors.secondAccessor.decorators;}
functionLikeMember=accessors.setAccessor;}
else{decorators=member.decorators;if(member.kind===144 ){functionLikeMember=member;}}
var firstParameterDecorator=functionLikeMember&&ts.forEach(functionLikeMember.parameters,function(parameter){return parameter.decorators;});if(!decorators&&!firstParameterDecorator){continue;}
writeLine();emitStart(decorators||firstParameterDecorator);write("__decorate([");increaseIndent();writeLine();var decoratorCount=decorators?decorators.length:0;var argumentsWritten=emitList(decorators,0,decoratorCount,true,false,false,true,function(decorator){return emit(decorator.expression);});if(firstParameterDecorator){argumentsWritten+=emitDecoratorsOfParameters(functionLikeMember,argumentsWritten>0);}
emitSerializedTypeMetadata(member,argumentsWritten>0);decreaseIndent();writeLine();write("], ");emitClassMemberPrefix(node,member);write(", ");emitExpressionForPropertyName(member.name);if(languageVersion>0 ){if(member.kind!==142 ){write(", null");}
else{write(", void 0");}}
write(")");emitEnd(decorators||firstParameterDecorator);write(";");writeLine();}}
function emitDecoratorsOfParameters(node,leadingComma){var argumentsWritten=0;if(node){var parameterIndex_1=0;for(var _a=0,_b=node.parameters;_a<_b.length;_a++){var parameter=_b[_a];if(ts.nodeIsDecorated(parameter)){var decorators=parameter.decorators;argumentsWritten+=emitList(decorators,0,decorators.length,true,false,leadingComma,true,function(decorator){write("__param("+parameterIndex_1+", ");emit(decorator.expression);write(")");});leadingComma=true;}
parameterIndex_1++;}}
return argumentsWritten;}
function shouldEmitTypeMetadata(node){switch(node.kind){case 144 :case 146 :case 147 :case 142 :return true;}
return false;}
function shouldEmitReturnTypeMetadata(node){switch(node.kind){case 144 :return true;}
return false;}
function shouldEmitParamTypesMetadata(node){switch(node.kind){case 217 :case 144 :case 147 :return true;}
return false;}
function emitSerializedTypeOfNode(node){switch(node.kind){case 217 :write("Function");return;case 142 :emitSerializedTypeNode(node.type);return;case 139 :emitSerializedTypeNode(node.type);return;case 146 :emitSerializedTypeNode(node.type);return;case 147 :emitSerializedTypeNode(ts.getSetAccessorTypeAnnotationNode(node));return;}
if(ts.isFunctionLike(node)){write("Function");return;}
write("void 0");}
function emitSerializedTypeNode(node){if(node){switch(node.kind){case 103 :write("void 0");return;case 161 :emitSerializedTypeNode(node.type);return;case 153 :case 154 :write("Function");return;case 157 :case 158 :write("Array");return;case 151 :case 120 :write("Boolean");return;case 130 :case 163 :write("String");return;case 128 :write("Number");return;case 131 :write("Symbol");return;case 152 :emitSerializedTypeReferenceNode(node);return;case 155 :case 156 :case 159 :case 160 :case 117 :case 162 :break;default:ts.Debug.fail("Cannot serialize unexpected type node.");break;}}
write("Object");}
function emitSerializedTypeReferenceNode(node){var location=node.parent;while(ts.isDeclaration(location)||ts.isTypeNode(location)){location=location.parent;}
var typeName=ts.cloneEntityName(node.typeName,location);var result=resolver.getTypeReferenceSerializationKind(typeName);switch(result){case ts.TypeReferenceSerializationKind.Unknown:var temp=createAndRecordTempVariable(0 );write("(typeof (");emitNodeWithoutSourceMap(temp);write(" = ");emitEntityNameAsExpression(typeName,true);write(") === 'function' && ");emitNodeWithoutSourceMap(temp);write(") || Object");break;case ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue:emitEntityNameAsExpression(typeName,false);break;case ts.TypeReferenceSerializationKind.VoidType:write("void 0");break;case ts.TypeReferenceSerializationKind.BooleanType:write("Boolean");break;case ts.TypeReferenceSerializationKind.NumberLikeType:write("Number");break;case ts.TypeReferenceSerializationKind.StringLikeType:write("String");break;case ts.TypeReferenceSerializationKind.ArrayLikeType:write("Array");break;case ts.TypeReferenceSerializationKind.ESSymbolType:if(languageVersion<2 ){write("typeof Symbol === 'function' ? Symbol : Object");}
else{write("Symbol");}
break;case ts.TypeReferenceSerializationKind.TypeWithCallSignature:write("Function");break;case ts.TypeReferenceSerializationKind.ObjectType:write("Object");break;}}
function emitSerializedParameterTypesOfNode(node){if(node){var valueDeclaration=void 0;if(node.kind===217 ){valueDeclaration=ts.getFirstConstructorWithBody(node);}
else if(ts.isFunctionLike(node)&&ts.nodeIsPresent(node.body)){valueDeclaration=node;}
if(valueDeclaration){var parameters=valueDeclaration.parameters;var parameterCount=parameters.length;if(parameterCount>0){for(var i=0;i<parameterCount;i++){if(i>0){write(", ");}
if(parameters[i].dotDotDotToken){var parameterType=parameters[i].type;if(parameterType.kind===157 ){parameterType=parameterType.elementType;}
else if(parameterType.kind===152 &&parameterType.typeArguments&&parameterType.typeArguments.length===1){parameterType=parameterType.typeArguments[0];}
else{parameterType=undefined;}
emitSerializedTypeNode(parameterType);}
else{emitSerializedTypeOfNode(parameters[i]);}}}}}}
function emitSerializedReturnTypeOfNode(node){if(node&&ts.isFunctionLike(node)&&node.type){emitSerializedTypeNode(node.type);return;}
write("void 0");}
function emitSerializedTypeMetadata(node,writeComma){var argumentsWritten=0;if(compilerOptions.emitDecoratorMetadata){if(shouldEmitTypeMetadata(node)){if(writeComma){write(", ");}
writeLine();write("__metadata('design:type', ");emitSerializedTypeOfNode(node);write(")");argumentsWritten++;}
if(shouldEmitParamTypesMetadata(node)){if(writeComma||argumentsWritten){write(", ");}
writeLine();write("__metadata('design:paramtypes', [");emitSerializedParameterTypesOfNode(node);write("])");argumentsWritten++;}
if(shouldEmitReturnTypeMetadata(node)){if(writeComma||argumentsWritten){write(", ");}
writeLine();write("__metadata('design:returntype', ");emitSerializedReturnTypeOfNode(node);write(")");argumentsWritten++;}}
return argumentsWritten;}
function emitInterfaceDeclaration(node){emitCommentsOnNotEmittedNode(node);}
function shouldEmitEnumDeclaration(node){var isConstEnum=ts.isConst(node);return!isConstEnum||compilerOptions.preserveConstEnums||compilerOptions.isolatedModules;}
function emitEnumDeclaration(node){if(!shouldEmitEnumDeclaration(node)){return;}
if(!shouldHoistDeclarationInSystemJsModule(node)){var isES6ExportedEnum=isES6ExportedDeclaration(node);if(!(node.flags&2 )||(isES6ExportedEnum&&isFirstDeclarationOfKind(node,node.symbol&&node.symbol.declarations,220 ))){emitStart(node);if(isES6ExportedEnum){write("export ");}
write("var ");emit(node.name);emitEnd(node);write(";");}}
writeLine();emitStart(node);write("(function (");emitStart(node.name);write(getGeneratedNameForNode(node));emitEnd(node.name);write(") {");increaseIndent();emitLines(node.members);decreaseIndent();writeLine();emitToken(16 ,node.members.end);write(")(");emitModuleMemberName(node);write(" || (");emitModuleMemberName(node);write(" = {}));");emitEnd(node);if(!isES6ExportedDeclaration(node)&&node.flags&2 &&!shouldHoistDeclarationInSystemJsModule(node)){writeLine();emitStart(node);write("var ");emit(node.name);write(" = ");emitModuleMemberName(node);emitEnd(node);write(";");}
if(modulekind!==5 &&node.parent===currentSourceFile){if(modulekind===4 &&(node.flags&2 )){writeLine();write(exportFunctionForFile+"(\"");emitDeclarationName(node);write("\", ");emitDeclarationName(node);write(");");}
emitExportMemberAssignments(node.name);}}
function emitEnumMember(node){var enumParent=node.parent;emitStart(node);write(getGeneratedNameForNode(enumParent));write("[");write(getGeneratedNameForNode(enumParent));write("[");emitExpressionForPropertyName(node.name);write("] = ");writeEnumMemberDeclarationValue(node);write("] = ");emitExpressionForPropertyName(node.name);emitEnd(node);write(";");}
function writeEnumMemberDeclarationValue(member){var value=resolver.getConstantValue(member);if(value!==undefined){write(value.toString());return;}
else if(member.initializer){emit(member.initializer);}
else{write("undefined");}}
function getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration){if(moduleDeclaration.body.kind===221 ){var recursiveInnerModule=getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration.body);return recursiveInnerModule||moduleDeclaration.body;}}
function shouldEmitModuleDeclaration(node){return ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules);}
function isModuleMergedWithES6Class(node){return languageVersion===2 &&!!(resolver.getNodeCheckFlags(node)&32768 );}
function isFirstDeclarationOfKind(node,declarations,kind){return!ts.forEach(declarations,function(declaration){return declaration.kind===kind&&declaration.pos<node.pos;});}
function emitModuleDeclaration(node){var shouldEmit=shouldEmitModuleDeclaration(node);if(!shouldEmit){return emitCommentsOnNotEmittedNode(node);}
var hoistedInDeclarationScope=shouldHoistDeclarationInSystemJsModule(node);var emitVarForModule=!hoistedInDeclarationScope&&!isModuleMergedWithES6Class(node);if(emitVarForModule){var isES6ExportedNamespace=isES6ExportedDeclaration(node);if(!isES6ExportedNamespace||isFirstDeclarationOfKind(node,node.symbol&&node.symbol.declarations,221 )){emitStart(node);if(isES6ExportedNamespace){write("export ");}
write("var ");emit(node.name);write(";");emitEnd(node);writeLine();}}
emitStart(node);write("(function (");emitStart(node.name);write(getGeneratedNameForNode(node));emitEnd(node.name);write(") ");if(node.body.kind===222 ){var saveConvertedLoopState=convertedLoopState;var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;convertedLoopState=undefined;tempFlags=0;tempVariables=undefined;emit(node.body);ts.Debug.assert(convertedLoopState===undefined);convertedLoopState=saveConvertedLoopState;tempFlags=saveTempFlags;tempVariables=saveTempVariables;}
else{write("{");increaseIndent();emitCaptureThisForNodeIfNecessary(node);writeLine();emit(node.body);decreaseIndent();writeLine();var moduleBlock=getInnerMostModuleDeclarationFromDottedModule(node).body;emitToken(16 ,moduleBlock.statements.end);}
write(")(");if((node.flags&2 )&&!isES6ExportedDeclaration(node)){emit(node.name);write(" = ");}
emitModuleMemberName(node);write(" || (");emitModuleMemberName(node);write(" = {}));");emitEnd(node);if(!isES6ExportedDeclaration(node)&&node.name.kind===69 &&node.parent===currentSourceFile){if(modulekind===4 &&(node.flags&2 )){writeLine();write(exportFunctionForFile+"(\"");emitDeclarationName(node);write("\", ");emitDeclarationName(node);write(");");}
emitExportMemberAssignments(node.name);}}
function tryRenameExternalModule(moduleName){if(renamedDependencies&&ts.hasProperty(renamedDependencies,moduleName.text)){return"\""+renamedDependencies[moduleName.text]+"\"";}
return undefined;}
function emitRequire(moduleName){if(moduleName.kind===9 ){write("require(");var text=tryRenameExternalModule(moduleName);if(text){write(text);}
else{emitStart(moduleName);emitLiteral(moduleName);emitEnd(moduleName);}
emitToken(18 ,moduleName.end);}
else{write("require()");}}
function getNamespaceDeclarationNode(node){if(node.kind===224 ){return node;}
var importClause=node.importClause;if(importClause&&importClause.namedBindings&&importClause.namedBindings.kind===227 ){return importClause.namedBindings;}}
function isDefaultImport(node){return node.kind===225 &&node.importClause&&!!node.importClause.name;}
function emitExportImportAssignments(node){if(ts.isAliasSymbolDeclaration(node)&&resolver.isValueAliasDeclaration(node)){emitExportMemberAssignments(node.name);}
ts.forEachChild(node,emitExportImportAssignments);}
function emitImportDeclaration(node){if(modulekind!==5 ){return emitExternalImportDeclaration(node);}
if(node.importClause){var shouldEmitDefaultBindings=resolver.isReferencedAliasDeclaration(node.importClause);var shouldEmitNamedBindings=node.importClause.namedBindings&&resolver.isReferencedAliasDeclaration(node.importClause.namedBindings,true);if(shouldEmitDefaultBindings||shouldEmitNamedBindings){write("import ");emitStart(node.importClause);if(shouldEmitDefaultBindings){emit(node.importClause.name);if(shouldEmitNamedBindings){write(", ");}}
if(shouldEmitNamedBindings){emitLeadingComments(node.importClause.namedBindings);emitStart(node.importClause.namedBindings);if(node.importClause.namedBindings.kind===227 ){write("* as ");emit(node.importClause.namedBindings.name);}
else{write("{ ");emitExportOrImportSpecifierList(node.importClause.namedBindings.elements,resolver.isReferencedAliasDeclaration);write(" }");}
emitEnd(node.importClause.namedBindings);emitTrailingComments(node.importClause.namedBindings);}
emitEnd(node.importClause);write(" from ");emit(node.moduleSpecifier);write(";");}}
else{write("import ");emit(node.moduleSpecifier);write(";");}}
function emitExternalImportDeclaration(node){if(ts.contains(externalImports,node)){var isExportedImport=node.kind===224 &&(node.flags&2 )!==0;var namespaceDeclaration=getNamespaceDeclarationNode(node);var varOrConst=(languageVersion<=1 )?"var ":"const ";if(modulekind!==2 ){emitLeadingComments(node);emitStart(node);if(namespaceDeclaration&&!isDefaultImport(node)){if(!isExportedImport){write(varOrConst);};emitModuleMemberName(namespaceDeclaration);write(" = ");}
else{var isNakedImport=225 &&!node.importClause;if(!isNakedImport){write(varOrConst);write(getGeneratedNameForNode(node));write(" = ");}}
emitRequire(ts.getExternalModuleName(node));if(namespaceDeclaration&&isDefaultImport(node)){write(", ");emitModuleMemberName(namespaceDeclaration);write(" = ");write(getGeneratedNameForNode(node));}
write(";");emitEnd(node);emitExportImportAssignments(node);emitTrailingComments(node);}
else{if(isExportedImport){emitModuleMemberName(namespaceDeclaration);write(" = ");emit(namespaceDeclaration.name);write(";");}
else if(namespaceDeclaration&&isDefaultImport(node)){write(varOrConst);emitModuleMemberName(namespaceDeclaration);write(" = ");write(getGeneratedNameForNode(node));write(";");}
emitExportImportAssignments(node);}}}
function emitImportEqualsDeclaration(node){if(ts.isExternalModuleImportEqualsDeclaration(node)){emitExternalImportDeclaration(node);return;}
if(resolver.isReferencedAliasDeclaration(node)||(!isCurrentFileExternalModule&&resolver.isTopLevelValueImportEqualsWithEntityName(node))){emitLeadingComments(node);emitStart(node);var variableDeclarationIsHoisted=shouldHoistVariable(node,true);var isExported=isSourceFileLevelDeclarationInSystemJsModule(node,true);if(!variableDeclarationIsHoisted){ts.Debug.assert(!isExported);if(isES6ExportedDeclaration(node)){write("export ");write("var ");}
else if(!(node.flags&2 )){write("var ");}}
if(isExported){write(exportFunctionForFile+"(\"");emitNodeWithoutSourceMap(node.name);write("\", ");}
emitModuleMemberName(node);write(" = ");emit(node.moduleReference);if(isExported){write(")");}
write(";");emitEnd(node);emitExportImportAssignments(node);emitTrailingComments(node);}}
function emitExportDeclaration(node){ts.Debug.assert(modulekind!==4 );if(modulekind!==5 ){if(node.moduleSpecifier&&(!node.exportClause||resolver.isValueAliasDeclaration(node))){emitStart(node);var generatedName=getGeneratedNameForNode(node);if(node.exportClause){if(modulekind!==2 ){write("var ");write(generatedName);write(" = ");emitRequire(ts.getExternalModuleName(node));write(";");}
for(var _a=0,_b=node.exportClause.elements;_a<_b.length;_a++){var specifier=_b[_a];if(resolver.isValueAliasDeclaration(specifier)){writeLine();emitStart(specifier);emitContainingModuleName(specifier);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.name);write(" = ");write(generatedName);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.propertyName||specifier.name);write(";");emitEnd(specifier);}}}
else{if(hasExportStarsToExportValues&&resolver.moduleExportsSomeValue(node.moduleSpecifier)){writeLine();write("__export(");if(modulekind!==2 ){emitRequire(ts.getExternalModuleName(node));}
else{write(generatedName);}
write(");");}}
emitEnd(node);}}
else{if(!node.exportClause||resolver.isValueAliasDeclaration(node)){write("export ");if(node.exportClause){write("{ ");emitExportOrImportSpecifierList(node.exportClause.elements,resolver.isValueAliasDeclaration);write(" }");}
else{write("*");}
if(node.moduleSpecifier){write(" from ");emit(node.moduleSpecifier);}
write(";");}}}
function emitExportOrImportSpecifierList(specifiers,shouldEmit){ts.Debug.assert(modulekind===5 );var needsComma=false;for(var _a=0,specifiers_1=specifiers;_a<specifiers_1.length;_a++){var specifier=specifiers_1[_a];if(shouldEmit(specifier)){if(needsComma){write(", ");}
if(specifier.propertyName){emit(specifier.propertyName);write(" as ");}
emit(specifier.name);needsComma=true;}}}
function emitExportAssignment(node){if(!node.isExportEquals&&resolver.isValueAliasDeclaration(node)){if(modulekind===5 ){writeLine();emitStart(node);write("export default ");var expression=node.expression;emit(expression);if(expression.kind!==216 &&expression.kind!==217 ){write(";");}
emitEnd(node);}
else{writeLine();emitStart(node);if(modulekind===4 ){write(exportFunctionForFile+"(\"default\",");emit(node.expression);write(")");}
else{emitEs6ExportDefaultCompat(node);emitContainingModuleName(node);if(languageVersion===0 ){write("[\"default\"] = ");}
else{write(".default = ");}
emit(node.expression);}
write(";");emitEnd(node);}}}
function collectExternalModuleInfo(sourceFile){externalImports=[];exportSpecifiers={};exportEquals=undefined;hasExportStarsToExportValues=false;for(var _a=0,_b=sourceFile.statements;_a<_b.length;_a++){var node=_b[_a];switch(node.kind){case 225 :if(!node.importClause||resolver.isReferencedAliasDeclaration(node.importClause,true)){externalImports.push(node);}
break;case 224 :if(node.moduleReference.kind===235 &&resolver.isReferencedAliasDeclaration(node)){externalImports.push(node);}
break;case 231 :if(node.moduleSpecifier){if(!node.exportClause){if(resolver.moduleExportsSomeValue(node.moduleSpecifier)){externalImports.push(node);hasExportStarsToExportValues=true;}}
else if(resolver.isValueAliasDeclaration(node)){externalImports.push(node);}}
else{for(var _c=0,_d=node.exportClause.elements;_c<_d.length;_c++){var specifier=_d[_c];var name_28=(specifier.propertyName||specifier.name).text;(exportSpecifiers[name_28]||(exportSpecifiers[name_28]=[])).push(specifier);}}
break;case 230 :if(node.isExportEquals&&!exportEquals){exportEquals=node;}
break;}}}
function emitExportStarHelper(){if(hasExportStarsToExportValues){writeLine();write("function __export(m) {");increaseIndent();writeLine();write("for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];");decreaseIndent();writeLine();write("}");}}
function getLocalNameForExternalImport(node){var namespaceDeclaration=getNamespaceDeclarationNode(node);if(namespaceDeclaration&&!isDefaultImport(node)){return ts.getTextOfNodeFromSourceText(currentText,namespaceDeclaration.name);}
if(node.kind===225 &&node.importClause){return getGeneratedNameForNode(node);}
if(node.kind===231 &&node.moduleSpecifier){return getGeneratedNameForNode(node);}}
function getExternalModuleNameText(importNode,emitRelativePathAsModuleName){if(emitRelativePathAsModuleName){var name_29=getExternalModuleNameFromDeclaration(host,resolver,importNode);if(name_29){return"\""+name_29+"\"";}}
var moduleName=ts.getExternalModuleName(importNode);if(moduleName.kind===9 ){return tryRenameExternalModule(moduleName)||getLiteralText(moduleName);}
return undefined;}
function emitVariableDeclarationsForImports(){if(externalImports.length===0){return;}
writeLine();var started=false;for(var _a=0,externalImports_1=externalImports;_a<externalImports_1.length;_a++){var importNode=externalImports_1[_a];var skipNode=importNode.kind===231 ||(importNode.kind===225 &&!importNode.importClause);if(skipNode){continue;}
if(!started){write("var ");started=true;}
else{write(", ");}
write(getLocalNameForExternalImport(importNode));}
if(started){write(";");}}
function emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations){if(!hasExportStarsToExportValues){return undefined;}
if(!exportedDeclarations&&ts.isEmpty(exportSpecifiers)){var hasExportDeclarationWithExportClause=false;for(var _a=0,externalImports_2=externalImports;_a<externalImports_2.length;_a++){var externalImport=externalImports_2[_a];if(externalImport.kind===231 &&externalImport.exportClause){hasExportDeclarationWithExportClause=true;break;}}
if(!hasExportDeclarationWithExportClause){return emitExportStarFunction(undefined);}}
var exportedNamesStorageRef=makeUniqueName("exportedNames");writeLine();write("var "+exportedNamesStorageRef+" = {");increaseIndent();var started=false;if(exportedDeclarations){for(var i=0;i<exportedDeclarations.length;i++){writeExportedName(exportedDeclarations[i]);}}
if(exportSpecifiers){for(var n in exportSpecifiers){for(var _b=0,_c=exportSpecifiers[n];_b<_c.length;_b++){var specifier=_c[_b];writeExportedName(specifier.name);}}}
for(var _d=0,externalImports_3=externalImports;_d<externalImports_3.length;_d++){var externalImport=externalImports_3[_d];if(externalImport.kind!==231 ){continue;}
var exportDecl=externalImport;if(!exportDecl.exportClause){continue;}
for(var _e=0,_f=exportDecl.exportClause.elements;_e<_f.length;_e++){var element=_f[_e];writeExportedName(element.name||element.propertyName);}}
decreaseIndent();writeLine();write("};");return emitExportStarFunction(exportedNamesStorageRef);function emitExportStarFunction(localNames){var exportStarFunction=makeUniqueName("exportStar");writeLine();write("function "+exportStarFunction+"(m) {");increaseIndent();writeLine();write("var exports = {};");writeLine();write("for(var n in m) {");increaseIndent();writeLine();write("if (n !== \"default\"");if(localNames){write("&& !"+localNames+".hasOwnProperty(n)");}
write(") exports[n] = m[n];");decreaseIndent();writeLine();write("}");writeLine();write(exportFunctionForFile+"(exports);");decreaseIndent();writeLine();write("}");return exportStarFunction;}
function writeExportedName(node){if(node.kind!==69 &&node.flags&512 ){return;}
if(started){write(",");}
else{started=true;}
writeLine();write("'");if(node.kind===69 ){emitNodeWithCommentsAndWithoutSourcemap(node);}
else{emitDeclarationName(node);}
write("': true");}}
function processTopLevelVariableAndFunctionDeclarations(node){var hoistedVars;var hoistedFunctionDeclarations;var exportedDeclarations;visit(node);if(hoistedVars){writeLine();write("var ");var seen={};for(var i=0;i<hoistedVars.length;i++){var local=hoistedVars[i];var name_30=local.kind===69 ?local:local.name;if(name_30){var text=ts.unescapeIdentifier(name_30.text);if(ts.hasProperty(seen,text)){continue;}
else{seen[text]=text;}}
if(i!==0){write(", ");}
if(local.kind===217 ||local.kind===221 ||local.kind===220 ){emitDeclarationName(local);}
else{emit(local);}
var flags=ts.getCombinedNodeFlags(local.kind===69 ?local.parent:local);if(flags&2 ){if(!exportedDeclarations){exportedDeclarations=[];}
exportedDeclarations.push(local);}}
write(";");}
if(hoistedFunctionDeclarations){for(var _a=0,hoistedFunctionDeclarations_1=hoistedFunctionDeclarations;_a<hoistedFunctionDeclarations_1.length;_a++){var f=hoistedFunctionDeclarations_1[_a];writeLine();emit(f);if(f.flags&2 ){if(!exportedDeclarations){exportedDeclarations=[];}
exportedDeclarations.push(f);}}}
return exportedDeclarations;function visit(node){if(node.flags&4 ){return;}
if(node.kind===216 ){if(!hoistedFunctionDeclarations){hoistedFunctionDeclarations=[];}
hoistedFunctionDeclarations.push(node);return;}
if(node.kind===217 ){if(!hoistedVars){hoistedVars=[];}
hoistedVars.push(node);return;}
if(node.kind===220 ){if(shouldEmitEnumDeclaration(node)){if(!hoistedVars){hoistedVars=[];}
hoistedVars.push(node);}
return;}
if(node.kind===221 ){if(shouldEmitModuleDeclaration(node)){if(!hoistedVars){hoistedVars=[];}
hoistedVars.push(node);}
return;}
if(node.kind===214 ||node.kind===166 ){if(shouldHoistVariable(node,false)){var name_31=node.name;if(name_31.kind===69 ){if(!hoistedVars){hoistedVars=[];}
hoistedVars.push(name_31);}
else{ts.forEachChild(name_31,visit);}}
return;}
if(ts.isInternalModuleImportEqualsDeclaration(node)&&resolver.isValueAliasDeclaration(node)){if(!hoistedVars){hoistedVars=[];}
hoistedVars.push(node.name);return;}
if(ts.isBindingPattern(node)){ts.forEach(node.elements,visit);return;}
if(!ts.isDeclaration(node)){ts.forEachChild(node,visit);}}}
function shouldHoistVariable(node,checkIfSourceFileLevelDecl){if(checkIfSourceFileLevelDecl&&!shouldHoistDeclarationInSystemJsModule(node)){return false;}
return(ts.getCombinedNodeFlags(node)&24576 )===0||ts.getEnclosingBlockScopeContainer(node).kind===251 ;}
function isCurrentFileSystemExternalModule(){return modulekind===4 &&isCurrentFileExternalModule;}
function emitSystemModuleBody(node,dependencyGroups,startIndex){emitVariableDeclarationsForImports();writeLine();var exportedDeclarations=processTopLevelVariableAndFunctionDeclarations(node);var exportStarFunction=emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations);writeLine();write("return {");increaseIndent();writeLine();emitSetters(exportStarFunction,dependencyGroups);writeLine();emitExecute(node,startIndex);decreaseIndent();writeLine();write("}");emitTempDeclarations(true);}
function emitSetters(exportStarFunction,dependencyGroups){write("setters:[");for(var i=0;i<dependencyGroups.length;i++){if(i!==0){write(",");}
writeLine();increaseIndent();var group=dependencyGroups[i];var parameterName=makeUniqueName(ts.forEach(group,getLocalNameForExternalImport)||"");write("function ("+parameterName+") {");increaseIndent();for(var _a=0,group_1=group;_a<group_1.length;_a++){var entry=group_1[_a];var importVariableName=getLocalNameForExternalImport(entry)||"";switch(entry.kind){case 225 :if(!entry.importClause){break;}
case 224 :ts.Debug.assert(importVariableName!=="");writeLine();write(importVariableName+" = "+parameterName+";");writeLine();break;case 231 :ts.Debug.assert(importVariableName!=="");if(entry.exportClause){writeLine();write(exportFunctionForFile+"({");writeLine();increaseIndent();for(var i_1=0,len=entry.exportClause.elements.length;i_1<len;i_1++){if(i_1!==0){write(",");writeLine();}
var e=entry.exportClause.elements[i_1];write("\"");emitNodeWithCommentsAndWithoutSourcemap(e.name);write("\": "+parameterName+"[\"");emitNodeWithCommentsAndWithoutSourcemap(e.propertyName||e.name);write("\"]");}
decreaseIndent();writeLine();write("});");}
else{writeLine();write(exportStarFunction+"("+parameterName+");");}
writeLine();break;}}
decreaseIndent();write("}");decreaseIndent();}
write("],");}
function emitExecute(node,startIndex){write("execute: function() {");increaseIndent();writeLine();for(var i=startIndex;i<node.statements.length;i++){var statement=node.statements[i];switch(statement.kind){case 216 :case 225 :continue;case 231 :if(!statement.moduleSpecifier){for(var _a=0,_b=statement.exportClause.elements;_a<_b.length;_a++){var element=_b[_a];emitExportSpecifierInSystemModule(element);}}
continue;case 224 :if(!ts.isInternalModuleImportEqualsDeclaration(statement)){continue;}
default:writeLine();emit(statement);}}
decreaseIndent();writeLine();write("}");}
function writeModuleName(node,emitRelativePathAsModuleName){var moduleName=node.moduleName;if(moduleName||(emitRelativePathAsModuleName&&(moduleName=getResolvedExternalModuleName(host,node)))){write("\""+moduleName+"\", ");}}
function emitSystemModule(node,emitRelativePathAsModuleName){collectExternalModuleInfo(node);ts.Debug.assert(!exportFunctionForFile);exportFunctionForFile=makeUniqueName("exports");contextObjectForFile=makeUniqueName("context");writeLine();write("System.register(");writeModuleName(node,emitRelativePathAsModuleName);write("[");var groupIndices={};var dependencyGroups=[];for(var i=0;i<externalImports.length;i++){var text=getExternalModuleNameText(externalImports[i],emitRelativePathAsModuleName);if(text===undefined){continue;}
var key=text.substr(1,text.length-2);if(ts.hasProperty(groupIndices,key)){var groupIndex=groupIndices[key];dependencyGroups[groupIndex].push(externalImports[i]);continue;}
else{groupIndices[key]=dependencyGroups.length;dependencyGroups.push([externalImports[i]]);}
if(i!==0){write(", ");}
write(text);}
write("], function("+exportFunctionForFile+", "+contextObjectForFile+") {");writeLine();increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true,!compilerOptions.noImplicitUseStrict);writeLine();write("var __moduleName = "+contextObjectForFile+" && "+contextObjectForFile+".id;");writeLine();emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitSystemModuleBody(node,dependencyGroups,startIndex);decreaseIndent();writeLine();write("});");}
function getAMDDependencyNames(node,includeNonAmdDependencies,emitRelativePathAsModuleName){var aliasedModuleNames=[];var unaliasedModuleNames=[];var importAliasNames=[];for(var _a=0,_b=node.amdDependencies;_a<_b.length;_a++){var amdDependency=_b[_a];if(amdDependency.name){aliasedModuleNames.push("\""+amdDependency.path+"\"");importAliasNames.push(amdDependency.name);}
else{unaliasedModuleNames.push("\""+amdDependency.path+"\"");}}
for(var _c=0,externalImports_4=externalImports;_c<externalImports_4.length;_c++){var importNode=externalImports_4[_c];var externalModuleName=getExternalModuleNameText(importNode,emitRelativePathAsModuleName);var importAliasName=getLocalNameForExternalImport(importNode);if(includeNonAmdDependencies&&importAliasName){aliasedModuleNames.push(externalModuleName);importAliasNames.push(importAliasName);}
else{unaliasedModuleNames.push(externalModuleName);}}
return{aliasedModuleNames:aliasedModuleNames,unaliasedModuleNames:unaliasedModuleNames,importAliasNames:importAliasNames};}
function emitAMDDependencies(node,includeNonAmdDependencies,emitRelativePathAsModuleName){var dependencyNames=getAMDDependencyNames(node,includeNonAmdDependencies,emitRelativePathAsModuleName);emitAMDDependencyList(dependencyNames);write(", ");emitAMDFactoryHeader(dependencyNames);}
function emitAMDDependencyList(_a){var aliasedModuleNames=_a.aliasedModuleNames,unaliasedModuleNames=_a.unaliasedModuleNames;write("[\"require\", \"exports\"");if(aliasedModuleNames.length){write(", ");write(aliasedModuleNames.join(", "));}
if(unaliasedModuleNames.length){write(", ");write(unaliasedModuleNames.join(", "));}
write("]");}
function emitAMDFactoryHeader(_a){var importAliasNames=_a.importAliasNames;write("function (require, exports");if(importAliasNames.length){write(", ");write(importAliasNames.join(", "));}
write(") {");}
function emitAMDModule(node,emitRelativePathAsModuleName){emitEmitHelpers(node);collectExternalModuleInfo(node);writeLine();write("define(");writeModuleName(node,emitRelativePathAsModuleName);emitAMDDependencies(node,true,emitRelativePathAsModuleName);increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true,!compilerOptions.noImplicitUseStrict);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(true);decreaseIndent();writeLine();write("});");}
function emitCommonJSModule(node){var startIndex=emitDirectivePrologues(node.statements,false,!compilerOptions.noImplicitUseStrict);emitEmitHelpers(node);collectExternalModuleInfo(node);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(false);}
function emitUMDModule(node){emitEmitHelpers(node);collectExternalModuleInfo(node);var dependencyNames=getAMDDependencyNames(node,false);writeLines("(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define(");emitAMDDependencyList(dependencyNames);write(", factory);");writeLines("    }\n})(");emitAMDFactoryHeader(dependencyNames);increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true,!compilerOptions.noImplicitUseStrict);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(true);decreaseIndent();writeLine();write("});");}
function emitES6Module(node){externalImports=undefined;exportSpecifiers=undefined;exportEquals=undefined;hasExportStarsToExportValues=false;var startIndex=emitDirectivePrologues(node.statements,false);emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);}
function emitExportEquals(emitAsReturn){if(exportEquals&&resolver.isValueAliasDeclaration(exportEquals)){writeLine();emitStart(exportEquals);write(emitAsReturn?"return ":"module.exports = ");emit(exportEquals.expression);write(";");emitEnd(exportEquals);}}
function emitJsxElement(node){switch(compilerOptions.jsx){case 2 :jsxEmitReact(node);break;case 1 :default:jsxEmitPreserve(node);break;}}
function trimReactWhitespaceAndApplyEntities(node){var result=undefined;var text=ts.getTextOfNode(node,true);var firstNonWhitespace=0;var lastNonWhitespace=-1;for(var i=0;i<text.length;i++){var c=text.charCodeAt(i);if(ts.isLineBreak(c)){if(firstNonWhitespace!==-1&&(lastNonWhitespace-firstNonWhitespace+1>0)){var part=text.substr(firstNonWhitespace,lastNonWhitespace-firstNonWhitespace+1);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part);}
firstNonWhitespace=-1;}
else if(!ts.isWhiteSpace(c)){lastNonWhitespace=i;if(firstNonWhitespace===-1){firstNonWhitespace=i;}}}
if(firstNonWhitespace!==-1){var part=text.substr(firstNonWhitespace);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part);}
if(result){result=result.replace(/&(\w+);/g,function(s,m){if(entities[m]!==undefined){var ch=String.fromCharCode(entities[m]);return ch==="\""?"\\\"":ch;}
else{return s;}});}
return result;}
function getTextToEmit(node){switch(compilerOptions.jsx){case 2 :var text=trimReactWhitespaceAndApplyEntities(node);if(text===undefined||text.length===0){return undefined;}
else{return text;}
case 1 :default:return ts.getTextOfNode(node,true);}}
function emitJsxText(node){switch(compilerOptions.jsx){case 2 :write("\"");write(trimReactWhitespaceAndApplyEntities(node));write("\"");break;case 1 :default:writer.writeLiteral(ts.getTextOfNode(node,true));break;}}
function emitJsxExpression(node){if(node.expression){switch(compilerOptions.jsx){case 1 :default:write("{");emit(node.expression);write("}");break;case 2 :emit(node.expression);break;}}}
function isUseStrictPrologue(node){return!!node.expression.text.match(/use strict/);}
function ensureUseStrictPrologue(startWithNewLine,writeUseStrict){if(writeUseStrict){if(startWithNewLine){writeLine();}
write("\"use strict\";");}}
function emitDirectivePrologues(statements,startWithNewLine,ensureUseStrict){var foundUseStrict=false;for(var i=0;i<statements.length;i++){if(ts.isPrologueDirective(statements[i])){if(isUseStrictPrologue(statements[i])){foundUseStrict=true;}
if(startWithNewLine||i>0){writeLine();}
emit(statements[i]);}
else{ensureUseStrictPrologue(startWithNewLine||i>0,!foundUseStrict&&ensureUseStrict);return i;}}
ensureUseStrictPrologue(startWithNewLine,!foundUseStrict&&ensureUseStrict);return statements.length;}
function writeLines(text){var lines=text.split(/\r\n|\r|\n/g);for(var i=0;i<lines.length;i++){var line=lines[i];if(line.length){writeLine();write(line);}}}
function emitEmitHelpers(node){if(!compilerOptions.noEmitHelpers){if((languageVersion<2 )&&(!extendsEmitted&&node.flags&4194304 )){writeLines(extendsHelper);extendsEmitted=true;}
if(!decorateEmitted&&node.flags&8388608 ){writeLines(decorateHelper);if(compilerOptions.emitDecoratorMetadata){writeLines(metadataHelper);}
decorateEmitted=true;}
if(!paramEmitted&&node.flags&16777216 ){writeLines(paramHelper);paramEmitted=true;}
if(!awaiterEmitted&&node.flags&33554432 ){writeLines(awaiterHelper);awaiterEmitted=true;}}}
function emitSourceFileNode(node){writeLine();emitShebang();emitDetachedCommentsAndUpdateCommentsInfo(node);if(ts.isExternalModule(node)||compilerOptions.isolatedModules){if(isOwnFileEmit||(!ts.isExternalModule(node)&&compilerOptions.isolatedModules)){var emitModule=moduleEmitDelegates[modulekind]||moduleEmitDelegates[1 ];emitModule(node);}
else{bundleEmitDelegates[modulekind](node,true);}}
else{var startIndex=emitDirectivePrologues(node.statements,false);externalImports=undefined;exportSpecifiers=undefined;exportEquals=undefined;hasExportStarsToExportValues=false;emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);}
emitLeadingComments(node.endOfFileToken);}
function emit(node){emitNodeConsideringCommentsOption(node,emitNodeWithSourceMap);}
function emitNodeWithCommentsAndWithoutSourcemap(node){emitNodeConsideringCommentsOption(node,emitNodeWithoutSourceMap);}
function emitNodeConsideringCommentsOption(node,emitNodeConsideringSourcemap){if(node){if(node.flags&4 ){return emitCommentsOnNotEmittedNode(node);}
if(isSpecializedCommentHandling(node)){return emitNodeWithoutSourceMap(node);}
var emitComments_1=shouldEmitLeadingAndTrailingComments(node);if(emitComments_1){emitLeadingComments(node);}
emitNodeConsideringSourcemap(node);if(emitComments_1){emitTrailingComments(node);}}}
function emitNodeWithSourceMap(node){if(node){emitStart(node);emitNodeWithoutSourceMap(node);emitEnd(node);}}
function emitNodeWithoutSourceMap(node){if(node){emitJavaScriptWorker(node);}}
function changeSourceMapEmit(writer){sourceMap=writer;emitStart=writer.emitStart;emitEnd=writer.emitEnd;emitPos=writer.emitPos;setSourceFile=writer.setSourceFile;}
function withTemporaryNoSourceMap(callback){var prevSourceMap=sourceMap;setSourceMapWriterEmit(ts.getNullSourceMapWriter());callback();setSourceMapWriterEmit(prevSourceMap);}
function isSpecializedCommentHandling(node){switch(node.kind){case 218 :case 216 :case 225 :case 224 :case 219 :case 230 :return true;}}
function shouldEmitLeadingAndTrailingComments(node){switch(node.kind){case 196 :return shouldEmitLeadingAndTrailingCommentsForVariableStatement(node);case 221 :return shouldEmitModuleDeclaration(node);case 220 :return shouldEmitEnumDeclaration(node);}
ts.Debug.assert(!isSpecializedCommentHandling(node));if(node.kind!==195 &&node.parent&&node.parent.kind===177 &&node.parent.body===node&&compilerOptions.target<=1 ){return false;}
return true;}
function emitJavaScriptWorker(node){switch(node.kind){case 69 :return emitIdentifier(node);case 139 :return emitParameter(node);case 144 :case 143 :return emitMethod(node);case 146 :case 147 :return emitAccessor(node);case 97 :return emitThis(node);case 95 :return emitSuper(node);case 93 :return write("null");case 99 :return write("true");case 84 :return write("false");case 8 :case 9 :case 10 :case 11 :case 12 :case 13 :case 14 :return emitLiteral(node);case 186 :return emitTemplateExpression(node);case 193 :return emitTemplateSpan(node);case 236 :case 237 :return emitJsxElement(node);case 239 :return emitJsxText(node);case 243 :return emitJsxExpression(node);case 136 :return emitQualifiedName(node);case 164 :return emitObjectBindingPattern(node);case 165 :return emitArrayBindingPattern(node);case 166 :return emitBindingElement(node);case 167 :return emitArrayLiteral(node);case 168 :return emitObjectLiteral(node);case 248 :return emitPropertyAssignment(node);case 249 :return emitShorthandPropertyAssignment(node);case 137 :return emitComputedPropertyName(node);case 169 :return emitPropertyAccess(node);case 170 :return emitIndexedAccess(node);case 171 :return emitCallExpression(node);case 172 :return emitNewExpression(node);case 173 :return emitTaggedTemplateExpression(node);case 174 :return emit(node.expression);case 192 :return emit(node.expression);case 175 :return emitParenExpression(node);case 216 :case 176 :case 177 :return emitFunctionDeclaration(node);case 178 :return emitDeleteExpression(node);case 179 :return emitTypeOfExpression(node);case 180 :return emitVoidExpression(node);case 181 :return emitAwaitExpression(node);case 182 :return emitPrefixUnaryExpression(node);case 183 :return emitPostfixUnaryExpression(node);case 184 :return emitBinaryExpression(node);case 185 :return emitConditionalExpression(node);case 188 :return emitSpreadElementExpression(node);case 187 :return emitYieldExpression(node);case 190 :return;case 195 :case 222 :return emitBlock(node);case 196 :return emitVariableStatement(node);case 197 :return write(";");case 198 :return emitExpressionStatement(node);case 199 :return emitIfStatement(node);case 200 :return emitDoStatement(node);case 201 :return emitWhileStatement(node);case 202 :return emitForStatement(node);case 204 :case 203 :return emitForInOrForOfStatement(node);case 205 :case 206 :return emitBreakOrContinueStatement(node);case 207 :return emitReturnStatement(node);case 208 :return emitWithStatement(node);case 209 :return emitSwitchStatement(node);case 244 :case 245 :return emitCaseOrDefaultClause(node);case 210 :return emitLabeledStatement(node);case 211 :return emitThrowStatement(node);case 212 :return emitTryStatement(node);case 247 :return emitCatchClause(node);case 213 :return emitDebuggerStatement(node);case 214 :return emitVariableDeclaration(node);case 189 :return emitClassExpression(node);case 217 :return emitClassDeclaration(node);case 218 :return emitInterfaceDeclaration(node);case 220 :return emitEnumDeclaration(node);case 250 :return emitEnumMember(node);case 221 :return emitModuleDeclaration(node);case 225 :return emitImportDeclaration(node);case 224 :return emitImportEqualsDeclaration(node);case 231 :return emitExportDeclaration(node);case 230 :return emitExportAssignment(node);case 251 :return emitSourceFileNode(node);}}
function hasDetachedComments(pos){return detachedCommentsInfo!==undefined&&ts.lastOrUndefined(detachedCommentsInfo).nodePos===pos;}
function getLeadingCommentsWithoutDetachedComments(){var leadingComments=ts.getLeadingCommentRanges(currentText,ts.lastOrUndefined(detachedCommentsInfo).detachedCommentEndPos);if(detachedCommentsInfo.length-1){detachedCommentsInfo.pop();}
else{detachedCommentsInfo=undefined;}
return leadingComments;}
function isTripleSlashComment(comment){if(currentText.charCodeAt(comment.pos+1)===47 &&comment.pos+2<comment.end&&currentText.charCodeAt(comment.pos+2)===47 ){var textSubStr=currentText.substring(comment.pos,comment.end);return textSubStr.match(ts.fullTripleSlashReferencePathRegEx)||textSubStr.match(ts.fullTripleSlashAMDReferencePathRegEx)?true:false;}
return false;}
function getLeadingCommentsToEmit(node){if(node.parent){if(node.parent.kind===251 ||node.pos!==node.parent.pos){if(hasDetachedComments(node.pos)){return getLeadingCommentsWithoutDetachedComments();}
else{return ts.getLeadingCommentRangesOfNodeFromText(node,currentText);}}}}
function getTrailingCommentsToEmit(node){if(node.parent){if(node.parent.kind===251 ||node.end!==node.parent.end){return ts.getTrailingCommentRanges(currentText,node.end);}}}
function emitCommentsOnNotEmittedNode(node){emitLeadingCommentsWorker(node,false);}
function emitLeadingComments(node){return emitLeadingCommentsWorker(node,true);}
function emitLeadingCommentsWorker(node,isEmittedNode){if(compilerOptions.removeComments){return;}
var leadingComments;if(isEmittedNode){leadingComments=getLeadingCommentsToEmit(node);}
else{if(node.pos===0){leadingComments=ts.filter(getLeadingCommentsToEmit(node),isTripleSlashComment);}}
ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,node,leadingComments);ts.emitComments(currentText,currentLineMap,writer,leadingComments,true,newLine,writeComment);}
function emitTrailingComments(node){if(compilerOptions.removeComments){return;}
var trailingComments=getTrailingCommentsToEmit(node);ts.emitComments(currentText,currentLineMap,writer,trailingComments,false,newLine,writeComment);}
function emitTrailingCommentsOfPosition(pos){if(compilerOptions.removeComments){return;}
var trailingComments=ts.getTrailingCommentRanges(currentText,pos);ts.emitComments(currentText,currentLineMap,writer,trailingComments,true,newLine,writeComment);}
function emitLeadingCommentsOfPositionWorker(pos){if(compilerOptions.removeComments){return;}
var leadingComments;if(hasDetachedComments(pos)){leadingComments=getLeadingCommentsWithoutDetachedComments();}
else{leadingComments=ts.getLeadingCommentRanges(currentText,pos);}
ts.emitNewLineBeforeLeadingComments(currentLineMap,writer,{pos:pos,end:pos},leadingComments);ts.emitComments(currentText,currentLineMap,writer,leadingComments,true,newLine,writeComment);}
function emitDetachedCommentsAndUpdateCommentsInfo(node){var currentDetachedCommentInfo=ts.emitDetachedComments(currentText,currentLineMap,writer,writeComment,node,newLine,compilerOptions.removeComments);if(currentDetachedCommentInfo){if(detachedCommentsInfo){detachedCommentsInfo.push(currentDetachedCommentInfo);}
else{detachedCommentsInfo=[currentDetachedCommentInfo];}}}
function writeComment(text,lineMap,writer,comment,newLine){emitPos(comment.pos);ts.writeCommentRange(text,lineMap,writer,comment,newLine);emitPos(comment.end);}
function emitShebang(){var shebang=ts.getShebang(currentText);if(shebang){write(shebang);writeLine();}}
var _a,_b;}
function emitFile(_a,sourceFiles,isBundledEmit){var jsFilePath=_a.jsFilePath,sourceMapFilePath=_a.sourceMapFilePath,declarationFilePath=_a.declarationFilePath;if(!host.isEmitBlocked(jsFilePath)&&!compilerOptions.noEmit){emitJavaScript(jsFilePath,sourceMapFilePath,sourceFiles,isBundledEmit);}
else{emitSkipped=true;}
if(declarationFilePath){emitSkipped=ts.writeDeclarationFile(declarationFilePath,sourceFiles,isBundledEmit,host,resolver,emitterDiagnostics)||emitSkipped;}}}
ts.emitFiles=emitFiles;})(ts||(ts={}));var ts;(function(ts){ts.programTime=0;ts.emitTime=0;ts.ioReadTime=0;ts.ioWriteTime=0;ts.maxProgramSizeForNonTsFiles=20*1024*1024;var emptyArray=[];ts.version="1.8.9";function findConfigFile(searchPath,fileExists){var fileName="tsconfig.json";while(true){if(fileExists(fileName)){return fileName;}
var parentPath=ts.getDirectoryPath(searchPath);if(parentPath===searchPath){break;}
searchPath=parentPath;fileName="../"+fileName;}
return undefined;}
ts.findConfigFile=findConfigFile;function resolveTripleslashReference(moduleName,containingFile){var basePath=ts.getDirectoryPath(containingFile);var referencedFileName=ts.isRootedDiskPath(moduleName)?moduleName:ts.combinePaths(basePath,moduleName);return ts.normalizePath(referencedFileName);}
ts.resolveTripleslashReference=resolveTripleslashReference;function resolveModuleName(moduleName,containingFile,compilerOptions,host){var moduleResolution=compilerOptions.moduleResolution!==undefined?compilerOptions.moduleResolution:ts.getEmitModuleKind(compilerOptions)===1 ?2 :1 ;switch(moduleResolution){case 2 :return nodeModuleNameResolver(moduleName,containingFile,compilerOptions,host);case 1 :return classicNameResolver(moduleName,containingFile,compilerOptions,host);}}
ts.resolveModuleName=resolveModuleName;function nodeModuleNameResolver(moduleName,containingFile,compilerOptions,host){var containingDirectory=ts.getDirectoryPath(containingFile);var supportedExtensions=ts.getSupportedExtensions(compilerOptions);if(ts.getRootLength(moduleName)!==0||nameStartsWithDotSlashOrDotDotSlash(moduleName)){var failedLookupLocations=[];var candidate=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName));var resolvedFileName=loadNodeModuleFromFile(supportedExtensions,candidate,failedLookupLocations,false,host);if(resolvedFileName){return{resolvedModule:{resolvedFileName:resolvedFileName},failedLookupLocations:failedLookupLocations};}
resolvedFileName=loadNodeModuleFromDirectory(supportedExtensions,candidate,failedLookupLocations,false,host);return resolvedFileName?{resolvedModule:{resolvedFileName:resolvedFileName},failedLookupLocations:failedLookupLocations}:{resolvedModule:undefined,failedLookupLocations:failedLookupLocations};}
else{return loadModuleFromNodeModules(moduleName,containingDirectory,host);}}
ts.nodeModuleNameResolver=nodeModuleNameResolver;function directoryProbablyExists(directoryName,host){return!host.directoryExists||host.directoryExists(directoryName);}
ts.directoryProbablyExists=directoryProbablyExists;function loadNodeModuleFromFile(extensions,candidate,failedLookupLocation,onlyRecordFailures,host){return ts.forEach(extensions,tryLoad);function tryLoad(ext){var fileName=ts.fileExtensionIs(candidate,ext)?candidate:candidate+ext;if(!onlyRecordFailures&&host.fileExists(fileName)){return fileName;}
else{failedLookupLocation.push(fileName);return undefined;}}}
function loadNodeModuleFromDirectory(extensions,candidate,failedLookupLocation,onlyRecordFailures,host){var packageJsonPath=ts.combinePaths(candidate,"package.json");var directoryExists=!onlyRecordFailures&&directoryProbablyExists(candidate,host);if(directoryExists&&host.fileExists(packageJsonPath)){var jsonContent=void 0;try{var jsonText=host.readFile(packageJsonPath);jsonContent=jsonText?JSON.parse(jsonText):{typings:undefined};}
catch(e){jsonContent={typings:undefined};}
if(typeof jsonContent.typings==="string"){var path=ts.normalizePath(ts.combinePaths(candidate,jsonContent.typings));var result=loadNodeModuleFromFile(extensions,path,failedLookupLocation,!directoryProbablyExists(ts.getDirectoryPath(path),host),host);if(result){return result;}}}
else{failedLookupLocation.push(packageJsonPath);}
return loadNodeModuleFromFile(extensions,ts.combinePaths(candidate,"index"),failedLookupLocation,!directoryExists,host);}
function loadModuleFromNodeModules(moduleName,directory,host){var failedLookupLocations=[];directory=ts.normalizeSlashes(directory);while(true){var baseName=ts.getBaseFileName(directory);if(baseName!=="node_modules"){var nodeModulesFolder=ts.combinePaths(directory,"node_modules");var nodeModulesFolderExists=directoryProbablyExists(nodeModulesFolder,host);var candidate=ts.normalizePath(ts.combinePaths(nodeModulesFolder,moduleName));var result=loadNodeModuleFromFile(ts.supportedTypeScriptExtensions,candidate,failedLookupLocations,!nodeModulesFolderExists,host);if(result){return{resolvedModule:{resolvedFileName:result,isExternalLibraryImport:true},failedLookupLocations:failedLookupLocations};}
result=loadNodeModuleFromDirectory(ts.supportedTypeScriptExtensions,candidate,failedLookupLocations,!nodeModulesFolderExists,host);if(result){return{resolvedModule:{resolvedFileName:result,isExternalLibraryImport:true},failedLookupLocations:failedLookupLocations};}}
var parentPath=ts.getDirectoryPath(directory);if(parentPath===directory){break;}
directory=parentPath;}
return{resolvedModule:undefined,failedLookupLocations:failedLookupLocations};}
function nameStartsWithDotSlashOrDotDotSlash(name){var i=name.lastIndexOf("./",1);return i===0||(i===1&&name.charCodeAt(0)===46 );}
function classicNameResolver(moduleName,containingFile,compilerOptions,host){if(moduleName.indexOf("!")!=-1){return{resolvedModule:undefined,failedLookupLocations:[]};}
var searchPath=ts.getDirectoryPath(containingFile);var searchName;var failedLookupLocations=[];var referencedSourceFile;var supportedExtensions=ts.getSupportedExtensions(compilerOptions);while(true){searchName=ts.normalizePath(ts.combinePaths(searchPath,moduleName));referencedSourceFile=ts.forEach(supportedExtensions,function(extension){if(extension===".tsx"&&!compilerOptions.jsx){return undefined;}
var candidate=searchName+extension;if(host.fileExists(candidate)){return candidate;}
else{failedLookupLocations.push(candidate);}});if(referencedSourceFile){break;}
var parentPath=ts.getDirectoryPath(searchPath);if(parentPath===searchPath){break;}
searchPath=parentPath;}
return referencedSourceFile?{resolvedModule:{resolvedFileName:referencedSourceFile},failedLookupLocations:failedLookupLocations}:{resolvedModule:undefined,failedLookupLocations:failedLookupLocations};}
ts.classicNameResolver=classicNameResolver;ts.defaultInitCompilerOptions={module:1 ,target:1 ,noImplicitAny:false,sourceMap:false};function createCompilerHost(options,setParentNodes){var existingDirectories={};function getCanonicalFileName(fileName){return ts.sys.useCaseSensitiveFileNames?fileName:fileName.toLowerCase();}
var unsupportedFileEncodingErrorCode=-2147024809;function getSourceFile(fileName,languageVersion,onError){var text;try{var start=new Date().getTime();text=ts.sys.readFile(fileName,options.charset);ts.ioReadTime+=new Date().getTime()-start;}
catch(e){if(onError){onError(e.number===unsupportedFileEncodingErrorCode?ts.createCompilerDiagnostic(ts.Diagnostics.Unsupported_file_encoding).messageText:e.message);}
text="";}
return text!==undefined?ts.createSourceFile(fileName,text,languageVersion,setParentNodes):undefined;}
function directoryExists(directoryPath){if(ts.hasProperty(existingDirectories,directoryPath)){return true;}
if(ts.sys.directoryExists(directoryPath)){existingDirectories[directoryPath]=true;return true;}
return false;}
function ensureDirectoriesExist(directoryPath){if(directoryPath.length>ts.getRootLength(directoryPath)&&!directoryExists(directoryPath)){var parentDirectory=ts.getDirectoryPath(directoryPath);ensureDirectoriesExist(parentDirectory);ts.sys.createDirectory(directoryPath);}}
function writeFile(fileName,data,writeByteOrderMark,onError){try{var start=new Date().getTime();ensureDirectoriesExist(ts.getDirectoryPath(ts.normalizePath(fileName)));ts.sys.writeFile(fileName,data,writeByteOrderMark);ts.ioWriteTime+=new Date().getTime()-start;}
catch(e){if(onError){onError(e.message);}}}
var newLine=ts.getNewLineCharacter(options);return{getSourceFile:getSourceFile,getDefaultLibFileName:function(options){return ts.combinePaths(ts.getDirectoryPath(ts.normalizePath(ts.sys.getExecutingFilePath())),ts.getDefaultLibFileName(options));},writeFile:writeFile,getCurrentDirectory:ts.memoize(function(){return ts.sys.getCurrentDirectory();}),useCaseSensitiveFileNames:function(){return ts.sys.useCaseSensitiveFileNames;},getCanonicalFileName:getCanonicalFileName,getNewLine:function(){return newLine;},fileExists:function(fileName){return ts.sys.fileExists(fileName);},readFile:function(fileName){return ts.sys.readFile(fileName);},directoryExists:function(directoryName){return ts.sys.directoryExists(directoryName);}};}
ts.createCompilerHost=createCompilerHost;function getPreEmitDiagnostics(program,sourceFile,cancellationToken){var diagnostics=program.getOptionsDiagnostics(cancellationToken).concat(program.getSyntacticDiagnostics(sourceFile,cancellationToken),program.getGlobalDiagnostics(cancellationToken),program.getSemanticDiagnostics(sourceFile,cancellationToken));if(program.getCompilerOptions().declaration){diagnostics=diagnostics.concat(program.getDeclarationDiagnostics(sourceFile,cancellationToken));}
return ts.sortAndDeduplicateDiagnostics(diagnostics);}
ts.getPreEmitDiagnostics=getPreEmitDiagnostics;function flattenDiagnosticMessageText(messageText,newLine){if(typeof messageText==="string"){return messageText;}
else{var diagnosticChain=messageText;var result="";var indent=0;while(diagnosticChain){if(indent){result+=newLine;for(var i=0;i<indent;i++){result+="  ";}}
result+=diagnosticChain.messageText;indent++;diagnosticChain=diagnosticChain.next;}
return result;}}
ts.flattenDiagnosticMessageText=flattenDiagnosticMessageText;function createProgram(rootNames,options,host,oldProgram){var program;var files=[];var fileProcessingDiagnostics=ts.createDiagnosticCollection();var programDiagnostics=ts.createDiagnosticCollection();var commonSourceDirectory;var diagnosticsProducingTypeChecker;var noDiagnosticsTypeChecker;var classifiableNames;var programSizeLimitExceeded=-1;var programSizeForNonTsFiles=0;var skipDefaultLib=options.noLib;var supportedExtensions=ts.getSupportedExtensions(options);var start=new Date().getTime();host=host||createCompilerHost(options);var hasEmitBlockingDiagnostics=ts.createFileMap(getCanonicalFileName);var currentDirectory=host.getCurrentDirectory();var resolveModuleNamesWorker=host.resolveModuleNames?(function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile);}):(function(moduleNames,containingFile){var resolvedModuleNames=[];var lookup={};for(var _i=0,moduleNames_1=moduleNames;_i<moduleNames_1.length;_i++){var moduleName=moduleNames_1[_i];var resolvedName=void 0;if(ts.hasProperty(lookup,moduleName)){resolvedName=lookup[moduleName];}
else{resolvedName=resolveModuleName(moduleName,containingFile,options,host).resolvedModule;lookup[moduleName]=resolvedName;}
resolvedModuleNames.push(resolvedName);}
return resolvedModuleNames;});var filesByName=ts.createFileMap();var filesByNameIgnoreCase=host.useCaseSensitiveFileNames()?ts.createFileMap(function(fileName){return fileName.toLowerCase();}):undefined;if(oldProgram){var oldOptions=oldProgram.getCompilerOptions();if((oldOptions.module!==options.module)||(oldOptions.noResolve!==options.noResolve)||(oldOptions.target!==options.target)||(oldOptions.noLib!==options.noLib)||(oldOptions.jsx!==options.jsx)||(oldOptions.allowJs!==options.allowJs)||(oldOptions.disableSizeLimit!==options.disableSizeLimit)){oldProgram=undefined;}}
if(!tryReuseStructureFromOldProgram()){ts.forEach(rootNames,function(name){return processRootFile(name,false);});if(!skipDefaultLib){processRootFile(host.getDefaultLibFileName(options),true);}}
oldProgram=undefined;program={getRootFileNames:function(){return rootNames;},getSourceFile:getSourceFile,getSourceFiles:function(){return files;},getCompilerOptions:function(){return options;},getSyntacticDiagnostics:getSyntacticDiagnostics,getOptionsDiagnostics:getOptionsDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getDeclarationDiagnostics:getDeclarationDiagnostics,getTypeChecker:getTypeChecker,getClassifiableNames:getClassifiableNames,getDiagnosticsProducingTypeChecker:getDiagnosticsProducingTypeChecker,getCommonSourceDirectory:getCommonSourceDirectory,emit:emit,getCurrentDirectory:function(){return currentDirectory;},getNodeCount:function(){return getDiagnosticsProducingTypeChecker().getNodeCount();},getIdentifierCount:function(){return getDiagnosticsProducingTypeChecker().getIdentifierCount();},getSymbolCount:function(){return getDiagnosticsProducingTypeChecker().getSymbolCount();},getTypeCount:function(){return getDiagnosticsProducingTypeChecker().getTypeCount();},getFileProcessingDiagnostics:function(){return fileProcessingDiagnostics;}};verifyCompilerOptions();ts.programTime+=new Date().getTime()-start;return program;function exceedProgramSizeLimit(){return!options.disableSizeLimit&&programSizeForNonTsFiles===programSizeLimitExceeded;}
function getCommonSourceDirectory(){if(typeof commonSourceDirectory==="undefined"){if(options.rootDir&&checkSourceFilesBelongToPath(files,options.rootDir)){commonSourceDirectory=ts.getNormalizedAbsolutePath(options.rootDir,currentDirectory);}
else{commonSourceDirectory=computeCommonSourceDirectory(files);}
if(commonSourceDirectory&&commonSourceDirectory[commonSourceDirectory.length-1]!==ts.directorySeparator){commonSourceDirectory+=ts.directorySeparator;}}
return commonSourceDirectory;}
function getClassifiableNames(){if(!classifiableNames){getTypeChecker();classifiableNames={};for(var _i=0,files_3=files;_i<files_3.length;_i++){var sourceFile=files_3[_i];ts.copyMap(sourceFile.classifiableNames,classifiableNames);}}
return classifiableNames;}
function tryReuseStructureFromOldProgram(){if(!oldProgram){return false;}
ts.Debug.assert(!oldProgram.structureIsReused);var oldRootNames=oldProgram.getRootFileNames();if(!ts.arrayIsEqualTo(oldRootNames,rootNames)){return false;}
var newSourceFiles=[];var filePaths=[];var modifiedSourceFiles=[];for(var _i=0,_a=oldProgram.getSourceFiles();_i<_a.length;_i++){var oldSourceFile=_a[_i];var newSourceFile=host.getSourceFile(oldSourceFile.fileName,options.target);if(!newSourceFile){return false;}
newSourceFile.path=oldSourceFile.path;filePaths.push(newSourceFile.path);if(oldSourceFile!==newSourceFile){if(oldSourceFile.hasNoDefaultLib!==newSourceFile.hasNoDefaultLib){return false;}
if(!ts.arrayIsEqualTo(oldSourceFile.referencedFiles,newSourceFile.referencedFiles,fileReferenceIsEqualTo)){return false;}
collectExternalModuleReferences(newSourceFile);if(!ts.arrayIsEqualTo(oldSourceFile.imports,newSourceFile.imports,moduleNameIsEqualTo)){return false;}
if(!ts.arrayIsEqualTo(oldSourceFile.moduleAugmentations,newSourceFile.moduleAugmentations,moduleNameIsEqualTo)){return false;}
if(resolveModuleNamesWorker){var moduleNames=ts.map(ts.concatenate(newSourceFile.imports,newSourceFile.moduleAugmentations),getTextOfLiteral);var resolutions=resolveModuleNamesWorker(moduleNames,ts.getNormalizedAbsolutePath(newSourceFile.fileName,currentDirectory));for(var i=0;i<moduleNames.length;i++){var newResolution=resolutions[i];var oldResolution=ts.getResolvedModule(oldSourceFile,moduleNames[i]);var resolutionChanged=oldResolution?!newResolution||oldResolution.resolvedFileName!==newResolution.resolvedFileName||!!oldResolution.isExternalLibraryImport!==!!newResolution.isExternalLibraryImport:newResolution;if(resolutionChanged){return false;}}}
newSourceFile.resolvedModules=oldSourceFile.resolvedModules;modifiedSourceFiles.push(newSourceFile);}
else{newSourceFile=oldSourceFile;}
newSourceFiles.push(newSourceFile);}
for(var i=0,len=newSourceFiles.length;i<len;i++){filesByName.set(filePaths[i],newSourceFiles[i]);}
files=newSourceFiles;fileProcessingDiagnostics=oldProgram.getFileProcessingDiagnostics();for(var _b=0,modifiedSourceFiles_1=modifiedSourceFiles;_b<modifiedSourceFiles_1.length;_b++){var modifiedFile=modifiedSourceFiles_1[_b];fileProcessingDiagnostics.reattachFileDiagnostics(modifiedFile);}
oldProgram.structureIsReused=true;return true;}
function getEmitHost(writeFileCallback){return{getCanonicalFileName:getCanonicalFileName,getCommonSourceDirectory:program.getCommonSourceDirectory,getCompilerOptions:program.getCompilerOptions,getCurrentDirectory:function(){return currentDirectory;},getNewLine:function(){return host.getNewLine();},getSourceFile:program.getSourceFile,getSourceFiles:program.getSourceFiles,writeFile:writeFileCallback||(function(fileName,data,writeByteOrderMark,onError){return host.writeFile(fileName,data,writeByteOrderMark,onError);}),isEmitBlocked:isEmitBlocked};}
function getDiagnosticsProducingTypeChecker(){return diagnosticsProducingTypeChecker||(diagnosticsProducingTypeChecker=ts.createTypeChecker(program,true));}
function getTypeChecker(){return noDiagnosticsTypeChecker||(noDiagnosticsTypeChecker=ts.createTypeChecker(program,false));}
function emit(sourceFile,writeFileCallback,cancellationToken){var _this=this;return runWithCancellationToken(function(){return emitWorker(_this,sourceFile,writeFileCallback,cancellationToken);});}
function isEmitBlocked(emitFileName){return hasEmitBlockingDiagnostics.contains(ts.toPath(emitFileName,currentDirectory,getCanonicalFileName));}
function emitWorker(program,sourceFile,writeFileCallback,cancellationToken){if(options.noEmitOnError){var diagnostics=program.getOptionsDiagnostics(cancellationToken).concat(program.getSyntacticDiagnostics(sourceFile,cancellationToken),program.getGlobalDiagnostics(cancellationToken),program.getSemanticDiagnostics(sourceFile,cancellationToken));var declarationDiagnostics=[];if(diagnostics.length===0&&program.getCompilerOptions().declaration){declarationDiagnostics=program.getDeclarationDiagnostics(undefined,cancellationToken);}
if(diagnostics.length>0||declarationDiagnostics.length>0){return{diagnostics:declarationDiagnostics,sourceMaps:undefined,emitSkipped:true};}}
var emitResolver=getDiagnosticsProducingTypeChecker().getEmitResolver((options.outFile||options.out)?undefined:sourceFile);var start=new Date().getTime();var emitResult=ts.emitFiles(emitResolver,getEmitHost(writeFileCallback),sourceFile);ts.emitTime+=new Date().getTime()-start;return emitResult;}
function getSourceFile(fileName){return filesByName.get(ts.toPath(fileName,currentDirectory,getCanonicalFileName));}
function getDiagnosticsHelper(sourceFile,getDiagnostics,cancellationToken){if(sourceFile){return getDiagnostics(sourceFile,cancellationToken);}
var allDiagnostics=[];ts.forEach(program.getSourceFiles(),function(sourceFile){if(cancellationToken){cancellationToken.throwIfCancellationRequested();}
ts.addRange(allDiagnostics,getDiagnostics(sourceFile,cancellationToken));});return ts.sortAndDeduplicateDiagnostics(allDiagnostics);}
function getSyntacticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSyntacticDiagnosticsForFile,cancellationToken);}
function getSemanticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSemanticDiagnosticsForFile,cancellationToken);}
function getDeclarationDiagnostics(sourceFile,cancellationToken){var options=program.getCompilerOptions();if(!sourceFile||options.out||options.outFile){return getDeclarationDiagnosticsWorker(sourceFile,cancellationToken);}
else{return getDiagnosticsHelper(sourceFile,getDeclarationDiagnosticsForFile,cancellationToken);}}
function getSyntacticDiagnosticsForFile(sourceFile,cancellationToken){return sourceFile.parseDiagnostics;}
function runWithCancellationToken(func){try{return func();}
catch(e){if(e instanceof ts.OperationCanceledException){noDiagnosticsTypeChecker=undefined;diagnosticsProducingTypeChecker=undefined;}
throw e;}}
function getSemanticDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){var typeChecker=getDiagnosticsProducingTypeChecker();ts.Debug.assert(!!sourceFile.bindDiagnostics);var bindDiagnostics=sourceFile.bindDiagnostics;var checkDiagnostics=ts.isSourceFileJavaScript(sourceFile)?getJavaScriptSemanticDiagnosticsForFile(sourceFile,cancellationToken):typeChecker.getDiagnostics(sourceFile,cancellationToken);var fileProcessingDiagnosticsInFile=fileProcessingDiagnostics.getDiagnostics(sourceFile.fileName);var programDiagnosticsInFile=programDiagnostics.getDiagnostics(sourceFile.fileName);return bindDiagnostics.concat(checkDiagnostics).concat(fileProcessingDiagnosticsInFile).concat(programDiagnosticsInFile);});}
function getJavaScriptSemanticDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){var diagnostics=[];walk(sourceFile);return diagnostics;function walk(node){if(!node){return false;}
switch(node.kind){case 224 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.import_can_only_be_used_in_a_ts_file));return true;case 230 :if(node.isExportEquals){diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.export_can_only_be_used_in_a_ts_file));return true;}
break;case 217 :var classDeclaration=node;if(checkModifiers(classDeclaration.modifiers)||checkTypeParameters(classDeclaration.typeParameters)){return true;}
break;case 246 :var heritageClause=node;if(heritageClause.token===106 ){diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file));return true;}
break;case 218 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file));return true;case 221 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file));return true;case 219 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file));return true;case 144 :case 143 :case 145 :case 146 :case 147 :case 176 :case 216 :case 177 :case 216 :var functionDeclaration=node;if(checkModifiers(functionDeclaration.modifiers)||checkTypeParameters(functionDeclaration.typeParameters)||checkTypeAnnotation(functionDeclaration.type)){return true;}
break;case 196 :var variableStatement=node;if(checkModifiers(variableStatement.modifiers)){return true;}
break;case 214 :var variableDeclaration=node;if(checkTypeAnnotation(variableDeclaration.type)){return true;}
break;case 171 :case 172 :var expression=node;if(expression.typeArguments&&expression.typeArguments.length>0){var start_2=expression.typeArguments.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start_2,expression.typeArguments.end-start_2,ts.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file));return true;}
break;case 139 :var parameter=node;if(parameter.modifiers){var start_3=parameter.modifiers.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start_3,parameter.modifiers.end-start_3,ts.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file));return true;}
if(parameter.questionToken){diagnostics.push(ts.createDiagnosticForNode(parameter.questionToken,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,"?"));return true;}
if(parameter.type){diagnostics.push(ts.createDiagnosticForNode(parameter.type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file));return true;}
break;case 142 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.property_declarations_can_only_be_used_in_a_ts_file));return true;case 220 :diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file));return true;case 174 :var typeAssertionExpression=node;diagnostics.push(ts.createDiagnosticForNode(typeAssertionExpression.type,ts.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file));return true;case 140 :if(!options.experimentalDecorators){diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_to_remove_this_warning));}
return true;}
return ts.forEachChild(node,walk);}
function checkTypeParameters(typeParameters){if(typeParameters){var start_4=typeParameters.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start_4,typeParameters.end-start_4,ts.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file));return true;}
return false;}
function checkTypeAnnotation(type){if(type){diagnostics.push(ts.createDiagnosticForNode(type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file));return true;}
return false;}
function checkModifiers(modifiers){if(modifiers){for(var _i=0,modifiers_1=modifiers;_i<modifiers_1.length;_i++){var modifier=modifiers_1[_i];switch(modifier.kind){case 112 :case 110 :case 111 :case 122 :diagnostics.push(ts.createDiagnosticForNode(modifier,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,ts.tokenToString(modifier.kind)));return true;case 113 :case 82 :case 74 :case 77 :case 115 :}}}
return false;}});}
function getDeclarationDiagnosticsWorker(sourceFile,cancellationToken){return runWithCancellationToken(function(){var resolver=getDiagnosticsProducingTypeChecker().getEmitResolver(sourceFile,cancellationToken);var writeFile=function(){};return ts.getDeclarationDiagnostics(getEmitHost(writeFile),resolver,sourceFile);});}
function getDeclarationDiagnosticsForFile(sourceFile,cancellationToken){return ts.isDeclarationFile(sourceFile)?[]:getDeclarationDiagnosticsWorker(sourceFile,cancellationToken);}
function getOptionsDiagnostics(){var allDiagnostics=[];ts.addRange(allDiagnostics,fileProcessingDiagnostics.getGlobalDiagnostics());ts.addRange(allDiagnostics,programDiagnostics.getGlobalDiagnostics());return ts.sortAndDeduplicateDiagnostics(allDiagnostics);}
function getGlobalDiagnostics(){var allDiagnostics=[];ts.addRange(allDiagnostics,getDiagnosticsProducingTypeChecker().getGlobalDiagnostics());return ts.sortAndDeduplicateDiagnostics(allDiagnostics);}
function hasExtension(fileName){return ts.getBaseFileName(fileName).indexOf(".")>=0;}
function processRootFile(fileName,isDefaultLib){processSourceFile(ts.normalizePath(fileName),isDefaultLib);}
function fileReferenceIsEqualTo(a,b){return a.fileName===b.fileName;}
function moduleNameIsEqualTo(a,b){return a.text===b.text;}
function getTextOfLiteral(literal){return literal.text;}
function collectExternalModuleReferences(file){if(file.imports){return;}
var isJavaScriptFile=ts.isSourceFileJavaScript(file);var isExternalModuleFile=ts.isExternalModule(file);var imports;var moduleAugmentations;for(var _i=0,_a=file.statements;_i<_a.length;_i++){var node=_a[_i];collectModuleReferences(node,false);if(isJavaScriptFile){collectRequireCalls(node);}}
file.imports=imports||emptyArray;file.moduleAugmentations=moduleAugmentations||emptyArray;return;function collectModuleReferences(node,inAmbientModule){switch(node.kind){case 225 :case 224 :case 231 :var moduleNameExpr=ts.getExternalModuleName(node);if(!moduleNameExpr||moduleNameExpr.kind!==9 ){break;}
if(!moduleNameExpr.text){break;}
if(!inAmbientModule||!ts.isExternalModuleNameRelative(moduleNameExpr.text)){(imports||(imports=[])).push(moduleNameExpr);}
break;case 221 :if(ts.isAmbientModule(node)&&(inAmbientModule||node.flags&4 ||ts.isDeclarationFile(file))){var moduleName=node.name;if(isExternalModuleFile||(inAmbientModule&&!ts.isExternalModuleNameRelative(moduleName.text))){(moduleAugmentations||(moduleAugmentations=[])).push(moduleName);}
else if(!inAmbientModule){for(var _i=0,_a=node.body.statements;_i<_a.length;_i++){var statement=_a[_i];collectModuleReferences(statement,true);}}}}}
function collectRequireCalls(node){if(ts.isRequireCall(node,true)){(imports||(imports=[])).push(node.arguments[0]);}
else{ts.forEachChild(node,collectRequireCalls);}}}
function processSourceFile(fileName,isDefaultLib,refFile,refPos,refEnd){var diagnosticArgument;var diagnostic;if(hasExtension(fileName)){if(!options.allowNonTsExtensions&&!ts.forEach(supportedExtensions,function(extension){return ts.fileExtensionIs(host.getCanonicalFileName(fileName),extension);})){diagnostic=ts.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1;diagnosticArgument=[fileName,"'"+supportedExtensions.join("', '")+"'"];}
else if(!findSourceFile(fileName,ts.toPath(fileName,currentDirectory,getCanonicalFileName),isDefaultLib,refFile,refPos,refEnd)){diagnostic=ts.Diagnostics.File_0_not_found;diagnosticArgument=[fileName];}
else if(refFile&&host.getCanonicalFileName(fileName)===host.getCanonicalFileName(refFile.fileName)){diagnostic=ts.Diagnostics.A_file_cannot_have_a_reference_to_itself;diagnosticArgument=[fileName];}}
else{var nonTsFile=options.allowNonTsExtensions&&findSourceFile(fileName,ts.toPath(fileName,currentDirectory,getCanonicalFileName),isDefaultLib,refFile,refPos,refEnd);if(!nonTsFile){if(options.allowNonTsExtensions){diagnostic=ts.Diagnostics.File_0_not_found;diagnosticArgument=[fileName];}
else if(!ts.forEach(supportedExtensions,function(extension){return findSourceFile(fileName+extension,ts.toPath(fileName+extension,currentDirectory,getCanonicalFileName),isDefaultLib,refFile,refPos,refEnd);})){diagnostic=ts.Diagnostics.File_0_not_found;fileName+=".ts";diagnosticArgument=[fileName];}}}
if(diagnostic&&!exceedProgramSizeLimit()){if(refFile!==undefined&&refEnd!==undefined&&refPos!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic.apply(void 0,[refFile,refPos,refEnd-refPos,diagnostic].concat(diagnosticArgument)));}
else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic.apply(void 0,[diagnostic].concat(diagnosticArgument)));}}}
function reportFileNamesDifferOnlyInCasingError(fileName,existingFileName,refFile,refPos,refEnd){if(refFile!==undefined&&refPos!==undefined&&refEnd!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,existingFileName));}
else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,existingFileName));}}
function findSourceFile(fileName,path,isDefaultLib,refFile,refPos,refEnd){if(filesByName.contains(path)){var file_1=filesByName.get(path);if(file_1&&options.forceConsistentCasingInFileNames&&ts.getNormalizedAbsolutePath(file_1.fileName,currentDirectory)!==ts.getNormalizedAbsolutePath(fileName,currentDirectory)){reportFileNamesDifferOnlyInCasingError(fileName,file_1.fileName,refFile,refPos,refEnd);}
return file_1;}
var isNonTsFile=!ts.hasTypeScriptFileExtension(fileName);if(isNonTsFile&&exceedProgramSizeLimit()){return undefined;}
var file=host.getSourceFile(fileName,options.target,function(hostErrorMessage){if(refFile!==undefined&&refPos!==undefined&&refEnd!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage));}
else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage));}});if(isNonTsFile&&!options.disableSizeLimit&&file&&file.text){programSizeForNonTsFiles+=file.text.length;if(programSizeForNonTsFiles>ts.maxProgramSizeForNonTsFiles){var commonSourceDirectory_1=getCommonSourceDirectory();var rootLevelDirectory=path.substring(0,Math.max(commonSourceDirectory_1.length,path.indexOf(ts.directorySeparator,commonSourceDirectory_1.length)));if(rootLevelDirectory[rootLevelDirectory.length-1]!==ts.directorySeparator){rootLevelDirectory+=ts.directorySeparator;}
programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Too_many_JavaScript_files_in_the_project_Consider_specifying_the_exclude_setting_in_project_configuration_to_limit_included_source_folders_The_likely_folder_to_exclude_is_0_To_disable_the_project_size_limit_set_the_disableSizeLimit_compiler_option_to_true,rootLevelDirectory));programSizeForNonTsFiles=programSizeLimitExceeded;return undefined;}}
filesByName.set(path,file);if(file){file.path=path;if(host.useCaseSensitiveFileNames()){var existingFile=filesByNameIgnoreCase.get(path);if(existingFile){reportFileNamesDifferOnlyInCasingError(fileName,existingFile.fileName,refFile,refPos,refEnd);}
else{filesByNameIgnoreCase.set(path,file);}}
skipDefaultLib=skipDefaultLib||file.hasNoDefaultLib;var basePath=ts.getDirectoryPath(fileName);if(!options.noResolve){processReferencedFiles(file,basePath);}
processImportedModules(file,basePath);if(isDefaultLib){files.unshift(file);}
else{files.push(file);}}
return file;}
function processReferencedFiles(file,basePath){ts.forEach(file.referencedFiles,function(ref){var referencedFileName=resolveTripleslashReference(ref.fileName,file.fileName);processSourceFile(referencedFileName,false,file,ref.pos,ref.end);});}
function getCanonicalFileName(fileName){return host.getCanonicalFileName(fileName);}
function processImportedModules(file,basePath){collectExternalModuleReferences(file);if(file.imports.length||file.moduleAugmentations.length){file.resolvedModules={};var moduleNames=ts.map(ts.concatenate(file.imports,file.moduleAugmentations),getTextOfLiteral);var resolutions=resolveModuleNamesWorker(moduleNames,ts.getNormalizedAbsolutePath(file.fileName,currentDirectory));for(var i=0;i<moduleNames.length;i++){var resolution=resolutions[i];ts.setResolvedModule(file,moduleNames[i],resolution);var shouldAddFile=resolution&&!options.noResolve&&i<file.imports.length;if(shouldAddFile){var importedFile=findSourceFile(resolution.resolvedFileName,ts.toPath(resolution.resolvedFileName,currentDirectory,getCanonicalFileName),false,file,ts.skipTrivia(file.text,file.imports[i].pos),file.imports[i].end);if(importedFile&&resolution.isExternalLibraryImport){if(!ts.isExternalModule(importedFile)&&importedFile.statements.length){var start_5=ts.getTokenPosOfNode(file.imports[i],file);fileProcessingDiagnostics.add(ts.createFileDiagnostic(file,start_5,file.imports[i].end-start_5,ts.Diagnostics.Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition,importedFile.fileName));}
else if(importedFile.referencedFiles.length){var firstRef=importedFile.referencedFiles[0];fileProcessingDiagnostics.add(ts.createFileDiagnostic(importedFile,firstRef.pos,firstRef.end-firstRef.pos,ts.Diagnostics.Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition));}}}}}
else{file.resolvedModules=undefined;}
return;}
function computeCommonSourceDirectory(sourceFiles){var commonPathComponents;var failed=ts.forEach(files,function(sourceFile){if(ts.isDeclarationFile(sourceFile)){return;}
var sourcePathComponents=ts.getNormalizedPathComponents(sourceFile.fileName,currentDirectory);sourcePathComponents.pop();if(!commonPathComponents){commonPathComponents=sourcePathComponents;return;}
for(var i=0,n=Math.min(commonPathComponents.length,sourcePathComponents.length);i<n;i++){if(getCanonicalFileName(commonPathComponents[i])!==getCanonicalFileName(sourcePathComponents[i])){if(i===0){return true;}
commonPathComponents.length=i;break;}}
if(sourcePathComponents.length<commonPathComponents.length){commonPathComponents.length=sourcePathComponents.length;}});if(failed){return"";}
if(!commonPathComponents){return currentDirectory;}
return ts.getNormalizedPathFromPathComponents(commonPathComponents);}
function checkSourceFilesBelongToPath(sourceFiles,rootDirectory){var allFilesBelongToPath=true;if(sourceFiles){var absoluteRootDirectoryPath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(rootDirectory,currentDirectory));for(var _i=0,sourceFiles_2=sourceFiles;_i<sourceFiles_2.length;_i++){var sourceFile=sourceFiles_2[_i];if(!ts.isDeclarationFile(sourceFile)){var absoluteSourceFilePath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(sourceFile.fileName,currentDirectory));if(absoluteSourceFilePath.indexOf(absoluteRootDirectoryPath)!==0){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,sourceFile.fileName,options.rootDir));allFilesBelongToPath=false;}}}}
return allFilesBelongToPath;}
function verifyCompilerOptions(){if(options.isolatedModules){if(options.declaration){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declaration","isolatedModules"));}
if(options.noEmitOnError){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmitOnError","isolatedModules"));}
if(options.out){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules"));}
if(options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"));}}
if(options.inlineSourceMap){if(options.sourceMap){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"));}
if(options.mapRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"));}}
if(options.inlineSources){if(!options.sourceMap&&!options.inlineSourceMap){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_inlineSources_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided));}
if(options.sourceRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceRoot","inlineSources"));}}
if(options.out&&options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile"));}
if(!options.sourceMap&&(options.mapRoot||options.sourceRoot)){if(options.mapRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"mapRoot","sourceMap"));}
if(options.sourceRoot&&!options.inlineSourceMap){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"sourceRoot","sourceMap"));}}
var languageVersion=options.target||0 ;var outFile=options.outFile||options.out;var firstExternalModuleSourceFile=ts.forEach(files,function(f){return ts.isExternalModule(f)?f:undefined;});if(options.isolatedModules){if(options.module===0 &&languageVersion<2 ){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher));}
var firstNonExternalModuleSourceFile=ts.forEach(files,function(f){return!ts.isExternalModule(f)&&!ts.isDeclarationFile(f)?f:undefined;});if(firstNonExternalModuleSourceFile){var span=ts.getErrorSpanForNode(firstNonExternalModuleSourceFile,firstNonExternalModuleSourceFile);programDiagnostics.add(ts.createFileDiagnostic(firstNonExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided));}}
else if(firstExternalModuleSourceFile&&languageVersion<2 &&options.module===0 ){var span=ts.getErrorSpanForNode(firstExternalModuleSourceFile,firstExternalModuleSourceFile.externalModuleIndicator);programDiagnostics.add(ts.createFileDiagnostic(firstExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_modules_unless_the_module_flag_is_provided_with_a_valid_module_type_Consider_setting_the_module_compiler_option_in_a_tsconfig_json_file));}
if(options.module===5 &&languageVersion<2 ){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_compile_modules_into_es2015_when_targeting_ES5_or_lower));}
if(outFile&&options.module&&!(options.module===2 ||options.module===4 )){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Only_amd_and_system_modules_are_supported_alongside_0,options.out?"out":"outFile"));}
if(options.outDir||options.sourceRoot||options.mapRoot){var dir=getCommonSourceDirectory();if(options.outDir&&dir===""&&ts.forEach(files,function(file){return ts.getRootLength(file.fileName)>1;})){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files));}}
if(options.noEmit){if(options.out){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","out"));}
if(options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","outFile"));}
if(options.outDir){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","outDir"));}
if(options.declaration){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","declaration"));}}
else if(options.allowJs&&options.declaration){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"allowJs","declaration"));}
if(options.emitDecoratorMetadata&&!options.experimentalDecorators){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators"));}
if(options.reactNamespace&&!ts.isIdentifier(options.reactNamespace,languageVersion)){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Invalide_value_for_reactNamespace_0_is_not_a_valid_identifier,options.reactNamespace));}
if(!options.noEmit&&!options.suppressOutputPathCheck){var emitHost=getEmitHost();var emitFilesSeen_1=ts.createFileMap(!host.useCaseSensitiveFileNames()?function(key){return key.toLocaleLowerCase();}:undefined);ts.forEachExpectedEmitFile(emitHost,function(emitFileNames,sourceFiles,isBundledEmit){verifyEmitFilePath(emitFileNames.jsFilePath,emitFilesSeen_1);verifyEmitFilePath(emitFileNames.declarationFilePath,emitFilesSeen_1);});}
function verifyEmitFilePath(emitFileName,emitFilesSeen){if(emitFileName){var emitFilePath=ts.toPath(emitFileName,currentDirectory,getCanonicalFileName);if(filesByName.contains(emitFilePath)){createEmitBlockingDiagnostics(emitFileName,emitFilePath,ts.Diagnostics.Cannot_write_file_0_because_it_would_overwrite_input_file);}
if(emitFilesSeen.contains(emitFilePath)){createEmitBlockingDiagnostics(emitFileName,emitFilePath,ts.Diagnostics.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files);}
else{emitFilesSeen.set(emitFilePath,true);}}}}
function createEmitBlockingDiagnostics(emitFileName,emitFilePath,message){hasEmitBlockingDiagnostics.set(ts.toPath(emitFileName,currentDirectory,getCanonicalFileName),true);programDiagnostics.add(ts.createCompilerDiagnostic(message,emitFileName));}}
ts.createProgram=createProgram;})(ts||(ts={}));var ts;(function(ts){ts.optionDeclarations=[{name:"charset",type:"string"},{name:"declaration",shortName:"d",type:"boolean",description:ts.Diagnostics.Generates_corresponding_d_ts_file},{name:"diagnostics",type:"boolean"},{name:"emitBOM",type:"boolean"},{name:"help",shortName:"h",type:"boolean",description:ts.Diagnostics.Print_this_message},{name:"init",type:"boolean",description:ts.Diagnostics.Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file},{name:"inlineSourceMap",type:"boolean"},{name:"inlineSources",type:"boolean"},{name:"jsx",type:{"preserve":1 ,"react":2 },paramType:ts.Diagnostics.KIND,description:ts.Diagnostics.Specify_JSX_code_generation_Colon_preserve_or_react,error:ts.Diagnostics.Argument_for_jsx_must_be_preserve_or_react},{name:"reactNamespace",type:"string",description:ts.Diagnostics.Specifies_the_object_invoked_for_createElement_and_spread_when_targeting_react_JSX_emit},{name:"listFiles",type:"boolean"},{name:"locale",type:"string"},{name:"mapRoot",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations,paramType:ts.Diagnostics.LOCATION},{name:"module",shortName:"m",type:{"none":0 ,"commonjs":1 ,"amd":2 ,"system":4 ,"umd":3 ,"es6":5 ,"es2015":5 },description:ts.Diagnostics.Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es2015,paramType:ts.Diagnostics.KIND,error:ts.Diagnostics.Argument_for_module_option_must_be_commonjs_amd_system_umd_es2015_or_none},{name:"newLine",type:{"crlf":0 ,"lf":1 },description:ts.Diagnostics.Specifies_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix,paramType:ts.Diagnostics.NEWLINE,error:ts.Diagnostics.Argument_for_newLine_option_must_be_CRLF_or_LF},{name:"noEmit",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs_if_any_errors_were_reported},{name:"noImplicitAny",type:"boolean",description:ts.Diagnostics.Raise_error_on_expressions_and_declarations_with_an_implied_any_type},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"out",type:"string",isFilePath:false,paramType:ts.Diagnostics.FILE},{name:"outFile",type:"string",isFilePath:true,description:ts.Diagnostics.Concatenate_and_emit_output_to_single_file,paramType:ts.Diagnostics.FILE},{name:"outDir",type:"string",isFilePath:true,description:ts.Diagnostics.Redirect_output_structure_to_the_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"preserveConstEnums",type:"boolean",description:ts.Diagnostics.Do_not_erase_const_enum_declarations_in_generated_code},{name:"pretty",paramType:ts.Diagnostics.KIND,description:ts.Diagnostics.Stylize_errors_and_messages_using_color_and_context_experimental,type:"boolean"},{name:"project",shortName:"p",type:"string",isFilePath:true,description:ts.Diagnostics.Compile_the_project_in_the_given_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"removeComments",type:"boolean",description:ts.Diagnostics.Do_not_emit_comments_to_output},{name:"rootDir",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir,paramType:ts.Diagnostics.LOCATION},{name:"isolatedModules",type:"boolean"},{name:"sourceMap",type:"boolean",description:ts.Diagnostics.Generates_corresponding_map_file},{name:"sourceRoot",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations,paramType:ts.Diagnostics.LOCATION},{name:"suppressExcessPropertyErrors",type:"boolean",description:ts.Diagnostics.Suppress_excess_property_checks_for_object_literals,experimental:true},{name:"suppressImplicitAnyIndexErrors",type:"boolean",description:ts.Diagnostics.Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures},{name:"stripInternal",type:"boolean",description:ts.Diagnostics.Do_not_emit_declarations_for_code_that_has_an_internal_annotation,experimental:true},{name:"target",shortName:"t",type:{"es3":0 ,"es5":1 ,"es6":2 ,"es2015":2 },description:ts.Diagnostics.Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES2015_experimental,paramType:ts.Diagnostics.VERSION,error:ts.Diagnostics.Argument_for_target_option_must_be_ES3_ES5_or_ES2015},{name:"version",shortName:"v",type:"boolean",description:ts.Diagnostics.Print_the_compiler_s_version},{name:"watch",shortName:"w",type:"boolean",description:ts.Diagnostics.Watch_input_files},{name:"experimentalDecorators",type:"boolean",description:ts.Diagnostics.Enables_experimental_support_for_ES7_decorators},{name:"emitDecoratorMetadata",type:"boolean",experimental:true,description:ts.Diagnostics.Enables_experimental_support_for_emitting_type_metadata_for_decorators},{name:"moduleResolution",type:{"node":2 ,"classic":1 },description:ts.Diagnostics.Specifies_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6,error:ts.Diagnostics.Argument_for_moduleResolution_option_must_be_node_or_classic},{name:"allowUnusedLabels",type:"boolean",description:ts.Diagnostics.Do_not_report_errors_on_unused_labels},{name:"noImplicitReturns",type:"boolean",description:ts.Diagnostics.Report_error_when_not_all_code_paths_in_function_return_a_value},{name:"noFallthroughCasesInSwitch",type:"boolean",description:ts.Diagnostics.Report_errors_for_fallthrough_cases_in_switch_statement},{name:"allowUnreachableCode",type:"boolean",description:ts.Diagnostics.Do_not_report_errors_on_unreachable_code},{name:"forceConsistentCasingInFileNames",type:"boolean",description:ts.Diagnostics.Disallow_inconsistently_cased_references_to_the_same_file},{name:"allowSyntheticDefaultImports",type:"boolean",description:ts.Diagnostics.Allow_default_imports_from_modules_with_no_default_export_This_does_not_affect_code_emit_just_typechecking},{name:"allowJs",type:"boolean",description:ts.Diagnostics.Allow_javascript_files_to_be_compiled},{name:"noImplicitUseStrict",type:"boolean",description:ts.Diagnostics.Do_not_emit_use_strict_directives_in_module_output},{name:"noCustomAsyncPromise",type:"boolean",experimental:true},{name:"disableSizeLimit",type:"boolean"}];var optionNameMapCache;function getOptionNameMap(){if(optionNameMapCache){return optionNameMapCache;}
var optionNameMap={};var shortOptionNames={};ts.forEach(ts.optionDeclarations,function(option){optionNameMap[option.name.toLowerCase()]=option;if(option.shortName){shortOptionNames[option.shortName]=option.name;}});optionNameMapCache={optionNameMap:optionNameMap,shortOptionNames:shortOptionNames};return optionNameMapCache;}
ts.getOptionNameMap=getOptionNameMap;function parseCommandLine(commandLine,readFile){var options={};var fileNames=[];var errors=[];var _a=getOptionNameMap(),optionNameMap=_a.optionNameMap,shortOptionNames=_a.shortOptionNames;parseStrings(commandLine);return{options:options,fileNames:fileNames,errors:errors};function parseStrings(args){var i=0;while(i<args.length){var s=args[i];i++;if(s.charCodeAt(0)===64 ){parseResponseFile(s.slice(1));}
else if(s.charCodeAt(0)===45 ){s=s.slice(s.charCodeAt(1)===45 ?2:1).toLowerCase();if(ts.hasProperty(shortOptionNames,s)){s=shortOptionNames[s];}
if(ts.hasProperty(optionNameMap,s)){var opt=optionNameMap[s];if(!args[i]&&opt.type!=="boolean"){errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_expects_an_argument,opt.name));}
switch(opt.type){case"number":options[opt.name]=parseInt(args[i]);i++;break;case"boolean":options[opt.name]=true;break;case"string":options[opt.name]=args[i]||"";i++;break;default:var map_1=opt.type;var key=(args[i]||"").toLowerCase();i++;if(ts.hasProperty(map_1,key)){options[opt.name]=map_1[key];}
else{errors.push(ts.createCompilerDiagnostic(opt.error));}}}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_compiler_option_0,s));}}
else{fileNames.push(s);}}}
function parseResponseFile(fileName){var text=readFile?readFile(fileName):ts.sys.readFile(fileName);if(!text){errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_not_found,fileName));return;}
var args=[];var pos=0;while(true){while(pos<text.length&&text.charCodeAt(pos)<=32 )
pos++;if(pos>=text.length)
break;var start=pos;if(text.charCodeAt(start)===34 ){pos++;while(pos<text.length&&text.charCodeAt(pos)!==34 )
pos++;if(pos<text.length){args.push(text.substring(start+1,pos));pos++;}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unterminated_quoted_string_in_response_file_0,fileName));}}
else{while(text.charCodeAt(pos)>32 )
pos++;args.push(text.substring(start,pos));}}
parseStrings(args);}}
ts.parseCommandLine=parseCommandLine;function readConfigFile(fileName,readFile){var text="";try{text=readFile(fileName);}
catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,e.message)};}
return parseConfigFileTextToJson(fileName,text);}
ts.readConfigFile=readConfigFile;function parseConfigFileTextToJson(fileName,jsonText){try{var jsonTextWithoutComments=removeComments(jsonText);return{config:/\S/.test(jsonTextWithoutComments)?JSON.parse(jsonTextWithoutComments):{}};}
catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Failed_to_parse_file_0_Colon_1,fileName,e.message)};}}
ts.parseConfigFileTextToJson=parseConfigFileTextToJson;function removeComments(jsonText){var output="";var scanner=ts.createScanner(1 ,false,0 ,jsonText);var token;while((token=scanner.scan())!==1 ){switch(token){case 2 :case 3 :output+=scanner.getTokenText().replace(/\S/g," ");break;default:output+=scanner.getTokenText();break;}}
return output;}
function parseJsonConfigFileContent(json,host,basePath,existingOptions,configFileName){if(existingOptions===void 0){existingOptions={};}
var _a=convertCompilerOptionsFromJson(json["compilerOptions"],basePath,configFileName),optionsFromJsonConfigFile=_a.options,errors=_a.errors;var options=ts.extend(existingOptions,optionsFromJsonConfigFile);return{options:options,fileNames:getFileNames(),typingOptions:getTypingOptions(),errors:errors};function getFileNames(){var fileNames=[];if(ts.hasProperty(json,"files")){if(json["files"]instanceof Array){fileNames=ts.map(json["files"],function(s){return ts.combinePaths(basePath,s);});}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"files","Array"));}}
else{var filesSeen={};var exclude=[];if(json["exclude"]instanceof Array){exclude=json["exclude"];}
else{exclude=["node_modules","bower_components"];var outDir=json["compilerOptions"]&&json["compilerOptions"]["outDir"];if(outDir){exclude.push(outDir);}}
exclude=ts.map(exclude,ts.normalizeSlashes);var supportedExtensions=ts.getSupportedExtensions(options);ts.Debug.assert(ts.indexOf(supportedExtensions,".ts")<ts.indexOf(supportedExtensions,".d.ts"),"Changed priority of extensions to pick");for(var _i=0,supportedExtensions_1=supportedExtensions;_i<supportedExtensions_1.length;_i++){var extension=supportedExtensions_1[_i];var filesInDirWithExtension=host.readDirectory(basePath,extension,exclude);for(var _a=0,filesInDirWithExtension_1=filesInDirWithExtension;_a<filesInDirWithExtension_1.length;_a++){var fileName=filesInDirWithExtension_1[_a];if(extension===".ts"&&ts.fileExtensionIs(fileName,".d.ts")){continue;}
if(/\.min\.js$/.test(fileName)){continue;}
if(extension===".d.ts"||(options.allowJs&&ts.contains(ts.supportedJavascriptExtensions,extension))){var baseName=fileName.substr(0,fileName.length-extension.length);if(ts.hasProperty(filesSeen,baseName+".ts")||ts.hasProperty(filesSeen,baseName+".tsx")){continue;}}
filesSeen[fileName]=true;fileNames.push(fileName);}}}
return fileNames;}
function getTypingOptions(){var options=ts.getBaseFileName(configFileName)==="jsconfig.json"?{enableAutoDiscovery:true,include:[],exclude:[]}:{enableAutoDiscovery:false,include:[],exclude:[]};var jsonTypingOptions=json["typingOptions"];if(jsonTypingOptions){for(var id in jsonTypingOptions){if(id==="enableAutoDiscovery"){if(typeof jsonTypingOptions[id]==="boolean"){options.enableAutoDiscovery=jsonTypingOptions[id];}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_typing_option_0,id));}}
else if(id==="include"){options.include=convertJsonOptionToStringArray(id,jsonTypingOptions[id],errors);}
else if(id==="exclude"){options.exclude=convertJsonOptionToStringArray(id,jsonTypingOptions[id],errors);}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_typing_option_0,id));}}}
return options;}}
ts.parseJsonConfigFileContent=parseJsonConfigFileContent;function convertCompilerOptionsFromJson(jsonOptions,basePath,configFileName){var options={};var errors=[];if(configFileName&&ts.getBaseFileName(configFileName)==="jsconfig.json"){options.allowJs=true;}
if(!jsonOptions){return{options:options,errors:errors};}
var optionNameMap=ts.arrayToMap(ts.optionDeclarations,function(opt){return opt.name;});for(var id in jsonOptions){if(ts.hasProperty(optionNameMap,id)){var opt=optionNameMap[id];var optType=opt.type;var value=jsonOptions[id];var expectedType=typeof optType==="string"?optType:"string";if(typeof value===expectedType){if(typeof optType!=="string"){var key=value.toLowerCase();if(ts.hasProperty(optType,key)){value=optType[key];}
else{errors.push(ts.createCompilerDiagnostic(opt.error));value=0;}}
if(opt.isFilePath){value=ts.normalizePath(ts.combinePaths(basePath,value));if(value===""){value=".";}}
options[opt.name]=value;}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,id,expectedType));}}
else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_compiler_option_0,id));}}
return{options:options,errors:errors};}
ts.convertCompilerOptionsFromJson=convertCompilerOptionsFromJson;function convertJsonOptionToStringArray(optionName,optionJson,errors,func){var items=[];var invalidOptionType=false;if(!ts.isArray(optionJson)){invalidOptionType=true;}
else{for(var _i=0,_a=optionJson;_i<_a.length;_i++){var element=_a[_i];if(typeof element==="string"){var item=func?func(element):element;items.push(item);}
else{invalidOptionType=true;break;}}}
if(invalidOptionType){errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_should_have_array_of_strings_as_a_value,optionName));}
return items;}})(ts||(ts={}));var ts;(function(ts){var OutliningElementsCollector;(function(OutliningElementsCollector){function collectElements(sourceFile){var elements=[];var collapseText="...";function addOutliningSpan(hintSpanNode,startElement,endElement,autoCollapse){if(hintSpanNode&&startElement&&endElement){var span={textSpan:ts.createTextSpanFromBounds(startElement.pos,endElement.end),hintSpan:ts.createTextSpanFromBounds(hintSpanNode.getStart(),hintSpanNode.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span);}}
function addOutliningSpanComments(commentSpan,autoCollapse){if(commentSpan){var span={textSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),hintSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span);}}
function addOutliningForLeadingCommentsForNode(n){var comments=ts.getLeadingCommentRangesOfNode(n,sourceFile);if(comments){var firstSingleLineCommentStart=-1;var lastSingleLineCommentEnd=-1;var isFirstSingleLineComment=true;var singleLineCommentCount=0;for(var _i=0,comments_2=comments;_i<comments_2.length;_i++){var currentComment=comments_2[_i];if(currentComment.kind===2 ){if(isFirstSingleLineComment){firstSingleLineCommentStart=currentComment.pos;}
isFirstSingleLineComment=false;lastSingleLineCommentEnd=currentComment.end;singleLineCommentCount++;}
else if(currentComment.kind===3 ){combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd);addOutliningSpanComments(currentComment,false);singleLineCommentCount=0;lastSingleLineCommentEnd=-1;isFirstSingleLineComment=true;}}
combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd);}}
function combineAndAddMultipleSingleLineComments(count,start,end){if(count>1){var multipleSingleLineComments={pos:start,end:end,kind:2 };addOutliningSpanComments(multipleSingleLineComments,false);}}
function autoCollapse(node){return ts.isFunctionBlock(node)&&node.parent.kind!==177 ;}
var depth=0;var maxDepth=20;function walk(n){if(depth>maxDepth){return;}
if(ts.isDeclaration(n)){addOutliningForLeadingCommentsForNode(n);}
switch(n.kind){case 195 :if(!ts.isFunctionBlock(n)){var parent_9=n.parent;var openBrace=ts.findChildOfKind(n,15 ,sourceFile);var closeBrace=ts.findChildOfKind(n,16 ,sourceFile);if(parent_9.kind===200 ||parent_9.kind===203 ||parent_9.kind===204 ||parent_9.kind===202 ||parent_9.kind===199 ||parent_9.kind===201 ||parent_9.kind===208 ||parent_9.kind===247 ){addOutliningSpan(parent_9,openBrace,closeBrace,autoCollapse(n));break;}
if(parent_9.kind===212 ){var tryStatement=parent_9;if(tryStatement.tryBlock===n){addOutliningSpan(parent_9,openBrace,closeBrace,autoCollapse(n));break;}
else if(tryStatement.finallyBlock===n){var finallyKeyword=ts.findChildOfKind(tryStatement,85 ,sourceFile);if(finallyKeyword){addOutliningSpan(finallyKeyword,openBrace,closeBrace,autoCollapse(n));break;}}}
var span=ts.createTextSpanFromBounds(n.getStart(),n.end);elements.push({textSpan:span,hintSpan:span,bannerText:collapseText,autoCollapse:autoCollapse(n)});break;}
case 222 :{var openBrace=ts.findChildOfKind(n,15 ,sourceFile);var closeBrace=ts.findChildOfKind(n,16 ,sourceFile);addOutliningSpan(n.parent,openBrace,closeBrace,autoCollapse(n));break;}
case 217 :case 218 :case 220 :case 168 :case 223 :{var openBrace=ts.findChildOfKind(n,15 ,sourceFile);var closeBrace=ts.findChildOfKind(n,16 ,sourceFile);addOutliningSpan(n,openBrace,closeBrace,autoCollapse(n));break;}
case 167 :var openBracket=ts.findChildOfKind(n,19 ,sourceFile);var closeBracket=ts.findChildOfKind(n,20 ,sourceFile);addOutliningSpan(n,openBracket,closeBracket,autoCollapse(n));break;}
depth++;ts.forEachChild(n,walk);depth--;}
walk(sourceFile);return elements;}
OutliningElementsCollector.collectElements=collectElements;})(OutliningElementsCollector=ts.OutliningElementsCollector||(ts.OutliningElementsCollector={}));})(ts||(ts={}));var ts;(function(ts){var NavigateTo;(function(NavigateTo){function getNavigateToItems(program,cancellationToken,searchValue,maxResultCount){var patternMatcher=ts.createPatternMatcher(searchValue);var rawItems=[];var baseSensitivity={sensitivity:"base"};ts.forEach(program.getSourceFiles(),function(sourceFile){cancellationToken.throwIfCancellationRequested();var nameToDeclarations=sourceFile.getNamedDeclarations();for(var name_32 in nameToDeclarations){var declarations=ts.getProperty(nameToDeclarations,name_32);if(declarations){var matches=patternMatcher.getMatchesForLastSegmentOfPattern(name_32);if(!matches){continue;}
for(var _i=0,declarations_6=declarations;_i<declarations_6.length;_i++){var declaration=declarations_6[_i];if(patternMatcher.patternContainsDots){var containers=getContainers(declaration);if(!containers){return undefined;}
matches=patternMatcher.getMatches(containers,name_32);if(!matches){continue;}}
var fileName=sourceFile.fileName;var matchKind=bestMatchKind(matches);rawItems.push({name:name_32,fileName:fileName,matchKind:matchKind,isCaseSensitive:allMatchesAreCaseSensitive(matches),declaration:declaration});}}}});rawItems.sort(compareNavigateToItems);if(maxResultCount!==undefined){rawItems=rawItems.slice(0,maxResultCount);}
var items=ts.map(rawItems,createNavigateToItem);return items;function allMatchesAreCaseSensitive(matches){ts.Debug.assert(matches.length>0);for(var _i=0,matches_1=matches;_i<matches_1.length;_i++){var match=matches_1[_i];if(!match.isCaseSensitive){return false;}}
return true;}
function getTextOfIdentifierOrLiteral(node){if(node){if(node.kind===69 ||node.kind===9 ||node.kind===8 ){return node.text;}}
return undefined;}
function tryAddSingleDeclarationName(declaration,containers){if(declaration&&declaration.name){var text=getTextOfIdentifierOrLiteral(declaration.name);if(text!==undefined){containers.unshift(text);}
else if(declaration.name.kind===137 ){return tryAddComputedPropertyName(declaration.name.expression,containers,true);}
else{return false;}}
return true;}
function tryAddComputedPropertyName(expression,containers,includeLastPortion){var text=getTextOfIdentifierOrLiteral(expression);if(text!==undefined){if(includeLastPortion){containers.unshift(text);}
return true;}
if(expression.kind===169 ){var propertyAccess=expression;if(includeLastPortion){containers.unshift(propertyAccess.name.text);}
return tryAddComputedPropertyName(propertyAccess.expression,containers,true);}
return false;}
function getContainers(declaration){var containers=[];if(declaration.name.kind===137 ){if(!tryAddComputedPropertyName(declaration.name.expression,containers,false)){return undefined;}}
declaration=ts.getContainerNode(declaration);while(declaration){if(!tryAddSingleDeclarationName(declaration,containers)){return undefined;}
declaration=ts.getContainerNode(declaration);}
return containers;}
function bestMatchKind(matches){ts.Debug.assert(matches.length>0);var bestMatchKind=ts.PatternMatchKind.camelCase;for(var _i=0,matches_2=matches;_i<matches_2.length;_i++){var match=matches_2[_i];var kind=match.kind;if(kind<bestMatchKind){bestMatchKind=kind;}}
return bestMatchKind;}
function compareNavigateToItems(i1,i2){return i1.matchKind-i2.matchKind||i1.name.localeCompare(i2.name,undefined,baseSensitivity)||i1.name.localeCompare(i2.name);}
function createNavigateToItem(rawItem){var declaration=rawItem.declaration;var container=ts.getContainerNode(declaration);return{name:rawItem.name,kind:ts.getNodeKind(declaration),kindModifiers:ts.getNodeModifiers(declaration),matchKind:ts.PatternMatchKind[rawItem.matchKind],isCaseSensitive:rawItem.isCaseSensitive,fileName:rawItem.fileName,textSpan:ts.createTextSpanFromBounds(declaration.getStart(),declaration.getEnd()),containerName:container&&container.name?container.name.text:"",containerKind:container&&container.name?ts.getNodeKind(container):""};}}
NavigateTo.getNavigateToItems=getNavigateToItems;})(NavigateTo=ts.NavigateTo||(ts.NavigateTo={}));})(ts||(ts={}));var ts;(function(ts){var NavigationBar;(function(NavigationBar){function getNavigationBarItems(sourceFile,compilerOptions){if(ts.isSourceFileJavaScript(sourceFile)){return getJsNavigationBarItems(sourceFile,compilerOptions);}
var hasGlobalNode=false;return getItemsWorker(getTopLevelNodes(sourceFile),createTopLevelItem);function getIndent(node){var indent=hasGlobalNode?1:0;var current=node.parent;while(current){switch(current.kind){case 221 :do{current=current.parent;}while(current.kind===221 );case 217 :case 220 :case 218 :case 216 :indent++;}
current=current.parent;}
return indent;}
function getChildNodes(nodes){var childNodes=[];function visit(node){switch(node.kind){case 196 :ts.forEach(node.declarationList.declarations,visit);break;case 164 :case 165 :ts.forEach(node.elements,visit);break;case 231 :if(node.exportClause){ts.forEach(node.exportClause.elements,visit);}
break;case 225 :var importClause=node.importClause;if(importClause){if(importClause.name){childNodes.push(importClause);}
if(importClause.namedBindings){if(importClause.namedBindings.kind===227 ){childNodes.push(importClause.namedBindings);}
else{ts.forEach(importClause.namedBindings.elements,visit);}}}
break;case 166 :case 214 :if(ts.isBindingPattern(node.name)){visit(node.name);break;}
case 217 :case 220 :case 218 :case 221 :case 216 :case 224 :case 229 :case 233 :childNodes.push(node);break;}}
ts.forEach(nodes,visit);return sortNodes(childNodes);}
function getTopLevelNodes(node){var topLevelNodes=[];topLevelNodes.push(node);addTopLevelNodes(node.statements,topLevelNodes);return topLevelNodes;}
function sortNodes(nodes){return nodes.slice(0).sort(function(n1,n2){if(n1.name&&n2.name){return ts.getPropertyNameForPropertyNameNode(n1.name).localeCompare(ts.getPropertyNameForPropertyNameNode(n2.name));}
else if(n1.name){return 1;}
else if(n2.name){return-1;}
else{return n1.kind-n2.kind;}});}
function addTopLevelNodes(nodes,topLevelNodes){nodes=sortNodes(nodes);for(var _i=0,nodes_4=nodes;_i<nodes_4.length;_i++){var node=nodes_4[_i];switch(node.kind){case 217 :case 220 :case 218 :topLevelNodes.push(node);break;case 221 :var moduleDeclaration=node;topLevelNodes.push(node);addTopLevelNodes(getInnermostModule(moduleDeclaration).body.statements,topLevelNodes);break;case 216 :var functionDeclaration=node;if(isTopLevelFunctionDeclaration(functionDeclaration)){topLevelNodes.push(node);addTopLevelNodes(functionDeclaration.body.statements,topLevelNodes);}
break;}}}
function isTopLevelFunctionDeclaration(functionDeclaration){if(functionDeclaration.kind===216 ){if(functionDeclaration.body&&functionDeclaration.body.kind===195 ){if(ts.forEach(functionDeclaration.body.statements,function(s){return s.kind===216 &&!isEmpty(s.name.text);})){return true;}
if(!ts.isFunctionBlock(functionDeclaration.parent)){return true;}}}
return false;}
function getItemsWorker(nodes,createItem){var items=[];var keyToItem={};for(var _i=0,nodes_5=nodes;_i<nodes_5.length;_i++){var child=nodes_5[_i];var item=createItem(child);if(item!==undefined){if(item.text.length>0){var key=item.text+"-"+item.kind+"-"+item.indent;var itemWithSameName=keyToItem[key];if(itemWithSameName){merge(itemWithSameName,item);}
else{keyToItem[key]=item;items.push(item);}}}}
return items;}
function merge(target,source){ts.addRange(target.spans,source.spans);if(source.childItems){if(!target.childItems){target.childItems=[];}
outer:for(var _i=0,_a=source.childItems;_i<_a.length;_i++){var sourceChild=_a[_i];for(var _b=0,_c=target.childItems;_b<_c.length;_b++){var targetChild=_c[_b];if(targetChild.text===sourceChild.text&&targetChild.kind===sourceChild.kind){merge(targetChild,sourceChild);continue outer;}}
target.childItems.push(sourceChild);}}}
function createChildItem(node){switch(node.kind){case 139 :if(ts.isBindingPattern(node.name)){break;}
if((node.flags&1022 )===0){return undefined;}
return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 144 :case 143 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberFunctionElement);case 146 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberGetAccessorElement);case 147 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberSetAccessorElement);case 150 :return createItem(node,"[]",ts.ScriptElementKind.indexSignatureElement);case 250 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 148 :return createItem(node,"()",ts.ScriptElementKind.callSignatureElement);case 149 :return createItem(node,"new()",ts.ScriptElementKind.constructSignatureElement);case 142 :case 141 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 216 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.functionElement);case 214 :case 166 :var variableDeclarationNode=void 0;var name_33;if(node.kind===166 ){name_33=node.name;variableDeclarationNode=node;while(variableDeclarationNode&&variableDeclarationNode.kind!==214 ){variableDeclarationNode=variableDeclarationNode.parent;}
ts.Debug.assert(variableDeclarationNode!==undefined);}
else{ts.Debug.assert(!ts.isBindingPattern(node.name));variableDeclarationNode=node;name_33=node.name;}
if(ts.isConst(variableDeclarationNode)){return createItem(node,getTextOfNode(name_33),ts.ScriptElementKind.constElement);}
else if(ts.isLet(variableDeclarationNode)){return createItem(node,getTextOfNode(name_33),ts.ScriptElementKind.letElement);}
else{return createItem(node,getTextOfNode(name_33),ts.ScriptElementKind.variableElement);}
case 145 :return createItem(node,"constructor",ts.ScriptElementKind.constructorImplementationElement);case 233 :case 229 :case 224 :case 226 :case 227 :return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.alias);}
return undefined;function createItem(node,name,scriptElementKind){return getNavigationBarItem(name,scriptElementKind,ts.getNodeModifiers(node),[getNodeSpan(node)]);}}
function isEmpty(text){return!text||text.trim()==="";}
function getNavigationBarItem(text,kind,kindModifiers,spans,childItems,indent){if(childItems===void 0){childItems=[];}
if(indent===void 0){indent=0;}
if(isEmpty(text)){return undefined;}
return{text:text,kind:kind,kindModifiers:kindModifiers,spans:spans,childItems:childItems,indent:indent,bolded:false,grayed:false};}
function createTopLevelItem(node){switch(node.kind){case 251 :return createSourceFileItem(node);case 217 :return createClassItem(node);case 220 :return createEnumItem(node);case 218 :return createIterfaceItem(node);case 221 :return createModuleItem(node);case 216 :return createFunctionItem(node);}
return undefined;function getModuleName(moduleDeclaration){if(ts.isAmbientModule(moduleDeclaration)){return getTextOfNode(moduleDeclaration.name);}
var result=[];result.push(moduleDeclaration.name.text);while(moduleDeclaration.body&&moduleDeclaration.body.kind===221 ){moduleDeclaration=moduleDeclaration.body;result.push(moduleDeclaration.name.text);}
return result.join(".");}
function createModuleItem(node){var moduleName=getModuleName(node);var childItems=getItemsWorker(getChildNodes(getInnermostModule(node).body.statements),createChildItem);return getNavigationBarItem(moduleName,ts.ScriptElementKind.moduleElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node));}
function createFunctionItem(node){if(node.body&&node.body.kind===195 ){var childItems=getItemsWorker(sortNodes(node.body.statements),createChildItem);return getNavigationBarItem(!node.name?"default":node.name.text,ts.ScriptElementKind.functionElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node));}
return undefined;}
function createSourceFileItem(node){var childItems=getItemsWorker(getChildNodes(node.statements),createChildItem);if(childItems===undefined||childItems.length===0){return undefined;}
hasGlobalNode=true;var rootName=ts.isExternalModule(node)?"\""+ts.escapeString(ts.getBaseFileName(ts.removeFileExtension(ts.normalizePath(node.fileName))))+"\"":"<global>";return getNavigationBarItem(rootName,ts.ScriptElementKind.moduleElement,ts.ScriptElementKindModifier.none,[getNodeSpan(node)],childItems);}
function createClassItem(node){var childItems;if(node.members){var constructor=ts.forEach(node.members,function(member){return member.kind===145 &&member;});var nodes=removeDynamicallyNamedProperties(node);if(constructor){ts.addRange(nodes,ts.filter(constructor.parameters,function(p){return!ts.isBindingPattern(p.name);}));}
childItems=getItemsWorker(sortNodes(nodes),createChildItem);}
var nodeName=!node.name?"default":node.name.text;return getNavigationBarItem(nodeName,ts.ScriptElementKind.classElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node));}
function createEnumItem(node){var childItems=getItemsWorker(sortNodes(removeComputedProperties(node)),createChildItem);return getNavigationBarItem(node.name.text,ts.ScriptElementKind.enumElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node));}
function createIterfaceItem(node){var childItems=getItemsWorker(sortNodes(removeDynamicallyNamedProperties(node)),createChildItem);return getNavigationBarItem(node.name.text,ts.ScriptElementKind.interfaceElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node));}}
function removeComputedProperties(node){return ts.filter(node.members,function(member){return member.name===undefined||member.name.kind!==137 ;});}
function removeDynamicallyNamedProperties(node){return ts.filter(node.members,function(member){return!ts.hasDynamicName(member);});}
function getInnermostModule(node){while(node.body.kind===221 ){node=node.body;}
return node;}
function getNodeSpan(node){return node.kind===251 ?ts.createTextSpanFromBounds(node.getFullStart(),node.getEnd()):ts.createTextSpanFromBounds(node.getStart(),node.getEnd());}
function getTextOfNode(node){return ts.getTextOfNodeFromSourceText(sourceFile.text,node);}}
NavigationBar.getNavigationBarItems=getNavigationBarItems;function getJsNavigationBarItems(sourceFile,compilerOptions){var anonFnText="<function>";var anonClassText="<class>";var indent=0;var rootName=ts.isExternalModule(sourceFile)?"\""+ts.escapeString(ts.getBaseFileName(ts.removeFileExtension(ts.normalizePath(sourceFile.fileName))))+"\"":"<global>";var sourceFileItem=getNavBarItem(rootName,ts.ScriptElementKind.moduleElement,[getNodeSpan(sourceFile)]);var topItem=sourceFileItem;ts.forEachChild(sourceFile,visitNode);function visitNode(node){var newItem=createNavBarItem(node);if(newItem){topItem.childItems.push(newItem);}
if(newItem&&(ts.isFunctionLike(node)||ts.isClassLike(node))){var lastTop=topItem;indent++;topItem=newItem;ts.forEachChild(node,visitNode);topItem=lastTop;indent--;if(newItem&&newItem.text===anonFnText&&newItem.childItems.length===0){topItem.childItems.pop();}}
else{ts.forEachChild(node,visitNode);}}
function createNavBarItem(node){switch(node.kind){case 214 :if(node.parent .parent .parent .kind!==251 ){return undefined;}
var varDecl=node;if(varDecl.initializer&&(varDecl.initializer.kind===176 ||varDecl.initializer.kind===177 ||varDecl.initializer.kind===189 )){return undefined;}
case 216 :case 217 :case 145 :case 146 :case 147 :var name_34=node.flags&&(node.flags&512 )&&!node.name?"default":node.kind===145 ?"constructor":ts.declarationNameToString(node.name);return getNavBarItem(name_34,getScriptKindForElementKind(node.kind),[getNodeSpan(node)]);case 176 :case 177 :case 189 :return getDefineModuleItem(node)||getFunctionOrClassExpressionItem(node);case 144 :var methodDecl=node;return getNavBarItem(ts.declarationNameToString(methodDecl.name),ts.ScriptElementKind.memberFunctionElement,[getNodeSpan(node)]);case 230 :return getNavBarItem("default",ts.ScriptElementKind.variableElement,[getNodeSpan(node)]);case 226 :if(!node.name){return undefined;}
case 229 :case 227 :case 233 :if(node.kind===233 ){if(!node.parent.parent.moduleSpecifier&&!node.propertyName){return undefined;}}
var decl=node;if(!decl.name){return undefined;}
var declName=ts.declarationNameToString(decl.name);return getNavBarItem(declName,ts.ScriptElementKind.constElement,[getNodeSpan(node)]);default:return undefined;}}
function getNavBarItem(text,kind,spans,kindModifiers){if(kindModifiers===void 0){kindModifiers=ts.ScriptElementKindModifier.none;}
return{text:text,kind:kind,kindModifiers:kindModifiers,spans:spans,childItems:[],indent:indent,bolded:false,grayed:false};}
function getDefineModuleItem(node){if(node.kind!==176 &&node.kind!==177 ){return undefined;}
if(node.parent.kind!==171 ){return undefined;}
var callExpr=node.parent;if(callExpr.expression.kind!==69 ||callExpr.expression.getText()!=='define'){return undefined;}
var defaultName=node.getSourceFile().fileName;if(callExpr.arguments[0].kind===9 ){defaultName=(callExpr.arguments[0]).text;}
return getNavBarItem(defaultName,ts.ScriptElementKind.moduleElement,[getNodeSpan(node.parent)]);}
function getFunctionOrClassExpressionItem(node){if(node.kind!==176 &&node.kind!==177 &&node.kind!==189 ){return undefined;}
var fnExpr=node;var fnName;if(fnExpr.name&&ts.getFullWidth(fnExpr.name)>0){fnName=ts.declarationNameToString(fnExpr.name);}
else{if(fnExpr.parent.kind===214 ){fnName=ts.declarationNameToString(fnExpr.parent.name);}
else if(fnExpr.parent.kind===184 &&fnExpr.parent.operatorToken.kind===56 ){fnName=fnExpr.parent.left.getText();if(fnName.length>20){fnName=fnName.substring(0,17)+"...";}}
else if(fnExpr.parent.kind===248 &&fnExpr.parent.name){fnName=fnExpr.parent.name.getText();}
else{fnName=node.kind===189 ?anonClassText:anonFnText;}}
var scriptKind=node.kind===189 ?ts.ScriptElementKind.classElement:ts.ScriptElementKind.functionElement;return getNavBarItem(fnName,scriptKind,[getNodeSpan(node)]);}
function getNodeSpan(node){return node.kind===251 ?ts.createTextSpanFromBounds(node.getFullStart(),node.getEnd()):ts.createTextSpanFromBounds(node.getStart(),node.getEnd());}
function getScriptKindForElementKind(kind){switch(kind){case 214 :return ts.ScriptElementKind.variableElement;case 216 :return ts.ScriptElementKind.functionElement;case 217 :return ts.ScriptElementKind.classElement;case 145 :return ts.ScriptElementKind.constructorImplementationElement;case 146 :return ts.ScriptElementKind.memberGetAccessorElement;case 147 :return ts.ScriptElementKind.memberSetAccessorElement;default:return"unknown";}}
return sourceFileItem.childItems;}
NavigationBar.getJsNavigationBarItems=getJsNavigationBarItems;})(NavigationBar=ts.NavigationBar||(ts.NavigationBar={}));})(ts||(ts={}));var ts;(function(ts){(function(PatternMatchKind){PatternMatchKind[PatternMatchKind["exact"]=0]="exact";PatternMatchKind[PatternMatchKind["prefix"]=1]="prefix";PatternMatchKind[PatternMatchKind["substring"]=2]="substring";PatternMatchKind[PatternMatchKind["camelCase"]=3]="camelCase";})(ts.PatternMatchKind||(ts.PatternMatchKind={}));var PatternMatchKind=ts.PatternMatchKind;function createPatternMatch(kind,punctuationStripped,isCaseSensitive,camelCaseWeight){return{kind:kind,punctuationStripped:punctuationStripped,isCaseSensitive:isCaseSensitive,camelCaseWeight:camelCaseWeight};}
function createPatternMatcher(pattern){var stringToWordSpans={};pattern=pattern.trim();var dotSeparatedSegments=pattern.split(".").map(function(p){return createSegment(p.trim());});var invalidPattern=dotSeparatedSegments.length===0||ts.forEach(dotSeparatedSegments,segmentIsInvalid);return{getMatches:getMatches,getMatchesForLastSegmentOfPattern:getMatchesForLastSegmentOfPattern,patternContainsDots:dotSeparatedSegments.length>1};function skipMatch(candidate){return invalidPattern||!candidate;}
function getMatchesForLastSegmentOfPattern(candidate){if(skipMatch(candidate)){return undefined;}
return matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments));}
function getMatches(candidateContainers,candidate){if(skipMatch(candidate)){return undefined;}
var candidateMatch=matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments));if(!candidateMatch){return undefined;}
candidateContainers=candidateContainers||[];if(dotSeparatedSegments.length-1>candidateContainers.length){return undefined;}
var totalMatch=candidateMatch;for(var i=dotSeparatedSegments.length-2,j=candidateContainers.length-1;i>=0;i-=1,j-=1){var segment=dotSeparatedSegments[i];var containerName=candidateContainers[j];var containerMatch=matchSegment(containerName,segment);if(!containerMatch){return undefined;}
ts.addRange(totalMatch,containerMatch);}
return totalMatch;}
function getWordSpans(word){if(!ts.hasProperty(stringToWordSpans,word)){stringToWordSpans[word]=breakIntoWordSpans(word);}
return stringToWordSpans[word];}
function matchTextChunk(candidate,chunk,punctuationStripped){var index=indexOfIgnoringCase(candidate,chunk.textLowerCase);if(index===0){if(chunk.text.length===candidate.length){return createPatternMatch(PatternMatchKind.exact,punctuationStripped,candidate===chunk.text);}
else{return createPatternMatch(PatternMatchKind.prefix,punctuationStripped,startsWith(candidate,chunk.text));}}
var isLowercase=chunk.isLowerCase;if(isLowercase){if(index>0){var wordSpans=getWordSpans(candidate);for(var _i=0,wordSpans_1=wordSpans;_i<wordSpans_1.length;_i++){var span=wordSpans_1[_i];if(partStartsWith(candidate,span,chunk.text,true)){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,partStartsWith(candidate,span,chunk.text,false));}}}}
else{if(candidate.indexOf(chunk.text)>0){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,true);}}
if(!isLowercase){if(chunk.characterSpans.length>0){var candidateParts=getWordSpans(candidate);var camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,false);if(camelCaseWeight!==undefined){return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,true,camelCaseWeight);}
camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,true);if(camelCaseWeight!==undefined){return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,false,camelCaseWeight);}}}
if(isLowercase){if(chunk.text.length<candidate.length){if(index>0&&isUpperCaseLetter(candidate.charCodeAt(index))){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,false);}}}
return undefined;}
function containsSpaceOrAsterisk(text){for(var i=0;i<text.length;i++){var ch=text.charCodeAt(i);if(ch===32 ||ch===42 ){return true;}}
return false;}
function matchSegment(candidate,segment){if(!containsSpaceOrAsterisk(segment.totalTextChunk.text)){var match=matchTextChunk(candidate,segment.totalTextChunk,false);if(match){return[match];}}
var subWordTextChunks=segment.subWordTextChunks;var matches=undefined;for(var _i=0,subWordTextChunks_1=subWordTextChunks;_i<subWordTextChunks_1.length;_i++){var subWordTextChunk=subWordTextChunks_1[_i];var result=matchTextChunk(candidate,subWordTextChunk,true);if(!result){return undefined;}
matches=matches||[];matches.push(result);}
return matches;}
function partStartsWith(candidate,candidateSpan,pattern,ignoreCase,patternSpan){var patternPartStart=patternSpan?patternSpan.start:0;var patternPartLength=patternSpan?patternSpan.length:pattern.length;if(patternPartLength>candidateSpan.length){return false;}
if(ignoreCase){for(var i=0;i<patternPartLength;i++){var ch1=pattern.charCodeAt(patternPartStart+i);var ch2=candidate.charCodeAt(candidateSpan.start+i);if(toLowerCase(ch1)!==toLowerCase(ch2)){return false;}}}
else{for(var i=0;i<patternPartLength;i++){var ch1=pattern.charCodeAt(patternPartStart+i);var ch2=candidate.charCodeAt(candidateSpan.start+i);if(ch1!==ch2){return false;}}}
return true;}
function tryCamelCaseMatch(candidate,candidateParts,chunk,ignoreCase){var chunkCharacterSpans=chunk.characterSpans;var currentCandidate=0;var currentChunkSpan=0;var firstMatch=undefined;var contiguous=undefined;while(true){if(currentChunkSpan===chunkCharacterSpans.length){var weight=0;if(contiguous){weight+=1;}
if(firstMatch===0){weight+=2;}
return weight;}
else if(currentCandidate===candidateParts.length){return undefined;}
var candidatePart=candidateParts[currentCandidate];var gotOneMatchThisCandidate=false;for(;currentChunkSpan<chunkCharacterSpans.length;currentChunkSpan++){var chunkCharacterSpan=chunkCharacterSpans[currentChunkSpan];if(gotOneMatchThisCandidate){if(!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan-1].start))||!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan].start))){break;}}
if(!partStartsWith(candidate,candidatePart,chunk.text,ignoreCase,chunkCharacterSpan)){break;}
gotOneMatchThisCandidate=true;firstMatch=firstMatch===undefined?currentCandidate:firstMatch;contiguous=contiguous===undefined?true:contiguous;candidatePart=ts.createTextSpan(candidatePart.start+chunkCharacterSpan.length,candidatePart.length-chunkCharacterSpan.length);}
if(!gotOneMatchThisCandidate&&contiguous!==undefined){contiguous=false;}
currentCandidate++;}}}
ts.createPatternMatcher=createPatternMatcher;function createSegment(text){return{totalTextChunk:createTextChunk(text),subWordTextChunks:breakPatternIntoTextChunks(text)};}
function segmentIsInvalid(segment){return segment.subWordTextChunks.length===0;}
function isUpperCaseLetter(ch){if(ch>=65 &&ch<=90 ){return true;}
if(ch<127 ||!ts.isUnicodeIdentifierStart(ch,2 )){return false;}
var str=String.fromCharCode(ch);return str===str.toUpperCase();}
function isLowerCaseLetter(ch){if(ch>=97 &&ch<=122 ){return true;}
if(ch<127 ||!ts.isUnicodeIdentifierStart(ch,2 )){return false;}
var str=String.fromCharCode(ch);return str===str.toLowerCase();}
function startsWith(string,search){for(var i=0,n=search.length;i<n;i++){if(string.charCodeAt(i)!==search.charCodeAt(i)){return false;}}
return true;}
function indexOfIgnoringCase(string,value){for(var i=0,n=string.length-value.length;i<=n;i++){if(startsWithIgnoringCase(string,value,i)){return i;}}
return-1;}
function startsWithIgnoringCase(string,value,start){for(var i=0,n=value.length;i<n;i++){var ch1=toLowerCase(string.charCodeAt(i+start));var ch2=value.charCodeAt(i);if(ch1!==ch2){return false;}}
return true;}
function toLowerCase(ch){if(ch>=65 &&ch<=90 ){return 97 +(ch-65 );}
if(ch<127 ){return ch;}
return String.fromCharCode(ch).toLowerCase().charCodeAt(0);}
function isDigit(ch){return ch>=48 &&ch<=57 ;}
function isWordChar(ch){return isUpperCaseLetter(ch)||isLowerCaseLetter(ch)||isDigit(ch)||ch===95 ||ch===36 ;}
function breakPatternIntoTextChunks(pattern){var result=[];var wordStart=0;var wordLength=0;for(var i=0;i<pattern.length;i++){var ch=pattern.charCodeAt(i);if(isWordChar(ch)){if(wordLength===0){wordStart=i;}
wordLength++;}
else{if(wordLength>0){result.push(createTextChunk(pattern.substr(wordStart,wordLength)));wordLength=0;}}}
if(wordLength>0){result.push(createTextChunk(pattern.substr(wordStart,wordLength)));}
return result;}
function createTextChunk(text){var textLowerCase=text.toLowerCase();return{text:text,textLowerCase:textLowerCase,isLowerCase:text===textLowerCase,characterSpans:breakIntoCharacterSpans(text)};}
function breakIntoCharacterSpans(identifier){return breakIntoSpans(identifier,false);}
ts.breakIntoCharacterSpans=breakIntoCharacterSpans;function breakIntoWordSpans(identifier){return breakIntoSpans(identifier,true);}
ts.breakIntoWordSpans=breakIntoWordSpans;function breakIntoSpans(identifier,word){var result=[];var wordStart=0;for(var i=1,n=identifier.length;i<n;i++){var lastIsDigit=isDigit(identifier.charCodeAt(i-1));var currentIsDigit=isDigit(identifier.charCodeAt(i));var hasTransitionFromLowerToUpper=transitionFromLowerToUpper(identifier,word,i);var hasTransitionFromUpperToLower=transitionFromUpperToLower(identifier,word,i,wordStart);if(charIsPunctuation(identifier.charCodeAt(i-1))||charIsPunctuation(identifier.charCodeAt(i))||lastIsDigit!==currentIsDigit||hasTransitionFromLowerToUpper||hasTransitionFromUpperToLower){if(!isAllPunctuation(identifier,wordStart,i)){result.push(ts.createTextSpan(wordStart,i-wordStart));}
wordStart=i;}}
if(!isAllPunctuation(identifier,wordStart,identifier.length)){result.push(ts.createTextSpan(wordStart,identifier.length-wordStart));}
return result;}
function charIsPunctuation(ch){switch(ch){case 33 :case 34 :case 35 :case 37 :case 38 :case 39 :case 40 :case 41 :case 42 :case 44 :case 45 :case 46 :case 47 :case 58 :case 59 :case 63 :case 64 :case 91 :case 92 :case 93 :case 95 :case 123 :case 125 :return true;}
return false;}
function isAllPunctuation(identifier,start,end){for(var i=start;i<end;i++){var ch=identifier.charCodeAt(i);if(!charIsPunctuation(ch)||ch===95 ||ch===36 ){return false;}}
return true;}
function transitionFromUpperToLower(identifier,word,index,wordStart){if(word){if(index!==wordStart&&index+1<identifier.length){var currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index));var nextIsLower=isLowerCaseLetter(identifier.charCodeAt(index+1));if(currentIsUpper&&nextIsLower){for(var i=wordStart;i<index;i++){if(!isUpperCaseLetter(identifier.charCodeAt(i))){return false;}}
return true;}}}
return false;}
function transitionFromLowerToUpper(identifier,word,index){var lastIsUpper=isUpperCaseLetter(identifier.charCodeAt(index-1));var currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index));var transition=word?(currentIsUpper&&!lastIsUpper):currentIsUpper;return transition;}})(ts||(ts={}));var ts;(function(ts){var SignatureHelp;(function(SignatureHelp){var emptyArray=[];var ArgumentListKind;(function(ArgumentListKind){ArgumentListKind[ArgumentListKind["TypeArguments"]=0]="TypeArguments";ArgumentListKind[ArgumentListKind["CallArguments"]=1]="CallArguments";ArgumentListKind[ArgumentListKind["TaggedTemplateArguments"]=2]="TaggedTemplateArguments";})(ArgumentListKind||(ArgumentListKind={}));function getSignatureHelpItems(program,sourceFile,position,cancellationToken){var typeChecker=program.getTypeChecker();var startingToken=ts.findTokenOnLeftOfPosition(sourceFile,position);if(!startingToken){return undefined;}
var argumentInfo=getContainingArgumentInfo(startingToken);cancellationToken.throwIfCancellationRequested();if(!argumentInfo){return undefined;}
var call=argumentInfo.invocation;var candidates=[];var resolvedSignature=typeChecker.getResolvedSignature(call,candidates);cancellationToken.throwIfCancellationRequested();if(!candidates.length){if(ts.isSourceFileJavaScript(sourceFile)){return createJavaScriptSignatureHelpItems(argumentInfo);}
return undefined;}
return createSignatureHelpItems(candidates,resolvedSignature,argumentInfo);function createJavaScriptSignatureHelpItems(argumentInfo){if(argumentInfo.invocation.kind!==171 ){return undefined;}
var callExpression=argumentInfo.invocation;var expression=callExpression.expression;var name=expression.kind===69 ?expression:expression.kind===169 ?expression.name:undefined;if(!name||!name.text){return undefined;}
var typeChecker=program.getTypeChecker();for(var _i=0,_a=program.getSourceFiles();_i<_a.length;_i++){var sourceFile_1=_a[_i];var nameToDeclarations=sourceFile_1.getNamedDeclarations();var declarations=ts.getProperty(nameToDeclarations,name.text);if(declarations){for(var _b=0,declarations_7=declarations;_b<declarations_7.length;_b++){var declaration=declarations_7[_b];var symbol=declaration.symbol;if(symbol){var type=typeChecker.getTypeOfSymbolAtLocation(symbol,declaration);if(type){var callSignatures=type.getCallSignatures();if(callSignatures&&callSignatures.length){return createSignatureHelpItems(callSignatures,callSignatures[0],argumentInfo);}}}}}}}
function getImmediatelyContainingArgumentInfo(node){if(node.parent.kind===171 ||node.parent.kind===172 ){var callExpression=node.parent;if(node.kind===25 ||node.kind===17 ){var list=getChildListThatStartsWithOpenerToken(callExpression,node,sourceFile);var isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos;ts.Debug.assert(list!==undefined);return{kind:isTypeArgList?0 :1 ,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list),argumentIndex:0,argumentCount:getArgumentCount(list)};}
var listItemInfo=ts.findListItemInfo(node);if(listItemInfo){var list=listItemInfo.list;var isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos;var argumentIndex=getArgumentIndex(list,node);var argumentCount=getArgumentCount(list);ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{kind:isTypeArgList?0 :1 ,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list),argumentIndex:argumentIndex,argumentCount:argumentCount};}}
else if(node.kind===11 &&node.parent.kind===173 ){if(ts.isInsideTemplateLiteral(node,position)){return getArgumentListInfoForTemplate(node.parent,0);}}
else if(node.kind===12 &&node.parent.parent.kind===173 ){var templateExpression=node.parent;var tagExpression=templateExpression.parent;ts.Debug.assert(templateExpression.kind===186 );var argumentIndex=ts.isInsideTemplateLiteral(node,position)?0:1;return getArgumentListInfoForTemplate(tagExpression,argumentIndex);}
else if(node.parent.kind===193 &&node.parent.parent.parent.kind===173 ){var templateSpan=node.parent;var templateExpression=templateSpan.parent;var tagExpression=templateExpression.parent;ts.Debug.assert(templateExpression.kind===186 );if(node.kind===14 &&!ts.isInsideTemplateLiteral(node,position)){return undefined;}
var spanIndex=templateExpression.templateSpans.indexOf(templateSpan);var argumentIndex=getArgumentIndexForTemplatePiece(spanIndex,node);return getArgumentListInfoForTemplate(tagExpression,argumentIndex);}
return undefined;}
function getArgumentIndex(argumentsList,node){var argumentIndex=0;var listChildren=argumentsList.getChildren();for(var _i=0,listChildren_1=listChildren;_i<listChildren_1.length;_i++){var child=listChildren_1[_i];if(child===node){break;}
if(child.kind!==24 ){argumentIndex++;}}
return argumentIndex;}
function getArgumentCount(argumentsList){var listChildren=argumentsList.getChildren();var argumentCount=ts.countWhere(listChildren,function(arg){return arg.kind!==24 ;});if(listChildren.length>0&&ts.lastOrUndefined(listChildren).kind===24 ){argumentCount++;}
return argumentCount;}
function getArgumentIndexForTemplatePiece(spanIndex,node){ts.Debug.assert(position>=node.getStart(),"Assumed 'position' could not occur before node.");if(ts.isTemplateLiteralKind(node.kind)){if(ts.isInsideTemplateLiteral(node,position)){return 0;}
return spanIndex+2;}
return spanIndex+1;}
function getArgumentListInfoForTemplate(tagExpression,argumentIndex){var argumentCount=tagExpression.template.kind===11 ?1:tagExpression.template.templateSpans.length+1;ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{kind:2 ,invocation:tagExpression,argumentsSpan:getApplicableSpanForTaggedTemplate(tagExpression),argumentIndex:argumentIndex,argumentCount:argumentCount};}
function getApplicableSpanForArguments(argumentsList){var applicableSpanStart=argumentsList.getFullStart();var applicableSpanEnd=ts.skipTrivia(sourceFile.text,argumentsList.getEnd(),false);return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart);}
function getApplicableSpanForTaggedTemplate(taggedTemplate){var template=taggedTemplate.template;var applicableSpanStart=template.getStart();var applicableSpanEnd=template.getEnd();if(template.kind===186 ){var lastSpan=ts.lastOrUndefined(template.templateSpans);if(lastSpan.literal.getFullWidth()===0){applicableSpanEnd=ts.skipTrivia(sourceFile.text,applicableSpanEnd,false);}}
return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart);}
function getContainingArgumentInfo(node){for(var n=node;n.kind!==251 ;n=n.parent){if(ts.isFunctionBlock(n)){return undefined;}
if(n.pos<n.parent.pos||n.end>n.parent.end){ts.Debug.fail("Node of kind "+n.kind+" is not a subspan of its parent of kind "+n.parent.kind);}
var argumentInfo_1=getImmediatelyContainingArgumentInfo(n);if(argumentInfo_1){return argumentInfo_1;}}
return undefined;}
function getChildListThatStartsWithOpenerToken(parent,openerToken,sourceFile){var children=parent.getChildren(sourceFile);var indexOfOpenerToken=children.indexOf(openerToken);ts.Debug.assert(indexOfOpenerToken>=0&&children.length>indexOfOpenerToken+1);return children[indexOfOpenerToken+1];}
function selectBestInvalidOverloadIndex(candidates,argumentCount){var maxParamsSignatureIndex=-1;var maxParams=-1;for(var i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.hasRestParameter||candidate.parameters.length>=argumentCount){return i;}
if(candidate.parameters.length>maxParams){maxParams=candidate.parameters.length;maxParamsSignatureIndex=i;}}
return maxParamsSignatureIndex;}
function createSignatureHelpItems(candidates,bestSignature,argumentListInfo){var applicableSpan=argumentListInfo.argumentsSpan;var isTypeParameterList=argumentListInfo.kind===0 ;var invocation=argumentListInfo.invocation;var callTarget=ts.getInvokedExpression(invocation);var callTargetSymbol=typeChecker.getSymbolAtLocation(callTarget);var callTargetDisplayParts=callTargetSymbol&&ts.symbolToDisplayParts(typeChecker,callTargetSymbol,undefined,undefined);var items=ts.map(candidates,function(candidateSignature){var signatureHelpParameters;var prefixDisplayParts=[];var suffixDisplayParts=[];if(callTargetDisplayParts){ts.addRange(prefixDisplayParts,callTargetDisplayParts);}
if(isTypeParameterList){prefixDisplayParts.push(ts.punctuationPart(25 ));var typeParameters=candidateSignature.typeParameters;signatureHelpParameters=typeParameters&&typeParameters.length>0?ts.map(typeParameters,createSignatureHelpParameterForTypeParameter):emptyArray;suffixDisplayParts.push(ts.punctuationPart(27 ));var parameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForParametersAndDelimiters(candidateSignature.parameters,writer,invocation);});ts.addRange(suffixDisplayParts,parameterParts);}
else{var typeParameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForTypeParametersAndDelimiters(candidateSignature.typeParameters,writer,invocation);});ts.addRange(prefixDisplayParts,typeParameterParts);prefixDisplayParts.push(ts.punctuationPart(17 ));var parameters=candidateSignature.parameters;signatureHelpParameters=parameters.length>0?ts.map(parameters,createSignatureHelpParameterForParameter):emptyArray;suffixDisplayParts.push(ts.punctuationPart(18 ));}
var returnTypeParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildReturnTypeDisplay(candidateSignature,writer,invocation);});ts.addRange(suffixDisplayParts,returnTypeParts);return{isVariadic:candidateSignature.hasRestParameter,prefixDisplayParts:prefixDisplayParts,suffixDisplayParts:suffixDisplayParts,separatorDisplayParts:[ts.punctuationPart(24 ),ts.spacePart()],parameters:signatureHelpParameters,documentation:candidateSignature.getDocumentationComment()};});var argumentIndex=argumentListInfo.argumentIndex;var argumentCount=argumentListInfo.argumentCount;var selectedItemIndex=candidates.indexOf(bestSignature);if(selectedItemIndex<0){selectedItemIndex=selectBestInvalidOverloadIndex(candidates,argumentCount);}
ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{items:items,applicableSpan:applicableSpan,selectedItemIndex:selectedItemIndex,argumentIndex:argumentIndex,argumentCount:argumentCount};function createSignatureHelpParameterForParameter(parameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildParameterDisplay(parameter,writer,invocation);});return{name:parameter.name,documentation:parameter.getDocumentationComment(),displayParts:displayParts,isOptional:typeChecker.isOptionalParameter(parameter.valueDeclaration)};}
function createSignatureHelpParameterForTypeParameter(typeParameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(typeParameter,writer,invocation);});return{name:typeParameter.symbol.name,documentation:emptyArray,displayParts:displayParts,isOptional:false};}}}
SignatureHelp.getSignatureHelpItems=getSignatureHelpItems;})(SignatureHelp=ts.SignatureHelp||(ts.SignatureHelp={}));})(ts||(ts={}));var ts;(function(ts){function getEndLinePosition(line,sourceFile){ts.Debug.assert(line>=0);var lineStarts=sourceFile.getLineStarts();var lineIndex=line;if(lineIndex+1===lineStarts.length){return sourceFile.text.length-1;}
else{var start=lineStarts[lineIndex];var pos=lineStarts[lineIndex+1]-1;ts.Debug.assert(ts.isLineBreak(sourceFile.text.charCodeAt(pos)));while(start<=pos&&ts.isLineBreak(sourceFile.text.charCodeAt(pos))){pos--;}
return pos;}}
ts.getEndLinePosition=getEndLinePosition;function getLineStartPositionForPosition(position,sourceFile){var lineStarts=sourceFile.getLineStarts();var line=sourceFile.getLineAndCharacterOfPosition(position).line;return lineStarts[line];}
ts.getLineStartPositionForPosition=getLineStartPositionForPosition;function rangeContainsRange(r1,r2){return startEndContainsRange(r1.pos,r1.end,r2);}
ts.rangeContainsRange=rangeContainsRange;function startEndContainsRange(start,end,range){return start<=range.pos&&end>=range.end;}
ts.startEndContainsRange=startEndContainsRange;function rangeContainsStartEnd(range,start,end){return range.pos<=start&&range.end>=end;}
ts.rangeContainsStartEnd=rangeContainsStartEnd;function rangeOverlapsWithStartEnd(r1,start,end){return startEndOverlapsWithStartEnd(r1.pos,r1.end,start,end);}
ts.rangeOverlapsWithStartEnd=rangeOverlapsWithStartEnd;function startEndOverlapsWithStartEnd(start1,end1,start2,end2){var start=Math.max(start1,start2);var end=Math.min(end1,end2);return start<end;}
ts.startEndOverlapsWithStartEnd=startEndOverlapsWithStartEnd;function positionBelongsToNode(candidate,position,sourceFile){return candidate.end>position||!isCompletedNode(candidate,sourceFile);}
ts.positionBelongsToNode=positionBelongsToNode;function isCompletedNode(n,sourceFile){if(ts.nodeIsMissing(n)){return false;}
switch(n.kind){case 217 :case 218 :case 220 :case 168 :case 164 :case 156 :case 195 :case 222 :case 223 :return nodeEndsWith(n,16 ,sourceFile);case 247 :return isCompletedNode(n.block,sourceFile);case 172 :if(!n.arguments){return true;}
case 171 :case 175 :case 161 :return nodeEndsWith(n,18 ,sourceFile);case 153 :case 154 :return isCompletedNode(n.type,sourceFile);case 145 :case 146 :case 147 :case 216 :case 176 :case 144 :case 143 :case 149 :case 148 :case 177 :if(n.body){return isCompletedNode(n.body,sourceFile);}
if(n.type){return isCompletedNode(n.type,sourceFile);}
return hasChildOfKind(n,18 ,sourceFile);case 221 :return n.body&&isCompletedNode(n.body,sourceFile);case 199 :if(n.elseStatement){return isCompletedNode(n.elseStatement,sourceFile);}
return isCompletedNode(n.thenStatement,sourceFile);case 198 :return isCompletedNode(n.expression,sourceFile)||hasChildOfKind(n,23 );case 167 :case 165 :case 170 :case 137 :case 158 :return nodeEndsWith(n,20 ,sourceFile);case 150 :if(n.type){return isCompletedNode(n.type,sourceFile);}
return hasChildOfKind(n,20 ,sourceFile);case 244 :case 245 :return false;case 202 :case 203 :case 204 :case 201 :return isCompletedNode(n.statement,sourceFile);case 200 :var hasWhileKeyword=findChildOfKind(n,104 ,sourceFile);if(hasWhileKeyword){return nodeEndsWith(n,18 ,sourceFile);}
return isCompletedNode(n.statement,sourceFile);case 155 :return isCompletedNode(n.exprName,sourceFile);case 179 :case 178 :case 180 :case 187 :case 188 :var unaryWordExpression=n;return isCompletedNode(unaryWordExpression.expression,sourceFile);case 173 :return isCompletedNode(n.template,sourceFile);case 186 :var lastSpan=ts.lastOrUndefined(n.templateSpans);return isCompletedNode(lastSpan,sourceFile);case 193 :return ts.nodeIsPresent(n.literal);case 182 :return isCompletedNode(n.operand,sourceFile);case 184 :return isCompletedNode(n.right,sourceFile);case 185 :return isCompletedNode(n.whenFalse,sourceFile);default:return true;}}
ts.isCompletedNode=isCompletedNode;function nodeEndsWith(n,expectedLastToken,sourceFile){var children=n.getChildren(sourceFile);if(children.length){var last=ts.lastOrUndefined(children);if(last.kind===expectedLastToken){return true;}
else if(last.kind===23 &&children.length!==1){return children[children.length-2].kind===expectedLastToken;}}
return false;}
function findListItemInfo(node){var list=findContainingList(node);if(!list){return undefined;}
var children=list.getChildren();var listItemIndex=ts.indexOf(children,node);return{listItemIndex:listItemIndex,list:list};}
ts.findListItemInfo=findListItemInfo;function hasChildOfKind(n,kind,sourceFile){return!!findChildOfKind(n,kind,sourceFile);}
ts.hasChildOfKind=hasChildOfKind;function findChildOfKind(n,kind,sourceFile){return ts.forEach(n.getChildren(sourceFile),function(c){return c.kind===kind&&c;});}
ts.findChildOfKind=findChildOfKind;function findContainingList(node){var syntaxList=ts.forEach(node.parent.getChildren(),function(c){if(c.kind===274 &&c.pos<=node.pos&&c.end>=node.end){return c;}});ts.Debug.assert(!syntaxList||ts.contains(syntaxList.getChildren(),node));return syntaxList;}
ts.findContainingList=findContainingList;function getTouchingWord(sourceFile,position){return getTouchingToken(sourceFile,position,function(n){return isWord(n.kind);});}
ts.getTouchingWord=getTouchingWord;function getTouchingPropertyName(sourceFile,position){return getTouchingToken(sourceFile,position,function(n){return isPropertyName(n.kind);});}
ts.getTouchingPropertyName=getTouchingPropertyName;function getTouchingToken(sourceFile,position,includeItemAtEndPosition){return getTokenAtPositionWorker(sourceFile,position,false,includeItemAtEndPosition);}
ts.getTouchingToken=getTouchingToken;function getTokenAtPosition(sourceFile,position){return getTokenAtPositionWorker(sourceFile,position,true,undefined);}
ts.getTokenAtPosition=getTokenAtPosition;function getTokenAtPositionWorker(sourceFile,position,allowPositionInLeadingTrivia,includeItemAtEndPosition){var current=sourceFile;outer:while(true){if(isToken(current)){return current;}
for(var i=0,n=current.getChildCount(sourceFile);i<n;i++){var child=current.getChildAt(i);var start=allowPositionInLeadingTrivia?child.getFullStart():child.getStart(sourceFile);if(start<=position){var end=child.getEnd();if(position<end||(position===end&&child.kind===1 )){current=child;continue outer;}
else if(includeItemAtEndPosition&&end===position){var previousToken=findPrecedingToken(position,sourceFile,child);if(previousToken&&includeItemAtEndPosition(previousToken)){return previousToken;}}}}
return current;}}
function findTokenOnLeftOfPosition(file,position){var tokenAtPosition=getTokenAtPosition(file,position);if(isToken(tokenAtPosition)&&position>tokenAtPosition.getStart(file)&&position<tokenAtPosition.getEnd()){return tokenAtPosition;}
return findPrecedingToken(position,file);}
ts.findTokenOnLeftOfPosition=findTokenOnLeftOfPosition;function findNextToken(previousToken,parent){return find(parent);function find(n){if(isToken(n)&&n.pos===previousToken.end){return n;}
var children=n.getChildren();for(var _i=0,children_1=children;_i<children_1.length;_i++){var child=children_1[_i];var shouldDiveInChildNode=(child.pos<=previousToken.pos&&child.end>previousToken.end)||(child.pos===previousToken.end);if(shouldDiveInChildNode&&nodeHasTokens(child)){return find(child);}}
return undefined;}}
ts.findNextToken=findNextToken;function findPrecedingToken(position,sourceFile,startNode){return find(startNode||sourceFile);function findRightmostToken(n){if(isToken(n)||n.kind===239 ){return n;}
var children=n.getChildren();var candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate);}
function find(n){if(isToken(n)||n.kind===239 ){return n;}
var children=n.getChildren();for(var i=0,len=children.length;i<len;i++){var child=children[i];if(position<child.end&&(nodeHasTokens(child)||child.kind===239 )){var start=child.getStart(sourceFile);var lookInPreviousChild=(start>=position)||(child.kind===239 &&start===child.end);if(lookInPreviousChild){var candidate=findRightmostChildNodeWithTokens(children,i);return candidate&&findRightmostToken(candidate);}
else{return find(child);}}}
ts.Debug.assert(startNode!==undefined||n.kind===251 );if(children.length){var candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate);}}
function findRightmostChildNodeWithTokens(children,exclusiveStartPosition){for(var i=exclusiveStartPosition-1;i>=0;--i){if(nodeHasTokens(children[i])){return children[i];}}}}
ts.findPrecedingToken=findPrecedingToken;function isInString(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);return token&&(token.kind===9 ||token.kind===163 )&&position>token.getStart();}
ts.isInString=isInString;function isInComment(sourceFile,position){return isInCommentHelper(sourceFile,position,undefined);}
ts.isInComment=isInComment;function isInCommentHelper(sourceFile,position,predicate){var token=getTokenAtPosition(sourceFile,position);if(token&&position<=token.getStart()){var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return predicate?ts.forEach(commentRanges,function(c){return c.pos<position&&(c.kind==2 ?position<=c.end:position<c.end)&&predicate(c);}):ts.forEach(commentRanges,function(c){return c.pos<position&&(c.kind==2 ?position<=c.end:position<c.end);});}
return false;}
ts.isInCommentHelper=isInCommentHelper;function hasDocComment(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return ts.forEach(commentRanges,jsDocPrefix);function jsDocPrefix(c){var text=sourceFile.text;return text.length>=c.pos+3&&text[c.pos]==='/'&&text[c.pos+1]==='*'&&text[c.pos+2]==='*';}}
ts.hasDocComment=hasDocComment;function getJsDocTagAtPosition(sourceFile,position){var node=ts.getTokenAtPosition(sourceFile,position);if(isToken(node)){switch(node.kind){case 102 :case 108 :case 74 :node=node.parent===undefined?undefined:node.parent.parent;break;default:node=node.parent;break;}}
if(node){var jsDocComment=node.jsDocComment;if(jsDocComment){for(var _i=0,_a=jsDocComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.pos<=position&&position<=tag.end){return tag;}}}}
return undefined;}
ts.getJsDocTagAtPosition=getJsDocTagAtPosition;function nodeHasTokens(n){return n.getWidth()!==0;}
function getNodeModifiers(node){var flags=ts.getCombinedNodeFlags(node);var result=[];if(flags&16 )
result.push(ts.ScriptElementKindModifier.privateMemberModifier);if(flags&32 )
result.push(ts.ScriptElementKindModifier.protectedMemberModifier);if(flags&8 )
result.push(ts.ScriptElementKindModifier.publicMemberModifier);if(flags&64 )
result.push(ts.ScriptElementKindModifier.staticModifier);if(flags&128 )
result.push(ts.ScriptElementKindModifier.abstractModifier);if(flags&2 )
result.push(ts.ScriptElementKindModifier.exportedModifier);if(ts.isInAmbientContext(node))
result.push(ts.ScriptElementKindModifier.ambientModifier);return result.length>0?result.join(','):ts.ScriptElementKindModifier.none;}
ts.getNodeModifiers=getNodeModifiers;function getTypeArgumentOrTypeParameterList(node){if(node.kind===152 ||node.kind===171 ){return node.typeArguments;}
if(ts.isFunctionLike(node)||node.kind===217 ||node.kind===218 ){return node.typeParameters;}
return undefined;}
ts.getTypeArgumentOrTypeParameterList=getTypeArgumentOrTypeParameterList;function isToken(n){return n.kind>=0 &&n.kind<=135 ;}
ts.isToken=isToken;function isWord(kind){return kind===69 ||ts.isKeyword(kind);}
ts.isWord=isWord;function isPropertyName(kind){return kind===9 ||kind===8 ||isWord(kind);}
function isComment(kind){return kind===2 ||kind===3 ;}
ts.isComment=isComment;function isStringOrRegularExpressionOrTemplateLiteral(kind){if(kind===9 ||kind===163 ||kind===10 ||ts.isTemplateLiteralKind(kind)){return true;}
return false;}
ts.isStringOrRegularExpressionOrTemplateLiteral=isStringOrRegularExpressionOrTemplateLiteral;function isPunctuation(kind){return 15 <=kind&&kind<=68 ;}
ts.isPunctuation=isPunctuation;function isInsideTemplateLiteral(node,position){return ts.isTemplateLiteralKind(node.kind)&&(node.getStart()<position&&position<node.getEnd())||(!!node.isUnterminated&&position===node.getEnd());}
ts.isInsideTemplateLiteral=isInsideTemplateLiteral;function isAccessibilityModifier(kind){switch(kind){case 112 :case 110 :case 111 :return true;}
return false;}
ts.isAccessibilityModifier=isAccessibilityModifier;function compareDataObjects(dst,src){for(var e in dst){if(typeof dst[e]==="object"){if(!compareDataObjects(dst[e],src[e])){return false;}}
else if(typeof dst[e]!=="function"){if(dst[e]!==src[e]){return false;}}}
return true;}
ts.compareDataObjects=compareDataObjects;function isArrayLiteralOrObjectLiteralDestructuringPattern(node){if(node.kind===167 ||node.kind===168 ){if(node.parent.kind===184 &&node.parent.left===node&&node.parent.operatorToken.kind===56 ){return true;}
if(node.parent.kind===204 &&node.parent.initializer===node){return true;}
if(isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent.kind===248 ?node.parent.parent:node.parent)){return true;}}
return false;}
ts.isArrayLiteralOrObjectLiteralDestructuringPattern=isArrayLiteralOrObjectLiteralDestructuringPattern;})(ts||(ts={}));var ts;(function(ts){function isFirstDeclarationOfSymbolParameter(symbol){return symbol.declarations&&symbol.declarations.length>0&&symbol.declarations[0].kind===139 ;}
ts.isFirstDeclarationOfSymbolParameter=isFirstDeclarationOfSymbolParameter;var displayPartWriter=getDisplayPartWriter();function getDisplayPartWriter(){var displayParts;var lineStart;var indent;resetWriter();return{displayParts:function(){return displayParts;},writeKeyword:function(text){return writeKind(text,ts.SymbolDisplayPartKind.keyword);},writeOperator:function(text){return writeKind(text,ts.SymbolDisplayPartKind.operator);},writePunctuation:function(text){return writeKind(text,ts.SymbolDisplayPartKind.punctuation);},writeSpace:function(text){return writeKind(text,ts.SymbolDisplayPartKind.space);},writeStringLiteral:function(text){return writeKind(text,ts.SymbolDisplayPartKind.stringLiteral);},writeParameter:function(text){return writeKind(text,ts.SymbolDisplayPartKind.parameterName);},writeSymbol:writeSymbol,writeLine:writeLine,increaseIndent:function(){indent++;},decreaseIndent:function(){indent--;},clear:resetWriter,trackSymbol:function(){},reportInaccessibleThisError:function(){}};function writeIndent(){if(lineStart){var indentString=ts.getIndentString(indent);if(indentString){displayParts.push(displayPart(indentString,ts.SymbolDisplayPartKind.space));}
lineStart=false;}}
function writeKind(text,kind){writeIndent();displayParts.push(displayPart(text,kind));}
function writeSymbol(text,symbol){writeIndent();displayParts.push(symbolPart(text,symbol));}
function writeLine(){displayParts.push(lineBreakPart());lineStart=true;}
function resetWriter(){displayParts=[];lineStart=true;indent=0;}}
function symbolPart(text,symbol){return displayPart(text,displayPartKind(symbol),symbol);function displayPartKind(symbol){var flags=symbol.flags;if(flags&3 ){return isFirstDeclarationOfSymbolParameter(symbol)?ts.SymbolDisplayPartKind.parameterName:ts.SymbolDisplayPartKind.localName;}
else if(flags&4 ){return ts.SymbolDisplayPartKind.propertyName;}
else if(flags&32768 ){return ts.SymbolDisplayPartKind.propertyName;}
else if(flags&65536 ){return ts.SymbolDisplayPartKind.propertyName;}
else if(flags&8 ){return ts.SymbolDisplayPartKind.enumMemberName;}
else if(flags&16 ){return ts.SymbolDisplayPartKind.functionName;}
else if(flags&32 ){return ts.SymbolDisplayPartKind.className;}
else if(flags&64 ){return ts.SymbolDisplayPartKind.interfaceName;}
else if(flags&384 ){return ts.SymbolDisplayPartKind.enumName;}
else if(flags&1536 ){return ts.SymbolDisplayPartKind.moduleName;}
else if(flags&8192 ){return ts.SymbolDisplayPartKind.methodName;}
else if(flags&262144 ){return ts.SymbolDisplayPartKind.typeParameterName;}
else if(flags&524288 ){return ts.SymbolDisplayPartKind.aliasName;}
else if(flags&8388608 ){return ts.SymbolDisplayPartKind.aliasName;}
return ts.SymbolDisplayPartKind.text;}}
ts.symbolPart=symbolPart;function displayPart(text,kind,symbol){return{text:text,kind:ts.SymbolDisplayPartKind[kind]};}
ts.displayPart=displayPart;function spacePart(){return displayPart(" ",ts.SymbolDisplayPartKind.space);}
ts.spacePart=spacePart;function keywordPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.keyword);}
ts.keywordPart=keywordPart;function punctuationPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.punctuation);}
ts.punctuationPart=punctuationPart;function operatorPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.operator);}
ts.operatorPart=operatorPart;function textOrKeywordPart(text){var kind=ts.stringToToken(text);return kind===undefined?textPart(text):keywordPart(kind);}
ts.textOrKeywordPart=textOrKeywordPart;function textPart(text){return displayPart(text,ts.SymbolDisplayPartKind.text);}
ts.textPart=textPart;var carriageReturnLineFeed="\r\n";function getNewLineOrDefaultFromHost(host){return host.getNewLine?host.getNewLine():carriageReturnLineFeed;}
ts.getNewLineOrDefaultFromHost=getNewLineOrDefaultFromHost;function lineBreakPart(){return displayPart("\n",ts.SymbolDisplayPartKind.lineBreak);}
ts.lineBreakPart=lineBreakPart;function mapToDisplayParts(writeDisplayParts){writeDisplayParts(displayPartWriter);var result=displayPartWriter.displayParts();displayPartWriter.clear();return result;}
ts.mapToDisplayParts=mapToDisplayParts;function typeToDisplayParts(typechecker,type,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);});}
ts.typeToDisplayParts=typeToDisplayParts;function symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration,meaning,flags){return mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags);});}
ts.symbolToDisplayParts=symbolToDisplayParts;function signatureToDisplayParts(typechecker,signature,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags);});}
ts.signatureToDisplayParts=signatureToDisplayParts;function getDeclaredName(typeChecker,symbol,location){if(isImportOrExportSpecifierName(location)){return location.getText();}
var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol);var name=typeChecker.symbolToString(localExportDefaultSymbol||symbol);return name;}
ts.getDeclaredName=getDeclaredName;function isImportOrExportSpecifierName(location){return location.parent&&(location.parent.kind===229 ||location.parent.kind===233 )&&location.parent.propertyName===location;}
ts.isImportOrExportSpecifierName=isImportOrExportSpecifierName;function stripQuotes(name){var length=name.length;if(length>=2&&name.charCodeAt(0)===name.charCodeAt(length-1)&&(name.charCodeAt(0)===34 ||name.charCodeAt(0)===39 )){return name.substring(1,length-1);};return name;}
ts.stripQuotes=stripQuotes;function scriptKindIs(fileName,host){var scriptKinds=[];for(var _i=2;_i<arguments.length;_i++){scriptKinds[_i-2]=arguments[_i];}
var scriptKind=getScriptKind(fileName,host);return ts.forEach(scriptKinds,function(k){return k===scriptKind;});}
ts.scriptKindIs=scriptKindIs;function getScriptKind(fileName,host){var scriptKind=ts.getScriptKindFromFileName(fileName);if(scriptKind===0 &&host&&host.getScriptKind){scriptKind=host.getScriptKind(fileName);}
return ts.ensureScriptKind(fileName,scriptKind);}
ts.getScriptKind=getScriptKind;})(ts||(ts={}));var ts;(function(ts){var JsTyping;(function(JsTyping){;;var safeList;function discoverTypings(host,fileNames,projectRootPath,safeListPath,packageNameToTypingLocation,typingOptions,compilerOptions){var inferredTypings={};if(!typingOptions||!typingOptions.enableAutoDiscovery){return{cachedTypingPaths:[],newTypingNames:[],filesToWatch:[]};}
fileNames=ts.filter(ts.map(fileNames,ts.normalizePath),function(f){return ts.scriptKindIs(f,undefined,1 ,2 );});if(!safeList){var result=ts.readConfigFile(safeListPath,function(path){return host.readFile(path);});if(result.config){safeList=result.config;}
else{safeList={};}}
var filesToWatch=[];var searchDirs=[];var exclude=[];mergeTypings(typingOptions.include);exclude=typingOptions.exclude||[];var possibleSearchDirs=ts.map(fileNames,ts.getDirectoryPath);if(projectRootPath!==undefined){possibleSearchDirs.push(projectRootPath);}
searchDirs=ts.deduplicate(possibleSearchDirs);for(var _i=0,searchDirs_1=searchDirs;_i<searchDirs_1.length;_i++){var searchDir=searchDirs_1[_i];var packageJsonPath=ts.combinePaths(searchDir,"package.json");getTypingNamesFromJson(packageJsonPath,filesToWatch);var bowerJsonPath=ts.combinePaths(searchDir,"bower.json");getTypingNamesFromJson(bowerJsonPath,filesToWatch);var nodeModulesPath=ts.combinePaths(searchDir,"node_modules");getTypingNamesFromNodeModuleFolder(nodeModulesPath);}
getTypingNamesFromSourceFileNames(fileNames);for(var name_35 in packageNameToTypingLocation){if(ts.hasProperty(inferredTypings,name_35)&&!inferredTypings[name_35]){inferredTypings[name_35]=packageNameToTypingLocation[name_35];}}
for(var _a=0,exclude_1=exclude;_a<exclude_1.length;_a++){var excludeTypingName=exclude_1[_a];delete inferredTypings[excludeTypingName];}
var newTypingNames=[];var cachedTypingPaths=[];for(var typing in inferredTypings){if(inferredTypings[typing]!==undefined){cachedTypingPaths.push(inferredTypings[typing]);}
else{newTypingNames.push(typing);}}
return{cachedTypingPaths:cachedTypingPaths,newTypingNames:newTypingNames,filesToWatch:filesToWatch};function mergeTypings(typingNames){if(!typingNames){return;}
for(var _i=0,typingNames_1=typingNames;_i<typingNames_1.length;_i++){var typing=typingNames_1[_i];if(!ts.hasProperty(inferredTypings,typing)){inferredTypings[typing]=undefined;}}}
function getTypingNamesFromJson(jsonPath,filesToWatch){var result=ts.readConfigFile(jsonPath,function(path){return host.readFile(path);});if(result.config){var jsonConfig=result.config;filesToWatch.push(jsonPath);if(jsonConfig.dependencies){mergeTypings(ts.getKeys(jsonConfig.dependencies));}
if(jsonConfig.devDependencies){mergeTypings(ts.getKeys(jsonConfig.devDependencies));}
if(jsonConfig.optionalDependencies){mergeTypings(ts.getKeys(jsonConfig.optionalDependencies));}
if(jsonConfig.peerDependencies){mergeTypings(ts.getKeys(jsonConfig.peerDependencies));}}}
function getTypingNamesFromSourceFileNames(fileNames){var jsFileNames=ts.filter(fileNames,ts.hasJavaScriptFileExtension);var inferredTypingNames=ts.map(jsFileNames,function(f){return ts.removeFileExtension(ts.getBaseFileName(f.toLowerCase()));});var cleanedTypingNames=ts.map(inferredTypingNames,function(f){return f.replace(/((?:\.|-)min(?=\.|$))|((?:-|\.)\d+)/g,"");});if(safeList===undefined){mergeTypings(cleanedTypingNames);}
else{mergeTypings(ts.filter(cleanedTypingNames,function(f){return ts.hasProperty(safeList,f);}));}
var hasJsxFile=ts.forEach(fileNames,function(f){return ts.scriptKindIs(f,undefined,2 );});if(hasJsxFile){mergeTypings(["react"]);}}
function getTypingNamesFromNodeModuleFolder(nodeModulesPath){if(!host.directoryExists(nodeModulesPath)){return;}
var typingNames=[];var fileNames=host.readDirectory(nodeModulesPath,"*.json",undefined,2);for(var _i=0,fileNames_1=fileNames;_i<fileNames_1.length;_i++){var fileName=fileNames_1[_i];var normalizedFileName=ts.normalizePath(fileName);if(ts.getBaseFileName(normalizedFileName)!=="package.json"){continue;}
var result=ts.readConfigFile(normalizedFileName,function(path){return host.readFile(path);});if(!result.config){continue;}
var packageJson=result.config;if(packageJson._requiredBy&&ts.filter(packageJson._requiredBy,function(r){return r[0]==="#"||r==="/";}).length===0){continue;}
if(!packageJson.name){continue;}
if(packageJson.typings){var absolutePath=ts.getNormalizedAbsolutePath(packageJson.typings,ts.getDirectoryPath(normalizedFileName));inferredTypings[packageJson.name]=absolutePath;}
else{typingNames.push(packageJson.name);}}
mergeTypings(typingNames);}}
JsTyping.discoverTypings=discoverTypings;})(JsTyping=ts.JsTyping||(ts.JsTyping={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var standardScanner=ts.createScanner(2 ,false,0 );var jsxScanner=ts.createScanner(2 ,false,1 );var scanner;var ScanAction;(function(ScanAction){ScanAction[ScanAction["Scan"]=0]="Scan";ScanAction[ScanAction["RescanGreaterThanToken"]=1]="RescanGreaterThanToken";ScanAction[ScanAction["RescanSlashToken"]=2]="RescanSlashToken";ScanAction[ScanAction["RescanTemplateToken"]=3]="RescanTemplateToken";ScanAction[ScanAction["RescanJsxIdentifier"]=4]="RescanJsxIdentifier";})(ScanAction||(ScanAction={}));function getFormattingScanner(sourceFile,startPos,endPos){ts.Debug.assert(scanner===undefined);scanner=sourceFile.languageVariant===1 ?jsxScanner:standardScanner;scanner.setText(sourceFile.text);scanner.setTextPos(startPos);var wasNewLine=true;var leadingTrivia;var trailingTrivia;var savedPos;var lastScanAction;var lastTokenInfo;return{advance:advance,readTokenInfo:readTokenInfo,isOnToken:isOnToken,getCurrentLeadingTrivia:function(){return leadingTrivia;},lastTrailingTriviaWasNewLine:function(){return wasNewLine;},close:function(){ts.Debug.assert(scanner!==undefined);lastTokenInfo=undefined;scanner.setText(undefined);scanner=undefined;}};function advance(){ts.Debug.assert(scanner!==undefined);lastTokenInfo=undefined;var isStarted=scanner.getStartPos()!==startPos;if(isStarted){if(trailingTrivia){ts.Debug.assert(trailingTrivia.length!==0);wasNewLine=ts.lastOrUndefined(trailingTrivia).kind===4 ;}
else{wasNewLine=false;}}
leadingTrivia=undefined;trailingTrivia=undefined;if(!isStarted){scanner.scan();}
var t;var pos=scanner.getStartPos();while(pos<endPos){var t_1=scanner.getToken();if(!ts.isTrivia(t_1)){break;}
scanner.scan();var item={pos:pos,end:scanner.getStartPos(),kind:t_1};pos=scanner.getStartPos();if(!leadingTrivia){leadingTrivia=[];}
leadingTrivia.push(item);}
savedPos=scanner.getStartPos();}
function shouldRescanGreaterThanToken(node){if(node){switch(node.kind){case 29 :case 64 :case 65 :case 45 :case 44 :return true;}}
return false;}
function shouldRescanJsxIdentifier(node){if(node.parent){switch(node.parent.kind){case 241 :case 238 :case 240 :case 237 :return node.kind===69 ;}}
return false;}
function shouldRescanSlashToken(container){return container.kind===10 ;}
function shouldRescanTemplateToken(container){return container.kind===13 ||container.kind===14 ;}
function startsWithSlashToken(t){return t===39 ||t===61 ;}
function readTokenInfo(n){ts.Debug.assert(scanner!==undefined);if(!isOnToken()){return{leadingTrivia:leadingTrivia,trailingTrivia:undefined,token:undefined};}
var expectedScanAction=shouldRescanGreaterThanToken(n)?1 :shouldRescanSlashToken(n)?2 :shouldRescanTemplateToken(n)?3 :shouldRescanJsxIdentifier(n)?4 :0 ;if(lastTokenInfo&&expectedScanAction===lastScanAction){return fixTokenKind(lastTokenInfo,n);}
if(scanner.getStartPos()!==savedPos){ts.Debug.assert(lastTokenInfo!==undefined);scanner.setTextPos(savedPos);scanner.scan();}
var currentToken=scanner.getToken();if(expectedScanAction===1 &&currentToken===27 ){currentToken=scanner.reScanGreaterToken();ts.Debug.assert(n.kind===currentToken);lastScanAction=1 ;}
else if(expectedScanAction===2 &&startsWithSlashToken(currentToken)){currentToken=scanner.reScanSlashToken();ts.Debug.assert(n.kind===currentToken);lastScanAction=2 ;}
else if(expectedScanAction===3 &&currentToken===16 ){currentToken=scanner.reScanTemplateToken();lastScanAction=3 ;}
else if(expectedScanAction===4 &&currentToken===69 ){currentToken=scanner.scanJsxIdentifier();lastScanAction=4 ;}
else{lastScanAction=0 ;}
var token={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};if(trailingTrivia){trailingTrivia=undefined;}
while(scanner.getStartPos()<endPos){currentToken=scanner.scan();if(!ts.isTrivia(currentToken)){break;}
var trivia={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};if(!trailingTrivia){trailingTrivia=[];}
trailingTrivia.push(trivia);if(currentToken===4 ){scanner.scan();break;}}
lastTokenInfo={leadingTrivia:leadingTrivia,trailingTrivia:trailingTrivia,token:token};return fixTokenKind(lastTokenInfo,n);}
function isOnToken(){ts.Debug.assert(scanner!==undefined);var current=(lastTokenInfo&&lastTokenInfo.token.kind)||scanner.getToken();var startPos=(lastTokenInfo&&lastTokenInfo.token.pos)||scanner.getStartPos();return startPos<endPos&&current!==1 &&!ts.isTrivia(current);}
function fixTokenKind(tokenInfo,container){if(ts.isToken(container)&&tokenInfo.token.kind!==container.kind){tokenInfo.token.kind=container.kind;}
return tokenInfo;}}
formatting.getFormattingScanner=getFormattingScanner;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var FormattingContext=(function(){function FormattingContext(sourceFile,formattingRequestKind){this.sourceFile=sourceFile;this.formattingRequestKind=formattingRequestKind;}
FormattingContext.prototype.updateContext=function(currentRange,currentTokenParent,nextRange,nextTokenParent,commonParent){ts.Debug.assert(currentRange!==undefined,"currentTokenSpan is null");ts.Debug.assert(currentTokenParent!==undefined,"currentTokenParent is null");ts.Debug.assert(nextRange!==undefined,"nextTokenSpan is null");ts.Debug.assert(nextTokenParent!==undefined,"nextTokenParent is null");ts.Debug.assert(commonParent!==undefined,"commonParent is null");this.currentTokenSpan=currentRange;this.currentTokenParent=currentTokenParent;this.nextTokenSpan=nextRange;this.nextTokenParent=nextTokenParent;this.contextNode=commonParent;this.contextNodeAllOnSameLine=undefined;this.nextNodeAllOnSameLine=undefined;this.tokensAreOnSameLine=undefined;this.contextNodeBlockIsOnOneLine=undefined;this.nextNodeBlockIsOnOneLine=undefined;};FormattingContext.prototype.ContextNodeAllOnSameLine=function(){if(this.contextNodeAllOnSameLine===undefined){this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode);}
return this.contextNodeAllOnSameLine;};FormattingContext.prototype.NextNodeAllOnSameLine=function(){if(this.nextNodeAllOnSameLine===undefined){this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent);}
return this.nextNodeAllOnSameLine;};FormattingContext.prototype.TokensAreOnSameLine=function(){if(this.tokensAreOnSameLine===undefined){var startLine=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line;this.tokensAreOnSameLine=(startLine===endLine);}
return this.tokensAreOnSameLine;};FormattingContext.prototype.ContextNodeBlockIsOnOneLine=function(){if(this.contextNodeBlockIsOnOneLine===undefined){this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode);}
return this.contextNodeBlockIsOnOneLine;};FormattingContext.prototype.NextNodeBlockIsOnOneLine=function(){if(this.nextNodeBlockIsOnOneLine===undefined){this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent);}
return this.nextNodeBlockIsOnOneLine;};FormattingContext.prototype.NodeIsOnOneLine=function(node){var startLine=this.sourceFile.getLineAndCharacterOfPosition(node.getStart(this.sourceFile)).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(node.getEnd()).line;return startLine===endLine;};FormattingContext.prototype.BlockIsOnOneLine=function(node){var openBrace=ts.findChildOfKind(node,15 ,this.sourceFile);var closeBrace=ts.findChildOfKind(node,16 ,this.sourceFile);if(openBrace&&closeBrace){var startLine=this.sourceFile.getLineAndCharacterOfPosition(openBrace.getEnd()).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(closeBrace.getStart(this.sourceFile)).line;return startLine===endLine;}
return false;};return FormattingContext;}());formatting.FormattingContext=FormattingContext;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(FormattingRequestKind){FormattingRequestKind[FormattingRequestKind["FormatDocument"]=0]="FormatDocument";FormattingRequestKind[FormattingRequestKind["FormatSelection"]=1]="FormatSelection";FormattingRequestKind[FormattingRequestKind["FormatOnEnter"]=2]="FormatOnEnter";FormattingRequestKind[FormattingRequestKind["FormatOnSemicolon"]=3]="FormatOnSemicolon";FormattingRequestKind[FormattingRequestKind["FormatOnClosingCurlyBrace"]=4]="FormatOnClosingCurlyBrace";})(formatting.FormattingRequestKind||(formatting.FormattingRequestKind={}));var FormattingRequestKind=formatting.FormattingRequestKind;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Rule=(function(){function Rule(Descriptor,Operation,Flag){if(Flag===void 0){Flag=0 ;}
this.Descriptor=Descriptor;this.Operation=Operation;this.Flag=Flag;}
Rule.prototype.toString=function(){return"[desc="+this.Descriptor+","+
"operation="+this.Operation+","+
"flag="+this.Flag+"]";};return Rule;}());formatting.Rule=Rule;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(RuleAction){RuleAction[RuleAction["Ignore"]=1]="Ignore";RuleAction[RuleAction["Space"]=2]="Space";RuleAction[RuleAction["NewLine"]=4]="NewLine";RuleAction[RuleAction["Delete"]=8]="Delete";})(formatting.RuleAction||(formatting.RuleAction={}));var RuleAction=formatting.RuleAction;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleDescriptor=(function(){function RuleDescriptor(LeftTokenRange,RightTokenRange){this.LeftTokenRange=LeftTokenRange;this.RightTokenRange=RightTokenRange;}
RuleDescriptor.prototype.toString=function(){return"[leftRange="+this.LeftTokenRange+","+
"rightRange="+this.RightTokenRange+"]";};RuleDescriptor.create1=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),formatting.Shared.TokenRange.FromToken(right));};RuleDescriptor.create2=function(left,right){return RuleDescriptor.create4(left,formatting.Shared.TokenRange.FromToken(right));};RuleDescriptor.create3=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),right);};RuleDescriptor.create4=function(left,right){return new RuleDescriptor(left,right);};return RuleDescriptor;}());formatting.RuleDescriptor=RuleDescriptor;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(RuleFlags){RuleFlags[RuleFlags["None"]=0]="None";RuleFlags[RuleFlags["CanDeleteNewLines"]=1]="CanDeleteNewLines";})(formatting.RuleFlags||(formatting.RuleFlags={}));var RuleFlags=formatting.RuleFlags;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleOperation=(function(){function RuleOperation(){this.Context=null;this.Action=null;}
RuleOperation.prototype.toString=function(){return"[context="+this.Context+","+
"action="+this.Action+"]";};RuleOperation.create1=function(action){return RuleOperation.create2(formatting.RuleOperationContext.Any,action);};RuleOperation.create2=function(context,action){var result=new RuleOperation();result.Context=context;result.Action=action;return result;};return RuleOperation;}());formatting.RuleOperation=RuleOperation;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleOperationContext=(function(){function RuleOperationContext(){var funcs=[];for(var _i=0;_i<arguments.length;_i++){funcs[_i-0]=arguments[_i];}
this.customContextChecks=funcs;}
RuleOperationContext.prototype.IsAny=function(){return this===RuleOperationContext.Any;};RuleOperationContext.prototype.InContext=function(context){if(this.IsAny()){return true;}
for(var _i=0,_a=this.customContextChecks;_i<_a.length;_i++){var check=_a[_i];if(!check(context)){return false;}}
return true;};RuleOperationContext.Any=new RuleOperationContext();return RuleOperationContext;}());formatting.RuleOperationContext=RuleOperationContext;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Rules=(function(){function Rules(){this.IgnoreBeforeComment=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.Comments),formatting.RuleOperation.create1(1 ));this.IgnoreAfterLineComment=new formatting.Rule(formatting.RuleDescriptor.create3(2 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create1(1 ));this.NoSpaceBeforeSemicolon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,23 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeColon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,54 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8 ));this.NoSpaceBeforeQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,53 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8 ));this.SpaceAfterColon=new formatting.Rule(formatting.RuleDescriptor.create3(54 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),2 ));this.SpaceAfterQuestionMarkInConditionalOperator=new formatting.Rule(formatting.RuleDescriptor.create3(53 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsConditionalOperatorContext),2 ));this.NoSpaceAfterQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create3(53 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterSemicolon=new formatting.Rule(formatting.RuleDescriptor.create3(23 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsAfterCodeBlockContext),2 ));this.SpaceBetweenCloseBraceAndElse=new formatting.Rule(formatting.RuleDescriptor.create1(16 ,80 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceBetweenCloseBraceAndWhile=new formatting.Rule(formatting.RuleDescriptor.create1(16 ,104 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16 ,formatting.Shared.TokenRange.FromTokens([18 ,20 ,24 ,23 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeDot=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,21 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterDot=new formatting.Rule(formatting.RuleDescriptor.create3(21 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,19 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create3(20 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBeforeBlockInFunctionDeclarationContext),8 ));this.FunctionOpenBraceLeftTokenRange=formatting.Shared.TokenRange.AnyIncludingMultilineComments;this.SpaceBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2 ),1 );this.TypeScriptOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([69 ,3 ,73 ]);this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2 ),1 );this.ControlOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([18 ,3 ,79 ,100 ,85 ,80 ]);this.SpaceBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2 ),1 );this.SpaceAfterOpenBrace=new formatting.Rule(formatting.RuleDescriptor.create3(15 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2 ));this.SpaceBeforeCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,16 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2 ));this.NoSpaceBetweenEmptyBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15 ,16 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsObjectContext),8 ));this.NewLineAfterOpenBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create3(15 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4 ));this.NewLineBeforeCloseBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.AnyIncludingMultilineComments,16 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4 ));this.NoSpaceAfterUnaryPrefixOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.UnaryPrefixOperators,formatting.Shared.TokenRange.UnaryPrefixExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8 ));this.NoSpaceAfterUnaryPreincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(41 ,formatting.Shared.TokenRange.UnaryPreincrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterUnaryPredecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(42 ,formatting.Shared.TokenRange.UnaryPredecrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeUnaryPostincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostincrementExpressions,41 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeUnaryPostdecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostdecrementExpressions,42 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterPostincrementWhenFollowedByAdd=new formatting.Rule(formatting.RuleDescriptor.create1(41 ,35 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterAddWhenFollowedByUnaryPlus=new formatting.Rule(formatting.RuleDescriptor.create1(35 ,35 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterAddWhenFollowedByPreincrement=new formatting.Rule(formatting.RuleDescriptor.create1(35 ,41 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterPostdecrementWhenFollowedBySubtract=new formatting.Rule(formatting.RuleDescriptor.create1(42 ,36 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterSubtractWhenFollowedByUnaryMinus=new formatting.Rule(formatting.RuleDescriptor.create1(36 ,36 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterSubtractWhenFollowedByPredecrement=new formatting.Rule(formatting.RuleDescriptor.create1(36 ,42 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.NoSpaceBeforeComma=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,24 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterCertainKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([102 ,98 ,92 ,78 ,94 ,101 ,119 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterLetConstInVariableDeclaration=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([108 ,74 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsStartOfVariableDeclarationList),2 ));this.NoSpaceBeforeOpenParenInFuncCall=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsFunctionCallOrNewContext,Rules.IsPreviousTokenNotComma),8 ));this.SpaceAfterFunctionInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create3(87 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2 ));this.NoSpaceBeforeOpenParenInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsFunctionDeclContext),8 ));this.SpaceAfterVoidOperator=new formatting.Rule(formatting.RuleDescriptor.create3(103 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsVoidOpContext),2 ));this.NoSpaceBetweenReturnAndSemicolon=new formatting.Rule(formatting.RuleDescriptor.create1(94 ,23 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceBetweenStatements=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([18 ,79 ,80 ,71 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotForContext),2 ));this.SpaceAfterTryFinally=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([100 ,85 ]),15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterGetSetInMember=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([123 ,129 ]),69 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2 ));this.SpaceBeforeBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryKeywordOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryKeywordOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.NoSpaceAfterConstructor=new formatting.Rule(formatting.RuleDescriptor.create1(121 ,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterModuleImport=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([125 ,127 ]),17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([115 ,73 ,122 ,77 ,81 ,82 ,83 ,123 ,106 ,89 ,107 ,125 ,126 ,110 ,112 ,111 ,129 ,113 ,132 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceBeforeCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([83 ,106 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterModuleName=new formatting.Rule(formatting.RuleDescriptor.create1(9 ,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsModuleDeclContext),2 ));this.SpaceBeforeArrow=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,34 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterArrow=new formatting.Rule(formatting.RuleDescriptor.create3(34 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceAfterEllipsis=new formatting.Rule(formatting.RuleDescriptor.create1(22 ,69 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterOptionalParameters=new formatting.Rule(formatting.RuleDescriptor.create3(53 ,formatting.Shared.TokenRange.FromTokens([18 ,24 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8 ));this.NoSpaceBeforeOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.TypeNames,25 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8 ));this.NoSpaceBetweenCloseParenAndAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create1(18 ,25 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8 ));this.NoSpaceAfterOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(25 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8 ));this.NoSpaceBeforeCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,27 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8 ));this.NoSpaceAfterCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(27 ,formatting.Shared.TokenRange.FromTokens([17 ,19 ,27 ,24 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8 ));this.NoSpaceAfterTypeAssertion=new formatting.Rule(formatting.RuleDescriptor.create3(27 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeAssertionContext),8 ));this.NoSpaceBetweenEmptyInterfaceBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15 ,16 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsObjectTypeContext),8 ));this.SpaceBeforeAt=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,55 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceAfterAt=new formatting.Rule(formatting.RuleDescriptor.create3(55 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterDecorator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([115 ,69 ,82 ,77 ,73 ,113 ,112 ,110 ,111 ,123 ,129 ,19 ,37 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsEndOfDecoratorContextOnSameLine),2 ));this.NoSpaceBetweenFunctionKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(87 ,37 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),8 ));this.SpaceAfterStarInGeneratorDeclaration=new formatting.Rule(formatting.RuleDescriptor.create3(37 ,formatting.Shared.TokenRange.FromTokens([69 ,17 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),2 ));this.NoSpaceBetweenYieldKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(114 ,37 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),8 ));this.SpaceBetweenYieldOrYieldStarAndOperand=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([114 ,37 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),2 ));this.SpaceBetweenAsyncAndOpenParen=new formatting.Rule(formatting.RuleDescriptor.create1(118 ,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsArrowFunctionContext,Rules.IsSameLineTokenContext),2 ));this.SpaceBetweenAsyncAndFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(118 ,87 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceBetweenTagAndTemplateString=new formatting.Rule(formatting.RuleDescriptor.create3(69 ,formatting.Shared.TokenRange.FromTokens([11 ,12 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.HighPriorityCommonRules=[this.IgnoreBeforeComment,this.IgnoreAfterLineComment,this.NoSpaceBeforeColon,this.SpaceAfterColon,this.NoSpaceBeforeQuestionMark,this.SpaceAfterQuestionMarkInConditionalOperator,this.NoSpaceAfterQuestionMark,this.NoSpaceBeforeDot,this.NoSpaceAfterDot,this.NoSpaceAfterUnaryPrefixOperator,this.NoSpaceAfterUnaryPreincrementOperator,this.NoSpaceAfterUnaryPredecrementOperator,this.NoSpaceBeforeUnaryPostincrementOperator,this.NoSpaceBeforeUnaryPostdecrementOperator,this.SpaceAfterPostincrementWhenFollowedByAdd,this.SpaceAfterAddWhenFollowedByUnaryPlus,this.SpaceAfterAddWhenFollowedByPreincrement,this.SpaceAfterPostdecrementWhenFollowedBySubtract,this.SpaceAfterSubtractWhenFollowedByUnaryMinus,this.SpaceAfterSubtractWhenFollowedByPredecrement,this.NoSpaceAfterCloseBrace,this.SpaceAfterOpenBrace,this.SpaceBeforeCloseBrace,this.NewLineBeforeCloseBraceInBlockContext,this.SpaceAfterCloseBrace,this.SpaceBetweenCloseBraceAndElse,this.SpaceBetweenCloseBraceAndWhile,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceBetweenFunctionKeywordAndStar,this.SpaceAfterStarInGeneratorDeclaration,this.SpaceAfterFunctionInFuncDecl,this.NewLineAfterOpenBraceInBlockContext,this.SpaceAfterGetSetInMember,this.NoSpaceBetweenYieldKeywordAndStar,this.SpaceBetweenYieldOrYieldStarAndOperand,this.NoSpaceBetweenReturnAndSemicolon,this.SpaceAfterCertainKeywords,this.SpaceAfterLetConstInVariableDeclaration,this.NoSpaceBeforeOpenParenInFuncCall,this.SpaceBeforeBinaryKeywordOperator,this.SpaceAfterBinaryKeywordOperator,this.SpaceAfterVoidOperator,this.SpaceBetweenAsyncAndOpenParen,this.SpaceBetweenAsyncAndFunctionKeyword,this.NoSpaceBetweenTagAndTemplateString,this.NoSpaceAfterConstructor,this.NoSpaceAfterModuleImport,this.SpaceAfterCertainTypeScriptKeywords,this.SpaceBeforeCertainTypeScriptKeywords,this.SpaceAfterModuleName,this.SpaceBeforeArrow,this.SpaceAfterArrow,this.NoSpaceAfterEllipsis,this.NoSpaceAfterOptionalParameters,this.NoSpaceBetweenEmptyInterfaceBraceBrackets,this.NoSpaceBeforeOpenAngularBracket,this.NoSpaceBetweenCloseParenAndAngularBracket,this.NoSpaceAfterOpenAngularBracket,this.NoSpaceBeforeCloseAngularBracket,this.NoSpaceAfterCloseAngularBracket,this.NoSpaceAfterTypeAssertion,this.SpaceBeforeAt,this.NoSpaceAfterAt,this.SpaceAfterDecorator,];this.LowPriorityCommonRules=[this.NoSpaceBeforeSemicolon,this.SpaceBeforeOpenBraceInControl,this.SpaceBeforeOpenBraceInFunction,this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock,this.NoSpaceBeforeComma,this.NoSpaceBeforeOpenBracket,this.NoSpaceAfterCloseBracket,this.SpaceAfterSemicolon,this.NoSpaceBeforeOpenParenInFuncDecl,this.SpaceBetweenStatements,this.SpaceAfterTryFinally];this.SpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNextTokenNotCloseBracket),2 ));this.NoSpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.SpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2 ));this.NoSpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),8 ));this.NoSpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),8 ));this.SpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),2 ));this.NoSpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),8 ));this.NewLineBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeMultilineBlockContext),4 ),1 );this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsBeforeMultilineBlockContext),4 ),1 );this.NewLineBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsBeforeMultilineBlockContext),4 ),1 );this.SpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsForContext),2 ));this.NoSpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsForContext),8 ));this.SpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceBetweenParens=new formatting.Rule(formatting.RuleDescriptor.create1(17 ,18 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceBetweenBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(19 ,20 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19 ,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.NoSpaceAfterTemplateHeadAndMiddle=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([12 ,13 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceAfterTemplateHeadAndMiddle=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([12 ,13 ]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.NoSpaceBeforeTemplateMiddleAndTail=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([13 ,14 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8 ));this.SpaceBeforeTemplateMiddleAndTail=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([13 ,14 ])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2 ));this.SpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87 ,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2 ));this.NoSpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87 ,17 ),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),8 ));}
Rules.prototype.getRuleName=function(rule){var o=this;for(var name_36 in o){if(o[name_36]===rule){return name_36;}}
throw new Error("Unknown rule");};Rules.IsForContext=function(context){return context.contextNode.kind===202 ;};Rules.IsNotForContext=function(context){return!Rules.IsForContext(context);};Rules.IsBinaryOpContext=function(context){switch(context.contextNode.kind){case 184 :case 185 :case 192 :case 151 :case 159 :case 160 :return true;case 166 :case 219 :case 224 :case 214 :case 139 :case 250 :case 142 :case 141 :return context.currentTokenSpan.kind===56 ||context.nextTokenSpan.kind===56 ;case 203 :return context.currentTokenSpan.kind===90 ||context.nextTokenSpan.kind===90 ;case 204 :return context.currentTokenSpan.kind===135 ||context.nextTokenSpan.kind===135 ;}
return false;};Rules.IsNotBinaryOpContext=function(context){return!Rules.IsBinaryOpContext(context);};Rules.IsConditionalOperatorContext=function(context){return context.contextNode.kind===185 ;};Rules.IsSameLineTokenOrBeforeMultilineBlockContext=function(context){return context.TokensAreOnSameLine()||Rules.IsBeforeMultilineBlockContext(context);};Rules.IsBeforeMultilineBlockContext=function(context){return Rules.IsBeforeBlockContext(context)&&!(context.NextNodeAllOnSameLine()||context.NextNodeBlockIsOnOneLine());};Rules.IsMultilineBlockContext=function(context){return Rules.IsBlockContext(context)&&!(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine());};Rules.IsSingleLineBlockContext=function(context){return Rules.IsBlockContext(context)&&(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine());};Rules.IsBlockContext=function(context){return Rules.NodeIsBlockContext(context.contextNode);};Rules.IsBeforeBlockContext=function(context){return Rules.NodeIsBlockContext(context.nextTokenParent);};Rules.NodeIsBlockContext=function(node){if(Rules.NodeIsTypeScriptDeclWithBlockContext(node)){return true;}
switch(node.kind){case 195 :case 223 :case 168 :case 222 :return true;}
return false;};Rules.IsFunctionDeclContext=function(context){switch(context.contextNode.kind){case 216 :case 144 :case 143 :case 146 :case 147 :case 148 :case 176 :case 145 :case 177 :case 218 :return true;}
return false;};Rules.IsFunctionDeclarationOrFunctionExpressionContext=function(context){return context.contextNode.kind===216 ||context.contextNode.kind===176 ;};Rules.IsTypeScriptDeclWithBlockContext=function(context){return Rules.NodeIsTypeScriptDeclWithBlockContext(context.contextNode);};Rules.NodeIsTypeScriptDeclWithBlockContext=function(node){switch(node.kind){case 217 :case 189 :case 218 :case 220 :case 156 :case 221 :return true;}
return false;};Rules.IsAfterCodeBlockContext=function(context){switch(context.currentTokenParent.kind){case 217 :case 221 :case 220 :case 195 :case 247 :case 222 :case 209 :return true;}
return false;};Rules.IsControlDeclContext=function(context){switch(context.contextNode.kind){case 199 :case 209 :case 202 :case 203 :case 204 :case 201 :case 212 :case 200 :case 208 :case 247 :return true;default:return false;}};Rules.IsObjectContext=function(context){return context.contextNode.kind===168 ;};Rules.IsFunctionCallContext=function(context){return context.contextNode.kind===171 ;};Rules.IsNewContext=function(context){return context.contextNode.kind===172 ;};Rules.IsFunctionCallOrNewContext=function(context){return Rules.IsFunctionCallContext(context)||Rules.IsNewContext(context);};Rules.IsPreviousTokenNotComma=function(context){return context.currentTokenSpan.kind!==24 ;};Rules.IsNextTokenNotCloseBracket=function(context){return context.nextTokenSpan.kind!==20 ;};Rules.IsArrowFunctionContext=function(context){return context.contextNode.kind===177 ;};Rules.IsSameLineTokenContext=function(context){return context.TokensAreOnSameLine();};Rules.IsNotBeforeBlockInFunctionDeclarationContext=function(context){return!Rules.IsFunctionDeclContext(context)&&!Rules.IsBeforeBlockContext(context);};Rules.IsEndOfDecoratorContextOnSameLine=function(context){return context.TokensAreOnSameLine()&&context.contextNode.decorators&&Rules.NodeIsInDecoratorContext(context.currentTokenParent)&&!Rules.NodeIsInDecoratorContext(context.nextTokenParent);};Rules.NodeIsInDecoratorContext=function(node){while(ts.isExpression(node)){node=node.parent;}
return node.kind===140 ;};Rules.IsStartOfVariableDeclarationList=function(context){return context.currentTokenParent.kind===215 &&context.currentTokenParent.getStart(context.sourceFile)===context.currentTokenSpan.pos;};Rules.IsNotFormatOnEnter=function(context){return context.formattingRequestKind!==2 ;};Rules.IsModuleDeclContext=function(context){return context.contextNode.kind===221 ;};Rules.IsObjectTypeContext=function(context){return context.contextNode.kind===156 ;};Rules.IsTypeArgumentOrParameterOrAssertion=function(token,parent){if(token.kind!==25 &&token.kind!==27 ){return false;}
switch(parent.kind){case 152 :case 174 :case 217 :case 189 :case 218 :case 216 :case 176 :case 177 :case 144 :case 143 :case 148 :case 149 :case 171 :case 172 :case 191 :return true;default:return false;}};Rules.IsTypeArgumentOrParameterOrAssertionContext=function(context){return Rules.IsTypeArgumentOrParameterOrAssertion(context.currentTokenSpan,context.currentTokenParent)||Rules.IsTypeArgumentOrParameterOrAssertion(context.nextTokenSpan,context.nextTokenParent);};Rules.IsTypeAssertionContext=function(context){return context.contextNode.kind===174 ;};Rules.IsVoidOpContext=function(context){return context.currentTokenSpan.kind===103 &&context.currentTokenParent.kind===180 ;};Rules.IsYieldOrYieldStarWithOperand=function(context){return context.contextNode.kind===187 &&context.contextNode.expression!==undefined;};return Rules;}());formatting.Rules=Rules;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RulesMap=(function(){function RulesMap(){this.map=[];this.mapRowLength=0;}
RulesMap.create=function(rules){var result=new RulesMap();result.Initialize(rules);return result;};RulesMap.prototype.Initialize=function(rules){this.mapRowLength=135 +1;this.map=new Array(this.mapRowLength*this.mapRowLength);var rulesBucketConstructionStateList=new Array(this.map.length);this.FillRules(rules,rulesBucketConstructionStateList);return this.map;};RulesMap.prototype.FillRules=function(rules,rulesBucketConstructionStateList){var _this=this;rules.forEach(function(rule){_this.FillRule(rule,rulesBucketConstructionStateList);});};RulesMap.prototype.GetRuleBucketIndex=function(row,column){var rulesBucketIndex=(row*this.mapRowLength)+column;return rulesBucketIndex;};RulesMap.prototype.FillRule=function(rule,rulesBucketConstructionStateList){var _this=this;var specificRule=rule.Descriptor.LeftTokenRange!==formatting.Shared.TokenRange.Any&&rule.Descriptor.RightTokenRange!==formatting.Shared.TokenRange.Any;rule.Descriptor.LeftTokenRange.GetTokens().forEach(function(left){rule.Descriptor.RightTokenRange.GetTokens().forEach(function(right){var rulesBucketIndex=_this.GetRuleBucketIndex(left,right);var rulesBucket=_this.map[rulesBucketIndex];if(rulesBucket===undefined){rulesBucket=_this.map[rulesBucketIndex]=new RulesBucket();}
rulesBucket.AddRule(rule,specificRule,rulesBucketConstructionStateList,rulesBucketIndex);});});};RulesMap.prototype.GetRule=function(context){var bucketIndex=this.GetRuleBucketIndex(context.currentTokenSpan.kind,context.nextTokenSpan.kind);var bucket=this.map[bucketIndex];if(bucket!=null){for(var _i=0,_a=bucket.Rules();_i<_a.length;_i++){var rule=_a[_i];if(rule.Operation.Context.InContext(context)){return rule;}}}
return null;};return RulesMap;}());formatting.RulesMap=RulesMap;var MaskBitSize=5;var Mask=0x1f;(function(RulesPosition){RulesPosition[RulesPosition["IgnoreRulesSpecific"]=0]="IgnoreRulesSpecific";RulesPosition[RulesPosition["IgnoreRulesAny"]=MaskBitSize*1]="IgnoreRulesAny";RulesPosition[RulesPosition["ContextRulesSpecific"]=MaskBitSize*2]="ContextRulesSpecific";RulesPosition[RulesPosition["ContextRulesAny"]=MaskBitSize*3]="ContextRulesAny";RulesPosition[RulesPosition["NoContextRulesSpecific"]=MaskBitSize*4]="NoContextRulesSpecific";RulesPosition[RulesPosition["NoContextRulesAny"]=MaskBitSize*5]="NoContextRulesAny";})(formatting.RulesPosition||(formatting.RulesPosition={}));var RulesPosition=formatting.RulesPosition;var RulesBucketConstructionState=(function(){function RulesBucketConstructionState(){this.rulesInsertionIndexBitmap=0;}
RulesBucketConstructionState.prototype.GetInsertionIndex=function(maskPosition){var index=0;var pos=0;var indexBitmap=this.rulesInsertionIndexBitmap;while(pos<=maskPosition){index+=(indexBitmap&Mask);indexBitmap>>=MaskBitSize;pos+=MaskBitSize;}
return index;};RulesBucketConstructionState.prototype.IncreaseInsertionIndex=function(maskPosition){var value=(this.rulesInsertionIndexBitmap>>maskPosition)&Mask;value++;ts.Debug.assert((value&Mask)===value,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules.");var temp=this.rulesInsertionIndexBitmap&~(Mask<<maskPosition);temp|=value<<maskPosition;this.rulesInsertionIndexBitmap=temp;};return RulesBucketConstructionState;}());formatting.RulesBucketConstructionState=RulesBucketConstructionState;var RulesBucket=(function(){function RulesBucket(){this.rules=[];}
RulesBucket.prototype.Rules=function(){return this.rules;};RulesBucket.prototype.AddRule=function(rule,specificTokens,constructionState,rulesBucketIndex){var position;if(rule.Operation.Action===1 ){position=specificTokens?RulesPosition.IgnoreRulesSpecific:RulesPosition.IgnoreRulesAny;}
else if(!rule.Operation.Context.IsAny()){position=specificTokens?RulesPosition.ContextRulesSpecific:RulesPosition.ContextRulesAny;}
else{position=specificTokens?RulesPosition.NoContextRulesSpecific:RulesPosition.NoContextRulesAny;}
var state=constructionState[rulesBucketIndex];if(state===undefined){state=constructionState[rulesBucketIndex]=new RulesBucketConstructionState();}
var index=state.GetInsertionIndex(position);this.rules.splice(index,0,rule);state.IncreaseInsertionIndex(position);};return RulesBucket;}());formatting.RulesBucket=RulesBucket;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Shared;(function(Shared){var TokenRangeAccess=(function(){function TokenRangeAccess(from,to,except){this.tokens=[];for(var token=from;token<=to;token++){if(ts.indexOf(except,token)<0){this.tokens.push(token);}}}
TokenRangeAccess.prototype.GetTokens=function(){return this.tokens;};TokenRangeAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0;};return TokenRangeAccess;}());Shared.TokenRangeAccess=TokenRangeAccess;var TokenValuesAccess=(function(){function TokenValuesAccess(tks){this.tokens=tks&&tks.length?tks:[];}
TokenValuesAccess.prototype.GetTokens=function(){return this.tokens;};TokenValuesAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0;};return TokenValuesAccess;}());Shared.TokenValuesAccess=TokenValuesAccess;var TokenSingleValueAccess=(function(){function TokenSingleValueAccess(token){this.token=token;}
TokenSingleValueAccess.prototype.GetTokens=function(){return[this.token];};TokenSingleValueAccess.prototype.Contains=function(tokenValue){return tokenValue===this.token;};return TokenSingleValueAccess;}());Shared.TokenSingleValueAccess=TokenSingleValueAccess;var TokenAllAccess=(function(){function TokenAllAccess(){}
TokenAllAccess.prototype.GetTokens=function(){var result=[];for(var token=0 ;token<=135 ;token++){result.push(token);}
return result;};TokenAllAccess.prototype.Contains=function(tokenValue){return true;};TokenAllAccess.prototype.toString=function(){return"[allTokens]";};return TokenAllAccess;}());Shared.TokenAllAccess=TokenAllAccess;var TokenRange=(function(){function TokenRange(tokenAccess){this.tokenAccess=tokenAccess;}
TokenRange.FromToken=function(token){return new TokenRange(new TokenSingleValueAccess(token));};TokenRange.FromTokens=function(tokens){return new TokenRange(new TokenValuesAccess(tokens));};TokenRange.FromRange=function(f,to,except){if(except===void 0){except=[];}
return new TokenRange(new TokenRangeAccess(f,to,except));};TokenRange.AllTokens=function(){return new TokenRange(new TokenAllAccess());};TokenRange.prototype.GetTokens=function(){return this.tokenAccess.GetTokens();};TokenRange.prototype.Contains=function(token){return this.tokenAccess.Contains(token);};TokenRange.prototype.toString=function(){return this.tokenAccess.toString();};TokenRange.Any=TokenRange.AllTokens();TokenRange.AnyIncludingMultilineComments=TokenRange.FromTokens(TokenRange.Any.GetTokens().concat([3 ]));TokenRange.Keywords=TokenRange.FromRange(70 ,135 );TokenRange.BinaryOperators=TokenRange.FromRange(25 ,68 );TokenRange.BinaryKeywordOperators=TokenRange.FromTokens([90 ,91 ,135 ,116 ,124 ]);TokenRange.UnaryPrefixOperators=TokenRange.FromTokens([41 ,42 ,50 ,49 ]);TokenRange.UnaryPrefixExpressions=TokenRange.FromTokens([8 ,69 ,17 ,19 ,15 ,97 ,92 ]);TokenRange.UnaryPreincrementExpressions=TokenRange.FromTokens([69 ,17 ,97 ,92 ]);TokenRange.UnaryPostincrementExpressions=TokenRange.FromTokens([69 ,18 ,20 ,92 ]);TokenRange.UnaryPredecrementExpressions=TokenRange.FromTokens([69 ,17 ,97 ,92 ]);TokenRange.UnaryPostdecrementExpressions=TokenRange.FromTokens([69 ,18 ,20 ,92 ]);TokenRange.Comments=TokenRange.FromTokens([2 ,3 ]);TokenRange.TypeNames=TokenRange.FromTokens([69 ,128 ,130 ,120 ,131 ,103 ,117 ]);return TokenRange;}());Shared.TokenRange=TokenRange;})(Shared=formatting.Shared||(formatting.Shared={}));})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RulesProvider=(function(){function RulesProvider(){this.globalRules=new formatting.Rules();}
RulesProvider.prototype.getRuleName=function(rule){return this.globalRules.getRuleName(rule);};RulesProvider.prototype.getRuleByName=function(name){return this.globalRules[name];};RulesProvider.prototype.getRulesMap=function(){return this.rulesMap;};RulesProvider.prototype.ensureUpToDate=function(options){if(this.options==null||!ts.compareDataObjects(this.options,options)){var activeRules=this.createActiveRules(options);var rulesMap=formatting.RulesMap.create(activeRules);this.activeRules=activeRules;this.rulesMap=rulesMap;this.options=ts.clone(options);}};RulesProvider.prototype.createActiveRules=function(options){var rules=this.globalRules.HighPriorityCommonRules.slice(0);if(options.InsertSpaceAfterCommaDelimiter){rules.push(this.globalRules.SpaceAfterComma);}
else{rules.push(this.globalRules.NoSpaceAfterComma);}
if(options.InsertSpaceAfterFunctionKeywordForAnonymousFunctions){rules.push(this.globalRules.SpaceAfterAnonymousFunctionKeyword);}
else{rules.push(this.globalRules.NoSpaceAfterAnonymousFunctionKeyword);}
if(options.InsertSpaceAfterKeywordsInControlFlowStatements){rules.push(this.globalRules.SpaceAfterKeywordInControl);}
else{rules.push(this.globalRules.NoSpaceAfterKeywordInControl);}
if(options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis){rules.push(this.globalRules.SpaceAfterOpenParen);rules.push(this.globalRules.SpaceBeforeCloseParen);rules.push(this.globalRules.NoSpaceBetweenParens);}
else{rules.push(this.globalRules.NoSpaceAfterOpenParen);rules.push(this.globalRules.NoSpaceBeforeCloseParen);rules.push(this.globalRules.NoSpaceBetweenParens);}
if(options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets){rules.push(this.globalRules.SpaceAfterOpenBracket);rules.push(this.globalRules.SpaceBeforeCloseBracket);rules.push(this.globalRules.NoSpaceBetweenBrackets);}
else{rules.push(this.globalRules.NoSpaceAfterOpenBracket);rules.push(this.globalRules.NoSpaceBeforeCloseBracket);rules.push(this.globalRules.NoSpaceBetweenBrackets);}
if(options.InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces){rules.push(this.globalRules.SpaceAfterTemplateHeadAndMiddle);rules.push(this.globalRules.SpaceBeforeTemplateMiddleAndTail);}
else{rules.push(this.globalRules.NoSpaceAfterTemplateHeadAndMiddle);rules.push(this.globalRules.NoSpaceBeforeTemplateMiddleAndTail);}
if(options.InsertSpaceAfterSemicolonInForStatements){rules.push(this.globalRules.SpaceAfterSemicolonInFor);}
else{rules.push(this.globalRules.NoSpaceAfterSemicolonInFor);}
if(options.InsertSpaceBeforeAndAfterBinaryOperators){rules.push(this.globalRules.SpaceBeforeBinaryOperator);rules.push(this.globalRules.SpaceAfterBinaryOperator);}
else{rules.push(this.globalRules.NoSpaceBeforeBinaryOperator);rules.push(this.globalRules.NoSpaceAfterBinaryOperator);}
if(options.PlaceOpenBraceOnNewLineForControlBlocks){rules.push(this.globalRules.NewLineBeforeOpenBraceInControl);}
if(options.PlaceOpenBraceOnNewLineForFunctions){rules.push(this.globalRules.NewLineBeforeOpenBraceInFunction);rules.push(this.globalRules.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock);}
rules=rules.concat(this.globalRules.LowPriorityCommonRules);return rules;};return RulesProvider;}());formatting.RulesProvider=RulesProvider;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Constants;(function(Constants){Constants[Constants["Unknown"]=-1]="Unknown";})(Constants||(Constants={}));function formatOnEnter(position,sourceFile,rulesProvider,options){var line=sourceFile.getLineAndCharacterOfPosition(position).line;if(line===0){return[];}
var endOfFormatSpan=ts.getEndLinePosition(line,sourceFile);while(ts.isWhiteSpace(sourceFile.text.charCodeAt(endOfFormatSpan))&&!ts.isLineBreak(sourceFile.text.charCodeAt(endOfFormatSpan))){endOfFormatSpan--;}
var span={pos:ts.getStartPositionOfLine(line-1,sourceFile),end:endOfFormatSpan+1};return formatSpan(span,sourceFile,options,rulesProvider,2 );}
formatting.formatOnEnter=formatOnEnter;function formatOnSemicolon(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,23 ,sourceFile,options,rulesProvider,3 );}
formatting.formatOnSemicolon=formatOnSemicolon;function formatOnClosingCurly(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,16 ,sourceFile,options,rulesProvider,4 );}
formatting.formatOnClosingCurly=formatOnClosingCurly;function formatDocument(sourceFile,rulesProvider,options){var span={pos:0,end:sourceFile.text.length};return formatSpan(span,sourceFile,options,rulesProvider,0 );}
formatting.formatDocument=formatDocument;function formatSelection(start,end,sourceFile,rulesProvider,options){var span={pos:ts.getLineStartPositionForPosition(start,sourceFile),end:end};return formatSpan(span,sourceFile,options,rulesProvider,1 );}
formatting.formatSelection=formatSelection;function formatOutermostParent(position,expectedLastToken,sourceFile,options,rulesProvider,requestKind){var parent=findOutermostParent(position,expectedLastToken,sourceFile);if(!parent){return[];}
var span={pos:ts.getLineStartPositionForPosition(parent.getStart(sourceFile),sourceFile),end:parent.end};return formatSpan(span,sourceFile,options,rulesProvider,requestKind);}
function findOutermostParent(position,expectedTokenKind,sourceFile){var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken||precedingToken.kind!==expectedTokenKind||position!==precedingToken.getEnd()){return undefined;}
var current=precedingToken;while(current&&current.parent&&current.parent.end===precedingToken.end&&!isListElement(current.parent,current)){current=current.parent;}
return current;}
function isListElement(parent,node){switch(parent.kind){case 217 :case 218 :return ts.rangeContainsRange(parent.members,node);case 221 :var body=parent.body;return body&&body.kind===195 &&ts.rangeContainsRange(body.statements,node);case 251 :case 195 :case 222 :return ts.rangeContainsRange(parent.statements,node);case 247 :return ts.rangeContainsRange(parent.block.statements,node);}
return false;}
function findEnclosingNode(range,sourceFile){return find(sourceFile);function find(n){var candidate=ts.forEachChild(n,function(c){return ts.startEndContainsRange(c.getStart(sourceFile),c.end,range)&&c;});if(candidate){var result=find(candidate);if(result){return result;}}
return n;}}
function prepareRangeContainsErrorFunction(errors,originalRange){if(!errors.length){return rangeHasNoErrors;}
var sorted=errors.filter(function(d){return ts.rangeOverlapsWithStartEnd(originalRange,d.start,d.start+d.length);}).sort(function(e1,e2){return e1.start-e2.start;});if(!sorted.length){return rangeHasNoErrors;}
var index=0;return function(r){while(true){if(index>=sorted.length){return false;}
var error=sorted[index];if(r.end<=error.start){return false;}
if(ts.startEndOverlapsWithStartEnd(r.pos,r.end,error.start,error.start+error.length)){return true;}
index++;}};function rangeHasNoErrors(r){return false;}}
function getScanStartPosition(enclosingNode,originalRange,sourceFile){var start=enclosingNode.getStart(sourceFile);if(start===originalRange.pos&&enclosingNode.end===originalRange.end){return start;}
var precedingToken=ts.findPrecedingToken(originalRange.pos,sourceFile);if(!precedingToken){return enclosingNode.pos;}
if(precedingToken.end>=originalRange.pos){return enclosingNode.pos;}
return precedingToken.end;}
function getOwnOrInheritedDelta(n,options,sourceFile){var previousLine=-1 ;var child;while(n){var line=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile)).line;if(previousLine!==-1 &&line!==previousLine){break;}
if(formatting.SmartIndenter.shouldIndentChildNode(n,child)){return options.IndentSize;}
previousLine=line;child=n;n=n.parent;}
return 0;}
function formatSpan(originalRange,sourceFile,options,rulesProvider,requestKind){var rangeContainsError=prepareRangeContainsErrorFunction(sourceFile.parseDiagnostics,originalRange);var formattingContext=new formatting.FormattingContext(sourceFile,requestKind);var enclosingNode=findEnclosingNode(originalRange,sourceFile);var formattingScanner=formatting.getFormattingScanner(sourceFile,getScanStartPosition(enclosingNode,originalRange,sourceFile),originalRange.end);var initialIndentation=formatting.SmartIndenter.getIndentationForNode(enclosingNode,originalRange,sourceFile,options);var previousRangeHasError;var previousRange;var previousParent;var previousRangeStartLine;var lastIndentedLine;var indentationOnLastIndentedLine;var edits=[];formattingScanner.advance();if(formattingScanner.isOnToken()){var startLine=sourceFile.getLineAndCharacterOfPosition(enclosingNode.getStart(sourceFile)).line;var undecoratedStartLine=startLine;if(enclosingNode.decorators){undecoratedStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(enclosingNode,sourceFile)).line;}
var delta=getOwnOrInheritedDelta(enclosingNode,options,sourceFile);processNode(enclosingNode,enclosingNode,startLine,undecoratedStartLine,initialIndentation,delta);}
if(!formattingScanner.isOnToken()){var leadingTrivia=formattingScanner.getCurrentLeadingTrivia();if(leadingTrivia){processTrivia(leadingTrivia,enclosingNode,enclosingNode,undefined);trimTrailingWhitespacesForRemainingRange();}}
formattingScanner.close();return edits;function tryComputeIndentationForListItem(startPos,endPos,parentStartLine,range,inheritedIndentation){if(ts.rangeOverlapsWithStartEnd(range,startPos,endPos)||ts.rangeContainsStartEnd(range,startPos,endPos)){if(inheritedIndentation!==-1 ){return inheritedIndentation;}}
else{var startLine=sourceFile.getLineAndCharacterOfPosition(startPos).line;var startLinePosition=ts.getLineStartPositionForPosition(startPos,sourceFile);var column=formatting.SmartIndenter.findFirstNonWhitespaceColumn(startLinePosition,startPos,sourceFile,options);if(startLine!==parentStartLine||startPos===column){return column;}}
return-1 ;}
function computeIndentation(node,startLine,inheritedIndentation,parent,parentDynamicIndentation,effectiveParentStartLine){var indentation=inheritedIndentation;var delta=formatting.SmartIndenter.shouldIndentChildNode(node)?options.IndentSize:0;if(effectiveParentStartLine===startLine){indentation=startLine===lastIndentedLine?indentationOnLastIndentedLine:parentDynamicIndentation.getIndentation();delta=Math.min(options.IndentSize,parentDynamicIndentation.getDelta(node)+delta);}
else if(indentation===-1 ){if(formatting.SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement(parent,node,startLine,sourceFile)){indentation=parentDynamicIndentation.getIndentation();}
else{indentation=parentDynamicIndentation.getIndentation()+parentDynamicIndentation.getDelta(node);}}
return{indentation:indentation,delta:delta};}
function getFirstNonDecoratorTokenOfNode(node){if(node.modifiers&&node.modifiers.length){return node.modifiers[0].kind;}
switch(node.kind){case 217 :return 73 ;case 218 :return 107 ;case 216 :return 87 ;case 220 :return 220 ;case 146 :return 123 ;case 147 :return 129 ;case 144 :if(node.asteriskToken){return 37 ;}
case 142 :case 139 :return node.name.kind;}}
function getDynamicIndentation(node,nodeStartLine,indentation,delta){return{getIndentationForComment:function(kind,tokenIndentation,container){switch(kind){case 16 :case 20 :case 18 :return indentation+getEffectiveDelta(delta,container);}
return tokenIndentation!==-1 ?tokenIndentation:indentation;},getIndentationForToken:function(line,kind,container){if(nodeStartLine!==line&&node.decorators){if(kind===getFirstNonDecoratorTokenOfNode(node)){return indentation;}}
switch(kind){case 15 :case 16 :case 19 :case 20 :case 17 :case 18 :case 80 :case 104 :case 55 :return indentation;default:return nodeStartLine!==line?indentation+getEffectiveDelta(delta,container):indentation;}},getIndentation:function(){return indentation;},getDelta:function(child){return getEffectiveDelta(delta,child);},recomputeIndentation:function(lineAdded){if(node.parent&&formatting.SmartIndenter.shouldIndentChildNode(node.parent,node)){if(lineAdded){indentation+=options.IndentSize;}
else{indentation-=options.IndentSize;}
if(formatting.SmartIndenter.shouldIndentChildNode(node)){delta=options.IndentSize;}
else{delta=0;}}}};function getEffectiveDelta(delta,child){return formatting.SmartIndenter.nodeWillIndentChild(node,child,true)?delta:0;}}
function processNode(node,contextNode,nodeStartLine,undecoratedNodeStartLine,indentation,delta){if(!ts.rangeOverlapsWithStartEnd(originalRange,node.getStart(sourceFile),node.getEnd())){return;}
var nodeDynamicIndentation=getDynamicIndentation(node,nodeStartLine,indentation,delta);var childContextNode=contextNode;ts.forEachChild(node,function(child){processChildNode(child,-1 ,node,nodeDynamicIndentation,nodeStartLine,undecoratedNodeStartLine,false);},function(nodes){processChildNodes(nodes,node,nodeStartLine,nodeDynamicIndentation);});while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>node.end){break;}
consumeTokenAndAdvanceScanner(tokenInfo,node,nodeDynamicIndentation);}
function processChildNode(child,inheritedIndentation,parent,parentDynamicIndentation,parentStartLine,undecoratedParentStartLine,isListItem){var childStartPos=child.getStart(sourceFile);var childStartLine=sourceFile.getLineAndCharacterOfPosition(childStartPos).line;var undecoratedChildStartLine=childStartLine;if(child.decorators){undecoratedChildStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(child,sourceFile)).line;}
var childIndentationAmount=-1 ;if(isListItem){childIndentationAmount=tryComputeIndentationForListItem(childStartPos,child.end,parentStartLine,originalRange,inheritedIndentation);if(childIndentationAmount!==-1 ){inheritedIndentation=childIndentationAmount;}}
if(!ts.rangeOverlapsWithStartEnd(originalRange,child.pos,child.end)){return inheritedIndentation;}
if(child.getFullWidth()===0){return inheritedIndentation;}
while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>childStartPos){break;}
consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation);}
if(!formattingScanner.isOnToken()){return inheritedIndentation;}
if(ts.isToken(child)){var tokenInfo=formattingScanner.readTokenInfo(child);ts.Debug.assert(tokenInfo.token.end===child.end);consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation,child);return inheritedIndentation;}
var effectiveParentStartLine=child.kind===140 ?childStartLine:undecoratedParentStartLine;var childIndentation=computeIndentation(child,childStartLine,childIndentationAmount,node,parentDynamicIndentation,effectiveParentStartLine);processNode(child,childContextNode,childStartLine,undecoratedChildStartLine,childIndentation.indentation,childIndentation.delta);childContextNode=node;return inheritedIndentation;}
function processChildNodes(nodes,parent,parentStartLine,parentDynamicIndentation){var listStartToken=getOpenTokenForList(parent,nodes);var listEndToken=getCloseTokenForOpenToken(listStartToken);var listDynamicIndentation=parentDynamicIndentation;var startLine=parentStartLine;if(listStartToken!==0 ){while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(parent);if(tokenInfo.token.end>nodes.pos){break;}
else if(tokenInfo.token.kind===listStartToken){startLine=sourceFile.getLineAndCharacterOfPosition(tokenInfo.token.pos).line;var indentation_1=computeIndentation(tokenInfo.token,startLine,-1 ,parent,parentDynamicIndentation,parentStartLine);listDynamicIndentation=getDynamicIndentation(parent,parentStartLine,indentation_1.indentation,indentation_1.delta);consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation);}
else{consumeTokenAndAdvanceScanner(tokenInfo,parent,parentDynamicIndentation);}}}
var inheritedIndentation=-1 ;for(var _i=0,nodes_6=nodes;_i<nodes_6.length;_i++){var child=nodes_6[_i];inheritedIndentation=processChildNode(child,inheritedIndentation,node,listDynamicIndentation,startLine,startLine,true);}
if(listEndToken!==0 ){if(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(parent);if(tokenInfo.token.kind===listEndToken&&ts.rangeContainsRange(parent,tokenInfo.token)){consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation);}}}}
function consumeTokenAndAdvanceScanner(currentTokenInfo,parent,dynamicIndentation,container){ts.Debug.assert(ts.rangeContainsRange(parent,currentTokenInfo.token));var lastTriviaWasNewLine=formattingScanner.lastTrailingTriviaWasNewLine();var indentToken=false;if(currentTokenInfo.leadingTrivia){processTrivia(currentTokenInfo.leadingTrivia,parent,childContextNode,dynamicIndentation);}
var lineAdded;var isTokenInRange=ts.rangeContainsRange(originalRange,currentTokenInfo.token);var tokenStart=sourceFile.getLineAndCharacterOfPosition(currentTokenInfo.token.pos);if(isTokenInRange){var rangeHasError=rangeContainsError(currentTokenInfo.token);var savePreviousRange=previousRange;lineAdded=processRange(currentTokenInfo.token,tokenStart,parent,childContextNode,dynamicIndentation);if(rangeHasError){indentToken=false;}
else{if(lineAdded!==undefined){indentToken=lineAdded;}
else{var prevEndLine=savePreviousRange&&sourceFile.getLineAndCharacterOfPosition(savePreviousRange.end).line;indentToken=lastTriviaWasNewLine&&tokenStart.line!==prevEndLine;}}}
if(currentTokenInfo.trailingTrivia){processTrivia(currentTokenInfo.trailingTrivia,parent,childContextNode,dynamicIndentation);}
if(indentToken){var tokenIndentation=(isTokenInRange&&!rangeContainsError(currentTokenInfo.token))?dynamicIndentation.getIndentationForToken(tokenStart.line,currentTokenInfo.token.kind,container):-1 ;if(currentTokenInfo.leadingTrivia){var commentIndentation=dynamicIndentation.getIndentationForComment(currentTokenInfo.token.kind,tokenIndentation,container);var indentNextTokenOrTrivia=true;for(var _i=0,_a=currentTokenInfo.leadingTrivia;_i<_a.length;_i++){var triviaItem=_a[_i];if(!ts.rangeContainsRange(originalRange,triviaItem)){continue;}
switch(triviaItem.kind){case 3 :indentMultilineComment(triviaItem,commentIndentation,!indentNextTokenOrTrivia);indentNextTokenOrTrivia=false;break;case 2 :if(indentNextTokenOrTrivia){insertIndentation(triviaItem.pos,commentIndentation,false);indentNextTokenOrTrivia=false;}
break;case 4 :indentNextTokenOrTrivia=true;break;}}}
if(tokenIndentation!==-1 ){insertIndentation(currentTokenInfo.token.pos,tokenIndentation,lineAdded);lastIndentedLine=tokenStart.line;indentationOnLastIndentedLine=tokenIndentation;}}
formattingScanner.advance();childContextNode=parent;}}
function processTrivia(trivia,parent,contextNode,dynamicIndentation){for(var _i=0,trivia_1=trivia;_i<trivia_1.length;_i++){var triviaItem=trivia_1[_i];if(ts.isComment(triviaItem.kind)&&ts.rangeContainsRange(originalRange,triviaItem)){var triviaItemStart=sourceFile.getLineAndCharacterOfPosition(triviaItem.pos);processRange(triviaItem,triviaItemStart,parent,contextNode,dynamicIndentation);}}}
function processRange(range,rangeStart,parent,contextNode,dynamicIndentation){var rangeHasError=rangeContainsError(range);var lineAdded;if(!rangeHasError&&!previousRangeHasError){if(!previousRange){var originalStart=sourceFile.getLineAndCharacterOfPosition(originalRange.pos);trimTrailingWhitespacesForLines(originalStart.line,rangeStart.line);}
else{lineAdded=processPair(range,rangeStart.line,parent,previousRange,previousRangeStartLine,previousParent,contextNode,dynamicIndentation);}}
previousRange=range;previousParent=parent;previousRangeStartLine=rangeStart.line;previousRangeHasError=rangeHasError;return lineAdded;}
function processPair(currentItem,currentStartLine,currentParent,previousItem,previousStartLine,previousParent,contextNode,dynamicIndentation){formattingContext.updateContext(previousItem,previousParent,currentItem,currentParent,contextNode);var rule=rulesProvider.getRulesMap().GetRule(formattingContext);var trimTrailingWhitespaces;var lineAdded;if(rule){applyRuleEdits(rule,previousItem,previousStartLine,currentItem,currentStartLine);if(rule.Operation.Action&(2 |8 )&&currentStartLine!==previousStartLine){lineAdded=false;if(currentParent.getStart(sourceFile)===currentItem.pos){dynamicIndentation.recomputeIndentation(false);}}
else if(rule.Operation.Action&4 &&currentStartLine===previousStartLine){lineAdded=true;if(currentParent.getStart(sourceFile)===currentItem.pos){dynamicIndentation.recomputeIndentation(true);}}
trimTrailingWhitespaces=!(rule.Operation.Action&8 )&&rule.Flag!==1 ;}
else{trimTrailingWhitespaces=true;}
if(currentStartLine!==previousStartLine&&trimTrailingWhitespaces){trimTrailingWhitespacesForLines(previousStartLine,currentStartLine,previousItem);}
return lineAdded;}
function insertIndentation(pos,indentation,lineAdded){var indentationString=getIndentationString(indentation,options);if(lineAdded){recordReplace(pos,0,indentationString);}
else{var tokenStart=sourceFile.getLineAndCharacterOfPosition(pos);if(indentation!==tokenStart.character){var startLinePosition=ts.getStartPositionOfLine(tokenStart.line,sourceFile);recordReplace(startLinePosition,tokenStart.character,indentationString);}}}
function indentMultilineComment(commentRange,indentation,firstLineIsIndented){var startLine=sourceFile.getLineAndCharacterOfPosition(commentRange.pos).line;var endLine=sourceFile.getLineAndCharacterOfPosition(commentRange.end).line;var parts;if(startLine===endLine){if(!firstLineIsIndented){insertIndentation(commentRange.pos,indentation,false);}
return;}
else{parts=[];var startPos=commentRange.pos;for(var line=startLine;line<endLine;++line){var endOfLine=ts.getEndLinePosition(line,sourceFile);parts.push({pos:startPos,end:endOfLine});startPos=ts.getStartPositionOfLine(line+1,sourceFile);}
parts.push({pos:startPos,end:commentRange.end});}
var startLinePos=ts.getStartPositionOfLine(startLine,sourceFile);var nonWhitespaceColumnInFirstPart=formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(startLinePos,parts[0].pos,sourceFile,options);if(indentation===nonWhitespaceColumnInFirstPart.column){return;}
var startIndex=0;if(firstLineIsIndented){startIndex=1;startLine++;}
var delta=indentation-nonWhitespaceColumnInFirstPart.column;for(var i=startIndex,len=parts.length;i<len;++i,++startLine){var startLinePos_1=ts.getStartPositionOfLine(startLine,sourceFile);var nonWhitespaceCharacterAndColumn=i===0?nonWhitespaceColumnInFirstPart:formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(parts[i].pos,parts[i].end,sourceFile,options);var newIndentation=nonWhitespaceCharacterAndColumn.column+delta;if(newIndentation>0){var indentationString=getIndentationString(newIndentation,options);recordReplace(startLinePos_1,nonWhitespaceCharacterAndColumn.character,indentationString);}
else{recordDelete(startLinePos_1,nonWhitespaceCharacterAndColumn.character);}}}
function trimTrailingWhitespacesForLines(line1,line2,range){for(var line=line1;line<line2;++line){var lineStartPosition=ts.getStartPositionOfLine(line,sourceFile);var lineEndPosition=ts.getEndLinePosition(line,sourceFile);if(range&&(ts.isComment(range.kind)||ts.isStringOrRegularExpressionOrTemplateLiteral(range.kind))&&range.pos<=lineEndPosition&&range.end>lineEndPosition){continue;}
var whitespaceStart=getTrailingWhitespaceStartPosition(lineStartPosition,lineEndPosition);if(whitespaceStart!==-1){ts.Debug.assert(whitespaceStart===lineStartPosition||!ts.isWhiteSpace(sourceFile.text.charCodeAt(whitespaceStart-1)));recordDelete(whitespaceStart,lineEndPosition+1-whitespaceStart);}}}
function getTrailingWhitespaceStartPosition(start,end){var pos=end;while(pos>=start&&ts.isWhiteSpace(sourceFile.text.charCodeAt(pos))){pos--;}
if(pos!==end){return pos+1;}
return-1;}
function trimTrailingWhitespacesForRemainingRange(){var startPosition=previousRange?previousRange.end:originalRange.pos;var startLine=sourceFile.getLineAndCharacterOfPosition(startPosition).line;var endLine=sourceFile.getLineAndCharacterOfPosition(originalRange.end).line;trimTrailingWhitespacesForLines(startLine,endLine+1,previousRange);}
function newTextChange(start,len,newText){return{span:ts.createTextSpan(start,len),newText:newText};}
function recordDelete(start,len){if(len){edits.push(newTextChange(start,len,""));}}
function recordReplace(start,len,newText){if(len||newText){edits.push(newTextChange(start,len,newText));}}
function applyRuleEdits(rule,previousRange,previousStartLine,currentRange,currentStartLine){var between;switch(rule.Operation.Action){case 1 :return;case 8 :if(previousRange.end!==currentRange.pos){recordDelete(previousRange.end,currentRange.pos-previousRange.end);}
break;case 4 :if(rule.Flag!==1 &&previousStartLine!==currentStartLine){return;}
var lineDelta=currentStartLine-previousStartLine;if(lineDelta!==1){recordReplace(previousRange.end,currentRange.pos-previousRange.end,options.NewLineCharacter);}
break;case 2 :if(rule.Flag!==1 &&previousStartLine!==currentStartLine){return;}
var posDelta=currentRange.pos-previousRange.end;if(posDelta!==1||sourceFile.text.charCodeAt(previousRange.end)!==32 ){recordReplace(previousRange.end,currentRange.pos-previousRange.end," ");}
break;}}}
function isSomeBlock(kind){switch(kind){case 195 :case 222 :return true;}
return false;}
function getOpenTokenForList(node,list){switch(node.kind){case 145 :case 216 :case 176 :case 144 :case 143 :case 177 :if(node.typeParameters===list){return 25 ;}
else if(node.parameters===list){return 17 ;}
break;case 171 :case 172 :if(node.typeArguments===list){return 25 ;}
else if(node.arguments===list){return 17 ;}
break;case 152 :if(node.typeArguments===list){return 25 ;}}
return 0 ;}
function getCloseTokenForOpenToken(kind){switch(kind){case 17 :return 18 ;case 25 :return 27 ;}
return 0 ;}
var internedSizes;var internedTabsIndentation;var internedSpacesIndentation;function getIndentationString(indentation,options){var resetInternedStrings=!internedSizes||(internedSizes.tabSize!==options.TabSize||internedSizes.indentSize!==options.IndentSize);if(resetInternedStrings){internedSizes={tabSize:options.TabSize,indentSize:options.IndentSize};internedTabsIndentation=internedSpacesIndentation=undefined;}
if(!options.ConvertTabsToSpaces){var tabs=Math.floor(indentation/options.TabSize);var spaces=indentation-tabs*options.TabSize;var tabString=void 0;if(!internedTabsIndentation){internedTabsIndentation=[];}
if(internedTabsIndentation[tabs]===undefined){internedTabsIndentation[tabs]=tabString=repeat('\t',tabs);}
else{tabString=internedTabsIndentation[tabs];}
return spaces?tabString+repeat(" ",spaces):tabString;}
else{var spacesString=void 0;var quotient=Math.floor(indentation/options.IndentSize);var remainder=indentation%options.IndentSize;if(!internedSpacesIndentation){internedSpacesIndentation=[];}
if(internedSpacesIndentation[quotient]===undefined){spacesString=repeat(" ",options.IndentSize*quotient);internedSpacesIndentation[quotient]=spacesString;}
else{spacesString=internedSpacesIndentation[quotient];}
return remainder?spacesString+repeat(" ",remainder):spacesString;}
function repeat(value,count){var s="";for(var i=0;i<count;++i){s+=value;}
return s;}}
formatting.getIndentationString=getIndentationString;})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var SmartIndenter;(function(SmartIndenter){var Value;(function(Value){Value[Value["Unknown"]=-1]="Unknown";})(Value||(Value={}));function getIndentation(position,sourceFile,options){if(position>sourceFile.text.length){return 0;}
if(options.IndentStyle===ts.IndentStyle.None){return 0;}
var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken){return 0;}
var precedingTokenIsLiteral=ts.isStringOrRegularExpressionOrTemplateLiteral(precedingToken.kind);if(precedingTokenIsLiteral&&precedingToken.getStart(sourceFile)<=position&&precedingToken.end>position){return 0;}
var lineAtPosition=sourceFile.getLineAndCharacterOfPosition(position).line;if(options.IndentStyle===ts.IndentStyle.Block){var current_1=position;while(current_1>0){var char=sourceFile.text.charCodeAt(current_1);if(!ts.isWhiteSpace(char)&&!ts.isLineBreak(char)){break;}
current_1--;}
var lineStart=ts.getLineStartPositionForPosition(current_1,sourceFile);return SmartIndenter.findFirstNonWhitespaceColumn(lineStart,current_1,sourceFile,options);}
if(precedingToken.kind===24 &&precedingToken.parent.kind!==184 ){var actualIndentation=getActualIndentationForListItemBeforeComma(precedingToken,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation;}}
var previous;var current=precedingToken;var currentStart;var indentationDelta;while(current){if(ts.positionBelongsToNode(current,position,sourceFile)&&shouldIndentChildNode(current,previous)){currentStart=getStartLineAndCharacterForNode(current,sourceFile);if(nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile)){indentationDelta=0;}
else{indentationDelta=lineAtPosition!==currentStart.line?options.IndentSize:0;}
break;}
var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation;}
actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation+options.IndentSize;}
previous=current;current=current.parent;}
if(!current){return 0;}
return getIndentationForNodeWorker(current,currentStart,undefined,indentationDelta,sourceFile,options);}
SmartIndenter.getIndentation=getIndentation;function getIndentationForNode(n,ignoreActualIndentationRange,sourceFile,options){var start=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile));return getIndentationForNodeWorker(n,start,ignoreActualIndentationRange,0,sourceFile,options);}
SmartIndenter.getIndentationForNode=getIndentationForNode;function getIndentationForNodeWorker(current,currentStart,ignoreActualIndentationRange,indentationDelta,sourceFile,options){var parent=current.parent;var parentStart;while(parent){var useActualIndentation=true;if(ignoreActualIndentationRange){var start=current.getStart(sourceFile);useActualIndentation=start<ignoreActualIndentationRange.pos||start>ignoreActualIndentationRange.end;}
if(useActualIndentation){var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation+indentationDelta;}}
parentStart=getParentStart(parent,current,sourceFile);var parentAndChildShareLine=parentStart.line===currentStart.line||childStartsOnTheSameLineWithElseInIfStatement(parent,current,currentStart.line,sourceFile);if(useActualIndentation){var actualIndentation=getActualIndentationForNode(current,parent,currentStart,parentAndChildShareLine,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation+indentationDelta;}
actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options);if(actualIndentation!==-1 ){return actualIndentation+indentationDelta;}}
if(shouldIndentChildNode(parent,current)&&!parentAndChildShareLine){indentationDelta+=options.IndentSize;}
current=parent;currentStart=parentStart;parent=current.parent;}
return indentationDelta;}
function getParentStart(parent,child,sourceFile){var containingList=getContainingList(child,sourceFile);if(containingList){return sourceFile.getLineAndCharacterOfPosition(containingList.pos);}
return sourceFile.getLineAndCharacterOfPosition(parent.getStart(sourceFile));}
function getActualIndentationForListItemBeforeComma(commaToken,sourceFile,options){var commaItemInfo=ts.findListItemInfo(commaToken);if(commaItemInfo&&commaItemInfo.listItemIndex>0){return deriveActualIndentationFromList(commaItemInfo.list.getChildren(),commaItemInfo.listItemIndex-1,sourceFile,options);}
else{return-1 ;}}
function getActualIndentationForNode(current,parent,currentLineAndChar,parentAndChildShareLine,sourceFile,options){var useActualIndentation=(ts.isDeclaration(current)||ts.isStatement(current))&&(parent.kind===251 ||!parentAndChildShareLine);if(!useActualIndentation){return-1 ;}
return findColumnForFirstNonWhitespaceCharacterInLine(currentLineAndChar,sourceFile,options);}
function nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile){var nextToken=ts.findNextToken(precedingToken,current);if(!nextToken){return false;}
if(nextToken.kind===15 ){return true;}
else if(nextToken.kind===16 ){var nextTokenStartLine=getStartLineAndCharacterForNode(nextToken,sourceFile).line;return lineAtPosition===nextTokenStartLine;}
return false;}
function getStartLineAndCharacterForNode(n,sourceFile){return sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile));}
function childStartsOnTheSameLineWithElseInIfStatement(parent,child,childStartLine,sourceFile){if(parent.kind===199 &&parent.elseStatement===child){var elseKeyword=ts.findChildOfKind(parent,80 ,sourceFile);ts.Debug.assert(elseKeyword!==undefined);var elseKeywordStartLine=getStartLineAndCharacterForNode(elseKeyword,sourceFile).line;return elseKeywordStartLine===childStartLine;}
return false;}
SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement=childStartsOnTheSameLineWithElseInIfStatement;function getContainingList(node,sourceFile){if(node.parent){switch(node.parent.kind){case 152 :if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,node.getStart(sourceFile),node.getEnd())){return node.parent.typeArguments;}
break;case 168 :return node.parent.properties;case 167 :return node.parent.elements;case 216 :case 176 :case 177 :case 144 :case 143 :case 148 :case 149 :{var start=node.getStart(sourceFile);if(node.parent.typeParameters&&ts.rangeContainsStartEnd(node.parent.typeParameters,start,node.getEnd())){return node.parent.typeParameters;}
if(ts.rangeContainsStartEnd(node.parent.parameters,start,node.getEnd())){return node.parent.parameters;}
break;}
case 172 :case 171 :{var start=node.getStart(sourceFile);if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,start,node.getEnd())){return node.parent.typeArguments;}
if(node.parent.arguments&&ts.rangeContainsStartEnd(node.parent.arguments,start,node.getEnd())){return node.parent.arguments;}
break;}}}
return undefined;}
function getActualIndentationForListItem(node,sourceFile,options){var containingList=getContainingList(node,sourceFile);return containingList?getActualIndentationFromList(containingList):-1 ;function getActualIndentationFromList(list){var index=ts.indexOf(list,node);return index!==-1?deriveActualIndentationFromList(list,index,sourceFile,options):-1 ;}}
function getLineIndentationWhenExpressionIsInMultiLine(node,sourceFile,options){if(node.kind===18 ){return-1 ;}
if(node.parent&&(node.parent.kind===171 ||node.parent.kind===172 )&&node.parent.expression!==node){var fullCallOrNewExpression=node.parent.expression;var startingExpression=getStartingExpression(fullCallOrNewExpression);if(fullCallOrNewExpression===startingExpression){return-1 ;}
var fullCallOrNewExpressionEnd=sourceFile.getLineAndCharacterOfPosition(fullCallOrNewExpression.end);var startingExpressionEnd=sourceFile.getLineAndCharacterOfPosition(startingExpression.end);if(fullCallOrNewExpressionEnd.line===startingExpressionEnd.line){return-1 ;}
return findColumnForFirstNonWhitespaceCharacterInLine(fullCallOrNewExpressionEnd,sourceFile,options);}
return-1 ;function getStartingExpression(node){while(true){switch(node.kind){case 171 :case 172 :case 169 :case 170 :node=node.expression;break;default:return node;}}}}
function deriveActualIndentationFromList(list,index,sourceFile,options){ts.Debug.assert(index>=0&&index<list.length);var node=list[index];var lineAndCharacter=getStartLineAndCharacterForNode(node,sourceFile);for(var i=index-1;i>=0;--i){if(list[i].kind===24 ){continue;}
var prevEndLine=sourceFile.getLineAndCharacterOfPosition(list[i].end).line;if(prevEndLine!==lineAndCharacter.line){return findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options);}
lineAndCharacter=getStartLineAndCharacterForNode(list[i],sourceFile);}
return-1 ;}
function findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options){var lineStart=sourceFile.getPositionOfLineAndCharacter(lineAndCharacter.line,0);return findFirstNonWhitespaceColumn(lineStart,lineStart+lineAndCharacter.character,sourceFile,options);}
function findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options){var character=0;var column=0;for(var pos=startPos;pos<endPos;++pos){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpace(ch)){break;}
if(ch===9 ){column+=options.TabSize+(column%options.TabSize);}
else{column++;}
character++;}
return{column:column,character:character};}
SmartIndenter.findFirstNonWhitespaceCharacterAndColumn=findFirstNonWhitespaceCharacterAndColumn;function findFirstNonWhitespaceColumn(startPos,endPos,sourceFile,options){return findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options).column;}
SmartIndenter.findFirstNonWhitespaceColumn=findFirstNonWhitespaceColumn;function nodeContentIsAlwaysIndented(kind){switch(kind){case 198 :case 217 :case 189 :case 218 :case 220 :case 219 :case 167 :case 195 :case 222 :case 168 :case 156 :case 158 :case 223 :case 245 :case 244 :case 175 :case 169 :case 171 :case 172 :case 196 :case 214 :case 230 :case 207 :case 185 :case 165 :case 164 :case 238 :case 237 :case 243 :case 143 :case 148 :case 149 :case 139 :case 153 :case 154 :case 161 :case 173 :case 181 :case 228 :return true;}
return false;}
function nodeWillIndentChild(parent,child,indentByDefault){var childKind=child?child.kind:0 ;switch(parent.kind){case 200 :case 201 :case 203 :case 204 :case 202 :case 199 :case 216 :case 176 :case 144 :case 177 :case 145 :case 146 :case 147 :return childKind!==195 ;case 236 :return childKind!==240 ;}
return indentByDefault;}
SmartIndenter.nodeWillIndentChild=nodeWillIndentChild;function shouldIndentChildNode(parent,child){return nodeContentIsAlwaysIndented(parent.kind)||nodeWillIndentChild(parent,child,false);}
SmartIndenter.shouldIndentChildNode=shouldIndentChildNode;})(SmartIndenter=formatting.SmartIndenter||(formatting.SmartIndenter={}));})(formatting=ts.formatting||(ts.formatting={}));})(ts||(ts={}));var ts;(function(ts){ts.servicesVersion="0.5";var ScriptSnapshot;(function(ScriptSnapshot){var StringScriptSnapshot=(function(){function StringScriptSnapshot(text){this.text=text;}
StringScriptSnapshot.prototype.getText=function(start,end){return this.text.substring(start,end);};StringScriptSnapshot.prototype.getLength=function(){return this.text.length;};StringScriptSnapshot.prototype.getChangeRange=function(oldSnapshot){return undefined;};return StringScriptSnapshot;}());function fromString(text){return new StringScriptSnapshot(text);}
ScriptSnapshot.fromString=fromString;})(ScriptSnapshot=ts.ScriptSnapshot||(ts.ScriptSnapshot={}));var scanner=ts.createScanner(2 ,true);var emptyArray=[];var jsDocTagNames=["augments","author","argument","borrows","class","constant","constructor","constructs","default","deprecated","description","event","example","extends","field","fileOverview","function","ignore","inner","lends","link","memberOf","name","namespace","param","private","property","public","requires","returns","see","since","static","throws","type","version"];var jsDocCompletionEntries;function createNode(kind,pos,end,flags,parent){var node=new NodeObject(kind,pos,end);node.flags=flags;node.parent=parent;return node;}
var NodeObject=(function(){function NodeObject(kind,pos,end){this.kind=kind;this.pos=pos;this.end=end;this.flags=0 ;this.parent=undefined;}
NodeObject.prototype.getSourceFile=function(){return ts.getSourceFileOfNode(this);};NodeObject.prototype.getStart=function(sourceFile){return ts.getTokenPosOfNode(this,sourceFile);};NodeObject.prototype.getFullStart=function(){return this.pos;};NodeObject.prototype.getEnd=function(){return this.end;};NodeObject.prototype.getWidth=function(sourceFile){return this.getEnd()-this.getStart(sourceFile);};NodeObject.prototype.getFullWidth=function(){return this.end-this.pos;};NodeObject.prototype.getLeadingTriviaWidth=function(sourceFile){return this.getStart(sourceFile)-this.pos;};NodeObject.prototype.getFullText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.pos,this.end);};NodeObject.prototype.getText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.getStart(),this.getEnd());};NodeObject.prototype.addSyntheticNodes=function(nodes,pos,end){scanner.setTextPos(pos);while(pos<end){var token=scanner.scan();var textPos=scanner.getTextPos();nodes.push(createNode(token,pos,textPos,2048 ,this));pos=textPos;}
return pos;};NodeObject.prototype.createSyntaxList=function(nodes){var list=createNode(274 ,nodes.pos,nodes.end,2048 ,this);list._children=[];var pos=nodes.pos;for(var _i=0,nodes_7=nodes;_i<nodes_7.length;_i++){var node=nodes_7[_i];if(pos<node.pos){pos=this.addSyntheticNodes(list._children,pos,node.pos);}
list._children.push(node);pos=node.end;}
if(pos<nodes.end){this.addSyntheticNodes(list._children,pos,nodes.end);}
return list;};NodeObject.prototype.createChildren=function(sourceFile){var _this=this;var children;if(this.kind>=136 ){scanner.setText((sourceFile||this.getSourceFile()).text);children=[];var pos_3=this.pos;var processNode=function(node){if(pos_3<node.pos){pos_3=_this.addSyntheticNodes(children,pos_3,node.pos);}
children.push(node);pos_3=node.end;};var processNodes=function(nodes){if(pos_3<nodes.pos){pos_3=_this.addSyntheticNodes(children,pos_3,nodes.pos);}
children.push(_this.createSyntaxList(nodes));pos_3=nodes.end;};ts.forEachChild(this,processNode,processNodes);if(pos_3<this.end){this.addSyntheticNodes(children,pos_3,this.end);}
scanner.setText(undefined);}
this._children=children||emptyArray;};NodeObject.prototype.getChildCount=function(sourceFile){if(!this._children)
this.createChildren(sourceFile);return this._children.length;};NodeObject.prototype.getChildAt=function(index,sourceFile){if(!this._children)
this.createChildren(sourceFile);return this._children[index];};NodeObject.prototype.getChildren=function(sourceFile){if(!this._children)
this.createChildren(sourceFile);return this._children;};NodeObject.prototype.getFirstToken=function(sourceFile){var children=this.getChildren(sourceFile);if(!children.length){return undefined;}
var child=children[0];return child.kind<136 ?child:child.getFirstToken(sourceFile);};NodeObject.prototype.getLastToken=function(sourceFile){var children=this.getChildren(sourceFile);var child=ts.lastOrUndefined(children);if(!child){return undefined;}
return child.kind<136 ?child:child.getLastToken(sourceFile);};return NodeObject;}());var SymbolObject=(function(){function SymbolObject(flags,name){this.flags=flags;this.name=name;}
SymbolObject.prototype.getFlags=function(){return this.flags;};SymbolObject.prototype.getName=function(){return this.name;};SymbolObject.prototype.getDeclarations=function(){return this.declarations;};SymbolObject.prototype.getDocumentationComment=function(){if(this.documentationComment===undefined){this.documentationComment=getJsDocCommentsFromDeclarations(this.declarations,this.name,!(this.flags&4 ));}
return this.documentationComment;};return SymbolObject;}());function getJsDocCommentsFromDeclarations(declarations,name,canUseParsedParamTagComments){var documentationComment=[];var docComments=getJsDocCommentsSeparatedByNewLines();ts.forEach(docComments,function(docComment){if(documentationComment.length){documentationComment.push(ts.lineBreakPart());}
documentationComment.push(docComment);});return documentationComment;function getJsDocCommentsSeparatedByNewLines(){var paramTag="@param";var jsDocCommentParts=[];ts.forEach(declarations,function(declaration,indexOfDeclaration){if(ts.indexOf(declarations,declaration)===indexOfDeclaration){var sourceFileOfDeclaration_1=ts.getSourceFileOfNode(declaration);if(canUseParsedParamTagComments&&declaration.kind===139 ){ts.forEach(getJsDocCommentTextRange(declaration.parent,sourceFileOfDeclaration_1),function(jsDocCommentTextRange){var cleanedParamJsDocComment=getCleanedParamJsDocComment(jsDocCommentTextRange.pos,jsDocCommentTextRange.end,sourceFileOfDeclaration_1);if(cleanedParamJsDocComment){ts.addRange(jsDocCommentParts,cleanedParamJsDocComment);}});}
if(declaration.kind===221 &&declaration.body.kind===221 ){return;}
while(declaration.kind===221 &&declaration.parent.kind===221 ){declaration=declaration.parent;}
ts.forEach(getJsDocCommentTextRange(declaration.kind===214 ?declaration.parent.parent:declaration,sourceFileOfDeclaration_1),function(jsDocCommentTextRange){var cleanedJsDocComment=getCleanedJsDocComment(jsDocCommentTextRange.pos,jsDocCommentTextRange.end,sourceFileOfDeclaration_1);if(cleanedJsDocComment){ts.addRange(jsDocCommentParts,cleanedJsDocComment);}});}});return jsDocCommentParts;function getJsDocCommentTextRange(node,sourceFile){return ts.map(ts.getJsDocComments(node,sourceFile),function(jsDocComment){return{pos:jsDocComment.pos+"/*".length,end:jsDocComment.end-"*/".length};});}
function consumeWhiteSpacesOnTheLine(pos,end,sourceFile,maxSpacesToRemove){if(maxSpacesToRemove!==undefined){end=Math.min(end,pos+maxSpacesToRemove);}
for(;pos<end;pos++){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpace(ch)||ts.isLineBreak(ch)){return pos;}}
return end;}
function consumeLineBreaks(pos,end,sourceFile){while(pos<end&&ts.isLineBreak(sourceFile.text.charCodeAt(pos))){pos++;}
return pos;}
function isName(pos,end,sourceFile,name){return pos+name.length<end&&sourceFile.text.substr(pos,name.length)===name&&(ts.isWhiteSpace(sourceFile.text.charCodeAt(pos+name.length))||ts.isLineBreak(sourceFile.text.charCodeAt(pos+name.length)));}
function isParamTag(pos,end,sourceFile){return isName(pos,end,sourceFile,paramTag);}
function pushDocCommentLineText(docComments,text,blankLineCount){while(blankLineCount){blankLineCount--;docComments.push(ts.textPart(""));}
docComments.push(ts.textPart(text));}
function getCleanedJsDocComment(pos,end,sourceFile){var spacesToRemoveAfterAsterisk;var docComments=[];var blankLineCount=0;var isInParamTag=false;while(pos<end){var docCommentTextOfLine="";pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile);if(pos<end&&sourceFile.text.charCodeAt(pos)===42 ){var lineStartPos=pos+1;pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,spacesToRemoveAfterAsterisk);if(spacesToRemoveAfterAsterisk===undefined&&pos<end&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos))){spacesToRemoveAfterAsterisk=pos-lineStartPos;}}
else if(spacesToRemoveAfterAsterisk===undefined){spacesToRemoveAfterAsterisk=0;}
while(pos<end&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos))){var ch=sourceFile.text.charAt(pos);if(ch==="@"){if(isParamTag(pos,end,sourceFile)){isInParamTag=true;pos+=paramTag.length;continue;}
else{isInParamTag=false;}}
if(!isInParamTag){docCommentTextOfLine+=ch;}
pos++;}
pos=consumeLineBreaks(pos,end,sourceFile);if(docCommentTextOfLine){pushDocCommentLineText(docComments,docCommentTextOfLine,blankLineCount);blankLineCount=0;}
else if(!isInParamTag&&docComments.length){blankLineCount++;}}
return docComments;}
function getCleanedParamJsDocComment(pos,end,sourceFile){var paramHelpStringMargin;var paramDocComments=[];while(pos<end){if(isParamTag(pos,end,sourceFile)){var blankLineCount=0;var recordedParamTag=false;pos=consumeWhiteSpaces(pos+paramTag.length);if(pos>=end){break;}
if(sourceFile.text.charCodeAt(pos)===123 ){pos++;for(var curlies=1;pos<end;pos++){var charCode=sourceFile.text.charCodeAt(pos);if(charCode===123 ){curlies++;continue;}
if(charCode===125 ){curlies--;if(curlies===0){pos++;break;}
else{continue;}}
if(charCode===64 ){break;}}
pos=consumeWhiteSpaces(pos);if(pos>=end){break;}}
if(isName(pos,end,sourceFile,name)){pos=consumeWhiteSpaces(pos+name.length);if(pos>=end){break;}
var paramHelpString="";var firstLineParamHelpStringPos=pos;while(pos<end){var ch=sourceFile.text.charCodeAt(pos);if(ts.isLineBreak(ch)){if(paramHelpString){pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount);paramHelpString="";blankLineCount=0;recordedParamTag=true;}
else if(recordedParamTag){blankLineCount++;}
setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos);continue;}
if(ch===64 ){break;}
paramHelpString+=sourceFile.text.charAt(pos);pos++;}
if(paramHelpString){pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount);}
paramHelpStringMargin=undefined;}
if(sourceFile.text.charCodeAt(pos)===64 ){continue;}}
pos++;}
return paramDocComments;function consumeWhiteSpaces(pos){while(pos<end&&ts.isWhiteSpace(sourceFile.text.charCodeAt(pos))){pos++;}
return pos;}
function setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos){pos=consumeLineBreaks(pos,end,sourceFile);if(pos>=end){return;}
if(paramHelpStringMargin===undefined){paramHelpStringMargin=sourceFile.getLineAndCharacterOfPosition(firstLineParamHelpStringPos).character;}
var startOfLinePos=pos;pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile,paramHelpStringMargin);if(pos>=end){return;}
var consumedSpaces=pos-startOfLinePos;if(consumedSpaces<paramHelpStringMargin){var ch=sourceFile.text.charCodeAt(pos);if(ch===42 ){pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,paramHelpStringMargin-consumedSpaces-1);}}}}}}
var TypeObject=(function(){function TypeObject(checker,flags){this.checker=checker;this.flags=flags;}
TypeObject.prototype.getFlags=function(){return this.flags;};TypeObject.prototype.getSymbol=function(){return this.symbol;};TypeObject.prototype.getProperties=function(){return this.checker.getPropertiesOfType(this);};TypeObject.prototype.getProperty=function(propertyName){return this.checker.getPropertyOfType(this,propertyName);};TypeObject.prototype.getApparentProperties=function(){return this.checker.getAugmentedPropertiesOfType(this);};TypeObject.prototype.getCallSignatures=function(){return this.checker.getSignaturesOfType(this,0 );};TypeObject.prototype.getConstructSignatures=function(){return this.checker.getSignaturesOfType(this,1 );};TypeObject.prototype.getStringIndexType=function(){return this.checker.getIndexTypeOfType(this,0 );};TypeObject.prototype.getNumberIndexType=function(){return this.checker.getIndexTypeOfType(this,1 );};TypeObject.prototype.getBaseTypes=function(){return this.flags&(1024 |2048 )?this.checker.getBaseTypes(this):undefined;};return TypeObject;}());var SignatureObject=(function(){function SignatureObject(checker){this.checker=checker;}
SignatureObject.prototype.getDeclaration=function(){return this.declaration;};SignatureObject.prototype.getTypeParameters=function(){return this.typeParameters;};SignatureObject.prototype.getParameters=function(){return this.parameters;};SignatureObject.prototype.getReturnType=function(){return this.checker.getReturnTypeOfSignature(this);};SignatureObject.prototype.getDocumentationComment=function(){if(this.documentationComment===undefined){this.documentationComment=this.declaration?getJsDocCommentsFromDeclarations([this.declaration],undefined,false):[];}
return this.documentationComment;};return SignatureObject;}());var SourceFileObject=(function(_super){__extends(SourceFileObject,_super);function SourceFileObject(kind,pos,end){_super.call(this,kind,pos,end);}
SourceFileObject.prototype.update=function(newText,textChangeRange){return ts.updateSourceFile(this,newText,textChangeRange);};SourceFileObject.prototype.getLineAndCharacterOfPosition=function(position){return ts.getLineAndCharacterOfPosition(this,position);};SourceFileObject.prototype.getLineStarts=function(){return ts.getLineStarts(this);};SourceFileObject.prototype.getPositionOfLineAndCharacter=function(line,character){return ts.getPositionOfLineAndCharacter(this,line,character);};SourceFileObject.prototype.getNamedDeclarations=function(){if(!this.namedDeclarations){this.namedDeclarations=this.computeNamedDeclarations();}
return this.namedDeclarations;};SourceFileObject.prototype.computeNamedDeclarations=function(){var result={};ts.forEachChild(this,visit);return result;function addDeclaration(declaration){var name=getDeclarationName(declaration);if(name){var declarations=getDeclarations(name);declarations.push(declaration);}}
function getDeclarations(name){return ts.getProperty(result,name)||(result[name]=[]);}
function getDeclarationName(declaration){if(declaration.name){var result_3=getTextOfIdentifierOrLiteral(declaration.name);if(result_3!==undefined){return result_3;}
if(declaration.name.kind===137 ){var expr=declaration.name.expression;if(expr.kind===169 ){return expr.name.text;}
return getTextOfIdentifierOrLiteral(expr);}}
return undefined;}
function getTextOfIdentifierOrLiteral(node){if(node){if(node.kind===69 ||node.kind===9 ||node.kind===8 ){return node.text;}}
return undefined;}
function visit(node){switch(node.kind){case 216 :case 144 :case 143 :var functionDeclaration=node;var declarationName=getDeclarationName(functionDeclaration);if(declarationName){var declarations=getDeclarations(declarationName);var lastDeclaration=ts.lastOrUndefined(declarations);if(lastDeclaration&&functionDeclaration.parent===lastDeclaration.parent&&functionDeclaration.symbol===lastDeclaration.symbol){if(functionDeclaration.body&&!lastDeclaration.body){declarations[declarations.length-1]=functionDeclaration;}}
else{declarations.push(functionDeclaration);}
ts.forEachChild(node,visit);}
break;case 217 :case 218 :case 219 :case 220 :case 221 :case 224 :case 233 :case 229 :case 224 :case 226 :case 227 :case 146 :case 147 :case 156 :addDeclaration(node);case 145 :case 196 :case 215 :case 164 :case 165 :case 222 :ts.forEachChild(node,visit);break;case 195 :if(ts.isFunctionBlock(node)){ts.forEachChild(node,visit);}
break;case 139 :if(!(node.flags&56 )){break;}
case 214 :case 166 :if(ts.isBindingPattern(node.name)){ts.forEachChild(node.name,visit);break;}
case 250 :case 142 :case 141 :addDeclaration(node);break;case 231 :if(node.exportClause){ts.forEach(node.exportClause.elements,visit);}
break;case 225 :var importClause=node.importClause;if(importClause){if(importClause.name){addDeclaration(importClause);}
if(importClause.namedBindings){if(importClause.namedBindings.kind===227 ){addDeclaration(importClause.namedBindings);}
else{ts.forEach(importClause.namedBindings.elements,visit);}}}
break;}}};return SourceFileObject;}(NodeObject));var TextChange=(function(){function TextChange(){}
return TextChange;}());ts.TextChange=TextChange;var HighlightSpanKind;(function(HighlightSpanKind){HighlightSpanKind.none="none";HighlightSpanKind.definition="definition";HighlightSpanKind.reference="reference";HighlightSpanKind.writtenReference="writtenReference";})(HighlightSpanKind=ts.HighlightSpanKind||(ts.HighlightSpanKind={}));(function(IndentStyle){IndentStyle[IndentStyle["None"]=0]="None";IndentStyle[IndentStyle["Block"]=1]="Block";IndentStyle[IndentStyle["Smart"]=2]="Smart";})(ts.IndentStyle||(ts.IndentStyle={}));var IndentStyle=ts.IndentStyle;(function(SymbolDisplayPartKind){SymbolDisplayPartKind[SymbolDisplayPartKind["aliasName"]=0]="aliasName";SymbolDisplayPartKind[SymbolDisplayPartKind["className"]=1]="className";SymbolDisplayPartKind[SymbolDisplayPartKind["enumName"]=2]="enumName";SymbolDisplayPartKind[SymbolDisplayPartKind["fieldName"]=3]="fieldName";SymbolDisplayPartKind[SymbolDisplayPartKind["interfaceName"]=4]="interfaceName";SymbolDisplayPartKind[SymbolDisplayPartKind["keyword"]=5]="keyword";SymbolDisplayPartKind[SymbolDisplayPartKind["lineBreak"]=6]="lineBreak";SymbolDisplayPartKind[SymbolDisplayPartKind["numericLiteral"]=7]="numericLiteral";SymbolDisplayPartKind[SymbolDisplayPartKind["stringLiteral"]=8]="stringLiteral";SymbolDisplayPartKind[SymbolDisplayPartKind["localName"]=9]="localName";SymbolDisplayPartKind[SymbolDisplayPartKind["methodName"]=10]="methodName";SymbolDisplayPartKind[SymbolDisplayPartKind["moduleName"]=11]="moduleName";SymbolDisplayPartKind[SymbolDisplayPartKind["operator"]=12]="operator";SymbolDisplayPartKind[SymbolDisplayPartKind["parameterName"]=13]="parameterName";SymbolDisplayPartKind[SymbolDisplayPartKind["propertyName"]=14]="propertyName";SymbolDisplayPartKind[SymbolDisplayPartKind["punctuation"]=15]="punctuation";SymbolDisplayPartKind[SymbolDisplayPartKind["space"]=16]="space";SymbolDisplayPartKind[SymbolDisplayPartKind["text"]=17]="text";SymbolDisplayPartKind[SymbolDisplayPartKind["typeParameterName"]=18]="typeParameterName";SymbolDisplayPartKind[SymbolDisplayPartKind["enumMemberName"]=19]="enumMemberName";SymbolDisplayPartKind[SymbolDisplayPartKind["functionName"]=20]="functionName";SymbolDisplayPartKind[SymbolDisplayPartKind["regularExpressionLiteral"]=21]="regularExpressionLiteral";})(ts.SymbolDisplayPartKind||(ts.SymbolDisplayPartKind={}));var SymbolDisplayPartKind=ts.SymbolDisplayPartKind;(function(OutputFileType){OutputFileType[OutputFileType["JavaScript"]=0]="JavaScript";OutputFileType[OutputFileType["SourceMap"]=1]="SourceMap";OutputFileType[OutputFileType["Declaration"]=2]="Declaration";})(ts.OutputFileType||(ts.OutputFileType={}));var OutputFileType=ts.OutputFileType;(function(EndOfLineState){EndOfLineState[EndOfLineState["None"]=0]="None";EndOfLineState[EndOfLineState["InMultiLineCommentTrivia"]=1]="InMultiLineCommentTrivia";EndOfLineState[EndOfLineState["InSingleQuoteStringLiteral"]=2]="InSingleQuoteStringLiteral";EndOfLineState[EndOfLineState["InDoubleQuoteStringLiteral"]=3]="InDoubleQuoteStringLiteral";EndOfLineState[EndOfLineState["InTemplateHeadOrNoSubstitutionTemplate"]=4]="InTemplateHeadOrNoSubstitutionTemplate";EndOfLineState[EndOfLineState["InTemplateMiddleOrTail"]=5]="InTemplateMiddleOrTail";EndOfLineState[EndOfLineState["InTemplateSubstitutionPosition"]=6]="InTemplateSubstitutionPosition";})(ts.EndOfLineState||(ts.EndOfLineState={}));var EndOfLineState=ts.EndOfLineState;(function(TokenClass){TokenClass[TokenClass["Punctuation"]=0]="Punctuation";TokenClass[TokenClass["Keyword"]=1]="Keyword";TokenClass[TokenClass["Operator"]=2]="Operator";TokenClass[TokenClass["Comment"]=3]="Comment";TokenClass[TokenClass["Whitespace"]=4]="Whitespace";TokenClass[TokenClass["Identifier"]=5]="Identifier";TokenClass[TokenClass["NumberLiteral"]=6]="NumberLiteral";TokenClass[TokenClass["StringLiteral"]=7]="StringLiteral";TokenClass[TokenClass["RegExpLiteral"]=8]="RegExpLiteral";})(ts.TokenClass||(ts.TokenClass={}));var TokenClass=ts.TokenClass;var ScriptElementKind;(function(ScriptElementKind){ScriptElementKind.unknown="";ScriptElementKind.warning="warning";ScriptElementKind.keyword="keyword";ScriptElementKind.scriptElement="script";ScriptElementKind.moduleElement="module";ScriptElementKind.classElement="class";ScriptElementKind.localClassElement="local class";ScriptElementKind.interfaceElement="interface";ScriptElementKind.typeElement="type";ScriptElementKind.enumElement="enum";ScriptElementKind.variableElement="var";ScriptElementKind.localVariableElement="local var";ScriptElementKind.functionElement="function";ScriptElementKind.localFunctionElement="local function";ScriptElementKind.memberFunctionElement="method";ScriptElementKind.memberGetAccessorElement="getter";ScriptElementKind.memberSetAccessorElement="setter";ScriptElementKind.memberVariableElement="property";ScriptElementKind.constructorImplementationElement="constructor";ScriptElementKind.callSignatureElement="call";ScriptElementKind.indexSignatureElement="index";ScriptElementKind.constructSignatureElement="construct";ScriptElementKind.parameterElement="parameter";ScriptElementKind.typeParameterElement="type parameter";ScriptElementKind.primitiveType="primitive type";ScriptElementKind.label="label";ScriptElementKind.alias="alias";ScriptElementKind.constElement="const";ScriptElementKind.letElement="let";})(ScriptElementKind=ts.ScriptElementKind||(ts.ScriptElementKind={}));var ScriptElementKindModifier;(function(ScriptElementKindModifier){ScriptElementKindModifier.none="";ScriptElementKindModifier.publicMemberModifier="public";ScriptElementKindModifier.privateMemberModifier="private";ScriptElementKindModifier.protectedMemberModifier="protected";ScriptElementKindModifier.exportedModifier="export";ScriptElementKindModifier.ambientModifier="declare";ScriptElementKindModifier.staticModifier="static";ScriptElementKindModifier.abstractModifier="abstract";})(ScriptElementKindModifier=ts.ScriptElementKindModifier||(ts.ScriptElementKindModifier={}));var ClassificationTypeNames=(function(){function ClassificationTypeNames(){}
ClassificationTypeNames.comment="comment";ClassificationTypeNames.identifier="identifier";ClassificationTypeNames.keyword="keyword";ClassificationTypeNames.numericLiteral="number";ClassificationTypeNames.operator="operator";ClassificationTypeNames.stringLiteral="string";ClassificationTypeNames.whiteSpace="whitespace";ClassificationTypeNames.text="text";ClassificationTypeNames.punctuation="punctuation";ClassificationTypeNames.className="class name";ClassificationTypeNames.enumName="enum name";ClassificationTypeNames.interfaceName="interface name";ClassificationTypeNames.moduleName="module name";ClassificationTypeNames.typeParameterName="type parameter name";ClassificationTypeNames.typeAliasName="type alias name";ClassificationTypeNames.parameterName="parameter name";ClassificationTypeNames.docCommentTagName="doc comment tag name";ClassificationTypeNames.jsxOpenTagName="jsx open tag name";ClassificationTypeNames.jsxCloseTagName="jsx close tag name";ClassificationTypeNames.jsxSelfClosingTagName="jsx self closing tag name";ClassificationTypeNames.jsxAttribute="jsx attribute";ClassificationTypeNames.jsxText="jsx text";ClassificationTypeNames.jsxAttributeStringLiteralValue="jsx attribute string literal value";return ClassificationTypeNames;}());ts.ClassificationTypeNames=ClassificationTypeNames;(function(ClassificationType){ClassificationType[ClassificationType["comment"]=1]="comment";ClassificationType[ClassificationType["identifier"]=2]="identifier";ClassificationType[ClassificationType["keyword"]=3]="keyword";ClassificationType[ClassificationType["numericLiteral"]=4]="numericLiteral";ClassificationType[ClassificationType["operator"]=5]="operator";ClassificationType[ClassificationType["stringLiteral"]=6]="stringLiteral";ClassificationType[ClassificationType["regularExpressionLiteral"]=7]="regularExpressionLiteral";ClassificationType[ClassificationType["whiteSpace"]=8]="whiteSpace";ClassificationType[ClassificationType["text"]=9]="text";ClassificationType[ClassificationType["punctuation"]=10]="punctuation";ClassificationType[ClassificationType["className"]=11]="className";ClassificationType[ClassificationType["enumName"]=12]="enumName";ClassificationType[ClassificationType["interfaceName"]=13]="interfaceName";ClassificationType[ClassificationType["moduleName"]=14]="moduleName";ClassificationType[ClassificationType["typeParameterName"]=15]="typeParameterName";ClassificationType[ClassificationType["typeAliasName"]=16]="typeAliasName";ClassificationType[ClassificationType["parameterName"]=17]="parameterName";ClassificationType[ClassificationType["docCommentTagName"]=18]="docCommentTagName";ClassificationType[ClassificationType["jsxOpenTagName"]=19]="jsxOpenTagName";ClassificationType[ClassificationType["jsxCloseTagName"]=20]="jsxCloseTagName";ClassificationType[ClassificationType["jsxSelfClosingTagName"]=21]="jsxSelfClosingTagName";ClassificationType[ClassificationType["jsxAttribute"]=22]="jsxAttribute";ClassificationType[ClassificationType["jsxText"]=23]="jsxText";ClassificationType[ClassificationType["jsxAttributeStringLiteralValue"]=24]="jsxAttributeStringLiteralValue";})(ts.ClassificationType||(ts.ClassificationType={}));var ClassificationType=ts.ClassificationType;function displayPartsToString(displayParts){if(displayParts){return ts.map(displayParts,function(displayPart){return displayPart.text;}).join("");}
return"";}
ts.displayPartsToString=displayPartsToString;function isLocalVariableOrFunction(symbol){if(symbol.parent){return false;}
return ts.forEach(symbol.declarations,function(declaration){if(declaration.kind===176 ){return true;}
if(declaration.kind!==214 &&declaration.kind!==216 ){return false;}
for(var parent_10=declaration.parent;!ts.isFunctionBlock(parent_10);parent_10=parent_10.parent){if(parent_10.kind===251 ||parent_10.kind===222 ){return false;}}
return true;});}
function getDefaultCompilerOptions(){return{target:1 ,jsx:1 };}
ts.getDefaultCompilerOptions=getDefaultCompilerOptions;var HostCache=(function(){function HostCache(host,getCanonicalFileName){this.host=host;this.getCanonicalFileName=getCanonicalFileName;this.currentDirectory=host.getCurrentDirectory();this.fileNameToEntry=ts.createFileMap();var rootFileNames=host.getScriptFileNames();for(var _i=0,rootFileNames_1=rootFileNames;_i<rootFileNames_1.length;_i++){var fileName=rootFileNames_1[_i];this.createEntry(fileName,ts.toPath(fileName,this.currentDirectory,getCanonicalFileName));}
this._compilationSettings=host.getCompilationSettings()||getDefaultCompilerOptions();}
HostCache.prototype.compilationSettings=function(){return this._compilationSettings;};HostCache.prototype.createEntry=function(fileName,path){var entry;var scriptSnapshot=this.host.getScriptSnapshot(fileName);if(scriptSnapshot){entry={hostFileName:fileName,version:this.host.getScriptVersion(fileName),scriptSnapshot:scriptSnapshot,scriptKind:ts.getScriptKind(fileName,this.host)};}
this.fileNameToEntry.set(path,entry);return entry;};HostCache.prototype.getEntry=function(path){return this.fileNameToEntry.get(path);};HostCache.prototype.contains=function(path){return this.fileNameToEntry.contains(path);};HostCache.prototype.getOrCreateEntry=function(fileName){var path=ts.toPath(fileName,this.currentDirectory,this.getCanonicalFileName);if(this.contains(path)){return this.getEntry(path);}
return this.createEntry(fileName,path);};HostCache.prototype.getRootFileNames=function(){var fileNames=[];this.fileNameToEntry.forEachValue(function(path,value){if(value){fileNames.push(value.hostFileName);}});return fileNames;};HostCache.prototype.getVersion=function(path){var file=this.getEntry(path);return file&&file.version;};HostCache.prototype.getScriptSnapshot=function(path){var file=this.getEntry(path);return file&&file.scriptSnapshot;};return HostCache;}());var SyntaxTreeCache=(function(){function SyntaxTreeCache(host){this.host=host;}
SyntaxTreeCache.prototype.getCurrentSourceFile=function(fileName){var scriptSnapshot=this.host.getScriptSnapshot(fileName);if(!scriptSnapshot){throw new Error("Could not find file: '"+fileName+"'.");}
var scriptKind=ts.getScriptKind(fileName,this.host);var version=this.host.getScriptVersion(fileName);var sourceFile;if(this.currentFileName!==fileName){sourceFile=createLanguageServiceSourceFile(fileName,scriptSnapshot,2 ,version,true,scriptKind);}
else if(this.currentFileVersion!==version){var editRange=scriptSnapshot.getChangeRange(this.currentFileScriptSnapshot);sourceFile=updateLanguageServiceSourceFile(this.currentSourceFile,scriptSnapshot,version,editRange);}
if(sourceFile){this.currentFileVersion=version;this.currentFileName=fileName;this.currentFileScriptSnapshot=scriptSnapshot;this.currentSourceFile=sourceFile;}
return this.currentSourceFile;};return SyntaxTreeCache;}());function setSourceFileFields(sourceFile,scriptSnapshot,version){sourceFile.version=version;sourceFile.scriptSnapshot=scriptSnapshot;}
function transpileModule(input,transpileOptions){var options=transpileOptions.compilerOptions?ts.clone(transpileOptions.compilerOptions):getDefaultCompilerOptions();options.isolatedModules=true;options.suppressOutputPathCheck=true;options.allowNonTsExtensions=true;options.noLib=true;options.noResolve=true;var inputFileName=transpileOptions.fileName||(options.jsx?"module.tsx":"module.ts");var sourceFile=ts.createSourceFile(inputFileName,input,options.target);if(transpileOptions.moduleName){sourceFile.moduleName=transpileOptions.moduleName;}
sourceFile.renamedDependencies=transpileOptions.renamedDependencies;var newLine=ts.getNewLineCharacter(options);var outputText;var sourceMapText;var compilerHost={getSourceFile:function(fileName,target){return fileName===ts.normalizeSlashes(inputFileName)?sourceFile:undefined;},writeFile:function(name,text,writeByteOrderMark){if(ts.fileExtensionIs(name,".map")){ts.Debug.assert(sourceMapText===undefined,"Unexpected multiple source map outputs for the file '"+name+"'");sourceMapText=text;}
else{ts.Debug.assert(outputText===undefined,"Unexpected multiple outputs for the file: '"+name+"'");outputText=text;}},getDefaultLibFileName:function(){return"lib.d.ts";},useCaseSensitiveFileNames:function(){return false;},getCanonicalFileName:function(fileName){return fileName;},getCurrentDirectory:function(){return"";},getNewLine:function(){return newLine;},fileExists:function(fileName){return fileName===inputFileName;},readFile:function(fileName){return"";},directoryExists:function(directoryExists){return true;}};var program=ts.createProgram([inputFileName],options,compilerHost);var diagnostics;if(transpileOptions.reportDiagnostics){diagnostics=[];ts.addRange(diagnostics,program.getSyntacticDiagnostics(sourceFile));ts.addRange(diagnostics,program.getOptionsDiagnostics());}
program.emit();ts.Debug.assert(outputText!==undefined,"Output generation failed");return{outputText:outputText,diagnostics:diagnostics,sourceMapText:sourceMapText};}
ts.transpileModule=transpileModule;function transpile(input,compilerOptions,fileName,diagnostics,moduleName){var output=transpileModule(input,{compilerOptions:compilerOptions,fileName:fileName,reportDiagnostics:!!diagnostics,moduleName:moduleName});ts.addRange(diagnostics,output.diagnostics);return output.outputText;}
ts.transpile=transpile;function createLanguageServiceSourceFile(fileName,scriptSnapshot,scriptTarget,version,setNodeParents,scriptKind){var text=scriptSnapshot.getText(0,scriptSnapshot.getLength());var sourceFile=ts.createSourceFile(fileName,text,scriptTarget,setNodeParents,scriptKind);setSourceFileFields(sourceFile,scriptSnapshot,version);return sourceFile;}
ts.createLanguageServiceSourceFile=createLanguageServiceSourceFile;ts.disableIncrementalParsing=false;function updateLanguageServiceSourceFile(sourceFile,scriptSnapshot,version,textChangeRange,aggressiveChecks){if(textChangeRange){if(version!==sourceFile.version){if(!ts.disableIncrementalParsing){var newText=void 0;var prefix=textChangeRange.span.start!==0?sourceFile.text.substr(0,textChangeRange.span.start):"";var suffix=ts.textSpanEnd(textChangeRange.span)!==sourceFile.text.length?sourceFile.text.substr(ts.textSpanEnd(textChangeRange.span)):"";if(textChangeRange.newLength===0){newText=prefix&&suffix?prefix+suffix:prefix||suffix;}
else{var changedText=scriptSnapshot.getText(textChangeRange.span.start,textChangeRange.span.start+textChangeRange.newLength);newText=prefix&&suffix?prefix+changedText+suffix:prefix?(prefix+changedText):(changedText+suffix);}
var newSourceFile=ts.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks);setSourceFileFields(newSourceFile,scriptSnapshot,version);newSourceFile.nameTable=undefined;if(sourceFile!==newSourceFile&&sourceFile.scriptSnapshot){if(sourceFile.scriptSnapshot.dispose){sourceFile.scriptSnapshot.dispose();}
sourceFile.scriptSnapshot=undefined;}
return newSourceFile;}}}
return createLanguageServiceSourceFile(sourceFile.fileName,scriptSnapshot,sourceFile.languageVersion,version,true,sourceFile.scriptKind);}
ts.updateLanguageServiceSourceFile=updateLanguageServiceSourceFile;function createDocumentRegistry(useCaseSensitiveFileNames,currentDirectory){if(currentDirectory===void 0){currentDirectory="";}
var buckets={};var getCanonicalFileName=ts.createGetCanonicalFileName(!!useCaseSensitiveFileNames);function getKeyFromCompilationSettings(settings){return"_"+settings.target+"|"+settings.module+"|"+settings.noResolve+"|"+settings.jsx+ +"|"+settings.allowJs;}
function getBucketForCompilationSettings(settings,createIfMissing){var key=getKeyFromCompilationSettings(settings);var bucket=ts.lookUp(buckets,key);if(!bucket&&createIfMissing){buckets[key]=bucket=ts.createFileMap();}
return bucket;}
function reportStats(){var bucketInfoArray=Object.keys(buckets).filter(function(name){return name&&name.charAt(0)==="_";}).map(function(name){var entries=ts.lookUp(buckets,name);var sourceFiles=[];entries.forEachValue(function(key,entry){sourceFiles.push({name:key,refCount:entry.languageServiceRefCount,references:entry.owners.slice(0)});});sourceFiles.sort(function(x,y){return y.refCount-x.refCount;});return{bucket:name,sourceFiles:sourceFiles};});return JSON.stringify(bucketInfoArray,undefined,2);}
function acquireDocument(fileName,compilationSettings,scriptSnapshot,version,scriptKind){return acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,true,scriptKind);}
function updateDocument(fileName,compilationSettings,scriptSnapshot,version,scriptKind){return acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,false,scriptKind);}
function acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,acquiring,scriptKind){var bucket=getBucketForCompilationSettings(compilationSettings,true);var path=ts.toPath(fileName,currentDirectory,getCanonicalFileName);var entry=bucket.get(path);if(!entry){ts.Debug.assert(acquiring,"How could we be trying to update a document that the registry doesn't have?");var sourceFile=createLanguageServiceSourceFile(fileName,scriptSnapshot,compilationSettings.target,version,false,scriptKind);entry={sourceFile:sourceFile,languageServiceRefCount:0,owners:[]};bucket.set(path,entry);}
else{if(entry.sourceFile.version!==version){entry.sourceFile=updateLanguageServiceSourceFile(entry.sourceFile,scriptSnapshot,version,scriptSnapshot.getChangeRange(entry.sourceFile.scriptSnapshot));}}
if(acquiring){entry.languageServiceRefCount++;}
return entry.sourceFile;}
function releaseDocument(fileName,compilationSettings){var bucket=getBucketForCompilationSettings(compilationSettings,false);ts.Debug.assert(bucket!==undefined);var path=ts.toPath(fileName,currentDirectory,getCanonicalFileName);var entry=bucket.get(path);entry.languageServiceRefCount--;ts.Debug.assert(entry.languageServiceRefCount>=0);if(entry.languageServiceRefCount===0){bucket.remove(path);}}
return{acquireDocument:acquireDocument,updateDocument:updateDocument,releaseDocument:releaseDocument,reportStats:reportStats};}
ts.createDocumentRegistry=createDocumentRegistry;function preProcessFile(sourceText,readImportFiles,detectJavaScriptImports){if(readImportFiles===void 0){readImportFiles=true;}
if(detectJavaScriptImports===void 0){detectJavaScriptImports=false;}
var referencedFiles=[];var importedFiles=[];var ambientExternalModules;var isNoDefaultLib=false;function processTripleSlashDirectives(){var commentRanges=ts.getLeadingCommentRanges(sourceText,0);ts.forEach(commentRanges,function(commentRange){var comment=sourceText.substring(commentRange.pos,commentRange.end);var referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,commentRange);if(referencePathMatchResult){isNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var fileReference=referencePathMatchResult.fileReference;if(fileReference){referencedFiles.push(fileReference);}}});}
function recordAmbientExternalModule(){if(!ambientExternalModules){ambientExternalModules=[];}
ambientExternalModules.push(scanner.getTokenValue());}
function recordModuleName(){var importPath=scanner.getTokenValue();var pos=scanner.getTokenPos();importedFiles.push({fileName:importPath,pos:pos,end:pos+importPath.length});}
function tryConsumeDeclare(){var token=scanner.getToken();if(token===122 ){token=scanner.scan();if(token===125 ){token=scanner.scan();if(token===9 ){recordAmbientExternalModule();}}
return true;}
return false;}
function tryConsumeImport(){var token=scanner.getToken();if(token===89 ){token=scanner.scan();if(token===9 ){recordModuleName();return true;}
else{if(token===69 ||ts.isKeyword(token)){token=scanner.scan();if(token===133 ){token=scanner.scan();if(token===9 ){recordModuleName();return true;}}
else if(token===56 ){if(tryConsumeRequireCall(true)){return true;}}
else if(token===24 ){token=scanner.scan();}
else{return true;}}
if(token===15 ){token=scanner.scan();while(token!==16 &&token!==1 ){token=scanner.scan();}
if(token===16 ){token=scanner.scan();if(token===133 ){token=scanner.scan();if(token===9 ){recordModuleName();}}}}
else if(token===37 ){token=scanner.scan();if(token===116 ){token=scanner.scan();if(token===69 ||ts.isKeyword(token)){token=scanner.scan();if(token===133 ){token=scanner.scan();if(token===9 ){recordModuleName();}}}}}}
return true;}
return false;}
function tryConsumeExport(){var token=scanner.getToken();if(token===82 ){token=scanner.scan();if(token===15 ){token=scanner.scan();while(token!==16 &&token!==1 ){token=scanner.scan();}
if(token===16 ){token=scanner.scan();if(token===133 ){token=scanner.scan();if(token===9 ){recordModuleName();}}}}
else if(token===37 ){token=scanner.scan();if(token===133 ){token=scanner.scan();if(token===9 ){recordModuleName();}}}
else if(token===89 ){token=scanner.scan();if(token===69 ||ts.isKeyword(token)){token=scanner.scan();if(token===56 ){if(tryConsumeRequireCall(true)){return true;}}}}
return true;}
return false;}
function tryConsumeRequireCall(skipCurrentToken){var token=skipCurrentToken?scanner.scan():scanner.getToken();if(token===127 ){token=scanner.scan();if(token===17 ){token=scanner.scan();if(token===9 ){recordModuleName();}}
return true;}
return false;}
function tryConsumeDefine(){var token=scanner.getToken();if(token===69 &&scanner.getTokenValue()==="define"){token=scanner.scan();if(token!==17 ){return true;}
token=scanner.scan();if(token===9 ){token=scanner.scan();if(token===24 ){token=scanner.scan();}
else{return true;}}
if(token!==19 ){return true;}
token=scanner.scan();var i=0;while(token!==20 &&token!==1 ){if(token===9 ){recordModuleName();i++;}
token=scanner.scan();}
return true;}
return false;}
function processImports(){scanner.setText(sourceText);scanner.scan();while(true){if(scanner.getToken()===1 ){break;}
if(tryConsumeDeclare()||tryConsumeImport()||tryConsumeExport()||(detectJavaScriptImports&&(tryConsumeRequireCall(false)||tryConsumeDefine()))){continue;}
else{scanner.scan();}}
scanner.setText(undefined);}
if(readImportFiles){processImports();}
processTripleSlashDirectives();return{referencedFiles:referencedFiles,importedFiles:importedFiles,isLibFile:isNoDefaultLib,ambientExternalModules:ambientExternalModules};}
ts.preProcessFile=preProcessFile;function getTargetLabel(referenceNode,labelName){while(referenceNode){if(referenceNode.kind===210 &&referenceNode.label.text===labelName){return referenceNode.label;}
referenceNode=referenceNode.parent;}
return undefined;}
function isJumpStatementTarget(node){return node.kind===69 &&(node.parent.kind===206 ||node.parent.kind===205 )&&node.parent.label===node;}
function isLabelOfLabeledStatement(node){return node.kind===69 &&node.parent.kind===210 &&node.parent.label===node;}
function isLabeledBy(node,labelName){for(var owner=node.parent;owner.kind===210 ;owner=owner.parent){if(owner.label.text===labelName){return true;}}
return false;}
function isLabelName(node){return isLabelOfLabeledStatement(node)||isJumpStatementTarget(node);}
function isRightSideOfQualifiedName(node){return node.parent.kind===136 &&node.parent.right===node;}
function isRightSideOfPropertyAccess(node){return node&&node.parent&&node.parent.kind===169 &&node.parent.name===node;}
function isCallExpressionTarget(node){if(isRightSideOfPropertyAccess(node)){node=node.parent;}
return node&&node.parent&&node.parent.kind===171 &&node.parent.expression===node;}
function isNewExpressionTarget(node){if(isRightSideOfPropertyAccess(node)){node=node.parent;}
return node&&node.parent&&node.parent.kind===172 &&node.parent.expression===node;}
function isNameOfModuleDeclaration(node){return node.parent.kind===221 &&node.parent.name===node;}
function isNameOfFunctionDeclaration(node){return node.kind===69 &&ts.isFunctionLike(node.parent)&&node.parent.name===node;}
function isNameOfPropertyAssignment(node){return(node.kind===69 ||node.kind===9 ||node.kind===8 )&&(node.parent.kind===248 ||node.parent.kind===249 )&&node.parent.name===node;}
function isLiteralNameOfPropertyDeclarationOrIndexAccess(node){if(node.kind===9 ||node.kind===8 ){switch(node.parent.kind){case 142 :case 141 :case 248 :case 250 :case 144 :case 143 :case 146 :case 147 :case 221 :return node.parent.name===node;case 170 :return node.parent.argumentExpression===node;}}
return false;}
function isNameOfExternalModuleImportOrDeclaration(node){if(node.kind===9 ){return isNameOfModuleDeclaration(node)||(ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node);}
return false;}
function isInsideComment(sourceFile,token,position){return position<=token.getStart(sourceFile)&&(isInsideCommentRange(ts.getTrailingCommentRanges(sourceFile.text,token.getFullStart()))||isInsideCommentRange(ts.getLeadingCommentRanges(sourceFile.text,token.getFullStart())));function isInsideCommentRange(comments){return ts.forEach(comments,function(comment){if(comment.pos<position&&position<comment.end){return true;}
else if(position===comment.end){var text=sourceFile.text;var width=comment.end-comment.pos;if(width<=2||text.charCodeAt(comment.pos+1)===47 ){return true;}
else{return!(text.charCodeAt(comment.end-1)===47 &&text.charCodeAt(comment.end-2)===42 );}}
return false;});}}
var SemanticMeaning;(function(SemanticMeaning){SemanticMeaning[SemanticMeaning["None"]=0]="None";SemanticMeaning[SemanticMeaning["Value"]=1]="Value";SemanticMeaning[SemanticMeaning["Type"]=2]="Type";SemanticMeaning[SemanticMeaning["Namespace"]=4]="Namespace";SemanticMeaning[SemanticMeaning["All"]=7]="All";})(SemanticMeaning||(SemanticMeaning={}));var BreakContinueSearchType;(function(BreakContinueSearchType){BreakContinueSearchType[BreakContinueSearchType["None"]=0]="None";BreakContinueSearchType[BreakContinueSearchType["Unlabeled"]=1]="Unlabeled";BreakContinueSearchType[BreakContinueSearchType["Labeled"]=2]="Labeled";BreakContinueSearchType[BreakContinueSearchType["All"]=3]="All";})(BreakContinueSearchType||(BreakContinueSearchType={}));var keywordCompletions=[];for(var i=70 ;i<=135 ;i++){keywordCompletions.push({name:ts.tokenToString(i),kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,sortText:"0"});}
function getContainerNode(node){while(true){node=node.parent;if(!node){return undefined;}
switch(node.kind){case 251 :case 144 :case 143 :case 216 :case 176 :case 146 :case 147 :case 217 :case 218 :case 220 :case 221 :return node;}}}
ts.getContainerNode=getContainerNode;function getNodeKind(node){switch(node.kind){case 221 :return ScriptElementKind.moduleElement;case 217 :return ScriptElementKind.classElement;case 218 :return ScriptElementKind.interfaceElement;case 219 :return ScriptElementKind.typeElement;case 220 :return ScriptElementKind.enumElement;case 214 :return ts.isConst(node)?ScriptElementKind.constElement:ts.isLet(node)?ScriptElementKind.letElement:ScriptElementKind.variableElement;case 216 :return ScriptElementKind.functionElement;case 146 :return ScriptElementKind.memberGetAccessorElement;case 147 :return ScriptElementKind.memberSetAccessorElement;case 144 :case 143 :return ScriptElementKind.memberFunctionElement;case 142 :case 141 :return ScriptElementKind.memberVariableElement;case 150 :return ScriptElementKind.indexSignatureElement;case 149 :return ScriptElementKind.constructSignatureElement;case 148 :return ScriptElementKind.callSignatureElement;case 145 :return ScriptElementKind.constructorImplementationElement;case 138 :return ScriptElementKind.typeParameterElement;case 250 :return ScriptElementKind.variableElement;case 139 :return(node.flags&56 )?ScriptElementKind.memberVariableElement:ScriptElementKind.parameterElement;case 224 :case 229 :case 226 :case 233 :case 227 :return ScriptElementKind.alias;}
return ScriptElementKind.unknown;}
ts.getNodeKind=getNodeKind;var CancellationTokenObject=(function(){function CancellationTokenObject(cancellationToken){this.cancellationToken=cancellationToken;}
CancellationTokenObject.prototype.isCancellationRequested=function(){return this.cancellationToken&&this.cancellationToken.isCancellationRequested();};CancellationTokenObject.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested()){throw new ts.OperationCanceledException();}};return CancellationTokenObject;}());function createLanguageService(host,documentRegistry){if(documentRegistry===void 0){documentRegistry=createDocumentRegistry(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames(),host.getCurrentDirectory());}
var syntaxTreeCache=new SyntaxTreeCache(host);var ruleProvider;var program;var lastProjectVersion;var useCaseSensitivefileNames=false;var cancellationToken=new CancellationTokenObject(host.getCancellationToken&&host.getCancellationToken());var currentDirectory=host.getCurrentDirectory();if(!ts.localizedDiagnosticMessages&&host.getLocalizedDiagnosticMessages){ts.localizedDiagnosticMessages=host.getLocalizedDiagnosticMessages();}
function log(message){if(host.log){host.log(message);}}
var getCanonicalFileName=ts.createGetCanonicalFileName(useCaseSensitivefileNames);function getValidSourceFile(fileName){var sourceFile=program.getSourceFile(fileName);if(!sourceFile){throw new Error("Could not find file: '"+fileName+"'.");}
return sourceFile;}
function getRuleProvider(options){if(!ruleProvider){ruleProvider=new ts.formatting.RulesProvider();}
ruleProvider.ensureUpToDate(options);return ruleProvider;}
function synchronizeHostData(){if(host.getProjectVersion){var hostProjectVersion=host.getProjectVersion();if(hostProjectVersion){if(lastProjectVersion===hostProjectVersion){return;}
lastProjectVersion=hostProjectVersion;}}
var hostCache=new HostCache(host,getCanonicalFileName);if(programUpToDate()){return;}
var oldSettings=program&&program.getCompilerOptions();var newSettings=hostCache.compilationSettings();var changesInCompilationSettingsAffectSyntax=oldSettings&&(oldSettings.target!==newSettings.target||oldSettings.module!==newSettings.module||oldSettings.noResolve!==newSettings.noResolve||oldSettings.jsx!==newSettings.jsx||oldSettings.allowJs!==newSettings.allowJs||oldSettings.disableSizeLimit!==oldSettings.disableSizeLimit);var compilerHost={getSourceFile:getOrCreateSourceFile,getCancellationToken:function(){return cancellationToken;},getCanonicalFileName:getCanonicalFileName,useCaseSensitiveFileNames:function(){return useCaseSensitivefileNames;},getNewLine:function(){return ts.getNewLineOrDefaultFromHost(host);},getDefaultLibFileName:function(options){return host.getDefaultLibFileName(options);},writeFile:function(fileName,data,writeByteOrderMark){},getCurrentDirectory:function(){return currentDirectory;},fileExists:function(fileName){ts.Debug.assert(!host.resolveModuleNames);return hostCache.getOrCreateEntry(fileName)!==undefined;},readFile:function(fileName){var entry=hostCache.getOrCreateEntry(fileName);return entry&&entry.scriptSnapshot.getText(0,entry.scriptSnapshot.getLength());},directoryExists:function(directoryName){ts.Debug.assert(!host.resolveModuleNames);return ts.directoryProbablyExists(directoryName,host);}};if(host.resolveModuleNames){compilerHost.resolveModuleNames=function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile);};}
var newProgram=ts.createProgram(hostCache.getRootFileNames(),newSettings,compilerHost,program);if(program){var oldSourceFiles=program.getSourceFiles();for(var _i=0,oldSourceFiles_1=oldSourceFiles;_i<oldSourceFiles_1.length;_i++){var oldSourceFile=oldSourceFiles_1[_i];if(!newProgram.getSourceFile(oldSourceFile.fileName)||changesInCompilationSettingsAffectSyntax){documentRegistry.releaseDocument(oldSourceFile.fileName,oldSettings);}}}
hostCache=undefined;program=newProgram;program.getTypeChecker();return;function getOrCreateSourceFile(fileName){ts.Debug.assert(hostCache!==undefined);var hostFileInformation=hostCache.getOrCreateEntry(fileName);if(!hostFileInformation){return undefined;}
if(!changesInCompilationSettingsAffectSyntax){var oldSourceFile=program&&program.getSourceFile(fileName);if(oldSourceFile){ts.Debug.assert(hostFileInformation.scriptKind===oldSourceFile.scriptKind,"Registered script kind ("+oldSourceFile.scriptKind+") should match new script kind ("+hostFileInformation.scriptKind+") for file: "+fileName);return documentRegistry.updateDocument(fileName,newSettings,hostFileInformation.scriptSnapshot,hostFileInformation.version,hostFileInformation.scriptKind);}}
return documentRegistry.acquireDocument(fileName,newSettings,hostFileInformation.scriptSnapshot,hostFileInformation.version,hostFileInformation.scriptKind);}
function sourceFileUpToDate(sourceFile){if(!sourceFile){return false;}
var path=sourceFile.path||ts.toPath(sourceFile.fileName,currentDirectory,getCanonicalFileName);return sourceFile.version===hostCache.getVersion(path);}
function programUpToDate(){if(!program){return false;}
var rootFileNames=hostCache.getRootFileNames();if(program.getSourceFiles().length!==rootFileNames.length){return false;}
for(var _i=0,rootFileNames_2=rootFileNames;_i<rootFileNames_2.length;_i++){var fileName=rootFileNames_2[_i];if(!sourceFileUpToDate(program.getSourceFile(fileName))){return false;}}
return ts.compareDataObjects(program.getCompilerOptions(),hostCache.compilationSettings());}}
function getProgram(){synchronizeHostData();return program;}
function cleanupSemanticCache(){}
function dispose(){if(program){ts.forEach(program.getSourceFiles(),function(f){return documentRegistry.releaseDocument(f.fileName,program.getCompilerOptions());});}}
function getSyntacticDiagnostics(fileName){synchronizeHostData();return program.getSyntacticDiagnostics(getValidSourceFile(fileName),cancellationToken);}
function getSemanticDiagnostics(fileName){synchronizeHostData();var targetSourceFile=getValidSourceFile(fileName);var semanticDiagnostics=program.getSemanticDiagnostics(targetSourceFile,cancellationToken);if(!program.getCompilerOptions().declaration){return semanticDiagnostics;}
var declarationDiagnostics=program.getDeclarationDiagnostics(targetSourceFile,cancellationToken);return ts.concatenate(semanticDiagnostics,declarationDiagnostics);}
function getCompilerOptionsDiagnostics(){synchronizeHostData();return program.getOptionsDiagnostics(cancellationToken).concat(program.getGlobalDiagnostics(cancellationToken));}
function getCompletionEntryDisplayNameForSymbol(symbol,target,performCharacterChecks,location){var displayName=ts.getDeclaredName(program.getTypeChecker(),symbol,location);if(displayName){var firstCharCode=displayName.charCodeAt(0);if((symbol.flags&1536 )&&(firstCharCode===39 ||firstCharCode===34 )){return undefined;}}
return getCompletionEntryDisplayName(displayName,target,performCharacterChecks);}
function getCompletionEntryDisplayName(name,target,performCharacterChecks){if(!name){return undefined;}
name=ts.stripQuotes(name);if(!name){return undefined;}
if(performCharacterChecks){if(!ts.isIdentifier(name,target)){return undefined;}}
return name;}
function getCompletionData(fileName,position){var typeChecker=program.getTypeChecker();var sourceFile=getValidSourceFile(fileName);var isJavaScriptFile=ts.isSourceFileJavaScript(sourceFile);var isJsDocTagName=false;var start=new Date().getTime();var currentToken=ts.getTokenAtPosition(sourceFile,position);log("getCompletionData: Get current token: "+(new Date().getTime()-start));start=new Date().getTime();var insideComment=isInsideComment(sourceFile,currentToken,position);log("getCompletionData: Is inside comment: "+(new Date().getTime()-start));if(insideComment){if(ts.hasDocComment(sourceFile,position)&&sourceFile.text.charCodeAt(position-1)===64 ){isJsDocTagName=true;}
var insideJsDocTagExpression=false;var tag=ts.getJsDocTagAtPosition(sourceFile,position);if(tag){if(tag.tagName.pos<=position&&position<=tag.tagName.end){isJsDocTagName=true;}
switch(tag.kind){case 272 :case 270 :case 271 :var tagWithExpression=tag;if(tagWithExpression.typeExpression){insideJsDocTagExpression=tagWithExpression.typeExpression.pos<position&&position<tagWithExpression.typeExpression.end;}
break;}}
if(isJsDocTagName){return{symbols:undefined,isMemberCompletion:false,isNewIdentifierLocation:false,location:undefined,isRightOfDot:false,isJsDocTagName:isJsDocTagName};}
if(!insideJsDocTagExpression){log("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.");return undefined;}}
start=new Date().getTime();var previousToken=ts.findPrecedingToken(position,sourceFile);log("getCompletionData: Get previous token 1: "+(new Date().getTime()-start));var contextToken=previousToken;if(contextToken&&position<=contextToken.end&&ts.isWord(contextToken.kind)){var start_6=new Date().getTime();contextToken=ts.findPrecedingToken(contextToken.getFullStart(),sourceFile);log("getCompletionData: Get previous token 2: "+(new Date().getTime()-start_6));}
var node=currentToken;var isRightOfDot=false;var isRightOfOpenTag=false;var isStartingCloseTag=false;var location=ts.getTouchingPropertyName(sourceFile,position);if(contextToken){if(isCompletionListBlocker(contextToken)){log("Returning an empty list because completion was requested in an invalid position.");return undefined;}
var parent_11=contextToken.parent,kind=contextToken.kind;if(kind===21 ){if(parent_11.kind===169 ){node=contextToken.parent.expression;isRightOfDot=true;}
else if(parent_11.kind===136 ){node=contextToken.parent.left;isRightOfDot=true;}
else{return undefined;}}
else if(sourceFile.languageVariant===1 ){if(kind===25 ){isRightOfOpenTag=true;location=contextToken;}
else if(kind===39 &&contextToken.parent.kind===240 ){isStartingCloseTag=true;location=contextToken;}}}
var semanticStart=new Date().getTime();var isMemberCompletion;var isNewIdentifierLocation;var symbols=[];if(isRightOfDot){getTypeScriptMemberSymbols();}
else if(isRightOfOpenTag){var tagSymbols=typeChecker.getJsxIntrinsicTagNames();if(tryGetGlobalSymbols()){symbols=tagSymbols.concat(symbols.filter(function(s){return!!(s.flags&107455 );}));}
else{symbols=tagSymbols;}
isMemberCompletion=true;isNewIdentifierLocation=false;}
else if(isStartingCloseTag){var tagName=contextToken.parent.parent.openingElement.tagName;var tagSymbol=typeChecker.getSymbolAtLocation(tagName);if(!typeChecker.isUnknownSymbol(tagSymbol)){symbols=[tagSymbol];}
isMemberCompletion=true;isNewIdentifierLocation=false;}
else{if(!tryGetGlobalSymbols()){return undefined;}}
log("getCompletionData: Semantic work: "+(new Date().getTime()-semanticStart));return{symbols:symbols,isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation,location:location,isRightOfDot:(isRightOfDot||isRightOfOpenTag),isJsDocTagName:isJsDocTagName};function getTypeScriptMemberSymbols(){isMemberCompletion=true;isNewIdentifierLocation=false;if(node.kind===69 ||node.kind===136 ||node.kind===169 ){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol&&symbol.flags&8388608 ){symbol=typeChecker.getAliasedSymbol(symbol);}
if(symbol&&symbol.flags&1952 ){var exportedSymbols=typeChecker.getExportsOfModule(symbol);ts.forEach(exportedSymbols,function(symbol){if(typeChecker.isValidPropertyAccess((node.parent),symbol.name)){symbols.push(symbol);}});}}
var type=typeChecker.getTypeAtLocation(node);addTypeProperties(type);}
function addTypeProperties(type){if(type){for(var _i=0,_a=type.getApparentProperties();_i<_a.length;_i++){var symbol=_a[_i];if(typeChecker.isValidPropertyAccess((node.parent),symbol.name)){symbols.push(symbol);}}
if(isJavaScriptFile&&type.flags&16384 ){var unionType=type;for(var _b=0,_c=unionType.types;_b<_c.length;_b++){var elementType=_c[_b];addTypeProperties(elementType);}}}}
function tryGetGlobalSymbols(){var objectLikeContainer;var namedImportsOrExports;var jsxContainer;if(objectLikeContainer=tryGetObjectLikeCompletionContainer(contextToken)){return tryGetObjectLikeCompletionSymbols(objectLikeContainer);}
if(namedImportsOrExports=tryGetNamedImportsOrExportsForCompletion(contextToken)){return tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports);}
if(jsxContainer=tryGetContainingJsxElement(contextToken)){var attrsType=void 0;if((jsxContainer.kind===237 )||(jsxContainer.kind===238 )){attrsType=typeChecker.getJsxElementAttributesType(jsxContainer);if(attrsType){symbols=filterJsxAttributes(typeChecker.getPropertiesOfType(attrsType),jsxContainer.attributes);isMemberCompletion=true;isNewIdentifierLocation=false;return true;}}}
isMemberCompletion=false;isNewIdentifierLocation=isNewIdentifierDefinitionLocation(contextToken);if(previousToken!==contextToken){ts.Debug.assert(!!previousToken,"Expected 'contextToken' to be defined when different from 'previousToken'.");}
var adjustedPosition=previousToken!==contextToken?previousToken.getStart():position;var scopeNode=getScopeNode(contextToken,adjustedPosition,sourceFile)||sourceFile;var symbolMeanings=793056 |107455 |1536 |8388608 ;symbols=typeChecker.getSymbolsInScope(scopeNode,symbolMeanings);return true;}
function getScopeNode(initialToken,position,sourceFile){var scope=initialToken;while(scope&&!ts.positionBelongsToNode(scope,position,sourceFile)){scope=scope.parent;}
return scope;}
function isCompletionListBlocker(contextToken){var start=new Date().getTime();var result=isInStringOrRegularExpressionOrTemplateLiteral(contextToken)||isSolelyIdentifierDefinitionLocation(contextToken)||isDotOfNumericLiteral(contextToken)||isInJsxText(contextToken);log("getCompletionsAtPosition: isCompletionListBlocker: "+(new Date().getTime()-start));return result;}
function isInJsxText(contextToken){if(contextToken.kind===239 ){return true;}
if(contextToken.kind===27 &&contextToken.parent){if(contextToken.parent.kind===238 ){return true;}
if(contextToken.parent.kind===240 ||contextToken.parent.kind===237 ){return contextToken.parent.parent&&contextToken.parent.parent.kind===236 ;}}
return false;}
function isNewIdentifierDefinitionLocation(previousToken){if(previousToken){var containingNodeKind=previousToken.parent.kind;switch(previousToken.kind){case 24 :return containingNodeKind===171  ||containingNodeKind===145  ||containingNodeKind===172  ||containingNodeKind===167  ||containingNodeKind===184  ||containingNodeKind===153 ;case 17 :return containingNodeKind===171  ||containingNodeKind===145  ||containingNodeKind===172  ||containingNodeKind===175  ||containingNodeKind===161 ;case 19 :return containingNodeKind===167  ||containingNodeKind===150  ||containingNodeKind===137 ;case 125 :case 126 :return true;case 21 :return containingNodeKind===221 ;case 15 :return containingNodeKind===217 ;case 56 :return containingNodeKind===214  ||containingNodeKind===184 ;case 12 :return containingNodeKind===186 ;case 13 :return containingNodeKind===193 ;case 112 :case 110 :case 111 :return containingNodeKind===142 ;}
switch(previousToken.getText()){case"public":case"protected":case"private":return true;}}
return false;}
function isInStringOrRegularExpressionOrTemplateLiteral(contextToken){if(contextToken.kind===9 ||contextToken.kind===163 ||contextToken.kind===10 ||ts.isTemplateLiteralKind(contextToken.kind)){var start_7=contextToken.getStart();var end=contextToken.getEnd();if(start_7<position&&position<end){return true;}
if(position===end){return!!contextToken.isUnterminated||contextToken.kind===10 ;}}
return false;}
function tryGetObjectLikeCompletionSymbols(objectLikeContainer){isMemberCompletion=true;var typeForObject;var existingMembers;if(objectLikeContainer.kind===168 ){isNewIdentifierLocation=true;typeForObject=typeChecker.getContextualType(objectLikeContainer);existingMembers=objectLikeContainer.properties;}
else if(objectLikeContainer.kind===164 ){isNewIdentifierLocation=false;var rootDeclaration=ts.getRootDeclaration(objectLikeContainer.parent);if(ts.isVariableLike(rootDeclaration)){if(rootDeclaration.initializer||rootDeclaration.type){typeForObject=typeChecker.getTypeAtLocation(objectLikeContainer);existingMembers=objectLikeContainer.elements;}}
else{ts.Debug.fail("Root declaration is not variable-like.");}}
else{ts.Debug.fail("Expected object literal or binding pattern, got "+objectLikeContainer.kind);}
if(!typeForObject){return false;}
var typeMembers=typeChecker.getPropertiesOfType(typeForObject);if(typeMembers&&typeMembers.length>0){symbols=filterObjectMembersList(typeMembers,existingMembers);}
return true;}
function tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports){var declarationKind=namedImportsOrExports.kind===228 ?225 :231 ;var importOrExportDeclaration=ts.getAncestor(namedImportsOrExports,declarationKind);var moduleSpecifier=importOrExportDeclaration.moduleSpecifier;if(!moduleSpecifier){return false;}
isMemberCompletion=true;isNewIdentifierLocation=false;var exports;var moduleSpecifierSymbol=typeChecker.getSymbolAtLocation(importOrExportDeclaration.moduleSpecifier);if(moduleSpecifierSymbol){exports=typeChecker.getExportsOfModule(moduleSpecifierSymbol);}
symbols=exports?filterNamedImportOrExportCompletionItems(exports,namedImportsOrExports.elements):emptyArray;return true;}
function tryGetObjectLikeCompletionContainer(contextToken){if(contextToken){switch(contextToken.kind){case 15 :case 24 :var parent_12=contextToken.parent;if(parent_12&&(parent_12.kind===168 ||parent_12.kind===164 )){return parent_12;}
break;}}
return undefined;}
function tryGetNamedImportsOrExportsForCompletion(contextToken){if(contextToken){switch(contextToken.kind){case 15 :case 24 :switch(contextToken.parent.kind){case 228 :case 232 :return contextToken.parent;}}}
return undefined;}
function tryGetContainingJsxElement(contextToken){if(contextToken){var parent_13=contextToken.parent;switch(contextToken.kind){case 26 :case 39 :case 69 :case 241 :case 242 :if(parent_13&&(parent_13.kind===237 ||parent_13.kind===238 )){return parent_13;}
else if(parent_13.kind===241 ){return parent_13.parent;}
break;case 9 :if(parent_13&&((parent_13.kind===241 )||(parent_13.kind===242 ))){return parent_13.parent;}
break;case 16 :if(parent_13&&parent_13.kind===243 &&parent_13.parent&&(parent_13.parent.kind===241 )){return parent_13.parent.parent;}
if(parent_13&&parent_13.kind===242 ){return parent_13.parent;}
break;}}
return undefined;}
function isFunction(kind){switch(kind){case 176 :case 177 :case 216 :case 144 :case 143 :case 146 :case 147 :case 148 :case 149 :case 150 :return true;}
return false;}
function isSolelyIdentifierDefinitionLocation(contextToken){var containingNodeKind=contextToken.parent.kind;switch(contextToken.kind){case 24 :return containingNodeKind===214 ||containingNodeKind===215 ||containingNodeKind===196 ||containingNodeKind===220 ||isFunction(containingNodeKind)||containingNodeKind===217 ||containingNodeKind===189 ||containingNodeKind===218 ||containingNodeKind===165 ||containingNodeKind===219 ;case 21 :return containingNodeKind===165 ;case 54 :return containingNodeKind===166 ;case 19 :return containingNodeKind===165 ;case 17 :return containingNodeKind===247 ||isFunction(containingNodeKind);case 15 :return containingNodeKind===220 ||containingNodeKind===218 ||containingNodeKind===156 ;case 23 :return containingNodeKind===141 &&contextToken.parent&&contextToken.parent.parent&&(contextToken.parent.parent.kind===218 ||contextToken.parent.parent.kind===156 );case 25 :return containingNodeKind===217 ||containingNodeKind===189 ||containingNodeKind===218 ||containingNodeKind===219 ||isFunction(containingNodeKind);case 113 :return containingNodeKind===142 ;case 22 :return containingNodeKind===139 ||(contextToken.parent&&contextToken.parent.parent&&contextToken.parent.parent.kind===165 );case 112 :case 110 :case 111 :return containingNodeKind===139 ;case 116 :return containingNodeKind===229 ||containingNodeKind===233 ||containingNodeKind===227 ;case 73 :case 81 :case 107 :case 87 :case 102 :case 123 :case 129 :case 89 :case 108 :case 74 :case 114 :case 132 :return true;}
switch(contextToken.getText()){case"abstract":case"async":case"class":case"const":case"declare":case"enum":case"function":case"interface":case"let":case"private":case"protected":case"public":case"static":case"var":case"yield":return true;}
return false;}
function isDotOfNumericLiteral(contextToken){if(contextToken.kind===8 ){var text=contextToken.getFullText();return text.charAt(text.length-1)===".";}
return false;}
function filterNamedImportOrExportCompletionItems(exportsOfModule,namedImportsOrExports){var exisingImportsOrExports={};for(var _i=0,namedImportsOrExports_1=namedImportsOrExports;_i<namedImportsOrExports_1.length;_i++){var element=namedImportsOrExports_1[_i];if(element.getStart()<=position&&position<=element.getEnd()){continue;}
var name_37=element.propertyName||element.name;exisingImportsOrExports[name_37.text]=true;}
if(ts.isEmpty(exisingImportsOrExports)){return exportsOfModule;}
return ts.filter(exportsOfModule,function(e){return!ts.lookUp(exisingImportsOrExports,e.name);});}
function filterObjectMembersList(contextualMemberSymbols,existingMembers){if(!existingMembers||existingMembers.length===0){return contextualMemberSymbols;}
var existingMemberNames={};for(var _i=0,existingMembers_1=existingMembers;_i<existingMembers_1.length;_i++){var m=existingMembers_1[_i];if(m.kind!==248 &&m.kind!==249 &&m.kind!==166 &&m.kind!==144 ){continue;}
if(m.getStart()<=position&&position<=m.getEnd()){continue;}
var existingName=void 0;if(m.kind===166 &&m.propertyName){if(m.propertyName.kind===69 ){existingName=m.propertyName.text;}}
else{existingName=m.name.text;}
existingMemberNames[existingName]=true;}
return ts.filter(contextualMemberSymbols,function(m){return!ts.lookUp(existingMemberNames,m.name);});}
function filterJsxAttributes(symbols,attributes){var seenNames={};for(var _i=0,attributes_1=attributes;_i<attributes_1.length;_i++){var attr=attributes_1[_i];if(attr.getStart()<=position&&position<=attr.getEnd()){continue;}
if(attr.kind===241 ){seenNames[attr.name.text]=true;}}
return ts.filter(symbols,function(a){return!ts.lookUp(seenNames,a.name);});}}
function getCompletionsAtPosition(fileName,position){synchronizeHostData();var completionData=getCompletionData(fileName,position);if(!completionData){return undefined;}
var symbols=completionData.symbols,isMemberCompletion=completionData.isMemberCompletion,isNewIdentifierLocation=completionData.isNewIdentifierLocation,location=completionData.location,isJsDocTagName=completionData.isJsDocTagName;if(isJsDocTagName){return{isMemberCompletion:false,isNewIdentifierLocation:false,entries:getAllJsDocCompletionEntries()};}
var sourceFile=getValidSourceFile(fileName);var entries=[];if(ts.isSourceFileJavaScript(sourceFile)){var uniqueNames=getCompletionEntriesFromSymbols(symbols,entries);ts.addRange(entries,getJavaScriptCompletionEntries(sourceFile,location.pos,uniqueNames));}
else{if(!symbols||symbols.length===0){if(sourceFile.languageVariant===1 &&location.parent&&location.parent.kind===240 ){var tagName=location.parent.parent.openingElement.tagName;entries.push({name:tagName.text,kind:undefined,kindModifiers:undefined,sortText:"0"});}
else{return undefined;}}
getCompletionEntriesFromSymbols(symbols,entries);}
if(!isMemberCompletion&&!isJsDocTagName){ts.addRange(entries,keywordCompletions);}
return{isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation,entries:entries};function getJavaScriptCompletionEntries(sourceFile,position,uniqueNames){var entries=[];var target=program.getCompilerOptions().target;var nameTable=getNameTable(sourceFile);for(var name_38 in nameTable){if(nameTable[name_38]===position){continue;}
if(!uniqueNames[name_38]){uniqueNames[name_38]=name_38;var displayName=getCompletionEntryDisplayName(name_38,target,true);if(displayName){var entry={name:displayName,kind:ScriptElementKind.warning,kindModifiers:"",sortText:"1"};entries.push(entry);}}}
return entries;}
function getAllJsDocCompletionEntries(){return jsDocCompletionEntries||(jsDocCompletionEntries=ts.map(jsDocTagNames,function(tagName){return{name:tagName,kind:ScriptElementKind.keyword,kindModifiers:"",sortText:"0"};}));}
function createCompletionEntry(symbol,location){var displayName=getCompletionEntryDisplayNameForSymbol(symbol,program.getCompilerOptions().target,true,location);if(!displayName){return undefined;}
return{name:displayName,kind:getSymbolKind(symbol,location),kindModifiers:getSymbolModifiers(symbol),sortText:"0"};}
function getCompletionEntriesFromSymbols(symbols,entries){var start=new Date().getTime();var uniqueNames={};if(symbols){for(var _i=0,symbols_4=symbols;_i<symbols_4.length;_i++){var symbol=symbols_4[_i];var entry=createCompletionEntry(symbol,location);if(entry){var id=ts.escapeIdentifier(entry.name);if(!ts.lookUp(uniqueNames,id)){entries.push(entry);uniqueNames[id]=id;}}}}
log("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+(new Date().getTime()-start));return uniqueNames;}}
function getCompletionEntryDetails(fileName,position,entryName){synchronizeHostData();var completionData=getCompletionData(fileName,position);if(completionData){var symbols=completionData.symbols,location_2=completionData.location;var target_2=program.getCompilerOptions().target;var symbol=ts.forEach(symbols,function(s){return getCompletionEntryDisplayNameForSymbol(s,target_2,false,location_2)===entryName?s:undefined;});if(symbol){var _a=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,getValidSourceFile(fileName),location_2,location_2,7 ),displayParts=_a.displayParts,documentation=_a.documentation,symbolKind=_a.symbolKind;return{name:entryName,kindModifiers:getSymbolModifiers(symbol),kind:symbolKind,displayParts:displayParts,documentation:documentation};}}
var keywordCompletion=ts.forEach(keywordCompletions,function(c){return c.name===entryName;});if(keywordCompletion){return{name:entryName,kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,displayParts:[ts.displayPart(entryName,SymbolDisplayPartKind.keyword)],documentation:undefined};}
return undefined;}
function getSymbolKind(symbol,location){var flags=symbol.getFlags();if(flags&32 )
return ts.getDeclarationOfKind(symbol,189 )?ScriptElementKind.localClassElement:ScriptElementKind.classElement;if(flags&384 )
return ScriptElementKind.enumElement;if(flags&524288 )
return ScriptElementKind.typeElement;if(flags&64 )
return ScriptElementKind.interfaceElement;if(flags&262144 )
return ScriptElementKind.typeParameterElement;var result=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location);if(result===ScriptElementKind.unknown){if(flags&262144 )
return ScriptElementKind.typeParameterElement;if(flags&8 )
return ScriptElementKind.variableElement;if(flags&8388608 )
return ScriptElementKind.alias;if(flags&1536 )
return ScriptElementKind.moduleElement;}
return result;}
function getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location){var typeChecker=program.getTypeChecker();if(typeChecker.isUndefinedSymbol(symbol)){return ScriptElementKind.variableElement;}
if(typeChecker.isArgumentsSymbol(symbol)){return ScriptElementKind.localVariableElement;}
if(flags&3 ){if(ts.isFirstDeclarationOfSymbolParameter(symbol)){return ScriptElementKind.parameterElement;}
else if(symbol.valueDeclaration&&ts.isConst(symbol.valueDeclaration)){return ScriptElementKind.constElement;}
else if(ts.forEach(symbol.declarations,ts.isLet)){return ScriptElementKind.letElement;}
return isLocalVariableOrFunction(symbol)?ScriptElementKind.localVariableElement:ScriptElementKind.variableElement;}
if(flags&16 )
return isLocalVariableOrFunction(symbol)?ScriptElementKind.localFunctionElement:ScriptElementKind.functionElement;if(flags&32768 )
return ScriptElementKind.memberGetAccessorElement;if(flags&65536 )
return ScriptElementKind.memberSetAccessorElement;if(flags&8192 )
return ScriptElementKind.memberFunctionElement;if(flags&16384 )
return ScriptElementKind.constructorImplementationElement;if(flags&4 ){if(flags&268435456 ){var unionPropertyKind=ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){var rootSymbolFlags=rootSymbol.getFlags();if(rootSymbolFlags&(98308 |3 )){return ScriptElementKind.memberVariableElement;}
ts.Debug.assert(!!(rootSymbolFlags&8192 ));});if(!unionPropertyKind){var typeOfUnionProperty=typeChecker.getTypeOfSymbolAtLocation(symbol,location);if(typeOfUnionProperty.getCallSignatures().length){return ScriptElementKind.memberFunctionElement;}
return ScriptElementKind.memberVariableElement;}
return unionPropertyKind;}
return ScriptElementKind.memberVariableElement;}
return ScriptElementKind.unknown;}
function getSymbolModifiers(symbol){return symbol&&symbol.declarations&&symbol.declarations.length>0?ts.getNodeModifiers(symbol.declarations[0]):ScriptElementKindModifier.none;}
function getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,enclosingDeclaration,location,semanticMeaning){if(semanticMeaning===void 0){semanticMeaning=getMeaningFromLocation(location);}
var typeChecker=program.getTypeChecker();var displayParts=[];var documentation;var symbolFlags=symbol.flags;var symbolKind=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,symbolFlags,location);var hasAddedSymbolInfo;var type;if(symbolKind!==ScriptElementKind.unknown||symbolFlags&32 ||symbolFlags&8388608 ){if(symbolKind===ScriptElementKind.memberGetAccessorElement||symbolKind===ScriptElementKind.memberSetAccessorElement){symbolKind=ScriptElementKind.memberVariableElement;}
var signature=void 0;type=typeChecker.getTypeOfSymbolAtLocation(symbol,location);if(type){if(location.parent&&location.parent.kind===169 ){var right=location.parent.name;if(right===location||(right&&right.getFullWidth()===0)){location=location.parent;}}
var callExpression=void 0;if(location.kind===171 ||location.kind===172 ){callExpression=location;}
else if(isCallExpressionTarget(location)||isNewExpressionTarget(location)){callExpression=location.parent;}
if(callExpression){var candidateSignatures=[];signature=typeChecker.getResolvedSignature(callExpression,candidateSignatures);if(!signature&&candidateSignatures.length){signature=candidateSignatures[0];}
var useConstructSignatures=callExpression.kind===172 ||callExpression.expression.kind===95 ;var allSignatures=useConstructSignatures?type.getConstructSignatures():type.getCallSignatures();if(!ts.contains(allSignatures,signature.target)&&!ts.contains(allSignatures,signature)){signature=allSignatures.length?allSignatures[0]:undefined;}
if(signature){if(useConstructSignatures&&(symbolFlags&32 )){symbolKind=ScriptElementKind.constructorImplementationElement;addPrefixForAnyFunctionOrVar(type.symbol,symbolKind);}
else if(symbolFlags&8388608 ){symbolKind=ScriptElementKind.alias;pushTypePart(symbolKind);displayParts.push(ts.spacePart());if(useConstructSignatures){displayParts.push(ts.keywordPart(92 ));displayParts.push(ts.spacePart());}
addFullSymbolName(symbol);}
else{addPrefixForAnyFunctionOrVar(symbol,symbolKind);}
switch(symbolKind){case ScriptElementKind.memberVariableElement:case ScriptElementKind.variableElement:case ScriptElementKind.constElement:case ScriptElementKind.letElement:case ScriptElementKind.parameterElement:case ScriptElementKind.localVariableElement:displayParts.push(ts.punctuationPart(54 ));displayParts.push(ts.spacePart());if(useConstructSignatures){displayParts.push(ts.keywordPart(92 ));displayParts.push(ts.spacePart());}
if(!(type.flags&65536 )){ts.addRange(displayParts,ts.symbolToDisplayParts(typeChecker,type.symbol,enclosingDeclaration,undefined,1 ));}
addSignatureDisplayParts(signature,allSignatures,8 );break;default:addSignatureDisplayParts(signature,allSignatures);}
hasAddedSymbolInfo=true;}}
else if((isNameOfFunctionDeclaration(location)&&!(symbol.flags&98304 ))||(location.kind===121 &&location.parent.kind===145 )){var functionDeclaration=location.parent;var allSignatures=functionDeclaration.kind===145 ?type.getConstructSignatures():type.getCallSignatures();if(!typeChecker.isImplementationOfOverload(functionDeclaration)){signature=typeChecker.getSignatureFromDeclaration(functionDeclaration);}
else{signature=allSignatures[0];}
if(functionDeclaration.kind===145 ){symbolKind=ScriptElementKind.constructorImplementationElement;addPrefixForAnyFunctionOrVar(type.symbol,symbolKind);}
else{addPrefixForAnyFunctionOrVar(functionDeclaration.kind===148 &&!(type.symbol.flags&2048 ||type.symbol.flags&4096 )?type.symbol:symbol,symbolKind);}
addSignatureDisplayParts(signature,allSignatures);hasAddedSymbolInfo=true;}}}
if(symbolFlags&32 &&!hasAddedSymbolInfo){if(ts.getDeclarationOfKind(symbol,189 )){pushTypePart(ScriptElementKind.localClassElement);}
else{displayParts.push(ts.keywordPart(73 ));}
displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile);}
if((symbolFlags&64 )&&(semanticMeaning&2 )){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(107 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile);}
if(symbolFlags&524288 ){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(132 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile);displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56 ));displayParts.push(ts.spacePart());ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,typeChecker.getDeclaredTypeOfSymbol(symbol),enclosingDeclaration));}
if(symbolFlags&384 ){addNewLineIfDisplayPartsExist();if(ts.forEach(symbol.declarations,ts.isConstEnumDeclaration)){displayParts.push(ts.keywordPart(74 ));displayParts.push(ts.spacePart());}
displayParts.push(ts.keywordPart(81 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);}
if(symbolFlags&1536 ){addNewLineIfDisplayPartsExist();var declaration=ts.getDeclarationOfKind(symbol,221 );var isNamespace=declaration&&declaration.name&&declaration.name.kind===69 ;displayParts.push(ts.keywordPart(isNamespace?126 :125 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);}
if((symbolFlags&262144 )&&(semanticMeaning&2 )){addNewLineIfDisplayPartsExist();displayParts.push(ts.punctuationPart(17 ));displayParts.push(ts.textPart("type parameter"));displayParts.push(ts.punctuationPart(18 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);displayParts.push(ts.spacePart());displayParts.push(ts.keywordPart(90 ));displayParts.push(ts.spacePart());if(symbol.parent){addFullSymbolName(symbol.parent,enclosingDeclaration);writeTypeParametersOfSymbol(symbol.parent,enclosingDeclaration);}
else{var declaration=ts.getDeclarationOfKind(symbol,138 );ts.Debug.assert(declaration!==undefined);declaration=declaration.parent;if(declaration){if(ts.isFunctionLikeKind(declaration.kind)){var signature=typeChecker.getSignatureFromDeclaration(declaration);if(declaration.kind===149 ){displayParts.push(ts.keywordPart(92 ));displayParts.push(ts.spacePart());}
else if(declaration.kind!==148 &&declaration.name){addFullSymbolName(declaration.symbol);}
ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,sourceFile,32 ));}
else{displayParts.push(ts.keywordPart(132 ));displayParts.push(ts.spacePart());addFullSymbolName(declaration.symbol);writeTypeParametersOfSymbol(declaration.symbol,sourceFile);}}}}
if(symbolFlags&8 ){addPrefixForAnyFunctionOrVar(symbol,"enum member");var declaration=symbol.declarations[0];if(declaration.kind===250 ){var constantValue=typeChecker.getConstantValue(declaration);if(constantValue!==undefined){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56 ));displayParts.push(ts.spacePart());displayParts.push(ts.displayPart(constantValue.toString(),SymbolDisplayPartKind.numericLiteral));}}}
if(symbolFlags&8388608 ){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(89 ));displayParts.push(ts.spacePart());addFullSymbolName(symbol);ts.forEach(symbol.declarations,function(declaration){if(declaration.kind===224 ){var importEqualsDeclaration=declaration;if(ts.isExternalModuleImportEqualsDeclaration(importEqualsDeclaration)){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56 ));displayParts.push(ts.spacePart());displayParts.push(ts.keywordPart(127 ));displayParts.push(ts.punctuationPart(17 ));displayParts.push(ts.displayPart(ts.getTextOfNode(ts.getExternalModuleImportEqualsDeclarationExpression(importEqualsDeclaration)),SymbolDisplayPartKind.stringLiteral));displayParts.push(ts.punctuationPart(18 ));}
else{var internalAliasSymbol=typeChecker.getSymbolAtLocation(importEqualsDeclaration.moduleReference);if(internalAliasSymbol){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56 ));displayParts.push(ts.spacePart());addFullSymbolName(internalAliasSymbol,enclosingDeclaration);}}
return true;}});}
if(!hasAddedSymbolInfo){if(symbolKind!==ScriptElementKind.unknown){if(type){addPrefixForAnyFunctionOrVar(symbol,symbolKind);if(symbolKind===ScriptElementKind.memberVariableElement||symbolFlags&3 ||symbolKind===ScriptElementKind.localVariableElement){displayParts.push(ts.punctuationPart(54 ));displayParts.push(ts.spacePart());if(type.symbol&&type.symbol.flags&262144 ){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(type,writer,enclosingDeclaration);});ts.addRange(displayParts,typeParameterParts);}
else{ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,type,enclosingDeclaration));}}
else if(symbolFlags&16 ||symbolFlags&8192 ||symbolFlags&16384 ||symbolFlags&131072 ||symbolFlags&98304 ||symbolKind===ScriptElementKind.memberFunctionElement){var allSignatures=type.getCallSignatures();addSignatureDisplayParts(allSignatures[0],allSignatures);}}}
else{symbolKind=getSymbolKind(symbol,location);}}
if(!documentation){documentation=symbol.getDocumentationComment();}
return{displayParts:displayParts,documentation:documentation,symbolKind:symbolKind};function addNewLineIfDisplayPartsExist(){if(displayParts.length){displayParts.push(ts.lineBreakPart());}}
function addFullSymbolName(symbol,enclosingDeclaration){var fullSymbolDisplayParts=ts.symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration||sourceFile,undefined,1 |2 );ts.addRange(displayParts,fullSymbolDisplayParts);}
function addPrefixForAnyFunctionOrVar(symbol,symbolKind){addNewLineIfDisplayPartsExist();if(symbolKind){pushTypePart(symbolKind);displayParts.push(ts.spacePart());addFullSymbolName(symbol);}}
function pushTypePart(symbolKind){switch(symbolKind){case ScriptElementKind.variableElement:case ScriptElementKind.functionElement:case ScriptElementKind.letElement:case ScriptElementKind.constElement:case ScriptElementKind.constructorImplementationElement:displayParts.push(ts.textOrKeywordPart(symbolKind));return;default:displayParts.push(ts.punctuationPart(17 ));displayParts.push(ts.textOrKeywordPart(symbolKind));displayParts.push(ts.punctuationPart(18 ));return;}}
function addSignatureDisplayParts(signature,allSignatures,flags){ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,enclosingDeclaration,flags|32 ));if(allSignatures.length>1){displayParts.push(ts.spacePart());displayParts.push(ts.punctuationPart(17 ));displayParts.push(ts.operatorPart(35 ));displayParts.push(ts.displayPart((allSignatures.length-1).toString(),SymbolDisplayPartKind.numericLiteral));displayParts.push(ts.spacePart());displayParts.push(ts.textPart(allSignatures.length===2?"overload":"overloads"));displayParts.push(ts.punctuationPart(18 ));}
documentation=signature.getDocumentationComment();}
function writeTypeParametersOfSymbol(symbol,enclosingDeclaration){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaration);});ts.addRange(displayParts,typeParameterParts);}}
function getQuickInfoAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined;}
if(isLabelName(node)){return undefined;}
var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol||typeChecker.isUnknownSymbol(symbol)){switch(node.kind){case 69 :case 169 :case 136 :case 97 :case 162 :case 95 :var type=typeChecker.getTypeAtLocation(node);if(type){return{kind:ScriptElementKind.unknown,kindModifiers:ScriptElementKindModifier.none,textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:ts.typeToDisplayParts(typeChecker,type,getContainerNode(node)),documentation:type.symbol?type.symbol.getDocumentationComment():undefined};}}
return undefined;}
var displayPartsDocumentationsAndKind=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,getContainerNode(node),node);return{kind:displayPartsDocumentationsAndKind.symbolKind,kindModifiers:getSymbolModifiers(symbol),textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:displayPartsDocumentationsAndKind.displayParts,documentation:displayPartsDocumentationsAndKind.documentation};}
function createDefinitionInfo(node,symbolKind,symbolName,containerName){return{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd()),kind:symbolKind,name:symbolName,containerKind:undefined,containerName:containerName};}
function getDefinitionFromSymbol(symbol,node){var typeChecker=program.getTypeChecker();var result=[];var declarations=symbol.getDeclarations();var symbolName=typeChecker.symbolToString(symbol);var symbolKind=getSymbolKind(symbol,node);var containerSymbol=symbol.parent;var containerName=containerSymbol?typeChecker.symbolToString(containerSymbol,node):"";if(!tryAddConstructSignature(symbol,node,symbolKind,symbolName,containerName,result)&&!tryAddCallSignature(symbol,node,symbolKind,symbolName,containerName,result)){ts.forEach(declarations,function(declaration){result.push(createDefinitionInfo(declaration,symbolKind,symbolName,containerName));});}
return result;function tryAddConstructSignature(symbol,location,symbolKind,symbolName,containerName,result){if(isNewExpressionTarget(location)||location.kind===121 ){if(symbol.flags&32 ){for(var _i=0,_a=symbol.getDeclarations();_i<_a.length;_i++){var declaration=_a[_i];if(ts.isClassLike(declaration)){return tryAddSignature(declaration.members,true,symbolKind,symbolName,containerName,result);}}
ts.Debug.fail("Expected declaration to have at least one class-like declaration");}}
return false;}
function tryAddCallSignature(symbol,location,symbolKind,symbolName,containerName,result){if(isCallExpressionTarget(location)||isNewExpressionTarget(location)||isNameOfFunctionDeclaration(location)){return tryAddSignature(symbol.declarations,false,symbolKind,symbolName,containerName,result);}
return false;}
function tryAddSignature(signatureDeclarations,selectConstructors,symbolKind,symbolName,containerName,result){var declarations=[];var definition;ts.forEach(signatureDeclarations,function(d){if((selectConstructors&&d.kind===145 )||(!selectConstructors&&(d.kind===216 ||d.kind===144 ||d.kind===143 ))){declarations.push(d);if(d.body)
definition=d;}});if(definition){result.push(createDefinitionInfo(definition,symbolKind,symbolName,containerName));return true;}
else if(declarations.length){result.push(createDefinitionInfo(ts.lastOrUndefined(declarations),symbolKind,symbolName,containerName));return true;}
return false;}}
function getDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined;}
if(isJumpStatementTarget(node)){var labelName=node.text;var label=getTargetLabel(node.parent,node.text);return label?[createDefinitionInfo(label,ScriptElementKind.label,labelName,undefined)]:undefined;}
var comment=ts.forEach(sourceFile.referencedFiles,function(r){return(r.pos<=position&&position<r.end)?r:undefined;});if(comment){var referenceFile=ts.tryResolveScriptReference(program,sourceFile,comment);if(referenceFile){return[{fileName:referenceFile.fileName,textSpan:ts.createTextSpanFromBounds(0,0),kind:ScriptElementKind.scriptElement,name:comment.fileName,containerName:undefined,containerKind:undefined}];}
return undefined;}
var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined;}
if(symbol.flags&8388608 ){var declaration=symbol.declarations[0];if(node.kind===69 &&node.parent===declaration){symbol=typeChecker.getAliasedSymbol(symbol);}}
if(node.parent.kind===249 ){var shorthandSymbol=typeChecker.getShorthandAssignmentValueSymbol(symbol.valueDeclaration);if(!shorthandSymbol){return[];}
var shorthandDeclarations=shorthandSymbol.getDeclarations();var shorthandSymbolKind_1=getSymbolKind(shorthandSymbol,node);var shorthandSymbolName_1=typeChecker.symbolToString(shorthandSymbol);var shorthandContainerName_1=typeChecker.symbolToString(symbol.parent,node);return ts.map(shorthandDeclarations,function(declaration){return createDefinitionInfo(declaration,shorthandSymbolKind_1,shorthandSymbolName_1,shorthandContainerName_1);});}
return getDefinitionFromSymbol(symbol,node);}
function getTypeDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined;}
var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined;}
var type=typeChecker.getTypeOfSymbolAtLocation(symbol,node);if(!type){return undefined;}
if(type.flags&16384 ){var result_4=[];ts.forEach(type.types,function(t){if(t.symbol){ts.addRange(result_4,getDefinitionFromSymbol(t.symbol,node));}});return result_4;}
if(!type.symbol){return undefined;}
return getDefinitionFromSymbol(type.symbol,node);}
function getOccurrencesAtPosition(fileName,position){var results=getOccurrencesAtPositionCore(fileName,position);if(results){var sourceFile_2=getCanonicalFileName(ts.normalizeSlashes(fileName));results=ts.filter(results,function(r){return getCanonicalFileName(ts.normalizeSlashes(r.fileName))===sourceFile_2;});}
return results;}
function getDocumentHighlights(fileName,position,filesToSearch){synchronizeHostData();filesToSearch=ts.map(filesToSearch,ts.normalizeSlashes);var sourceFilesToSearch=ts.filter(program.getSourceFiles(),function(f){return ts.contains(filesToSearch,f.fileName);});var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingWord(sourceFile,position);if(!node){return undefined;}
return getSemanticDocumentHighlights(node)||getSyntacticDocumentHighlights(node);function getHighlightSpanForNode(node){var start=node.getStart();var end=node.getEnd();return{fileName:sourceFile.fileName,textSpan:ts.createTextSpanFromBounds(start,end),kind:HighlightSpanKind.none};}
function getSemanticDocumentHighlights(node){if(node.kind===69 ||node.kind===97 ||node.kind===162 ||node.kind===95 ||isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isNameOfExternalModuleImportOrDeclaration(node)){var referencedSymbols=getReferencedSymbolsForNode(node,sourceFilesToSearch,false,false);return convertReferencedSymbols(referencedSymbols);}
return undefined;function convertReferencedSymbols(referencedSymbols){if(!referencedSymbols){return undefined;}
var fileNameToDocumentHighlights={};var result=[];for(var _i=0,referencedSymbols_1=referencedSymbols;_i<referencedSymbols_1.length;_i++){var referencedSymbol=referencedSymbols_1[_i];for(var _a=0,_b=referencedSymbol.references;_a<_b.length;_a++){var referenceEntry=_b[_a];var fileName_1=referenceEntry.fileName;var documentHighlights=ts.getProperty(fileNameToDocumentHighlights,fileName_1);if(!documentHighlights){documentHighlights={fileName:fileName_1,highlightSpans:[]};fileNameToDocumentHighlights[fileName_1]=documentHighlights;result.push(documentHighlights);}
documentHighlights.highlightSpans.push({textSpan:referenceEntry.textSpan,kind:referenceEntry.isWriteAccess?HighlightSpanKind.writtenReference:HighlightSpanKind.reference});}}
return result;}}
function getSyntacticDocumentHighlights(node){var fileName=sourceFile.fileName;var highlightSpans=getHighlightSpans(node);if(!highlightSpans||highlightSpans.length===0){return undefined;}
return[{fileName:fileName,highlightSpans:highlightSpans}];function hasKind(node,kind){return node!==undefined&&node.kind===kind;}
function parent(node){return node&&node.parent;}
function getHighlightSpans(node){if(node){switch(node.kind){case 88 :case 80 :if(hasKind(node.parent,199 )){return getIfElseOccurrences(node.parent);}
break;case 94 :if(hasKind(node.parent,207 )){return getReturnOccurrences(node.parent);}
break;case 98 :if(hasKind(node.parent,211 )){return getThrowOccurrences(node.parent);}
break;case 72 :if(hasKind(parent(parent(node)),212 )){return getTryCatchFinallyOccurrences(node.parent.parent);}
break;case 100 :case 85 :if(hasKind(parent(node),212 )){return getTryCatchFinallyOccurrences(node.parent);}
break;case 96 :if(hasKind(node.parent,209 )){return getSwitchCaseDefaultOccurrences(node.parent);}
break;case 71 :case 77 :if(hasKind(parent(parent(parent(node))),209 )){return getSwitchCaseDefaultOccurrences(node.parent.parent.parent);}
break;case 70 :case 75 :if(hasKind(node.parent,206 )||hasKind(node.parent,205 )){return getBreakOrContinueStatementOccurrences(node.parent);}
break;case 86 :if(hasKind(node.parent,202 )||hasKind(node.parent,203 )||hasKind(node.parent,204 )){return getLoopBreakContinueOccurrences(node.parent);}
break;case 104 :case 79 :if(hasKind(node.parent,201 )||hasKind(node.parent,200 )){return getLoopBreakContinueOccurrences(node.parent);}
break;case 121 :if(hasKind(node.parent,145 )){return getConstructorOccurrences(node.parent);}
break;case 123 :case 129 :if(hasKind(node.parent,146 )||hasKind(node.parent,147 )){return getGetAndSetOccurrences(node.parent);}
break;default:if(ts.isModifierKind(node.kind)&&node.parent&&(ts.isDeclaration(node.parent)||node.parent.kind===196 )){return getModifierOccurrences(node.kind,node.parent);}}}
return undefined;}
function aggregateOwnedThrowStatements(node){var statementAccumulator=[];aggregate(node);return statementAccumulator;function aggregate(node){if(node.kind===211 ){statementAccumulator.push(node);}
else if(node.kind===212 ){var tryStatement=node;if(tryStatement.catchClause){aggregate(tryStatement.catchClause);}
else{aggregate(tryStatement.tryBlock);}
if(tryStatement.finallyBlock){aggregate(tryStatement.finallyBlock);}}
else if(!ts.isFunctionLike(node)){ts.forEachChild(node,aggregate);}}}
function getThrowStatementOwner(throwStatement){var child=throwStatement;while(child.parent){var parent_14=child.parent;if(ts.isFunctionBlock(parent_14)||parent_14.kind===251 ){return parent_14;}
if(parent_14.kind===212 ){var tryStatement=parent_14;if(tryStatement.tryBlock===child&&tryStatement.catchClause){return child;}}
child=parent_14;}
return undefined;}
function aggregateAllBreakAndContinueStatements(node){var statementAccumulator=[];aggregate(node);return statementAccumulator;function aggregate(node){if(node.kind===206 ||node.kind===205 ){statementAccumulator.push(node);}
else if(!ts.isFunctionLike(node)){ts.forEachChild(node,aggregate);}}}
function ownsBreakOrContinueStatement(owner,statement){var actualOwner=getBreakOrContinueOwner(statement);return actualOwner&&actualOwner===owner;}
function getBreakOrContinueOwner(statement){for(var node_2=statement.parent;node_2;node_2=node_2.parent){switch(node_2.kind){case 209 :if(statement.kind===205 ){continue;}
case 202 :case 203 :case 204 :case 201 :case 200 :if(!statement.label||isLabeledBy(node_2,statement.label.text)){return node_2;}
break;default:if(ts.isFunctionLike(node_2)){return undefined;}
break;}}
return undefined;}
function getModifierOccurrences(modifier,declaration){var container=declaration.parent;if(ts.isAccessibilityModifier(modifier)){if(!(container.kind===217 ||container.kind===189 ||(declaration.kind===139 &&hasKind(container,145 )))){return undefined;}}
else if(modifier===113 ){if(!(container.kind===217 ||container.kind===189 )){return undefined;}}
else if(modifier===82 ||modifier===122 ){if(!(container.kind===222 ||container.kind===251 )){return undefined;}}
else if(modifier===115 ){if(!(container.kind===217 ||declaration.kind===217 )){return undefined;}}
else{return undefined;}
var keywords=[];var modifierFlag=getFlagFromModifier(modifier);var nodes;switch(container.kind){case 222 :case 251 :if(modifierFlag&128 ){nodes=declaration.members.concat(declaration);}
else{nodes=container.statements;}
break;case 145 :nodes=container.parameters.concat(container.parent.members);break;case 217 :case 189 :nodes=container.members;if(modifierFlag&56 ){var constructor=ts.forEach(container.members,function(member){return member.kind===145 &&member;});if(constructor){nodes=nodes.concat(constructor.parameters);}}
else if(modifierFlag&128 ){nodes=nodes.concat(container);}
break;default:ts.Debug.fail("Invalid container kind.");}
ts.forEach(nodes,function(node){if(node.modifiers&&node.flags&modifierFlag){ts.forEach(node.modifiers,function(child){return pushKeywordIf(keywords,child,modifier);});}});return ts.map(keywords,getHighlightSpanForNode);function getFlagFromModifier(modifier){switch(modifier){case 112 :return 8 ;case 110 :return 16 ;case 111 :return 32 ;case 113 :return 64 ;case 82 :return 2 ;case 122 :return 4 ;case 115 :return 128 ;default:ts.Debug.fail();}}}
function pushKeywordIf(keywordList,token){var expected=[];for(var _i=2;_i<arguments.length;_i++){expected[_i-2]=arguments[_i];}
if(token&&ts.contains(expected,token.kind)){keywordList.push(token);return true;}
return false;}
function getGetAndSetOccurrences(accessorDeclaration){var keywords=[];tryPushAccessorKeyword(accessorDeclaration.symbol,146 );tryPushAccessorKeyword(accessorDeclaration.symbol,147 );return ts.map(keywords,getHighlightSpanForNode);function tryPushAccessorKeyword(accessorSymbol,accessorKind){var accessor=ts.getDeclarationOfKind(accessorSymbol,accessorKind);if(accessor){ts.forEach(accessor.getChildren(),function(child){return pushKeywordIf(keywords,child,123 ,129 );});}}}
function getConstructorOccurrences(constructorDeclaration){var declarations=constructorDeclaration.symbol.getDeclarations();var keywords=[];ts.forEach(declarations,function(declaration){ts.forEach(declaration.getChildren(),function(token){return pushKeywordIf(keywords,token,121 );});});return ts.map(keywords,getHighlightSpanForNode);}
function getLoopBreakContinueOccurrences(loopNode){var keywords=[];if(pushKeywordIf(keywords,loopNode.getFirstToken(),86 ,104 ,79 )){if(loopNode.kind===200 ){var loopTokens=loopNode.getChildren();for(var i=loopTokens.length-1;i>=0;i--){if(pushKeywordIf(keywords,loopTokens[i],104 )){break;}}}}
var breaksAndContinues=aggregateAllBreakAndContinueStatements(loopNode.statement);ts.forEach(breaksAndContinues,function(statement){if(ownsBreakOrContinueStatement(loopNode,statement)){pushKeywordIf(keywords,statement.getFirstToken(),70 ,75 );}});return ts.map(keywords,getHighlightSpanForNode);}
function getBreakOrContinueStatementOccurrences(breakOrContinueStatement){var owner=getBreakOrContinueOwner(breakOrContinueStatement);if(owner){switch(owner.kind){case 202 :case 203 :case 204 :case 200 :case 201 :return getLoopBreakContinueOccurrences(owner);case 209 :return getSwitchCaseDefaultOccurrences(owner);}}
return undefined;}
function getSwitchCaseDefaultOccurrences(switchStatement){var keywords=[];pushKeywordIf(keywords,switchStatement.getFirstToken(),96 );ts.forEach(switchStatement.caseBlock.clauses,function(clause){pushKeywordIf(keywords,clause.getFirstToken(),71 ,77 );var breaksAndContinues=aggregateAllBreakAndContinueStatements(clause);ts.forEach(breaksAndContinues,function(statement){if(ownsBreakOrContinueStatement(switchStatement,statement)){pushKeywordIf(keywords,statement.getFirstToken(),70 );}});});return ts.map(keywords,getHighlightSpanForNode);}
function getTryCatchFinallyOccurrences(tryStatement){var keywords=[];pushKeywordIf(keywords,tryStatement.getFirstToken(),100 );if(tryStatement.catchClause){pushKeywordIf(keywords,tryStatement.catchClause.getFirstToken(),72 );}
if(tryStatement.finallyBlock){var finallyKeyword=ts.findChildOfKind(tryStatement,85 ,sourceFile);pushKeywordIf(keywords,finallyKeyword,85 );}
return ts.map(keywords,getHighlightSpanForNode);}
function getThrowOccurrences(throwStatement){var owner=getThrowStatementOwner(throwStatement);if(!owner){return undefined;}
var keywords=[];ts.forEach(aggregateOwnedThrowStatements(owner),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98 );});if(ts.isFunctionBlock(owner)){ts.forEachReturnStatement(owner,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94 );});}
return ts.map(keywords,getHighlightSpanForNode);}
function getReturnOccurrences(returnStatement){var func=ts.getContainingFunction(returnStatement);if(!(func&&hasKind(func.body,195 ))){return undefined;}
var keywords=[];ts.forEachReturnStatement(func.body,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94 );});ts.forEach(aggregateOwnedThrowStatements(func.body),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98 );});return ts.map(keywords,getHighlightSpanForNode);}
function getIfElseOccurrences(ifStatement){var keywords=[];while(hasKind(ifStatement.parent,199 )&&ifStatement.parent.elseStatement===ifStatement){ifStatement=ifStatement.parent;}
while(ifStatement){var children=ifStatement.getChildren();pushKeywordIf(keywords,children[0],88 );for(var i=children.length-1;i>=0;i--){if(pushKeywordIf(keywords,children[i],80 )){break;}}
if(!hasKind(ifStatement.elseStatement,199 )){break;}
ifStatement=ifStatement.elseStatement;}
var result=[];for(var i=0;i<keywords.length;i++){if(keywords[i].kind===80 &&i<keywords.length-1){var elseKeyword=keywords[i];var ifKeyword=keywords[i+1];var shouldCombindElseAndIf=true;for(var j=ifKeyword.getStart()-1;j>=elseKeyword.end;j--){if(!ts.isWhiteSpace(sourceFile.text.charCodeAt(j))){shouldCombindElseAndIf=false;break;}}
if(shouldCombindElseAndIf){result.push({fileName:fileName,textSpan:ts.createTextSpanFromBounds(elseKeyword.getStart(),ifKeyword.end),kind:HighlightSpanKind.reference});i++;continue;}}
result.push(getHighlightSpanForNode(keywords[i]));}
return result;}}}
function getOccurrencesAtPositionCore(fileName,position){synchronizeHostData();return convertDocumentHighlights(getDocumentHighlights(fileName,position,[fileName]));function convertDocumentHighlights(documentHighlights){if(!documentHighlights){return undefined;}
var result=[];for(var _i=0,documentHighlights_1=documentHighlights;_i<documentHighlights_1.length;_i++){var entry=documentHighlights_1[_i];for(var _a=0,_b=entry.highlightSpans;_a<_b.length;_a++){var highlightSpan=_b[_a];result.push({fileName:entry.fileName,textSpan:highlightSpan.textSpan,isWriteAccess:highlightSpan.kind===HighlightSpanKind.writtenReference});}}
return result;}}
function convertReferences(referenceSymbols){if(!referenceSymbols){return undefined;}
var referenceEntries=[];for(var _i=0,referenceSymbols_1=referenceSymbols;_i<referenceSymbols_1.length;_i++){var referenceSymbol=referenceSymbols_1[_i];ts.addRange(referenceEntries,referenceSymbol.references);}
return referenceEntries;}
function findRenameLocations(fileName,position,findInStrings,findInComments){var referencedSymbols=findReferencedSymbols(fileName,position,findInStrings,findInComments);return convertReferences(referencedSymbols);}
function getReferencesAtPosition(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,false,false);return convertReferences(referencedSymbols);}
function findReferences(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,false,false);return ts.filter(referencedSymbols,function(rs){return!!rs.definition;});}
function findReferencedSymbols(fileName,position,findInStrings,findInComments){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined;}
if(node.kind!==69 &&!isLiteralNameOfPropertyDeclarationOrIndexAccess(node)&&!isNameOfExternalModuleImportOrDeclaration(node)){return undefined;}
ts.Debug.assert(node.kind===69 ||node.kind===8 ||node.kind===9 );return getReferencedSymbolsForNode(node,program.getSourceFiles(),findInStrings,findInComments);}
function getReferencedSymbolsForNode(node,sourceFiles,findInStrings,findInComments){var typeChecker=program.getTypeChecker();if(isLabelName(node)){if(isJumpStatementTarget(node)){var labelDefinition=getTargetLabel(node.parent,node.text);return labelDefinition?getLabelReferencesInNode(labelDefinition.parent,labelDefinition):undefined;}
else{return getLabelReferencesInNode(node.parent,node);}}
if(node.kind===97 ||node.kind===162 ){return getReferencesForThisKeyword(node,sourceFiles);}
if(node.kind===95 ){return getReferencesForSuperKeyword(node);}
var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined;}
var declarations=symbol.declarations;if(!declarations||!declarations.length){return undefined;}
var result;var searchMeaning=getIntersectingMeaningFromDeclarations(getMeaningFromLocation(node),declarations);var declaredName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node));var scope=getSymbolScope(symbol);var symbolToIndex=[];if(scope){result=[];getReferencesInNode(scope,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex);}
else{var internedName=getInternedName(symbol,node,declarations);for(var _i=0,sourceFiles_3=sourceFiles;_i<sourceFiles_3.length;_i++){var sourceFile=sourceFiles_3[_i];cancellationToken.throwIfCancellationRequested();var nameTable=getNameTable(sourceFile);if(ts.lookUp(nameTable,internedName)!==undefined){result=result||[];getReferencesInNode(sourceFile,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex);}}}
return result;function getDefinition(symbol){var info=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,node.getSourceFile(),getContainerNode(node),node);var name=ts.map(info.displayParts,function(p){return p.text;}).join("");var declarations=symbol.declarations;if(!declarations||declarations.length===0){return undefined;}
return{containerKind:"",containerName:"",name:name,kind:info.symbolKind,fileName:declarations[0].getSourceFile().fileName,textSpan:ts.createTextSpan(declarations[0].getStart(),0)};}
function isImportSpecifierSymbol(symbol){return(symbol.flags&8388608 )&&!!ts.getDeclarationOfKind(symbol,229 );}
function getInternedName(symbol,location,declarations){if(ts.isImportOrExportSpecifierName(location)){return location.getText();}
var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol);symbol=localExportDefaultSymbol||symbol;return ts.stripQuotes(symbol.name);}
function getSymbolScope(symbol){var valueDeclaration=symbol.valueDeclaration;if(valueDeclaration&&(valueDeclaration.kind===176 ||valueDeclaration.kind===189 )){return valueDeclaration;}
if(symbol.flags&(4 |8192 )){var privateDeclaration=ts.forEach(symbol.getDeclarations(),function(d){return(d.flags&16 )?d:undefined;});if(privateDeclaration){return ts.getAncestor(privateDeclaration,217 );}}
if(symbol.flags&8388608 ){return undefined;}
if(symbol.parent||(symbol.flags&268435456 )){return undefined;}
var scope;var declarations=symbol.getDeclarations();if(declarations){for(var _i=0,declarations_8=declarations;_i<declarations_8.length;_i++){var declaration=declarations_8[_i];var container=getContainerNode(declaration);if(!container){return undefined;}
if(scope&&scope!==container){return undefined;}
if(container.kind===251 &&!ts.isExternalModule(container)){return undefined;}
scope=container;}}
return scope;}
function getPossibleSymbolReferencePositions(sourceFile,symbolName,start,end){var positions=[];if(!symbolName||!symbolName.length){return positions;}
var text=sourceFile.text;var sourceLength=text.length;var symbolNameLength=symbolName.length;var position=text.indexOf(symbolName,start);while(position>=0){cancellationToken.throwIfCancellationRequested();if(position>end)
break;var endPosition=position+symbolNameLength;if((position===0||!ts.isIdentifierPart(text.charCodeAt(position-1),2 ))&&(endPosition===sourceLength||!ts.isIdentifierPart(text.charCodeAt(endPosition),2 ))){positions.push(position);}
position=text.indexOf(symbolName,position+symbolNameLength+1);}
return positions;}
function getLabelReferencesInNode(container,targetLabel){var references=[];var sourceFile=container.getSourceFile();var labelName=targetLabel.text;var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,labelName,container.getStart(),container.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||node.getWidth()!==labelName.length){return;}
if(node===targetLabel||(isJumpStatementTarget(node)&&getTargetLabel(node,labelName)===targetLabel)){references.push(getReferenceEntryFromNode(node));}});var definition={containerKind:"",containerName:"",fileName:targetLabel.getSourceFile().fileName,kind:ScriptElementKind.label,name:labelName,textSpan:ts.createTextSpanFromBounds(targetLabel.getStart(),targetLabel.getEnd())};return[{definition:definition,references:references}];}
function isValidReferencePosition(node,searchSymbolName){if(node){switch(node.kind){case 69 :return node.getWidth()===searchSymbolName.length;case 9 :if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isNameOfExternalModuleImportOrDeclaration(node)){return node.getWidth()===searchSymbolName.length+2;}
break;case 8 :if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node)){return node.getWidth()===searchSymbolName.length;}
break;}}
return false;}
function getReferencesInNode(container,searchSymbol,searchText,searchLocation,searchMeaning,findInStrings,findInComments,result,symbolToIndex){var sourceFile=container.getSourceFile();var tripleSlashDirectivePrefixRegex=/^\/\/\/\s*</;var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,searchText,container.getStart(),container.getEnd());if(possiblePositions.length){var searchSymbols_1=populateSearchSymbolSet(searchSymbol,searchLocation);ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var referenceLocation=ts.getTouchingPropertyName(sourceFile,position);if(!isValidReferencePosition(referenceLocation,searchText)){if((findInStrings&&ts.isInString(sourceFile,position))||(findInComments&&isInNonReferenceComment(sourceFile,position))){result.push({definition:undefined,references:[{fileName:sourceFile.fileName,textSpan:ts.createTextSpan(position,searchText.length),isWriteAccess:false}]});}
return;}
if(!(getMeaningFromLocation(referenceLocation)&searchMeaning)){return;}
var referenceSymbol=typeChecker.getSymbolAtLocation(referenceLocation);if(referenceSymbol){var referenceSymbolDeclaration=referenceSymbol.valueDeclaration;var shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(referenceSymbolDeclaration);var relatedSymbol=getRelatedSymbol(searchSymbols_1,referenceSymbol,referenceLocation);if(relatedSymbol){var referencedSymbol=getReferencedSymbol(relatedSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceLocation));}
else if(!(referenceSymbol.flags&67108864 )&&searchSymbols_1.indexOf(shorthandValueSymbol)>=0){var referencedSymbol=getReferencedSymbol(shorthandValueSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceSymbolDeclaration.name));}}});}
return;function getReferencedSymbol(symbol){var symbolId=ts.getSymbolId(symbol);var index=symbolToIndex[symbolId];if(index===undefined){index=result.length;symbolToIndex[symbolId]=index;result.push({definition:getDefinition(symbol),references:[]});}
return result[index];}
function isInNonReferenceComment(sourceFile,position){return ts.isInCommentHelper(sourceFile,position,isNonReferenceComment);function isNonReferenceComment(c){var commentText=sourceFile.text.substring(c.pos,c.end);return!tripleSlashDirectivePrefixRegex.test(commentText);}}}
function getReferencesForSuperKeyword(superKeyword){var searchSpaceNode=ts.getSuperContainer(superKeyword,false);if(!searchSpaceNode){return undefined;}
var staticFlag=64 ;switch(searchSpaceNode.kind){case 142 :case 141 :case 144 :case 143 :case 145 :case 146 :case 147 :staticFlag&=searchSpaceNode.flags;searchSpaceNode=searchSpaceNode.parent;break;default:return undefined;}
var references=[];var sourceFile=searchSpaceNode.getSourceFile();var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"super",searchSpaceNode.getStart(),searchSpaceNode.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||node.kind!==95 ){return;}
var container=ts.getSuperContainer(node,false);if(container&&(64 &container.flags)===staticFlag&&container.parent.symbol===searchSpaceNode.symbol){references.push(getReferenceEntryFromNode(node));}});var definition=getDefinition(searchSpaceNode.symbol);return[{definition:definition,references:references}];}
function getReferencesForThisKeyword(thisOrSuperKeyword,sourceFiles){var searchSpaceNode=ts.getThisContainer(thisOrSuperKeyword,false);var staticFlag=64 ;switch(searchSpaceNode.kind){case 144 :case 143 :if(ts.isObjectLiteralMethod(searchSpaceNode)){break;}
case 142 :case 141 :case 145 :case 146 :case 147 :staticFlag&=searchSpaceNode.flags;searchSpaceNode=searchSpaceNode.parent;break;case 251 :if(ts.isExternalModule(searchSpaceNode)){return undefined;}
case 216 :case 176 :break;default:return undefined;}
var references=[];var possiblePositions;if(searchSpaceNode.kind===251 ){ts.forEach(sourceFiles,function(sourceFile){possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",sourceFile.getStart(),sourceFile.getEnd());getThisReferencesInFile(sourceFile,sourceFile,possiblePositions,references);});}
else{var sourceFile=searchSpaceNode.getSourceFile();possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",searchSpaceNode.getStart(),searchSpaceNode.getEnd());getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,references);}
return[{definition:{containerKind:"",containerName:"",fileName:node.getSourceFile().fileName,kind:ScriptElementKind.variableElement,name:"this",textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd())},references:references}];function getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,result){ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||(node.kind!==97 &&node.kind!==162 )){return;}
var container=ts.getThisContainer(node,false);switch(searchSpaceNode.kind){case 176 :case 216 :if(searchSpaceNode.symbol===container.symbol){result.push(getReferenceEntryFromNode(node));}
break;case 144 :case 143 :if(ts.isObjectLiteralMethod(searchSpaceNode)&&searchSpaceNode.symbol===container.symbol){result.push(getReferenceEntryFromNode(node));}
break;case 189 :case 217 :if(container.parent&&searchSpaceNode.symbol===container.parent.symbol&&(container.flags&64 )===staticFlag){result.push(getReferenceEntryFromNode(node));}
break;case 251 :if(container.kind===251 &&!ts.isExternalModule(container)){result.push(getReferenceEntryFromNode(node));}
break;}});}}
function populateSearchSymbolSet(symbol,location){var result=[symbol];if(isImportSpecifierSymbol(symbol)){result.push(typeChecker.getAliasedSymbol(symbol));}
if(location.parent.kind===233 ){result.push(typeChecker.getExportSpecifierLocalTargetSymbol(location.parent));}
if(isNameOfPropertyAssignment(location)){ts.forEach(getPropertySymbolsFromContextualType(location),function(contextualSymbol){ts.addRange(result,typeChecker.getRootSymbols(contextualSymbol));});var shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(location.parent);if(shorthandValueSymbol){result.push(shorthandValueSymbol);}}
if(symbol.valueDeclaration&&symbol.valueDeclaration.kind===139 &&ts.isParameterPropertyDeclaration(symbol.valueDeclaration)){result=result.concat(typeChecker.getSymbolsOfParameterPropertyDeclaration(symbol.valueDeclaration,symbol.name));}
ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){if(rootSymbol!==symbol){result.push(rootSymbol);}
if(rootSymbol.parent&&rootSymbol.parent.flags&(32 |64 )){getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result,{});}});return result;}
function getPropertySymbolsFromBaseTypes(symbol,propertyName,result,previousIterationSymbolsCache){if(!symbol){return;}
if(ts.hasProperty(previousIterationSymbolsCache,symbol.name)){return;}
if(symbol.flags&(32 |64 )){ts.forEach(symbol.getDeclarations(),function(declaration){if(declaration.kind===217 ){getPropertySymbolFromTypeReference(ts.getClassExtendsHeritageClauseElement(declaration));ts.forEach(ts.getClassImplementsHeritageClauseElements(declaration),getPropertySymbolFromTypeReference);}
else if(declaration.kind===218 ){ts.forEach(ts.getInterfaceBaseTypeNodes(declaration),getPropertySymbolFromTypeReference);}});}
return;function getPropertySymbolFromTypeReference(typeReference){if(typeReference){var type=typeChecker.getTypeAtLocation(typeReference);if(type){var propertySymbol=typeChecker.getPropertyOfType(type,propertyName);if(propertySymbol){result.push(propertySymbol);}
previousIterationSymbolsCache[symbol.name]=symbol;getPropertySymbolsFromBaseTypes(type.symbol,propertyName,result,previousIterationSymbolsCache);}}}}
function getRelatedSymbol(searchSymbols,referenceSymbol,referenceLocation){if(searchSymbols.indexOf(referenceSymbol)>=0){return referenceSymbol;}
if(isImportSpecifierSymbol(referenceSymbol)){var aliasedSymbol=typeChecker.getAliasedSymbol(referenceSymbol);if(searchSymbols.indexOf(aliasedSymbol)>=0){return aliasedSymbol;}}
if(referenceLocation.parent.kind===233 ){var aliasedSymbol=typeChecker.getExportSpecifierLocalTargetSymbol(referenceLocation.parent);if(searchSymbols.indexOf(aliasedSymbol)>=0){return aliasedSymbol;}}
if(isNameOfPropertyAssignment(referenceLocation)){return ts.forEach(getPropertySymbolsFromContextualType(referenceLocation),function(contextualSymbol){return ts.forEach(typeChecker.getRootSymbols(contextualSymbol),function(s){return searchSymbols.indexOf(s)>=0?s:undefined;});});}
return ts.forEach(typeChecker.getRootSymbols(referenceSymbol),function(rootSymbol){if(searchSymbols.indexOf(rootSymbol)>=0){return rootSymbol;}
if(rootSymbol.parent&&rootSymbol.parent.flags&(32 |64 )){var result_5=[];getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result_5,{});return ts.forEach(result_5,function(s){return searchSymbols.indexOf(s)>=0?s:undefined;});}
return undefined;});}
function getPropertySymbolsFromContextualType(node){if(isNameOfPropertyAssignment(node)){var objectLiteral=node.parent.parent;var contextualType=typeChecker.getContextualType(objectLiteral);var name_39=node.text;if(contextualType){if(contextualType.flags&16384 ){var unionProperty=contextualType.getProperty(name_39);if(unionProperty){return[unionProperty];}
else{var result_6=[];ts.forEach(contextualType.types,function(t){var symbol=t.getProperty(name_39);if(symbol){result_6.push(symbol);}});return result_6;}}
else{var symbol_1=contextualType.getProperty(name_39);if(symbol_1){return[symbol_1];}}}}
return undefined;}
function getIntersectingMeaningFromDeclarations(meaning,declarations){if(declarations){var lastIterationMeaning=void 0;do{lastIterationMeaning=meaning;for(var _i=0,declarations_9=declarations;_i<declarations_9.length;_i++){var declaration=declarations_9[_i];var declarationMeaning=getMeaningFromDeclaration(declaration);if(declarationMeaning&meaning){meaning|=declarationMeaning;}}}while(meaning!==lastIterationMeaning);}
return meaning;}}
function getReferenceEntryFromNode(node){var start=node.getStart();var end=node.getEnd();if(node.kind===9 ){start+=1;end-=1;}
return{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(start,end),isWriteAccess:isWriteAccess(node)};}
function isWriteAccess(node){if(node.kind===69 &&ts.isDeclarationName(node)){return true;}
var parent=node.parent;if(parent){if(parent.kind===183 ||parent.kind===182 ){return true;}
else if(parent.kind===184 &&parent.left===node){var operator=parent.operatorToken.kind;return 56 <=operator&&operator<=68 ;}}
return false;}
function getNavigateToItems(searchValue,maxResultCount){synchronizeHostData();return ts.NavigateTo.getNavigateToItems(program,cancellationToken,searchValue,maxResultCount);}
function getEmitOutput(fileName){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var outputFiles=[];function writeFile(fileName,data,writeByteOrderMark){outputFiles.push({name:fileName,writeByteOrderMark:writeByteOrderMark,text:data});}
var emitOutput=program.emit(sourceFile,writeFile,cancellationToken);return{outputFiles:outputFiles,emitSkipped:emitOutput.emitSkipped};}
function getMeaningFromDeclaration(node){switch(node.kind){case 139 :case 214 :case 166 :case 142 :case 141 :case 248 :case 249 :case 250 :case 144 :case 143 :case 145 :case 146 :case 147 :case 216 :case 176 :case 177 :case 247 :return 1 ;case 138 :case 218 :case 219 :case 156 :return 2 ;case 217 :case 220 :return 1 |2 ;case 221 :if(ts.isAmbientModule(node)){return 4 |1 ;}
else if(ts.getModuleInstanceState(node)===1 ){return 4 |1 ;}
else{return 4 ;}
case 228 :case 229 :case 224 :case 225 :case 230 :case 231 :return 1 |2 |4 ;case 251 :return 4 |1 ;}
return 1 |2 |4 ;}
function isTypeReference(node){if(ts.isRightSideOfQualifiedNameOrPropertyAccess(node)){node=node.parent;}
return node.parent.kind===152 ||(node.parent.kind===191 &&!ts.isExpressionWithTypeArgumentsInClassExtendsClause(node.parent))||(node.kind===97 &&!ts.isExpression(node))||node.kind===162 ;}
function isNamespaceReference(node){return isQualifiedNameNamespaceReference(node)||isPropertyAccessNamespaceReference(node);}
function isPropertyAccessNamespaceReference(node){var root=node;var isLastClause=true;if(root.parent.kind===169 ){while(root.parent&&root.parent.kind===169 ){root=root.parent;}
isLastClause=root.name===node;}
if(!isLastClause&&root.parent.kind===191 &&root.parent.parent.kind===246 ){var decl=root.parent.parent.parent;return(decl.kind===217 &&root.parent.parent.token===106 )||(decl.kind===218 &&root.parent.parent.token===83 );}
return false;}
function isQualifiedNameNamespaceReference(node){var root=node;var isLastClause=true;if(root.parent.kind===136 ){while(root.parent&&root.parent.kind===136 ){root=root.parent;}
isLastClause=root.right===node;}
return root.parent.kind===152 &&!isLastClause;}
function isInRightSideOfImport(node){while(node.parent.kind===136 ){node=node.parent;}
return ts.isInternalModuleImportEqualsDeclaration(node.parent)&&node.parent.moduleReference===node;}
function getMeaningFromRightHandSideOfImportEquals(node){ts.Debug.assert(node.kind===69 );if(node.parent.kind===136 &&node.parent.right===node&&node.parent.parent.kind===224 ){return 1 |2 |4 ;}
return 4 ;}
function getMeaningFromLocation(node){if(node.parent.kind===230 ){return 1 |2 |4 ;}
else if(isInRightSideOfImport(node)){return getMeaningFromRightHandSideOfImportEquals(node);}
else if(ts.isDeclarationName(node)){return getMeaningFromDeclaration(node.parent);}
else if(isTypeReference(node)){return 2 ;}
else if(isNamespaceReference(node)){return 4 ;}
else{return 1 ;}}
function getSignatureHelpItems(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);return ts.SignatureHelp.getSignatureHelpItems(program,sourceFile,position,cancellationToken);}
function getSourceFile(fileName){return syntaxTreeCache.getCurrentSourceFile(fileName);}
function getNameOrDottedNameSpan(fileName,startPos,endPos){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,startPos);if(!node){return;}
switch(node.kind){case 169 :case 136 :case 9 :case 163 :case 84 :case 99 :case 93 :case 95 :case 97 :case 162 :case 69 :break;default:return;}
var nodeForStartPos=node;while(true){if(isRightSideOfPropertyAccess(nodeForStartPos)||isRightSideOfQualifiedName(nodeForStartPos)){nodeForStartPos=nodeForStartPos.parent;}
else if(isNameOfModuleDeclaration(nodeForStartPos)){if(nodeForStartPos.parent.parent.kind===221 &&nodeForStartPos.parent.parent.body===nodeForStartPos.parent){nodeForStartPos=nodeForStartPos.parent.parent.name;}
else{break;}}
else{break;}}
return ts.createTextSpanFromBounds(nodeForStartPos.getStart(),node.getEnd());}
function getBreakpointStatementAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.BreakpointResolver.spanInSourceFileAtLocation(sourceFile,position);}
function getNavigationBarItems(fileName){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.NavigationBar.getNavigationBarItems(sourceFile,host.getCompilationSettings());}
function getSemanticClassifications(fileName,span){return convertClassifications(getEncodedSemanticClassifications(fileName,span));}
function checkForClassificationCancellation(kind){switch(kind){case 221 :case 217 :case 218 :case 216 :cancellationToken.throwIfCancellationRequested();}}
function getEncodedSemanticClassifications(fileName,span){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var typeChecker=program.getTypeChecker();var result=[];var classifiableNames=program.getClassifiableNames();processNode(sourceFile);return{spans:result,endOfLineState:0 };function pushClassification(start,length,type){result.push(start);result.push(length);result.push(type);}
function classifySymbol(symbol,meaningAtPosition){var flags=symbol.getFlags();if((flags&788448 )===0 ){return;}
if(flags&32 ){return 11 ;}
else if(flags&384 ){return 12 ;}
else if(flags&524288 ){return 16 ;}
else if(meaningAtPosition&2 ){if(flags&64 ){return 13 ;}
else if(flags&262144 ){return 15 ;}}
else if(flags&1536 ){if(meaningAtPosition&4 ||(meaningAtPosition&1 &&hasValueSideModule(symbol))){return 14 ;}}
return undefined;function hasValueSideModule(symbol){return ts.forEach(symbol.declarations,function(declaration){return declaration.kind===221 &&ts.getModuleInstanceState(declaration)===1 ;});}}
function processNode(node){if(node&&ts.textSpanIntersectsWith(span,node.getFullStart(),node.getFullWidth())){var kind=node.kind;checkForClassificationCancellation(kind);if(kind===69 &&!ts.nodeIsMissing(node)){var identifier=node;if(classifiableNames[identifier.text]){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var type=classifySymbol(symbol,getMeaningFromLocation(node));if(type){pushClassification(node.getStart(),node.getWidth(),type);}}}}
ts.forEachChild(node,processNode);}}}
function getClassificationTypeName(type){switch(type){case 1 :return ClassificationTypeNames.comment;case 2 :return ClassificationTypeNames.identifier;case 3 :return ClassificationTypeNames.keyword;case 4 :return ClassificationTypeNames.numericLiteral;case 5 :return ClassificationTypeNames.operator;case 6 :return ClassificationTypeNames.stringLiteral;case 8 :return ClassificationTypeNames.whiteSpace;case 9 :return ClassificationTypeNames.text;case 10 :return ClassificationTypeNames.punctuation;case 11 :return ClassificationTypeNames.className;case 12 :return ClassificationTypeNames.enumName;case 13 :return ClassificationTypeNames.interfaceName;case 14 :return ClassificationTypeNames.moduleName;case 15 :return ClassificationTypeNames.typeParameterName;case 16 :return ClassificationTypeNames.typeAliasName;case 17 :return ClassificationTypeNames.parameterName;case 18 :return ClassificationTypeNames.docCommentTagName;case 19 :return ClassificationTypeNames.jsxOpenTagName;case 20 :return ClassificationTypeNames.jsxCloseTagName;case 21 :return ClassificationTypeNames.jsxSelfClosingTagName;case 22 :return ClassificationTypeNames.jsxAttribute;case 23 :return ClassificationTypeNames.jsxText;case 24 :return ClassificationTypeNames.jsxAttributeStringLiteralValue;}}
function convertClassifications(classifications){ts.Debug.assert(classifications.spans.length%3===0);var dense=classifications.spans;var result=[];for(var i=0,n=dense.length;i<n;i+=3){result.push({textSpan:ts.createTextSpan(dense[i],dense[i+1]),classificationType:getClassificationTypeName(dense[i+2])});}
return result;}
function getSyntacticClassifications(fileName,span){return convertClassifications(getEncodedSyntacticClassifications(fileName,span));}
function getEncodedSyntacticClassifications(fileName,span){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var spanStart=span.start;var spanLength=span.length;var triviaScanner=ts.createScanner(2 ,false,sourceFile.languageVariant,sourceFile.text);var mergeConflictScanner=ts.createScanner(2 ,false,sourceFile.languageVariant,sourceFile.text);var result=[];processElement(sourceFile);return{spans:result,endOfLineState:0 };function pushClassification(start,length,type){result.push(start);result.push(length);result.push(type);}
function classifyLeadingTriviaAndGetTokenStart(token){triviaScanner.setTextPos(token.pos);while(true){var start=triviaScanner.getTextPos();if(!ts.couldStartTrivia(sourceFile.text,start)){return start;}
var kind=triviaScanner.scan();var end=triviaScanner.getTextPos();var width=end-start;if(!ts.isTrivia(kind)){return start;}
if(kind===4 ||kind===5 ){continue;}
if(ts.isComment(kind)){classifyComment(token,kind,start,width);triviaScanner.setTextPos(end);continue;}
if(kind===7 ){var text=sourceFile.text;var ch=text.charCodeAt(start);if(ch===60 ||ch===62 ){pushClassification(start,width,1 );continue;}
ts.Debug.assert(ch===61 );classifyDisabledMergeCode(text,start,end);}}}
function classifyComment(token,kind,start,width){if(kind===3 ){var docCommentAndDiagnostics=ts.parseIsolatedJSDocComment(sourceFile.text,start,width);if(docCommentAndDiagnostics&&docCommentAndDiagnostics.jsDocComment){docCommentAndDiagnostics.jsDocComment.parent=token;classifyJSDocComment(docCommentAndDiagnostics.jsDocComment);return;}}
pushCommentRange(start,width);}
function pushCommentRange(start,width){pushClassification(start,width,1 );}
function classifyJSDocComment(docComment){var pos=docComment.pos;for(var _i=0,_a=docComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.pos!==pos){pushCommentRange(pos,tag.pos-pos);}
pushClassification(tag.atToken.pos,tag.atToken.end-tag.atToken.pos,10 );pushClassification(tag.tagName.pos,tag.tagName.end-tag.tagName.pos,18 );pos=tag.tagName.end;switch(tag.kind){case 270 :processJSDocParameterTag(tag);break;case 273 :processJSDocTemplateTag(tag);break;case 272 :processElement(tag.typeExpression);break;case 271 :processElement(tag.typeExpression);break;}
pos=tag.end;}
if(pos!==docComment.end){pushCommentRange(pos,docComment.end-pos);}
return;function processJSDocParameterTag(tag){if(tag.preParameterName){pushCommentRange(pos,tag.preParameterName.pos-pos);pushClassification(tag.preParameterName.pos,tag.preParameterName.end-tag.preParameterName.pos,17 );pos=tag.preParameterName.end;}
if(tag.typeExpression){pushCommentRange(pos,tag.typeExpression.pos-pos);processElement(tag.typeExpression);pos=tag.typeExpression.end;}
if(tag.postParameterName){pushCommentRange(pos,tag.postParameterName.pos-pos);pushClassification(tag.postParameterName.pos,tag.postParameterName.end-tag.postParameterName.pos,17 );pos=tag.postParameterName.end;}}}
function processJSDocTemplateTag(tag){for(var _i=0,_a=tag.getChildren();_i<_a.length;_i++){var child=_a[_i];processElement(child);}}
function classifyDisabledMergeCode(text,start,end){var i;for(i=start;i<end;i++){if(ts.isLineBreak(text.charCodeAt(i))){break;}}
pushClassification(start,i-start,1 );mergeConflictScanner.setTextPos(i);while(mergeConflictScanner.getTextPos()<end){classifyDisabledCodeToken();}}
function classifyDisabledCodeToken(){var start=mergeConflictScanner.getTextPos();var tokenKind=mergeConflictScanner.scan();var end=mergeConflictScanner.getTextPos();var type=classifyTokenType(tokenKind);if(type){pushClassification(start,end-start,type);}}
function tryClassifyNode(node){if(ts.nodeIsMissing(node)){return true;}
var classifiedElementName=tryClassifyJsxElementName(node);if(!ts.isToken(node)&&node.kind!==239 &&classifiedElementName===undefined){return false;}
var tokenStart=node.kind===239 ?node.pos:classifyLeadingTriviaAndGetTokenStart(node);var tokenWidth=node.end-tokenStart;ts.Debug.assert(tokenWidth>=0);if(tokenWidth>0){var type=classifiedElementName||classifyTokenType(node.kind,node);if(type){pushClassification(tokenStart,tokenWidth,type);}}
return true;}
function tryClassifyJsxElementName(token){switch(token.parent&&token.parent.kind){case 238 :if(token.parent.tagName===token){return 19 ;}
break;case 240 :if(token.parent.tagName===token){return 20 ;}
break;case 237 :if(token.parent.tagName===token){return 21 ;}
break;case 241 :if(token.parent.name===token){return 22 ;}
break;}
return undefined;}
function classifyTokenType(tokenKind,token){if(ts.isKeyword(tokenKind)){return 3 ;}
if(tokenKind===25 ||tokenKind===27 ){if(token&&ts.getTypeArgumentOrTypeParameterList(token.parent)){return 10 ;}}
if(ts.isPunctuation(tokenKind)){if(token){if(tokenKind===56 ){if(token.parent.kind===214 ||token.parent.kind===142 ||token.parent.kind===139 ||token.parent.kind===241 ){return 5 ;}}
if(token.parent.kind===184 ||token.parent.kind===182 ||token.parent.kind===183 ||token.parent.kind===185 ){return 5 ;}}
return 10 ;}
else if(tokenKind===8 ){return 4 ;}
else if(tokenKind===9 ||tokenKind===163 ){return token.parent.kind===241 ?24 :6 ;}
else if(tokenKind===10 ){return 6 ;}
else if(ts.isTemplateLiteralKind(tokenKind)){return 6 ;}
else if(tokenKind===239 ){return 23 ;}
else if(tokenKind===69 ){if(token){switch(token.parent.kind){case 217 :if(token.parent.name===token){return 11 ;}
return;case 138 :if(token.parent.name===token){return 15 ;}
return;case 218 :if(token.parent.name===token){return 13 ;}
return;case 220 :if(token.parent.name===token){return 12 ;}
return;case 221 :if(token.parent.name===token){return 14 ;}
return;case 139 :if(token.parent.name===token){return 17 ;}
return;}}
return 2 ;}}
function processElement(element){if(!element){return;}
if(ts.decodedTextSpanIntersectsWith(spanStart,spanLength,element.pos,element.getFullWidth())){checkForClassificationCancellation(element.kind);var children=element.getChildren(sourceFile);for(var i=0,n=children.length;i<n;i++){var child=children[i];if(!tryClassifyNode(child)){processElement(child);}}}}}
function getOutliningSpans(fileName){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.OutliningElementsCollector.collectElements(sourceFile);}
function getBraceMatchingAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var result=[];var token=ts.getTouchingToken(sourceFile,position);if(token.getStart(sourceFile)===position){var matchKind=getMatchingTokenKind(token);if(matchKind){var parentElement=token.parent;var childNodes=parentElement.getChildren(sourceFile);for(var _i=0,childNodes_1=childNodes;_i<childNodes_1.length;_i++){var current=childNodes_1[_i];if(current.kind===matchKind){var range1=ts.createTextSpan(token.getStart(sourceFile),token.getWidth(sourceFile));var range2=ts.createTextSpan(current.getStart(sourceFile),current.getWidth(sourceFile));if(range1.start<range2.start){result.push(range1,range2);}
else{result.push(range2,range1);}
break;}}}}
return result;function getMatchingTokenKind(token){switch(token.kind){case 15 :return 16 ;case 17 :return 18 ;case 19 :return 20 ;case 25 :return 27 ;case 16 :return 15 ;case 18 :return 17 ;case 20 :return 19 ;case 27 :return 25 ;}
return undefined;}}
function getIndentationAtPosition(fileName,position,editorOptions){var start=new Date().getTime();var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);log("getIndentationAtPosition: getCurrentSourceFile: "+(new Date().getTime()-start));start=new Date().getTime();var result=ts.formatting.SmartIndenter.getIndentation(position,sourceFile,editorOptions);log("getIndentationAtPosition: computeIndentation  : "+(new Date().getTime()-start));return result;}
function getFormattingEditsForRange(fileName,start,end,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatSelection(start,end,sourceFile,getRuleProvider(options),options);}
function getFormattingEditsForDocument(fileName,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatDocument(sourceFile,getRuleProvider(options),options);}
function getFormattingEditsAfterKeystroke(fileName,position,key,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);if(key==="}"){return ts.formatting.formatOnClosingCurly(position,sourceFile,getRuleProvider(options),options);}
else if(key===";"){return ts.formatting.formatOnSemicolon(position,sourceFile,getRuleProvider(options),options);}
else if(key==="\n"){return ts.formatting.formatOnEnter(position,sourceFile,getRuleProvider(options),options);}
return[];}
function getDocCommentTemplateAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);if(ts.isInString(sourceFile,position)||ts.isInComment(sourceFile,position)||ts.hasDocComment(sourceFile,position)){return undefined;}
var tokenAtPos=ts.getTokenAtPosition(sourceFile,position);var tokenStart=tokenAtPos.getStart();if(!tokenAtPos||tokenStart<position){return undefined;}
var commentOwner;findOwner:for(commentOwner=tokenAtPos;commentOwner;commentOwner=commentOwner.parent){switch(commentOwner.kind){case 216 :case 144 :case 145 :case 217 :case 196 :break findOwner;case 251 :return undefined;case 221 :if(commentOwner.parent.kind===221 ){return undefined;}
break findOwner;}}
if(!commentOwner||commentOwner.getStart()<position){return undefined;}
var parameters=getParametersForJsDocOwningNode(commentOwner);var posLineAndChar=sourceFile.getLineAndCharacterOfPosition(position);var lineStart=sourceFile.getLineStarts()[posLineAndChar.line];var indentationStr=sourceFile.text.substr(lineStart,posLineAndChar.character);var newLine=ts.getNewLineOrDefaultFromHost(host);var docParams="";for(var i=0,numParams=parameters.length;i<numParams;i++){var currentName=parameters[i].name;var paramName=currentName.kind===69 ?currentName.text:"param"+i;docParams+=indentationStr+" * @param "+paramName+newLine;}
var preamble="/**"+newLine+
indentationStr+" * ";var result=preamble+newLine+
docParams+
indentationStr+" */"+
(tokenStart===position?newLine+indentationStr:"");return{newText:result,caretOffset:preamble.length};}
function getParametersForJsDocOwningNode(commentOwner){if(ts.isFunctionLike(commentOwner)){return commentOwner.parameters;}
if(commentOwner.kind===196 ){var varStatement=commentOwner;var varDeclarations=varStatement.declarationList.declarations;if(varDeclarations.length===1&&varDeclarations[0].initializer){return getParametersFromRightHandSideOfAssignment(varDeclarations[0].initializer);}}
return emptyArray;}
function getParametersFromRightHandSideOfAssignment(rightHandSide){while(rightHandSide.kind===175 ){rightHandSide=rightHandSide.expression;}
switch(rightHandSide.kind){case 176 :case 177 :return rightHandSide.parameters;case 189 :for(var _i=0,_a=rightHandSide.members;_i<_a.length;_i++){var member=_a[_i];if(member.kind===145 ){return member.parameters;}}
break;}
return emptyArray;}
function getTodoComments(fileName,descriptors){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);cancellationToken.throwIfCancellationRequested();var fileContents=sourceFile.text;var result=[];if(descriptors.length>0){var regExp=getTodoCommentsRegExp();var matchArray=void 0;while(matchArray=regExp.exec(fileContents)){cancellationToken.throwIfCancellationRequested();var firstDescriptorCaptureIndex=3;ts.Debug.assert(matchArray.length===descriptors.length+firstDescriptorCaptureIndex);var preamble=matchArray[1];var matchPosition=matchArray.index+preamble.length;var token=ts.getTokenAtPosition(sourceFile,matchPosition);if(!isInsideComment(sourceFile,token,matchPosition)){continue;}
var descriptor=undefined;for(var i=0,n=descriptors.length;i<n;i++){if(matchArray[i+firstDescriptorCaptureIndex]){descriptor=descriptors[i];}}
ts.Debug.assert(descriptor!==undefined);if(isLetterOrDigit(fileContents.charCodeAt(matchPosition+descriptor.text.length))){continue;}
var message=matchArray[2];result.push({descriptor:descriptor,message:message,position:matchPosition});}}
return result;function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}
function getTodoCommentsRegExp(){var singleLineCommentStart=/(?:\/\/+\s*)/.source;var multiLineCommentStart=/(?:\/\*+\s*)/.source;var anyNumberOfSpacesAndAsterixesAtStartOfLine=/(?:^(?:\s|\*)*)/.source;var preamble="("+anyNumberOfSpacesAndAsterixesAtStartOfLine+"|"+singleLineCommentStart+"|"+multiLineCommentStart+")";var literals="(?:"+ts.map(descriptors,function(d){return"("+escapeRegExp(d.text)+")";}).join("|")+")";var endOfLineOrEndOfComment=/(?:$|\*\/)/.source;var messageRemainder=/(?:.*?)/.source;var messagePortion="("+literals+messageRemainder+")";var regExpString=preamble+messagePortion+endOfLineOrEndOfComment;return new RegExp(regExpString,"gim");}
function isLetterOrDigit(char){return(char>=97 &&char<=122 )||(char>=65 &&char<=90 )||(char>=48 &&char<=57 );}}
function getRenameInfo(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var typeChecker=program.getTypeChecker();var node=ts.getTouchingWord(sourceFile,position);if(node&&node.kind===69 ){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var declarations=symbol.getDeclarations();if(declarations&&declarations.length>0){var defaultLibFileName=host.getDefaultLibFileName(host.getCompilationSettings());var canonicalDefaultLibName=getCanonicalFileName(ts.normalizePath(defaultLibFileName));if(defaultLibFileName){for(var _i=0,declarations_10=declarations;_i<declarations_10.length;_i++){var current=declarations_10[_i];var sourceFile_3=current.getSourceFile();if(!sourceFile_3){continue;}
var canonicalName=getCanonicalFileName(ts.normalizePath(sourceFile_3.fileName));if(canonicalName===canonicalDefaultLibName){return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library));}}}
var displayName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node));var kind=getSymbolKind(symbol,node);if(kind){return{canRename:true,kind:kind,displayName:displayName,localizedErrorMessage:undefined,fullDisplayName:typeChecker.getFullyQualifiedName(symbol),kindModifiers:getSymbolModifiers(symbol),triggerSpan:ts.createTextSpan(node.getStart(),node.getWidth())};}}}}
return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_this_element));function getRenameInfoError(localizedErrorMessage){return{canRename:false,localizedErrorMessage:localizedErrorMessage,displayName:undefined,fullDisplayName:undefined,kind:undefined,kindModifiers:undefined,triggerSpan:undefined};}}
return{dispose:dispose,cleanupSemanticCache:cleanupSemanticCache,getSyntacticDiagnostics:getSyntacticDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getCompilerOptionsDiagnostics:getCompilerOptionsDiagnostics,getSyntacticClassifications:getSyntacticClassifications,getSemanticClassifications:getSemanticClassifications,getEncodedSyntacticClassifications:getEncodedSyntacticClassifications,getEncodedSemanticClassifications:getEncodedSemanticClassifications,getCompletionsAtPosition:getCompletionsAtPosition,getCompletionEntryDetails:getCompletionEntryDetails,getSignatureHelpItems:getSignatureHelpItems,getQuickInfoAtPosition:getQuickInfoAtPosition,getDefinitionAtPosition:getDefinitionAtPosition,getTypeDefinitionAtPosition:getTypeDefinitionAtPosition,getReferencesAtPosition:getReferencesAtPosition,findReferences:findReferences,getOccurrencesAtPosition:getOccurrencesAtPosition,getDocumentHighlights:getDocumentHighlights,getNameOrDottedNameSpan:getNameOrDottedNameSpan,getBreakpointStatementAtPosition:getBreakpointStatementAtPosition,getNavigateToItems:getNavigateToItems,getRenameInfo:getRenameInfo,findRenameLocations:findRenameLocations,getNavigationBarItems:getNavigationBarItems,getOutliningSpans:getOutliningSpans,getTodoComments:getTodoComments,getBraceMatchingAtPosition:getBraceMatchingAtPosition,getIndentationAtPosition:getIndentationAtPosition,getFormattingEditsForRange:getFormattingEditsForRange,getFormattingEditsForDocument:getFormattingEditsForDocument,getFormattingEditsAfterKeystroke:getFormattingEditsAfterKeystroke,getDocCommentTemplateAtPosition:getDocCommentTemplateAtPosition,getEmitOutput:getEmitOutput,getSourceFile:getSourceFile,getProgram:getProgram};}
ts.createLanguageService=createLanguageService;function getNameTable(sourceFile){if(!sourceFile.nameTable){initializeNameTable(sourceFile);}
return sourceFile.nameTable;}
ts.getNameTable=getNameTable;function initializeNameTable(sourceFile){var nameTable={};walk(sourceFile);sourceFile.nameTable=nameTable;function walk(node){switch(node.kind){case 69 :nameTable[node.text]=nameTable[node.text]===undefined?node.pos:-1;break;case 9 :case 8 :if(ts.isDeclarationName(node)||node.parent.kind===235 ||isArgumentOfElementAccessExpression(node)){nameTable[node.text]=nameTable[node.text]===undefined?node.pos:-1;}
break;default:ts.forEachChild(node,walk);}}}
function isArgumentOfElementAccessExpression(node){return node&&node.parent&&node.parent.kind===170 &&node.parent.argumentExpression===node;}
function createClassifier(){var scanner=ts.createScanner(2 ,false);var noRegexTable=[];noRegexTable[69 ]=true;noRegexTable[9 ]=true;noRegexTable[8 ]=true;noRegexTable[10 ]=true;noRegexTable[97 ]=true;noRegexTable[41 ]=true;noRegexTable[42 ]=true;noRegexTable[18 ]=true;noRegexTable[20 ]=true;noRegexTable[16 ]=true;noRegexTable[99 ]=true;noRegexTable[84 ]=true;var templateStack=[];function canFollow(keyword1,keyword2){if(ts.isAccessibilityModifier(keyword1)){if(keyword2===123 ||keyword2===129 ||keyword2===121 ||keyword2===113 ){return true;}
return false;}
return true;}
function convertClassifications(classifications,text){var entries=[];var dense=classifications.spans;var lastEnd=0;for(var i=0,n=dense.length;i<n;i+=3){var start=dense[i];var length_3=dense[i+1];var type=dense[i+2];if(lastEnd>=0){var whitespaceLength_1=start-lastEnd;if(whitespaceLength_1>0){entries.push({length:whitespaceLength_1,classification:TokenClass.Whitespace});}}
entries.push({length:length_3,classification:convertClassification(type)});lastEnd=start+length_3;}
var whitespaceLength=text.length-lastEnd;if(whitespaceLength>0){entries.push({length:whitespaceLength,classification:TokenClass.Whitespace});}
return{entries:entries,finalLexState:classifications.endOfLineState};}
function convertClassification(type){switch(type){case 1 :return TokenClass.Comment;case 3 :return TokenClass.Keyword;case 4 :return TokenClass.NumberLiteral;case 5 :return TokenClass.Operator;case 6 :return TokenClass.StringLiteral;case 8 :return TokenClass.Whitespace;case 10 :return TokenClass.Punctuation;case 2 :case 11 :case 12 :case 13 :case 14 :case 15 :case 16 :case 9 :case 17 :default:return TokenClass.Identifier;}}
function getClassificationsForLine(text,lexState,syntacticClassifierAbsent){return convertClassifications(getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent),text);}
function getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent){var offset=0;var token=0 ;var lastNonTriviaToken=0 ;while(templateStack.length>0){templateStack.pop();}
switch(lexState){case 3 :text="\"\\\n"+text;offset=3;break;case 2 :text="'\\\n"+text;offset=3;break;case 1 :text="/*\n"+text;offset=3;break;case 4 :text="`\n"+text;offset=2;break;case 5 :text="}\n"+text;offset=2;case 6 :templateStack.push(12 );break;}
scanner.setText(text);var result={endOfLineState:0 ,spans:[]};var angleBracketStack=0;do{token=scanner.scan();if(!ts.isTrivia(token)){if((token===39 ||token===61 )&&!noRegexTable[lastNonTriviaToken]){if(scanner.reScanSlashToken()===10 ){token=10 ;}}
else if(lastNonTriviaToken===21 &&isKeyword(token)){token=69 ;}
else if(isKeyword(lastNonTriviaToken)&&isKeyword(token)&&!canFollow(lastNonTriviaToken,token)){token=69 ;}
else if(lastNonTriviaToken===69 &&token===25 ){angleBracketStack++;}
else if(token===27 &&angleBracketStack>0){angleBracketStack--;}
else if(token===117 ||token===130 ||token===128 ||token===120 ||token===131 ){if(angleBracketStack>0&&!syntacticClassifierAbsent){token=69 ;}}
else if(token===12 ){templateStack.push(token);}
else if(token===15 ){if(templateStack.length>0){templateStack.push(token);}}
else if(token===16 ){if(templateStack.length>0){var lastTemplateStackToken=ts.lastOrUndefined(templateStack);if(lastTemplateStackToken===12 ){token=scanner.reScanTemplateToken();if(token===14 ){templateStack.pop();}
else{ts.Debug.assert(token===13 ,"Should have been a template middle. Was "+token);}}
else{ts.Debug.assert(lastTemplateStackToken===15 ,"Should have been an open brace. Was: "+token);templateStack.pop();}}}
lastNonTriviaToken=token;}
processToken();}while(token!==1 );return result;function processToken(){var start=scanner.getTokenPos();var end=scanner.getTextPos();addResult(start,end,classFromKind(token));if(end>=text.length){if(token===9 ||token===163 ){var tokenText=scanner.getTokenText();if(scanner.isUnterminated()){var lastCharIndex=tokenText.length-1;var numBackslashes=0;while(tokenText.charCodeAt(lastCharIndex-numBackslashes)===92 ){numBackslashes++;}
if(numBackslashes&1){var quoteChar=tokenText.charCodeAt(0);result.endOfLineState=quoteChar===34 ?3 :2 ;}}}
else if(token===3 ){if(scanner.isUnterminated()){result.endOfLineState=1 ;}}
else if(ts.isTemplateLiteralKind(token)){if(scanner.isUnterminated()){if(token===14 ){result.endOfLineState=5 ;}
else if(token===11 ){result.endOfLineState=4 ;}
else{ts.Debug.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+token);}}}
else if(templateStack.length>0&&ts.lastOrUndefined(templateStack)===12 ){result.endOfLineState=6 ;}}}
function addResult(start,end,classification){if(classification===8 ){return;}
if(start===0&&offset>0){start+=offset;}
start-=offset;end-=offset;var length=end-start;if(length>0){result.spans.push(start);result.spans.push(length);result.spans.push(classification);}}}
function isBinaryExpressionOperatorToken(token){switch(token){case 37 :case 39 :case 40 :case 35 :case 36 :case 43 :case 44 :case 45 :case 25 :case 27 :case 28 :case 29 :case 91 :case 90 :case 116 :case 30 :case 31 :case 32 :case 33 :case 46 :case 48 :case 47 :case 51 :case 52 :case 67 :case 66 :case 68 :case 63 :case 64 :case 65 :case 57 :case 58 :case 59 :case 61 :case 62 :case 56 :case 24 :return true;default:return false;}}
function isPrefixUnaryExpressionOperatorToken(token){switch(token){case 35 :case 36 :case 50 :case 49 :case 41 :case 42 :return true;default:return false;}}
function isKeyword(token){return token>=70 &&token<=135 ;}
function classFromKind(token){if(isKeyword(token)){return 3 ;}
else if(isBinaryExpressionOperatorToken(token)||isPrefixUnaryExpressionOperatorToken(token)){return 5 ;}
else if(token>=15 &&token<=68 ){return 10 ;}
switch(token){case 8 :return 4 ;case 9 :case 163 :return 6 ;case 10 :return 7 ;case 7 :case 3 :case 2 :return 1 ;case 5 :case 4 :return 8 ;case 69 :default:if(ts.isTemplateLiteralKind(token)){return 6 ;}
return 2 ;}}
return{getClassificationsForLine:getClassificationsForLine,getEncodedLexicalClassifications:getEncodedLexicalClassifications};}
ts.createClassifier=createClassifier;function getDefaultLibFilePath(options){if(typeof __dirname!=="undefined"){return __dirname+ts.directorySeparator+ts.getDefaultLibFileName(options);}
throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ");}
ts.getDefaultLibFilePath=getDefaultLibFilePath;function initializeServices(){ts.objectAllocator={getNodeConstructor:function(){return NodeObject;},getSourceFileConstructor:function(){return SourceFileObject;},getSymbolConstructor:function(){return SymbolObject;},getTypeConstructor:function(){return TypeObject;},getSignatureConstructor:function(){return SignatureObject;}};}
initializeServices();})(ts||(ts={}));var ts;(function(ts){var BreakpointResolver;(function(BreakpointResolver){function spanInSourceFileAtLocation(sourceFile,position){if(sourceFile.flags&4096 ){return undefined;}
var tokenAtLocation=ts.getTokenAtPosition(sourceFile,position);var lineOfPosition=sourceFile.getLineAndCharacterOfPosition(position).line;if(sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getStart(sourceFile)).line>lineOfPosition){tokenAtLocation=ts.findPrecedingToken(tokenAtLocation.pos,sourceFile);if(!tokenAtLocation||sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getEnd()).line!==lineOfPosition){return undefined;}}
if(ts.isInAmbientContext(tokenAtLocation)){return undefined;}
return spanInNode(tokenAtLocation);function textSpan(startNode,endNode){var start=startNode.decorators?ts.skipTrivia(sourceFile.text,startNode.decorators.end):startNode.getStart(sourceFile);return ts.createTextSpanFromBounds(start,(endNode||startNode).getEnd());}
function textSpanEndingAtNextToken(startNode,previousTokenToFindNextEndToken){return textSpan(startNode,ts.findNextToken(previousTokenToFindNextEndToken,previousTokenToFindNextEndToken.parent));}
function spanInNodeIfStartsOnSameLine(node,otherwiseOnNode){if(node&&lineOfPosition===sourceFile.getLineAndCharacterOfPosition(node.getStart(sourceFile)).line){return spanInNode(node);}
return spanInNode(otherwiseOnNode);}
function spanInNodeArray(nodeArray){return ts.createTextSpanFromBounds(ts.skipTrivia(sourceFile.text,nodeArray.pos),nodeArray.end);}
function spanInPreviousNode(node){return spanInNode(ts.findPrecedingToken(node.pos,sourceFile));}
function spanInNextNode(node){return spanInNode(ts.findNextToken(node,node.parent));}
function spanInNode(node){if(node){switch(node.kind){case 196 :return spanInVariableDeclaration(node.declarationList.declarations[0]);case 214 :case 142 :case 141 :return spanInVariableDeclaration(node);case 139 :return spanInParameterDeclaration(node);case 216 :case 144 :case 143 :case 146 :case 147 :case 145 :case 176 :case 177 :return spanInFunctionDeclaration(node);case 195 :if(ts.isFunctionBlock(node)){return spanInFunctionBlock(node);}
case 222 :return spanInBlock(node);case 247 :return spanInBlock(node.block);case 198 :return textSpan(node.expression);case 207 :return textSpan(node.getChildAt(0),node.expression);case 201 :return textSpanEndingAtNextToken(node,node.expression);case 200 :return spanInNode(node.statement);case 213 :return textSpan(node.getChildAt(0));case 199 :return textSpanEndingAtNextToken(node,node.expression);case 210 :return spanInNode(node.statement);case 206 :case 205 :return textSpan(node.getChildAt(0),node.label);case 202 :return spanInForStatement(node);case 203 :return textSpanEndingAtNextToken(node,node.expression);case 204 :return spanInInitializerOfForLike(node);case 209 :return textSpanEndingAtNextToken(node,node.expression);case 244 :case 245 :return spanInNode(node.statements[0]);case 212 :return spanInBlock(node.tryBlock);case 211 :return textSpan(node,node.expression);case 230 :return textSpan(node,node.expression);case 224 :return textSpan(node,node.moduleReference);case 225 :return textSpan(node,node.moduleSpecifier);case 231 :return textSpan(node,node.moduleSpecifier);case 221 :if(ts.getModuleInstanceState(node)!==1 ){return undefined;}
case 217 :case 220 :case 250 :case 166 :return textSpan(node);case 208 :return spanInNode(node.statement);case 140 :return spanInNodeArray(node.parent.decorators);case 164 :case 165 :return spanInBindingPattern(node);case 218 :case 219 :return undefined;case 23 :case 1 :return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile));case 24 :return spanInPreviousNode(node);case 15 :return spanInOpenBraceToken(node);case 16 :return spanInCloseBraceToken(node);case 20 :return spanInCloseBracketToken(node);case 17 :return spanInOpenParenToken(node);case 18 :return spanInCloseParenToken(node);case 54 :return spanInColonToken(node);case 27 :case 25 :return spanInGreaterThanOrLessThanToken(node);case 104 :return spanInWhileKeyword(node);case 80 :case 72 :case 85 :return spanInNextNode(node);case 135 :return spanInOfKeyword(node);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node)){return spanInArrayLiteralOrObjectLiteralDestructuringPattern(node);}
if((node.kind===69 ||node.kind==188 ||node.kind===248 ||node.kind===249 )&&ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent)){return textSpan(node);}
if(node.kind===184 ){var binaryExpression=node;if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left)){return spanInArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left);}
if(binaryExpression.operatorToken.kind===56 &&ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.parent)){return textSpan(node);}
if(binaryExpression.operatorToken.kind===24 ){return spanInNode(binaryExpression.left);}}
if(ts.isExpression(node)){switch(node.parent.kind){case 200 :return spanInPreviousNode(node);case 140 :return spanInNode(node.parent);case 202 :case 204 :return textSpan(node);case 184 :if(node.parent.operatorToken.kind===24 ){return textSpan(node);}
break;case 177 :if(node.parent.body===node){return textSpan(node);}
break;}}
if(node.parent.kind===248 &&node.parent.name===node&&!ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent.parent)){return spanInNode(node.parent.initializer);}
if(node.parent.kind===174 &&node.parent.type===node){return spanInNextNode(node.parent.type);}
if(ts.isFunctionLike(node.parent)&&node.parent.type===node){return spanInPreviousNode(node);}
if((node.parent.kind===214 ||node.parent.kind===139 )){var paramOrVarDecl=node.parent;if(paramOrVarDecl.initializer===node||paramOrVarDecl.type===node||ts.isAssignmentOperator(node.kind)){return spanInPreviousNode(node);}}
if(node.parent.kind===184 ){var binaryExpression=node.parent;if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(binaryExpression.left)&&(binaryExpression.right===node||binaryExpression.operatorToken===node)){return spanInPreviousNode(node);}}
return spanInNode(node.parent);}}
function textSpanFromVariableDeclaration(variableDeclaration){var declarations=variableDeclaration.parent.declarations;if(declarations&&declarations[0]===variableDeclaration){return textSpan(ts.findPrecedingToken(variableDeclaration.pos,sourceFile,variableDeclaration.parent),variableDeclaration);}
else{return textSpan(variableDeclaration);}}
function spanInVariableDeclaration(variableDeclaration){if(variableDeclaration.parent.parent.kind===203 ){return spanInNode(variableDeclaration.parent.parent);}
if(ts.isBindingPattern(variableDeclaration.name)){return spanInBindingPattern(variableDeclaration.name);}
if(variableDeclaration.initializer||(variableDeclaration.flags&2 )||variableDeclaration.parent.parent.kind===204 ){return textSpanFromVariableDeclaration(variableDeclaration);}
var declarations=variableDeclaration.parent.declarations;if(declarations&&declarations[0]!==variableDeclaration){return spanInNode(ts.findPrecedingToken(variableDeclaration.pos,sourceFile,variableDeclaration.parent));}}
function canHaveSpanInParameterDeclaration(parameter){return!!parameter.initializer||parameter.dotDotDotToken!==undefined||!!(parameter.flags&8 )||!!(parameter.flags&16 );}
function spanInParameterDeclaration(parameter){if(ts.isBindingPattern(parameter.name)){return spanInBindingPattern(parameter.name);}
else if(canHaveSpanInParameterDeclaration(parameter)){return textSpan(parameter);}
else{var functionDeclaration=parameter.parent;var indexOfParameter=ts.indexOf(functionDeclaration.parameters,parameter);if(indexOfParameter){return spanInParameterDeclaration(functionDeclaration.parameters[indexOfParameter-1]);}
else{return spanInNode(functionDeclaration.body);}}}
function canFunctionHaveSpanInWholeDeclaration(functionDeclaration){return!!(functionDeclaration.flags&2 )||(functionDeclaration.parent.kind===217 &&functionDeclaration.kind!==145 );}
function spanInFunctionDeclaration(functionDeclaration){if(!functionDeclaration.body){return undefined;}
if(canFunctionHaveSpanInWholeDeclaration(functionDeclaration)){return textSpan(functionDeclaration);}
return spanInNode(functionDeclaration.body);}
function spanInFunctionBlock(block){var nodeForSpanInBlock=block.statements.length?block.statements[0]:block.getLastToken();if(canFunctionHaveSpanInWholeDeclaration(block.parent)){return spanInNodeIfStartsOnSameLine(block.parent,nodeForSpanInBlock);}
return spanInNode(nodeForSpanInBlock);}
function spanInBlock(block){switch(block.parent.kind){case 221 :if(ts.getModuleInstanceState(block.parent)!==1 ){return undefined;}
case 201 :case 199 :case 203 :return spanInNodeIfStartsOnSameLine(block.parent,block.statements[0]);case 202 :case 204 :return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(block.pos,sourceFile,block.parent),block.statements[0]);}
return spanInNode(block.statements[0]);}
function spanInInitializerOfForLike(forLikeStaement){if(forLikeStaement.initializer.kind===215 ){var variableDeclarationList=forLikeStaement.initializer;if(variableDeclarationList.declarations.length>0){return spanInNode(variableDeclarationList.declarations[0]);}}
else{return spanInNode(forLikeStaement.initializer);}}
function spanInForStatement(forStatement){if(forStatement.initializer){return spanInInitializerOfForLike(forStatement);}
if(forStatement.condition){return textSpan(forStatement.condition);}
if(forStatement.incrementor){return textSpan(forStatement.incrementor);}}
function spanInBindingPattern(bindingPattern){var firstBindingElement=ts.forEach(bindingPattern.elements,function(element){return element.kind!==190 ?element:undefined;});if(firstBindingElement){return spanInNode(firstBindingElement);}
if(bindingPattern.parent.kind===166 ){return textSpan(bindingPattern.parent);}
return textSpanFromVariableDeclaration(bindingPattern.parent);}
function spanInArrayLiteralOrObjectLiteralDestructuringPattern(node){ts.Debug.assert(node.kind!==165 &&node.kind!==164 );var elements=node.kind===167 ?node.elements:node.properties;var firstBindingElement=ts.forEach(elements,function(element){return element.kind!==190 ?element:undefined;});if(firstBindingElement){return spanInNode(firstBindingElement);}
return textSpan(node.parent.kind===184 ?node.parent:node);}
function spanInOpenBraceToken(node){switch(node.parent.kind){case 220 :var enumDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),enumDeclaration.members.length?enumDeclaration.members[0]:enumDeclaration.getLastToken(sourceFile));case 217 :var classDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),classDeclaration.members.length?classDeclaration.members[0]:classDeclaration.getLastToken(sourceFile));case 223 :return spanInNodeIfStartsOnSameLine(node.parent.parent,node.parent.clauses[0]);}
return spanInNode(node.parent);}
function spanInCloseBraceToken(node){switch(node.parent.kind){case 222 :if(ts.getModuleInstanceState(node.parent.parent)!==1 ){return undefined;}
case 220 :case 217 :return textSpan(node);case 195 :if(ts.isFunctionBlock(node.parent)){return textSpan(node);}
case 247 :return spanInNode(ts.lastOrUndefined(node.parent.statements));case 223 :var caseBlock=node.parent;var lastClause=ts.lastOrUndefined(caseBlock.clauses);if(lastClause){return spanInNode(ts.lastOrUndefined(lastClause.statements));}
return undefined;case 164 :var bindingPattern=node.parent;return spanInNode(ts.lastOrUndefined(bindingPattern.elements)||bindingPattern);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent)){var objectLiteral=node.parent;return textSpan(ts.lastOrUndefined(objectLiteral.properties)||objectLiteral);}
return spanInNode(node.parent);}}
function spanInCloseBracketToken(node){switch(node.parent.kind){case 165 :var bindingPattern=node.parent;return textSpan(ts.lastOrUndefined(bindingPattern.elements)||bindingPattern);default:if(ts.isArrayLiteralOrObjectLiteralDestructuringPattern(node.parent)){var arrayLiteral=node.parent;return textSpan(ts.lastOrUndefined(arrayLiteral.elements)||arrayLiteral);}
return spanInNode(node.parent);}}
function spanInOpenParenToken(node){if(node.parent.kind===200 ||node.parent.kind===171 ||node.parent.kind===172 ){return spanInPreviousNode(node);}
if(node.parent.kind===175 ){return spanInNextNode(node);}
return spanInNode(node.parent);}
function spanInCloseParenToken(node){switch(node.parent.kind){case 176 :case 216 :case 177 :case 144 :case 143 :case 146 :case 147 :case 145 :case 201 :case 200 :case 202 :case 204 :case 171 :case 172 :case 175 :return spanInPreviousNode(node);default:return spanInNode(node.parent);}}
function spanInColonToken(node){if(ts.isFunctionLike(node.parent)||node.parent.kind===248 ||node.parent.kind===139 ){return spanInPreviousNode(node);}
return spanInNode(node.parent);}
function spanInGreaterThanOrLessThanToken(node){if(node.parent.kind===174 ){return spanInNextNode(node);}
return spanInNode(node.parent);}
function spanInWhileKeyword(node){if(node.parent.kind===200 ){return textSpanEndingAtNextToken(node,node.parent.expression);}
return spanInNode(node.parent);}
function spanInOfKeyword(node){if(node.parent.kind===204 ){return spanInNextNode(node);}
return spanInNode(node.parent);}}}
BreakpointResolver.spanInSourceFileAtLocation=spanInSourceFileAtLocation;})(BreakpointResolver=ts.BreakpointResolver||(ts.BreakpointResolver={}));})(ts||(ts={}));var debugObjectHost=this;var ts;(function(ts){function logInternalError(logger,err){if(logger){logger.log("*INTERNAL ERROR* - Exception in typescript services: "+err.message);}}
var ScriptSnapshotShimAdapter=(function(){function ScriptSnapshotShimAdapter(scriptSnapshotShim){this.scriptSnapshotShim=scriptSnapshotShim;}
ScriptSnapshotShimAdapter.prototype.getText=function(start,end){return this.scriptSnapshotShim.getText(start,end);};ScriptSnapshotShimAdapter.prototype.getLength=function(){return this.scriptSnapshotShim.getLength();};ScriptSnapshotShimAdapter.prototype.getChangeRange=function(oldSnapshot){var oldSnapshotShim=oldSnapshot;var encoded=this.scriptSnapshotShim.getChangeRange(oldSnapshotShim.scriptSnapshotShim);if(encoded==null){return null;}
var decoded=JSON.parse(encoded);return ts.createTextChangeRange(ts.createTextSpan(decoded.span.start,decoded.span.length),decoded.newLength);};ScriptSnapshotShimAdapter.prototype.dispose=function(){if("dispose"in this.scriptSnapshotShim){this.scriptSnapshotShim.dispose();}};return ScriptSnapshotShimAdapter;}());var LanguageServiceShimHostAdapter=(function(){function LanguageServiceShimHostAdapter(shimHost){var _this=this;this.shimHost=shimHost;this.loggingEnabled=false;this.tracingEnabled=false;if("getModuleResolutionsForFile"in this.shimHost){this.resolveModuleNames=function(moduleNames,containingFile){var resolutionsInFile=JSON.parse(_this.shimHost.getModuleResolutionsForFile(containingFile));return ts.map(moduleNames,function(name){var result=ts.lookUp(resolutionsInFile,name);return result?{resolvedFileName:result}:undefined;});};}
if("directoryExists"in this.shimHost){this.directoryExists=function(directoryName){return _this.shimHost.directoryExists(directoryName);};}}
LanguageServiceShimHostAdapter.prototype.log=function(s){if(this.loggingEnabled){this.shimHost.log(s);}};LanguageServiceShimHostAdapter.prototype.trace=function(s){if(this.tracingEnabled){this.shimHost.trace(s);}};LanguageServiceShimHostAdapter.prototype.error=function(s){this.shimHost.error(s);};LanguageServiceShimHostAdapter.prototype.getProjectVersion=function(){if(!this.shimHost.getProjectVersion){return undefined;}
return this.shimHost.getProjectVersion();};LanguageServiceShimHostAdapter.prototype.useCaseSensitiveFileNames=function(){return this.shimHost.useCaseSensitiveFileNames?this.shimHost.useCaseSensitiveFileNames():false;};LanguageServiceShimHostAdapter.prototype.getCompilationSettings=function(){var settingsJson=this.shimHost.getCompilationSettings();if(settingsJson==null||settingsJson==""){throw Error("LanguageServiceShimHostAdapter.getCompilationSettings: empty compilationSettings");}
return JSON.parse(settingsJson);};LanguageServiceShimHostAdapter.prototype.getScriptFileNames=function(){var encoded=this.shimHost.getScriptFileNames();return this.files=JSON.parse(encoded);};LanguageServiceShimHostAdapter.prototype.getScriptSnapshot=function(fileName){var scriptSnapshot=this.shimHost.getScriptSnapshot(fileName);return scriptSnapshot&&new ScriptSnapshotShimAdapter(scriptSnapshot);};LanguageServiceShimHostAdapter.prototype.getScriptKind=function(fileName){if("getScriptKind"in this.shimHost){return this.shimHost.getScriptKind(fileName);}
else{return 0 ;}};LanguageServiceShimHostAdapter.prototype.getScriptVersion=function(fileName){return this.shimHost.getScriptVersion(fileName);};LanguageServiceShimHostAdapter.prototype.getLocalizedDiagnosticMessages=function(){var diagnosticMessagesJson=this.shimHost.getLocalizedDiagnosticMessages();if(diagnosticMessagesJson==null||diagnosticMessagesJson==""){return null;}
try{return JSON.parse(diagnosticMessagesJson);}
catch(e){this.log(e.description||"diagnosticMessages.generated.json has invalid JSON format");return null;}};LanguageServiceShimHostAdapter.prototype.getCancellationToken=function(){var hostCancellationToken=this.shimHost.getCancellationToken();return new ThrottledCancellationToken(hostCancellationToken);};LanguageServiceShimHostAdapter.prototype.getCurrentDirectory=function(){return this.shimHost.getCurrentDirectory();};LanguageServiceShimHostAdapter.prototype.getDefaultLibFileName=function(options){return this.shimHost.getDefaultLibFileName(JSON.stringify(options));};return LanguageServiceShimHostAdapter;}());ts.LanguageServiceShimHostAdapter=LanguageServiceShimHostAdapter;var ThrottledCancellationToken=(function(){function ThrottledCancellationToken(hostCancellationToken){this.hostCancellationToken=hostCancellationToken;this.lastCancellationCheckTime=0;}
ThrottledCancellationToken.prototype.isCancellationRequested=function(){var time=Date.now();var duration=Math.abs(time-this.lastCancellationCheckTime);if(duration>10){this.lastCancellationCheckTime=time;return this.hostCancellationToken.isCancellationRequested();}
return false;};return ThrottledCancellationToken;}());var CoreServicesShimHostAdapter=(function(){function CoreServicesShimHostAdapter(shimHost){var _this=this;this.shimHost=shimHost;if("directoryExists"in this.shimHost){this.directoryExists=function(directoryName){return _this.shimHost.directoryExists(directoryName);};}}
CoreServicesShimHostAdapter.prototype.readDirectory=function(rootDir,extension,exclude,depth){var encoded;try{encoded=this.shimHost.readDirectory(rootDir,extension,JSON.stringify(exclude),depth);}
catch(e){encoded=this.shimHost.readDirectory(rootDir,extension,JSON.stringify(exclude));}
return JSON.parse(encoded);};CoreServicesShimHostAdapter.prototype.fileExists=function(fileName){return this.shimHost.fileExists(fileName);};CoreServicesShimHostAdapter.prototype.readFile=function(fileName){return this.shimHost.readFile(fileName);};return CoreServicesShimHostAdapter;}());ts.CoreServicesShimHostAdapter=CoreServicesShimHostAdapter;function simpleForwardCall(logger,actionDescription,action,logPerformance){var start;if(logPerformance){logger.log(actionDescription);start=Date.now();}
var result=action();if(logPerformance){var end=Date.now();logger.log(actionDescription+" completed in "+(end-start)+" msec");if(typeof result==="string"){var str=result;if(str.length>128){str=str.substring(0,128)+"...";}
logger.log("  result.length="+str.length+", result='"+JSON.stringify(str)+"'");}}
return result;}
function forwardJSONCall(logger,actionDescription,action,logPerformance){try{var result=simpleForwardCall(logger,actionDescription,action,logPerformance);return JSON.stringify({result:result});}
catch(err){if(err instanceof ts.OperationCanceledException){return JSON.stringify({canceled:true});}
logInternalError(logger,err);err.description=actionDescription;return JSON.stringify({error:err});}}
var ShimBase=(function(){function ShimBase(factory){this.factory=factory;factory.registerShim(this);}
ShimBase.prototype.dispose=function(dummy){this.factory.unregisterShim(this);};return ShimBase;}());function realizeDiagnostics(diagnostics,newLine){return diagnostics.map(function(d){return realizeDiagnostic(d,newLine);});}
ts.realizeDiagnostics=realizeDiagnostics;function realizeDiagnostic(diagnostic,newLine){return{message:ts.flattenDiagnosticMessageText(diagnostic.messageText,newLine),start:diagnostic.start,length:diagnostic.length,category:ts.DiagnosticCategory[diagnostic.category].toLowerCase(),code:diagnostic.code};}
var LanguageServiceShimObject=(function(_super){__extends(LanguageServiceShimObject,_super);function LanguageServiceShimObject(factory,host,languageService){_super.call(this,factory);this.host=host;this.languageService=languageService;this.logPerformance=false;this.logger=this.host;}
LanguageServiceShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance);};LanguageServiceShimObject.prototype.dispose=function(dummy){this.logger.log("dispose()");this.languageService.dispose();this.languageService=null;if(debugObjectHost&&debugObjectHost.CollectGarbage){debugObjectHost.CollectGarbage();this.logger.log("CollectGarbage()");}
this.logger=null;_super.prototype.dispose.call(this,dummy);};LanguageServiceShimObject.prototype.refresh=function(throwOnError){this.forwardJSONCall("refresh("+throwOnError+")",function(){return null;});};LanguageServiceShimObject.prototype.cleanupSemanticCache=function(){var _this=this;this.forwardJSONCall("cleanupSemanticCache()",function(){_this.languageService.cleanupSemanticCache();return null;});};LanguageServiceShimObject.prototype.realizeDiagnostics=function(diagnostics){var newLine=ts.getNewLineOrDefaultFromHost(this.host);return ts.realizeDiagnostics(diagnostics,newLine);};LanguageServiceShimObject.prototype.getSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){return _this.languageService.getSyntacticClassifications(fileName,ts.createTextSpan(start,length));});};LanguageServiceShimObject.prototype.getSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){return _this.languageService.getSemanticClassifications(fileName,ts.createTextSpan(start,length));});};LanguageServiceShimObject.prototype.getEncodedSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSyntacticClassifications(fileName,ts.createTextSpan(start,length)));});};LanguageServiceShimObject.prototype.getEncodedSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSemanticClassifications(fileName,ts.createTextSpan(start,length)));});};LanguageServiceShimObject.prototype.getSyntacticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSyntacticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSyntacticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics);});};LanguageServiceShimObject.prototype.getSemanticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSemanticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSemanticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics);});};LanguageServiceShimObject.prototype.getCompilerOptionsDiagnostics=function(){var _this=this;return this.forwardJSONCall("getCompilerOptionsDiagnostics()",function(){var diagnostics=_this.languageService.getCompilerOptionsDiagnostics();return _this.realizeDiagnostics(diagnostics);});};LanguageServiceShimObject.prototype.getQuickInfoAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getQuickInfoAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getQuickInfoAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getNameOrDottedNameSpan=function(fileName,startPos,endPos){var _this=this;return this.forwardJSONCall("getNameOrDottedNameSpan('"+fileName+"', "+startPos+", "+endPos+")",function(){return _this.languageService.getNameOrDottedNameSpan(fileName,startPos,endPos);});};LanguageServiceShimObject.prototype.getBreakpointStatementAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBreakpointStatementAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getBreakpointStatementAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getSignatureHelpItems=function(fileName,position){var _this=this;return this.forwardJSONCall("getSignatureHelpItems('"+fileName+"', "+position+")",function(){return _this.languageService.getSignatureHelpItems(fileName,position);});};LanguageServiceShimObject.prototype.getDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDefinitionAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getTypeDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getTypeDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getTypeDefinitionAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getRenameInfo=function(fileName,position){var _this=this;return this.forwardJSONCall("getRenameInfo('"+fileName+"', "+position+")",function(){return _this.languageService.getRenameInfo(fileName,position);});};LanguageServiceShimObject.prototype.findRenameLocations=function(fileName,position,findInStrings,findInComments){var _this=this;return this.forwardJSONCall("findRenameLocations('"+fileName+"', "+position+", "+findInStrings+", "+findInComments+")",function(){return _this.languageService.findRenameLocations(fileName,position,findInStrings,findInComments);});};LanguageServiceShimObject.prototype.getBraceMatchingAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBraceMatchingAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getBraceMatchingAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getIndentationAtPosition=function(fileName,position,options ){var _this=this;return this.forwardJSONCall("getIndentationAtPosition('"+fileName+"', "+position+")",function(){var localOptions=JSON.parse(options);return _this.languageService.getIndentationAtPosition(fileName,position,localOptions);});};LanguageServiceShimObject.prototype.getReferencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getReferencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getReferencesAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.findReferences=function(fileName,position){var _this=this;return this.forwardJSONCall("findReferences('"+fileName+"', "+position+")",function(){return _this.languageService.findReferences(fileName,position);});};LanguageServiceShimObject.prototype.getOccurrencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getOccurrencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getOccurrencesAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getDocumentHighlights=function(fileName,position,filesToSearch){var _this=this;return this.forwardJSONCall("getDocumentHighlights('"+fileName+"', "+position+")",function(){var results=_this.languageService.getDocumentHighlights(fileName,position,JSON.parse(filesToSearch));var normalizedName=ts.normalizeSlashes(fileName).toLowerCase();return ts.filter(results,function(r){return ts.normalizeSlashes(r.fileName).toLowerCase()===normalizedName;});});};LanguageServiceShimObject.prototype.getCompletionsAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getCompletionsAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getCompletionsAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getCompletionEntryDetails=function(fileName,position,entryName){var _this=this;return this.forwardJSONCall("getCompletionEntryDetails('"+fileName+"', "+position+", '"+entryName+"')",function(){return _this.languageService.getCompletionEntryDetails(fileName,position,entryName);});};LanguageServiceShimObject.prototype.getFormattingEditsForRange=function(fileName,start,end,options ){var _this=this;return this.forwardJSONCall("getFormattingEditsForRange('"+fileName+"', "+start+", "+end+")",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsForRange(fileName,start,end,localOptions);});};LanguageServiceShimObject.prototype.getFormattingEditsForDocument=function(fileName,options ){var _this=this;return this.forwardJSONCall("getFormattingEditsForDocument('"+fileName+"')",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsForDocument(fileName,localOptions);});};LanguageServiceShimObject.prototype.getFormattingEditsAfterKeystroke=function(fileName,position,key,options ){var _this=this;return this.forwardJSONCall("getFormattingEditsAfterKeystroke('"+fileName+"', "+position+", '"+key+"')",function(){var localOptions=JSON.parse(options);return _this.languageService.getFormattingEditsAfterKeystroke(fileName,position,key,localOptions);});};LanguageServiceShimObject.prototype.getDocCommentTemplateAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDocCommentTemplateAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDocCommentTemplateAtPosition(fileName,position);});};LanguageServiceShimObject.prototype.getNavigateToItems=function(searchValue,maxResultCount){var _this=this;return this.forwardJSONCall("getNavigateToItems('"+searchValue+"', "+maxResultCount+")",function(){return _this.languageService.getNavigateToItems(searchValue,maxResultCount);});};LanguageServiceShimObject.prototype.getNavigationBarItems=function(fileName){var _this=this;return this.forwardJSONCall("getNavigationBarItems('"+fileName+"')",function(){return _this.languageService.getNavigationBarItems(fileName);});};LanguageServiceShimObject.prototype.getOutliningSpans=function(fileName){var _this=this;return this.forwardJSONCall("getOutliningSpans('"+fileName+"')",function(){return _this.languageService.getOutliningSpans(fileName);});};LanguageServiceShimObject.prototype.getTodoComments=function(fileName,descriptors){var _this=this;return this.forwardJSONCall("getTodoComments('"+fileName+"')",function(){return _this.languageService.getTodoComments(fileName,JSON.parse(descriptors));});};LanguageServiceShimObject.prototype.getEmitOutput=function(fileName){var _this=this;return this.forwardJSONCall("getEmitOutput('"+fileName+"')",function(){return _this.languageService.getEmitOutput(fileName);});};return LanguageServiceShimObject;}(ShimBase));function convertClassifications(classifications){return{spans:classifications.spans.join(","),endOfLineState:classifications.endOfLineState};}
var ClassifierShimObject=(function(_super){__extends(ClassifierShimObject,_super);function ClassifierShimObject(factory,logger){_super.call(this,factory);this.logger=logger;this.logPerformance=false;this.classifier=ts.createClassifier();}
ClassifierShimObject.prototype.getEncodedLexicalClassifications=function(text,lexState,syntacticClassifierAbsent){var _this=this;return forwardJSONCall(this.logger,"getEncodedLexicalClassifications",function(){return convertClassifications(_this.classifier.getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent));},this.logPerformance);};ClassifierShimObject.prototype.getClassificationsForLine=function(text,lexState,classifyKeywordsInGenerics){var classification=this.classifier.getClassificationsForLine(text,lexState,classifyKeywordsInGenerics);var result="";for(var _i=0,_a=classification.entries;_i<_a.length;_i++){var item=_a[_i];result+=item.length+"\n";result+=item.classification+"\n";}
result+=classification.finalLexState;return result;};return ClassifierShimObject;}(ShimBase));var CoreServicesShimObject=(function(_super){__extends(CoreServicesShimObject,_super);function CoreServicesShimObject(factory,logger,host){_super.call(this,factory);this.logger=logger;this.host=host;this.logPerformance=false;}
CoreServicesShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance);};CoreServicesShimObject.prototype.resolveModuleName=function(fileName,moduleName,compilerOptionsJson){var _this=this;return this.forwardJSONCall("resolveModuleName('"+fileName+"')",function(){var compilerOptions=JSON.parse(compilerOptionsJson);var result=ts.resolveModuleName(moduleName,ts.normalizeSlashes(fileName),compilerOptions,_this.host);return{resolvedFileName:result.resolvedModule?result.resolvedModule.resolvedFileName:undefined,failedLookupLocations:result.failedLookupLocations};});};CoreServicesShimObject.prototype.getPreProcessedFileInfo=function(fileName,sourceTextSnapshot){return this.forwardJSONCall("getPreProcessedFileInfo('"+fileName+"')",function(){var result=ts.preProcessFile(sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength()),true,true);var convertResult={referencedFiles:[],importedFiles:[],ambientExternalModules:result.ambientExternalModules,isLibFile:result.isLibFile};ts.forEach(result.referencedFiles,function(refFile){convertResult.referencedFiles.push({path:ts.normalizePath(refFile.fileName),position:refFile.pos,length:refFile.end-refFile.pos});});ts.forEach(result.importedFiles,function(importedFile){convertResult.importedFiles.push({path:ts.normalizeSlashes(importedFile.fileName),position:importedFile.pos,length:importedFile.end-importedFile.pos});});return convertResult;});};CoreServicesShimObject.prototype.getTSConfigFileInfo=function(fileName,sourceTextSnapshot){var _this=this;return this.forwardJSONCall("getTSConfigFileInfo('"+fileName+"')",function(){var text=sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength());var result=ts.parseConfigFileTextToJson(fileName,text);if(result.error){return{options:{},typingOptions:{},files:[],errors:[realizeDiagnostic(result.error,"\r\n")]};}
var normalizedFileName=ts.normalizeSlashes(fileName);var configFile=ts.parseJsonConfigFileContent(result.config,_this.host,ts.getDirectoryPath(normalizedFileName),{},normalizedFileName);return{options:configFile.options,typingOptions:configFile.typingOptions,files:configFile.fileNames,errors:realizeDiagnostics(configFile.errors,"\r\n")};});};CoreServicesShimObject.prototype.getDefaultCompilationSettings=function(){return this.forwardJSONCall("getDefaultCompilationSettings()",function(){return ts.getDefaultCompilerOptions();});};CoreServicesShimObject.prototype.discoverTypings=function(discoverTypingsJson){var _this=this;var getCanonicalFileName=ts.createGetCanonicalFileName(false);return this.forwardJSONCall("discoverTypings()",function(){var info=JSON.parse(discoverTypingsJson);return ts.JsTyping.discoverTypings(_this.host,info.fileNames,ts.toPath(info.projectRootPath,info.projectRootPath,getCanonicalFileName),ts.toPath(info.safeListPath,info.safeListPath,getCanonicalFileName),info.packageNameToTypingLocation,info.typingOptions,info.compilerOptions);});};return CoreServicesShimObject;}(ShimBase));var TypeScriptServicesFactory=(function(){function TypeScriptServicesFactory(){this._shims=[];}
TypeScriptServicesFactory.prototype.getServicesVersion=function(){return ts.servicesVersion;};TypeScriptServicesFactory.prototype.createLanguageServiceShim=function(host){try{if(this.documentRegistry===undefined){this.documentRegistry=ts.createDocumentRegistry(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames(),host.getCurrentDirectory());}
var hostAdapter=new LanguageServiceShimHostAdapter(host);var languageService=ts.createLanguageService(hostAdapter,this.documentRegistry);return new LanguageServiceShimObject(this,host,languageService);}
catch(err){logInternalError(host,err);throw err;}};TypeScriptServicesFactory.prototype.createClassifierShim=function(logger){try{return new ClassifierShimObject(this,logger);}
catch(err){logInternalError(logger,err);throw err;}};TypeScriptServicesFactory.prototype.createCoreServicesShim=function(host){try{var adapter=new CoreServicesShimHostAdapter(host);return new CoreServicesShimObject(this,host,adapter);}
catch(err){logInternalError(host,err);throw err;}};TypeScriptServicesFactory.prototype.close=function(){this._shims=[];this.documentRegistry=undefined;};TypeScriptServicesFactory.prototype.registerShim=function(shim){this._shims.push(shim);};TypeScriptServicesFactory.prototype.unregisterShim=function(shim){for(var i=0,n=this._shims.length;i<n;i++){if(this._shims[i]===shim){delete this._shims[i];return;}}
throw new Error("Invalid operation");};return TypeScriptServicesFactory;}());ts.TypeScriptServicesFactory=TypeScriptServicesFactory;if(typeof module!=="undefined"&&module.exports){module.exports=ts;}})(ts||(ts={}));var TypeScript;(function(TypeScript){var Services;(function(Services){Services.TypeScriptServicesFactory=ts.TypeScriptServicesFactory;})(Services=TypeScript.Services||(TypeScript.Services={}));})(TypeScript||(TypeScript={}));var toolsVersion="1.8";"format register";System.register("rxjs/util/root",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.root=i[typeof self]&&self||i[typeof window]&&window;var o=(i[typeof e]&&e&&!e.nodeType&&e,i[typeof t]&&t&&!t.nodeType&&t,i[typeof r]&&r);return!o||o.global!==o&&o.window!==o||(e.root=o),r.define=s,t.exports}),System.register("rxjs/util/SymbolShim",["rxjs/util/root"],!0,function(require,e,t){function r(e){var t=i(e);return n(t,e),a(t),s(t),t}function s(e){e["for"]||(e["for"]=o)}function i(e){return e.Symbol||(e.Symbol=function(e){return"@@Symbol("+e+"):"+p++}),e.Symbol}function o(e){return"@@"+e}function n(e,t){if(!e.iterator)if("function"==typeof e["for"])e.iterator=e["for"]("iterator");else if(t.Set&&"function"==typeof(new t.Set)["@@iterator"])e.iterator="@@iterator";else if(t.Map)for(var r=Object.getOwnPropertyNames(t.Map.prototype),s=0;s<r.length;++s){var i=r[s];if("entries"!==i&&"size"!==i&&t.Map.prototype[i]===t.Map.prototype.entries){e.iterator=i;break}}else e.iterator="@@iterator"}function a(e){e.observable||("function"==typeof e["for"]?e.observable=e["for"]("observable"):e.observable="@@observable")}var u=System.global,c=u.define;u.define=void 0;var l=require("rxjs/util/root");e.polyfillSymbol=r,e.ensureFor=s;var p=0;return e.ensureSymbol=i,e.symbolForPolyfill=o,e.ensureIterator=n,e.ensureObservable=a,e.SymbolShim=r(l.root),u.define=c,t.exports}),System.register("rxjs/util/isFunction",[],!0,function(require,e,t){function r(e){return"function"==typeof e}var s=System.global,i=s.define;return s.define=void 0,e.isFunction=r,s.define=i,t.exports}),System.register("rxjs/util/isArray",[],!0,function(require,e,t){var r=System.global,s=r.define;return r.define=void 0,e.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length},r.define=s,t.exports}),System.register("rxjs/util/isObject",[],!0,function(require,e,t){function r(e){return null!=e&&"object"==typeof e}var s=System.global,i=s.define;return s.define=void 0,e.isObject=r,s.define=i,t.exports}),System.register("rxjs/util/errorObject",[],!0,function(require,e,t){var r=System.global,s=r.define;return r.define=void 0,e.errorObject={e:{}},r.define=s,t.exports}),System.register("rxjs/symbol/rxSubscriber",["rxjs/util/SymbolShim"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/util/SymbolShim");return e.rxSubscriber=i.SymbolShim["for"]("rxSubscriber"),r.define=s,t.exports}),System.register("rxjs/Observer",[],!0,function(require,e,t){var r=System.global,s=r.define;return r.define=void 0,e.empty={isUnsubscribed:!0,next:function(e){},error:function(e){throw e},complete:function(){}},r.define=s,t.exports}),System.register("rxjs/subject/SubjectSubscription",["rxjs/Subscription"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subscription"),n=function(e){function t(t,r){e.call(this),this.subject=t,this.observer=r,this.isUnsubscribed=!1}return i(t,e),t.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isUnsubscribed){var r=t.indexOf(this.observer);-1!==r&&t.splice(r,1)}}},t}(o.Subscription);return e.SubjectSubscription=n,r.define=s,t.exports}),System.register("rxjs/util/throwError",[],!0,function(require,e,t){function r(e){throw e}var s=System.global,i=s.define;return s.define=void 0,e.throwError=r,s.define=i,t.exports}),System.register("rxjs/util/ObjectUnsubscribedError",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return i(t,e),t}(Error);return e.ObjectUnsubscribedError=o,r.define=s,t.exports}),System.register("rxjs/observable/ScalarObservable",["rxjs/Observable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0}return i(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,s=e.subscriber;return t?void s.complete():(s.next(r),void(s.isUnsubscribed||(e.done=!0,this.schedule(e))))},t.prototype._subscribe=function(e){var r=this.value,s=this.scheduler;return s?s.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):(e.next(r),void(e.isUnsubscribed||e.complete()))},t}(o.Observable);return e.ScalarObservable=n,r.define=s,t.exports}),System.register("rxjs/observable/EmptyObservable",["rxjs/Observable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=function(e){function t(t){e.call(this),this.scheduler=t}return i(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(o.Observable);return e.EmptyObservable=n,r.define=s,t.exports}),System.register("rxjs/util/isScheduler",[],!0,function(require,e,t){function r(e){return e&&"function"==typeof e.schedule}var s=System.global,i=s.define;return s.define=void 0,e.isScheduler=r,s.define=i,t.exports}),System.register("rxjs/OuterSubscriber",["rxjs/Subscriber"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subscriber"),n=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);return e.OuterSubscriber=n,r.define=s,t.exports}),System.register("rxjs/util/isPromise",[],!0,function(require,e,t){function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var s=System.global,i=s.define;return s.define=void 0,e.isPromise=r,s.define=i,t.exports}),System.register("rxjs/InnerSubscriber",["rxjs/Subscriber"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subscriber"),n=function(e){function t(t,r,s){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=s,this.index=0}return i(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);return e.InnerSubscriber=n,r.define=s,t.exports}),System.register("rxjs/operator/mergeAll",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.mergeAll=r;var u=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e){return new c(e,this.concurrent)},e}();e.MergeAllOperator=u;var c=function(e){function t(t,r){e.call(this,t),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber);return e.MergeAllSubscriber=c,s.define=i,t.exports}),System.register("rxjs/operator/merge",["rxjs/observable/ArrayObservable","rxjs/operator/mergeAll","rxjs/util/isScheduler"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),s.apply(this,e)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,s=null,i=e[e.length-1];return u.isScheduler(i)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),1===e.length?e[0]:new n.ArrayObservable(e,s).lift(new a.MergeAllOperator(r))}var i=System.global,o=i.define;i.define=void 0;var n=require("rxjs/observable/ArrayObservable"),a=require("rxjs/operator/mergeAll"),u=require("rxjs/util/isScheduler");return e.merge=r,e.mergeStatic=s,i.define=o,t.exports}),System.register("rxjs/operator/race",["rxjs/util/isArray","rxjs/observable/ArrayObservable","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&a.isArray(e[0])&&(e=e[0]),e.unshift(this),s.apply(this,e)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!a.isArray(e[0]))return e[0];e=e[0]}return new u.ArrayObservable(e).lift(new p)}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/util/isArray"),u=require("rxjs/observable/ArrayObservable"),c=require("rxjs/OuterSubscriber"),l=require("rxjs/util/subscribeToResult");e.race=r,e.raceStatic=s;var p=function(){function e(){}return e.prototype.call=function(e){return new b(e)},e}();e.RaceOperator=p;var b=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;t>r;r++){var s=e[r],i=l.subscribeToResult(this,s,s,r);this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,s,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var n=this.subscriptions[o];n.unsubscribe(),this.remove(n)}this.subscriptions=null}this.destination.next(t)},t}(c.OuterSubscriber);return e.RaceSubscriber=b,i.define=o,t.exports}),System.register("rxjs/subject/AsyncSubject",["rxjs/Subject"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subject"),n=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1}return i(t,e),t.prototype._subscribe=function(t){return this.hasCompleted&&this.hasNext&&t.next(this.value),e.prototype._subscribe.call(this,t)},t.prototype._next=function(e){this.value=e,this.hasNext=!0},t.prototype._complete=function(){var e=-1,t=this.observers,r=t.length;if(this.isUnsubscribed=!0,this.hasNext)for(;++e<r;){var s=t[e];s.next(this.value),s.complete()}else for(;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t}(o.Subject);return e.AsyncSubject=n,r.define=s,t.exports}),System.register("rxjs/observable/BoundNodeCallbackObservable",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/subject/AsyncSubject"],!0,function(require,e,t){function r(e){var t=this,r=e.source,o=e.subscriber,n=r.callbackFunc,a=r.args,u=r.scheduler,b=r.subject;if(!b){b=r.subject=new p.AsyncSubject;var h=function d(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var o=d.source,n=o.selector,a=o.subject,p=e.shift();if(p)a.error(p);else if(n){var b=c.tryCatch(n).apply(this,e);b===l.errorObject?t.add(u.schedule(i,0,{err:l.errorObject.e,subject:a})):t.add(u.schedule(s,0,{value:b,subject:a}))}else{var h=1===e.length?e[0]:e;t.add(u.schedule(s,0,{value:h,subject:a}))}};h.source=r;var f=c.tryCatch(n).apply(this,a.concat(h));f===l.errorObject&&b.error(l.errorObject.e)}t.add(b.subscribe(o))}function s(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function i(e){var t=e.err,r=e.subject;r.error(t)}var o=System.global,n=o.define;o.define=void 0;var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=require("rxjs/Observable"),c=require("rxjs/util/tryCatch"),l=require("rxjs/util/errorObject"),p=require("rxjs/subject/AsyncSubject"),b=function(e){function t(t,r,s,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=s,this.scheduler=i}return a(t,e),t.create=function(e,r,s){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,s)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,s=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(r,0,{source:this,subscriber:e});if(!o){o=this.subject=new p.AsyncSubject;var n=function u(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=u.source,s=r.selector,i=r.subject,o=e.shift();if(o)i.error(o);else if(s){var n=c.tryCatch(s).apply(this,e);n===l.errorObject?i.error(l.errorObject.e):(i.next(n),i.complete())}else i.next(1===e.length?e[0]:e),i.complete()};n.source=this;var a=c.tryCatch(t).apply(this,s.concat(n));a===l.errorObject&&o.error(l.errorObject.e)}return o.subscribe(e)},t}(u.Observable);return e.BoundNodeCallbackObservable=b,o.define=n,t.exports}),System.register("rxjs/observable/DeferObservable",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/util/tryCatch"),a=require("rxjs/util/errorObject"),u=function(e){function t(t){e.call(this),this.observableFactory=t}return i(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){var t=n.tryCatch(this.observableFactory)();t===a.errorObject?e.error(a.errorObject.e):t.subscribe(e)},t}(o.Observable);return e.DeferObservable=u,r.define=s,t.exports}),System.register("rxjs/add/observable/empty",["rxjs/Observable","rxjs/observable/EmptyObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/EmptyObservable");return i.Observable.empty=o.EmptyObservable.create,r.define=s,t.exports}),System.register("rxjs/observable/PromiseObservable",["rxjs/util/root","rxjs/Observable"],!0,function(require,e,t){function r(e){var t=e.value,r=e.subscriber;r.isUnsubscribed||(r.next(t),r.complete())}function s(e){var t=e.err,r=e.subscriber;r.isUnsubscribed||r.error(t)}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/util/root"),u=require("rxjs/Observable"),c=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return void 0===r&&(r=null),new t(e,r)},t.prototype._subscribe=function(e){var t=this,i=this.promise,o=this.scheduler;if(null==o)this._isScalar?e.isUnsubscribed||(e.next(this.value),e.complete()):i.then(function(r){t.value=r,t._isScalar=!0,e.isUnsubscribed||(e.next(r),e.complete())},function(t){e.isUnsubscribed||e.error(t)}).then(null,function(e){a.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.isUnsubscribed)return o.schedule(r,0,{value:this.value,subscriber:e})}else i.then(function(s){t.value=s,t._isScalar=!0,e.isUnsubscribed||e.add(o.schedule(r,0,{value:s,subscriber:e}))},function(t){e.isUnsubscribed||e.add(o.schedule(s,0,{err:t,subscriber:e}))}).then(null,function(e){a.root.setTimeout(function(){throw e})})},t}(u.Observable);return e.PromiseObservable=c,i.define=o,t.exports}),System.register("rxjs/observable/IteratorObservable",["rxjs/util/root","rxjs/util/isObject","rxjs/util/tryCatch","rxjs/Observable","rxjs/util/isFunction","rxjs/util/SymbolShim","rxjs/util/errorObject"],!0,function(require,e,t){function r(e){var t=e[f.SymbolShim.iterator];if(!t&&"string"==typeof e)return new x(e);if(!t&&void 0!==e.length)return new y(e);if(!t)throw new TypeError("Object is not iterable");return e[f.SymbolShim.iterator]()}function s(e){var t=+e.length;return isNaN(t)?0:0!==t&&i(t)?(t=o(t)*Math.floor(Math.abs(t)),0>=t?0:t>j?j:t):t}function i(e){return"number"==typeof e&&c.root.isFinite(e)}function o(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}var n=System.global,a=n.define;n.define=void 0;var u=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=require("rxjs/util/root"),l=require("rxjs/util/isObject"),p=require("rxjs/util/tryCatch"),b=require("rxjs/Observable"),h=require("rxjs/util/isFunction"),f=require("rxjs/util/SymbolShim"),d=require("rxjs/util/errorObject"),v=function(e){function t(t,s,i,o){if(e.call(this),null==t)throw new Error("iterator cannot be null.");if(l.isObject(s))this.thisArg=s,this.scheduler=i;else if(h.isFunction(s))this.project=s,this.thisArg=i,this.scheduler=o;else if(null!=s)throw new Error("When provided, `project` must be a function.");this.iterator=r(t)}return u(t,e),t.create=function(e,r,s,i){return new t(e,r,s,i)},t.dispatch=function(e){var t=e.index,r=e.hasError,s=e.thisArg,i=e.project,o=e.iterator,n=e.subscriber;if(r)return void n.error(e.error);var a=o.next();return a.done?void n.complete():(i?(a=p.tryCatch(i).call(s,a.value,t),a===d.errorObject?(e.error=d.errorObject.e,e.hasError=!0):(n.next(a),e.index=t+1)):(n.next(a.value),e.index=t+1),void(n.isUnsubscribed||this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,s=this,i=s.iterator,o=s.project,n=s.thisArg,a=s.scheduler;if(a)return a.schedule(t.dispatch,0,{index:r,thisArg:n,project:o,iterator:i,subscriber:e});for(;;){var u=i.next();if(u.done){e.complete();break}if(o){if(u=p.tryCatch(o).call(n,u.value,r++),u===d.errorObject){e.error(d.errorObject.e);break}e.next(u)}else e.next(u.value);if(e.isUnsubscribed)break}},t}(b.Observable);e.IteratorObservable=v;var x=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[f.SymbolShim.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),y=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=s(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[f.SymbolShim.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),j=Math.pow(2,53)-1;return n.define=a,t.exports}),System.register("rxjs/observable/ArrayLikeObservable",["rxjs/Observable","rxjs/observable/ScalarObservable","rxjs/observable/EmptyObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/observable/ScalarObservable"),a=require("rxjs/observable/EmptyObservable"),u=function(e){function t(t,r,s,i){e.call(this),this.arrayLike=t,this.scheduler=i,r||i||1!==t.length||(this._isScalar=!0,this.value=t[0]),r&&(this.mapFn=r.bind(s))}return i(t,e),t.create=function(e,r,s,i){var o=e.length;return 0===o?new a.EmptyObservable:1!==o||r?new t(e,r,s,i):new n.ScalarObservable(e[0],i)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,s=e.length,i=e.mapFn,o=e.subscriber;if(!o.isUnsubscribed){if(r>=s)return void o.complete();var n=i?i(t[r],r):t[r];o.next(n),e.index=r+1,this.schedule(e)}},t.prototype._subscribe=function(e){var r=0,s=this,i=s.arrayLike,o=s.mapFn,n=s.scheduler,a=i.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:i,index:r,length:a,mapFn:o,subscriber:e});for(var u=0;a>u&&!e.isUnsubscribed;u++){var c=o?o(i[u],u):i[u];e.next(c)}e.complete()},t}(o.Observable);return e.ArrayLikeObservable=u,r.define=s,t.exports}),System.register("rxjs/Notification",["rxjs/Observable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.exception=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete()}},e.prototype["do"]=function(e,t,r){var s=this.kind;switch(s){case"N":return e&&e(this.value);case"E":return t&&t(this.exception);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this["do"](e,t,r)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return i.Observable.of(this.value);case"E":return i.Observable["throw"](this.exception);case"C":return i.Observable.empty()}},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();return e.Notification=o,r.define=s,t.exports}),System.register("rxjs/add/observable/fromArray",["rxjs/Observable","rxjs/observable/ArrayObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/ArrayObservable");return i.Observable.fromArray=o.ArrayObservable.create,i.Observable.of=o.ArrayObservable.of,r.define=s,t.exports}),System.register("rxjs/observable/FromEventObservable",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/Subscription"],!0,function(require,e,t){function r(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function s(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function i(e){return!!e&&"[object NodeList]"===e.toString()}function o(e){return!!e&&"[object HTMLCollection]"===e.toString()}function n(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var a=System.global,u=a.define;a.define=void 0;var c=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},l=require("rxjs/Observable"),p=require("rxjs/util/tryCatch"),b=require("rxjs/util/errorObject"),h=require("rxjs/Subscription"),f=function(e){function t(t,r,s){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=s}return c(t,e),t.create=function(e,r,s){return new t(e,r,s)},t.setupSubscription=function(e,a,u,c){var l;if(i(e)||o(e))for(var p=0,b=e.length;b>p;p++)t.setupSubscription(e[p],a,u,c);else n(e)?(e.addEventListener(a,u),l=function(){return e.removeEventListener(a,u)}):s(e)?(e.on(a,u),l=function(){return e.off(a,u)}):r(e)&&(e.addListener(a,u),l=function(){return e.removeListener(a,u)});c.add(new h.Subscription(l))},t.prototype._subscribe=function(e){var r=this.sourceObj,s=this.eventName,i=this.selector,o=i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var s=p.tryCatch(i).apply(void 0,t);s===b.errorObject?e.error(b.errorObject.e):e.next(s)}:function(t){return e.next(t)};t.setupSubscription(r,s,o,e)},t}(l.Observable);return e.FromEventObservable=f,a.define=u,t.exports}),System.register("rxjs/observable/FromEventPatternObservable",["rxjs/Observable","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/Subscription"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject"),c=function(e){function t(t,r,s){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=s}return i(t,e),t.create=function(e,r,s){return new t(e,r,s)},t.prototype._subscribe=function(e){var t=this.addHandler,r=this.removeHandler,s=this.selector,i=s?function(t){var r=a.tryCatch(s).apply(null,arguments);r===u.errorObject?e.error(r.e):e.next(r)}:function(t){e.next(t)},o=a.tryCatch(t)(i);o===u.errorObject&&e.error(o.e),e.add(new n.Subscription(function(){r(i)}))},t}(o.Observable);return e.FromEventPatternObservable=c,r.define=s,t.exports}),System.register("rxjs/add/observable/fromPromise",["rxjs/Observable","rxjs/observable/PromiseObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/PromiseObservable");return i.Observable.fromPromise=o.PromiseObservable.create,r.define=s,t.exports}),System.register("rxjs/util/isNumeric",["rxjs/util/isArray"],!0,function(require,e,t){function r(e){return!o.isArray(e)&&e-parseFloat(e)+1>=0}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/util/isArray");return e.isNumeric=r,s.define=i,t.exports}),System.register("rxjs/util/Immediate",["rxjs/util/root"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/util/root"),o=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function r(e){delete r.instance.tasksByHandle[e]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=function i(){var e=i,t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return s.handler=e,s.args=t,s},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function i(r){var s=i.instance;r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&s.runIfPresent(+r.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var s=function o(){var e=o,t=e.messagePrefix,r=e.instance,s=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+s,"*"),s};return s.instance=this,s.messagePrefix=t,s},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function s(){var e=s,t=e.channel,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return t.port2.postMessage(i),i};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function t(){var e=t.instance,r=e.root,s=r.document,i=s.documentElement,o=e.addFromSetImmediateArguments(arguments),n=s.createElement("script");return n.onreadystatechange=function(){e.runIfPresent(o),n.onreadystatechange=null,i.removeChild(n),n=null},i.appendChild(n),o};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function t(){var e=t.instance,r=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,r),0),r};return e.instance=this,e},e}();return e.ImmediateDefinition=o,e.Immediate=new o(i.root),r.define=s,t.exports}),System.register("rxjs/scheduler/FutureAction",["rxjs/util/root","rxjs/Subscription"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/root"),n=require("rxjs/Subscription"),a=function(e){function t(t,r){e.call(this),this.scheduler=t,this.work=r}return i(t,e),t.prototype.execute=function(){if(this.isUnsubscribed)throw new Error("How did did we execute a canceled Action?");this.work(this.state)},t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this.isUnsubscribed?this:this._schedule(e,t)},t.prototype._schedule=function(e,t){var r=this;void 0===t&&(t=0),this.delay=t,this.state=e;var s=this.id;return null!=s&&(this.id=void 0,o.root.clearTimeout(s)),this.id=o.root.setTimeout(function(){r.id=null;var e=r.scheduler;e.actions.push(r),e.flush()},t),this},t.prototype._unsubscribe=function(){var e=this,t=e.id,r=e.scheduler,s=r.actions,i=s.indexOf(this);null!=t&&(this.id=null,o.root.clearTimeout(t)),-1!==i&&s.splice(i,1),this.work=null,this.state=null,this.scheduler=null},t}(n.Subscription);return e.FutureAction=a,r.define=s,t.exports}),System.register("rxjs/scheduler/QueueAction",["rxjs/scheduler/FutureAction"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/scheduler/FutureAction"),n=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),r>0)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var s=this.scheduler;return s.actions.push(this),s.flush(),this},t}(o.FutureAction);return e.QueueAction=n,r.define=s,t.exports}),System.register("rxjs/util/noop",[],!0,function(require,e,t){function r(){}var s=System.global,i=s.define;return s.define=void 0,e.noop=r,s.define=i,t.exports}),System.register("rxjs/observable/RangeObservable",["rxjs/Observable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=function(e){function t(t,r,s){e.call(this),this.start=t,this.end=r,this.scheduler=s}return i(t,e),t.create=function(e,r,s){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,s)},t.dispatch=function(e){var t=e.start,r=e.index,s=e.end,i=e.subscriber;return r>=s?void i.complete():(i.next(t),void(i.isUnsubscribed||(e.index=r+1,e.start=t+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,s=this.start,i=this.end,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,end:i,start:s,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(s++),e.isUnsubscribed)break}},t}(o.Observable);return e.RangeObservable=n,r.define=s,t.exports}),System.register("rxjs/observable/ErrorObservable",["rxjs/Observable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return i(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error,r=e.subscriber;r.error(t)},t.prototype._subscribe=function(e){var r=this.error,s=this.scheduler;return s?s.schedule(t.dispatch,0,{error:r,subscriber:e}):void e.error(r)},t}(o.Observable);return e.ErrorObservable=n,r.define=s,t.exports}),System.register("rxjs/util/isDate",[],!0,function(require,e,t){function r(e){return e instanceof Date&&!isNaN(+e)}var s=System.global,i=s.define;return s.define=void 0,e.isDate=r,s.define=i,t.exports}),System.register("rxjs/operator/zip",["rxjs/observable/ArrayObservable","rxjs/util/isArray","rxjs/Subscriber","rxjs/OuterSubscriber","rxjs/util/subscribeToResult","rxjs/util/SymbolShim"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),s.apply(this,e)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new a.ArrayObservable(e).lift(new h(r))}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/observable/ArrayObservable"),u=require("rxjs/util/isArray"),c=require("rxjs/Subscriber"),l=require("rxjs/OuterSubscriber"),p=require("rxjs/util/subscribeToResult"),b=require("rxjs/util/SymbolShim");e.zipProto=r,e.zipStatic=s;var h=function(){function e(e){this.project=e}return e.prototype.call=function(e){return new f(e,this.project)},e}();e.ZipOperator=h;var f=function(e){function t(t,r,s){void 0===s&&(s=Object.create(null)),e.call(this,t),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=s}return n(t,e),t.prototype._next=function(e){var t=this.iterators,r=this.index++;u.isArray(e)?t.push(new v(e)):"function"==typeof e[b.SymbolShim.iterator]?t.push(new d(e[b.SymbolShim.iterator]())):t.push(new x(this.destination,this,e,r))},t.prototype._complete=function(){var e=this.iterators,t=e.length;this.active=t;for(var r=0;t>r;r++){var s=e[r];s.stillUnsubscribed?this.add(s.subscribe(s,r)):this.active--}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,s=0;t>s;s++){var i=e[s];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,n=[],s=0;t>s;s++){var i=e[s],a=i.next();if(i.hasCompleted()&&(o=!0),a.done)return void r.complete();n.push(a.value)}this.project?this._tryProject(n):r.next(n),o&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(c.Subscriber);e.ZipSubscriber=f;var d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),v=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[b.SymbolShim.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),x=function(e){function t(t,r,s,i){e.call(this,t),this.parent=r,this.observable=s,this.index=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(t,e),t.prototype[b.SymbolShim.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,s,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return p.subscribeToResult(this,this.observable,this,t)},t}(l.OuterSubscriber);return i.define=o,t.exports}),System.register("rxjs/operator/buffer",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.buffer=r;var u=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e){return new c(e,this.closingNotifier)},e}(),c=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,s,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/bufferCount",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=null),this.lift(new a(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.bufferCount=r;var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t}return e.prototype.call=function(e){return new u(e,this.bufferSize,this.startBufferEvery)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.bufferSize=r,this.startBufferEvery=s,this.buffers=[[]],this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.count+=1,r=this.destination,s=this.bufferSize,i=null==this.startBufferEvery?s:this.startBufferEvery,o=this.buffers,n=o.length,a=-1;t%i===0&&o.push([]);for(var u=0;n>u;u++){var c=o[u];c.push(e),c.length===s&&(a=u,r.next(c))}-1!==a&&o.splice(a,1)},t.prototype._complete=function(){for(var t=this.destination,r=this.buffers;r.length>0;){var s=r.shift();s.length>0&&t.next(s)}e.prototype._complete.call(this)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/bufferTime",["rxjs/Subscriber","rxjs/scheduler/asap"],!0,function(require,e,t){function r(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=l.asap),this.lift(new p(e,t,r))}function s(e){var t=e.subscriber,r=e.buffer;r&&t.closeBuffer(r),e.buffer=t.openBuffer(),t.isUnsubscribed||this.schedule(e,e.bufferTimeSpan)}function i(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,s=e.subscriber,i=e.scheduler,n=s.openBuffer(),a=this;s.isUnsubscribed||(a.add(i.schedule(o,r,{subscriber:s,buffer:n})),a.schedule(e,t))}function o(e){var t=e.subscriber,r=e.buffer;t.closeBuffer(r)}var n=System.global,a=n.define;n.define=void 0;var u=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=require("rxjs/Subscriber"),l=require("rxjs/scheduler/asap");e.bufferTime=r;var p=function(){function e(e,t,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e){return new b(e,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler)},e}(),b=function(e){function t(t,r,n,a){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.scheduler=a,this.buffers=[];var u=this.openBuffer();if(null!==n&&n>=0){var c={subscriber:this,buffer:u},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:a};this.add(a.schedule(o,r,c)),this.add(a.schedule(i,n,l))}else{var p={subscriber:this,buffer:u,bufferTimeSpan:r};this.add(a.schedule(s,r,p))}}return u(t,e),t.prototype._next=function(e){for(var t=this.buffers,r=t.length,s=0;r>s;s++)t[s].push(e)},t.prototype._error=function(t){this.buffers.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,r=t.buffers,s=t.destination;r.length>0;)s.next(r.shift());e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffers=null},t.prototype.openBuffer=function(){var e=[];return this.buffers.push(e),e},t.prototype.closeBuffer=function(e){this.destination.next(e);var t=this.buffers;t.splice(t.indexOf(e),1)},t}(c.Subscriber);return n.define=a,t.exports}),System.register("rxjs/operator/bufferToggle",["rxjs/Subscriber","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){function r(e,t){return this.lift(new l(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Subscription"),u=require("rxjs/util/tryCatch"),c=require("rxjs/util/errorObject");e.bufferToggle=r;var l=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e){return new p(e,this.openings,this.closingSelector)},e}(),p=function(e){function t(t,r,s){e.call(this,t),this.openings=r,this.closingSelector=s,this.contexts=[],this.add(this.openings.subscribe(new b(this)))}return o(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,s=0;r>s;s++)t[s].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var s=r.shift();s.subscription.unsubscribe(),s.buffer=null,s.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.openBuffer=function(e){var t=this.closingSelector,r=this.contexts,s=u.tryCatch(t)(e);if(s===c.errorObject)this._error(c.errorObject.e);else{var i={buffer:[],subscription:new a.Subscription};r.push(i);var o=new h(this,i),n=s.subscribe(o);i.subscription.add(n),this.add(n)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(null!==t){var r=e.buffer,s=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(s),s.unsubscribe()}},t}(n.Subscriber),b=function(e){function t(t){e.call(this,null),this.parent=t}return o(t,e),t.prototype._next=function(e){this.parent.openBuffer(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){},t}(n.Subscriber),h=function(e){function t(t,r){e.call(this,null),this.parent=t,this.context=r}return o(t,e),t.prototype._next=function(){this.parent.closeBuffer(this.context)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent.closeBuffer(this.context)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/bufferWhen",["rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new p(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscription"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject"),c=require("rxjs/OuterSubscriber"),l=require("rxjs/util/subscribeToResult");e.bufferWhen=r;var p=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e){return new b(e,this.closingSelector)},e}(),b=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,s,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=a.tryCatch(this.closingSelector)();r===u.errorObject?this.error(u.errorObject.e):(e=new n.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(l.subscribeToResult(this,r)),this.subscribing=!1)},t}(c.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/scheduler/queue",["rxjs/scheduler/QueueScheduler"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/scheduler/QueueScheduler");return e.queue=new i.QueueScheduler,r.define=s,t.exports}),System.register("rxjs/observable/ConnectableObservable",["rxjs/Observable","rxjs/Subscriber","rxjs/Subscription"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/Subscriber"),a=require("rxjs/Subscription"),u=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this.subject;return e&&!e.isUnsubscribed?e:this.subject=this.subjectFactory()},t.prototype.connect=function(){var e=this.source,t=this.subscription;return t&&!t.isUnsubscribed?t:(t=e.subscribe(this.getSubject()),t.add(new c(this)),this.subscription=t)},t.prototype.refCount=function(){return new l(this)},t.prototype._closeSubscription=function(){this.subject=null,this.subscription=null},t}(o.Observable);e.ConnectableObservable=u;var c=function(e){function t(t){e.call(this),this.connectable=t}return i(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;e._closeSubscription(),this.connectable=null},t}(a.Subscription),l=function(e){function t(t,r){void 0===r&&(r=0),e.call(this),this.connectable=t,this.refCount=r}return i(t,e),t.prototype._subscribe=function(e){var t=this.connectable,r=new p(e,this),s=t.subscribe(r);return s.isUnsubscribed||1!==++this.refCount||(r.connection=this.connection=t.connect()),s},t}(o.Observable),p=function(e){function t(t,r){e.call(this,null),this.destination=t,this.refCountObservable=r,this.connection=r.connection,t.add(this)}return i(t,e),t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this._resetConnectable(),this.destination.error(e)},t.prototype._complete=function(){this._resetConnectable(),this.destination.complete()},t.prototype._resetConnectable=function(){var e=this.refCountObservable,t=e.connection,r=this.connection;r&&r===t&&(e.refCount=0,t.unsubscribe(),e.connection=null,this.unsubscribe())},t.prototype._unsubscribe=function(){var e=this.refCountObservable;if(0!==e.refCount&&0===--e.refCount){var t=e.connection,r=this.connection;r&&r===t&&(t.unsubscribe(),e.connection=null)}},t}(n.Subscriber);return r.define=s,t.exports}),System.register("rxjs/operator/catch",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){var t=new a(e),r=this.lift(t);return t.caught=r}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e._catch=r;var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e){return new u(e,this.selector,this.caught)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.selector=r,this.caught=s}return o(t,e),t.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void this.destination.error(e)}this._innerSub(t)}},t.prototype._innerSub=function(e){this.unsubscribe(),this.destination.remove(this),e.subscribe(this.destination)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/combineAll",["rxjs/operator/combineLatest"],!0,function(require,e,t){function r(e){return this.lift(new o.CombineLatestOperator(e))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/combineLatest");return e.combineAll=r,s.define=i,t.exports}),System.register("rxjs/add/operator/combineLatest",["rxjs/Observable","rxjs/operator/combineLatest"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/combineLatest");return i.Observable.prototype.combineLatest=o.combineLatest,r.define=s,t.exports}),System.register("rxjs/add/operator/concat",["rxjs/Observable","rxjs/operator/concat"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/concat");return i.Observable.prototype.concat=o.concat,r.define=s,t.exports}),System.register("rxjs/operator/concatAll",["rxjs/operator/mergeAll"],!0,function(require,e,t){function r(){return this.lift(new o.MergeAllOperator(1))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/mergeAll");return e.concatAll=r,s.define=i,t.exports}),System.register("rxjs/operator/mergeMap",["rxjs/util/subscribeToResult","rxjs/OuterSubscriber"],!0,function(require,e,t){function r(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new u(e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/util/subscribeToResult"),a=require("rxjs/OuterSubscriber");e.mergeMap=r;var u=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e){return new c(e,this.project,this.resultSelector,this.concurrent)},e}();e.MergeMapOperator=u;var c=function(e){function t(t,r,s,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=s,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(n.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,s,i){this.resultSelector?this._notifyResultSelector(e,t,r,s):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,s){var i;try{i=this.resultSelector(e,t,r,s)}catch(o){return void this.destination.error(o)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);return e.MergeMapSubscriber=c,s.define=i,t.exports}),System.register("rxjs/operator/mergeMapTo",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new u(e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.mergeMapTo=r;var u=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e){return new c(e,this.ish,this.resultSelector,this.concurrent)},e}();e.MergeMapToOperator=u;var c=function(e){function t(t,r,s,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=s,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,s=this.ish,i=this.destination;this.active++,this._innerSub(s,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,s,i){this.add(a.subscribeToResult(this,e,s,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,s,i){var o=this,n=o.resultSelector,a=o.destination;n?this.trySelectResult(e,t,r,s):a.next(t)},t.prototype.trySelectResult=function(e,t,r,s){var i,o=this,n=o.resultSelector,a=o.destination;try{i=n(e,t,r,s)}catch(u){return void a.error(u)}a.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber);return e.MergeMapToSubscriber=c,s.define=i,t.exports}),System.register("rxjs/operator/count",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return this.lift(new a(e,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.count=r;var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e){return new u(e,this.predicate,this.source)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.predicate=r,this.source=s,this.count=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/dematerialize",["rxjs/Subscriber"],!0,function(require,e,t){function r(){return this.lift(new a)}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.dematerialize=r;var a=function(){function e(){}return e.prototype.call=function(e){return new u(e)},e}(),u=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/debounce",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.debounce=r;var u=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new c(e,this.durationSelector)},e}(),c=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return o(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=a.subscribeToResult(this,t),r.isUnsubscribed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,s,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/debounceTime",["rxjs/Subscriber","rxjs/scheduler/asap"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=u.asap),this.lift(new c(e,t))}function s(e){e.debouncedNext()}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/Subscriber"),u=require("rxjs/scheduler/asap");e.debounceTime=r;var c=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e){return new l(e,this.dueTime,this.scheduler)},e}(),l=function(e){function t(t,r,s){e.call(this,t),this.dueTime=r,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber);return i.define=o,t.exports}),System.register("rxjs/operator/defaultIfEmpty",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return void 0===e&&(e=null),this.lift(new a(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.defaultIfEmpty=r;var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e){return new u(e,this.defaultValue)},e}(),u=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/delay",["rxjs/scheduler/asap","rxjs/util/isDate","rxjs/Subscriber","rxjs/Notification"],!0,function(require,e,t){function r(e,t){void 0===t&&(t=n.asap);var r=a.isDate(e),s=r?+e-t.now():Math.abs(e);return this.lift(new l(s,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/scheduler/asap"),a=require("rxjs/util/isDate"),u=require("rxjs/Subscriber"),c=require("rxjs/Notification");e.delay=r;var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new p(e,this.delay,this.scheduler)},e}(),p=function(e){function t(t,r,s){e.call(this,t),this.delay=r,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}return o(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,s=e.scheduler,i=e.destination;r.length>0&&r[0].time-s.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-s.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var t=this.scheduler,r=new b(t.now()+this.delay,e);this.queue.push(r),this.active===!1&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(c.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},t}(u.Subscriber),b=function(){function e(e,t){this.time=e,this.notification=t}return e}();return s.define=i,t.exports}),System.register("rxjs/operator/delayWhen",["rxjs/Subscriber","rxjs/Observable","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t){return t?new b(this,t).lift(new l(e)):this.lift(new l(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Observable"),u=require("rxjs/OuterSubscriber"),c=require("rxjs/util/subscribeToResult");e.delayWhen=r;var l=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e){return new p(e,this.delayDurationSelector)},e}(),p=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return o(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=c.subscribeToResult(this,e,t);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(u.OuterSubscriber),b=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return o(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new h(e,this.source))},t}(a.Observable),h=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return o(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/distinctUntilChanged",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){function r(e,t){return this.lift(new c(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject");e.distinctUntilChanged=r;var c=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e){return new l(e,this.compare,this.keySelector)},e}(),l=function(e){function t(t,r,s){e.call(this,t),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=a.tryCatch(this.keySelector)(e),r===u.errorObject))return this.destination.error(u.errorObject.e);var s=!1;if(this.hasKey){if(s=a.tryCatch(this.compare)(this.key,r),s===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;Boolean(s)===!1&&(this.key=r,this.destination.next(e))},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/do",["rxjs/Subscriber","rxjs/util/noop"],!0,function(require,e,t){function r(e,t,r){var s;return e&&"object"==typeof e?(s=e.next,t=e.error,r=e.complete):s=e,this.lift(new u(s||a.noop,t||a.noop,r||a.noop))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/noop");e._do=r;var u=function(){function e(e,t,r){this.next=e,this.error=t,this.complete=r}return e.prototype.call=function(e){return new c(e,this.next,this.error,this.complete)},e}(),c=function(e){function t(t,r,s,i){e.call(this,t),this.__next=r,this.__error=s,this.__complete=i}return o(t,e),t.prototype._next=function(e){try{this.__next(e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this.__error(e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this.__complete()}catch(e){return void this.destination.error(e)}this.destination.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/expand",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=1>(t||0)?Number.POSITIVE_INFINITY:t,this.lift(new l(e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/util/tryCatch"),a=require("rxjs/util/errorObject"),u=require("rxjs/OuterSubscriber"),c=require("rxjs/util/subscribeToResult");e.expand=r;var l=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e){return new p(e,this.project,this.concurrent,this.scheduler)},e}();e.ExpandOperator=l;var p=function(e){function t(t,r,s,i){e.call(this,t),this.project=r,this.concurrent=s,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,s<Number.POSITIVE_INFINITY&&(this.buffer=[])}return o(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,s=e.value,i=e.index;t.subscribeToProjection(r,s,i)},t.prototype._next=function(e){var r=this.destination;if(r.isUnsubscribed)return void this._complete();var s=this.index++;if(this.active<this.concurrent){r.next(e);var i=n.tryCatch(this.project)(e,s);if(i===a.errorObject)r.error(a.errorObject.e);else if(this.scheduler){var o={subscriber:this,result:i,value:e,index:s};this.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,s)}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(c.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,s,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(u.OuterSubscriber);return e.ExpandSubscriber=p,s.define=i,t.exports}),System.register("rxjs/operator/filter",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){return this.lift(new a(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.filter=r;var a=function(){function e(e,t){this.select=e,this.thisArg=t}return e.prototype.call=function(e){return new u(e,this.select,this.thisArg)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.select=r,this.thisArg=s,this.count=0,this.select=r}return o(t,e),t.prototype._next=function(e){var t;try{t=this.select.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/finally",["rxjs/Subscriber","rxjs/Subscription"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Subscription");e._finally=r;var u=function(){function e(e){this.finallySelector=e}return e.prototype.call=function(e){return new c(e,this.finallySelector)},e}(),c=function(e){function t(t,r){e.call(this,t),this.add(new a.Subscription(r))}return o(t,e),t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/util/EmptyError",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.call(this,"no elements in sequence"),this.name="EmptyError"}return i(t,e),t}(Error);return e.EmptyError=o,r.define=s,t.exports}),System.register("rxjs/Operator",["rxjs/Subscriber"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Subscriber"),o=function(){function e(){}return e.prototype.call=function(e){return new i.Subscriber(e)},e}();return e.Operator=o,r.define=s,t.exports}),System.register("rxjs/util/MapPolyfill",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype["delete"]=function(e){var t=this._keys.indexOf(e);return-1===t?!1:(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();return e.MapPolyfill=i,r.define=s,t.exports}),System.register("rxjs/util/FastMap",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=function(){function e(){this.values={}}return e.prototype["delete"]=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var s in r)r.hasOwnProperty(s)&&null!==r[s]&&e.call(t,r[s],s)},e.prototype.clear=function(){this.values={}},e}();return e.FastMap=i,r.define=s,t.exports}),System.register("rxjs/operator/ignoreElements",["rxjs/Subscriber","rxjs/util/noop"],!0,function(require,e,t){function r(){return this.lift(new u)}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/noop");e.ignoreElements=r;var u=function(){function e(){}return e.prototype.call=function(e){return new c(e)},e}(),c=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._next=function(e){a.noop()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/inspect",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new l(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/util/tryCatch"),a=require("rxjs/util/errorObject"),u=require("rxjs/OuterSubscriber"),c=require("rxjs/util/subscribeToResult");e.inspect=r;var l=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new p(e,this.durationSelector)},e}(),p=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=n.tryCatch(this.durationSelector)(e);t===a.errorObject?this.destination.error(a.errorObject.e):this.add(this.throttled=c.subscribeToResult(this,t))}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,s=e.throttled;s&&(this.remove(s),this.throttled=null,s.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,s){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(u.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/inspectTime",["rxjs/scheduler/asap","rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=a.asap),this.lift(new c(e,t))}function s(e){e.clearThrottle()}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/scheduler/asap"),u=require("rxjs/Subscriber");e.inspectTime=r;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new l(e,this.delay,this.scheduler)},e}(),l=function(e){function t(t,r,s){e.call(this,t),this.delay=r,this.scheduler=s,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(s,this.delay,this))},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,s=e.throttled;s&&(this.remove(s),this.throttled=null,s.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t}(u.Subscriber);return i.define=o,t.exports}),System.register("rxjs/operator/every",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){var r=this;return r.lift(new a(e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.every=r;var a=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e){return new u(e,this.predicate,this.thisArg,this.source)},e}(),u=function(e){function t(t,r,s,i){e.call(this,t),this.predicate=r,this.thisArg=s,this.source=i,this.index=0,this.thisArg=s||this}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/last",["rxjs/Subscriber","rxjs/util/EmptyError"],!0,function(require,e,t){function r(e,t,r){return this.lift(new u(e,t,r,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/EmptyError");e.last=r;var u=function(){function e(e,t,r,s){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=s}return e.prototype.call=function(e){return new c(e,this.predicate,this.resultSelector,this.defaultValue,this.source)},e}(),c=function(e){function t(t,r,s,i,o){e.call(this,t),this.predicate=r,this.resultSelector=s,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return o(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(s){return void this.destination.error(s)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(s){return void this.destination.error(s)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/let",[],!0,function(require,e,t){function r(e){return e(this)}var s=System.global,i=s.define;return s.define=void 0,e.letProto=r,s.define=i,t.exports}),System.register("rxjs/operator/map",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e){return new u(e,this.project,this.thisArg)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.project=r,this.count=0,this.thisArg=s||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/mapTo",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return this.lift(new a(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.mapTo=r;var a=function(){function e(e){this.value=e}return e.prototype.call=function(e){return new u(e,this.value)},e}(),u=function(e){function t(t,r){e.call(this,t),this.value=r}return o(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/materialize",["rxjs/Subscriber","rxjs/Notification"],!0,function(require,e,t){function r(){return this.lift(new u)}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Notification");e.materialize=r;var u=function(){function e(){}return e.prototype.call=function(e){return new c(e)},e}(),c=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){this.destination.next(a.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.Notification.createComplete()),e.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/add/operator/merge",["rxjs/Observable","rxjs/operator/merge"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/merge");return i.Observable.prototype.merge=o.merge,r.define=s,t.exports}),System.register("rxjs/add/operator/mergeAll",["rxjs/Observable","rxjs/operator/mergeAll"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/mergeAll");return i.Observable.prototype.mergeAll=o.mergeAll,r.define=s,t.exports}),System.register("rxjs/add/operator/mergeMap",["rxjs/Observable","rxjs/operator/mergeMap"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/mergeMap");return i.Observable.prototype.mergeMap=o.mergeMap,i.Observable.prototype.flatMap=o.mergeMap,r.define=s,t.exports}),System.register("rxjs/add/operator/mergeMapTo",["rxjs/Observable","rxjs/operator/mergeMapTo"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/mergeMapTo");return i.Observable.prototype.mergeMapTo=o.mergeMapTo,r.define=s,t.exports}),System.register("rxjs/add/operator/multicast",["rxjs/Observable","rxjs/operator/multicast"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/multicast");return i.Observable.prototype.multicast=o.multicast,r.define=s,t.exports}),System.register("rxjs/add/operator/observeOn",["rxjs/Observable","rxjs/operator/observeOn"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/observeOn");return i.Observable.prototype.observeOn=o.observeOn,r.define=s,t.exports}),System.register("rxjs/util/not",[],!0,function(require,e,t){function r(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}var s=System.global,i=s.define;return s.define=void 0,e.not=r,s.define=i,t.exports}),System.register("rxjs/operator/pluck",["rxjs/operator/map"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("List of properties cannot be empty.");return n.map.call(this,s(e,r))}function s(e,t){var r=function(r){for(var s=r,i=0;t>i;i++){var o=s[e[i]];if("undefined"==typeof o)return;s=o}return s};return r}var i=System.global,o=i.define;i.define=void 0;var n=require("rxjs/operator/map");return e.pluck=r,i.define=o,t.exports}),System.register("rxjs/operator/publish",["rxjs/Subject","rxjs/operator/multicast"],!0,function(require,e,t){function r(){return n.multicast.call(this,new o.Subject)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/Subject"),n=require("rxjs/operator/multicast");return e.publish=r,s.define=i,t.exports}),System.register("rxjs/subject/BehaviorSubject",["rxjs/Subject","rxjs/util/throwError","rxjs/util/ObjectUnsubscribedError"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subject"),n=require("rxjs/util/throwError"),a=require("rxjs/util/ObjectUnsubscribedError"),u=function(e){function t(t){e.call(this),this._value=t}return i(t,e),t.prototype.getValue=function(){if(this.hasErrored)n.throwError(this.errorValue);else{if(!this.isUnsubscribed)return this._value;n.throwError(new a.ObjectUnsubscribedError)}},Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.isUnsubscribed&&t.next(this._value),r},t.prototype._next=function(t){e.prototype._next.call(this,this._value=t)},t.prototype._error=function(t){this.hasErrored=!0,e.prototype._error.call(this,this.errorValue=t)},t}(o.Subject);return e.BehaviorSubject=u,r.define=s,t.exports}),System.register("rxjs/add/operator/publishReplay",["rxjs/Observable","rxjs/operator/publishReplay"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/publishReplay");return i.Observable.prototype.publishReplay=o.publishReplay,r.define=s,t.exports}),System.register("rxjs/operator/publishLast",["rxjs/subject/AsyncSubject","rxjs/operator/multicast"],!0,function(require,e,t){function r(){return n.multicast.call(this,new o.AsyncSubject)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/subject/AsyncSubject"),n=require("rxjs/operator/multicast");return e.publishLast=r,s.define=i,t.exports}),System.register("rxjs/add/operator/race",["rxjs/Observable","rxjs/operator/race"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/race");return i.Observable.prototype.race=o.race,r.define=s,t.exports}),System.register("rxjs/operator/reduce",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){return this.lift(new a(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.reduce=r;var a=function(){function e(e,t){this.project=e,this.seed=t}return e.prototype.call=function(e){return new u(e,this.project,this.seed)},e}();e.ReduceOperator=a;var u=function(e){function t(t,r,s){e.call(this,t),this.hasValue=!1,this.acc=s,this.project=r,this.hasSeed="undefined"!=typeof s}return o(t,e),t.prototype._next=function(e){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(e):(this.acc=e,this.hasValue=!0)},t.prototype._tryReduce=function(e){var t;try{t=this.project(this.acc,e)}catch(r){return void this.destination.error(r)}this.acc=t},t.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},t}(n.Subscriber);return e.ReduceSubscriber=u,s.define=i,t.exports}),System.register("rxjs/operator/repeat",["rxjs/Subscriber","rxjs/observable/EmptyObservable"],!0,function(require,e,t){function r(e){return void 0===e&&(e=-1),0===e?new a.EmptyObservable:0>e?this.lift(new u(-1,this)):this.lift(new u(e-1,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/observable/EmptyObservable");e.repeat=r;var u=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e){return new c(e,this.count,this.source)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.count=r,this.source=s}return o(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,r=t.source,s=t.count;if(0===s)return e.prototype.complete.call(this);s>-1&&(this.count=s-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,r.subscribe(this)}},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/retry",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return void 0===e&&(e=-1),this.lift(new a(e,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.retry=r;var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e){return new u(e,this.count,this.source)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.count=r,this.source=s}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this,s=r.source,i=r.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,s.subscribe(this)}},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/retryWhen",["rxjs/Subject","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new p(e,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subject"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject"),c=require("rxjs/OuterSubscriber"),l=require("rxjs/util/subscribeToResult");e.retryWhen=r;var p=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e){return new b(e,this.notifier,this.source)},e}(),b=function(e){function t(t,r,s){e.call(this,t),this.notifier=r,this.source=s}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,s=this.retries,i=this.retriesSubscription;if(s)this.errors=null,this.retriesSubscription=null;else{if(r=new n.Subject,s=a.tryCatch(this.notifier)(r),s===u.errorObject)return e.prototype.error.call(this,u.errorObject.e);i=l.subscribeToResult(this,s)}this.unsubscribe(),this.isUnsubscribed=!1,this.errors=r,this.retries=s,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,r=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,s,i){var o=this,n=o.errors,a=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,this.errors=n,this.retries=a,this.retriesSubscription=u,this.source.subscribe(this)},t}(c.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/sample",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.sample=r;var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new c(e,this.notifier)},e}(),c=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,s,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/sampleTime",["rxjs/Subscriber","rxjs/scheduler/asap"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=u.asap),this.lift(new c(e,t))}function s(e){var t=e.subscriber,r=e.delay;t.notifyNext(),this.schedule(e,r)}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/Subscriber"),u=require("rxjs/scheduler/asap");e.sampleTime=r;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new l(e,this.delay,this.scheduler)},e}(),l=function(e){function t(t,r,i){e.call(this,t),this.delay=r,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(s,r,{subscriber:this,delay:r}))}return n(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(a.Subscriber);return i.define=o,t.exports}),System.register("rxjs/operator/scan",["rxjs/Subscriber"],!0,function(require,e,t){function r(e,t){return this.lift(new a(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.scan=r;var a=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e){return new u(e,this.accumulator,this.seed)},e}(),u=function(e){function t(t,r,s){e.call(this,t),this.accumulator=r,this.accumulatorSet=!1,this.seed=s,this.accumulator=r,this.accumulatorSet="undefined"!=typeof s}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.accumulatorSet=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):(this.seed=e,void this.destination.next(e))},t.prototype._tryNext=function(e){var t;try{t=this.accumulator(this.seed,e)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/share",["rxjs/operator/multicast","rxjs/Subject"],!0,function(require,e,t){function r(){return new a.Subject}function s(){return n.multicast.call(this,r).refCount()}var i=System.global,o=i.define;i.define=void 0;var n=require("rxjs/operator/multicast"),a=require("rxjs/Subject");return e.share=s,i.define=o,t.exports}),System.register("rxjs/operator/single",["rxjs/Subscriber","rxjs/util/EmptyError"],!0,function(require,e,t){function r(e){return this.lift(new u(e,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/EmptyError");e.single=r;var u=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e){return new c(e,this.predicate,this.source)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.predicate=r,this.source=s,this.seenValue=!1,this.index=0}return o(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.predicate;this.index++,t?this.tryNext(e):this.applySingleValue(e)},t.prototype.tryNext=function(e){try{var t=this.predicate(e,this.index,this.source);t&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new a.EmptyError)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/skip",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return this.lift(new a(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.skip=r;var a=function(){function e(e){this.total=e}return e.prototype.call=function(e){return new u(e,this.total)},e}(),u=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/skipUntil",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.skipUntil=r;var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new c(e,this.notifier)},e}(),c=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,s,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/skipWhile",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return this.lift(new a(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.skipWhile=r;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e){return new u(e,this.predicate)},e}(),u=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(r){this.destination.error(r)}},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/startWith",["rxjs/observable/ArrayObservable","rxjs/observable/ScalarObservable","rxjs/observable/EmptyObservable","rxjs/operator/concat","rxjs/util/isScheduler"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];c.isScheduler(r)?e.pop():r=null;var s=e.length;return 1===s?u.concatStatic(new n.ScalarObservable(e[0],r),this):s>1?u.concatStatic(new o.ArrayObservable(e,r),this):u.concatStatic(new a.EmptyObservable(r),this)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/observable/ArrayObservable"),n=require("rxjs/observable/ScalarObservable"),a=require("rxjs/observable/EmptyObservable"),u=require("rxjs/operator/concat"),c=require("rxjs/util/isScheduler");return e.startWith=r,s.define=i,t.exports}),System.register("rxjs/observable/SubscribeOnObservable",["rxjs/Observable","rxjs/scheduler/asap","rxjs/util/isNumeric"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/scheduler/asap"),a=require("rxjs/util/isNumeric"),u=function(e){function t(t,r,s){void 0===r&&(r=0),void 0===s&&(s=n.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=s,(!a.isNumeric(r)||0>r)&&(this.delayTime=0),s&&"function"==typeof s.schedule||(this.scheduler=n.asap)}return i(t,e),t.create=function(e,r,s){return void 0===r&&(r=0),void 0===s&&(s=n.asap),new t(e,r,s)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return t.subscribe(r)},t.prototype._subscribe=function(e){var r=this.delayTime,s=this.source,i=this.scheduler;return i.schedule(t.dispatch,r,{source:s,subscriber:e})},t}(o.Observable);return e.SubscribeOnObservable=u,r.define=s,t.exports}),System.register("rxjs/operator/switch",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(){return this.lift(new u)}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e._switch=r;var u=function(){function e(){}return e.prototype.call=function(e){return new c(e)},e}(),c=function(e){function t(t){e.call(this,t),this.active=0,this.hasCompleted=!1}return o(t,e),t.prototype._next=function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=a.subscribeToResult(this,e))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},t.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))},t.prototype.notifyNext=function(e,t,r,s,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/switchMap",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t){return this.lift(new u(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.switchMap=r;var u=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e){return new c(e,this.project,this.resultSelector)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.project=r,this.resultSelector=s,this.index=0}return o(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(s){return void this.destination.error(s)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var s=this.innerSubscription;s&&s.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,s,i){this.resultSelector?this._tryNotifyNext(e,t,r,s):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,s){var i;try{i=this.resultSelector(e,t,r,s)}catch(o){return void this.destination.error(o)}this.destination.next(i)},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/switchMapTo",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t){return this.lift(new u(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.switchMapTo=r;var u=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e){return new c(e,this.observable,this.resultSelector)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.inner=r,this.resultSelector=s,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,s,i){var o=this,n=o.resultSelector,a=o.destination;n?this.tryResultSelector(e,t,r,s):a.next(t)},t.prototype.tryResultSelector=function(e,t,r,s){var i,o=this,n=o.resultSelector,a=o.destination;try{i=n(e,t,r,s)}catch(u){return void a.error(u)}a.next(i)},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/util/ArgumentOutOfRangeError",[],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.call(this,"argument out of range"),this.name="ArgumentOutOfRangeError"}return i(t,e),t}(Error);return e.ArgumentOutOfRangeError=o,r.define=s,t.exports}),System.register("rxjs/operator/takeLast",["rxjs/Subscriber","rxjs/util/ArgumentOutOfRangeError","rxjs/observable/EmptyObservable"],!0,function(require,e,t){function r(e){return 0===e?new u.EmptyObservable:this.lift(new c(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/ArgumentOutOfRangeError"),u=require("rxjs/observable/EmptyObservable");e.takeLast=r;var c=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e){return new l(e,this.total)},e}(),l=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0,this.index=0,this.ring=new Array(r)}return o(t,e),t.prototype._next=function(e){var t=this.index,r=this.ring,s=this.total,i=this.count;s>1?s>i?(this.count=i+1,this.index=t+1):0===t?this.index=++t:s>t?this.index=t+1:this.index=t=0:s>i&&(this.count=s),r[t]=e},t.prototype._complete=function(){for(var e=-1,t=this,r=t.ring,s=t.count,i=t.total,o=t.destination,n=1===i||i>s?0:this.index-1;++e<s;)e+n===i&&(n=i-e),o.next(r[e+n]);o.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/takeUntil",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.takeUntil=r;var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e){return new c(e,this.notifier)},e}(),c=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.complete()},t.prototype.notifyComplete=function(){},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/takeWhile",["rxjs/Subscriber"],!0,function(require,e,t){function r(e){return this.lift(new a(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.takeWhile=r;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e){return new u(e,this.predicate)},e}(),u=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return o(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(s){return void r.error(s)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/throttle",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new u(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.throttle=r;var u=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e){return new c(e,this.durationSelector)},e}(),c=function(e){function t(t,r){e.call(this,t),this.destination=t,this.durationSelector=r}return o(t,e),t.prototype._next=function(e){this.throttled||this.tryDurationSelector(e)},t.prototype.tryDurationSelector=function(e){var t=null;try{t=this.durationSelector(e)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(e,t)},t.prototype.emitAndThrottle=function(e,t){this.add(this.throttled=a.subscribeToResult(this,t)),this.destination.next(e)},t.prototype._unsubscribe=function(){var e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype.notifyNext=function(e,t,r,s,i){this._unsubscribe()},t.prototype.notifyComplete=function(){this._unsubscribe()},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/throttleTime",["rxjs/Subscriber","rxjs/scheduler/asap"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=u.asap),this.lift(new c(e,t))}function s(e){var t=e.subscriber;t.clearThrottle()}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/Subscriber"),u=require("rxjs/scheduler/asap");e.throttleTime=r;var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e){return new l(e,this.delay,this.scheduler)},e}(),l=function(e){function t(t,r,s){e.call(this,t),this.delay=r,this.scheduler=s}return n(t,e),t.prototype._next=function(e){this.throttled||(this.add(this.throttled=this.scheduler.schedule(s,this.delay,{subscriber:this})),this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(e.unsubscribe(),this.remove(e),this.throttled=null)},t}(a.Subscriber);return i.define=o,t.exports}),System.register("rxjs/operator/timeout",["rxjs/scheduler/asap","rxjs/util/isDate","rxjs/Subscriber"],!0,function(require,e,t){function r(e,t,r){void 0===t&&(t=null),void 0===r&&(r=n.asap);var s=a.isDate(e),i=s?+e-r.now():Math.abs(e);return this.lift(new c(i,s,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/scheduler/asap"),a=require("rxjs/util/isDate"),u=require("rxjs/Subscriber");e.timeout=r;var c=function(){function e(e,t,r,s){this.waitFor=e,this.absoluteTimeout=t,this.errorToSend=r,this.scheduler=s}return e.prototype.call=function(e){return new l(e,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler)},e}(),l=function(e){function t(t,r,s,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=s,this.errorToSend=i,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return o(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.notifyTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index;this.scheduler.schedule(t.dispatchTimeout,this.waitFor,{subscriber:this,index:e}),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},t}(u.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/timeoutWith",["rxjs/scheduler/asap","rxjs/util/isDate","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t,r){void 0===r&&(r=n.asap);var s=a.isDate(e),i=s?+e-r.now():Math.abs(e);return this.lift(new l(i,s,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/scheduler/asap"),a=require("rxjs/util/isDate"),u=require("rxjs/OuterSubscriber"),c=require("rxjs/util/subscribeToResult");e.timeoutWith=r;var l=function(){function e(e,t,r,s){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=s}return e.prototype.call=function(e){return new p(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler)},e}(),p=function(e){function t(t,r,s,i,o){e.call(this),this.destination=t,this.absoluteTimeout=r,this.waitFor=s,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,t.add(this),this.scheduleTimeout()}return o(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.handleTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index,r={subscriber:this,index:e};this.scheduler.schedule(t.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var e=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=c.subscribeToResult(this,e))}},t}(u.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/toArray",["rxjs/Subscriber"],!0,function(require,e,t){function r(){return this.lift(new a)}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber");e.toArray=r;var a=function(){function e(){}return e.prototype.call=function(e){return new u(e)},e}(),u=function(e){function t(t){e.call(this,t),this.array=[]}return o(t,e),t.prototype._next=function(e){this.array.push(e)},t.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/toPromise",["rxjs/util/root"],!0,function(require,e,t){function r(e){var t=this;if(e||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?e=o.root.Rx.config.Promise:o.root.Promise&&(e=o.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var s;t.subscribe(function(e){return s=e},function(e){return r(e)},function(){return e(s)})})}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/util/root");return e.toPromise=r,s.define=i,t.exports}),System.register("rxjs/operator/window",["rxjs/Subject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new c(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subject"),a=require("rxjs/OuterSubscriber"),u=require("rxjs/util/subscribeToResult");e.window=r;var c=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e){return new l(e,this.closingNotifier)},e}(),l=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingNotifier=r,this.add(u.subscribeToResult(this,r)),this.openWindow()}return o(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new n.Subject;t.add(r),t.next(r)},t}(a.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/windowCount",["rxjs/Subscriber","rxjs/Subject"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=0),this.lift(new u(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Subject");e.windowCount=r;var u=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e){return new c(e,this.windowSize,this.startWindowEvery)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=s,this.windows=[new a.Subject],this.count=0;var i=this.windows[0];t.add(i),t.next(i)}return o(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,s=this.windowSize,i=this.windows,o=i.length,n=0;o>n;n++)i[n].next(e);var u=this.count-s+1;if(u>=0&&u%t===0&&i.shift().complete(),++this.count%t===0){var c=new a.Subject;i.push(c),r.add(c),r.next(c)}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;)e.shift().complete();this.destination.complete()},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/operator/windowTime",["rxjs/Subscriber","rxjs/Subject","rxjs/scheduler/asap"],!0,function(require,e,t){function r(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=p.asap),this.lift(new b(e,t,r))}function s(e){var t=e.subscriber,r=e.windowTimeSpan,s=e.window;s&&s.complete(),e.window=t.openWindow(),this.schedule(e,r)}function i(e){var t=e.windowTimeSpan,r=e.subscriber,s=e.scheduler,i=e.windowCreationInterval,n=r.openWindow(),a=this,u={action:a,subscription:null},c={subscriber:r,window:n,context:u};u.subscription=s.schedule(o,t,c),a.add(u.subscription),a.schedule(e,i)}function o(e){var t=e.subscriber,r=e.window,s=e.context;s&&s.action&&s.subscription&&s.action.remove(s.subscription),t.closeWindow(r)}var n=System.global,a=n.define;n.define=void 0;var u=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=require("rxjs/Subscriber"),l=require("rxjs/Subject"),p=require("rxjs/scheduler/asap");e.windowTime=r;var b=function(){function e(e,t,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e){return new h(e,this.windowTimeSpan,this.windowCreationInterval,this.scheduler)},e}(),h=function(e){function t(t,r,n,a){if(e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.scheduler=a,this.windows=[],null!==n&&n>=0){var u=this.openWindow(),c={subscriber:this,window:u,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:a};this.add(a.schedule(o,r,c)),this.add(a.schedule(i,n,l))}else{var p=this.openWindow(),b={subscriber:this,window:p,windowTimeSpan:r};this.add(a.schedule(s,r,b))}}return u(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,s=0;r>s;s++){var i=t[s];i.isUnsubscribed||i.next(e)}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.isUnsubscribed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l.Subject;this.windows.push(e);var t=this.destination;return t.add(e),t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(c.Subscriber);return n.define=a,t.exports}),System.register("rxjs/operator/windowToggle",["rxjs/Subject","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e,t){return this.lift(new b(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subject"),a=require("rxjs/Subscription"),u=require("rxjs/util/tryCatch"),c=require("rxjs/util/errorObject"),l=require("rxjs/OuterSubscriber"),p=require("rxjs/util/subscribeToResult");e.windowToggle=r;var b=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e){return new h(e,this.openings,this.closingSelector)},e}(),h=function(e){function t(t,r,s){e.call(this,t),this.openings=r,this.closingSelector=s,this.contexts=[],this.add(this.openSubscription=p.subscribeToResult(this,r,r))}return o(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,s=0;r>s;s++)t[s].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var s=r.length,i=-1;++i<s;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,s=-1;++s<r;){var i=t[s];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var s=e[r];s.window.unsubscribe(),s.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,s,i){if(e===this.openings){var o=this.closingSelector,l=u.tryCatch(o)(t);if(l===c.errorObject)return this.error(c.errorObject.e);var b=new n.Subject,h=new a.Subscription,f={window:b,subscription:h};this.contexts.push(f);var d=p.subscribeToResult(this,l,f);d.context=f,h.add(d),this.destination.next(b)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context));},t.prototype.closeWindow=function(e){var t=this.contexts,r=t[e],s=r.window,i=r.subscription;t.splice(e,1),s.complete(),i.unsubscribe()},t}(l.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/windowWhen",["rxjs/Subject","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(e){return this.lift(new p(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subject"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject"),c=require("rxjs/OuterSubscriber"),l=require("rxjs/util/subscribeToResult");e.windowWhen=r;var p=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e){return new b(e,this.closingSelector)},e}(),b=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return o(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new n.Subject;this.destination.next(r);var s=a.tryCatch(this.closingSelector)();if(s===u.errorObject){var i=u.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=l.subscribeToResult(this,s)),this.add(r)},t}(c.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/operator/withLatestFrom",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;"function"==typeof e[e.length-1]&&(r=e.pop());var s=e;return this.lift(new u(s,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/OuterSubscriber"),a=require("rxjs/util/subscribeToResult");e.withLatestFrom=r;var u=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e){return new c(e,this.observables,this.project)},e}(),c=function(e){function t(t,r,s){e.call(this,t),this.observables=r,this.project=s,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;i>o;o++)this.toRespond.push(o);for(var o=0;i>o;o++){var n=r[o];this.add(a.subscribeToResult(this,n,n,o))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,s,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var n=o.indexOf(r);-1!==n&&o.splice(n,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(n.OuterSubscriber);return s.define=i,t.exports}),System.register("rxjs/add/operator/zip",["rxjs/Observable","rxjs/operator/zip"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/zip");return i.Observable.prototype.zip=o.zipProto,r.define=s,t.exports}),System.register("rxjs/operator/zipAll",["rxjs/operator/zip"],!0,function(require,e,t){function r(e){return this.lift(new o.ZipOperator(e))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/zip");return e.zipAll=r,s.define=i,t.exports}),System.register("rxjs/util/tryCatch",["rxjs/util/errorObject"],!0,function(require,e,t){function r(){try{return n.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function s(e){return n=e,r}var i=System.global,o=i.define;i.define=void 0;var n,a=require("rxjs/util/errorObject");return e.tryCatch=s,i.define=o,t.exports}),System.register("rxjs/observable/ArrayObservable",["rxjs/Observable","rxjs/observable/ScalarObservable","rxjs/observable/EmptyObservable","rxjs/util/isScheduler"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/observable/ScalarObservable"),a=require("rxjs/observable/EmptyObservable"),u=require("rxjs/util/isScheduler"),c=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return i(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var s=e[e.length-1];u.isScheduler(s)?e.pop():s=null;var i=e.length;return i>1?new t(e,s):1===i?new n.ScalarObservable(e[0],s):new a.EmptyObservable(s)},t.dispatch=function(e){var t=e.array,r=e.index,s=e.count,i=e.subscriber;return r>=s?void i.complete():(i.next(t[r]),void(i.isUnsubscribed||(e.index=r+1,this.schedule(e))))},t.prototype._subscribe=function(e){var r=0,s=this.array,i=s.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:s,index:r,count:i,subscriber:e});for(var n=0;i>n&&!e.isUnsubscribed;n++)e.next(s[n]);e.complete()},t}(o.Observable);return e.ArrayObservable=c,r.define=s,t.exports}),System.register("rxjs/util/subscribeToResult",["rxjs/util/root","rxjs/util/isArray","rxjs/util/isPromise","rxjs/Observable","rxjs/util/SymbolShim","rxjs/InnerSubscriber"],!0,function(require,e,t){function r(e,t,r,s){var i=new l.InnerSubscriber(e,r,s);if(!i.isUnsubscribed){if(t instanceof u.Observable)return t._isScalar?(i.next(t.value),void i.complete()):t.subscribe(i);if(n.isArray(t)){for(var p=0,b=t.length;b>p&&!i.isUnsubscribed;p++)i.next(t[p]);i.isUnsubscribed||i.complete()}else{if(a.isPromise(t))return t.then(function(e){i.isUnsubscribed||(i.next(e),i.complete())},function(e){return i.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),i;if("function"==typeof t[c.SymbolShim.iterator]){for(var h=0,f=t;h<f.length;h++){var d=f[h];if(i.next(d),i.isUnsubscribed)break}i.isUnsubscribed||i.complete()}else if("function"==typeof t[c.SymbolShim.observable]){var v=t[c.SymbolShim.observable]();if("function"==typeof v.subscribe)return v.subscribe(new l.InnerSubscriber(e,r,s));i.error("invalid observable")}else i.error(new TypeError("unknown type returned"))}}}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/util/root"),n=require("rxjs/util/isArray"),a=require("rxjs/util/isPromise"),u=require("rxjs/Observable"),c=require("rxjs/util/SymbolShim"),l=require("rxjs/InnerSubscriber");return e.subscribeToResult=r,s.define=i,t.exports}),System.register("rxjs/operator/concat",["rxjs/util/isScheduler","rxjs/observable/ArrayObservable","rxjs/operator/mergeAll"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return s.apply(void 0,[this].concat(e))}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,s=e;return n.isScheduler(s[e.length-1])&&(r=s.pop()),new a.ArrayObservable(e,r).lift(new u.MergeAllOperator(1))}var i=System.global,o=i.define;i.define=void 0;var n=require("rxjs/util/isScheduler"),a=require("rxjs/observable/ArrayObservable"),u=require("rxjs/operator/mergeAll");return e.concat=r,e.concatStatic=s,i.define=o,t.exports}),System.register("rxjs/add/observable/merge",["rxjs/Observable","rxjs/operator/merge"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/merge");return i.Observable.merge=o.mergeStatic,r.define=s,t.exports}),System.register("rxjs/add/observable/race",["rxjs/Observable","rxjs/operator/race"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/race");return i.Observable.race=o.raceStatic,r.define=s,t.exports}),System.register("rxjs/observable/BoundCallbackObservable",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/subject/AsyncSubject"],!0,function(require,e,t){function r(e){var t=this,r=e.source,o=e.subscriber,n=r.callbackFunc,a=r.args,u=r.scheduler,b=r.subject;if(!b){b=r.subject=new p.AsyncSubject;var h=function d(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var o=d.source,n=o.selector,a=o.subject;if(n){var p=c.tryCatch(n).apply(this,e);p===l.errorObject?t.add(u.schedule(i,0,{err:l.errorObject.e,subject:a})):t.add(u.schedule(s,0,{value:p,subject:a}))}else{var b=1===e.length?e[0]:e;t.add(u.schedule(s,0,{value:b,subject:a}))}};h.source=r;var f=c.tryCatch(n).apply(this,a.concat(h));f===l.errorObject&&b.error(l.errorObject.e)}t.add(b.subscribe(o))}function s(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function i(e){var t=e.err,r=e.subject;r.error(t)}var o=System.global,n=o.define;o.define=void 0;var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=require("rxjs/Observable"),c=require("rxjs/util/tryCatch"),l=require("rxjs/util/errorObject"),p=require("rxjs/subject/AsyncSubject"),b=function(e){function t(t,r,s,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=s,this.scheduler=i}return a(t,e),t.create=function(e,r,s){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,s)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,s=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(r,0,{source:this,subscriber:e});if(!o){o=this.subject=new p.AsyncSubject;var n=function u(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=u.source,s=r.selector,i=r.subject;if(s){var o=c.tryCatch(s).apply(this,e);o===l.errorObject?i.error(l.errorObject.e):(i.next(o),i.complete())}else i.next(1===e.length?e[0]:e),i.complete()};n.source=this;var a=c.tryCatch(t).apply(this,s.concat(n));a===l.errorObject&&o.error(l.errorObject.e)}return o.subscribe(e)},t}(u.Observable);return e.BoundCallbackObservable=b,o.define=n,t.exports}),System.register("rxjs/add/observable/bindNodeCallback",["rxjs/Observable","rxjs/observable/BoundNodeCallbackObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/BoundNodeCallbackObservable");return i.Observable.bindNodeCallback=o.BoundNodeCallbackObservable.create,r.define=s,t.exports}),System.register("rxjs/add/observable/defer",["rxjs/Observable","rxjs/observable/DeferObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/DeferObservable");return i.Observable.defer=o.DeferObservable.create,r.define=s,t.exports}),System.register("rxjs/observable/ForkJoinObservable",["rxjs/Observable","rxjs/Subscriber","rxjs/observable/PromiseObservable","rxjs/observable/EmptyObservable","rxjs/util/isPromise","rxjs/util/isArray"],!0,function(require,e,t){function r(e){return null!==e}function s(e){for(var t=[],r=0;e>r;r++)t.push(null);return t}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/Observable"),u=require("rxjs/Subscriber"),c=require("rxjs/observable/PromiseObservable"),l=require("rxjs/observable/EmptyObservable"),p=require("rxjs/util/isPromise"),b=require("rxjs/util/isArray"),h=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return n(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new l.EmptyObservable;var s=null;return"function"==typeof e[e.length-1]&&(s=e.pop()),1===e.length&&b.isArray(e[0])&&(e=e[0]),0===e.length?new l.EmptyObservable:new t(e,s)},t.prototype._subscribe=function(e){for(var t=this.sources,r=t.length,i={completed:0,total:r,values:s(r),selector:this.resultSelector},o=0;r>o;o++){var n=t[o];p.isPromise(n)&&(n=new c.PromiseObservable(n)),n.subscribe(new f(e,o,i))}},t}(a.Observable);e.ForkJoinObservable=h;var f=function(e){function t(t,r,s){e.call(this,t),this.index=r,this.context=s,this._value=null}return n(t,e),t.prototype._next=function(e){this._value=e},t.prototype._complete=function(){var e=this.destination;null==this._value&&e.complete();var t=this.context;t.completed++,t.values[this.index]=this._value;var s=t.values;if(t.completed===s.length){if(s.every(r)){var i=t.selector?t.selector.apply(this,s):s;e.next(i)}e.complete()}},t}(u.Subscriber);return i.define=o,t.exports}),System.register("rxjs/operator/observeOn",["rxjs/Subscriber","rxjs/Notification"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=0),this.lift(new u(e,t))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Notification");e.observeOn=r;var u=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e){return new c(e,this.scheduler,this.delay)},e}();e.ObserveOnOperator=u;var c=function(e){function t(t,r,s){void 0===s&&(s=0),e.call(this,t),this.scheduler=r,this.delay=s}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r)},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(n.Subscriber);e.ObserveOnSubscriber=c;var l=function(){function e(e,t){this.notification=e,this.destination=t}return e}();return s.define=i,t.exports}),System.register("rxjs/add/observable/fromEvent",["rxjs/Observable","rxjs/observable/FromEventObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/FromEventObservable");return i.Observable.fromEvent=o.FromEventObservable.create,r.define=s,t.exports}),System.register("rxjs/add/observable/fromEventPattern",["rxjs/Observable","rxjs/observable/FromEventPatternObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/FromEventPatternObservable");return i.Observable.fromEventPattern=o.FromEventPatternObservable.create,r.define=s,t.exports}),System.register("rxjs/scheduler/AsapAction",["rxjs/util/Immediate","rxjs/scheduler/FutureAction"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/Immediate"),n=require("rxjs/scheduler/FutureAction"),a=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),r>0)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var s=this.scheduler;return s.actions.push(this),s.scheduledId||(s.scheduledId=o.Immediate.setImmediate(function(){s.scheduledId=null,s.flush()})),this},t.prototype._unsubscribe=function(){var t=this.scheduler,r=t.scheduledId,s=t.actions;e.prototype._unsubscribe.call(this),0===s.length&&(t.active=!1,null!=r&&(t.scheduledId=null,o.Immediate.clearImmediate(r)))},t}(n.FutureAction);return e.AsapAction=a,r.define=s,t.exports}),System.register("rxjs/scheduler/QueueScheduler",["rxjs/scheduler/QueueAction","rxjs/scheduler/FutureAction"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/scheduler/QueueAction"),o=require("rxjs/scheduler/FutureAction"),n=function(){function e(){this.active=!1,this.actions=[],this.scheduledId=null}return e.prototype.now=function(){return Date.now()},e.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var e=this.actions,t=void 0;t=e.shift();)t.execute();this.active=!1}},e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),0>=t?this.scheduleNow(e,r):this.scheduleLater(e,t,r)},e.prototype.scheduleNow=function(e,t){return new i.QueueAction(this,e).schedule(t)},e.prototype.scheduleLater=function(e,t,r){return new o.FutureAction(this,e).schedule(r,t)},e}();return e.QueueScheduler=n,r.define=s,t.exports}),System.register("rxjs/observable/NeverObservable",["rxjs/Observable","rxjs/util/noop"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/util/noop"),a=function(e){function t(){e.call(this)}return i(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){n.noop()},t}(o.Observable);return e.NeverObservable=a,r.define=s,t.exports}),System.register("rxjs/add/observable/range",["rxjs/Observable","rxjs/observable/RangeObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/RangeObservable");return i.Observable.range=o.RangeObservable.create,r.define=s,t.exports}),System.register("rxjs/add/observable/throw",["rxjs/Observable","rxjs/observable/ErrorObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/ErrorObservable");return i.Observable["throw"]=o.ErrorObservable.create,r.define=s,t.exports}),System.register("rxjs/observable/TimerObservable",["rxjs/util/isNumeric","rxjs/Observable","rxjs/scheduler/asap","rxjs/util/isScheduler","rxjs/util/isDate"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/isNumeric"),n=require("rxjs/Observable"),a=require("rxjs/scheduler/asap"),u=require("rxjs/util/isScheduler"),c=require("rxjs/util/isDate"),l=function(e){function t(t,r,s){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,o.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):u.isScheduler(r)&&(s=r),u.isScheduler(s)||(s=a.asap),this.scheduler=s,this.dueTime=c.isDate(t)?+t-this.scheduler.now():t}return i(t,e),t.create=function(e,r,s){return void 0===e&&(e=0),new t(e,r,s)},t.dispatch=function(e){var t=e.index,r=e.period,s=e.subscriber,i=this;if(s.next(t),!s.isUnsubscribed){if(-1===r)return s.complete();e.index=t+1,i.schedule(e,r)}},t.prototype._subscribe=function(e){var r=0,s=this,i=s.period,o=s.dueTime,n=s.scheduler;return n.schedule(t.dispatch,o,{index:r,period:i,subscriber:e})},t}(n.Observable);return e.TimerObservable=l,r.define=s,t.exports}),System.register("rxjs/add/observable/zip",["rxjs/Observable","rxjs/operator/zip"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/zip");return i.Observable.zip=o.zipStatic,r.define=s,t.exports}),System.register("rxjs/add/operator/buffer",["rxjs/Observable","rxjs/operator/buffer"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/buffer");return i.Observable.prototype.buffer=o.buffer,r.define=s,t.exports}),System.register("rxjs/add/operator/bufferCount",["rxjs/Observable","rxjs/operator/bufferCount"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/bufferCount");return i.Observable.prototype.bufferCount=o.bufferCount,r.define=s,t.exports}),System.register("rxjs/add/operator/bufferTime",["rxjs/Observable","rxjs/operator/bufferTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/bufferTime");return i.Observable.prototype.bufferTime=o.bufferTime,r.define=s,t.exports}),System.register("rxjs/add/operator/bufferToggle",["rxjs/Observable","rxjs/operator/bufferToggle"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/bufferToggle");return i.Observable.prototype.bufferToggle=o.bufferToggle,r.define=s,t.exports}),System.register("rxjs/add/operator/bufferWhen",["rxjs/Observable","rxjs/operator/bufferWhen"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/bufferWhen");return i.Observable.prototype.bufferWhen=o.bufferWhen,r.define=s,t.exports}),System.register("rxjs/subject/ReplaySubject",["rxjs/Subject","rxjs/scheduler/queue","rxjs/operator/observeOn"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Subject"),n=require("rxjs/scheduler/queue"),a=require("rxjs/operator/observeOn"),u=function(e){function t(t,r,s){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.events=[],this.scheduler=s,this.bufferSize=1>t?1:t,this._windowTime=1>r?1:r}return i(t,e),t.prototype._next=function(t){var r=this._getNow();this.events.push(new c(r,t)),this._trimBufferThenGetEvents(r),e.prototype._next.call(this,t)},t.prototype._subscribe=function(t){var r=this._trimBufferThenGetEvents(this._getNow()),s=this.scheduler;s&&t.add(t=new a.ObserveOnSubscriber(t,s));for(var i=-1,o=r.length;++i<o&&!t.isUnsubscribed;)t.next(r[i].value);return e.prototype._subscribe.call(this,t)},t.prototype._getNow=function(){return(this.scheduler||n.queue).now()},t.prototype._trimBufferThenGetEvents=function(e){for(var t=this.bufferSize,r=this._windowTime,s=this.events,i=s.length,o=0;i>o&&!(e-s[o].time<r);)o+=1;return i>t&&(o=Math.max(o,i-t)),o>0&&s.splice(0,o),s},t}(o.Subject);e.ReplaySubject=u;var c=function(){function e(e,t){this.time=e,this.value=t}return e}();return r.define=s,t.exports}),System.register("rxjs/operator/multicast",["rxjs/observable/ConnectableObservable"],!0,function(require,e,t){function r(e){var t;return t="function"==typeof e?e:function(){return e},new o.ConnectableObservable(this,t)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/observable/ConnectableObservable");return e.multicast=r,s.define=i,t.exports}),System.register("rxjs/add/operator/catch",["rxjs/Observable","rxjs/operator/catch"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/catch");return i.Observable.prototype["catch"]=o._catch,r.define=s,t.exports}),System.register("rxjs/add/operator/combineAll",["rxjs/Observable","rxjs/operator/combineAll"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/combineAll");return i.Observable.prototype.combineAll=o.combineAll,r.define=s,t.exports}),System.register("rxjs/add/operator/concatAll",["rxjs/Observable","rxjs/operator/concatAll"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/concatAll");return i.Observable.prototype.concatAll=o.concatAll,r.define=s,t.exports}),System.register("rxjs/operator/concatMap",["rxjs/operator/mergeMap"],!0,function(require,e,t){function r(e,t){return this.lift(new o.MergeMapOperator(e,t,1))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/mergeMap");return e.concatMap=r,s.define=i,t.exports}),System.register("rxjs/operator/concatMapTo",["rxjs/operator/mergeMapTo"],!0,function(require,e,t){function r(e,t){return this.lift(new o.MergeMapToOperator(e,t,1))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/mergeMapTo");return e.concatMapTo=r,s.define=i,t.exports}),System.register("rxjs/add/operator/count",["rxjs/Observable","rxjs/operator/count"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/count");return i.Observable.prototype.count=o.count,r.define=s,t.exports}),System.register("rxjs/add/operator/dematerialize",["rxjs/Observable","rxjs/operator/dematerialize"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/dematerialize");return i.Observable.prototype.dematerialize=o.dematerialize,r.define=s,t.exports}),System.register("rxjs/add/operator/debounce",["rxjs/Observable","rxjs/operator/debounce"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/debounce");return i.Observable.prototype.debounce=o.debounce,r.define=s,t.exports}),System.register("rxjs/add/operator/debounceTime",["rxjs/Observable","rxjs/operator/debounceTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/debounceTime");return i.Observable.prototype.debounceTime=o.debounceTime,r.define=s,t.exports}),System.register("rxjs/add/operator/defaultIfEmpty",["rxjs/Observable","rxjs/operator/defaultIfEmpty"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/defaultIfEmpty");return i.Observable.prototype.defaultIfEmpty=o.defaultIfEmpty,r.define=s,t.exports}),System.register("rxjs/add/operator/delay",["rxjs/Observable","rxjs/operator/delay"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/delay");return i.Observable.prototype.delay=o.delay,r.define=s,t.exports}),System.register("rxjs/add/operator/delayWhen",["rxjs/Observable","rxjs/operator/delayWhen"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/delayWhen");return i.Observable.prototype.delayWhen=o.delayWhen,r.define=s,t.exports}),System.register("rxjs/add/operator/distinctUntilChanged",["rxjs/Observable","rxjs/operator/distinctUntilChanged"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/distinctUntilChanged");return i.Observable.prototype.distinctUntilChanged=o.distinctUntilChanged,r.define=s,t.exports}),System.register("rxjs/add/operator/do",["rxjs/Observable","rxjs/operator/do"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/do");return i.Observable.prototype["do"]=o._do,r.define=s,t.exports}),System.register("rxjs/add/operator/expand",["rxjs/Observable","rxjs/operator/expand"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/expand");return i.Observable.prototype.expand=o.expand,r.define=s,t.exports}),System.register("rxjs/add/operator/filter",["rxjs/Observable","rxjs/operator/filter"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/filter");return i.Observable.prototype.filter=o.filter,r.define=s,t.exports}),System.register("rxjs/add/operator/finally",["rxjs/Observable","rxjs/operator/finally"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/finally");return i.Observable.prototype["finally"]=o._finally,r.define=s,t.exports}),System.register("rxjs/operator/first",["rxjs/Subscriber","rxjs/util/EmptyError"],!0,function(require,e,t){function r(e,t,r){return this.lift(new u(e,t,r,this))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/EmptyError");e.first=r;var u=function(){function e(e,t,r,s){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=s}return e.prototype.call=function(e){return new c(e,this.predicate,this.resultSelector,this.defaultValue,this.source)},e}(),c=function(e){function t(t,r,s,i,o){e.call(this,t),this.predicate=r,this.resultSelector=s,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(s){return void this.destination.error(s)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){return this.resultSelector?void this._tryResultSelector(e,t):void this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(s){return void this.destination.error(s)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;t.next(e),t.complete(),this.hasCompleted=!0},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/util/Map",["rxjs/util/root","rxjs/util/MapPolyfill"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/util/root"),o=require("rxjs/util/MapPolyfill");return e.Map=i.root.Map||function(){return o.MapPolyfill}(),r.define=s,t.exports}),System.register("rxjs/add/operator/ignoreElements",["rxjs/Observable","rxjs/operator/ignoreElements"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/ignoreElements");return i.Observable.prototype.ignoreElements=o.ignoreElements,r.define=s,t.exports}),System.register("rxjs/add/operator/inspect",["rxjs/Observable","rxjs/operator/inspect"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/inspect");return i.Observable.prototype.inspect=o.inspect,r.define=s,t.exports}),System.register("rxjs/add/operator/inspectTime",["rxjs/Observable","rxjs/operator/inspectTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/inspectTime");return i.Observable.prototype.inspectTime=o.inspectTime,r.define=s,t.exports}),System.register("rxjs/add/operator/every",["rxjs/Observable","rxjs/operator/every"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/every");return i.Observable.prototype.every=o.every,r.define=s,t.exports}),System.register("rxjs/add/operator/last",["rxjs/Observable","rxjs/operator/last"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/last");return i.Observable.prototype.last=o.last,r.define=s,t.exports}),System.register("rxjs/add/operator/let",["rxjs/Observable","rxjs/operator/let"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/let");return i.Observable.prototype.let=o.letProto,i.Observable.prototype.letBind=o.letProto,r.define=s,t.exports}),System.register("rxjs/add/operator/map",["rxjs/Observable","rxjs/operator/map"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/map");return i.Observable.prototype.map=o.map,r.define=s,t.exports}),System.register("rxjs/add/operator/mapTo",["rxjs/Observable","rxjs/operator/mapTo"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/mapTo");return i.Observable.prototype.mapTo=o.mapTo,r.define=s,t.exports}),System.register("rxjs/add/operator/materialize",["rxjs/Observable","rxjs/operator/materialize"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/materialize");return i.Observable.prototype.materialize=o.materialize,r.define=s,t.exports}),System.register("rxjs/operator/partition",["rxjs/util/not","rxjs/operator/filter"],!0,function(require,e,t){function r(e,t){return[n.filter.call(this,e),n.filter.call(this,o.not(e,t))]}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/util/not"),n=require("rxjs/operator/filter");return e.partition=r,s.define=i,t.exports}),System.register("rxjs/add/operator/pluck",["rxjs/Observable","rxjs/operator/pluck"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/pluck");return i.Observable.prototype.pluck=o.pluck,r.define=s,t.exports}),System.register("rxjs/add/operator/publish",["rxjs/Observable","rxjs/operator/publish"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/publish");return i.Observable.prototype.publish=o.publish,r.define=s,t.exports}),System.register("rxjs/operator/publishBehavior",["rxjs/subject/BehaviorSubject","rxjs/operator/multicast"],!0,function(require,e,t){function r(e){return n.multicast.call(this,new o.BehaviorSubject(e))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/subject/BehaviorSubject"),n=require("rxjs/operator/multicast");return e.publishBehavior=r,s.define=i,t.exports}),System.register("rxjs/add/operator/publishLast",["rxjs/Observable","rxjs/operator/publishLast"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/publishLast");return i.Observable.prototype.publishLast=o.publishLast,r.define=s,t.exports}),System.register("rxjs/add/operator/reduce",["rxjs/Observable","rxjs/operator/reduce"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/reduce");return i.Observable.prototype.reduce=o.reduce,r.define=s,t.exports}),System.register("rxjs/add/operator/repeat",["rxjs/Observable","rxjs/operator/repeat"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/repeat");return i.Observable.prototype.repeat=o.repeat,r.define=s,t.exports}),System.register("rxjs/add/operator/retry",["rxjs/Observable","rxjs/operator/retry"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/retry");return i.Observable.prototype.retry=o.retry,r.define=s,t.exports}),System.register("rxjs/add/operator/retryWhen",["rxjs/Observable","rxjs/operator/retryWhen"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/retryWhen");return i.Observable.prototype.retryWhen=o.retryWhen,r.define=s,t.exports}),System.register("rxjs/add/operator/sample",["rxjs/Observable","rxjs/operator/sample"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/sample");return i.Observable.prototype.sample=o.sample,r.define=s,t.exports}),System.register("rxjs/add/operator/sampleTime",["rxjs/Observable","rxjs/operator/sampleTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/sampleTime");return i.Observable.prototype.sampleTime=o.sampleTime,r.define=s,t.exports}),System.register("rxjs/add/operator/scan",["rxjs/Observable","rxjs/operator/scan"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/scan");return i.Observable.prototype.scan=o.scan,r.define=s,t.exports}),System.register("rxjs/add/operator/share",["rxjs/Observable","rxjs/operator/share"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/share");return i.Observable.prototype.share=o.share,r.define=s,t.exports}),System.register("rxjs/add/operator/single",["rxjs/Observable","rxjs/operator/single"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/single");return i.Observable.prototype.single=o.single,r.define=s,t.exports}),System.register("rxjs/add/operator/skip",["rxjs/Observable","rxjs/operator/skip"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/skip");return i.Observable.prototype.skip=o.skip,r.define=s,t.exports}),System.register("rxjs/add/operator/skipUntil",["rxjs/Observable","rxjs/operator/skipUntil"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/skipUntil");return i.Observable.prototype.skipUntil=o.skipUntil,r.define=s,t.exports}),System.register("rxjs/add/operator/skipWhile",["rxjs/Observable","rxjs/operator/skipWhile"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/skipWhile");return i.Observable.prototype.skipWhile=o.skipWhile,r.define=s,t.exports}),System.register("rxjs/add/operator/startWith",["rxjs/Observable","rxjs/operator/startWith"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/startWith");return i.Observable.prototype.startWith=o.startWith,r.define=s,t.exports}),System.register("rxjs/operator/subscribeOn",["rxjs/observable/SubscribeOnObservable"],!0,function(require,e,t){function r(e,t){return void 0===t&&(t=0),new o.SubscribeOnObservable(this,t,e)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/observable/SubscribeOnObservable");return e.subscribeOn=r,s.define=i,t.exports}),System.register("rxjs/add/operator/switch",["rxjs/Observable","rxjs/operator/switch"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/switch");return i.Observable.prototype["switch"]=o._switch,r.define=s,t.exports}),System.register("rxjs/add/operator/switchMap",["rxjs/Observable","rxjs/operator/switchMap"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/switchMap");return i.Observable.prototype.switchMap=o.switchMap,r.define=s,t.exports}),System.register("rxjs/add/operator/switchMapTo",["rxjs/Observable","rxjs/operator/switchMapTo"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/switchMapTo");return i.Observable.prototype.switchMapTo=o.switchMapTo,r.define=s,t.exports}),System.register("rxjs/operator/take",["rxjs/Subscriber","rxjs/util/ArgumentOutOfRangeError","rxjs/observable/EmptyObservable"],!0,function(require,e,t){function r(e){return 0===e?new u.EmptyObservable:this.lift(new c(e))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/util/ArgumentOutOfRangeError"),u=require("rxjs/observable/EmptyObservable");e.take=r;var c=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e){return new l(e,this.total)},e}(),l=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.total;++this.count<=t&&(this.destination.next(e),this.count===t&&this.destination.complete())},t}(n.Subscriber);return s.define=i,t.exports}),System.register("rxjs/add/operator/takeLast",["rxjs/Observable","rxjs/operator/takeLast"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/takeLast");return i.Observable.prototype.takeLast=o.takeLast,r.define=s,t.exports}),System.register("rxjs/add/operator/takeUntil",["rxjs/Observable","rxjs/operator/takeUntil"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/takeUntil");return i.Observable.prototype.takeUntil=o.takeUntil,r.define=s,t.exports}),System.register("rxjs/add/operator/takeWhile",["rxjs/Observable","rxjs/operator/takeWhile"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/takeWhile");return i.Observable.prototype.takeWhile=o.takeWhile,r.define=s,t.exports}),System.register("rxjs/add/operator/throttle",["rxjs/Observable","rxjs/operator/throttle"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/throttle");return i.Observable.prototype.throttle=o.throttle,r.define=s,t.exports}),System.register("rxjs/add/operator/throttleTime",["rxjs/Observable","rxjs/operator/throttleTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/throttleTime");return i.Observable.prototype.throttleTime=o.throttleTime,r.define=s,t.exports}),System.register("rxjs/add/operator/timeout",["rxjs/Observable","rxjs/operator/timeout"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/timeout");return i.Observable.prototype.timeout=o.timeout,r.define=s,t.exports}),System.register("rxjs/add/operator/timeoutWith",["rxjs/Observable","rxjs/operator/timeoutWith"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/timeoutWith");return i.Observable.prototype.timeoutWith=o.timeoutWith,r.define=s,t.exports}),System.register("rxjs/add/operator/toArray",["rxjs/Observable","rxjs/operator/toArray"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/toArray");return i.Observable.prototype.toArray=o.toArray,r.define=s,t.exports}),System.register("rxjs/add/operator/toPromise",["rxjs/Observable","rxjs/operator/toPromise"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/toPromise");return i.Observable.prototype.toPromise=o.toPromise,r.define=s,t.exports}),System.register("rxjs/add/operator/window",["rxjs/Observable","rxjs/operator/window"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/window");return i.Observable.prototype.window=o.window,r.define=s,t.exports}),System.register("rxjs/add/operator/windowCount",["rxjs/Observable","rxjs/operator/windowCount"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/windowCount");return i.Observable.prototype.windowCount=o.windowCount,r.define=s,t.exports}),System.register("rxjs/add/operator/windowTime",["rxjs/Observable","rxjs/operator/windowTime"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/windowTime");return i.Observable.prototype.windowTime=o.windowTime,r.define=s,t.exports}),System.register("rxjs/add/operator/windowToggle",["rxjs/Observable","rxjs/operator/windowToggle"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/windowToggle");return i.Observable.prototype.windowToggle=o.windowToggle,r.define=s,t.exports}),System.register("rxjs/add/operator/windowWhen",["rxjs/Observable","rxjs/operator/windowWhen"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/windowWhen");return i.Observable.prototype.windowWhen=o.windowWhen,r.define=s,t.exports}),System.register("rxjs/add/operator/withLatestFrom",["rxjs/Observable","rxjs/operator/withLatestFrom"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/withLatestFrom");return i.Observable.prototype.withLatestFrom=o.withLatestFrom,r.define=s,t.exports}),System.register("rxjs/add/operator/zipAll",["rxjs/Observable","rxjs/operator/zipAll"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/zipAll");return i.Observable.prototype.zipAll=o.zipAll,r.define=s,t.exports}),System.register("rxjs/Subscription",["rxjs/util/isArray","rxjs/util/isObject","rxjs/util/isFunction","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/isArray"),n=require("rxjs/util/isObject"),a=require("rxjs/util/isFunction"),u=require("rxjs/util/tryCatch"),c=require("rxjs/util/errorObject"),l=function(){function e(e){this.isUnsubscribed=!1,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var r=this,s=r._unsubscribe,i=r._subscriptions;if(this._subscriptions=null,a.isFunction(s)){var l=u.tryCatch(s).call(this);l===c.errorObject&&(t=!0,(e=e||[]).push(c.errorObject.e))}if(o.isArray(i))for(var b=-1,h=i.length;++b<h;){var f=i[b];if(n.isObject(f)){var l=u.tryCatch(f.unsubscribe).call(f);if(l===c.errorObject){t=!0,e=e||[];var d=c.errorObject.e;d instanceof p?e=e.concat(d.errors):e.push(d)}}}if(t)throw new p(e)}},e.prototype.add=function(t){if(t&&t!==this&&t!==e.EMPTY){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.isUnsubscribed||"function"!=typeof r.unsubscribe)break;this.isUnsubscribed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("Unrecognized subscription "+t+" added to Subscription.")}}},e.prototype.remove=function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var s=r.indexOf(t);-1!==s&&r.splice(s,1)}}},e.EMPTY=function(e){return e.isUnsubscribed=!0,e}(new e),e}();e.Subscription=l;var p=function(e){function t(t){e.call(this,"unsubscriptoin error(s)"),this.errors=t,this.name="UnsubscriptionError"}return i(t,e),t}(Error);return e.UnsubscriptionError=p,r.define=s,t.exports}),System.register("rxjs/operator/combineLatest",["rxjs/observable/ArrayObservable","rxjs/util/isArray","rxjs/util/isScheduler","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],!0,function(require,e,t){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u.isArray(e[0])&&(e=e[0]),e.unshift(this),new a.ArrayObservable(e).lift(new b(r))}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,s=null;return c.isScheduler(e[e.length-1])&&(s=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u.isArray(e[0])&&(e=e[0]),new a.ArrayObservable(e,s).lift(new b(r))}var i=System.global,o=i.define;i.define=void 0;var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=require("rxjs/observable/ArrayObservable"),u=require("rxjs/util/isArray"),c=require("rxjs/util/isScheduler"),l=require("rxjs/OuterSubscriber"),p=require("rxjs/util/subscribeToResult");e.combineLatest=r,e.combineLatestStatic=s;var b=function(){function e(e){this.project=e}return e.prototype.call=function(e){return new h(e,this.project)},e}();e.CombineLatestOperator=b;var h=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[],this.toRespond=[]}return n(t,e),t.prototype._next=function(e){var t=this.toRespond;t.push(t.length),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t;for(var r=0;t>r;r++){var s=e[r];this.add(p.subscribeToResult(this,s,s,r))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,s,i){var o=this.values;o[r]=t;var n=this.toRespond;if(n.length>0){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}0===n.length&&(this.project?this._tryProject(o):this.destination.next(o))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(l.OuterSubscriber);return e.CombineLatestSubscriber=h,i.define=o,t.exports}),System.register("rxjs/add/observable/concat",["rxjs/Observable","rxjs/operator/concat"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/concat");return i.Observable.concat=o.concatStatic,r.define=s,t.exports}),System.register("rxjs/add/observable/bindCallback",["rxjs/Observable","rxjs/observable/BoundCallbackObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/BoundCallbackObservable");return i.Observable.bindCallback=o.BoundCallbackObservable.create,r.define=s,t.exports}),System.register("rxjs/add/observable/forkJoin",["rxjs/Observable","rxjs/observable/ForkJoinObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/ForkJoinObservable");return i.Observable.forkJoin=o.ForkJoinObservable.create,r.define=s,t.exports}),System.register("rxjs/observable/FromObservable",["rxjs/util/isArray","rxjs/util/isFunction","rxjs/util/isPromise","rxjs/util/isScheduler","rxjs/observable/PromiseObservable","rxjs/observable/IteratorObservable","rxjs/observable/ArrayObservable","rxjs/observable/ArrayLikeObservable","rxjs/util/SymbolShim","rxjs/Observable","rxjs/operator/observeOn"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/isArray"),n=require("rxjs/util/isFunction"),a=require("rxjs/util/isPromise"),u=require("rxjs/util/isScheduler"),c=require("rxjs/observable/PromiseObservable"),l=require("rxjs/observable/IteratorObservable"),p=require("rxjs/observable/ArrayObservable"),b=require("rxjs/observable/ArrayLikeObservable"),h=require("rxjs/util/SymbolShim"),f=require("rxjs/Observable"),d=require("rxjs/operator/observeOn"),v=function(e){return e&&"number"==typeof e.length},x=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return i(t,e),t.create=function(e,r,s,i){var d=null,x=null;if(n.isFunction(r)?(d=i||null,x=r):u.isScheduler(d)&&(d=r),null!=e){if("function"==typeof e[h.SymbolShim.observable])return e instanceof f.Observable&&!d?e:new t(e,d);if(o.isArray(e))return new p.ArrayObservable(e,d);if(a.isPromise(e))return new c.PromiseObservable(e,d);if("function"==typeof e[h.SymbolShim.iterator]||"string"==typeof e)return new l.IteratorObservable(e,null,null,d);if(v(e))return new b.ArrayLikeObservable(e,x,s,d)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[h.SymbolShim.observable]().subscribe(e):t[h.SymbolShim.observable]().subscribe(new d.ObserveOnSubscriber(e,r,0))},t}(f.Observable);return e.FromObservable=x,r.define=s,t.exports}),System.register("rxjs/scheduler/AsapScheduler",["rxjs/scheduler/AsapAction","rxjs/scheduler/QueueScheduler"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/scheduler/AsapAction"),n=require("rxjs/scheduler/QueueScheduler"),a=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.scheduleNow=function(e,t){return new o.AsapAction(this,e).schedule(t)},t}(n.QueueScheduler);return e.AsapScheduler=a,r.define=s,t.exports}),System.register("rxjs/add/observable/never",["rxjs/Observable","rxjs/observable/NeverObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/NeverObservable");return i.Observable.never=o.NeverObservable.create,r.define=s,t.exports}),System.register("rxjs/add/observable/timer",["rxjs/Observable","rxjs/observable/TimerObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/TimerObservable");return i.Observable.timer=o.TimerObservable.create,r.define=s,t.exports}),System.register("rxjs/operator/publishReplay",["rxjs/subject/ReplaySubject","rxjs/operator/multicast"],!0,function(require,e,t){function r(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),n.multicast.call(this,new o.ReplaySubject(e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/subject/ReplaySubject"),n=require("rxjs/operator/multicast");return e.publishReplay=r,s.define=i,t.exports}),System.register("rxjs/add/operator/concatMap",["rxjs/Observable","rxjs/operator/concatMap"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/concatMap");return i.Observable.prototype.concatMap=o.concatMap,r.define=s,t.exports}),System.register("rxjs/add/operator/concatMapTo",["rxjs/Observable","rxjs/operator/concatMapTo"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/concatMapTo");return i.Observable.prototype.concatMapTo=o.concatMapTo,r.define=s,t.exports}),System.register("rxjs/add/operator/first",["rxjs/Observable","rxjs/operator/first"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/first");return i.Observable.prototype.first=o.first,r.define=s,t.exports}),System.register("rxjs/operator/groupBy",["rxjs/Subscriber","rxjs/Subscription","rxjs/Observable","rxjs/Operator","rxjs/Subject","rxjs/util/Map","rxjs/util/FastMap"],!0,function(require,e,t){function r(e,t,r){return this.lift(new h(this,e,t,r))}var s=System.global,i=s.define;s.define=void 0;var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=require("rxjs/Subscriber"),a=require("rxjs/Subscription"),u=require("rxjs/Observable"),c=require("rxjs/Operator"),l=require("rxjs/Subject"),p=require("rxjs/util/Map"),b=require("rxjs/util/FastMap");e.groupBy=r;var h=function(e){function t(t,r,s,i){e.call(this),this.source=t,this.keySelector=r,this.elementSelector=s,this.durationSelector=i}return o(t,e),t.prototype.call=function(e){return new f(e,this.keySelector,this.elementSelector,this.durationSelector)},t}(c.Operator),f=function(e){function t(t,r,s,i){e.call(this),this.keySelector=r,this.elementSelector=s,this.durationSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0,this.destination=t,this.add(t)}return o(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new b.FastMap:new p.Map);var s=r.get(t);if(!s){r.set(t,s=new l.Subject);var i=new v(t,s,this);this.durationSelector&&this._selectDuration(t,s),this.destination.next(i)}this.elementSelector?this._selectElement(e,s):this.tryGroupNext(e,s)},t.prototype._selectElement=function(e,t){var r;try{r=this.elementSelector(e)}catch(s){return void this.error(s)}this.tryGroupNext(r,t)},t.prototype._selectDuration=function(e,t){var r;try{r=this.durationSelector(new v(e,t))}catch(s){return void this.error(s)}this.add(r.subscribe(new d(e,t,this)))},t.prototype.tryGroupNext=function(e,t){t.isUnsubscribed||t.next(e)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups["delete"](e)},t.prototype.unsubscribe=function(){this.isUnsubscribed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(n.Subscriber),d=function(e){function t(t,r,s){e.call(this),this.key=t,this.group=r,this.parent=s}return o(t,e),t.prototype._next=function(e){this.tryComplete()},t.prototype._error=function(e){this.tryError(e)},t.prototype._complete=function(){this.tryComplete()},t.prototype.tryError=function(e){var t=this.group;t.isUnsubscribed||t.error(e),this.parent.removeGroup(this.key)},t.prototype.tryComplete=function(){var e=this.group;e.isUnsubscribed||e.complete(),this.parent.removeGroup(this.key)},t}(n.Subscriber),v=function(e){function t(t,r,s){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=s}return o(t,e),t.prototype._subscribe=function(e){var t=new a.Subscription,r=this,s=r.refCountSubscription,i=r.groupSubject;return s&&!s.isUnsubscribed&&t.add(new x(s)),t.add(i.subscribe(e)),t},t}(u.Observable);e.GroupedObservable=v;var x=function(e){function t(t){e.call(this),this.parent=t,t.count++}return o(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.isUnsubscribed||this.isUnsubscribed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.Subscription);return s.define=i,t.exports}),System.register("rxjs/add/operator/partition",["rxjs/Observable","rxjs/operator/partition"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/partition");return i.Observable.prototype.partition=o.partition,r.define=s,t.exports}),System.register("rxjs/add/operator/publishBehavior",["rxjs/Observable","rxjs/operator/publishBehavior"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/publishBehavior");return i.Observable.prototype.publishBehavior=o.publishBehavior,r.define=s,t.exports}),System.register("rxjs/add/operator/subscribeOn",["rxjs/Observable","rxjs/operator/subscribeOn"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/subscribeOn");return i.Observable.prototype.subscribeOn=o.subscribeOn,r.define=s,t.exports}),System.register("rxjs/add/operator/take",["rxjs/Observable","rxjs/operator/take"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/take");return i.Observable.prototype.take=o.take,r.define=s,t.exports}),System.register("rxjs/Subscriber",["rxjs/util/isFunction","rxjs/Subscription","rxjs/symbol/rxSubscriber","rxjs/Observer"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/isFunction"),n=require("rxjs/Subscription"),a=require("rxjs/symbol/rxSubscriber"),u=require("rxjs/Observer"),c=function(e){function t(r,s,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.empty;break;case 1:if(!r){this.destination=u.empty;break}if("object"==typeof r){r instanceof t?this.destination=r:(this.syncErrorThrowable=!0,this.destination=new l(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,r,s,i)}}return i(t,e),t.create=function(e,r,s){var i=new t(e,r,s);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype[a.rxSubscriber]=function(){return this},t}(n.Subscription);e.Subscriber=c;var l=function(e){function t(t,r,s,i){e.call(this),this._parent=t;var n,a=this;o.isFunction(r)?n=r:r&&(a=r,n=r.next,s=r.error,i=r.complete),this._context=a,this._next=n,this._error=s,this._complete=i}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){throw this.unsubscribe(),r}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(s){return e.syncErrorValue=s,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},t}(c);return r.define=s,t.exports}),System.register("rxjs/add/observable/combineLatest",["rxjs/Observable","rxjs/operator/combineLatest"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/combineLatest");return i.Observable.combineLatest=o.combineLatestStatic,r.define=s,t.exports}),System.register("rxjs/add/observable/from",["rxjs/Observable","rxjs/observable/FromObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/FromObservable");return i.Observable.from=o.FromObservable.create,r.define=s,t.exports}),System.register("rxjs/scheduler/asap",["rxjs/scheduler/AsapScheduler"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/scheduler/AsapScheduler");return e.asap=new i.AsapScheduler,r.define=s,t.exports}),System.register("rxjs/operator/cache",["rxjs/operator/publishReplay"],!0,function(require,e,t){function r(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.publishReplay.call(this,e,t,r).refCount()}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/operator/publishReplay");return e.cache=r,s.define=i,t.exports}),System.register("rxjs/add/operator/groupBy",["rxjs/Observable","rxjs/operator/groupBy"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/groupBy");return i.Observable.prototype.groupBy=o.groupBy,r.define=s,t.exports}),System.register("rxjs/util/toSubscriber",["rxjs/Subscriber","rxjs/symbol/rxSubscriber"],!0,function(require,e,t){function r(e,t,r){if(e&&"object"==typeof e){if(e instanceof o.Subscriber)return e;if("function"==typeof e[n.rxSubscriber])return e[n.rxSubscriber]()}return new o.Subscriber(e,t,r)}var s=System.global,i=s.define;s.define=void 0;var o=require("rxjs/Subscriber"),n=require("rxjs/symbol/rxSubscriber");return e.toSubscriber=r,s.define=i,t.exports}),System.register("rxjs/observable/IntervalObservable",["rxjs/util/isNumeric","rxjs/Observable","rxjs/scheduler/asap"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/util/isNumeric"),n=require("rxjs/Observable"),a=require("rxjs/scheduler/asap"),u=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=a.asap),e.call(this),this.period=t,this.scheduler=r,(!o.isNumeric(t)||0>t)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=a.asap)}return i(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=a.asap),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,s=e.period;r.next(t),r.isUnsubscribed||(e.index+=1,this.schedule(e,s))},t.prototype._subscribe=function(e){var r=0,s=this.period,i=this.scheduler;e.add(i.schedule(t.dispatch,s,{index:r,subscriber:e,period:s}))},t}(n.Observable);return e.IntervalObservable=u,r.define=s,t.exports}),System.register("rxjs/add/operator/cache",["rxjs/Observable","rxjs/operator/cache"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/operator/cache");return i.Observable.prototype.cache=o.cache,r.define=s,t.exports}),System.register("rxjs/Observable",["rxjs/util/root","rxjs/util/SymbolShim","rxjs/util/toSubscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/util/root"),o=require("rxjs/util/SymbolShim"),n=require("rxjs/util/toSubscriber"),a=require("rxjs/util/tryCatch"),u=require("rxjs/util/errorObject"),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var s=this.operator,i=n.toSubscriber(e,t,r);if(s?i.add(this._subscribe(s.call(i))):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype.forEach=function(e,t,r){if(r||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?r=i.root.Rx.config.Promise:i.root.Promise&&(r=i.root.Promise)),!r)throw new Error("no Promise impl found");var s=this;return new r(function(r,i){s.subscribe(function(r){var s=a.tryCatch(e).call(t,r);s===u.errorObject&&i(u.errorObject.e)},i,r)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.SymbolShim.observable]=function(){return this},e.create=function(t){return new e(t)},e}();return e.Observable=c,r.define=s,t.exports}),System.register("rxjs/add/observable/interval",["rxjs/Observable","rxjs/observable/IntervalObservable"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Observable"),o=require("rxjs/observable/IntervalObservable");return i.Observable.interval=o.IntervalObservable.create,r.define=s,t.exports}),System.register("rxjs/Subject",["rxjs/Observable","rxjs/Subscriber","rxjs/Subscription","rxjs/subject/SubjectSubscription","rxjs/symbol/rxSubscriber","rxjs/util/throwError","rxjs/util/ObjectUnsubscribedError"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=require("rxjs/Observable"),n=require("rxjs/Subscriber"),a=require("rxjs/Subscription"),u=require("rxjs/subject/SubjectSubscription"),c=require("rxjs/symbol/rxSubscriber"),l=require("rxjs/util/throwError"),p=require("rxjs/util/ObjectUnsubscribedError"),b=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return i(t,e),t.prototype.lift=function(e){var r=new t(this.destination||this,this);return r.operator=e,r},t.prototype.add=function(e){a.Subscription.prototype.add.call(this,e)},t.prototype.remove=function(e){a.Subscription.prototype.remove.call(this,e)},t.prototype.unsubscribe=function(){a.Subscription.prototype.unsubscribe.call(this)},t.prototype._subscribe=function(e){if(this.source)return this.source.subscribe(e);if(!e.isUnsubscribed){if(this.hasErrored)return e.error(this.errorValue);if(this.hasCompleted)return e.complete();this.throwIfUnsubscribed();var t=new u.SubjectSubscription(this,e);return this.observers.push(e),t}},t.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},t.prototype.next=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(e),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},t.prototype.error=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=e,this.dispatching||this._error(e))},t.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},t.prototype.asObservable=function(){var e=new h(this);return e},t.prototype._next=function(e){this.destination?this.destination.next(e):this._finalNext(e)},t.prototype._finalNext=function(e){for(var t=-1,r=this.observers.slice(0),s=r.length;++t<s;)r[t].next(e)},t.prototype._error=function(e){this.destination?this.destination.error(e):this._finalError(e)},t.prototype._finalError=function(e){var t=-1,r=this.observers;if(this.observers=null,this.isUnsubscribed=!0,r)for(var s=r.length;++t<s;)r[t].error(e);this.isUnsubscribed=!1,this.unsubscribe()},t.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},t.prototype._finalComplete=function(){var e=-1,t=this.observers;if(this.observers=null,this.isUnsubscribed=!0,t)for(var r=t.length;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&l.throwError(new p.ObjectUnsubscribedError)},t.prototype[c.rxSubscriber]=function(){return new n.Subscriber(this)},t.create=function(e,r){return new t(e,r)},t}(o.Observable);e.Subject=b;var h=function(e){function t(t){e.call(this),this.source=t}return i(t,e),t}(o.Observable);return r.define=s,t.exports}),System.register("rxjs/Rx",["rxjs/Subject","rxjs/Observable","rxjs/add/observable/combineLatest","rxjs/add/observable/concat","rxjs/add/observable/merge","rxjs/add/observable/race","rxjs/add/observable/bindCallback","rxjs/add/observable/bindNodeCallback","rxjs/add/observable/defer","rxjs/add/observable/empty","rxjs/add/observable/forkJoin","rxjs/add/observable/from","rxjs/add/observable/fromArray","rxjs/add/observable/fromEvent","rxjs/add/observable/fromEventPattern","rxjs/add/observable/fromPromise","rxjs/add/observable/interval","rxjs/add/observable/never","rxjs/add/observable/range","rxjs/add/observable/throw","rxjs/add/observable/timer","rxjs/add/observable/zip","rxjs/add/operator/buffer","rxjs/add/operator/bufferCount","rxjs/add/operator/bufferTime","rxjs/add/operator/bufferToggle","rxjs/add/operator/bufferWhen","rxjs/add/operator/cache","rxjs/add/operator/catch","rxjs/add/operator/combineAll","rxjs/add/operator/combineLatest","rxjs/add/operator/concat","rxjs/add/operator/concatAll","rxjs/add/operator/concatMap","rxjs/add/operator/concatMapTo","rxjs/add/operator/count","rxjs/add/operator/dematerialize","rxjs/add/operator/debounce","rxjs/add/operator/debounceTime","rxjs/add/operator/defaultIfEmpty","rxjs/add/operator/delay","rxjs/add/operator/delayWhen","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/do","rxjs/add/operator/expand","rxjs/add/operator/filter","rxjs/add/operator/finally","rxjs/add/operator/first","rxjs/add/operator/groupBy","rxjs/add/operator/ignoreElements","rxjs/add/operator/inspect","rxjs/add/operator/inspectTime","rxjs/add/operator/every","rxjs/add/operator/last","rxjs/add/operator/let","rxjs/add/operator/map","rxjs/add/operator/mapTo","rxjs/add/operator/materialize","rxjs/add/operator/merge","rxjs/add/operator/mergeAll","rxjs/add/operator/mergeMap","rxjs/add/operator/mergeMapTo","rxjs/add/operator/multicast","rxjs/add/operator/observeOn","rxjs/add/operator/partition","rxjs/add/operator/pluck","rxjs/add/operator/publish","rxjs/add/operator/publishBehavior","rxjs/add/operator/publishReplay","rxjs/add/operator/publishLast","rxjs/add/operator/race","rxjs/add/operator/reduce","rxjs/add/operator/repeat","rxjs/add/operator/retry","rxjs/add/operator/retryWhen","rxjs/add/operator/sample","rxjs/add/operator/sampleTime","rxjs/add/operator/scan","rxjs/add/operator/share","rxjs/add/operator/single","rxjs/add/operator/skip","rxjs/add/operator/skipUntil","rxjs/add/operator/skipWhile","rxjs/add/operator/startWith","rxjs/add/operator/subscribeOn","rxjs/add/operator/switch","rxjs/add/operator/switchMap","rxjs/add/operator/switchMapTo","rxjs/add/operator/take","rxjs/add/operator/takeLast","rxjs/add/operator/takeUntil","rxjs/add/operator/takeWhile","rxjs/add/operator/throttle","rxjs/add/operator/throttleTime","rxjs/add/operator/timeout","rxjs/add/operator/timeoutWith","rxjs/add/operator/toArray","rxjs/add/operator/toPromise","rxjs/add/operator/window","rxjs/add/operator/windowCount","rxjs/add/operator/windowTime","rxjs/add/operator/windowToggle","rxjs/add/operator/windowWhen","rxjs/add/operator/withLatestFrom","rxjs/add/operator/zip","rxjs/add/operator/zipAll","rxjs/Operator","rxjs/Subscription","rxjs/Subscriber","rxjs/subject/AsyncSubject","rxjs/subject/ReplaySubject","rxjs/subject/BehaviorSubject","rxjs/observable/ConnectableObservable","rxjs/Notification","rxjs/util/EmptyError","rxjs/util/ArgumentOutOfRangeError","rxjs/util/ObjectUnsubscribedError","rxjs/scheduler/asap","rxjs/scheduler/queue","rxjs/symbol/rxSubscriber"],!0,function(require,e,t){var r=System.global,s=r.define;r.define=void 0;var i=require("rxjs/Subject");e.Subject=i.Subject;var o=require("rxjs/Observable");e.Observable=o.Observable,require("rxjs/add/observable/combineLatest"),require("rxjs/add/observable/concat"),require("rxjs/add/observable/merge"),require("rxjs/add/observable/race"),require("rxjs/add/observable/bindCallback"),require("rxjs/add/observable/bindNodeCallback"),require("rxjs/add/observable/defer"),require("rxjs/add/observable/empty"),require("rxjs/add/observable/forkJoin"),require("rxjs/add/observable/from"),require("rxjs/add/observable/fromArray"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/observable/fromEventPattern"),require("rxjs/add/observable/fromPromise"),require("rxjs/add/observable/interval"),require("rxjs/add/observable/never"),require("rxjs/add/observable/range"),require("rxjs/add/observable/throw"),require("rxjs/add/observable/timer"),require("rxjs/add/observable/zip"),require("rxjs/add/operator/buffer"),require("rxjs/add/operator/bufferCount"),require("rxjs/add/operator/bufferTime"),require("rxjs/add/operator/bufferToggle"),require("rxjs/add/operator/bufferWhen"),require("rxjs/add/operator/cache"),require("rxjs/add/operator/catch"),require("rxjs/add/operator/combineAll"),require("rxjs/add/operator/combineLatest"),require("rxjs/add/operator/concat"),require("rxjs/add/operator/concatAll"),require("rxjs/add/operator/concatMap"),require("rxjs/add/operator/concatMapTo"),require("rxjs/add/operator/count"),require("rxjs/add/operator/dematerialize"),require("rxjs/add/operator/debounce"),require("rxjs/add/operator/debounceTime"),require("rxjs/add/operator/defaultIfEmpty"),require("rxjs/add/operator/delay"),require("rxjs/add/operator/delayWhen"),require("rxjs/add/operator/distinctUntilChanged"),require("rxjs/add/operator/do"),require("rxjs/add/operator/expand"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/finally"),require("rxjs/add/operator/first"),require("rxjs/add/operator/groupBy"),require("rxjs/add/operator/ignoreElements"),require("rxjs/add/operator/inspect"),require("rxjs/add/operator/inspectTime"),require("rxjs/add/operator/every"),require("rxjs/add/operator/last"),require("rxjs/add/operator/let"),require("rxjs/add/operator/map"),require("rxjs/add/operator/mapTo"),require("rxjs/add/operator/materialize"),require("rxjs/add/operator/merge"),require("rxjs/add/operator/mergeAll"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/mergeMapTo"),require("rxjs/add/operator/multicast"),require("rxjs/add/operator/observeOn"),require("rxjs/add/operator/partition"),require("rxjs/add/operator/pluck"),require("rxjs/add/operator/publish"),require("rxjs/add/operator/publishBehavior"),require("rxjs/add/operator/publishReplay"),require("rxjs/add/operator/publishLast"),require("rxjs/add/operator/race"),require("rxjs/add/operator/reduce"),require("rxjs/add/operator/repeat"),require("rxjs/add/operator/retry"),require("rxjs/add/operator/retryWhen"),require("rxjs/add/operator/sample"),require("rxjs/add/operator/sampleTime"),require("rxjs/add/operator/scan"),require("rxjs/add/operator/share"),require("rxjs/add/operator/single"),require("rxjs/add/operator/skip"),require("rxjs/add/operator/skipUntil"),require("rxjs/add/operator/skipWhile"),require("rxjs/add/operator/startWith"),require("rxjs/add/operator/subscribeOn"),require("rxjs/add/operator/switch"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/switchMapTo"),require("rxjs/add/operator/take"),require("rxjs/add/operator/takeLast"),require("rxjs/add/operator/takeUntil"),require("rxjs/add/operator/takeWhile"),require("rxjs/add/operator/throttle"),require("rxjs/add/operator/throttleTime"),require("rxjs/add/operator/timeout"),require("rxjs/add/operator/timeoutWith"),require("rxjs/add/operator/toArray"),require("rxjs/add/operator/toPromise"),require("rxjs/add/operator/window"),require("rxjs/add/operator/windowCount"),require("rxjs/add/operator/windowTime"),require("rxjs/add/operator/windowToggle"),require("rxjs/add/operator/windowWhen"),require("rxjs/add/operator/withLatestFrom"),require("rxjs/add/operator/zip"),require("rxjs/add/operator/zipAll");var n=require("rxjs/Operator");e.Operator=n.Operator;var a=require("rxjs/Subscription");e.Subscription=a.Subscription,e.UnsubscriptionError=a.UnsubscriptionError;var u=require("rxjs/Subscriber");e.Subscriber=u.Subscriber;var c=require("rxjs/subject/AsyncSubject");e.AsyncSubject=c.AsyncSubject;var l=require("rxjs/subject/ReplaySubject");e.ReplaySubject=l.ReplaySubject;var p=require("rxjs/subject/BehaviorSubject");e.BehaviorSubject=p.BehaviorSubject;var b=require("rxjs/observable/ConnectableObservable");e.ConnectableObservable=b.ConnectableObservable;var h=require("rxjs/Notification");e.Notification=h.Notification;var f=require("rxjs/util/EmptyError");e.EmptyError=f.EmptyError;var d=require("rxjs/util/ArgumentOutOfRangeError");e.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var v=require("rxjs/util/ObjectUnsubscribedError");e.ObjectUnsubscribedError=v.ObjectUnsubscribedError;var x=require("rxjs/scheduler/asap"),y=require("rxjs/scheduler/queue"),j=require("rxjs/symbol/rxSubscriber"),m={asap:x.asap,queue:y.queue};e.Scheduler=m;var S={rxSubscriber:j.rxSubscriber};return e.Symbol=S,r.define=s,t.exports});"format register";System.register("angular2/src/facade/lang",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var globalScope;if(typeof window==='undefined'){if(typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope){globalScope=self;}else{globalScope=global;}}else{globalScope=window;}
function scheduleMicroTask(fn){Zone.current.scheduleMicroTask('scheduleMicrotask',fn);}
exports.scheduleMicroTask=scheduleMicroTask;exports.IS_DART=false;var _global=globalScope;exports.global=_global;exports.Type=Function;function getTypeNameForDebugging(type){if(type['name']){return type['name'];}
return typeof type;}
exports.getTypeNameForDebugging=getTypeNameForDebugging;exports.Math=_global.Math;exports.Date=_global.Date;var _devMode=true;var _modeLocked=false;function lockMode(){_modeLocked=true;}
exports.lockMode=lockMode;function enableProdMode(){if(_modeLocked){throw'Cannot enable prod mode after platform setup.';}
_devMode=false;}
exports.enableProdMode=enableProdMode;function assertionsEnabled(){return _devMode;}
exports.assertionsEnabled=assertionsEnabled;_global.assert=function assert(condition){};function CONST_EXPR(expr){return expr;}
exports.CONST_EXPR=CONST_EXPR;function CONST(){return function(target){return target;};}
exports.CONST=CONST;function isPresent(obj){return obj!==undefined&&obj!==null;}
exports.isPresent=isPresent;function isBlank(obj){return obj===undefined||obj===null;}
exports.isBlank=isBlank;function isString(obj){return typeof obj==="string";}
exports.isString=isString;function isFunction(obj){return typeof obj==="function";}
exports.isFunction=isFunction;function isType(obj){return isFunction(obj);}
exports.isType=isType;function isStringMap(obj){return typeof obj==='object'&&obj!==null;}
exports.isStringMap=isStringMap;function isPromise(obj){return obj instanceof _global.Promise;}
exports.isPromise=isPromise;function isArray(obj){return Array.isArray(obj);}
exports.isArray=isArray;function isNumber(obj){return typeof obj==='number';}
exports.isNumber=isNumber;function isDate(obj){return obj instanceof exports.Date&&!isNaN(obj.valueOf());}
exports.isDate=isDate;function noop(){}
exports.noop=noop;function stringify(token){if(typeof token==='string'){return token;}
if(token===undefined||token===null){return''+token;}
if(token.name){return token.name;}
if(token.overriddenName){return token.overriddenName;}
var res=token.toString();var newLineIndex=res.indexOf("\n");return(newLineIndex===-1)?res:res.substring(0,newLineIndex);}
exports.stringify=stringify;function serializeEnum(val){return val;}
exports.serializeEnum=serializeEnum;function deserializeEnum(val,values){return val;}
exports.deserializeEnum=deserializeEnum;function resolveEnumToken(enumValue,val){return enumValue[val];}
exports.resolveEnumToken=resolveEnumToken;var StringWrapper=(function(){function StringWrapper(){}
StringWrapper.fromCharCode=function(code){return String.fromCharCode(code);};StringWrapper.charCodeAt=function(s,index){return s.charCodeAt(index);};StringWrapper.split=function(s,regExp){return s.split(regExp);};StringWrapper.equals=function(s,s2){return s===s2;};StringWrapper.stripLeft=function(s,charVal){if(s&&s.length){var pos=0;for(var i=0;i<s.length;i++){if(s[i]!=charVal)
break;pos++;}
s=s.substring(pos);}
return s;};StringWrapper.stripRight=function(s,charVal){if(s&&s.length){var pos=s.length;for(var i=s.length-1;i>=0;i--){if(s[i]!=charVal)
break;pos--;}
s=s.substring(0,pos);}
return s;};StringWrapper.replace=function(s,from,replace){return s.replace(from,replace);};StringWrapper.replaceAll=function(s,from,replace){return s.replace(from,replace);};StringWrapper.slice=function(s,from,to){if(from===void 0){from=0;}
if(to===void 0){to=null;}
return s.slice(from,to===null?undefined:to);};StringWrapper.replaceAllMapped=function(s,from,cb){return s.replace(from,function(){var matches=[];for(var _i=0;_i<arguments.length;_i++){matches[_i-0]=arguments[_i];}
matches.splice(-2,2);return cb(matches);});};StringWrapper.contains=function(s,substr){return s.indexOf(substr)!=-1;};StringWrapper.compare=function(a,b){if(a<b){return-1;}else if(a>b){return 1;}else{return 0;}};return StringWrapper;})();exports.StringWrapper=StringWrapper;var StringJoiner=(function(){function StringJoiner(parts){if(parts===void 0){parts=[];}
this.parts=parts;}
StringJoiner.prototype.add=function(part){this.parts.push(part);};StringJoiner.prototype.toString=function(){return this.parts.join("");};return StringJoiner;})();exports.StringJoiner=StringJoiner;var NumberParseError=(function(_super){__extends(NumberParseError,_super);function NumberParseError(message){_super.call(this);this.message=message;}
NumberParseError.prototype.toString=function(){return this.message;};return NumberParseError;})(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=(function(){function NumberWrapper(){}
NumberWrapper.toFixed=function(n,fractionDigits){return n.toFixed(fractionDigits);};NumberWrapper.equal=function(a,b){return a===b;};NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result)){throw new NumberParseError("Invalid integer literal when parsing "+text);}
return result;};NumberWrapper.parseInt=function(text,radix){if(radix==10){if(/^(\-|\+)?[0-9]+$/.test(text)){return parseInt(text,radix);}}else if(radix==16){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text)){return parseInt(text,radix);}}else{var result=parseInt(text,radix);if(!isNaN(result)){return result;}}
throw new NumberParseError("Invalid integer literal when parsing "+text+" in base "+radix);};NumberWrapper.parseFloat=function(text){return parseFloat(text);};Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN;},enumerable:true,configurable:true});NumberWrapper.isNaN=function(value){return isNaN(value);};NumberWrapper.isInteger=function(value){return Number.isInteger(value);};return NumberWrapper;})();exports.NumberWrapper=NumberWrapper;exports.RegExp=_global.RegExp;var RegExpWrapper=(function(){function RegExpWrapper(){}
RegExpWrapper.create=function(regExpStr,flags){if(flags===void 0){flags='';}
flags=flags.replace(/g/g,'');return new _global.RegExp(regExpStr,flags+'g');};RegExpWrapper.firstMatch=function(regExp,input){regExp.lastIndex=0;return regExp.exec(input);};RegExpWrapper.test=function(regExp,input){regExp.lastIndex=0;return regExp.test(input);};RegExpWrapper.matcher=function(regExp,input){regExp.lastIndex=0;return{re:regExp,input:input};};RegExpWrapper.replaceAll=function(regExp,input,replace){var c=regExp.exec(input);var res='';regExp.lastIndex=0;var prev=0;while(c){res+=input.substring(prev,c.index);res+=replace(c);prev=c.index+c[0].length;regExp.lastIndex=prev;c=regExp.exec(input);}
res+=input.substring(prev);return res;};return RegExpWrapper;})();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=(function(){function RegExpMatcherWrapper(){}
RegExpMatcherWrapper.next=function(matcher){return matcher.re.exec(matcher.input);};return RegExpMatcherWrapper;})();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=(function(){function FunctionWrapper(){}
FunctionWrapper.apply=function(fn,posArgs){return fn.apply(null,posArgs);};return FunctionWrapper;})();exports.FunctionWrapper=FunctionWrapper;function looseIdentical(a,b){return a===b||typeof a==="number"&&typeof b==="number"&&isNaN(a)&&isNaN(b);}
exports.looseIdentical=looseIdentical;function getMapKey(value){return value;}
exports.getMapKey=getMapKey;function normalizeBlank(obj){return isBlank(obj)?null:obj;}
exports.normalizeBlank=normalizeBlank;function normalizeBool(obj){return isBlank(obj)?false:obj;}
exports.normalizeBool=normalizeBool;function isJsObject(o){return o!==null&&(typeof o==="function"||typeof o==="object");}
exports.isJsObject=isJsObject;function print(obj){console.log(obj);}
exports.print=print;var Json=(function(){function Json(){}
Json.parse=function(s){return _global.JSON.parse(s);};Json.stringify=function(data){return _global.JSON.stringify(data,null,2);};return Json;})();exports.Json=Json;var DateWrapper=(function(){function DateWrapper(){}
DateWrapper.create=function(year,month,day,hour,minutes,seconds,milliseconds){if(month===void 0){month=1;}
if(day===void 0){day=1;}
if(hour===void 0){hour=0;}
if(minutes===void 0){minutes=0;}
if(seconds===void 0){seconds=0;}
if(milliseconds===void 0){milliseconds=0;}
return new exports.Date(year,month-1,day,hour,minutes,seconds,milliseconds);};DateWrapper.fromISOString=function(str){return new exports.Date(str);};DateWrapper.fromMillis=function(ms){return new exports.Date(ms);};DateWrapper.toMillis=function(date){return date.getTime();};DateWrapper.now=function(){return new exports.Date();};DateWrapper.toJson=function(date){return date.toJSON();};return DateWrapper;})();exports.DateWrapper=DateWrapper;function setValueOnPath(global,path,value){var parts=path.split('.');var obj=global;while(parts.length>1){var name=parts.shift();if(obj.hasOwnProperty(name)&&isPresent(obj[name])){obj=obj[name];}else{obj=obj[name]={};}}
if(obj===undefined||obj===null){obj={};}
obj[parts.shift()]=value;}
exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;function getSymbolIterator(){if(isBlank(_symbolIterator)){if(isPresent(Symbol)&&isPresent(Symbol.iterator)){_symbolIterator=Symbol.iterator;}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=='entries'&&key!=='size'&&Map.prototype[key]===Map.prototype['entries']){_symbolIterator=key;}}}}
return _symbolIterator;}
exports.getSymbolIterator=getSymbolIterator;function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl;var fnArgNames=[];var fnArgValues=[];for(var argName in vars){fnArgNames.push(argName);fnArgValues.push(vars[argName]);}
return new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))().apply(void 0,fnArgValues);}
exports.evalExpression=evalExpression;function isPrimitive(obj){return!isJsObject(obj);}
exports.isPrimitive=isPrimitive;function hasConstructor(value,type){return value.constructor===type;}
exports.hasConstructor=hasConstructor;function bitWiseOr(values){return values.reduce(function(a,b){return a|b;});}
exports.bitWiseOr=bitWiseOr;function bitWiseAnd(values){return values.reduce(function(a,b){return a&b;});}
exports.bitWiseAnd=bitWiseAnd;function escape(s){return _global.encodeURI(s);}
exports.escape=escape;global.define=__define;return module.exports;});System.register("angular2/src/core/di/metadata",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var InjectMetadata=(function(){function InjectMetadata(token){this.token=token;}
InjectMetadata.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")";};InjectMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],InjectMetadata);return InjectMetadata;})();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=(function(){function OptionalMetadata(){}
OptionalMetadata.prototype.toString=function(){return"@Optional()";};OptionalMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],OptionalMetadata);return OptionalMetadata;})();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=(function(){function DependencyMetadata(){}
Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null;},enumerable:true,configurable:true});DependencyMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],DependencyMetadata);return DependencyMetadata;})();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=(function(){function InjectableMetadata(){}
InjectableMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],InjectableMetadata);return InjectableMetadata;})();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=(function(){function SelfMetadata(){}
SelfMetadata.prototype.toString=function(){return"@Self()";};SelfMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],SelfMetadata);return SelfMetadata;})();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=(function(){function SkipSelfMetadata(){}
SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()";};SkipSelfMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],SkipSelfMetadata);return SkipSelfMetadata;})();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=(function(){function HostMetadata(){}
HostMetadata.prototype.toString=function(){return"@Host()";};HostMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],HostMetadata);return HostMetadata;})();exports.HostMetadata=HostMetadata;global.define=__define;return module.exports;});System.register("angular2/src/core/util/decorators",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var _nextClassId=0;function extractAnnotation(annotation){if(lang_1.isFunction(annotation)&&annotation.hasOwnProperty('annotation')){annotation=annotation.annotation;}
return annotation;}
function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array){throw new Error("Can not use native "+lang_1.stringify(fnOrArray)+" as constructor");}
if(lang_1.isFunction(fnOrArray)){return fnOrArray;}else if(fnOrArray instanceof Array){var annotations=fnOrArray;var fn=fnOrArray[fnOrArray.length-1];if(!lang_1.isFunction(fn)){throw new Error("Last position of Class method array must be Function in key "+key+" was '"+lang_1.stringify(fn)+"'");}
var annoLength=annotations.length-1;if(annoLength!=fn.length){throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+lang_1.stringify(fn));}
var paramsAnnotations=[];for(var i=0,ii=annotations.length-1;i<ii;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(annotation instanceof Array){for(var j=0;j<annotation.length;j++){paramAnnotations.push(extractAnnotation(annotation[j]));}}else if(lang_1.isFunction(annotation)){paramAnnotations.push(extractAnnotation(annotation));}else{paramAnnotations.push(annotation);}}
Reflect.defineMetadata('parameters',paramsAnnotations,fn);return fn;}else{throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+lang_1.stringify(fnOrArray)+"'");}}
function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty('constructor')?clsDef.constructor:undefined,'constructor');var proto=constructor.prototype;if(clsDef.hasOwnProperty('extends')){if(lang_1.isFunction(clsDef.extends)){constructor.prototype=proto=Object.create(clsDef.extends.prototype);}else{throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(clsDef.extends));}}
for(var key in clsDef){if(key!='extends'&&key!='prototype'&&clsDef.hasOwnProperty(key)){proto[key]=applyParams(clsDef[key],key);}}
if(this&&this.annotations instanceof Array){Reflect.defineMetadata('annotations',this.annotations,constructor);}
if(!constructor['name']){constructor['overriddenName']="class"+_nextClassId++;}
return constructor;}
exports.Class=Class;var Reflect=lang_1.global.Reflect;(function checkReflect(){if(!(Reflect&&Reflect.getMetadata)){throw'reflect-metadata shim is required when using class decorators';}})();function makeDecorator(annotationCls,chainFn){if(chainFn===void 0){chainFn=null;}
function DecoratorFactory(objOrType){var annotationInstance=new annotationCls(objOrType);if(this instanceof annotationCls){return annotationInstance;}else{var chainAnnotation=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function TypeDecorator(cls){var annotations=Reflect.getOwnMetadata('annotations',cls);annotations=annotations||[];annotations.push(annotationInstance);Reflect.defineMetadata('annotations',annotations,cls);return cls;};TypeDecorator.annotations=chainAnnotation;TypeDecorator.Class=Class;if(chainFn)
chainFn(TypeDecorator);return TypeDecorator;}}
DecoratorFactory.prototype=Object.create(annotationCls.prototype);return DecoratorFactory;}
exports.makeDecorator=makeDecorator;function makeParamDecorator(annotationCls){function ParamDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}
var annotationInstance=Object.create(annotationCls.prototype);annotationCls.apply(annotationInstance,args);if(this instanceof annotationCls){return annotationInstance;}else{ParamDecorator.annotation=annotationInstance;return ParamDecorator;}
function ParamDecorator(cls,unusedKey,index){var parameters=Reflect.getMetadata('parameters',cls);parameters=parameters||[];while(parameters.length<=index){parameters.push(null);}
parameters[index]=parameters[index]||[];var annotationsForParam=parameters[index];annotationsForParam.push(annotationInstance);Reflect.defineMetadata('parameters',parameters,cls);return cls;}}
ParamDecoratorFactory.prototype=Object.create(annotationCls.prototype);return ParamDecoratorFactory;}
exports.makeParamDecorator=makeParamDecorator;function makePropDecorator(decoratorCls){function PropDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i];}
var decoratorInstance=Object.create(decoratorCls.prototype);decoratorCls.apply(decoratorInstance,args);if(this instanceof decoratorCls){return decoratorInstance;}else{return function PropDecorator(target,name){var meta=Reflect.getOwnMetadata('propMetadata',target.constructor);meta=meta||{};meta[name]=meta[name]||[];meta[name].unshift(decoratorInstance);Reflect.defineMetadata('propMetadata',meta,target.constructor);};}}
PropDecoratorFactory.prototype=Object.create(decoratorCls.prototype);return PropDecoratorFactory;}
exports.makePropDecorator=makePropDecorator;global.define=__define;return module.exports;});System.register("angular2/src/core/di/forward_ref",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");function forwardRef(forwardRefFn){forwardRefFn.__forward_ref__=forwardRef;forwardRefFn.toString=function(){return lang_1.stringify(this());};return forwardRefFn;}
exports.forwardRef=forwardRef;function resolveForwardRef(type){if(lang_1.isFunction(type)&&type.hasOwnProperty('__forward_ref__')&&type.__forward_ref__===forwardRef){return type();}else{return type;}}
exports.resolveForwardRef=resolveForwardRef;global.define=__define;return module.exports;});System.register("angular2/src/facade/collection",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Map=lang_1.global.Map;exports.Set=lang_1.global.Set;var createMapFromPairs=(function(){try{if(new exports.Map([[1,2]]).size===1){return function createMapFromPairs(pairs){return new exports.Map(pairs);};}}catch(e){}
return function createMapAndPopulateFromPairs(pairs){var map=new exports.Map();for(var i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1]);}
return map;};})();var createMapFromMap=(function(){try{if(new exports.Map(new exports.Map())){return function createMapFromMap(m){return new exports.Map(m);};}}catch(e){}
return function createMapAndPopulateFromMap(m){var map=new exports.Map();m.forEach(function(v,k){map.set(k,v);});return map;};})();var _clearValues=(function(){if((new exports.Map()).keys().next){return function _clearValues(m){var keyIterator=m.keys();var k;while(!((k=keyIterator.next()).done)){m.set(k.value,null);}};}else{return function _clearValuesWithForeEach(m){m.forEach(function(v,k){m.set(k,null);});};}})();var _arrayFromMap=(function(){try{if((new exports.Map()).values().next){return function createArrayFromMap(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys());};}}catch(e){}
return function createArrayFromMapWithForeach(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;m.forEach(function(v,k){res[i]=getValues?v:k;i++;});return res;};})();var MapWrapper=(function(){function MapWrapper(){}
MapWrapper.clone=function(m){return createMapFromMap(m);};MapWrapper.createFromStringMap=function(stringMap){var result=new exports.Map();for(var prop in stringMap){result.set(prop,stringMap[prop]);}
return result;};MapWrapper.toStringMap=function(m){var r={};m.forEach(function(v,k){return r[k]=v;});return r;};MapWrapper.createFromPairs=function(pairs){return createMapFromPairs(pairs);};MapWrapper.clearValues=function(m){_clearValues(m);};MapWrapper.iterable=function(m){return m;};MapWrapper.keys=function(m){return _arrayFromMap(m,false);};MapWrapper.values=function(m){return _arrayFromMap(m,true);};return MapWrapper;})();exports.MapWrapper=MapWrapper;var StringMapWrapper=(function(){function StringMapWrapper(){}
StringMapWrapper.create=function(){return{};};StringMapWrapper.contains=function(map,key){return map.hasOwnProperty(key);};StringMapWrapper.get=function(map,key){return map.hasOwnProperty(key)?map[key]:undefined;};StringMapWrapper.set=function(map,key,value){map[key]=value;};StringMapWrapper.keys=function(map){return Object.keys(map);};StringMapWrapper.values=function(map){return Object.keys(map).reduce(function(r,a){r.push(map[a]);return r;},[]);};StringMapWrapper.isEmpty=function(map){for(var prop in map){return false;}
return true;};StringMapWrapper.delete=function(map,key){delete map[key];};StringMapWrapper.forEach=function(map,callback){for(var prop in map){if(map.hasOwnProperty(prop)){callback(map[prop],prop);}}};StringMapWrapper.merge=function(m1,m2){var m={};for(var attr in m1){if(m1.hasOwnProperty(attr)){m[attr]=m1[attr];}}
for(var attr in m2){if(m2.hasOwnProperty(attr)){m[attr]=m2[attr];}}
return m;};StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1);var k2=Object.keys(m2);if(k1.length!=k2.length){return false;}
var key;for(var i=0;i<k1.length;i++){key=k1[i];if(m1[key]!==m2[key]){return false;}}
return true;};return StringMapWrapper;})();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=(function(){function ListWrapper(){}
ListWrapper.createFixedSize=function(size){return new Array(size);};ListWrapper.createGrowableSize=function(size){return new Array(size);};ListWrapper.clone=function(array){return array.slice(0);};ListWrapper.createImmutable=function(array){var result=ListWrapper.clone(array);Object.seal(result);return result;};ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++){fn(array[i],i);}};ListWrapper.first=function(array){if(!array)
return null;return array[0];};ListWrapper.last=function(array){if(!array||array.length==0)
return null;return array[array.length-1];};ListWrapper.indexOf=function(array,value,startIndex){if(startIndex===void 0){startIndex=0;}
return array.indexOf(value,startIndex);};ListWrapper.contains=function(list,el){return list.indexOf(el)!==-1;};ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse();};ListWrapper.concat=function(a,b){return a.concat(b);};ListWrapper.insert=function(list,index,value){list.splice(index,0,value);};ListWrapper.removeAt=function(list,index){var res=list[index];list.splice(index,1);return res;};ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1);}};ListWrapper.remove=function(list,el){var index=list.indexOf(el);if(index>-1){list.splice(index,1);return true;}
return false;};ListWrapper.clear=function(list){list.length=0;};ListWrapper.isEmpty=function(list){return list.length==0;};ListWrapper.fill=function(list,value,start,end){if(start===void 0){start=0;}
if(end===void 0){end=null;}
list.fill(value,start,end===null?list.length:end);};ListWrapper.equals=function(a,b){if(a.length!=b.length)
return false;for(var i=0;i<a.length;++i){if(a[i]!==b[i])
return false;}
return true;};ListWrapper.slice=function(l,from,to){if(from===void 0){from=0;}
if(to===void 0){to=null;}
return l.slice(from,to===null?undefined:to);};ListWrapper.splice=function(l,from,length){return l.splice(from,length);};ListWrapper.sort=function(l,compareFn){if(lang_1.isPresent(compareFn)){l.sort(compareFn);}else{l.sort();}};ListWrapper.toString=function(l){return l.toString();};ListWrapper.toJSON=function(l){return JSON.stringify(l);};ListWrapper.maximum=function(list,predicate){if(list.length==0){return null;}
var solution=null;var maxValue=-Infinity;for(var index=0;index<list.length;index++){var candidate=list[index];if(lang_1.isBlank(candidate)){continue;}
var candidateValue=predicate(candidate);if(candidateValue>maxValue){solution=candidate;maxValue=candidateValue;}}
return solution;};ListWrapper.isImmutable=function(list){return Object.isSealed(list);};ListWrapper.flatten=function(array){var res=[];array.forEach(function(a){return res=res.concat(a);});return res;};return ListWrapper;})();exports.ListWrapper=ListWrapper;function isListLikeIterable(obj){if(!lang_1.isJsObject(obj))
return false;return lang_1.isArray(obj)||(!(obj instanceof exports.Map)&&lang_1.getSymbolIterator()in obj);}
exports.isListLikeIterable=isListLikeIterable;function areIterablesEqual(a,b,comparator){var iterator1=a[lang_1.getSymbolIterator()]();var iterator2=b[lang_1.getSymbolIterator()]();while(true){var item1=iterator1.next();var item2=iterator2.next();if(item1.done&&item2.done)
return true;if(item1.done||item2.done)
return false;if(!comparator(item1.value,item2.value))
return false;}}
exports.areIterablesEqual=areIterablesEqual;function iterateListLike(obj,fn){if(lang_1.isArray(obj)){for(var i=0;i<obj.length;i++){fn(obj[i]);}}else{var iterator=obj[lang_1.getSymbolIterator()]();var item;while(!((item=iterator.next()).done)){fn(item.value);}}}
exports.iterateListLike=iterateListLike;var createSetFromList=(function(){var test=new exports.Set([1,2,3]);if(test.size===3){return function createSetFromList(lst){return new exports.Set(lst);};}else{return function createSetAndPopulateFromList(lst){var res=new exports.Set(lst);if(res.size!==lst.length){for(var i=0;i<lst.length;i++){res.add(lst[i]);}}
return res;};}})();var SetWrapper=(function(){function SetWrapper(){}
SetWrapper.createFromList=function(lst){return createSetFromList(lst);};SetWrapper.has=function(s,key){return s.has(key);};SetWrapper.delete=function(m,k){m.delete(k);};return SetWrapper;})();exports.SetWrapper=SetWrapper;global.define=__define;return module.exports;});System.register("angular2/src/facade/base_wrapped_exception",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var BaseWrappedException=(function(_super){__extends(BaseWrappedException,_super);function BaseWrappedException(message){_super.call(this,message);}
Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return'';},enumerable:true,configurable:true});Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return'';},enumerable:true,configurable:true});return BaseWrappedException;})(Error);exports.BaseWrappedException=BaseWrappedException;global.define=__define;return module.exports;});System.register("angular2/src/facade/exception_handler",["angular2/src/facade/lang","angular2/src/facade/base_wrapped_exception","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var base_wrapped_exception_1=require("angular2/src/facade/base_wrapped_exception");var collection_1=require("angular2/src/facade/collection");var _ArrayLogger=(function(){function _ArrayLogger(){this.res=[];}
_ArrayLogger.prototype.log=function(s){this.res.push(s);};_ArrayLogger.prototype.logError=function(s){this.res.push(s);};_ArrayLogger.prototype.logGroup=function(s){this.res.push(s);};_ArrayLogger.prototype.logGroupEnd=function(){};;return _ArrayLogger;})();var ExceptionHandler=(function(){function ExceptionHandler(_logger,_rethrowException){if(_rethrowException===void 0){_rethrowException=true;}
this._logger=_logger;this._rethrowException=_rethrowException;}
ExceptionHandler.exceptionToString=function(exception,stackTrace,reason){if(stackTrace===void 0){stackTrace=null;}
if(reason===void 0){reason=null;}
var l=new _ArrayLogger();var e=new ExceptionHandler(l,false);e.call(exception,stackTrace,reason);return l.res.join("\n");};ExceptionHandler.prototype.call=function(exception,stackTrace,reason){if(stackTrace===void 0){stackTrace=null;}
if(reason===void 0){reason=null;}
var originalException=this._findOriginalException(exception);var originalStack=this._findOriginalStack(exception);var context=this._findContext(exception);this._logger.logGroup("EXCEPTION: "+this._extractMessage(exception));if(lang_1.isPresent(stackTrace)&&lang_1.isBlank(originalStack)){this._logger.logError("STACKTRACE:");this._logger.logError(this._longStackTrace(stackTrace));}
if(lang_1.isPresent(reason)){this._logger.logError("REASON: "+reason);}
if(lang_1.isPresent(originalException)){this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(originalException));}
if(lang_1.isPresent(originalStack)){this._logger.logError("ORIGINAL STACKTRACE:");this._logger.logError(this._longStackTrace(originalStack));}
if(lang_1.isPresent(context)){this._logger.logError("ERROR CONTEXT:");this._logger.logError(context);}
this._logger.logGroupEnd();if(this._rethrowException)
throw exception;};ExceptionHandler.prototype._extractMessage=function(exception){return exception instanceof base_wrapped_exception_1.BaseWrappedException?exception.wrapperMessage:exception.toString();};ExceptionHandler.prototype._longStackTrace=function(stackTrace){return collection_1.isListLikeIterable(stackTrace)?stackTrace.join("\n\n-----async gap-----\n"):stackTrace.toString();};ExceptionHandler.prototype._findContext=function(exception){try{if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))
return null;return lang_1.isPresent(exception.context)?exception.context:this._findContext(exception.originalException);}catch(e){return null;}};ExceptionHandler.prototype._findOriginalException=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))
return null;var e=exception.originalException;while(e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)){e=e.originalException;}
return e;};ExceptionHandler.prototype._findOriginalStack=function(exception){if(!(exception instanceof base_wrapped_exception_1.BaseWrappedException))
return null;var e=exception;var stack=exception.originalStack;while(e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)){e=e.originalException;if(e instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(e.originalException)){stack=e.originalStack;}}
return stack;};return ExceptionHandler;})();exports.ExceptionHandler=ExceptionHandler;global.define=__define;return module.exports;});System.register("angular2/src/core/reflection/reflector_reader",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ReflectorReader=(function(){function ReflectorReader(){}
return ReflectorReader;})();exports.ReflectorReader=ReflectorReader;global.define=__define;return module.exports;});System.register("angular2/src/core/reflection/reflection_capabilities",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var ReflectionCapabilities=(function(){function ReflectionCapabilities(reflect){this._reflect=lang_1.isPresent(reflect)?reflect:lang_1.global.Reflect;}
ReflectionCapabilities.prototype.isReflectionEnabled=function(){return true;};ReflectionCapabilities.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t();};case 1:return function(a1){return new t(a1);};case 2:return function(a1,a2){return new t(a1,a2);};case 3:return function(a1,a2,a3){return new t(a1,a2,a3);};case 4:return function(a1,a2,a3,a4){return new t(a1,a2,a3,a4);};case 5:return function(a1,a2,a3,a4,a5){return new t(a1,a2,a3,a4,a5);};case 6:return function(a1,a2,a3,a4,a5,a6){return new t(a1,a2,a3,a4,a5,a6);};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return new t(a1,a2,a3,a4,a5,a6,a7);};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return new t(a1,a2,a3,a4,a5,a6,a7,a8);};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9);};case 10:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10);};case 11:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11);};case 12:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12);};case 13:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13);};case 14:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14);};case 15:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15);};case 16:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16);};case 17:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17);};case 18:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18);};case 19:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19);};case 20:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20);};};throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments");};ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(paramTypes,paramAnnotations){var result;if(typeof paramTypes==='undefined'){result=new Array(paramAnnotations.length);}else{result=new Array(paramTypes.length);}
for(var i=0;i<result.length;i++){if(typeof paramTypes==='undefined'){result[i]=[];}else if(paramTypes[i]!=Object){result[i]=[paramTypes[i]];}else{result[i]=[];}
if(lang_1.isPresent(paramAnnotations)&&lang_1.isPresent(paramAnnotations[i])){result[i]=result[i].concat(paramAnnotations[i]);}}
return result;};ReflectionCapabilities.prototype.parameters=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.parameters)){return typeOrFunc.parameters;}
if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata('parameters',typeOrFunc);var paramTypes=this._reflect.getMetadata('design:paramtypes',typeOrFunc);if(lang_1.isPresent(paramTypes)||lang_1.isPresent(paramAnnotations)){return this._zipTypesAndAnnotations(paramTypes,paramAnnotations);}}
var parameters=new Array(typeOrFunc.length);parameters.fill(undefined);return parameters;};ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.annotations)){var annotations=typeOrFunc.annotations;if(lang_1.isFunction(annotations)&&annotations.annotations){annotations=annotations.annotations;}
return annotations;}
if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var annotations=this._reflect.getMetadata('annotations',typeOrFunc);if(lang_1.isPresent(annotations))
return annotations;}
return[];};ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.propMetadata)){var propMetadata=typeOrFunc.propMetadata;if(lang_1.isFunction(propMetadata)&&propMetadata.propMetadata){propMetadata=propMetadata.propMetadata;}
return propMetadata;}
if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var propMetadata=this._reflect.getMetadata('propMetadata',typeOrFunc);if(lang_1.isPresent(propMetadata))
return propMetadata;}
return{};};ReflectionCapabilities.prototype.interfaces=function(type){throw new exceptions_1.BaseException("JavaScript does not support interfaces");};ReflectionCapabilities.prototype.getter=function(name){return new Function('o','return o.'+name+';');};ReflectionCapabilities.prototype.setter=function(name){return new Function('o','v','return o.'+name+' = v;');};ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function('o','args',functionBody);};ReflectionCapabilities.prototype.importUri=function(type){return'./';};return ReflectionCapabilities;})();exports.ReflectionCapabilities=ReflectionCapabilities;global.define=__define;return module.exports;});System.register("angular2/src/core/di/key",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di/forward_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var forward_ref_1=require("angular2/src/core/di/forward_ref");var Key=(function(){function Key(token,id){this.token=token;this.id=id;if(lang_1.isBlank(token)){throw new exceptions_1.BaseException('Token must be defined!');}}
Object.defineProperty(Key.prototype,"displayName",{get:function(){return lang_1.stringify(this.token);},enumerable:true,configurable:true});Key.get=function(token){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(token));};Object.defineProperty(Key,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys;},enumerable:true,configurable:true});return Key;})();exports.Key=Key;var KeyRegistry=(function(){function KeyRegistry(){this._allKeys=new Map();}
KeyRegistry.prototype.get=function(token){if(token instanceof Key)
return token;if(this._allKeys.has(token)){return this._allKeys.get(token);}
var newKey=new Key(token,Key.numberOfKeys);this._allKeys.set(token,newKey);return newKey;};Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size;},enumerable:true,configurable:true});return KeyRegistry;})();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry();global.define=__define;return module.exports;});System.register("angular2/src/core/di/exceptions",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");function findFirstClosedCycle(keys){var res=[];for(var i=0;i<keys.length;++i){if(collection_1.ListWrapper.contains(res,keys[i])){res.push(keys[i]);return res;}else{res.push(keys[i]);}}
return res;}
function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(collection_1.ListWrapper.reversed(keys));var tokenStrs=reversed.map(function(k){return lang_1.stringify(k.token);});return" ("+tokenStrs.join(' -> ')+")";}else{return"";}}
var AbstractProviderError=(function(_super){__extends(AbstractProviderError,_super);function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Exception");this.keys=[key];this.injectors=[injector];this.constructResolvingMessage=constructResolvingMessage;this.message=this.constructResolvingMessage(this.keys);}
AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key);this.message=this.constructResolvingMessage(this.keys);};Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext();},enumerable:true,configurable:true});return AbstractProviderError;})(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=(function(_super){__extends(NoProviderError,_super);function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=lang_1.stringify(collection_1.ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys);});}
return NoProviderError;})(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=(function(_super){__extends(CyclicDependencyError,_super);function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys);});}
return CyclicDependencyError;})(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=(function(_super){__extends(InstantiationError,_super);function InstantiationError(injector,originalException,originalStack,key){_super.call(this,"DI Exception",originalException,originalStack,null);this.keys=[key];this.injectors=[injector];}
InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key);};Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var first=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+".";},enumerable:true,configurable:true});Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0];},enumerable:true,configurable:true});Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext();},enumerable:true,configurable:true});return InstantiationError;})(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=(function(_super){__extends(InvalidProviderError,_super);function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider.toString());}
return InvalidProviderError;})(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=(function(_super){__extends(NoAnnotationError,_super);function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params));}
NoAnnotationError._genMessage=function(typeOrFunc,params){var signature=[];for(var i=0,ii=params.length;i<ii;i++){var parameter=params[i];if(lang_1.isBlank(parameter)||parameter.length==0){signature.push('?');}else{signature.push(parameter.map(lang_1.stringify).join(' '));}}
return"Cannot resolve all parameters for '"+lang_1.stringify(typeOrFunc)+"'("+signature.join(', ')+"). "+"Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(typeOrFunc)+"' is decorated with Injectable.";};return NoAnnotationError;})(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=(function(_super){__extends(OutOfBoundsError,_super);function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.");}
return OutOfBoundsError;})(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=(function(_super){__extends(MixingMultiProvidersWithRegularProvidersError,_super);function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString());}
return MixingMultiProvidersWithRegularProvidersError;})(exceptions_1.BaseException);exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError;global.define=__define;return module.exports;});System.register("angular2/src/core/di/opaque_token",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var OpaqueToken=(function(){function OpaqueToken(_desc){this._desc=_desc;}
OpaqueToken.prototype.toString=function(){return"Token "+this._desc;};OpaqueToken=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],OpaqueToken);return OpaqueToken;})();exports.OpaqueToken=OpaqueToken;global.define=__define;return module.exports;});System.register("angular2/src/animate/css_animation_options",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var CssAnimationOptions=(function(){function CssAnimationOptions(){this.classesToAdd=[];this.classesToRemove=[];this.animationClasses=[];}
return CssAnimationOptions;})();exports.CssAnimationOptions=CssAnimationOptions;global.define=__define;return module.exports;});System.register("angular2/src/facade/math",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Math=lang_1.global.Math;exports.NaN=typeof exports.NaN;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return'-'+m[1].toLowerCase();});}
exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase();});}
exports.dashCaseToCamelCase=dashCaseToCamelCase;global.define=__define;return module.exports;});System.register("angular2/src/animate/browser_details",["angular2/src/core/di","angular2/src/facade/math","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var math_1=require("angular2/src/facade/math");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var BrowserDetails=(function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=false;this.doesElapsedTimeIncludesDelay();}
BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var _this=this;var div=dom_adapter_1.DOM.createElement('div');dom_adapter_1.DOM.setAttribute(div,'style',"position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;");this.raf(function(timestamp){dom_adapter_1.DOM.on(div,'transitionend',function(event){var elapsed=math_1.Math.round(event.elapsedTime*1000);_this.elapsedTimeIncludesDelay=elapsed==2;dom_adapter_1.DOM.remove(div);});dom_adapter_1.DOM.setStyle(div,'width','2px');},2);};BrowserDetails.prototype.raf=function(callback,frames){if(frames===void 0){frames=1;}
var queue=new RafQueue(callback,frames);return function(){return queue.cancel();};};BrowserDetails=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],BrowserDetails);return BrowserDetails;})();exports.BrowserDetails=BrowserDetails;var RafQueue=(function(){function RafQueue(callback,frames){this.callback=callback;this.frames=frames;this._raf();}
RafQueue.prototype._raf=function(){var _this=this;this.currentFrameId=dom_adapter_1.DOM.requestAnimationFrame(function(timestamp){return _this._nextFrame(timestamp);});};RafQueue.prototype._nextFrame=function(timestamp){this.frames--;if(this.frames>0){this._raf();}else{this.callback(timestamp);}};RafQueue.prototype.cancel=function(){dom_adapter_1.DOM.cancelAnimationFrame(this.currentFrameId);this.currentFrameId=null;};return RafQueue;})();global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/dom_tokens",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.DOCUMENT=lang_1.CONST_EXPR(new di_1.OpaqueToken('DocumentToken'));global.define=__define;return module.exports;});System.register("angular2/src/facade/promise",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var PromiseCompleter=(function(){function PromiseCompleter(){var _this=this;this.promise=new Promise(function(res,rej){_this.resolve=res;_this.reject=rej;});}
return PromiseCompleter;})();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=(function(){function PromiseWrapper(){}
PromiseWrapper.resolve=function(obj){return Promise.resolve(obj);};PromiseWrapper.reject=function(obj,_){return Promise.reject(obj);};PromiseWrapper.catchError=function(promise,onError){return promise.catch(onError);};PromiseWrapper.all=function(promises){if(promises.length==0)
return Promise.resolve([]);return Promise.all(promises);};PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection);};PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation());}catch(e){rej(e);}});};PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){});};PromiseWrapper.isPromise=function(obj){return obj instanceof Promise;};PromiseWrapper.completer=function(){return new PromiseCompleter();};return PromiseWrapper;})();exports.PromiseWrapper=PromiseWrapper;global.define=__define;return module.exports;});System.register("angular2/src/core/zone/ng_zone_impl",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var NgZoneError=(function(){function NgZoneError(error,stackTrace){this.error=error;this.stackTrace=stackTrace;}
return NgZoneError;})();exports.NgZoneError=NgZoneError;var NgZoneImpl=(function(){function NgZoneImpl(_a){var _this=this;var trace=_a.trace,onEnter=_a.onEnter,onLeave=_a.onLeave,setMicrotask=_a.setMicrotask,setMacrotask=_a.setMacrotask,onError=_a.onError;this.onEnter=onEnter;this.onLeave=onLeave;this.setMicrotask=setMicrotask;this.setMacrotask=setMacrotask;this.onError=onError;if(Zone){this.outer=this.inner=Zone.current;if(Zone['wtfZoneSpec']){this.inner=this.inner.fork(Zone['wtfZoneSpec']);}
if(trace&&Zone['longStackTraceZoneSpec']){this.inner=this.inner.fork(Zone['longStackTraceZoneSpec']);}
this.inner=this.inner.fork({name:'angular',properties:{'isAngularZone':true},onInvokeTask:function(delegate,current,target,task,applyThis,applyArgs){try{_this.onEnter();return delegate.invokeTask(target,task,applyThis,applyArgs);}finally{_this.onLeave();}},onInvoke:function(delegate,current,target,callback,applyThis,applyArgs,source){try{_this.onEnter();return delegate.invoke(target,callback,applyThis,applyArgs,source);}finally{_this.onLeave();}},onHasTask:function(delegate,current,target,hasTaskState){delegate.hasTask(target,hasTaskState);if(current==target){if(hasTaskState.change=='microTask'){_this.setMicrotask(hasTaskState.microTask);}else if(hasTaskState.change=='macroTask'){_this.setMacrotask(hasTaskState.macroTask);}}},onHandleError:function(delegate,current,target,error){delegate.handleError(target,error);_this.onError(new NgZoneError(error,error.stack));return false;}});}else{throw new Error('Angular2 needs to be run with Zone.js polyfill.');}}
NgZoneImpl.isInAngularZone=function(){return Zone.current.get('isAngularZone')===true;};NgZoneImpl.prototype.runInner=function(fn){return this.inner.runGuarded(fn);};;NgZoneImpl.prototype.runOuter=function(fn){return this.outer.run(fn);};;return NgZoneImpl;})();exports.NgZoneImpl=NgZoneImpl;global.define=__define;return module.exports;});System.register("angular2/src/core/metadata/di",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/di/metadata"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var metadata_1=require("angular2/src/core/di/metadata");var AttributeMetadata=(function(_super){__extends(AttributeMetadata,_super);function AttributeMetadata(attributeName){_super.call(this);this.attributeName=attributeName;}
Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this;},enumerable:true,configurable:true});AttributeMetadata.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")";};AttributeMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],AttributeMetadata);return AttributeMetadata;})(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=(function(_super){__extends(QueryMetadata,_super);function QueryMetadata(_selector,_a){var _b=_a===void 0?{}:_a,_c=_b.descendants,descendants=_c===void 0?false:_c,_d=_b.first,first=_d===void 0?false:_d;_super.call(this);this._selector=_selector;this.descendants=descendants;this.first=first;}
Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return false;},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return di_1.resolveForwardRef(this._selector);},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector);},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(',');},enumerable:true,configurable:true});QueryMetadata.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")";};QueryMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object,Object])],QueryMetadata);return QueryMetadata;})(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=(function(_super){__extends(ContentChildrenMetadata,_super);function ContentChildrenMetadata(_selector,_a){var _b=(_a===void 0?{}:_a).descendants,descendants=_b===void 0?false:_b;_super.call(this,_selector,{descendants:descendants});}
ContentChildrenMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object,Object])],ContentChildrenMetadata);return ContentChildrenMetadata;})(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=(function(_super){__extends(ContentChildMetadata,_super);function ContentChildMetadata(_selector){_super.call(this,_selector,{descendants:true,first:true});}
ContentChildMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],ContentChildMetadata);return ContentChildMetadata;})(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=(function(_super){__extends(ViewQueryMetadata,_super);function ViewQueryMetadata(_selector,_a){var _b=_a===void 0?{}:_a,_c=_b.descendants,descendants=_c===void 0?false:_c,_d=_b.first,first=_d===void 0?false:_d;_super.call(this,_selector,{descendants:descendants,first:first});}
Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return true;},enumerable:true,configurable:true});ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")";};ViewQueryMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object,Object])],ViewQueryMetadata);return ViewQueryMetadata;})(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=(function(_super){__extends(ViewChildrenMetadata,_super);function ViewChildrenMetadata(_selector){_super.call(this,_selector,{descendants:true});}
ViewChildrenMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],ViewChildrenMetadata);return ViewChildrenMetadata;})(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=(function(_super){__extends(ViewChildMetadata,_super);function ViewChildMetadata(_selector){_super.call(this,_selector,{descendants:true,first:true});}
ViewChildMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],ViewChildMetadata);return ViewChildMetadata;})(ViewQueryMetadata);exports.ViewChildMetadata=ViewChildMetadata;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/differs/iterable_differs",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var IterableDiffers=(function(){function IterableDiffers(factories){this.factories=factories;}
IterableDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);factories=factories.concat(copied);return new IterableDiffers(factories);}else{return new IterableDiffers(factories);}};IterableDiffers.extend=function(factories){return new di_1.Provider(IterableDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent)){throw new exceptions_1.BaseException('Cannot extend IterableDiffers without a parent injector');}
return IterableDiffers.create(factories,parent);},deps:[[IterableDiffers,new di_1.SkipSelfMetadata(),new di_1.OptionalMetadata()]]});};IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable);});if(lang_1.isPresent(factory)){return factory;}else{throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+iterable+"' of type '"+lang_1.getTypeNameForDebugging(iterable)+"'");}};IterableDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata('design:paramtypes',[Array])],IterableDiffers);return IterableDiffers;})();exports.IterableDiffers=IterableDiffers;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/differs/default_iterable_differ",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var lang_2=require("angular2/src/facade/lang");var DefaultIterableDifferFactory=(function(){function DefaultIterableDifferFactory(){}
DefaultIterableDifferFactory.prototype.supports=function(obj){return collection_1.isListLikeIterable(obj);};DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn);};DefaultIterableDifferFactory=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],DefaultIterableDifferFactory);return DefaultIterableDifferFactory;})();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item;};var DefaultIterableDiffer=(function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn;this._length=null;this._collection=null;this._linkedRecords=null;this._unlinkedRecords=null;this._previousItHead=null;this._itHead=null;this._itTail=null;this._additionsHead=null;this._additionsTail=null;this._movesHead=null;this._movesTail=null;this._removalsHead=null;this._removalsTail=null;this._identityChangesHead=null;this._identityChangesTail=null;this._trackByFn=lang_2.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity;}
Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection;},enumerable:true,configurable:true});Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length;},enumerable:true,configurable:true});DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;record!==null;record=record._next){fn(record);}};DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;record!==null;record=record._nextPrevious){fn(record);}};DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record);}};DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;record!==null;record=record._nextMoved){fn(record);}};DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record);}};DefaultIterableDiffer.prototype.forEachIdentityChange=function(fn){var record;for(record=this._identityChangesHead;record!==null;record=record._nextIdentityChange){fn(record);}};DefaultIterableDiffer.prototype.diff=function(collection){if(lang_2.isBlank(collection))
collection=[];if(!collection_1.isListLikeIterable(collection)){throw new exceptions_1.BaseException("Error trying to diff '"+collection+"'");}
if(this.check(collection)){return this;}else{return null;}};DefaultIterableDiffer.prototype.onDestroy=function(){};DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var record=this._itHead;var mayBeDirty=false;var index;var item;var itemTrackBy;if(lang_2.isArray(collection)){if(collection!==this._collection||!collection_1.ListWrapper.isImmutable(collection)){var list=collection;this._length=collection.length;for(index=0;index<this._length;index++){item=list[index];itemTrackBy=this._trackByFn(index,item);if(record===null||!lang_2.looseIdentical(record.trackById,itemTrackBy)){record=this._mismatch(record,item,itemTrackBy,index);mayBeDirty=true;}else{if(mayBeDirty){record=this._verifyReinsertion(record,item,itemTrackBy,index);}
if(!lang_2.looseIdentical(record.item,item))
this._addIdentityChange(record,item);}
record=record._next;}
this._truncate(record);}}else{index=0;collection_1.iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item);if(record===null||!lang_2.looseIdentical(record.trackById,itemTrackBy)){record=_this._mismatch(record,item,itemTrackBy,index);mayBeDirty=true;}else{if(mayBeDirty){record=_this._verifyReinsertion(record,item,itemTrackBy,index);}
if(!lang_2.looseIdentical(record.item,item))
_this._addIdentityChange(record,item);}
record=record._next;index++;});this._length=index;this._truncate(record);}
this._collection=collection;return this.isDirty;};Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null;},enumerable:true,configurable:true});DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record;var nextRecord;for(record=this._previousItHead=this._itHead;record!==null;record=record._next){record._nextPrevious=record._next;}
for(record=this._additionsHead;record!==null;record=record._nextAdded){record.previousIndex=record.currentIndex;}
this._additionsHead=this._additionsTail=null;for(record=this._movesHead;record!==null;record=nextRecord){record.previousIndex=record.currentIndex;nextRecord=record._nextMoved;}
this._movesHead=this._movesTail=null;this._removalsHead=this._removalsTail=null;this._identityChangesHead=this._identityChangesTail=null;}};DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;if(record===null){previousRecord=this._itTail;}else{previousRecord=record._prev;this._remove(record);}
record=this._linkedRecords===null?null:this._linkedRecords.get(itemTrackBy,index);if(record!==null){if(!lang_2.looseIdentical(record.item,item))
this._addIdentityChange(record,item);this._moveAfter(record,previousRecord,index);}else{record=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(record!==null){if(!lang_2.looseIdentical(record.item,item))
this._addIdentityChange(record,item);this._reinsertAfter(record,previousRecord,index);}else{record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index);}}
return record;};DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(reinsertRecord!==null){record=this._reinsertAfter(reinsertRecord,record._prev,index);}else if(record.currentIndex!=index){record.currentIndex=index;this._addToMoves(record,index);}
return record;};DefaultIterableDiffer.prototype._truncate=function(record){while(record!==null){var nextRecord=record._next;this._addToRemovals(this._unlink(record));record=nextRecord;}
if(this._unlinkedRecords!==null){this._unlinkedRecords.clear();}
if(this._additionsTail!==null){this._additionsTail._nextAdded=null;}
if(this._movesTail!==null){this._movesTail._nextMoved=null;}
if(this._itTail!==null){this._itTail._next=null;}
if(this._removalsTail!==null){this._removalsTail._nextRemoved=null;}
if(this._identityChangesTail!==null){this._identityChangesTail._nextIdentityChange=null;}};DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){if(this._unlinkedRecords!==null){this._unlinkedRecords.remove(record);}
var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next;}else{prev._nextRemoved=next;}
if(next===null){this._removalsTail=prev;}else{next._prevRemoved=prev;}
this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record;};DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){this._unlink(record);this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record;};DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){this._insertAfter(record,prevRecord,index);if(this._additionsTail===null){this._additionsTail=this._additionsHead=record;}else{this._additionsTail=this._additionsTail._nextAdded=record;}
return record;};DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=prevRecord===null?this._itHead:prevRecord._next;record._next=next;record._prev=prevRecord;if(next===null){this._itTail=record;}else{next._prev=record;}
if(prevRecord===null){this._itHead=record;}else{prevRecord._next=record;}
if(this._linkedRecords===null){this._linkedRecords=new _DuplicateMap();}
this._linkedRecords.put(record);record.currentIndex=index;return record;};DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record));};DefaultIterableDiffer.prototype._unlink=function(record){if(this._linkedRecords!==null){this._linkedRecords.remove(record);}
var prev=record._prev;var next=record._next;if(prev===null){this._itHead=next;}else{prev._next=next;}
if(next===null){this._itTail=prev;}else{next._prev=prev;}
return record;};DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){if(record.previousIndex===toIndex){return record;}
if(this._movesTail===null){this._movesTail=this._movesHead=record;}else{this._movesTail=this._movesTail._nextMoved=record;}
return record;};DefaultIterableDiffer.prototype._addToRemovals=function(record){if(this._unlinkedRecords===null){this._unlinkedRecords=new _DuplicateMap();}
this._unlinkedRecords.put(record);record.currentIndex=null;record._nextRemoved=null;if(this._removalsTail===null){this._removalsTail=this._removalsHead=record;record._prevRemoved=null;}else{record._prevRemoved=this._removalsTail;this._removalsTail=this._removalsTail._nextRemoved=record;}
return record;};DefaultIterableDiffer.prototype._addIdentityChange=function(record,item){record.item=item;if(this._identityChangesTail===null){this._identityChangesTail=this._identityChangesHead=record;}else{this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record;}
return record;};DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record);});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record);});var additions=[];this.forEachAddedItem(function(record){return additions.push(record);});var moves=[];this.forEachMovedItem(function(record){return moves.push(record);});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record);});var identityChanges=[];this.forEachIdentityChange(function(record){return identityChanges.push(record);});return"collection: "+list.join(', ')+"\n"+"previous: "+previous.join(', ')+"\n"+"additions: "+additions.join(', ')+"\n"+"moves: "+moves.join(', ')+"\n"+"removals: "+removals.join(', ')+"\n"+"identityChanges: "+identityChanges.join(', ')+"\n";};return DefaultIterableDiffer;})();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=(function(){function CollectionChangeRecord(item,trackById){this.item=item;this.trackById=trackById;this.currentIndex=null;this.previousIndex=null;this._nextPrevious=null;this._prev=null;this._next=null;this._prevDup=null;this._nextDup=null;this._prevRemoved=null;this._nextRemoved=null;this._nextAdded=null;this._nextMoved=null;this._nextIdentityChange=null;}
CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_2.stringify(this.item):lang_2.stringify(this.item)+'['+lang_2.stringify(this.previousIndex)+'->'+lang_2.stringify(this.currentIndex)+']';};return CollectionChangeRecord;})();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=(function(){function _DuplicateItemRecordList(){this._head=null;this._tail=null;}
_DuplicateItemRecordList.prototype.add=function(record){if(this._head===null){this._head=this._tail=record;record._nextDup=null;record._prevDup=null;}else{this._tail._nextDup=record;record._prevDup=this._tail;record._nextDup=null;this._tail=record;}};_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;record!==null;record=record._nextDup){if((afterIndex===null||afterIndex<record.currentIndex)&&lang_2.looseIdentical(record.trackById,trackById)){return record;}}
return null;};_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup;var next=record._nextDup;if(prev===null){this._head=next;}else{prev._nextDup=next;}
if(next===null){this._tail=prev;}else{next._prevDup=prev;}
return this._head===null;};return _DuplicateItemRecordList;})();var _DuplicateMap=(function(){function _DuplicateMap(){this.map=new Map();}
_DuplicateMap.prototype.put=function(record){var key=lang_2.getMapKey(record.trackById);var duplicates=this.map.get(key);if(!lang_2.isPresent(duplicates)){duplicates=new _DuplicateItemRecordList();this.map.set(key,duplicates);}
duplicates.add(record);};_DuplicateMap.prototype.get=function(trackById,afterIndex){if(afterIndex===void 0){afterIndex=null;}
var key=lang_2.getMapKey(trackById);var recordList=this.map.get(key);return lang_2.isBlank(recordList)?null:recordList.get(trackById,afterIndex);};_DuplicateMap.prototype.remove=function(record){var key=lang_2.getMapKey(record.trackById);var recordList=this.map.get(key);if(recordList.remove(record)){this.map.delete(key);}
return record;};Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return this.map.size===0;},enumerable:true,configurable:true});_DuplicateMap.prototype.clear=function(){this.map.clear();};_DuplicateMap.prototype.toString=function(){return'_DuplicateMap('+lang_2.stringify(this.map)+')';};return _DuplicateMap;})();global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/differs/keyvalue_differs",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var KeyValueDiffers=(function(){function KeyValueDiffers(factories){this.factories=factories;}
KeyValueDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);factories=factories.concat(copied);return new KeyValueDiffers(factories);}else{return new KeyValueDiffers(factories);}};KeyValueDiffers.extend=function(factories){return new di_1.Provider(KeyValueDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent)){throw new exceptions_1.BaseException('Cannot extend KeyValueDiffers without a parent injector');}
return KeyValueDiffers.create(factories,parent);},deps:[[KeyValueDiffers,new di_1.SkipSelfMetadata(),new di_1.OptionalMetadata()]]});};KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv);});if(lang_1.isPresent(factory)){return factory;}else{throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+kv+"'");}};KeyValueDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata('design:paramtypes',[Array])],KeyValueDiffers);return KeyValueDiffers;})();exports.KeyValueDiffers=KeyValueDiffers;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/differs/default_keyvalue_differ",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var DefaultKeyValueDifferFactory=(function(){function DefaultKeyValueDifferFactory(){}
DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||lang_1.isJsObject(obj);};DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer();};DefaultKeyValueDifferFactory=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],DefaultKeyValueDifferFactory);return DefaultKeyValueDifferFactory;})();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=(function(){function DefaultKeyValueDiffer(){this._records=new Map();this._mapHead=null;this._previousMapHead=null;this._changesHead=null;this._changesTail=null;this._additionsHead=null;this._additionsTail=null;this._removalsHead=null;this._removalsTail=null;}
Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null;},enumerable:true,configurable:true});DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;record!==null;record=record._next){fn(record);}};DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;record!==null;record=record._nextPrevious){fn(record);}};DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;record!==null;record=record._nextChanged){fn(record);}};DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record);}};DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record);}};DefaultKeyValueDiffer.prototype.diff=function(map){if(lang_1.isBlank(map))
map=collection_1.MapWrapper.createFromPairs([]);if(!(map instanceof Map||lang_1.isJsObject(map))){throw new exceptions_1.BaseException("Error trying to diff '"+map+"'");}
if(this.check(map)){return this;}else{return null;}};DefaultKeyValueDiffer.prototype.onDestroy=function(){};DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records;var oldSeqRecord=this._mapHead;var lastOldSeqRecord=null;var lastNewSeqRecord=null;var seqChanged=false;this._forEach(map,function(value,key){var newSeqRecord;if(oldSeqRecord!==null&&key===oldSeqRecord.key){newSeqRecord=oldSeqRecord;if(!lang_1.looseIdentical(value,oldSeqRecord.currentValue)){oldSeqRecord.previousValue=oldSeqRecord.currentValue;oldSeqRecord.currentValue=value;_this._addToChanges(oldSeqRecord);}}else{seqChanged=true;if(oldSeqRecord!==null){oldSeqRecord._next=null;_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord);_this._addToRemovals(oldSeqRecord);}
if(records.has(key)){newSeqRecord=records.get(key);}else{newSeqRecord=new KeyValueChangeRecord(key);records.set(key,newSeqRecord);newSeqRecord.currentValue=value;_this._addToAdditions(newSeqRecord);}}
if(seqChanged){if(_this._isInRemovals(newSeqRecord)){_this._removeFromRemovals(newSeqRecord);}
if(lastNewSeqRecord==null){_this._mapHead=newSeqRecord;}else{lastNewSeqRecord._next=newSeqRecord;}}
lastOldSeqRecord=oldSeqRecord;lastNewSeqRecord=newSeqRecord;oldSeqRecord=oldSeqRecord===null?null:oldSeqRecord._next;});this._truncate(lastOldSeqRecord,oldSeqRecord);return this.isDirty;};DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record;for(record=this._previousMapHead=this._mapHead;record!==null;record=record._next){record._nextPrevious=record._next;}
for(record=this._changesHead;record!==null;record=record._nextChanged){record.previousValue=record.currentValue;}
for(record=this._additionsHead;record!=null;record=record._nextAdded){record.previousValue=record.currentValue;}
this._changesHead=this._changesTail=null;this._additionsHead=this._additionsTail=null;this._removalsHead=this._removalsTail=null;}};DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){while(record!==null){if(lastRecord===null){this._mapHead=null;}else{lastRecord._next=null;}
var nextRecord=record._next;this._addToRemovals(record);lastRecord=record;record=nextRecord;}
for(var rec=this._removalsHead;rec!==null;rec=rec._nextRemoved){rec.previousValue=rec.currentValue;rec.currentValue=null;this._records.delete(rec.key);}};DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||record._nextRemoved!==null||record._prevRemoved!==null;};DefaultKeyValueDiffer.prototype._addToRemovals=function(record){if(this._removalsHead===null){this._removalsHead=this._removalsTail=record;}else{this._removalsTail._nextRemoved=record;record._prevRemoved=this._removalsTail;this._removalsTail=record;}};DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;if(prev===null){this._mapHead=next;}else{prev._next=next;}};DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next;}else{prev._nextRemoved=next;}
if(next===null){this._removalsTail=prev;}else{next._prevRemoved=prev;}
record._prevRemoved=record._nextRemoved=null;};DefaultKeyValueDiffer.prototype._addToAdditions=function(record){if(this._additionsHead===null){this._additionsHead=this._additionsTail=record;}else{this._additionsTail._nextAdded=record;this._additionsTail=record;}};DefaultKeyValueDiffer.prototype._addToChanges=function(record){if(this._changesHead===null){this._changesHead=this._changesTail=record;}else{this._changesTail._nextChanged=record;this._changesTail=record;}};DefaultKeyValueDiffer.prototype.toString=function(){var items=[];var previous=[];var changes=[];var additions=[];var removals=[];var record;for(record=this._mapHead;record!==null;record=record._next){items.push(lang_1.stringify(record));}
for(record=this._previousMapHead;record!==null;record=record._nextPrevious){previous.push(lang_1.stringify(record));}
for(record=this._changesHead;record!==null;record=record._nextChanged){changes.push(lang_1.stringify(record));}
for(record=this._additionsHead;record!==null;record=record._nextAdded){additions.push(lang_1.stringify(record));}
for(record=this._removalsHead;record!==null;record=record._nextRemoved){removals.push(lang_1.stringify(record));}
return"map: "+items.join(', ')+"\n"+"previous: "+previous.join(', ')+"\n"+"additions: "+additions.join(', ')+"\n"+"changes: "+changes.join(', ')+"\n"+"removals: "+removals.join(', ')+"\n";};DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){if(obj instanceof Map){obj.forEach(fn);}else{collection_1.StringMapWrapper.forEach(obj,fn);}};return DefaultKeyValueDiffer;})();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KeyValueChangeRecord=(function(){function KeyValueChangeRecord(key){this.key=key;this.previousValue=null;this.currentValue=null;this._nextPrevious=null;this._next=null;this._nextAdded=null;this._nextRemoved=null;this._prevRemoved=null;this._nextChanged=null;}
KeyValueChangeRecord.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):(lang_1.stringify(this.key)+'['+lang_1.stringify(this.previousValue)+'->'+lang_1.stringify(this.currentValue)+']');};return KeyValueChangeRecord;})();exports.KeyValueChangeRecord=KeyValueChangeRecord;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/parser/ast",["angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var AST=(function(){function AST(){}
AST.prototype.visit=function(visitor){return null;};AST.prototype.toString=function(){return"AST";};return AST;})();exports.AST=AST;var Quote=(function(_super){__extends(Quote,_super);function Quote(prefix,uninterpretedExpression,location){_super.call(this);this.prefix=prefix;this.uninterpretedExpression=uninterpretedExpression;this.location=location;}
Quote.prototype.visit=function(visitor){return visitor.visitQuote(this);};Quote.prototype.toString=function(){return"Quote";};return Quote;})(AST);exports.Quote=Quote;var EmptyExpr=(function(_super){__extends(EmptyExpr,_super);function EmptyExpr(){_super.apply(this,arguments);}
EmptyExpr.prototype.visit=function(visitor){};return EmptyExpr;})(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=(function(_super){__extends(ImplicitReceiver,_super);function ImplicitReceiver(){_super.apply(this,arguments);}
ImplicitReceiver.prototype.visit=function(visitor){return visitor.visitImplicitReceiver(this);};return ImplicitReceiver;})(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=(function(_super){__extends(Chain,_super);function Chain(expressions){_super.call(this);this.expressions=expressions;}
Chain.prototype.visit=function(visitor){return visitor.visitChain(this);};return Chain;})(AST);exports.Chain=Chain;var Conditional=(function(_super){__extends(Conditional,_super);function Conditional(condition,trueExp,falseExp){_super.call(this);this.condition=condition;this.trueExp=trueExp;this.falseExp=falseExp;}
Conditional.prototype.visit=function(visitor){return visitor.visitConditional(this);};return Conditional;})(AST);exports.Conditional=Conditional;var PropertyRead=(function(_super){__extends(PropertyRead,_super);function PropertyRead(receiver,name,getter){_super.call(this);this.receiver=receiver;this.name=name;this.getter=getter;}
PropertyRead.prototype.visit=function(visitor){return visitor.visitPropertyRead(this);};return PropertyRead;})(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=(function(_super){__extends(PropertyWrite,_super);function PropertyWrite(receiver,name,setter,value){_super.call(this);this.receiver=receiver;this.name=name;this.setter=setter;this.value=value;}
PropertyWrite.prototype.visit=function(visitor){return visitor.visitPropertyWrite(this);};return PropertyWrite;})(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=(function(_super){__extends(SafePropertyRead,_super);function SafePropertyRead(receiver,name,getter){_super.call(this);this.receiver=receiver;this.name=name;this.getter=getter;}
SafePropertyRead.prototype.visit=function(visitor){return visitor.visitSafePropertyRead(this);};return SafePropertyRead;})(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=(function(_super){__extends(KeyedRead,_super);function KeyedRead(obj,key){_super.call(this);this.obj=obj;this.key=key;}
KeyedRead.prototype.visit=function(visitor){return visitor.visitKeyedRead(this);};return KeyedRead;})(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=(function(_super){__extends(KeyedWrite,_super);function KeyedWrite(obj,key,value){_super.call(this);this.obj=obj;this.key=key;this.value=value;}
KeyedWrite.prototype.visit=function(visitor){return visitor.visitKeyedWrite(this);};return KeyedWrite;})(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=(function(_super){__extends(BindingPipe,_super);function BindingPipe(exp,name,args){_super.call(this);this.exp=exp;this.name=name;this.args=args;}
BindingPipe.prototype.visit=function(visitor){return visitor.visitPipe(this);};return BindingPipe;})(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=(function(_super){__extends(LiteralPrimitive,_super);function LiteralPrimitive(value){_super.call(this);this.value=value;}
LiteralPrimitive.prototype.visit=function(visitor){return visitor.visitLiteralPrimitive(this);};return LiteralPrimitive;})(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=(function(_super){__extends(LiteralArray,_super);function LiteralArray(expressions){_super.call(this);this.expressions=expressions;}
LiteralArray.prototype.visit=function(visitor){return visitor.visitLiteralArray(this);};return LiteralArray;})(AST);exports.LiteralArray=LiteralArray;var LiteralMap=(function(_super){__extends(LiteralMap,_super);function LiteralMap(keys,values){_super.call(this);this.keys=keys;this.values=values;}
LiteralMap.prototype.visit=function(visitor){return visitor.visitLiteralMap(this);};return LiteralMap;})(AST);exports.LiteralMap=LiteralMap;var Interpolation=(function(_super){__extends(Interpolation,_super);function Interpolation(strings,expressions){_super.call(this);this.strings=strings;this.expressions=expressions;}
Interpolation.prototype.visit=function(visitor){return visitor.visitInterpolation(this);};return Interpolation;})(AST);exports.Interpolation=Interpolation;var Binary=(function(_super){__extends(Binary,_super);function Binary(operation,left,right){_super.call(this);this.operation=operation;this.left=left;this.right=right;}
Binary.prototype.visit=function(visitor){return visitor.visitBinary(this);};return Binary;})(AST);exports.Binary=Binary;var PrefixNot=(function(_super){__extends(PrefixNot,_super);function PrefixNot(expression){_super.call(this);this.expression=expression;}
PrefixNot.prototype.visit=function(visitor){return visitor.visitPrefixNot(this);};return PrefixNot;})(AST);exports.PrefixNot=PrefixNot;var MethodCall=(function(_super){__extends(MethodCall,_super);function MethodCall(receiver,name,fn,args){_super.call(this);this.receiver=receiver;this.name=name;this.fn=fn;this.args=args;}
MethodCall.prototype.visit=function(visitor){return visitor.visitMethodCall(this);};return MethodCall;})(AST);exports.MethodCall=MethodCall;var SafeMethodCall=(function(_super){__extends(SafeMethodCall,_super);function SafeMethodCall(receiver,name,fn,args){_super.call(this);this.receiver=receiver;this.name=name;this.fn=fn;this.args=args;}
SafeMethodCall.prototype.visit=function(visitor){return visitor.visitSafeMethodCall(this);};return SafeMethodCall;})(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=(function(_super){__extends(FunctionCall,_super);function FunctionCall(target,args){_super.call(this);this.target=target;this.args=args;}
FunctionCall.prototype.visit=function(visitor){return visitor.visitFunctionCall(this);};return FunctionCall;})(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=(function(_super){__extends(ASTWithSource,_super);function ASTWithSource(ast,source,location){_super.call(this);this.ast=ast;this.source=source;this.location=location;}
ASTWithSource.prototype.visit=function(visitor){return this.ast.visit(visitor);};ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location;};return ASTWithSource;})(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=(function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key;this.keyIsVar=keyIsVar;this.name=name;this.expression=expression;}
return TemplateBinding;})();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=(function(){function RecursiveAstVisitor(){}
RecursiveAstVisitor.prototype.visitBinary=function(ast){ast.left.visit(this);ast.right.visit(this);return null;};RecursiveAstVisitor.prototype.visitChain=function(ast){return this.visitAll(ast.expressions);};RecursiveAstVisitor.prototype.visitConditional=function(ast){ast.condition.visit(this);ast.trueExp.visit(this);ast.falseExp.visit(this);return null;};RecursiveAstVisitor.prototype.visitPipe=function(ast){ast.exp.visit(this);this.visitAll(ast.args);return null;};RecursiveAstVisitor.prototype.visitFunctionCall=function(ast){ast.target.visit(this);this.visitAll(ast.args);return null;};RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast){return null;};RecursiveAstVisitor.prototype.visitInterpolation=function(ast){return this.visitAll(ast.expressions);};RecursiveAstVisitor.prototype.visitKeyedRead=function(ast){ast.obj.visit(this);ast.key.visit(this);return null;};RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast){ast.obj.visit(this);ast.key.visit(this);ast.value.visit(this);return null;};RecursiveAstVisitor.prototype.visitLiteralArray=function(ast){return this.visitAll(ast.expressions);};RecursiveAstVisitor.prototype.visitLiteralMap=function(ast){return this.visitAll(ast.values);};RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast){return null;};RecursiveAstVisitor.prototype.visitMethodCall=function(ast){ast.receiver.visit(this);return this.visitAll(ast.args);};RecursiveAstVisitor.prototype.visitPrefixNot=function(ast){ast.expression.visit(this);return null;};RecursiveAstVisitor.prototype.visitPropertyRead=function(ast){ast.receiver.visit(this);return null;};RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast){ast.receiver.visit(this);ast.value.visit(this);return null;};RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast){ast.receiver.visit(this);return null;};RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast){ast.receiver.visit(this);return this.visitAll(ast.args);};RecursiveAstVisitor.prototype.visitAll=function(asts){var _this=this;asts.forEach(function(ast){return ast.visit(_this);});return null;};RecursiveAstVisitor.prototype.visitQuote=function(ast){return null;};return RecursiveAstVisitor;})();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=(function(){function AstTransformer(){}
AstTransformer.prototype.visitImplicitReceiver=function(ast){return ast;};AstTransformer.prototype.visitInterpolation=function(ast){return new Interpolation(ast.strings,this.visitAll(ast.expressions));};AstTransformer.prototype.visitLiteralPrimitive=function(ast){return new LiteralPrimitive(ast.value);};AstTransformer.prototype.visitPropertyRead=function(ast){return new PropertyRead(ast.receiver.visit(this),ast.name,ast.getter);};AstTransformer.prototype.visitPropertyWrite=function(ast){return new PropertyWrite(ast.receiver.visit(this),ast.name,ast.setter,ast.value);};AstTransformer.prototype.visitSafePropertyRead=function(ast){return new SafePropertyRead(ast.receiver.visit(this),ast.name,ast.getter);};AstTransformer.prototype.visitMethodCall=function(ast){return new MethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args));};AstTransformer.prototype.visitSafeMethodCall=function(ast){return new SafeMethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args));};AstTransformer.prototype.visitFunctionCall=function(ast){return new FunctionCall(ast.target.visit(this),this.visitAll(ast.args));};AstTransformer.prototype.visitLiteralArray=function(ast){return new LiteralArray(this.visitAll(ast.expressions));};AstTransformer.prototype.visitLiteralMap=function(ast){return new LiteralMap(ast.keys,this.visitAll(ast.values));};AstTransformer.prototype.visitBinary=function(ast){return new Binary(ast.operation,ast.left.visit(this),ast.right.visit(this));};AstTransformer.prototype.visitPrefixNot=function(ast){return new PrefixNot(ast.expression.visit(this));};AstTransformer.prototype.visitConditional=function(ast){return new Conditional(ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this));};AstTransformer.prototype.visitPipe=function(ast){return new BindingPipe(ast.exp.visit(this),ast.name,this.visitAll(ast.args));};AstTransformer.prototype.visitKeyedRead=function(ast){return new KeyedRead(ast.obj.visit(this),ast.key.visit(this));};AstTransformer.prototype.visitKeyedWrite=function(ast){return new KeyedWrite(ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this));};AstTransformer.prototype.visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this);}
return res;};AstTransformer.prototype.visitChain=function(ast){return new Chain(this.visitAll(ast.expressions));};AstTransformer.prototype.visitQuote=function(ast){return new Quote(ast.prefix,ast.uninterpretedExpression,ast.location);};return AstTransformer;})();exports.AstTransformer=AstTransformer;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/parser/lexer",["angular2/src/core/di/decorators","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var decorators_1=require("angular2/src/core/di/decorators");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");(function(TokenType){TokenType[TokenType["Character"]=0]="Character";TokenType[TokenType["Identifier"]=1]="Identifier";TokenType[TokenType["Keyword"]=2]="Keyword";TokenType[TokenType["String"]=3]="String";TokenType[TokenType["Operator"]=4]="Operator";TokenType[TokenType["Number"]=5]="Number";})(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType;var Lexer=(function(){function Lexer(){}
Lexer.prototype.tokenize=function(text){var scanner=new _Scanner(text);var tokens=[];var token=scanner.scanToken();while(token!=null){tokens.push(token);token=scanner.scanToken();}
return tokens;};Lexer=__decorate([decorators_1.Injectable(),__metadata('design:paramtypes',[])],Lexer);return Lexer;})();exports.Lexer=Lexer;var Token=(function(){function Token(index,type,numValue,strValue){this.index=index;this.type=type;this.numValue=numValue;this.strValue=strValue;}
Token.prototype.isCharacter=function(code){return(this.type==TokenType.Character&&this.numValue==code);};Token.prototype.isNumber=function(){return(this.type==TokenType.Number);};Token.prototype.isString=function(){return(this.type==TokenType.String);};Token.prototype.isOperator=function(operater){return(this.type==TokenType.Operator&&this.strValue==operater);};Token.prototype.isIdentifier=function(){return(this.type==TokenType.Identifier);};Token.prototype.isKeyword=function(){return(this.type==TokenType.Keyword);};Token.prototype.isKeywordVar=function(){return(this.type==TokenType.Keyword&&this.strValue=="var");};Token.prototype.isKeywordNull=function(){return(this.type==TokenType.Keyword&&this.strValue=="null");};Token.prototype.isKeywordUndefined=function(){return(this.type==TokenType.Keyword&&this.strValue=="undefined");};Token.prototype.isKeywordTrue=function(){return(this.type==TokenType.Keyword&&this.strValue=="true");};Token.prototype.isKeywordFalse=function(){return(this.type==TokenType.Keyword&&this.strValue=="false");};Token.prototype.toNumber=function(){return(this.type==TokenType.Number)?this.numValue:-1;};Token.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null;}};return Token;})();exports.Token=Token;function newCharacterToken(index,code){return new Token(index,TokenType.Character,code,lang_1.StringWrapper.fromCharCode(code));}
function newIdentifierToken(index,text){return new Token(index,TokenType.Identifier,0,text);}
function newKeywordToken(index,text){return new Token(index,TokenType.Keyword,0,text);}
function newOperatorToken(index,text){return new Token(index,TokenType.Operator,0,text);}
function newStringToken(index,text){return new Token(index,TokenType.String,0,text);}
function newNumberToken(index,n){return new Token(index,TokenType.Number,n,"");}
exports.EOF=new Token(-1,TokenType.Character,0,"");exports.$EOF=0;exports.$TAB=9;exports.$LF=10;exports.$VTAB=11;exports.$FF=12;exports.$CR=13;exports.$SPACE=32;exports.$BANG=33;exports.$DQ=34;exports.$HASH=35;exports.$$=36;exports.$PERCENT=37;exports.$AMPERSAND=38;exports.$SQ=39;exports.$LPAREN=40;exports.$RPAREN=41;exports.$STAR=42;exports.$PLUS=43;exports.$COMMA=44;exports.$MINUS=45;exports.$PERIOD=46;exports.$SLASH=47;exports.$COLON=58;exports.$SEMICOLON=59;exports.$LT=60;exports.$EQ=61;exports.$GT=62;exports.$QUESTION=63;var $0=48;var $9=57;var $A=65,$E=69,$Z=90;exports.$LBRACKET=91;exports.$BACKSLASH=92;exports.$RBRACKET=93;var $CARET=94;var $_=95;var $a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$z=122;exports.$LBRACE=123;exports.$BAR=124;exports.$RBRACE=125;var $NBSP=160;var ScannerError=(function(_super){__extends(ScannerError,_super);function ScannerError(message){_super.call(this);this.message=message;}
ScannerError.prototype.toString=function(){return this.message;};return ScannerError;})(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=(function(){function _Scanner(input){this.input=input;this.peek=0;this.index=-1;this.length=input.length;this.advance();}
_Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?exports.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index);};_Scanner.prototype.scanToken=function(){var input=this.input,length=this.length,peek=this.peek,index=this.index;while(peek<=exports.$SPACE){if(++index>=length){peek=exports.$EOF;break;}else{peek=lang_1.StringWrapper.charCodeAt(input,index);}}
this.peek=peek;this.index=index;if(index>=length){return null;}
if(isIdentifierStart(peek))
return this.scanIdentifier();if(isDigit(peek))
return this.scanNumber(index);var start=index;switch(peek){case exports.$PERIOD:this.advance();return isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,exports.$PERIOD);case exports.$LPAREN:case exports.$RPAREN:case exports.$LBRACE:case exports.$RBRACE:case exports.$LBRACKET:case exports.$RBRACKET:case exports.$COMMA:case exports.$COLON:case exports.$SEMICOLON:return this.scanCharacter(start,peek);case exports.$SQ:case exports.$DQ:return this.scanString();case exports.$HASH:case exports.$PLUS:case exports.$MINUS:case exports.$STAR:case exports.$SLASH:case exports.$PERCENT:case $CARET:return this.scanOperator(start,lang_1.StringWrapper.fromCharCode(peek));case exports.$QUESTION:return this.scanComplexOperator(start,'?',exports.$PERIOD,'.');case exports.$LT:case exports.$GT:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,'=');case exports.$BANG:case exports.$EQ:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,'=',exports.$EQ,'=');case exports.$AMPERSAND:return this.scanComplexOperator(start,'&',exports.$AMPERSAND,'&');case exports.$BAR:return this.scanComplexOperator(start,'|',exports.$BAR,'|');case $NBSP:while(isWhitespace(this.peek))
this.advance();return this.scanToken();}
this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(peek)+"]",0);return null;};_Scanner.prototype.scanCharacter=function(start,code){this.advance();return newCharacterToken(start,code);};_Scanner.prototype.scanOperator=function(start,str){this.advance();return newOperatorToken(start,str);};_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){this.advance();var str=one;if(this.peek==twoCode){this.advance();str+=two;}
if(lang_1.isPresent(threeCode)&&this.peek==threeCode){this.advance();str+=three;}
return newOperatorToken(start,str);};_Scanner.prototype.scanIdentifier=function(){var start=this.index;this.advance();while(isIdentifierPart(this.peek))
this.advance();var str=this.input.substring(start,this.index);if(collection_1.SetWrapper.has(KEYWORDS,str)){return newKeywordToken(start,str);}else{return newIdentifierToken(start,str);}};_Scanner.prototype.scanNumber=function(start){var simple=(this.index===start);this.advance();while(true){if(isDigit(this.peek)){}else if(this.peek==exports.$PERIOD){simple=false;}else if(isExponentStart(this.peek)){this.advance();if(isExponentSign(this.peek))
this.advance();if(!isDigit(this.peek))
this.error('Invalid exponent',-1);simple=false;}else{break;}
this.advance();}
var str=this.input.substring(start,this.index);var value=simple?lang_1.NumberWrapper.parseIntAutoRadix(str):lang_1.NumberWrapper.parseFloat(str);return newNumberToken(start,value);};_Scanner.prototype.scanString=function(){var start=this.index;var quote=this.peek;this.advance();var buffer;var marker=this.index;var input=this.input;while(this.peek!=quote){if(this.peek==exports.$BACKSLASH){if(buffer==null)
buffer=new lang_1.StringJoiner();buffer.add(input.substring(marker,this.index));this.advance();var unescapedCode;if(this.peek==$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=lang_1.NumberWrapper.parseInt(hex,16);}catch(e){this.error("Invalid unicode escape [\\u"+hex+"]",0);}
for(var i=0;i<5;i++){this.advance();}}else{unescapedCode=unescape(this.peek);this.advance();}
buffer.add(lang_1.StringWrapper.fromCharCode(unescapedCode));marker=this.index;}else if(this.peek==exports.$EOF){this.error('Unterminated quote',0);}else{this.advance();}}
var last=input.substring(marker,this.index);this.advance();var unescaped=last;if(buffer!=null){buffer.add(last);unescaped=buffer.toString();}
return newStringToken(start,unescaped);};_Scanner.prototype.error=function(message,offset){var position=this.index+offset;throw new ScannerError("Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]");};return _Scanner;})();function isWhitespace(code){return(code>=exports.$TAB&&code<=exports.$SPACE)||(code==$NBSP);}
function isIdentifierStart(code){return($a<=code&&code<=$z)||($A<=code&&code<=$Z)||(code==$_)||(code==exports.$$);}
function isIdentifier(input){if(input.length==0)
return false;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))
return false;scanner.advance();while(scanner.peek!==exports.$EOF){if(!isIdentifierPart(scanner.peek))
return false;scanner.advance();}
return true;}
exports.isIdentifier=isIdentifier;function isIdentifierPart(code){return($a<=code&&code<=$z)||($A<=code&&code<=$Z)||($0<=code&&code<=$9)||(code==$_)||(code==exports.$$);}
function isDigit(code){return $0<=code&&code<=$9;}
function isExponentStart(code){return code==$e||code==$E;}
function isExponentSign(code){return code==exports.$MINUS||code==exports.$PLUS;}
function unescape(code){switch(code){case $n:return exports.$LF;case $f:return exports.$FF;case $r:return exports.$CR;case $t:return exports.$TAB;case $v:return exports.$VTAB;default:return code;}}
var OPERATORS=collection_1.SetWrapper.createFromList(['+','-','*','/','%','^','=','==','!=','===','!==','<','>','<=','>=','&&','||','&','|','!','?','#','?.']);var KEYWORDS=collection_1.SetWrapper.createFromList(['var','null','undefined','true','false','if','else']);global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/parser/parser",["angular2/src/core/di/decorators","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/parser/lexer","angular2/src/core/reflection/reflection","angular2/src/core/change_detection/parser/ast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var decorators_1=require("angular2/src/core/di/decorators");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var lexer_1=require("angular2/src/core/change_detection/parser/lexer");var reflection_1=require("angular2/src/core/reflection/reflection");var ast_1=require("angular2/src/core/change_detection/parser/ast");var _implicitReceiver=new ast_1.ImplicitReceiver();var INTERPOLATION_REGEXP=/\{\{([\s\S]*?)\}\}/g;var ParseException=(function(_super){__extends(ParseException,_super);function ParseException(message,input,errLocation,ctxLocation){_super.call(this,"Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation);}
return ParseException;})(exceptions_1.BaseException);var SplitInterpolation=(function(){function SplitInterpolation(strings,expressions){this.strings=strings;this.expressions=expressions;}
return SplitInterpolation;})();exports.SplitInterpolation=SplitInterpolation;var Parser=(function(){function Parser(_lexer,providedReflector){if(providedReflector===void 0){providedReflector=null;}
this._lexer=_lexer;this._reflector=lang_1.isPresent(providedReflector)?providedReflector:reflection_1.reflector;}
Parser.prototype.parseAction=function(input,location){this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);var ast=new _ParseAST(input,location,tokens,this._reflector,true).parseChain();return new ast_1.ASTWithSource(ast,input,location);};Parser.prototype.parseBinding=function(input,location){var ast=this._parseBindingAst(input,location);return new ast_1.ASTWithSource(ast,input,location);};Parser.prototype.parseSimpleBinding=function(input,location){var ast=this._parseBindingAst(input,location);if(!SimpleExpressionChecker.check(ast)){throw new ParseException('Host binding expression can only contain field access and constants',input,location);}
return new ast_1.ASTWithSource(ast,input,location);};Parser.prototype._parseBindingAst=function(input,location){var quote=this._parseQuote(input,location);if(lang_1.isPresent(quote)){return quote;}
this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,false).parseChain();};Parser.prototype._parseQuote=function(input,location){if(lang_1.isBlank(input))
return null;var prefixSeparatorIndex=input.indexOf(':');if(prefixSeparatorIndex==-1)
return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!lexer_1.isIdentifier(prefix))
return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new ast_1.Quote(prefix,uninterpretedExpression,location);};Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,false).parseTemplateBindings();};Parser.prototype.parseInterpolation=function(input,location){var split=this.splitInterpolation(input,location);if(split==null)
return null;var expressions=[];for(var i=0;i<split.expressions.length;++i){var tokens=this._lexer.tokenize(split.expressions[i]);var ast=new _ParseAST(input,location,tokens,this._reflector,false).parseChain();expressions.push(ast);}
return new ast_1.ASTWithSource(new ast_1.Interpolation(split.strings,expressions),input,location);};Parser.prototype.splitInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length<=1){return null;}
var strings=[];var expressions=[];for(var i=0;i<parts.length;i++){var part=parts[i];if(i%2===0){strings.push(part);}else if(part.trim().length>0){expressions.push(part);}else{throw new ParseException('Blank expressions are not allowed in interpolated strings',input,"at column "+this._findInterpolationErrorColumn(parts,i)+" in",location);}}
return new SplitInterpolation(strings,expressions);};Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(input),input,location);};Parser.prototype._checkNoInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length>1){throw new ParseException('Got interpolation ({{}}) where expression was expected',input,"at column "+this._findInterpolationErrorColumn(parts,1)+" in",location);}};Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx){var errLocation='';for(var j=0;j<partInErrIdx;j++){errLocation+=j%2===0?parts[j]:"{{"+parts[j]+"}}";}
return errLocation.length;};Parser=__decorate([decorators_1.Injectable(),__metadata('design:paramtypes',[lexer_1.Lexer,reflection_1.Reflector])],Parser);return Parser;})();exports.Parser=Parser;var _ParseAST=(function(){function _ParseAST(input,location,tokens,reflector,parseAction){this.input=input;this.location=location;this.tokens=tokens;this.reflector=reflector;this.parseAction=parseAction;this.index=0;}
_ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:lexer_1.EOF;};Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0);},enumerable:true,configurable:true});Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return(this.index<this.tokens.length)?this.next.index:this.input.length;},enumerable:true,configurable:true});_ParseAST.prototype.advance=function(){this.index++;};_ParseAST.prototype.optionalCharacter=function(code){if(this.next.isCharacter(code)){this.advance();return true;}else{return false;}};_ParseAST.prototype.optionalKeywordVar=function(){if(this.peekKeywordVar()){this.advance();return true;}else{return false;}};_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator('#');};_ParseAST.prototype.expectCharacter=function(code){if(this.optionalCharacter(code))
return;this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(code));};_ParseAST.prototype.optionalOperator=function(op){if(this.next.isOperator(op)){this.advance();return true;}else{return false;}};_ParseAST.prototype.expectOperator=function(operator){if(this.optionalOperator(operator))
return;this.error("Missing expected operator "+operator);};_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;if(!n.isIdentifier()&&!n.isKeyword()){this.error("Unexpected token "+n+", expected identifier or keyword");}
this.advance();return n.toString();};_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;if(!n.isIdentifier()&&!n.isKeyword()&&!n.isString()){this.error("Unexpected token "+n+", expected identifier, keyword, or string");}
this.advance();return n.toString();};_ParseAST.prototype.parseChain=function(){var exprs=[];while(this.index<this.tokens.length){var expr=this.parsePipe();exprs.push(expr);if(this.optionalCharacter(lexer_1.$SEMICOLON)){if(!this.parseAction){this.error("Binding expression cannot contain chained expression");}
while(this.optionalCharacter(lexer_1.$SEMICOLON)){}}else if(this.index<this.tokens.length){this.error("Unexpected token '"+this.next+"'");}}
if(exprs.length==0)
return new ast_1.EmptyExpr();if(exprs.length==1)
return exprs[0];return new ast_1.Chain(exprs);};_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){if(this.parseAction){this.error("Cannot have a pipe in an action expression");}
do{var name=this.expectIdentifierOrKeyword();var args=[];while(this.optionalCharacter(lexer_1.$COLON)){args.push(this.parseExpression());}
result=new ast_1.BindingPipe(result,name,args);}while(this.optionalOperator("|"));}
return result;};_ParseAST.prototype.parseExpression=function(){return this.parseConditional();};_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex;var result=this.parseLogicalOr();if(this.optionalOperator('?')){var yes=this.parsePipe();if(!this.optionalCharacter(lexer_1.$COLON)){var end=this.inputIndex;var expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions");}
var no=this.parsePipe();return new ast_1.Conditional(result,yes,no);}else{return result;}};_ParseAST.prototype.parseLogicalOr=function(){var result=this.parseLogicalAnd();while(this.optionalOperator('||')){result=new ast_1.Binary('||',result,this.parseLogicalAnd());}
return result;};_ParseAST.prototype.parseLogicalAnd=function(){var result=this.parseEquality();while(this.optionalOperator('&&')){result=new ast_1.Binary('&&',result,this.parseEquality());}
return result;};_ParseAST.prototype.parseEquality=function(){var result=this.parseRelational();while(true){if(this.optionalOperator('==')){result=new ast_1.Binary('==',result,this.parseRelational());}else if(this.optionalOperator('===')){result=new ast_1.Binary('===',result,this.parseRelational());}else if(this.optionalOperator('!=')){result=new ast_1.Binary('!=',result,this.parseRelational());}else if(this.optionalOperator('!==')){result=new ast_1.Binary('!==',result,this.parseRelational());}else{return result;}}};_ParseAST.prototype.parseRelational=function(){var result=this.parseAdditive();while(true){if(this.optionalOperator('<')){result=new ast_1.Binary('<',result,this.parseAdditive());}else if(this.optionalOperator('>')){result=new ast_1.Binary('>',result,this.parseAdditive());}else if(this.optionalOperator('<=')){result=new ast_1.Binary('<=',result,this.parseAdditive());}else if(this.optionalOperator('>=')){result=new ast_1.Binary('>=',result,this.parseAdditive());}else{return result;}}};_ParseAST.prototype.parseAdditive=function(){var result=this.parseMultiplicative();while(true){if(this.optionalOperator('+')){result=new ast_1.Binary('+',result,this.parseMultiplicative());}else if(this.optionalOperator('-')){result=new ast_1.Binary('-',result,this.parseMultiplicative());}else{return result;}}};_ParseAST.prototype.parseMultiplicative=function(){var result=this.parsePrefix();while(true){if(this.optionalOperator('*')){result=new ast_1.Binary('*',result,this.parsePrefix());}else if(this.optionalOperator('%')){result=new ast_1.Binary('%',result,this.parsePrefix());}else if(this.optionalOperator('/')){result=new ast_1.Binary('/',result,this.parsePrefix());}else{return result;}}};_ParseAST.prototype.parsePrefix=function(){if(this.optionalOperator('+')){return this.parsePrefix();}else if(this.optionalOperator('-')){return new ast_1.Binary('-',new ast_1.LiteralPrimitive(0),this.parsePrefix());}else if(this.optionalOperator('!')){return new ast_1.PrefixNot(this.parsePrefix());}else{return this.parseCallChain();}};_ParseAST.prototype.parseCallChain=function(){var result=this.parsePrimary();while(true){if(this.optionalCharacter(lexer_1.$PERIOD)){result=this.parseAccessMemberOrMethodCall(result,false);}else if(this.optionalOperator('?.')){result=this.parseAccessMemberOrMethodCall(result,true);}else if(this.optionalCharacter(lexer_1.$LBRACKET)){var key=this.parsePipe();this.expectCharacter(lexer_1.$RBRACKET);if(this.optionalOperator("=")){var value=this.parseConditional();result=new ast_1.KeyedWrite(result,key,value);}else{result=new ast_1.KeyedRead(result,key);}}else if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);result=new ast_1.FunctionCall(result,args);}else{return result;}}};_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(lexer_1.$LPAREN)){var result=this.parsePipe();this.expectCharacter(lexer_1.$RPAREN);return result;}else if(this.next.isKeywordNull()||this.next.isKeywordUndefined()){this.advance();return new ast_1.LiteralPrimitive(null);}else if(this.next.isKeywordTrue()){this.advance();return new ast_1.LiteralPrimitive(true);}else if(this.next.isKeywordFalse()){this.advance();return new ast_1.LiteralPrimitive(false);}else if(this.optionalCharacter(lexer_1.$LBRACKET)){var elements=this.parseExpressionList(lexer_1.$RBRACKET);this.expectCharacter(lexer_1.$RBRACKET);return new ast_1.LiteralArray(elements);}else if(this.next.isCharacter(lexer_1.$LBRACE)){return this.parseLiteralMap();}else if(this.next.isIdentifier()){return this.parseAccessMemberOrMethodCall(_implicitReceiver,false);}else if(this.next.isNumber()){var value=this.next.toNumber();this.advance();return new ast_1.LiteralPrimitive(value);}else if(this.next.isString()){var literalValue=this.next.toString();this.advance();return new ast_1.LiteralPrimitive(literalValue);}else if(this.index>=this.tokens.length){this.error("Unexpected end of expression: "+this.input);}else{this.error("Unexpected token "+this.next);}
throw new exceptions_1.BaseException("Fell through all cases in parsePrimary");};_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator)){do{result.push(this.parsePipe());}while(this.optionalCharacter(lexer_1.$COMMA));}
return result;};_ParseAST.prototype.parseLiteralMap=function(){var keys=[];var values=[];this.expectCharacter(lexer_1.$LBRACE);if(!this.optionalCharacter(lexer_1.$RBRACE)){do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key);this.expectCharacter(lexer_1.$COLON);values.push(this.parsePipe());}while(this.optionalCharacter(lexer_1.$COMMA));this.expectCharacter(lexer_1.$RBRACE);}
return new ast_1.LiteralMap(keys,values);};_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){if(isSafe===void 0){isSafe=false;}
var id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);var fn=this.reflector.method(id);return isSafe?new ast_1.SafeMethodCall(receiver,id,fn,args):new ast_1.MethodCall(receiver,id,fn,args);}else{if(isSafe){if(this.optionalOperator("=")){this.error("The '?.' operator cannot be used in the assignment");}else{return new ast_1.SafePropertyRead(receiver,id,this.reflector.getter(id));}}else{if(this.optionalOperator("=")){if(!this.parseAction){this.error("Bindings cannot contain assignments");}
var value=this.parseConditional();return new ast_1.PropertyWrite(receiver,id,this.reflector.setter(id),value);}else{return new ast_1.PropertyRead(receiver,id,this.reflector.getter(id));}}}
return null;};_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(lexer_1.$RPAREN))
return[];var positionals=[];do{positionals.push(this.parsePipe());}while(this.optionalCharacter(lexer_1.$COMMA));return positionals;};_ParseAST.prototype.parseBlockContent=function(){if(!this.parseAction){this.error("Binding expression cannot contain chained expression");}
var exprs=[];while(this.index<this.tokens.length&&!this.next.isCharacter(lexer_1.$RBRACE)){var expr=this.parseExpression();exprs.push(expr);if(this.optionalCharacter(lexer_1.$SEMICOLON)){while(this.optionalCharacter(lexer_1.$SEMICOLON)){}}}
if(exprs.length==0)
return new ast_1.EmptyExpr();if(exprs.length==1)
return exprs[0];return new ast_1.Chain(exprs);};_ParseAST.prototype.expectTemplateBindingKey=function(){var result='';var operatorFound=false;do{result+=this.expectIdentifierOrKeywordOrString();operatorFound=this.optionalOperator('-');if(operatorFound){result+='-';}}while(operatorFound);return result.toString();};_ParseAST.prototype.parseTemplateBindings=function(){var bindings=[];var prefix=null;while(this.index<this.tokens.length){var keyIsVar=this.optionalKeywordVar();var key=this.expectTemplateBindingKey();if(!keyIsVar){if(prefix==null){prefix=key;}else{key=prefix+key[0].toUpperCase()+key.substring(1);}}
this.optionalCharacter(lexer_1.$COLON);var name=null;var expression=null;if(keyIsVar){if(this.optionalOperator("=")){name=this.expectTemplateBindingKey();}else{name='\$implicit';}}else if(this.next!==lexer_1.EOF&&!this.peekKeywordVar()){var start=this.inputIndex;var ast=this.parsePipe();var source=this.input.substring(start,this.inputIndex);expression=new ast_1.ASTWithSource(ast,source,this.location);}
bindings.push(new ast_1.TemplateBinding(key,keyIsVar,name,expression));if(!this.optionalCharacter(lexer_1.$SEMICOLON)){this.optionalCharacter(lexer_1.$COMMA);}}
return bindings;};_ParseAST.prototype.error=function(message,index){if(index===void 0){index=null;}
if(lang_1.isBlank(index))
index=this.index;var location=(index<this.tokens.length)?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression";throw new ParseException(message,this.input,location,this.location);};return _ParseAST;})();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=(function(){function SimpleExpressionChecker(){this.simple=true;}
SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker();ast.visit(s);return s.simple;};SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast){};SimpleExpressionChecker.prototype.visitInterpolation=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast){};SimpleExpressionChecker.prototype.visitPropertyRead=function(ast){};SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitMethodCall=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitFunctionCall=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitLiteralArray=function(ast){this.visitAll(ast.expressions);};SimpleExpressionChecker.prototype.visitLiteralMap=function(ast){this.visitAll(ast.values);};SimpleExpressionChecker.prototype.visitBinary=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitPrefixNot=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitConditional=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitPipe=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitKeyedRead=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this);}
return res;};SimpleExpressionChecker.prototype.visitChain=function(ast){this.simple=false;};SimpleExpressionChecker.prototype.visitQuote=function(ast){this.simple=false;};return SimpleExpressionChecker;})();global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/parser/locals",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var Locals=(function(){function Locals(parent,current){this.parent=parent;this.current=current;}
Locals.prototype.contains=function(name){if(this.current.has(name)){return true;}
if(lang_1.isPresent(this.parent)){return this.parent.contains(name);}
return false;};Locals.prototype.get=function(name){if(this.current.has(name)){return this.current.get(name);}
if(lang_1.isPresent(this.parent)){return this.parent.get(name);}
throw new exceptions_1.BaseException("Cannot find '"+name+"'");};Locals.prototype.set=function(name,value){if(this.current.has(name)){this.current.set(name,value);}else{throw new exceptions_1.BaseException("Setting of new keys post-construction is not supported. Key: "+name+".");}};Locals.prototype.clearLocalValues=function(){collection_1.MapWrapper.clearValues(this.current);};return Locals;})();exports.Locals=Locals;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/exceptions",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var exceptions_1=require("angular2/src/facade/exceptions");var ExpressionChangedAfterItHasBeenCheckedException=(function(_super){__extends(ExpressionChangedAfterItHasBeenCheckedException,_super);function ExpressionChangedAfterItHasBeenCheckedException(exp,oldValue,currValue,context){_super.call(this,("Expression '"+exp+"' has changed after it was checked. ")+("Previous value: '"+oldValue+"'. Current value: '"+currValue+"'"));}
return ExpressionChangedAfterItHasBeenCheckedException;})(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ChangeDetectionError=(function(_super){__extends(ChangeDetectionError,_super);function ChangeDetectionError(exp,originalException,originalStack,context){_super.call(this,originalException+" in ["+exp+"]",originalException,originalStack,context);this.location=exp;}
return ChangeDetectionError;})(exceptions_1.WrappedException);exports.ChangeDetectionError=ChangeDetectionError;var DehydratedException=(function(_super){__extends(DehydratedException,_super);function DehydratedException(details){_super.call(this,"Attempt to use a dehydrated detector: "+details);}
return DehydratedException;})(exceptions_1.BaseException);exports.DehydratedException=DehydratedException;var EventEvaluationError=(function(_super){__extends(EventEvaluationError,_super);function EventEvaluationError(eventName,originalException,originalStack,context){_super.call(this,"Error during evaluation of \""+eventName+"\"",originalException,originalStack,context);}
return EventEvaluationError;})(exceptions_1.WrappedException);exports.EventEvaluationError=EventEvaluationError;var EventEvaluationErrorContext=(function(){function EventEvaluationErrorContext(element,componentElement,context,locals,injector){this.element=element;this.componentElement=componentElement;this.context=context;this.locals=locals;this.injector=injector;}
return EventEvaluationErrorContext;})();exports.EventEvaluationErrorContext=EventEvaluationErrorContext;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/interfaces",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var DebugContext=(function(){function DebugContext(element,componentElement,directive,context,locals,injector){this.element=element;this.componentElement=componentElement;this.directive=directive;this.context=context;this.locals=locals;this.injector=injector;}
return DebugContext;})();exports.DebugContext=DebugContext;var ChangeDetectorGenConfig=(function(){function ChangeDetectorGenConfig(genDebugInfo,logBindingUpdate,useJit){this.genDebugInfo=genDebugInfo;this.logBindingUpdate=logBindingUpdate;this.useJit=useJit;}
return ChangeDetectorGenConfig;})();exports.ChangeDetectorGenConfig=ChangeDetectorGenConfig;var ChangeDetectorDefinition=(function(){function ChangeDetectorDefinition(id,strategy,variableNames,bindingRecords,eventRecords,directiveRecords,genConfig){this.id=id;this.strategy=strategy;this.variableNames=variableNames;this.bindingRecords=bindingRecords;this.eventRecords=eventRecords;this.directiveRecords=directiveRecords;this.genConfig=genConfig;}
return ChangeDetectorDefinition;})();exports.ChangeDetectorDefinition=ChangeDetectorDefinition;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/constants",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");(function(ChangeDetectorState){ChangeDetectorState[ChangeDetectorState["NeverChecked"]=0]="NeverChecked";ChangeDetectorState[ChangeDetectorState["CheckedBefore"]=1]="CheckedBefore";ChangeDetectorState[ChangeDetectorState["Errored"]=2]="Errored";})(exports.ChangeDetectorState||(exports.ChangeDetectorState={}));var ChangeDetectorState=exports.ChangeDetectorState;(function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy["CheckOnce"]=0]="CheckOnce";ChangeDetectionStrategy[ChangeDetectionStrategy["Checked"]=1]="Checked";ChangeDetectionStrategy[ChangeDetectionStrategy["CheckAlways"]=2]="CheckAlways";ChangeDetectionStrategy[ChangeDetectionStrategy["Detached"]=3]="Detached";ChangeDetectionStrategy[ChangeDetectionStrategy["OnPush"]=4]="OnPush";ChangeDetectionStrategy[ChangeDetectionStrategy["Default"]=5]="Default";})(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.CheckOnce,ChangeDetectionStrategy.Checked,ChangeDetectionStrategy.CheckAlways,ChangeDetectionStrategy.Detached,ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default];exports.CHANGE_DETECTOR_STATE_VALUES=[ChangeDetectorState.NeverChecked,ChangeDetectorState.CheckedBefore,ChangeDetectorState.Errored];function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return lang_1.isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default;}
exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/pipe_lifecycle_reflector",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function implementsOnDestroy(pipe){return pipe.constructor.prototype.ngOnDestroy;}
exports.implementsOnDestroy=implementsOnDestroy;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/binding_record",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var DIRECTIVE_LIFECYCLE="directiveLifecycle";var BINDING="native";var DIRECTIVE="directive";var ELEMENT_PROPERTY="elementProperty";var ELEMENT_ATTRIBUTE="elementAttribute";var ELEMENT_CLASS="elementClass";var ELEMENT_STYLE="elementStyle";var TEXT_NODE="textNode";var EVENT="event";var HOST_EVENT="hostEvent";var BindingTarget=(function(){function BindingTarget(mode,elementIndex,name,unit,debug){this.mode=mode;this.elementIndex=elementIndex;this.name=name;this.unit=unit;this.debug=debug;}
BindingTarget.prototype.isDirective=function(){return this.mode===DIRECTIVE;};BindingTarget.prototype.isElementProperty=function(){return this.mode===ELEMENT_PROPERTY;};BindingTarget.prototype.isElementAttribute=function(){return this.mode===ELEMENT_ATTRIBUTE;};BindingTarget.prototype.isElementClass=function(){return this.mode===ELEMENT_CLASS;};BindingTarget.prototype.isElementStyle=function(){return this.mode===ELEMENT_STYLE;};BindingTarget.prototype.isTextNode=function(){return this.mode===TEXT_NODE;};return BindingTarget;})();exports.BindingTarget=BindingTarget;var BindingRecord=(function(){function BindingRecord(mode,target,implicitReceiver,ast,setter,lifecycleEvent,directiveRecord){this.mode=mode;this.target=target;this.implicitReceiver=implicitReceiver;this.ast=ast;this.setter=setter;this.lifecycleEvent=lifecycleEvent;this.directiveRecord=directiveRecord;}
BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===DIRECTIVE_LIFECYCLE;};BindingRecord.prototype.callOnChanges=function(){return lang_1.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges;};BindingRecord.prototype.isDefaultChangeDetection=function(){return lang_1.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection();};BindingRecord.createDirectiveDoCheck=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"DoCheck",directiveRecord);};BindingRecord.createDirectiveOnInit=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnInit",directiveRecord);};BindingRecord.createDirectiveOnChanges=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnChanges",directiveRecord);};BindingRecord.createForDirective=function(ast,propertyName,setter,directiveRecord){var elementIndex=directiveRecord.directiveIndex.elementIndex;var t=new BindingTarget(DIRECTIVE,elementIndex,propertyName,null,ast.toString());return new BindingRecord(DIRECTIVE,t,0,ast,setter,null,directiveRecord);};BindingRecord.createForElementProperty=function(ast,elementIndex,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null);};BindingRecord.createForElementAttribute=function(ast,elementIndex,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null);};BindingRecord.createForElementClass=function(ast,elementIndex,className){var t=new BindingTarget(ELEMENT_CLASS,elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null);};BindingRecord.createForElementStyle=function(ast,elementIndex,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null);};BindingRecord.createForHostProperty=function(directiveIndex,ast,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,directiveIndex.elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null);};BindingRecord.createForHostAttribute=function(directiveIndex,ast,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,directiveIndex.elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null);};BindingRecord.createForHostClass=function(directiveIndex,ast,className){var t=new BindingTarget(ELEMENT_CLASS,directiveIndex.elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null);};BindingRecord.createForHostStyle=function(directiveIndex,ast,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,directiveIndex.elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null);};BindingRecord.createForTextNode=function(ast,elementIndex){var t=new BindingTarget(TEXT_NODE,elementIndex,null,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null);};BindingRecord.createForEvent=function(ast,eventName,elementIndex){var t=new BindingTarget(EVENT,elementIndex,eventName,null,ast.toString());return new BindingRecord(EVENT,t,0,ast,null,null,null);};BindingRecord.createForHostEvent=function(ast,eventName,directiveRecord){var directiveIndex=directiveRecord.directiveIndex;var t=new BindingTarget(HOST_EVENT,directiveIndex.elementIndex,eventName,null,ast.toString());return new BindingRecord(HOST_EVENT,t,directiveIndex,ast,null,null,directiveRecord);};return BindingRecord;})();exports.BindingRecord=BindingRecord;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/directive_record",["angular2/src/facade/lang","angular2/src/core/change_detection/constants"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var constants_1=require("angular2/src/core/change_detection/constants");var DirectiveIndex=(function(){function DirectiveIndex(elementIndex,directiveIndex){this.elementIndex=elementIndex;this.directiveIndex=directiveIndex;}
Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex;},enumerable:true,configurable:true});return DirectiveIndex;})();exports.DirectiveIndex=DirectiveIndex;var DirectiveRecord=(function(){function DirectiveRecord(_a){var _b=_a===void 0?{}:_a,directiveIndex=_b.directiveIndex,callAfterContentInit=_b.callAfterContentInit,callAfterContentChecked=_b.callAfterContentChecked,callAfterViewInit=_b.callAfterViewInit,callAfterViewChecked=_b.callAfterViewChecked,callOnChanges=_b.callOnChanges,callDoCheck=_b.callDoCheck,callOnInit=_b.callOnInit,callOnDestroy=_b.callOnDestroy,changeDetection=_b.changeDetection,outputs=_b.outputs;this.directiveIndex=directiveIndex;this.callAfterContentInit=lang_1.normalizeBool(callAfterContentInit);this.callAfterContentChecked=lang_1.normalizeBool(callAfterContentChecked);this.callOnChanges=lang_1.normalizeBool(callOnChanges);this.callAfterViewInit=lang_1.normalizeBool(callAfterViewInit);this.callAfterViewChecked=lang_1.normalizeBool(callAfterViewChecked);this.callDoCheck=lang_1.normalizeBool(callDoCheck);this.callOnInit=lang_1.normalizeBool(callOnInit);this.callOnDestroy=lang_1.normalizeBool(callOnDestroy);this.changeDetection=changeDetection;this.outputs=outputs;}
DirectiveRecord.prototype.isDefaultChangeDetection=function(){return constants_1.isDefaultChangeDetectionStrategy(this.changeDetection);};return DirectiveRecord;})();exports.DirectiveRecord=DirectiveRecord;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/change_detector_ref",["angular2/src/core/change_detection/constants"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var constants_1=require("angular2/src/core/change_detection/constants");var ChangeDetectorRef=(function(){function ChangeDetectorRef(){}
return ChangeDetectorRef;})();exports.ChangeDetectorRef=ChangeDetectorRef;var ChangeDetectorRef_=(function(_super){__extends(ChangeDetectorRef_,_super);function ChangeDetectorRef_(_cd){_super.call(this);this._cd=_cd;}
ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce();};ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.Detached;};ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges();};ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges();};ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.CheckAlways;this.markForCheck();};return ChangeDetectorRef_;})(ChangeDetectorRef);exports.ChangeDetectorRef_=ChangeDetectorRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/profile/wtf_impl",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var trace;var events;function detectWTF(){var wtf=lang_1.global['wtf'];if(wtf){trace=wtf['trace'];if(trace){events=trace['events'];return true;}}
return false;}
exports.detectWTF=detectWTF;function createScope(signature,flags){if(flags===void 0){flags=null;}
return events.createScope(signature,flags);}
exports.createScope=createScope;function leave(scope,returnValue){trace.leaveScope(scope,returnValue);return returnValue;}
exports.leave=leave;function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action);}
exports.startTimeRange=startTimeRange;function endTimeRange(range){trace.endTimeRange(range);}
exports.endTimeRange=endTimeRange;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/proto_record",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(RecordType){RecordType[RecordType["Self"]=0]="Self";RecordType[RecordType["Const"]=1]="Const";RecordType[RecordType["PrimitiveOp"]=2]="PrimitiveOp";RecordType[RecordType["PropertyRead"]=3]="PropertyRead";RecordType[RecordType["PropertyWrite"]=4]="PropertyWrite";RecordType[RecordType["Local"]=5]="Local";RecordType[RecordType["InvokeMethod"]=6]="InvokeMethod";RecordType[RecordType["InvokeClosure"]=7]="InvokeClosure";RecordType[RecordType["KeyedRead"]=8]="KeyedRead";RecordType[RecordType["KeyedWrite"]=9]="KeyedWrite";RecordType[RecordType["Pipe"]=10]="Pipe";RecordType[RecordType["Interpolate"]=11]="Interpolate";RecordType[RecordType["SafeProperty"]=12]="SafeProperty";RecordType[RecordType["CollectionLiteral"]=13]="CollectionLiteral";RecordType[RecordType["SafeMethodInvoke"]=14]="SafeMethodInvoke";RecordType[RecordType["DirectiveLifecycle"]=15]="DirectiveLifecycle";RecordType[RecordType["Chain"]=16]="Chain";RecordType[RecordType["SkipRecordsIf"]=17]="SkipRecordsIf";RecordType[RecordType["SkipRecordsIfNot"]=18]="SkipRecordsIfNot";RecordType[RecordType["SkipRecords"]=19]="SkipRecords";})(exports.RecordType||(exports.RecordType={}));var RecordType=exports.RecordType;var ProtoRecord=(function(){function ProtoRecord(mode,name,funcOrValue,args,fixedArgs,contextIndex,directiveIndex,selfIndex,bindingRecord,lastInBinding,lastInDirective,argumentToPureFunction,referencedBySelf,propertyBindingIndex){this.mode=mode;this.name=name;this.funcOrValue=funcOrValue;this.args=args;this.fixedArgs=fixedArgs;this.contextIndex=contextIndex;this.directiveIndex=directiveIndex;this.selfIndex=selfIndex;this.bindingRecord=bindingRecord;this.lastInBinding=lastInBinding;this.lastInDirective=lastInDirective;this.argumentToPureFunction=argumentToPureFunction;this.referencedBySelf=referencedBySelf;this.propertyBindingIndex=propertyBindingIndex;}
ProtoRecord.prototype.isPureFunction=function(){return this.mode===RecordType.Interpolate||this.mode===RecordType.CollectionLiteral;};ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf;};ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord();};ProtoRecord.prototype.isPipeRecord=function(){return this.mode===RecordType.Pipe;};ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===RecordType.SkipRecordsIfNot||this.mode===RecordType.SkipRecordsIf;};ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===RecordType.SkipRecords;};ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord();};ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===RecordType.DirectiveLifecycle;};return ProtoRecord;})();exports.ProtoRecord=ProtoRecord;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/event_binding",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var EventBinding=(function(){function EventBinding(eventName,elIndex,dirIndex,records){this.eventName=eventName;this.elIndex=elIndex;this.dirIndex=dirIndex;this.records=records;}
return EventBinding;})();exports.EventBinding=EventBinding;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/coalesce",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/core/change_detection/proto_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var proto_record_1=require("angular2/src/core/change_detection/proto_record");function coalesce(srcRecords){var dstRecords=[];var excludedIdxs=[];var indexMap=new collection_1.Map();var skipDepth=0;var skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length);for(var protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];if(lang_1.isPresent(skipRecord)){skipDepth--;skipRecord.fixedArgs[0]=dstRecords.length;}
var src=srcRecords[protoIndex];var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);if(dst.isSkipRecord()){dstRecords.push(dst);skipDepth++;skipSources[dst.fixedArgs[0]]=dst;}else{var record=_mayBeAddRecord(dst,dstRecords,excludedIdxs,skipDepth>0);indexMap.set(src.selfIndex,record.selfIndex);}}
return _optimizeSkips(dstRecords);}
exports.coalesce=coalesce;function _optimizeSkips(srcRecords){var dstRecords=[];var skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length);var indexMap=new collection_1.Map();for(var protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];if(lang_1.isPresent(skipRecord)){skipRecord.fixedArgs[0]=dstRecords.length;}
var src=srcRecords[protoIndex];if(src.isSkipRecord()){if(src.isConditionalSkipRecord()&&src.fixedArgs[0]===protoIndex+2&&protoIndex<srcRecords.length-1&&srcRecords[protoIndex+1].mode===proto_record_1.RecordType.SkipRecords){src.mode=src.mode===proto_record_1.RecordType.SkipRecordsIf?proto_record_1.RecordType.SkipRecordsIfNot:proto_record_1.RecordType.SkipRecordsIf;src.fixedArgs[0]=srcRecords[protoIndex+1].fixedArgs[0];protoIndex++;}
if(src.fixedArgs[0]>protoIndex+1){var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst);skipSources[dst.fixedArgs[0]]=dst;}}else{var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst);indexMap.set(src.selfIndex,dst.selfIndex);}}
return dstRecords;}
function _mayBeAddRecord(record,dstRecords,excludedIdxs,excluded){var match=_findFirstMatch(record,dstRecords,excludedIdxs);if(lang_1.isPresent(match)){if(record.lastInBinding){dstRecords.push(_createSelfRecord(record,match.selfIndex,dstRecords.length+1));match.referencedBySelf=true;}else{if(record.argumentToPureFunction){match.argumentToPureFunction=true;}}
return match;}
if(excluded){excludedIdxs.push(record.selfIndex);}
dstRecords.push(record);return record;}
function _findFirstMatch(record,dstRecords,excludedIdxs){return dstRecords.find(function(rr){return excludedIdxs.indexOf(rr.selfIndex)==-1&&rr.mode!==proto_record_1.RecordType.DirectiveLifecycle&&_haveSameDirIndex(rr,record)&&rr.mode===record.mode&&lang_1.looseIdentical(rr.funcOrValue,record.funcOrValue)&&rr.contextIndex===record.contextIndex&&lang_1.looseIdentical(rr.name,record.name)&&collection_1.ListWrapper.equals(rr.args,record.args);});}
function _cloneAndUpdateIndexes(record,dstRecords,indexMap){var args=record.args.map(function(src){return _srcToDstSelfIndex(indexMap,src);});var contextIndex=_srcToDstSelfIndex(indexMap,record.contextIndex);var selfIndex=dstRecords.length+1;return new proto_record_1.ProtoRecord(record.mode,record.name,record.funcOrValue,args,record.fixedArgs,contextIndex,record.directiveIndex,selfIndex,record.bindingRecord,record.lastInBinding,record.lastInDirective,record.argumentToPureFunction,record.referencedBySelf,record.propertyBindingIndex);}
function _srcToDstSelfIndex(indexMap,srcIdx){var dstIdx=indexMap.get(srcIdx);return lang_1.isPresent(dstIdx)?dstIdx:srcIdx;}
function _createSelfRecord(r,contextIndex,selfIndex){return new proto_record_1.ProtoRecord(proto_record_1.RecordType.Self,"self",null,[],r.fixedArgs,contextIndex,r.directiveIndex,selfIndex,r.bindingRecord,r.lastInBinding,r.lastInDirective,false,false,r.propertyBindingIndex);}
function _haveSameDirIndex(a,b){var di1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.directiveIndex;var ei1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.elementIndex;var di2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.directiveIndex;var ei2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.elementIndex;return di1===di2&&ei1===ei2;}
global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/codegen_name_util",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var _STATE_ACCESSOR="state";var _CONTEXT_ACCESSOR="context";var _PROP_BINDING_INDEX="propertyBindingIndex";var _DIRECTIVES_ACCESSOR="directiveIndices";var _DISPATCHER_ACCESSOR="dispatcher";var _LOCALS_ACCESSOR="locals";var _MODE_ACCESSOR="mode";var _PIPES_ACCESSOR="pipes";var _PROTOS_ACCESSOR="protos";exports.CONTEXT_ACCESSOR="context";exports.CONTEXT_INDEX=0;var _FIELD_PREFIX='this.';var _whiteSpaceRegExp=/\W/g;function sanitizeName(s){return lang_1.StringWrapper.replaceAll(s,_whiteSpaceRegExp,'');}
exports.sanitizeName=sanitizeName;var CodegenNameUtil=(function(){function CodegenNameUtil(_records,_eventBindings,_directiveRecords,_utilName){this._records=_records;this._eventBindings=_eventBindings;this._directiveRecords=_directiveRecords;this._utilName=_utilName;this._sanitizedEventNames=new collection_1.Map();this._sanitizedNames=collection_1.ListWrapper.createFixedSize(this._records.length+1);this._sanitizedNames[exports.CONTEXT_INDEX]=exports.CONTEXT_ACCESSOR;for(var i=0,iLen=this._records.length;i<iLen;++i){this._sanitizedNames[i+1]=sanitizeName(""+this._records[i].name+i);}
for(var ebIndex=0;ebIndex<_eventBindings.length;++ebIndex){var eb=_eventBindings[ebIndex];var names=[exports.CONTEXT_ACCESSOR];for(var i=0,iLen=eb.records.length;i<iLen;++i){names.push(sanitizeName(""+eb.records[i].name+i+"_"+ebIndex));}
this._sanitizedEventNames.set(eb,names);}}
CodegenNameUtil.prototype._addFieldPrefix=function(name){return""+_FIELD_PREFIX+name;};CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(_DISPATCHER_ACCESSOR);};CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(_PIPES_ACCESSOR);};CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(_PROTOS_ACCESSOR);};CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(_DIRECTIVES_ACCESSOR);};CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(_LOCALS_ACCESSOR);};CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(_STATE_ACCESSOR);};CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(_MODE_ACCESSOR);};CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(_PROP_BINDING_INDEX);};CodegenNameUtil.prototype.getLocalName=function(idx){return"l_"+this._sanitizedNames[idx];};CodegenNameUtil.prototype.getEventLocalName=function(eb,idx){return"l_"+this._sanitizedEventNames.get(eb)[idx];};CodegenNameUtil.prototype.getChangeName=function(idx){return"c_"+this._sanitizedNames[idx];};CodegenNameUtil.prototype.genInitLocals=function(){var declarations=[];var assignments=[];for(var i=0,iLen=this.getFieldCount();i<iLen;++i){if(i==exports.CONTEXT_INDEX){declarations.push(this.getLocalName(i)+" = "+this.getFieldName(i));}else{var rec=this._records[i-1];if(rec.argumentToPureFunction){var changeName=this.getChangeName(i);declarations.push(this.getLocalName(i)+","+changeName);assignments.push(changeName);}else{declarations.push(""+this.getLocalName(i));}}}
var assignmentsCode=collection_1.ListWrapper.isEmpty(assignments)?'':assignments.join('=')+" = false;";return"var "+declarations.join(',')+";"+assignmentsCode;};CodegenNameUtil.prototype.genInitEventLocals=function(){var _this=this;var res=[(this.getLocalName(exports.CONTEXT_INDEX)+" = "+this.getFieldName(exports.CONTEXT_INDEX))];this._sanitizedEventNames.forEach(function(names,eb){for(var i=0;i<names.length;++i){if(i!==exports.CONTEXT_INDEX){res.push(""+_this.getEventLocalName(eb,i));}}});return res.length>1?"var "+res.join(',')+";":'';};CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault";};CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length;};CodegenNameUtil.prototype.getFieldName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx]);};CodegenNameUtil.prototype.getAllFieldNames=function(){var fieldList=[];for(var k=0,kLen=this.getFieldCount();k<kLen;++k){if(k===0||this._records[k-1].shouldBeChecked()){fieldList.push(this.getFieldName(k));}}
for(var i=0,iLen=this._records.length;i<iLen;++i){var rec=this._records[i];if(rec.isPipeRecord()){fieldList.push(this.getPipeName(rec.selfIndex));}}
for(var j=0,jLen=this._directiveRecords.length;j<jLen;++j){var dRec=this._directiveRecords[j];fieldList.push(this.getDirectiveName(dRec.directiveIndex));if(!dRec.isDefaultChangeDetection()){fieldList.push(this.getDetectorName(dRec.directiveIndex));}}
return fieldList;};CodegenNameUtil.prototype.genDehydrateFields=function(){var fields=this.getAllFieldNames();collection_1.ListWrapper.removeAt(fields,exports.CONTEXT_INDEX);if(collection_1.ListWrapper.isEmpty(fields))
return'';fields.push(this._utilName+".uninitialized;");return fields.join(' = ');};CodegenNameUtil.prototype.genPipeOnDestroy=function(){var _this=this;return this._records.filter(function(r){return r.isPipeRecord();}).map(function(r){return(_this._utilName+".callPipeOnDestroy("+_this.getPipeName(r.selfIndex)+");");}).join('\n');};CodegenNameUtil.prototype.getPipeName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx]+"_pipe");};CodegenNameUtil.prototype.getDirectiveName=function(d){return this._addFieldPrefix("directive_"+d.name);};CodegenNameUtil.prototype.getDetectorName=function(d){return this._addFieldPrefix("detector_"+d.name);};return CodegenNameUtil;})();exports.CodegenNameUtil=CodegenNameUtil;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/codegen_facade",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function codify(obj){return JSON.stringify(obj);}
exports.codify=codify;function rawString(str){return"'"+str+"'";}
exports.rawString=rawString;function combineGeneratedStrings(vals){return vals.join(' + ');}
exports.combineGeneratedStrings=combineGeneratedStrings;global.define=__define;return module.exports;});System.register("angular2/src/core/metadata/view",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");(function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation["Emulated"]=0]="Emulated";ViewEncapsulation[ViewEncapsulation["Native"]=1]="Native";ViewEncapsulation[ViewEncapsulation["None"]=2]="None";})(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=(function(){function ViewMetadata(_a){var _b=_a===void 0?{}:_a,templateUrl=_b.templateUrl,template=_b.template,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls;this.templateUrl=templateUrl;this.template=template;this.styleUrls=styleUrls;this.styles=styles;this.directives=directives;this.pipes=pipes;this.encapsulation=encapsulation;}
ViewMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],ViewMetadata);return ViewMetadata;})();exports.ViewMetadata=ViewMetadata;global.define=__define;return module.exports;});System.register("angular2/src/core/util",["angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var decorators_1=require("angular2/src/core/util/decorators");exports.Class=decorators_1.Class;global.define=__define;return module.exports;});System.register("angular2/src/core/prod_mode",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode;global.define=__define;return module.exports;});System.register("angular2/src/facade/facade",["angular2/src/facade/lang","angular2/src/facade/async","angular2/src/facade/exceptions","angular2/src/facade/exception_handler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Type=lang_1.Type;var async_1=require("angular2/src/facade/async");exports.EventEmitter=async_1.EventEmitter;var exceptions_1=require("angular2/src/facade/exceptions");exports.WrappedException=exceptions_1.WrappedException;var exception_handler_1=require("angular2/src/facade/exception_handler");exports.ExceptionHandler=exception_handler_1.ExceptionHandler;global.define=__define;return module.exports;});System.register("angular2/src/core/application_tokens",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.APP_COMPONENT_REF_PROMISE=lang_1.CONST_EXPR(new di_1.OpaqueToken('Promise<ComponentRef>'));exports.APP_COMPONENT=lang_1.CONST_EXPR(new di_1.OpaqueToken('AppComponent'));exports.APP_ID=lang_1.CONST_EXPR(new di_1.OpaqueToken('AppId'));function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar();}
exports.APP_ID_RANDOM_PROVIDER=lang_1.CONST_EXPR(new di_1.Provider(exports.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]}));function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(lang_1.Math.random()*25));}
exports.PLATFORM_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Initializer"));exports.APP_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Initializer"));exports.PACKAGE_ROOT_URL=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Packages Root URL"));global.define=__define;return module.exports;});System.register("angular2/src/core/testability/testability",["angular2/src/core/di","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/zone/ng_zone","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var ng_zone_1=require("angular2/src/core/zone/ng_zone");var async_1=require("angular2/src/facade/async");var Testability=(function(){function Testability(_ngZone){this._ngZone=_ngZone;this._pendingCount=0;this._isZoneStable=true;this._didWork=false;this._callbacks=[];this._watchAngularEvents();}
Testability.prototype._watchAngularEvents=function(){var _this=this;async_1.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(_){_this._didWork=true;_this._isZoneStable=false;});this._ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_this._ngZone.onStable,function(_){ng_zone_1.NgZone.assertNotInAngularZone();lang_1.scheduleMicroTask(function(){_this._isZoneStable=true;_this._runCallbacksIfReady();});});});};Testability.prototype.increasePendingRequestCount=function(){this._pendingCount+=1;this._didWork=true;return this._pendingCount;};Testability.prototype.decreasePendingRequestCount=function(){this._pendingCount-=1;if(this._pendingCount<0){throw new exceptions_1.BaseException('pending async requests below zero');}
this._runCallbacksIfReady();return this._pendingCount;};Testability.prototype.isStable=function(){return this._isZoneStable&&this._pendingCount==0&&!this._ngZone.hasPendingMacrotasks;};Testability.prototype._runCallbacksIfReady=function(){var _this=this;if(this.isStable()){lang_1.scheduleMicroTask(function(){while(_this._callbacks.length!==0){(_this._callbacks.pop())(_this._didWork);}
_this._didWork=false;});}else{this._didWork=true;}};Testability.prototype.whenStable=function(callback){this._callbacks.push(callback);this._runCallbacksIfReady();};Testability.prototype.getPendingRequestCount=function(){return this._pendingCount;};Testability.prototype.findBindings=function(using,provider,exactMatch){return[];};Testability.prototype.findProviders=function(using,provider,exactMatch){return[];};Testability=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[ng_zone_1.NgZone])],Testability);return Testability;})();exports.Testability=Testability;var TestabilityRegistry=(function(){function TestabilityRegistry(){this._applications=new collection_1.Map();_testabilityGetter.addToWindow(this);}
TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability);};TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem);};TestabilityRegistry.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications);};TestabilityRegistry.prototype.getAllRootElements=function(){return collection_1.MapWrapper.keys(this._applications);};TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true;}
return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors);};TestabilityRegistry=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],TestabilityRegistry);return TestabilityRegistry;})();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=(function(){function _NoopGetTestability(){}
_NoopGetTestability.prototype.addToWindow=function(registry){};_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null;};_NoopGetTestability=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[])],_NoopGetTestability);return _NoopGetTestability;})();function setTestabilityGetter(getter){_testabilityGetter=getter;}
exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=lang_1.CONST_EXPR(new _NoopGetTestability());global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view_type",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(ViewType){ViewType[ViewType["HOST"]=0]="HOST";ViewType[ViewType["COMPONENT"]=1]="COMPONENT";ViewType[ViewType["EMBEDDED"]=2]="EMBEDDED";})(exports.ViewType||(exports.ViewType={}));var ViewType=exports.ViewType;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/element_ref",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var exceptions_1=require("angular2/src/facade/exceptions");var ElementRef=(function(){function ElementRef(){}
Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});return ElementRef;})();exports.ElementRef=ElementRef;var ElementRef_=(function(){function ElementRef_(_appElement){this._appElement=_appElement;}
Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement;},enumerable:true,configurable:true});Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement;},enumerable:true,configurable:true});return ElementRef_;})();exports.ElementRef_=ElementRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view_container_ref",["angular2/src/facade/collection","angular2/src/facade/exceptions","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var exceptions_1=require("angular2/src/facade/exceptions");var lang_1=require("angular2/src/facade/lang");var ViewContainerRef=(function(){function ViewContainerRef(){}
Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});ViewContainerRef.prototype.clear=function(){for(var i=this.length-1;i>=0;i--){this.remove(i);}};Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;return ViewContainerRef;})();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=(function(_super){__extends(ViewContainerRef_,_super);function ViewContainerRef_(_element){_super.call(this);this._element=_element;}
ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref;};Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return lang_1.isPresent(views)?views.length:0;},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref;},enumerable:true,configurable:true});ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,index){if(index===void 0){index=-1;}
if(index==-1)
index=this.length;var vm=this._element.parentView.viewManager;return vm.createEmbeddedViewInContainer(this._element.ref,index,templateRef);};ViewContainerRef_.prototype.createHostView=function(hostViewFactoryRef,index,dynamicallyCreatedProviders,projectableNodes){if(index===void 0){index=-1;}
if(dynamicallyCreatedProviders===void 0){dynamicallyCreatedProviders=null;}
if(projectableNodes===void 0){projectableNodes=null;}
if(index==-1)
index=this.length;var vm=this._element.parentView.viewManager;return vm.createHostViewInContainer(this._element.ref,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes);};ViewContainerRef_.prototype.insert=function(viewRef,index){if(index===void 0){index=-1;}
if(index==-1)
index=this.length;var vm=this._element.parentView.viewManager;return vm.attachViewInContainer(this._element.ref,index,viewRef);};ViewContainerRef_.prototype.indexOf=function(viewRef){return collection_1.ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView);};ViewContainerRef_.prototype.remove=function(index){if(index===void 0){index=-1;}
if(index==-1)
index=this.length-1;var vm=this._element.parentView.viewManager;return vm.destroyViewInContainer(this._element.ref,index);};ViewContainerRef_.prototype.detach=function(index){if(index===void 0){index=-1;}
if(index==-1)
index=this.length-1;var vm=this._element.parentView.viewManager;return vm.detachViewInContainer(this._element.ref,index);};return ViewContainerRef_;})(ViewContainerRef);exports.ViewContainerRef_=ViewContainerRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/render/api",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var RenderComponentType=(function(){function RenderComponentType(id,encapsulation,styles){this.id=id;this.encapsulation=encapsulation;this.styles=styles;}
return RenderComponentType;})();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=(function(){function RenderDebugInfo(injector,component,providerTokens,locals){this.injector=injector;this.component=component;this.providerTokens=providerTokens;this.locals=locals;}
return RenderDebugInfo;})();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=(function(){function Renderer(){}
return Renderer;})();exports.Renderer=Renderer;var RootRenderer=(function(){function RootRenderer(){}
return RootRenderer;})();exports.RootRenderer=RootRenderer;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/template_ref",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var TemplateRef=(function(){function TemplateRef(){}
Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null;},enumerable:true,configurable:true});return TemplateRef;})();exports.TemplateRef=TemplateRef;var TemplateRef_=(function(_super){__extends(TemplateRef_,_super);function TemplateRef_(_elementRef){_super.call(this);this._elementRef=_elementRef;}
Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef;},enumerable:true,configurable:true});return TemplateRef_;})(TemplateRef);exports.TemplateRef_=TemplateRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/query_list",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var QueryList=(function(){function QueryList(){this._results=[];this._emitter=new async_1.EventEmitter();}
Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter;},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length;},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"first",{get:function(){return collection_1.ListWrapper.first(this._results);},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"last",{get:function(){return collection_1.ListWrapper.last(this._results);},enumerable:true,configurable:true});QueryList.prototype.map=function(fn){return this._results.map(fn);};QueryList.prototype.filter=function(fn){return this._results.filter(fn);};QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init);};QueryList.prototype.forEach=function(fn){this._results.forEach(fn);};QueryList.prototype.toArray=function(){return collection_1.ListWrapper.clone(this._results);};QueryList.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]();};QueryList.prototype.toString=function(){return this._results.toString();};QueryList.prototype.reset=function(res){this._results=res;};QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this);};return QueryList;})();exports.QueryList=QueryList;global.define=__define;return module.exports;});System.register("angular2/src/core/pipes/pipe_provider",["angular2/src/core/di/provider","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var provider_1=require("angular2/src/core/di/provider");var di_1=require("angular2/src/core/di");var PipeProvider=(function(_super){__extends(PipeProvider,_super);function PipeProvider(name,pure,key,resolvedFactories,multiBinding){_super.call(this,key,resolvedFactories,multiBinding);this.name=name;this.pure=pure;}
PipeProvider.createFromType=function(type,metadata){var provider=new di_1.Provider(type,{useClass:type});var rb=provider_1.resolveProvider(provider);return new PipeProvider(metadata.name,metadata.pure,rb.key,rb.resolvedFactories,rb.multiProvider);};return PipeProvider;})(provider_1.ResolvedProvider_);exports.PipeProvider=PipeProvider;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view_ref",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var exceptions_1=require("angular2/src/facade/exceptions");var ViewRef=(function(){function ViewRef(){}
Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});return ViewRef;})();exports.ViewRef=ViewRef;var HostViewRef=(function(_super){__extends(HostViewRef,_super);function HostViewRef(){_super.apply(this,arguments);}
Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;return HostViewRef;})(ViewRef);exports.HostViewRef=HostViewRef;var EmbeddedViewRef=(function(_super){__extends(EmbeddedViewRef,_super);function EmbeddedViewRef(){_super.apply(this,arguments);}
Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;return EmbeddedViewRef;})(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=(function(){function ViewRef_(_view){this._view=_view;this._view=_view;}
Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view;},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref;},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes;},enumerable:true,configurable:true});ViewRef_.prototype.setLocal=function(variableName,value){this._view.setLocal(variableName,value);};ViewRef_.prototype.hasLocal=function(variableName){return this._view.hasLocal(variableName);};Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed;},enumerable:true,configurable:true});return ViewRef_;})();exports.ViewRef_=ViewRef_;var HostViewFactoryRef=(function(){function HostViewFactoryRef(){}
return HostViewFactoryRef;})();exports.HostViewFactoryRef=HostViewFactoryRef;var HostViewFactoryRef_=(function(){function HostViewFactoryRef_(_hostViewFactory){this._hostViewFactory=_hostViewFactory;}
Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory;},enumerable:true,configurable:true});return HostViewFactoryRef_;})();exports.HostViewFactoryRef_=HostViewFactoryRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/pipes",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var SelectedPipe=(function(){function SelectedPipe(pipe,pure){this.pipe=pipe;this.pure=pure;}
return SelectedPipe;})();exports.SelectedPipe=SelectedPipe;global.define=__define;return module.exports;});System.register("angular2/src/core/render/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return'-'+m[1].toLowerCase();});}
exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase();});}
exports.dashCaseToCamelCase=dashCaseToCamelCase;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view_manager",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/exceptions","angular2/src/core/linker/view","angular2/src/core/render/api","angular2/src/core/profile/profile","angular2/src/core/application_tokens","angular2/src/core/linker/view_type"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var exceptions_1=require("angular2/src/facade/exceptions");var view_1=require("angular2/src/core/linker/view");var api_1=require("angular2/src/core/render/api");var profile_1=require("angular2/src/core/profile/profile");var application_tokens_1=require("angular2/src/core/application_tokens");var view_type_1=require("angular2/src/core/linker/view_type");var AppViewManager=(function(){function AppViewManager(){}
return AppViewManager;})();exports.AppViewManager=AppViewManager;var AppViewManager_=(function(_super){__extends(AppViewManager_,_super);function AppViewManager_(_renderer,_appId){_super.call(this);this._renderer=_renderer;this._appId=_appId;this._nextCompTypeId=0;this._createRootHostViewScope=profile_1.wtfCreateScope('AppViewManager#createRootHostView()');this._destroyRootHostViewScope=profile_1.wtfCreateScope('AppViewManager#destroyRootHostView()');this._createEmbeddedViewInContainerScope=profile_1.wtfCreateScope('AppViewManager#createEmbeddedViewInContainer()');this._createHostViewInContainerScope=profile_1.wtfCreateScope('AppViewManager#createHostViewInContainer()');this._destroyViewInContainerScope=profile_1.wtfCreateScope('AppViewMananger#destroyViewInContainer()');this._attachViewInContainerScope=profile_1.wtfCreateScope('AppViewMananger#attachViewInContainer()');this._detachViewInContainerScope=profile_1.wtfCreateScope('AppViewMananger#detachViewInContainer()');}
AppViewManager_.prototype.getViewContainer=function(location){return location.internalElement.getViewContainerRef();};AppViewManager_.prototype.getHostElement=function(hostViewRef){var hostView=hostViewRef.internalView;if(hostView.proto.type!==view_type_1.ViewType.HOST){throw new exceptions_1.BaseException('This operation is only allowed on host views');}
return hostView.appElements[0].ref;};AppViewManager_.prototype.getNamedElementInComponentView=function(hostLocation,variableName){var appEl=hostLocation.internalElement;var componentView=appEl.componentView;if(lang_1.isBlank(componentView)){throw new exceptions_1.BaseException("There is no component directive at element "+hostLocation);}
for(var i=0;i<componentView.appElements.length;i++){var compAppEl=componentView.appElements[i];if(collection_1.StringMapWrapper.contains(compAppEl.proto.directiveVariableBindings,variableName)){return compAppEl.ref;}}
throw new exceptions_1.BaseException("Could not find variable "+variableName);};AppViewManager_.prototype.getComponent=function(hostLocation){return hostLocation.internalElement.getComponent();};AppViewManager_.prototype.createRootHostView=function(hostViewFactoryRef,overrideSelector,injector,projectableNodes){if(projectableNodes===void 0){projectableNodes=null;}
var s=this._createRootHostViewScope();var hostViewFactory=hostViewFactoryRef.internalHostViewFactory;var selector=lang_1.isPresent(overrideSelector)?overrideSelector:hostViewFactory.selector;var view=hostViewFactory.viewFactory(this._renderer,this,null,projectableNodes,selector,null,injector);return profile_1.wtfLeave(s,view.ref);};AppViewManager_.prototype.destroyRootHostView=function(hostViewRef){var s=this._destroyRootHostViewScope();var hostView=hostViewRef.internalView;hostView.renderer.detachView(view_1.flattenNestedViewRenderNodes(hostView.rootNodesOrAppElements));hostView.destroy();profile_1.wtfLeave(s);};AppViewManager_.prototype.createEmbeddedViewInContainer=function(viewContainerLocation,index,templateRef){var s=this._createEmbeddedViewInContainerScope();var contextEl=templateRef.elementRef.internalElement;var view=contextEl.embeddedViewFactory(contextEl.parentView.renderer,this,contextEl,contextEl.parentView.projectableNodes,null,null,null);this._attachViewToContainer(view,viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref);};AppViewManager_.prototype.createHostViewInContainer=function(viewContainerLocation,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes){var s=this._createHostViewInContainerScope();var viewContainerLocation_=viewContainerLocation;var contextEl=viewContainerLocation_.internalElement;var hostViewFactory=hostViewFactoryRef.internalHostViewFactory;var view=hostViewFactory.viewFactory(contextEl.parentView.renderer,contextEl.parentView.viewManager,contextEl,projectableNodes,null,dynamicallyCreatedProviders,null);this._attachViewToContainer(view,viewContainerLocation_.internalElement,index);return profile_1.wtfLeave(s,view.ref);};AppViewManager_.prototype.destroyViewInContainer=function(viewContainerLocation,index){var s=this._destroyViewInContainerScope();var view=this._detachViewInContainer(viewContainerLocation.internalElement,index);view.destroy();profile_1.wtfLeave(s);};AppViewManager_.prototype.attachViewInContainer=function(viewContainerLocation,index,viewRef){var viewRef_=viewRef;var s=this._attachViewInContainerScope();this._attachViewToContainer(viewRef_.internalView,viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,viewRef_);};AppViewManager_.prototype.detachViewInContainer=function(viewContainerLocation,index){var s=this._detachViewInContainerScope();var view=this._detachViewInContainer(viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref);};AppViewManager_.prototype.onViewCreated=function(view){};AppViewManager_.prototype.onViewDestroyed=function(view){};AppViewManager_.prototype.createRenderComponentType=function(encapsulation,styles){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,encapsulation,styles);};AppViewManager_.prototype._attachViewToContainer=function(view,vcAppElement,viewIndex){if(view.proto.type===view_type_1.ViewType.COMPONENT){throw new exceptions_1.BaseException("Component views can't be moved!");}
var nestedViews=vcAppElement.nestedViews;if(nestedViews==null){nestedViews=[];vcAppElement.nestedViews=nestedViews;}
collection_1.ListWrapper.insert(nestedViews,viewIndex,view);var refNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refNode=prevView.rootNodesOrAppElements.length>0?prevView.rootNodesOrAppElements[prevView.rootNodesOrAppElements.length-1]:null;}else{refNode=vcAppElement.nativeElement;}
if(lang_1.isPresent(refNode)){var refRenderNode=view_1.findLastRenderNode(refNode);view.renderer.attachViewAfter(refRenderNode,view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements));}
vcAppElement.parentView.changeDetector.addContentChild(view.changeDetector);vcAppElement.traverseAndSetQueriesAsDirty();};AppViewManager_.prototype._detachViewInContainer=function(vcAppElement,viewIndex){var view=collection_1.ListWrapper.removeAt(vcAppElement.nestedViews,viewIndex);if(view.proto.type===view_type_1.ViewType.COMPONENT){throw new exceptions_1.BaseException("Component views can't be moved!");}
vcAppElement.traverseAndSetQueriesAsDirty();view.renderer.detachView(view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements));view.changeDetector.remove();return view;};AppViewManager_=__decorate([di_1.Injectable(),__param(1,di_1.Inject(application_tokens_1.APP_ID)),__metadata('design:paramtypes',[api_1.RootRenderer,String])],AppViewManager_);return AppViewManager_;})(AppViewManager);exports.AppViewManager_=AppViewManager_;global.define=__define;return module.exports;});System.register("angular2/src/core/console",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var Console=(function(){function Console(){}
Console.prototype.log=function(message){lang_1.print(message);};Console=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],Console);return Console;})();exports.Console=Console;global.define=__define;return module.exports;});System.register("angular2/src/core/zone",["angular2/src/core/zone/ng_zone"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ng_zone_1=require("angular2/src/core/zone/ng_zone");exports.NgZone=ng_zone_1.NgZone;exports.NgZoneError=ng_zone_1.NgZoneError;global.define=__define;return module.exports;});System.register("angular2/src/core/render",["angular2/src/core/render/api"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var api_1=require("angular2/src/core/render/api");exports.RootRenderer=api_1.RootRenderer;exports.Renderer=api_1.Renderer;exports.RenderComponentType=api_1.RenderComponentType;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/directive_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/metadata","angular2/src/core/reflection/reflection","angular2/src/core/reflection/reflector_reader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var metadata_1=require("angular2/src/core/metadata");var reflection_1=require("angular2/src/core/reflection/reflection");var reflector_reader_1=require("angular2/src/core/reflection/reflector_reader");function _isDirectiveMetadata(type){return type instanceof metadata_1.DirectiveMetadata;}
var DirectiveResolver=(function(){function DirectiveResolver(_reflector){if(lang_1.isPresent(_reflector)){this._reflector=_reflector;}else{this._reflector=reflection_1.reflector;}}
DirectiveResolver.prototype.resolve=function(type){var typeMetadata=this._reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(typeMetadata)){var metadata=typeMetadata.find(_isDirectiveMetadata);if(lang_1.isPresent(metadata)){var propertyMetadata=this._reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type);}}
throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(type));};DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[];var outputs=[];var host={};var queries={};collection_1.StringMapWrapper.forEach(propertyMetadata,function(metadata,propName){metadata.forEach(function(a){if(a instanceof metadata_1.InputMetadata){if(lang_1.isPresent(a.bindingPropertyName)){inputs.push(propName+": "+a.bindingPropertyName);}else{inputs.push(propName);}}
if(a instanceof metadata_1.OutputMetadata){if(lang_1.isPresent(a.bindingPropertyName)){outputs.push(propName+": "+a.bindingPropertyName);}else{outputs.push(propName);}}
if(a instanceof metadata_1.HostBindingMetadata){if(lang_1.isPresent(a.hostPropertyName)){host[("["+a.hostPropertyName+"]")]=propName;}else{host[("["+propName+"]")]=propName;}}
if(a instanceof metadata_1.HostListenerMetadata){var args=lang_1.isPresent(a.args)?a.args.join(', '):'';host[("("+a.eventName+")")]=propName+"("+args+")";}
if(a instanceof metadata_1.ContentChildrenMetadata){queries[propName]=a;}
if(a instanceof metadata_1.ViewChildrenMetadata){queries[propName]=a;}
if(a instanceof metadata_1.ContentChildMetadata){queries[propName]=a;}
if(a instanceof metadata_1.ViewChildMetadata){queries[propName]=a;}});});return this._merge(dm,inputs,outputs,host,queries,directiveType);};DirectiveResolver.prototype._merge=function(dm,inputs,outputs,host,queries,directiveType){var mergedInputs=lang_1.isPresent(dm.inputs)?collection_1.ListWrapper.concat(dm.inputs,inputs):inputs;var mergedOutputs;if(lang_1.isPresent(dm.outputs)){dm.outputs.forEach(function(propName){if(collection_1.ListWrapper.contains(outputs,propName)){throw new exceptions_1.BaseException("Output event '"+propName+"' defined multiple times in '"+lang_1.stringify(directiveType)+"'");}});mergedOutputs=collection_1.ListWrapper.concat(dm.outputs,outputs);}else{mergedOutputs=outputs;}
var mergedHost=lang_1.isPresent(dm.host)?collection_1.StringMapWrapper.merge(dm.host,host):host;var mergedQueries=lang_1.isPresent(dm.queries)?collection_1.StringMapWrapper.merge(dm.queries,queries):queries;if(dm instanceof metadata_1.ComponentMetadata){return new metadata_1.ComponentMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,moduleId:dm.moduleId,queries:mergedQueries,changeDetection:dm.changeDetection,providers:dm.providers,viewProviders:dm.viewProviders});}else{return new metadata_1.DirectiveMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,queries:mergedQueries,providers:dm.providers});}};DirectiveResolver=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[reflector_reader_1.ReflectorReader])],DirectiveResolver);return DirectiveResolver;})();exports.DirectiveResolver=DirectiveResolver;exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver(reflection_1.reflector);global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view_resolver",["angular2/src/core/di","angular2/src/core/metadata/view","angular2/src/core/metadata/directives","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/reflection/reflector_reader","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var view_1=require("angular2/src/core/metadata/view");var directives_1=require("angular2/src/core/metadata/directives");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var reflector_reader_1=require("angular2/src/core/reflection/reflector_reader");var reflection_1=require("angular2/src/core/reflection/reflection");var ViewResolver=(function(){function ViewResolver(_reflector){this._cache=new collection_1.Map();if(lang_1.isPresent(_reflector)){this._reflector=_reflector;}else{this._reflector=reflection_1.reflector;}}
ViewResolver.prototype.resolve=function(component){var view=this._cache.get(component);if(lang_1.isBlank(view)){view=this._resolve(component);this._cache.set(component,view);}
return view;};ViewResolver.prototype._resolve=function(component){var compMeta;var viewMeta;this._reflector.annotations(component).forEach(function(m){if(m instanceof view_1.ViewMetadata){viewMeta=m;}
if(m instanceof directives_1.ComponentMetadata){compMeta=m;}});if(lang_1.isPresent(compMeta)){if(lang_1.isBlank(compMeta.template)&&lang_1.isBlank(compMeta.templateUrl)&&lang_1.isBlank(viewMeta)){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' must have either 'template' or 'templateUrl' set.");}else if(lang_1.isPresent(compMeta.template)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("template",component);}else if(lang_1.isPresent(compMeta.templateUrl)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("templateUrl",component);}else if(lang_1.isPresent(compMeta.directives)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("directives",component);}else if(lang_1.isPresent(compMeta.pipes)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("pipes",component);}else if(lang_1.isPresent(compMeta.encapsulation)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("encapsulation",component);}else if(lang_1.isPresent(compMeta.styles)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("styles",component);}else if(lang_1.isPresent(compMeta.styleUrls)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("styleUrls",component);}else if(lang_1.isPresent(viewMeta)){return viewMeta;}else{return new view_1.ViewMetadata({templateUrl:compMeta.templateUrl,template:compMeta.template,directives:compMeta.directives,pipes:compMeta.pipes,encapsulation:compMeta.encapsulation,styles:compMeta.styles,styleUrls:compMeta.styleUrls});}}else{if(lang_1.isBlank(viewMeta)){throw new exceptions_1.BaseException("Could not compile '"+lang_1.stringify(component)+"' because it is not a component.");}else{return viewMeta;}}
return null;};ViewResolver.prototype._throwMixingViewAndComponent=function(propertyName,component){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' cannot have both '"+propertyName+"' and '@View' set at the same time\"");};ViewResolver=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[reflector_reader_1.ReflectorReader])],ViewResolver);return ViewResolver;})();exports.ViewResolver=ViewResolver;global.define=__define;return module.exports;});System.register("angular2/src/core/debug/debug_node",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var EventListener=(function(){function EventListener(name,callback){this.name=name;this.callback=callback;};return EventListener;})();exports.EventListener=EventListener;var DebugNode=(function(){function DebugNode(nativeNode,parent){this.nativeNode=nativeNode;if(lang_1.isPresent(parent)&&parent instanceof DebugElement){parent.addChild(this);}else{this.parent=null;}
this.listeners=[];this.providerTokens=[];}
DebugNode.prototype.setDebugInfo=function(info){this.injector=info.injector;this.providerTokens=info.providerTokens;this.locals=info.locals;this.componentInstance=info.component;};DebugNode.prototype.inject=function(token){return this.injector.get(token);};DebugNode.prototype.getLocal=function(name){return this.locals.get(name);};return DebugNode;})();exports.DebugNode=DebugNode;var DebugElement=(function(_super){__extends(DebugElement,_super);function DebugElement(nativeNode,parent){_super.call(this,nativeNode,parent);this.properties=new Map();this.attributes=new Map();this.childNodes=[];this.nativeElement=nativeNode;}
DebugElement.prototype.addChild=function(child){if(lang_1.isPresent(child)){this.childNodes.push(child);child.parent=this;}};DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);if(childIndex!==-1){child.parent=null;this.childNodes.splice(childIndex,1);}};DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(siblingIndex!==-1){var previousChildren=this.childNodes.slice(0,siblingIndex+1);var nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];if(lang_1.isPresent(newChild.parent)){newChild.parent.removeChild(newChild);}
newChild.parent=this;}}};DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null;};DebugElement.prototype.queryAll=function(predicate){var matches=[];_queryElementChildren(this,predicate,matches);return matches;};DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];_queryNodeChildren(this,predicate,matches);return matches;};Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];this.childNodes.forEach(function(node){if(node instanceof DebugElement){children.push(node);}});return children;},enumerable:true,configurable:true});DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){if(listener.name==eventName){listener.callback(eventObj);}});};return DebugElement;})(DebugNode);exports.DebugElement=DebugElement;function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement;});}
exports.asNativeElements=asNativeElements;function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){if(node instanceof DebugElement){if(predicate(node)){matches.push(node);}
_queryElementChildren(node,predicate,matches);}});}
function _queryNodeChildren(parentNode,predicate,matches){if(parentNode instanceof DebugElement){parentNode.childNodes.forEach(function(node){if(predicate(node)){matches.push(node);}
if(node instanceof DebugElement){_queryNodeChildren(node,predicate,matches);}});}}
var _nativeNodeToDebugNode=new Map();function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode);}
exports.getDebugNode=getDebugNode;function getAllDebugNodes(){return collection_1.MapWrapper.values(_nativeNodeToDebugNode);}
exports.getAllDebugNodes=getAllDebugNodes;function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node);}
exports.indexDebugNode=indexDebugNode;function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode.delete(node.nativeNode);}
exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex;global.define=__define;return module.exports;});System.register("angular2/src/core/platform_directives_and_pipes",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.PLATFORM_DIRECTIVES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Directives"));exports.PLATFORM_PIPES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Pipes"));global.define=__define;return module.exports;});System.register("angular2/src/core/platform_common_providers",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/console","angular2/src/core/reflection/reflection","angular2/src/core/reflection/reflector_reader","angular2/src/core/testability/testability"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var console_1=require("angular2/src/core/console");var reflection_1=require("angular2/src/core/reflection/reflection");var reflector_reader_1=require("angular2/src/core/reflection/reflector_reader");var testability_1=require("angular2/src/core/testability/testability");function _reflector(){return reflection_1.reflector;}
exports.PLATFORM_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(reflection_1.Reflector,{useFactory:_reflector,deps:[]}),new di_1.Provider(reflector_reader_1.ReflectorReader,{useExisting:reflection_1.Reflector}),testability_1.TestabilityRegistry,console_1.Console]);global.define=__define;return module.exports;});System.register("angular2/src/core/linker/pipe_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/metadata","angular2/src/core/reflection/reflector_reader","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var metadata_1=require("angular2/src/core/metadata");var reflector_reader_1=require("angular2/src/core/reflection/reflector_reader");var reflection_1=require("angular2/src/core/reflection/reflection");function _isPipeMetadata(type){return type instanceof metadata_1.PipeMetadata;}
var PipeResolver=(function(){function PipeResolver(_reflector){if(lang_1.isPresent(_reflector)){this._reflector=_reflector;}else{this._reflector=reflection_1.reflector;}}
PipeResolver.prototype.resolve=function(type){var metas=this._reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(lang_1.isPresent(annotation)){return annotation;}}
throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(type));};PipeResolver=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[reflector_reader_1.ReflectorReader])],PipeResolver);return PipeResolver;})();exports.PipeResolver=PipeResolver;exports.CODEGEN_PIPE_RESOLVER=new PipeResolver(reflection_1.reflector);global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/debug/by",["angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var By=(function(){function By(){}
By.all=function(){return function(debugElement){return true;};};By.css=function(selector){return function(debugElement){return lang_1.isPresent(debugElement.nativeElement)?dom_adapter_1.DOM.elementMatches(debugElement.nativeElement,selector):false;};};By.directive=function(type){return function(debugElement){return debugElement.providerTokens.indexOf(type)!==-1;};};return By;})();exports.By=By;global.define=__define;return module.exports;});System.register("angular2/src/core/debug/debug_renderer",["angular2/src/facade/lang","angular2/src/core/debug/debug_node"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var debug_node_1=require("angular2/src/core/debug/debug_node");var DebugDomRootRenderer=(function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate;}
DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this,this._delegate.renderComponent(componentProto));};return DebugDomRootRenderer;})();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=(function(){function DebugDomRenderer(_rootRenderer,_delegate){this._rootRenderer=_rootRenderer;this._delegate=_delegate;}
DebugDomRenderer.prototype.renderComponent=function(componentType){return this._rootRenderer.renderComponent(componentType);};DebugDomRenderer.prototype.selectRootElement=function(selector){var nativeEl=this._delegate.selectRootElement(selector);var debugEl=new debug_node_1.DebugElement(nativeEl,null);debug_node_1.indexDebugNode(debugEl);return nativeEl;};DebugDomRenderer.prototype.createElement=function(parentElement,name){var nativeEl=this._delegate.createElement(parentElement,name);var debugEl=new debug_node_1.DebugElement(nativeEl,debug_node_1.getDebugNode(parentElement));debugEl.name=name;debug_node_1.indexDebugNode(debugEl);return nativeEl;};DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement);};DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=this._delegate.createTemplateAnchor(parentElement);var debugEl=new debug_node_1.DebugNode(comment,debug_node_1.getDebugNode(parentElement));debug_node_1.indexDebugNode(debugEl);return comment;};DebugDomRenderer.prototype.createText=function(parentElement,value){var text=this._delegate.createText(parentElement,value);var debugEl=new debug_node_1.DebugNode(text,debug_node_1.getDebugNode(parentElement));debug_node_1.indexDebugNode(debugEl);return text;};DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=debug_node_1.getDebugNode(parentElement);if(lang_1.isPresent(debugParent)&&debugParent instanceof debug_node_1.DebugElement){nodes.forEach(function(node){debugParent.addChild(debug_node_1.getDebugNode(node));});}
return this._delegate.projectNodes(parentElement,nodes);};DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&lang_1.isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(debug_node_1.getDebugNode(rootNode));});debugParent.insertChildrenAfter(debugNode,debugViewRootNodes);}}
return this._delegate.attachViewAfter(node,viewRootNodes);};DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)&&lang_1.isPresent(debugNode.parent)){debugNode.parent.removeChild(debugNode);}});return this._delegate.detachView(viewRootNodes);};DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes.forEach(function(node){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(node));});return this._delegate.destroyView(hostElement,viewAllNodes);};DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)){debugEl.listeners.push(new debug_node_1.EventListener(name,callback));}
return this._delegate.listen(renderElement,name,callback);};DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback);};DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement){debugEl.properties.set(propertyName,propertyValue);}
return this._delegate.setElementProperty(renderElement,propertyName,propertyValue);};DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement){debugEl.attributes.set(attributeName,attributeValue);}
return this._delegate.setElementAttribute(renderElement,attributeName,attributeValue);};DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){return this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue);};DebugDomRenderer.prototype.setElementDebugInfo=function(renderElement,info){var debugEl=debug_node_1.getDebugNode(renderElement);debugEl.setDebugInfo(info);return this._delegate.setElementDebugInfo(renderElement,info);};DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){return this._delegate.setElementClass(renderElement,className,isAdd);};DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){return this._delegate.setElementStyle(renderElement,styleName,styleValue);};DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){return this._delegate.invokeElementMethod(renderElement,methodName,args);};DebugDomRenderer.prototype.setText=function(renderNode,text){return this._delegate.setText(renderNode,text);};return DebugDomRenderer;})();exports.DebugDomRenderer=DebugDomRenderer;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/dom_adapter",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.DOM=null;function setRootDomAdapter(adapter){if(lang_1.isBlank(exports.DOM)){exports.DOM=adapter;}}
exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=(function(){function DomAdapter(){}
Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap;},set:function(value){this._attrToPropMap=value;},enumerable:true,configurable:true});;;return DomAdapter;})();exports.DomAdapter=DomAdapter;global.define=__define;return module.exports;});System.register("angular2/src/core/di/decorators",["angular2/src/core/di/metadata","angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var metadata_1=require("angular2/src/core/di/metadata");var decorators_1=require("angular2/src/core/util/decorators");exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata);exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata);exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata);exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata);exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata);exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata);global.define=__define;return module.exports;});System.register("angular2/src/facade/exceptions",["angular2/src/facade/base_wrapped_exception","angular2/src/facade/exception_handler","angular2/src/facade/exception_handler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var base_wrapped_exception_1=require("angular2/src/facade/base_wrapped_exception");var exception_handler_1=require("angular2/src/facade/exception_handler");var exception_handler_2=require("angular2/src/facade/exception_handler");exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=(function(_super){__extends(BaseException,_super);function BaseException(message){if(message===void 0){message="--";}
_super.call(this,message);this.message=message;this.stack=(new Error(message)).stack;}
BaseException.prototype.toString=function(){return this.message;};return BaseException;})(Error);exports.BaseException=BaseException;var WrappedException=(function(_super){__extends(WrappedException,_super);function WrappedException(_wrapperMessage,_originalException,_originalStack,_context){_super.call(this,_wrapperMessage);this._wrapperMessage=_wrapperMessage;this._originalException=_originalException;this._originalStack=_originalStack;this._context=_context;this._wrapperStack=(new Error(_wrapperMessage)).stack;}
Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage;},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack;},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException;},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack;},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context;},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this);},enumerable:true,configurable:true});WrappedException.prototype.toString=function(){return this.message;};return WrappedException;})(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException;function makeTypeError(message){return new TypeError(message);}
exports.makeTypeError=makeTypeError;function unimplemented(){throw new BaseException('unimplemented');}
exports.unimplemented=unimplemented;global.define=__define;return module.exports;});System.register("angular2/src/core/reflection/reflector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/reflection/reflector_reader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var reflector_reader_1=require("angular2/src/core/reflection/reflector_reader");var ReflectionInfo=(function(){function ReflectionInfo(annotations,parameters,factory,interfaces,propMetadata){this.annotations=annotations;this.parameters=parameters;this.factory=factory;this.interfaces=interfaces;this.propMetadata=propMetadata;}
return ReflectionInfo;})();exports.ReflectionInfo=ReflectionInfo;var Reflector=(function(_super){__extends(Reflector,_super);function Reflector(reflectionCapabilities){_super.call(this);this._injectableInfo=new collection_1.Map();this._getters=new collection_1.Map();this._setters=new collection_1.Map();this._methods=new collection_1.Map();this._usedKeys=null;this.reflectionCapabilities=reflectionCapabilities;}
Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled();};Reflector.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set();};Reflector.prototype.listUnusedKeys=function(){var _this=this;if(this._usedKeys==null){throw new exceptions_1.BaseException('Usage tracking is disabled');}
var allTypes=collection_1.MapWrapper.keys(this._injectableInfo);return allTypes.filter(function(key){return!collection_1.SetWrapper.has(_this._usedKeys,key);});};Reflector.prototype.registerFunction=function(func,funcInfo){this._injectableInfo.set(func,funcInfo);};Reflector.prototype.registerType=function(type,typeInfo){this._injectableInfo.set(type,typeInfo);};Reflector.prototype.registerGetters=function(getters){_mergeMaps(this._getters,getters);};Reflector.prototype.registerSetters=function(setters){_mergeMaps(this._setters,setters);};Reflector.prototype.registerMethods=function(methods){_mergeMaps(this._methods,methods);};Reflector.prototype.factory=function(type){if(this._containsReflectionInfo(type)){var res=this._getReflectionInfo(type).factory;return lang_1.isPresent(res)?res:null;}else{return this.reflectionCapabilities.factory(type);}};Reflector.prototype.parameters=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).parameters;return lang_1.isPresent(res)?res:[];}else{return this.reflectionCapabilities.parameters(typeOrFunc);}};Reflector.prototype.annotations=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).annotations;return lang_1.isPresent(res)?res:[];}else{return this.reflectionCapabilities.annotations(typeOrFunc);}};Reflector.prototype.propMetadata=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).propMetadata;return lang_1.isPresent(res)?res:{};}else{return this.reflectionCapabilities.propMetadata(typeOrFunc);}};Reflector.prototype.interfaces=function(type){if(this._injectableInfo.has(type)){var res=this._getReflectionInfo(type).interfaces;return lang_1.isPresent(res)?res:[];}else{return this.reflectionCapabilities.interfaces(type);}};Reflector.prototype.getter=function(name){if(this._getters.has(name)){return this._getters.get(name);}else{return this.reflectionCapabilities.getter(name);}};Reflector.prototype.setter=function(name){if(this._setters.has(name)){return this._setters.get(name);}else{return this.reflectionCapabilities.setter(name);}};Reflector.prototype.method=function(name){if(this._methods.has(name)){return this._methods.get(name);}else{return this.reflectionCapabilities.method(name);}};Reflector.prototype._getReflectionInfo=function(typeOrFunc){if(lang_1.isPresent(this._usedKeys)){this._usedKeys.add(typeOrFunc);}
return this._injectableInfo.get(typeOrFunc);};Reflector.prototype._containsReflectionInfo=function(typeOrFunc){return this._injectableInfo.has(typeOrFunc);};Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type);};return Reflector;})(reflector_reader_1.ReflectorReader);exports.Reflector=Reflector;function _mergeMaps(target,config){collection_1.StringMapWrapper.forEach(config,function(v,k){return target.set(k,v);});}
global.define=__define;return module.exports;});System.register("angular2/src/animate/animation",["angular2/src/facade/lang","angular2/src/facade/math","angular2/src/platform/dom/util","angular2/src/facade/collection","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var math_1=require("angular2/src/facade/math");var util_1=require("angular2/src/platform/dom/util");var collection_1=require("angular2/src/facade/collection");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var Animation=(function(){function Animation(element,data,browserDetails){var _this=this;this.element=element;this.data=data;this.browserDetails=browserDetails;this.callbacks=[];this.eventClearFunctions=[];this.completed=false;this._stringPrefix='';this.startTime=lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now());this._stringPrefix=dom_adapter_1.DOM.getAnimationPrefix();this.setup();this.wait(function(timestamp){return _this.start();});}
Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var delay=this.computedDelay!=null?this.computedDelay:0;var duration=this.computedDuration!=null?this.computedDuration:0;return delay+duration;},enumerable:true,configurable:true});Animation.prototype.wait=function(callback){this.browserDetails.raf(callback,2);};Animation.prototype.setup=function(){if(this.data.fromStyles!=null)
this.applyStyles(this.data.fromStyles);if(this.data.duration!=null)
this.applyStyles({'transitionDuration':this.data.duration.toString()+'ms'});if(this.data.delay!=null)
this.applyStyles({'transitionDelay':this.data.delay.toString()+'ms'});};Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd);this.addClasses(this.data.animationClasses);this.removeClasses(this.data.classesToRemove);if(this.data.toStyles!=null)
this.applyStyles(this.data.toStyles);var computedStyles=dom_adapter_1.DOM.getComputedStyle(this.element);this.computedDelay=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+'transition-delay')),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+'transition-delay')));this.computedDuration=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+'transition-duration')),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+'transition-duration')));this.addEvents();};Animation.prototype.applyStyles=function(styles){var _this=this;collection_1.StringMapWrapper.forEach(styles,function(value,key){var dashCaseKey=util_1.camelCaseToDashCase(key);if(lang_1.isPresent(dom_adapter_1.DOM.getStyle(_this.element,dashCaseKey))){dom_adapter_1.DOM.setStyle(_this.element,dashCaseKey,value.toString());}else{dom_adapter_1.DOM.setStyle(_this.element,_this._stringPrefix+dashCaseKey,value.toString());}});};Animation.prototype.addClasses=function(classes){for(var i=0,len=classes.length;i<len;i++)
dom_adapter_1.DOM.addClass(this.element,classes[i]);};Animation.prototype.removeClasses=function(classes){for(var i=0,len=classes.length;i<len;i++)
dom_adapter_1.DOM.removeClass(this.element,classes[i]);};Animation.prototype.addEvents=function(){var _this=this;if(this.totalTime>0){this.eventClearFunctions.push(dom_adapter_1.DOM.onAndCancel(this.element,dom_adapter_1.DOM.getTransitionEnd(),function(event){return _this.handleAnimationEvent(event);}));}else{this.handleAnimationCompleted();}};Animation.prototype.handleAnimationEvent=function(event){var elapsedTime=math_1.Math.round(event.elapsedTime*1000);if(!this.browserDetails.elapsedTimeIncludesDelay)
elapsedTime+=this.computedDelay;event.stopPropagation();if(elapsedTime>=this.totalTime)
this.handleAnimationCompleted();};Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses);this.callbacks.forEach(function(callback){return callback();});this.callbacks=[];this.eventClearFunctions.forEach(function(fn){return fn();});this.eventClearFunctions=[];this.completed=true;};Animation.prototype.onComplete=function(callback){if(this.completed){callback();}else{this.callbacks.push(callback);}
return this;};Animation.prototype.parseDurationString=function(duration){var maxValue=0;if(duration==null||duration.length<2){return maxValue;}else if(duration.substring(duration.length-2)=='ms'){var value=lang_1.NumberWrapper.parseInt(this.stripLetters(duration),10);if(value>maxValue)
maxValue=value;}else if(duration.substring(duration.length-1)=='s'){var ms=lang_1.NumberWrapper.parseFloat(this.stripLetters(duration))*1000;var value=math_1.Math.floor(ms);if(value>maxValue)
maxValue=value;}
return maxValue;};Animation.prototype.stripLetters=function(str){return lang_1.StringWrapper.replaceAll(str,lang_1.RegExpWrapper.create('[^0-9]+$',''),'');};return Animation;})();exports.Animation=Animation;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/shared_styles_host",["angular2/src/platform/dom/dom_adapter","angular2/src/core/di","angular2/src/facade/collection","angular2/src/platform/dom/dom_tokens"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var di_1=require("angular2/src/core/di");var collection_1=require("angular2/src/facade/collection");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var SharedStylesHost=(function(){function SharedStylesHost(){this._styles=[];this._stylesSet=new Set();}
SharedStylesHost.prototype.addStyles=function(styles){var _this=this;var additions=[];styles.forEach(function(style){if(!collection_1.SetWrapper.has(_this._stylesSet,style)){_this._stylesSet.add(style);_this._styles.push(style);additions.push(style);}});this.onStylesAdded(additions);};SharedStylesHost.prototype.onStylesAdded=function(additions){};SharedStylesHost.prototype.getAllStyles=function(){return this._styles;};SharedStylesHost=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],SharedStylesHost);return SharedStylesHost;})();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=(function(_super){__extends(DomSharedStylesHost,_super);function DomSharedStylesHost(doc){_super.call(this);this._hostNodes=new Set();this._hostNodes.add(doc.head);}
DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var style=styles[i];dom_adapter_1.DOM.appendChild(host,dom_adapter_1.DOM.createStyleElement(style));}};DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode);this._hostNodes.add(hostNode);};DomSharedStylesHost.prototype.removeHost=function(hostNode){collection_1.SetWrapper.delete(this._hostNodes,hostNode);};DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode);});};DomSharedStylesHost=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata('design:paramtypes',[Object])],DomSharedStylesHost);return DomSharedStylesHost;})(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/change_detection_util",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/pipe_lifecycle_reflector","angular2/src/core/change_detection/binding_record","angular2/src/core/change_detection/directive_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var constants_1=require("angular2/src/core/change_detection/constants");var pipe_lifecycle_reflector_1=require("angular2/src/core/change_detection/pipe_lifecycle_reflector");var binding_record_1=require("angular2/src/core/change_detection/binding_record");var directive_record_1=require("angular2/src/core/change_detection/directive_record");var WrappedValue=(function(){function WrappedValue(wrapped){this.wrapped=wrapped;}
WrappedValue.wrap=function(value){var w=_wrappedValues[_wrappedIndex++%5];w.wrapped=value;return w;};return WrappedValue;})();exports.WrappedValue=WrappedValue;var _wrappedValues=[new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null)];var _wrappedIndex=0;var SimpleChange=(function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue;this.currentValue=currentValue;}
SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ChangeDetectionUtil.uninitialized;};return SimpleChange;})();exports.SimpleChange=SimpleChange;function _simpleChange(previousValue,currentValue){return new SimpleChange(previousValue,currentValue);}
var ChangeDetectionUtil=(function(){function ChangeDetectionUtil(){}
ChangeDetectionUtil.arrayFn0=function(){return[];};ChangeDetectionUtil.arrayFn1=function(a1){return[a1];};ChangeDetectionUtil.arrayFn2=function(a1,a2){return[a1,a2];};ChangeDetectionUtil.arrayFn3=function(a1,a2,a3){return[a1,a2,a3];};ChangeDetectionUtil.arrayFn4=function(a1,a2,a3,a4){return[a1,a2,a3,a4];};ChangeDetectionUtil.arrayFn5=function(a1,a2,a3,a4,a5){return[a1,a2,a3,a4,a5];};ChangeDetectionUtil.arrayFn6=function(a1,a2,a3,a4,a5,a6){return[a1,a2,a3,a4,a5,a6];};ChangeDetectionUtil.arrayFn7=function(a1,a2,a3,a4,a5,a6,a7){return[a1,a2,a3,a4,a5,a6,a7];};ChangeDetectionUtil.arrayFn8=function(a1,a2,a3,a4,a5,a6,a7,a8){return[a1,a2,a3,a4,a5,a6,a7,a8];};ChangeDetectionUtil.arrayFn9=function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return[a1,a2,a3,a4,a5,a6,a7,a8,a9];};ChangeDetectionUtil.operation_negate=function(value){return!value;};ChangeDetectionUtil.operation_add=function(left,right){return left+right;};ChangeDetectionUtil.operation_subtract=function(left,right){return left-right;};ChangeDetectionUtil.operation_multiply=function(left,right){return left*right;};ChangeDetectionUtil.operation_divide=function(left,right){return left/right;};ChangeDetectionUtil.operation_remainder=function(left,right){return left%right;};ChangeDetectionUtil.operation_equals=function(left,right){return left==right;};ChangeDetectionUtil.operation_not_equals=function(left,right){return left!=right;};ChangeDetectionUtil.operation_identical=function(left,right){return left===right;};ChangeDetectionUtil.operation_not_identical=function(left,right){return left!==right;};ChangeDetectionUtil.operation_less_then=function(left,right){return left<right;};ChangeDetectionUtil.operation_greater_then=function(left,right){return left>right;};ChangeDetectionUtil.operation_less_or_equals_then=function(left,right){return left<=right;};ChangeDetectionUtil.operation_greater_or_equals_then=function(left,right){return left>=right;};ChangeDetectionUtil.cond=function(cond,trueVal,falseVal){return cond?trueVal:falseVal;};ChangeDetectionUtil.mapFn=function(keys){function buildMap(values){var res=collection_1.StringMapWrapper.create();for(var i=0;i<keys.length;++i){collection_1.StringMapWrapper.set(res,keys[i],values[i]);}
return res;}
switch(keys.length){case 0:return function(){return[];};case 1:return function(a1){return buildMap([a1]);};case 2:return function(a1,a2){return buildMap([a1,a2]);};case 3:return function(a1,a2,a3){return buildMap([a1,a2,a3]);};case 4:return function(a1,a2,a3,a4){return buildMap([a1,a2,a3,a4]);};case 5:return function(a1,a2,a3,a4,a5){return buildMap([a1,a2,a3,a4,a5]);};case 6:return function(a1,a2,a3,a4,a5,a6){return buildMap([a1,a2,a3,a4,a5,a6]);};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return buildMap([a1,a2,a3,a4,a5,a6,a7]);};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8]);};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8,a9]);};default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements");}};ChangeDetectionUtil.keyedAccess=function(obj,args){return obj[args[0]];};ChangeDetectionUtil.unwrapValue=function(value){if(value instanceof WrappedValue){return value.wrapped;}else{return value;}};ChangeDetectionUtil.changeDetectionMode=function(strategy){return constants_1.isDefaultChangeDetectionStrategy(strategy)?constants_1.ChangeDetectionStrategy.CheckAlways:constants_1.ChangeDetectionStrategy.CheckOnce;};ChangeDetectionUtil.simpleChange=function(previousValue,currentValue){return _simpleChange(previousValue,currentValue);};ChangeDetectionUtil.isValueBlank=function(value){return lang_1.isBlank(value);};ChangeDetectionUtil.s=function(value){return lang_1.isPresent(value)?""+value:'';};ChangeDetectionUtil.protoByIndex=function(protos,selfIndex){return selfIndex<1?null:protos[selfIndex-1];};ChangeDetectionUtil.callPipeOnDestroy=function(selectedPipe){if(pipe_lifecycle_reflector_1.implementsOnDestroy(selectedPipe.pipe)){selectedPipe.pipe.ngOnDestroy();}};ChangeDetectionUtil.bindingTarget=function(mode,elementIndex,name,unit,debug){return new binding_record_1.BindingTarget(mode,elementIndex,name,unit,debug);};ChangeDetectionUtil.directiveIndex=function(elementIndex,directiveIndex){return new directive_record_1.DirectiveIndex(elementIndex,directiveIndex);};ChangeDetectionUtil.looseNotIdentical=function(a,b){return!lang_1.looseIdentical(a,b);};ChangeDetectionUtil.devModeEqual=function(a,b){if(collection_1.isListLikeIterable(a)&&collection_1.isListLikeIterable(b)){return collection_1.areIterablesEqual(a,b,ChangeDetectionUtil.devModeEqual);}else if(!collection_1.isListLikeIterable(a)&&!lang_1.isPrimitive(a)&&!collection_1.isListLikeIterable(b)&&!lang_1.isPrimitive(b)){return true;}else{return lang_1.looseIdentical(a,b);}};ChangeDetectionUtil.uninitialized=lang_1.CONST_EXPR(new Object());return ChangeDetectionUtil;})();exports.ChangeDetectionUtil=ChangeDetectionUtil;global.define=__define;return module.exports;});System.register("angular2/src/core/profile/profile",["angular2/src/core/profile/wtf_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var impl=require("angular2/src/core/profile/wtf_impl");exports.wtfEnabled=impl.detectWTF();function noopScope(arg0,arg1){return null;}
exports.wtfCreateScope=exports.wtfEnabled?impl.createScope:function(signature,flags){return noopScope;};exports.wtfLeave=exports.wtfEnabled?impl.leave:function(s,r){return r;};exports.wtfStartTimeRange=exports.wtfEnabled?impl.startTimeRange:function(rangeType,action){return null;};exports.wtfEndTimeRange=exports.wtfEnabled?impl.endTimeRange:function(r){return null;};global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/codegen_logic_util",["angular2/src/facade/lang","angular2/src/core/change_detection/codegen_facade","angular2/src/core/change_detection/proto_record","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var codegen_facade_1=require("angular2/src/core/change_detection/codegen_facade");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var exceptions_1=require("angular2/src/facade/exceptions");var CodegenLogicUtil=(function(){function CodegenLogicUtil(_names,_utilName,_changeDetectorStateName){this._names=_names;this._utilName=_utilName;this._changeDetectorStateName=_changeDetectorStateName;}
CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getLocalName(idx);},this._names.getLocalsAccessorName());};CodegenLogicUtil.prototype.genEventBindingEvalValue=function(eventRecord,protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getEventLocalName(eventRecord,idx);},"locals");};CodegenLogicUtil.prototype._genEvalValue=function(protoRec,getLocalName,localsAccessor){var context=(protoRec.contextIndex==-1)?this._names.getDirectiveName(protoRec.directiveIndex):getLocalName(protoRec.contextIndex);var argString=protoRec.args.map(function(arg){return getLocalName(arg);}).join(", ");var rhs;switch(protoRec.mode){case proto_record_1.RecordType.Self:rhs=context;break;case proto_record_1.RecordType.Const:rhs=codegen_facade_1.codify(protoRec.funcOrValue);break;case proto_record_1.RecordType.PropertyRead:rhs=context+"."+protoRec.name;break;case proto_record_1.RecordType.SafeProperty:var read=context+"."+protoRec.name;rhs=this._utilName+".isValueBlank("+context+") ? null : "+read;break;case proto_record_1.RecordType.PropertyWrite:rhs=context+"."+protoRec.name+" = "+getLocalName(protoRec.args[0]);break;case proto_record_1.RecordType.Local:rhs=localsAccessor+".get("+codegen_facade_1.rawString(protoRec.name)+")";break;case proto_record_1.RecordType.InvokeMethod:rhs=context+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.SafeMethodInvoke:var invoke=context+"."+protoRec.name+"("+argString+")";rhs=this._utilName+".isValueBlank("+context+") ? null : "+invoke;break;case proto_record_1.RecordType.InvokeClosure:rhs=context+"("+argString+")";break;case proto_record_1.RecordType.PrimitiveOp:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.CollectionLiteral:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.Interpolate:rhs=this._genInterpolation(protoRec);break;case proto_record_1.RecordType.KeyedRead:rhs=context+"["+getLocalName(protoRec.args[0])+"]";break;case proto_record_1.RecordType.KeyedWrite:rhs=context+"["+getLocalName(protoRec.args[0])+"] = "+getLocalName(protoRec.args[1]);break;case proto_record_1.RecordType.Chain:rhs=""+getLocalName(protoRec.args[protoRec.args.length-1]);break;default:throw new exceptions_1.BaseException("Unknown operation "+protoRec.mode);}
return getLocalName(protoRec.selfIndex)+" = "+rhs+";";};CodegenLogicUtil.prototype.genPropertyBindingTargets=function(propertyBindingTargets,genDebugInfo){var _this=this;var bs=propertyBindingTargets.map(function(b){if(lang_1.isBlank(b))
return"null";var debug=genDebugInfo?codegen_facade_1.codify(b.debug):"null";return _this._utilName+".bindingTarget("+codegen_facade_1.codify(b.mode)+", "+b.elementIndex+", "+codegen_facade_1.codify(b.name)+", "+codegen_facade_1.codify(b.unit)+", "+debug+")";});return"["+bs.join(", ")+"]";};CodegenLogicUtil.prototype.genDirectiveIndices=function(directiveRecords){var _this=this;var bs=directiveRecords.map(function(b){return(_this._utilName+".directiveIndex("+b.directiveIndex.elementIndex+", "+b.directiveIndex.directiveIndex+")");});return"["+bs.join(", ")+"]";};CodegenLogicUtil.prototype._genInterpolation=function(protoRec){var iVals=[];for(var i=0;i<protoRec.args.length;++i){iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[i]));iVals.push(this._utilName+".s("+this._names.getLocalName(protoRec.args[i])+")");}
iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[protoRec.args.length]));return codegen_facade_1.combineGeneratedStrings(iVals);};CodegenLogicUtil.prototype.genHydrateDirectives=function(directiveRecords){var _this=this;var res=[];var outputCount=0;for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+" = "+this._genReadDirective(i)+";");if(lang_1.isPresent(r.outputs)){r.outputs.forEach(function(output){var eventHandlerExpr=_this._genEventHandler(r.directiveIndex.elementIndex,output[1]);var statementStart="this.outputSubscriptions["+outputCount++ +"] = "+dirVarName+"."+output[0];if(lang_1.IS_DART){res.push(statementStart+".listen("+eventHandlerExpr+");");}else{res.push(statementStart+".subscribe({next: "+eventHandlerExpr+"});");}});}}
if(outputCount>0){var statementStart='this.outputSubscriptions';if(lang_1.IS_DART){res.unshift(statementStart+" = new List("+outputCount+");");}else{res.unshift(statementStart+" = new Array("+outputCount+");");}}
return res.join("\n");};CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(directiveRecords){var res=[];for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(r.callOnDestroy){var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+".ngOnDestroy();");}}
return res.join("\n");};CodegenLogicUtil.prototype._genEventHandler=function(boundElementIndex,eventName){if(lang_1.IS_DART){return"(event) => this.handleEvent('"+eventName+"', "+boundElementIndex+", event)";}else{return"(function(event) { return this.handleEvent('"+eventName+"', "+boundElementIndex+", event); }).bind(this)";}};CodegenLogicUtil.prototype._genReadDirective=function(index){return"this.getDirectiveFor(directives, "+index+")";};CodegenLogicUtil.prototype.genHydrateDetectors=function(directiveRecords){var res=[];for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(!r.isDefaultChangeDetection()){res.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+i+");");}}
return res.join("\n");};CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(directiveRecords){var res=[];var eq=lang_1.IS_DART?'==':'===';for(var i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];if(dir.callAfterContentInit){res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentInit();");}
if(dir.callAfterContentChecked){res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentChecked();");}}
return res;};CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(directiveRecords){var res=[];var eq=lang_1.IS_DART?'==':'===';for(var i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];if(dir.callAfterViewInit){res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewInit();");}
if(dir.callAfterViewChecked){res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewChecked();");}}
return res;};return CodegenLogicUtil;})();exports.CodegenLogicUtil=CodegenLogicUtil;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/element",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di","angular2/src/core/di/provider","angular2/src/core/di/injector","angular2/src/core/di/provider","angular2/src/core/metadata/di","angular2/src/core/linker/view_type","angular2/src/core/linker/element_ref","angular2/src/core/linker/view_container_ref","angular2/src/core/linker/element_ref","angular2/src/core/render/api","angular2/src/core/linker/template_ref","angular2/src/core/metadata/directives","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/query_list","angular2/src/core/reflection/reflection","angular2/src/core/pipes/pipe_provider","angular2/src/core/linker/view_container_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var provider_1=require("angular2/src/core/di/provider");var injector_1=require("angular2/src/core/di/injector");var provider_2=require("angular2/src/core/di/provider");var di_2=require("angular2/src/core/metadata/di");var view_type_1=require("angular2/src/core/linker/view_type");var element_ref_1=require("angular2/src/core/linker/element_ref");var view_container_ref_1=require("angular2/src/core/linker/view_container_ref");var element_ref_2=require("angular2/src/core/linker/element_ref");var api_1=require("angular2/src/core/render/api");var template_ref_1=require("angular2/src/core/linker/template_ref");var directives_1=require("angular2/src/core/metadata/directives");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var query_list_1=require("angular2/src/core/linker/query_list");var reflection_1=require("angular2/src/core/reflection/reflection");var pipe_provider_1=require("angular2/src/core/pipes/pipe_provider");var view_container_ref_2=require("angular2/src/core/linker/view_container_ref");var _staticKeys;var StaticKeys=(function(){function StaticKeys(){this.templateRefId=di_1.Key.get(template_ref_1.TemplateRef).id;this.viewContainerId=di_1.Key.get(view_container_ref_1.ViewContainerRef).id;this.changeDetectorRefId=di_1.Key.get(change_detection_1.ChangeDetectorRef).id;this.elementRefId=di_1.Key.get(element_ref_2.ElementRef).id;this.rendererId=di_1.Key.get(api_1.Renderer).id;}
StaticKeys.instance=function(){if(lang_1.isBlank(_staticKeys))
_staticKeys=new StaticKeys();return _staticKeys;};return StaticKeys;})();exports.StaticKeys=StaticKeys;var DirectiveDependency=(function(_super){__extends(DirectiveDependency,_super);function DirectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties,attributeName,queryDecorator){_super.call(this,key,optional,lowerBoundVisibility,upperBoundVisibility,properties);this.attributeName=attributeName;this.queryDecorator=queryDecorator;this._verify();}
DirectiveDependency.prototype._verify=function(){var count=0;if(lang_1.isPresent(this.queryDecorator))
count++;if(lang_1.isPresent(this.attributeName))
count++;if(count>1)
throw new exceptions_1.BaseException('A directive injectable can contain only one of the following @Attribute or @Query.');};DirectiveDependency.createFrom=function(d){return new DirectiveDependency(d.key,d.optional,d.lowerBoundVisibility,d.upperBoundVisibility,d.properties,DirectiveDependency._attributeName(d.properties),DirectiveDependency._query(d.properties));};DirectiveDependency._attributeName=function(properties){var p=properties.find(function(p){return p instanceof di_2.AttributeMetadata;});return lang_1.isPresent(p)?p.attributeName:null;};DirectiveDependency._query=function(properties){return properties.find(function(p){return p instanceof di_2.QueryMetadata;});};return DirectiveDependency;})(di_1.Dependency);exports.DirectiveDependency=DirectiveDependency;var DirectiveProvider=(function(_super){__extends(DirectiveProvider,_super);function DirectiveProvider(key,factory,deps,isComponent,providers,viewProviders,queries){_super.call(this,key,[new provider_2.ResolvedFactory(factory,deps)],false);this.isComponent=isComponent;this.providers=providers;this.viewProviders=viewProviders;this.queries=queries;}
Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName;},enumerable:true,configurable:true});DirectiveProvider.createFromType=function(type,meta){var provider=new di_1.Provider(type,{useClass:type});if(lang_1.isBlank(meta)){meta=new directives_1.DirectiveMetadata();}
var rb=provider_2.resolveProvider(provider);var rf=rb.resolvedFactories[0];var deps=rf.dependencies.map(DirectiveDependency.createFrom);var isComponent=meta instanceof directives_1.ComponentMetadata;var resolvedProviders=lang_1.isPresent(meta.providers)?di_1.Injector.resolve(meta.providers):null;var resolvedViewProviders=meta instanceof directives_1.ComponentMetadata&&lang_1.isPresent(meta.viewProviders)?di_1.Injector.resolve(meta.viewProviders):null;var queries=[];if(lang_1.isPresent(meta.queries)){collection_1.StringMapWrapper.forEach(meta.queries,function(meta,fieldName){var setter=reflection_1.reflector.setter(fieldName);queries.push(new QueryMetadataWithSetter(setter,meta));});}
deps.forEach(function(d){if(lang_1.isPresent(d.queryDecorator)){queries.push(new QueryMetadataWithSetter(null,d.queryDecorator));}});return new DirectiveProvider(rb.key,rf.factory,deps,isComponent,resolvedProviders,resolvedViewProviders,queries);};return DirectiveProvider;})(provider_2.ResolvedProvider_);exports.DirectiveProvider=DirectiveProvider;var QueryMetadataWithSetter=(function(){function QueryMetadataWithSetter(setter,metadata){this.setter=setter;this.metadata=metadata;}
return QueryMetadataWithSetter;})();exports.QueryMetadataWithSetter=QueryMetadataWithSetter;function setProvidersVisibility(providers,visibility,result){for(var i=0;i<providers.length;i++){result.set(providers[i].key.id,visibility);}}
var AppProtoElement=(function(){function AppProtoElement(firstProviderIsComponent,index,attributes,pwvs,protoQueryRefs,directiveVariableBindings){this.firstProviderIsComponent=firstProviderIsComponent;this.index=index;this.attributes=attributes;this.protoQueryRefs=protoQueryRefs;this.directiveVariableBindings=directiveVariableBindings;var length=pwvs.length;if(length>0){this.protoInjector=new injector_1.ProtoInjector(pwvs);}else{this.protoInjector=null;this.protoQueryRefs=[];}}
AppProtoElement.create=function(metadataCache,index,attributes,directiveTypes,directiveVariableBindings){var componentDirProvider=null;var mergedProvidersMap=new Map();var providerVisibilityMap=new Map();var providers=collection_1.ListWrapper.createGrowableSize(directiveTypes.length);var protoQueryRefs=[];for(var i=0;i<directiveTypes.length;i++){var dirProvider=metadataCache.getResolvedDirectiveMetadata(directiveTypes[i]);providers[i]=new injector_1.ProviderWithVisibility(dirProvider,dirProvider.isComponent?injector_1.Visibility.PublicAndPrivate:injector_1.Visibility.Public);if(dirProvider.isComponent){componentDirProvider=dirProvider;}else{if(lang_1.isPresent(dirProvider.providers)){provider_1.mergeResolvedProviders(dirProvider.providers,mergedProvidersMap);setProvidersVisibility(dirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap);}}
if(lang_1.isPresent(dirProvider.viewProviders)){provider_1.mergeResolvedProviders(dirProvider.viewProviders,mergedProvidersMap);setProvidersVisibility(dirProvider.viewProviders,injector_1.Visibility.Private,providerVisibilityMap);}
for(var queryIdx=0;queryIdx<dirProvider.queries.length;queryIdx++){var q=dirProvider.queries[queryIdx];protoQueryRefs.push(new ProtoQueryRef(i,q.setter,q.metadata));}}
if(lang_1.isPresent(componentDirProvider)&&lang_1.isPresent(componentDirProvider.providers)){provider_1.mergeResolvedProviders(componentDirProvider.providers,mergedProvidersMap);setProvidersVisibility(componentDirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap);}
mergedProvidersMap.forEach(function(provider,_){providers.push(new injector_1.ProviderWithVisibility(provider,providerVisibilityMap.get(provider.key.id)));});return new AppProtoElement(lang_1.isPresent(componentDirProvider),index,attributes,providers,protoQueryRefs,directiveVariableBindings);};AppProtoElement.prototype.getProviderAtIndex=function(index){return this.protoInjector.getProviderAtIndex(index);};return AppProtoElement;})();exports.AppProtoElement=AppProtoElement;var _Context=(function(){function _Context(element,componentElement,injector){this.element=element;this.componentElement=componentElement;this.injector=injector;}
return _Context;})();var InjectorWithHostBoundary=(function(){function InjectorWithHostBoundary(injector,hostInjectorBoundary){this.injector=injector;this.hostInjectorBoundary=hostInjectorBoundary;}
return InjectorWithHostBoundary;})();exports.InjectorWithHostBoundary=InjectorWithHostBoundary;var AppElement=(function(){function AppElement(proto,parentView,parent,nativeElement,embeddedViewFactory){var _this=this;this.proto=proto;this.parentView=parentView;this.parent=parent;this.nativeElement=nativeElement;this.embeddedViewFactory=embeddedViewFactory;this.nestedViews=null;this.componentView=null;this.ref=new element_ref_1.ElementRef_(this);var parentInjector=lang_1.isPresent(parent)?parent._injector:parentView.parentInjector;if(lang_1.isPresent(this.proto.protoInjector)){var isBoundary;if(lang_1.isPresent(parent)&&lang_1.isPresent(parent.proto.protoInjector)){isBoundary=false;}else{isBoundary=parentView.hostInjectorBoundary;}
this._queryStrategy=this._buildQueryStrategy();this._injector=new di_1.Injector(this.proto.protoInjector,parentInjector,isBoundary,this,function(){return _this._debugContext();});var injectorStrategy=this._injector.internalStrategy;this._strategy=injectorStrategy instanceof injector_1.InjectorInlineStrategy?new ElementDirectiveInlineStrategy(injectorStrategy,this):new ElementDirectiveDynamicStrategy(injectorStrategy,this);this._strategy.init();}else{this._queryStrategy=null;this._injector=parentInjector;this._strategy=null;}}
AppElement.getViewParentInjector=function(parentViewType,containerAppElement,imperativelyCreatedProviders,rootInjector){var parentInjector;var hostInjectorBoundary;switch(parentViewType){case view_type_1.ViewType.COMPONENT:parentInjector=containerAppElement._injector;hostInjectorBoundary=true;break;case view_type_1.ViewType.EMBEDDED:parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector;hostInjectorBoundary=containerAppElement._injector.hostBoundary;break;case view_type_1.ViewType.HOST:if(lang_1.isPresent(containerAppElement)){parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector;if(lang_1.isPresent(imperativelyCreatedProviders)){var imperativeProvidersWithVisibility=imperativelyCreatedProviders.map(function(p){return new injector_1.ProviderWithVisibility(p,injector_1.Visibility.Public);});parentInjector=new di_1.Injector(new injector_1.ProtoInjector(imperativeProvidersWithVisibility),parentInjector,true,null,null);hostInjectorBoundary=false;}else{hostInjectorBoundary=containerAppElement._injector.hostBoundary;}}else{parentInjector=rootInjector;hostInjectorBoundary=true;}
break;}
return new InjectorWithHostBoundary(parentInjector,hostInjectorBoundary);};AppElement.prototype.attachComponentView=function(componentView){this.componentView=componentView;};AppElement.prototype._debugContext=function(){var c=this.parentView.getDebugContext(this,null,null);return lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.injector):null;};AppElement.prototype.hasVariableBinding=function(name){var vb=this.proto.directiveVariableBindings;return lang_1.isPresent(vb)&&collection_1.StringMapWrapper.contains(vb,name);};AppElement.prototype.getVariableBinding=function(name){var index=this.proto.directiveVariableBindings[name];return lang_1.isPresent(index)?this.getDirectiveAtIndex(index):this.getElementRef();};AppElement.prototype.get=function(token){return this._injector.get(token);};AppElement.prototype.hasDirective=function(type){return lang_1.isPresent(this._injector.getOptional(type));};AppElement.prototype.getComponent=function(){return lang_1.isPresent(this._strategy)?this._strategy.getComponent():null;};AppElement.prototype.getInjector=function(){return this._injector;};AppElement.prototype.getElementRef=function(){return this.ref;};AppElement.prototype.getViewContainerRef=function(){return new view_container_ref_2.ViewContainerRef_(this);};AppElement.prototype.getTemplateRef=function(){if(lang_1.isPresent(this.embeddedViewFactory)){return new template_ref_1.TemplateRef_(this.ref);}
return null;};AppElement.prototype.getDependency=function(injector,provider,dep){if(provider instanceof DirectiveProvider){var dirDep=dep;if(lang_1.isPresent(dirDep.attributeName))
return this._buildAttribute(dirDep);if(lang_1.isPresent(dirDep.queryDecorator))
return this._queryStrategy.findQuery(dirDep.queryDecorator).list;if(dirDep.key.id===StaticKeys.instance().changeDetectorRefId){if(this.proto.firstProviderIsComponent){return new _ComponentViewChangeDetectorRef(this);}else{return this.parentView.changeDetector.ref;}}
if(dirDep.key.id===StaticKeys.instance().elementRefId){return this.getElementRef();}
if(dirDep.key.id===StaticKeys.instance().viewContainerId){return this.getViewContainerRef();}
if(dirDep.key.id===StaticKeys.instance().templateRefId){var tr=this.getTemplateRef();if(lang_1.isBlank(tr)&&!dirDep.optional){throw new di_1.NoProviderError(null,dirDep.key);}
return tr;}
if(dirDep.key.id===StaticKeys.instance().rendererId){return this.parentView.renderer;}}else if(provider instanceof pipe_provider_1.PipeProvider){if(dep.key.id===StaticKeys.instance().changeDetectorRefId){if(this.proto.firstProviderIsComponent){return new _ComponentViewChangeDetectorRef(this);}else{return this.parentView.changeDetector;}}}
return injector_1.UNDEFINED;};AppElement.prototype._buildAttribute=function(dep){var attributes=this.proto.attributes;if(lang_1.isPresent(attributes)&&collection_1.StringMapWrapper.contains(attributes,dep.attributeName)){return attributes[dep.attributeName];}else{return null;}};AppElement.prototype.addDirectivesMatchingQuery=function(query,list){var templateRef=this.getTemplateRef();if(query.selector===template_ref_1.TemplateRef&&lang_1.isPresent(templateRef)){list.push(templateRef);}
if(this._strategy!=null){this._strategy.addDirectivesMatchingQuery(query,list);}};AppElement.prototype._buildQueryStrategy=function(){if(this.proto.protoQueryRefs.length===0){return _emptyQueryStrategy;}else if(this.proto.protoQueryRefs.length<=InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES){return new InlineQueryStrategy(this);}else{return new DynamicQueryStrategy(this);}};AppElement.prototype.getDirectiveAtIndex=function(index){return this._injector.getAt(index);};AppElement.prototype.ngAfterViewChecked=function(){if(lang_1.isPresent(this._queryStrategy))
this._queryStrategy.updateViewQueries();};AppElement.prototype.ngAfterContentChecked=function(){if(lang_1.isPresent(this._queryStrategy))
this._queryStrategy.updateContentQueries();};AppElement.prototype.traverseAndSetQueriesAsDirty=function(){var inj=this;while(lang_1.isPresent(inj)){inj._setQueriesAsDirty();if(lang_1.isBlank(inj.parent)&&inj.parentView.proto.type===view_type_1.ViewType.EMBEDDED){inj=inj.parentView.containerAppElement;}else{inj=inj.parent;}}};AppElement.prototype._setQueriesAsDirty=function(){if(lang_1.isPresent(this._queryStrategy)){this._queryStrategy.setContentQueriesAsDirty();}
if(this.parentView.proto.type===view_type_1.ViewType.COMPONENT){this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty();}};return AppElement;})();exports.AppElement=AppElement;var _EmptyQueryStrategy=(function(){function _EmptyQueryStrategy(){}
_EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){};_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){};_EmptyQueryStrategy.prototype.updateContentQueries=function(){};_EmptyQueryStrategy.prototype.updateViewQueries=function(){};_EmptyQueryStrategy.prototype.findQuery=function(query){throw new exceptions_1.BaseException("Cannot find query for directive "+query+".");};return _EmptyQueryStrategy;})();var _emptyQueryStrategy=new _EmptyQueryStrategy();var InlineQueryStrategy=(function(){function InlineQueryStrategy(ei){var protoRefs=ei.proto.protoQueryRefs;if(protoRefs.length>0)
this.query0=new QueryRef(protoRefs[0],ei);if(protoRefs.length>1)
this.query1=new QueryRef(protoRefs[1],ei);if(protoRefs.length>2)
this.query2=new QueryRef(protoRefs[2],ei);}
InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){if(lang_1.isPresent(this.query0)&&!this.query0.isViewQuery)
this.query0.dirty=true;if(lang_1.isPresent(this.query1)&&!this.query1.isViewQuery)
this.query1.dirty=true;if(lang_1.isPresent(this.query2)&&!this.query2.isViewQuery)
this.query2.dirty=true;};InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){if(lang_1.isPresent(this.query0)&&this.query0.isViewQuery)
this.query0.dirty=true;if(lang_1.isPresent(this.query1)&&this.query1.isViewQuery)
this.query1.dirty=true;if(lang_1.isPresent(this.query2)&&this.query2.isViewQuery)
this.query2.dirty=true;};InlineQueryStrategy.prototype.updateContentQueries=function(){if(lang_1.isPresent(this.query0)&&!this.query0.isViewQuery){this.query0.update();}
if(lang_1.isPresent(this.query1)&&!this.query1.isViewQuery){this.query1.update();}
if(lang_1.isPresent(this.query2)&&!this.query2.isViewQuery){this.query2.update();}};InlineQueryStrategy.prototype.updateViewQueries=function(){if(lang_1.isPresent(this.query0)&&this.query0.isViewQuery){this.query0.update();}
if(lang_1.isPresent(this.query1)&&this.query1.isViewQuery){this.query1.update();}
if(lang_1.isPresent(this.query2)&&this.query2.isViewQuery){this.query2.update();}};InlineQueryStrategy.prototype.findQuery=function(query){if(lang_1.isPresent(this.query0)&&this.query0.protoQueryRef.query===query){return this.query0;}
if(lang_1.isPresent(this.query1)&&this.query1.protoQueryRef.query===query){return this.query1;}
if(lang_1.isPresent(this.query2)&&this.query2.protoQueryRef.query===query){return this.query2;}
throw new exceptions_1.BaseException("Cannot find query for directive "+query+".");};InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3;return InlineQueryStrategy;})();var DynamicQueryStrategy=(function(){function DynamicQueryStrategy(ei){this.queries=ei.proto.protoQueryRefs.map(function(p){return new QueryRef(p,ei);});}
DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(!q.isViewQuery)
q.dirty=true;}};DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.isViewQuery)
q.dirty=true;}};DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(!q.isViewQuery){q.update();}}};DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.isViewQuery){q.update();}}};DynamicQueryStrategy.prototype.findQuery=function(query){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.protoQueryRef.query===query){return q;}}
throw new exceptions_1.BaseException("Cannot find query for directive "+query+".");};return DynamicQueryStrategy;})();var ElementDirectiveInlineStrategy=(function(){function ElementDirectiveInlineStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy;this._ei=_ei;}
ElementDirectiveInlineStrategy.prototype.init=function(){var i=this.injectorStrategy;var p=i.protoStrategy;i.resetConstructionCounter();if(p.provider0 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId0)&&i.obj0===injector_1.UNDEFINED)
i.obj0=i.instantiateProvider(p.provider0,p.visibility0);if(p.provider1 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId1)&&i.obj1===injector_1.UNDEFINED)
i.obj1=i.instantiateProvider(p.provider1,p.visibility1);if(p.provider2 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId2)&&i.obj2===injector_1.UNDEFINED)
i.obj2=i.instantiateProvider(p.provider2,p.visibility2);if(p.provider3 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId3)&&i.obj3===injector_1.UNDEFINED)
i.obj3=i.instantiateProvider(p.provider3,p.visibility3);if(p.provider4 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId4)&&i.obj4===injector_1.UNDEFINED)
i.obj4=i.instantiateProvider(p.provider4,p.visibility4);if(p.provider5 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId5)&&i.obj5===injector_1.UNDEFINED)
i.obj5=i.instantiateProvider(p.provider5,p.visibility5);if(p.provider6 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId6)&&i.obj6===injector_1.UNDEFINED)
i.obj6=i.instantiateProvider(p.provider6,p.visibility6);if(p.provider7 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId7)&&i.obj7===injector_1.UNDEFINED)
i.obj7=i.instantiateProvider(p.provider7,p.visibility7);if(p.provider8 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId8)&&i.obj8===injector_1.UNDEFINED)
i.obj8=i.instantiateProvider(p.provider8,p.visibility8);if(p.provider9 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId9)&&i.obj9===injector_1.UNDEFINED)
i.obj9=i.instantiateProvider(p.provider9,p.visibility9);};ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0;};ElementDirectiveInlineStrategy.prototype.isComponentKey=function(key){return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===this.injectorStrategy.protoStrategy.keyId0;};ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var i=this.injectorStrategy;var p=i.protoStrategy;if(lang_1.isPresent(p.provider0)&&p.provider0.key.token===query.selector){if(i.obj0===injector_1.UNDEFINED)
i.obj0=i.instantiateProvider(p.provider0,p.visibility0);list.push(i.obj0);}
if(lang_1.isPresent(p.provider1)&&p.provider1.key.token===query.selector){if(i.obj1===injector_1.UNDEFINED)
i.obj1=i.instantiateProvider(p.provider1,p.visibility1);list.push(i.obj1);}
if(lang_1.isPresent(p.provider2)&&p.provider2.key.token===query.selector){if(i.obj2===injector_1.UNDEFINED)
i.obj2=i.instantiateProvider(p.provider2,p.visibility2);list.push(i.obj2);}
if(lang_1.isPresent(p.provider3)&&p.provider3.key.token===query.selector){if(i.obj3===injector_1.UNDEFINED)
i.obj3=i.instantiateProvider(p.provider3,p.visibility3);list.push(i.obj3);}
if(lang_1.isPresent(p.provider4)&&p.provider4.key.token===query.selector){if(i.obj4===injector_1.UNDEFINED)
i.obj4=i.instantiateProvider(p.provider4,p.visibility4);list.push(i.obj4);}
if(lang_1.isPresent(p.provider5)&&p.provider5.key.token===query.selector){if(i.obj5===injector_1.UNDEFINED)
i.obj5=i.instantiateProvider(p.provider5,p.visibility5);list.push(i.obj5);}
if(lang_1.isPresent(p.provider6)&&p.provider6.key.token===query.selector){if(i.obj6===injector_1.UNDEFINED)
i.obj6=i.instantiateProvider(p.provider6,p.visibility6);list.push(i.obj6);}
if(lang_1.isPresent(p.provider7)&&p.provider7.key.token===query.selector){if(i.obj7===injector_1.UNDEFINED)
i.obj7=i.instantiateProvider(p.provider7,p.visibility7);list.push(i.obj7);}
if(lang_1.isPresent(p.provider8)&&p.provider8.key.token===query.selector){if(i.obj8===injector_1.UNDEFINED)
i.obj8=i.instantiateProvider(p.provider8,p.visibility8);list.push(i.obj8);}
if(lang_1.isPresent(p.provider9)&&p.provider9.key.token===query.selector){if(i.obj9===injector_1.UNDEFINED)
i.obj9=i.instantiateProvider(p.provider9,p.visibility9);list.push(i.obj9);}};return ElementDirectiveInlineStrategy;})();var ElementDirectiveDynamicStrategy=(function(){function ElementDirectiveDynamicStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy;this._ei=_ei;}
ElementDirectiveDynamicStrategy.prototype.init=function(){var inj=this.injectorStrategy;var p=inj.protoStrategy;inj.resetConstructionCounter();for(var i=0;i<p.keyIds.length;i++){if(p.providers[i]instanceof DirectiveProvider&&lang_1.isPresent(p.keyIds[i])&&inj.objs[i]===injector_1.UNDEFINED){inj.objs[i]=inj.instantiateProvider(p.providers[i],p.visibilities[i]);}}};ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0];};ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(key){var p=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===p.keyIds[0];};ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var ist=this.injectorStrategy;var p=ist.protoStrategy;for(var i=0;i<p.providers.length;i++){if(p.providers[i].key.token===query.selector){if(ist.objs[i]===injector_1.UNDEFINED){ist.objs[i]=ist.instantiateProvider(p.providers[i],p.visibilities[i]);}
list.push(ist.objs[i]);}}};return ElementDirectiveDynamicStrategy;})();var ProtoQueryRef=(function(){function ProtoQueryRef(dirIndex,setter,query){this.dirIndex=dirIndex;this.setter=setter;this.query=query;}
Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return lang_1.isPresent(this.setter);},enumerable:true,configurable:true});return ProtoQueryRef;})();exports.ProtoQueryRef=ProtoQueryRef;var QueryRef=(function(){function QueryRef(protoQueryRef,originator){this.protoQueryRef=protoQueryRef;this.originator=originator;this.list=new query_list_1.QueryList();this.dirty=true;}
Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery;},enumerable:true,configurable:true});QueryRef.prototype.update=function(){if(!this.dirty)
return;this._update();this.dirty=false;if(this.protoQueryRef.usesPropertySyntax){var dir=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);if(this.protoQueryRef.query.first){this.protoQueryRef.setter(dir,this.list.length>0?this.list.first:null);}else{this.protoQueryRef.setter(dir,this.list);}}
this.list.notifyOnChanges();};QueryRef.prototype._update=function(){var aggregator=[];if(this.protoQueryRef.query.isViewQuery){var nestedView=this.originator.componentView;if(lang_1.isPresent(nestedView))
this._visitView(nestedView,aggregator);}else{this._visit(this.originator,aggregator);}
this.list.reset(aggregator);};;QueryRef.prototype._visit=function(inj,aggregator){var view=inj.parentView;var startIdx=inj.proto.index;for(var i=startIdx;i<view.appElements.length;i++){var curInj=view.appElements[i];if(i>startIdx&&(lang_1.isBlank(curInj.parent)||curInj.parent.proto.index<startIdx)){break;}
if(!this.protoQueryRef.query.descendants&&!(curInj.parent==this.originator||curInj==this.originator))
continue;this._visitInjector(curInj,aggregator);this._visitViewContainerViews(curInj.nestedViews,aggregator);}};QueryRef.prototype._visitInjector=function(inj,aggregator){if(this.protoQueryRef.query.isVarBindingQuery){this._aggregateVariableBinding(inj,aggregator);}else{this._aggregateDirective(inj,aggregator);}};QueryRef.prototype._visitViewContainerViews=function(views,aggregator){if(lang_1.isPresent(views)){for(var j=0;j<views.length;j++){this._visitView(views[j],aggregator);}}};QueryRef.prototype._visitView=function(view,aggregator){for(var i=0;i<view.appElements.length;i++){var inj=view.appElements[i];this._visitInjector(inj,aggregator);this._visitViewContainerViews(inj.nestedViews,aggregator);}};QueryRef.prototype._aggregateVariableBinding=function(inj,aggregator){var vb=this.protoQueryRef.query.varBindings;for(var i=0;i<vb.length;++i){if(inj.hasVariableBinding(vb[i])){aggregator.push(inj.getVariableBinding(vb[i]));}}};QueryRef.prototype._aggregateDirective=function(inj,aggregator){inj.addDirectivesMatchingQuery(this.protoQueryRef.query,aggregator);};return QueryRef;})();exports.QueryRef=QueryRef;var _ComponentViewChangeDetectorRef=(function(_super){__extends(_ComponentViewChangeDetectorRef,_super);function _ComponentViewChangeDetectorRef(_appElement){_super.call(this);this._appElement=_appElement;}
_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck();};_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach();};_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges();};_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges();};_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach();};return _ComponentViewChangeDetectorRef;})(change_detection_1.ChangeDetectorRef);global.define=__define;return module.exports;});System.register("angular2/src/core/pipes/pipes",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/pipes"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var cd=require("angular2/src/core/change_detection/pipes");var ProtoPipes=(function(){function ProtoPipes(config){this.config=config;this.config=config;}
ProtoPipes.fromProviders=function(providers){var config={};providers.forEach(function(b){return config[b.name]=b;});return new ProtoPipes(config);};ProtoPipes.prototype.get=function(name){var provider=this.config[name];if(lang_1.isBlank(provider))
throw new exceptions_1.BaseException("Cannot find pipe '"+name+"'.");return provider;};return ProtoPipes;})();exports.ProtoPipes=ProtoPipes;var Pipes=(function(){function Pipes(proto,injector){this.proto=proto;this.injector=injector;this._config={};}
Pipes.prototype.get=function(name){var cached=collection_1.StringMapWrapper.get(this._config,name);if(lang_1.isPresent(cached))
return cached;var p=this.proto.get(name);var transform=this.injector.instantiateResolved(p);var res=new cd.SelectedPipe(transform,p.pure);if(p.pure){collection_1.StringMapWrapper.set(this._config,name,res);}
return res;};return Pipes;})();exports.Pipes=Pipes;global.define=__define;return module.exports;});System.register("angular2/src/core/linker",["angular2/src/core/linker/directive_resolver","angular2/src/core/linker/view_resolver","angular2/src/core/linker/compiler","angular2/src/core/linker/view_manager","angular2/src/core/linker/query_list","angular2/src/core/linker/dynamic_component_loader","angular2/src/core/linker/element_ref","angular2/src/core/linker/template_ref","angular2/src/core/linker/view_ref","angular2/src/core/linker/view_container_ref","angular2/src/core/linker/dynamic_component_loader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var view_resolver_1=require("angular2/src/core/linker/view_resolver");exports.ViewResolver=view_resolver_1.ViewResolver;var compiler_1=require("angular2/src/core/linker/compiler");exports.Compiler=compiler_1.Compiler;var view_manager_1=require("angular2/src/core/linker/view_manager");exports.AppViewManager=view_manager_1.AppViewManager;var query_list_1=require("angular2/src/core/linker/query_list");exports.QueryList=query_list_1.QueryList;var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=require("angular2/src/core/linker/element_ref");exports.ElementRef=element_ref_1.ElementRef;var template_ref_1=require("angular2/src/core/linker/template_ref");exports.TemplateRef=template_ref_1.TemplateRef;var view_ref_1=require("angular2/src/core/linker/view_ref");exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef;exports.HostViewRef=view_ref_1.HostViewRef;exports.ViewRef=view_ref_1.ViewRef;exports.HostViewFactoryRef=view_ref_1.HostViewFactoryRef;var view_container_ref_1=require("angular2/src/core/linker/view_container_ref");exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var dynamic_component_loader_2=require("angular2/src/core/linker/dynamic_component_loader");exports.ComponentRef=dynamic_component_loader_2.ComponentRef;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/resolved_metadata_cache",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/core/linker/element","angular2/src/core/linker/directive_resolver","angular2/src/core/pipes/pipe_provider","angular2/src/core/linker/pipe_resolver"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var element_1=require("angular2/src/core/linker/element");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_provider_1=require("angular2/src/core/pipes/pipe_provider");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var ResolvedMetadataCache=(function(){function ResolvedMetadataCache(_directiveResolver,_pipeResolver){this._directiveResolver=_directiveResolver;this._pipeResolver=_pipeResolver;this._directiveCache=new Map();this._pipeCache=new Map();}
ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(type){var result=this._directiveCache.get(type);if(lang_1.isBlank(result)){result=element_1.DirectiveProvider.createFromType(type,this._directiveResolver.resolve(type));this._directiveCache.set(type,result);}
return result;};ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(type){var result=this._pipeCache.get(type);if(lang_1.isBlank(result)){result=pipe_provider_1.PipeProvider.createFromType(type,this._pipeResolver.resolve(type));this._pipeCache.set(type,result);}
return result;};ResolvedMetadataCache=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver])],ResolvedMetadataCache);return ResolvedMetadataCache;})();exports.ResolvedMetadataCache=ResolvedMetadataCache;exports.CODEGEN_RESOLVED_METADATA_CACHE=new ResolvedMetadataCache(directive_resolver_1.CODEGEN_DIRECTIVE_RESOLVER,pipe_resolver_1.CODEGEN_PIPE_RESOLVER);global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/debug/ng_probe",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/platform/dom/dom_adapter","angular2/src/core/debug/debug_node","angular2/src/platform/dom/dom_renderer","angular2/core","angular2/src/core/debug/debug_renderer"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var debug_node_1=require("angular2/src/core/debug/debug_node");var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");var core_1=require("angular2/core");var debug_renderer_1=require("angular2/src/core/debug/debug_renderer");var CORE_TOKENS=lang_1.CONST_EXPR({'ApplicationRef':core_1.ApplicationRef,'NgZone':core_1.NgZone});var INSPECT_GLOBAL_NAME='ng.probe';var CORE_TOKENS_GLOBAL_NAME='ng.coreTokens';function inspectNativeElement(element){return debug_node_1.getDebugNode(element);}
exports.inspectNativeElement=inspectNativeElement;function _createConditionalRootRenderer(rootRenderer){if(lang_1.assertionsEnabled()){return _createRootRenderer(rootRenderer);}
return rootRenderer;}
function _createRootRenderer(rootRenderer){dom_adapter_1.DOM.setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement);dom_adapter_1.DOM.setGlobalVar(CORE_TOKENS_GLOBAL_NAME,CORE_TOKENS);return new debug_renderer_1.DebugDomRootRenderer(rootRenderer);}
exports.ELEMENT_PROBE_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]);exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]);global.define=__define;return module.exports;});System.register("angular2/src/core/reflection/reflection",["angular2/src/core/reflection/reflector","angular2/src/core/reflection/reflector","angular2/src/core/reflection/reflection_capabilities"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var reflector_1=require("angular2/src/core/reflection/reflector");var reflector_2=require("angular2/src/core/reflection/reflector");exports.Reflector=reflector_2.Reflector;exports.ReflectionInfo=reflector_2.ReflectionInfo;var reflection_capabilities_1=require("angular2/src/core/reflection/reflection_capabilities");exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities());global.define=__define;return module.exports;});System.register("angular2/src/animate/css_animation_builder",["angular2/src/animate/css_animation_options","angular2/src/animate/animation"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var css_animation_options_1=require("angular2/src/animate/css_animation_options");var animation_1=require("angular2/src/animate/animation");var CssAnimationBuilder=(function(){function CssAnimationBuilder(browserDetails){this.browserDetails=browserDetails;this.data=new css_animation_options_1.CssAnimationOptions();}
CssAnimationBuilder.prototype.addAnimationClass=function(className){this.data.animationClasses.push(className);return this;};CssAnimationBuilder.prototype.addClass=function(className){this.data.classesToAdd.push(className);return this;};CssAnimationBuilder.prototype.removeClass=function(className){this.data.classesToRemove.push(className);return this;};CssAnimationBuilder.prototype.setDuration=function(duration){this.data.duration=duration;return this;};CssAnimationBuilder.prototype.setDelay=function(delay){this.data.delay=delay;return this;};CssAnimationBuilder.prototype.setStyles=function(from,to){return this.setFromStyles(from).setToStyles(to);};CssAnimationBuilder.prototype.setFromStyles=function(from){this.data.fromStyles=from;return this;};CssAnimationBuilder.prototype.setToStyles=function(to){this.data.toStyles=to;return this;};CssAnimationBuilder.prototype.start=function(element){return new animation_1.Animation(element,this.data,this.browserDetails);};return CssAnimationBuilder;})();exports.CssAnimationBuilder=CssAnimationBuilder;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/abstract_change_detector",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/change_detector_ref","angular2/src/core/change_detection/exceptions","angular2/src/core/change_detection/parser/locals","angular2/src/core/change_detection/constants","angular2/src/core/profile/profile","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var change_detector_ref_1=require("angular2/src/core/change_detection/change_detector_ref");var exceptions_1=require("angular2/src/core/change_detection/exceptions");var locals_1=require("angular2/src/core/change_detection/parser/locals");var constants_1=require("angular2/src/core/change_detection/constants");var profile_1=require("angular2/src/core/profile/profile");var async_1=require("angular2/src/facade/async");var _scope_check=profile_1.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)");var _Context=(function(){function _Context(element,componentElement,context,locals,injector,expression){this.element=element;this.componentElement=componentElement;this.context=context;this.locals=locals;this.injector=injector;this.expression=expression;}
return _Context;})();var AbstractChangeDetector=(function(){function AbstractChangeDetector(id,numberOfPropertyProtoRecords,bindingTargets,directiveIndices,strategy){this.id=id;this.numberOfPropertyProtoRecords=numberOfPropertyProtoRecords;this.bindingTargets=bindingTargets;this.directiveIndices=directiveIndices;this.strategy=strategy;this.contentChildren=[];this.viewChildren=[];this.state=constants_1.ChangeDetectorState.NeverChecked;this.locals=null;this.mode=null;this.pipes=null;this.ref=new change_detector_ref_1.ChangeDetectorRef_(this);}
AbstractChangeDetector.prototype.addContentChild=function(cd){this.contentChildren.push(cd);cd.parent=this;};AbstractChangeDetector.prototype.removeContentChild=function(cd){collection_1.ListWrapper.remove(this.contentChildren,cd);};AbstractChangeDetector.prototype.addViewChild=function(cd){this.viewChildren.push(cd);cd.parent=this;};AbstractChangeDetector.prototype.removeViewChild=function(cd){collection_1.ListWrapper.remove(this.viewChildren,cd);};AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this);};AbstractChangeDetector.prototype.handleEvent=function(eventName,elIndex,event){if(!this.hydrated()){this.throwDehydratedError(this.id+" -> "+eventName);}
try{var locals=new Map();locals.set('$event',event);var res=!this.handleEventInternal(eventName,elIndex,new locals_1.Locals(this.locals,locals));this.markPathToRootAsCheckOnce();return res;}catch(e){var c=this.dispatcher.getDebugContext(null,elIndex,null);var context=lang_1.isPresent(c)?new exceptions_1.EventEvaluationErrorContext(c.element,c.componentElement,c.context,c.locals,c.injector):null;throw new exceptions_1.EventEvaluationError(eventName,e,e.stack,context);}};AbstractChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){return false;};AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(false);};AbstractChangeDetector.prototype.checkNoChanges=function(){if(lang_1.assertionsEnabled()){this.runDetectChanges(true);}};AbstractChangeDetector.prototype.runDetectChanges=function(throwOnChange){if(this.mode===constants_1.ChangeDetectionStrategy.Detached||this.mode===constants_1.ChangeDetectionStrategy.Checked||this.state===constants_1.ChangeDetectorState.Errored)
return;var s=_scope_check(this.id,throwOnChange);this.detectChangesInRecords(throwOnChange);this._detectChangesContentChildren(throwOnChange);if(!throwOnChange)
this.afterContentLifecycleCallbacks();this._detectChangesInViewChildren(throwOnChange);if(!throwOnChange)
this.afterViewLifecycleCallbacks();if(this.mode===constants_1.ChangeDetectionStrategy.CheckOnce)
this.mode=constants_1.ChangeDetectionStrategy.Checked;this.state=constants_1.ChangeDetectorState.CheckedBefore;profile_1.wtfLeave(s);};AbstractChangeDetector.prototype.detectChangesInRecords=function(throwOnChange){if(!this.hydrated()){this.throwDehydratedError(this.id);}
try{this.detectChangesInRecordsInternal(throwOnChange);}catch(e){if(!(e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException)){this.state=constants_1.ChangeDetectorState.Errored;}
this._throwError(e,e.stack);}};AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){};AbstractChangeDetector.prototype.hydrate=function(context,locals,dispatcher,pipes){this.dispatcher=dispatcher;this.mode=change_detection_util_1.ChangeDetectionUtil.changeDetectionMode(this.strategy);this.context=context;this.locals=locals;this.pipes=pipes;this.hydrateDirectives(dispatcher);this.state=constants_1.ChangeDetectorState.NeverChecked;};AbstractChangeDetector.prototype.hydrateDirectives=function(dispatcher){};AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(true);this._unsubscribeFromOutputs();this.dispatcher=null;this.context=null;this.locals=null;this.pipes=null;};AbstractChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){};AbstractChangeDetector.prototype.hydrated=function(){return lang_1.isPresent(this.context);};AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy();this.dehydrate();var children=this.contentChildren;for(var i=0;i<children.length;i++){children[i].destroyRecursive();}
children=this.viewChildren;for(var i=0;i<children.length;i++){children[i].destroyRecursive();}};AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked();this.afterContentLifecycleCallbacksInternal();};AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){};AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked();this.afterViewLifecycleCallbacksInternal();};AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){};AbstractChangeDetector.prototype._detectChangesContentChildren=function(throwOnChange){var c=this.contentChildren;for(var i=0;i<c.length;++i){c[i].runDetectChanges(throwOnChange);}};AbstractChangeDetector.prototype._detectChangesInViewChildren=function(throwOnChange){var c=this.viewChildren;for(var i=0;i<c.length;++i){c[i].runDetectChanges(throwOnChange);}};AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=constants_1.ChangeDetectionStrategy.CheckOnce;};AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){var c=this;while(lang_1.isPresent(c)&&c.mode!==constants_1.ChangeDetectionStrategy.Detached){if(c.mode===constants_1.ChangeDetectionStrategy.Checked)
c.mode=constants_1.ChangeDetectionStrategy.CheckOnce;c=c.parent;}};AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(lang_1.isPresent(this.outputSubscriptions)){for(var i=0;i<this.outputSubscriptions.length;++i){async_1.ObservableWrapper.dispose(this.outputSubscriptions[i]);this.outputSubscriptions[i]=null;}}};AbstractChangeDetector.prototype.getDirectiveFor=function(directives,index){return directives.getDirectiveFor(this.directiveIndices[index]);};AbstractChangeDetector.prototype.getDetectorFor=function(directives,index){return directives.getDetectorFor(this.directiveIndices[index]);};AbstractChangeDetector.prototype.notifyDispatcher=function(value){this.dispatcher.notifyOnBinding(this._currentBinding(),value);};AbstractChangeDetector.prototype.logBindingUpdate=function(value){this.dispatcher.logBindingUpdate(this._currentBinding(),value);};AbstractChangeDetector.prototype.addChange=function(changes,oldValue,newValue){if(lang_1.isBlank(changes)){changes={};}
changes[this._currentBinding().name]=change_detection_util_1.ChangeDetectionUtil.simpleChange(oldValue,newValue);return changes;};AbstractChangeDetector.prototype._throwError=function(exception,stack){var error;try{var c=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null);var context=lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.context,c.locals,c.injector,this._currentBinding().debug):null;error=new exceptions_1.ChangeDetectionError(this._currentBinding().debug,exception,stack,context);}catch(e){error=new exceptions_1.ChangeDetectionError(null,exception,stack,null);}
throw error;};AbstractChangeDetector.prototype.throwOnChangeError=function(oldValue,newValue){throw new exceptions_1.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,oldValue,newValue,null);};AbstractChangeDetector.prototype.throwDehydratedError=function(detail){throw new exceptions_1.DehydratedException(detail);};AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex];};return AbstractChangeDetector;})();exports.AbstractChangeDetector=AbstractChangeDetector;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/change_detection_jit_generator",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/proto_record","angular2/src/core/change_detection/codegen_name_util","angular2/src/core/change_detection/codegen_logic_util","angular2/src/core/change_detection/codegen_facade","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_change_detector"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var codegen_name_util_1=require("angular2/src/core/change_detection/codegen_name_util");var codegen_logic_util_1=require("angular2/src/core/change_detection/codegen_logic_util");var codegen_facade_1=require("angular2/src/core/change_detection/codegen_facade");var constants_1=require("angular2/src/core/change_detection/constants");var proto_change_detector_1=require("angular2/src/core/change_detection/proto_change_detector");var IS_CHANGED_LOCAL="isChanged";var CHANGES_LOCAL="changes";var ChangeDetectorJITGenerator=(function(){function ChangeDetectorJITGenerator(definition,changeDetectionUtilVarName,abstractChangeDetectorVarName,changeDetectorStateVarName){this.changeDetectionUtilVarName=changeDetectionUtilVarName;this.abstractChangeDetectorVarName=abstractChangeDetectorVarName;this.changeDetectorStateVarName=changeDetectorStateVarName;var propertyBindingRecords=proto_change_detector_1.createPropertyRecords(definition);var eventBindingRecords=proto_change_detector_1.createEventRecords(definition);var propertyBindingTargets=definition.bindingRecords.map(function(b){return b.target;});this.id=definition.id;this.changeDetectionStrategy=definition.strategy;this.genConfig=definition.genConfig;this.records=propertyBindingRecords;this.propertyBindingTargets=propertyBindingTargets;this.eventBindings=eventBindingRecords;this.directiveRecords=definition.directiveRecords;this._names=new codegen_name_util_1.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName);this._logic=new codegen_logic_util_1.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName);this.typeName=codegen_name_util_1.sanitizeName("ChangeDetector_"+this.id);}
ChangeDetectorJITGenerator.prototype.generate=function(){var factorySource="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,factorySource)(abstract_change_detector_1.AbstractChangeDetector,change_detection_util_1.ChangeDetectionUtil,constants_1.ChangeDetectorState);};ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+codegen_facade_1.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+IS_CHANGED_LOCAL+" = false;\n        var "+CHANGES_LOCAL+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    ";};ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var targets=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+targets+";";};ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var indices=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+indices+";";};ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var _this=this;if(this.eventBindings.length>0){var handlers=this.eventBindings.map(function(eb){return _this._genEventBinding(eb);}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+handlers+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      ";}else{return'';}};ChangeDetectorJITGenerator.prototype._genEventBinding=function(eb){var _this=this;var codes=[];this._endOfBlockIdxs=[];collection_1.ListWrapper.forEachWithIndex(eb.records,function(r,i){var code;if(r.isConditionalSkipRecord()){code=_this._genConditionalSkip(r,_this._names.getEventLocalName(eb,i));}else if(r.isUnconditionalSkipRecord()){code=_this._genUnconditionalSkip(r);}else{code=_this._genEventBindingEval(eb,r);}
code+=_this._genEndOfSkipBlock(i);codes.push(code);});return"\n    if (eventName === \""+eb.eventName+"\" && elIndex === "+eb.elIndex+") {\n      "+codes.join("\n")+"\n    }";};ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(eb,r){if(r.lastInBinding){var evalRecord=this._logic.genEventBindingEvalValue(eb,r);var markPath=this._genMarkPathToRootAsCheckOnce(r);var prevDefault=this._genUpdatePreventDefault(eb,r);return markPath+"\n"+evalRecord+"\n"+prevDefault;}else{return this._logic.genEventBindingEvalValue(eb,r);}};ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(r){var br=r.bindingRecord;if(br.isDefaultChangeDetection()){return"";}else{return this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();";}};ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(eb,r){var local=this._names.getEventLocalName(eb,r.selfIndex);return"if ("+local+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};";};ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var destroyPipesCode=this._names.genPipeOnDestroy();var destroyDirectivesCode=this._logic.genDirectivesOnDestroy(this.directiveRecords);var dehydrateFieldsCode=this._names.genDehydrateFields();if(!destroyPipesCode&&!destroyDirectivesCode&&!dehydrateFieldsCode)
return'';return this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+destroyPipesCode+"\n          "+destroyDirectivesCode+"\n        }\n        "+dehydrateFieldsCode+"\n    }";};ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var hydrateDirectivesCode=this._logic.genHydrateDirectives(this.directiveRecords);var hydrateDetectorsCode=this._logic.genHydrateDetectors(this.directiveRecords);if(!hydrateDirectivesCode&&!hydrateDetectorsCode)
return'';return this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+hydrateDirectivesCode+"\n      "+hydrateDetectorsCode+"\n    }";};ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var notifications=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      ";}else{return'';}};ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var notifications=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      ";}else{return'';}};ChangeDetectorJITGenerator.prototype._genAllRecords=function(rs){var codes=[];this._endOfBlockIdxs=[];for(var i=0;i<rs.length;i++){var code=void 0;var r=rs[i];if(r.isLifeCycleRecord()){code=this._genDirectiveLifecycle(r);}else if(r.isPipeRecord()){code=this._genPipeCheck(r);}else if(r.isConditionalSkipRecord()){code=this._genConditionalSkip(r,this._names.getLocalName(r.contextIndex));}else if(r.isUnconditionalSkipRecord()){code=this._genUnconditionalSkip(r);}else{code=this._genReferenceCheck(r);}
code="\n        "+this._maybeFirstInBinding(r)+"\n        "+code+"\n        "+this._maybeGenLastInDirective(r)+"\n        "+this._genEndOfSkipBlock(i)+"\n      ";codes.push(code);}
return codes.join("\n");};ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(r,condition){var maybeNegate=r.mode===proto_record_1.RecordType.SkipRecordsIf?'!':'';this._endOfBlockIdxs.push(r.fixedArgs[0]-1);return"if ("+maybeNegate+condition+") {";};ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(r){this._endOfBlockIdxs.pop();this._endOfBlockIdxs.push(r.fixedArgs[0]-1);return"} else {";};ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(protoIndex){if(!collection_1.ListWrapper.isEmpty(this._endOfBlockIdxs)){var endOfBlock=collection_1.ListWrapper.last(this._endOfBlockIdxs);if(protoIndex===endOfBlock){this._endOfBlockIdxs.pop();return'}';}}
return'';};ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(r){if(r.name==="DoCheck"){return this._genOnCheck(r);}else if(r.name==="OnInit"){return this._genOnInit(r);}else if(r.name==="OnChanges"){return this._genOnChange(r);}else{throw new exceptions_1.BaseException("Unknown lifecycle event '"+r.name+"'");}};ChangeDetectorJITGenerator.prototype._genPipeCheck=function(r){var _this=this;var context=this._names.getLocalName(r.contextIndex);var argString=r.args.map(function(arg){return _this._names.getLocalName(arg);}).join(", ");var oldValue=this._names.getFieldName(r.selfIndex);var newValue=this._names.getLocalName(r.selfIndex);var pipe=this._names.getPipeName(r.selfIndex);var pipeName=r.name;var init="\n      if ("+pipe+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+pipe+" = "+this._names.getPipesAccessorName()+".get('"+pipeName+"');\n      }\n    ";var read=newValue+" = "+pipe+".pipe.transform("+context+", ["+argString+"]);";var contexOrArgCheck=r.args.map(function(a){return _this._names.getChangeName(a);});contexOrArgCheck.push(this._names.getChangeName(r.contextIndex));var condition="!"+pipe+".pure || ("+contexOrArgCheck.join(" || ")+")";var check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+newValue+" = "+this.changeDetectionUtilVarName+".unwrapValue("+newValue+")\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ";var genCode=r.shouldBeChecked()?""+read+check:read;if(r.isUsedByOtherRecord()){return init+" if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }";}else{return init+" if ("+condition+") { "+genCode+" }";}};ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(r){var _this=this;var oldValue=this._names.getFieldName(r.selfIndex);var newValue=this._names.getLocalName(r.selfIndex);var read="\n      "+this._logic.genPropertyBindingEvalValue(r)+"\n    ";var check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ";var genCode=r.shouldBeChecked()?""+read+check:read;if(r.isPureFunction()){var condition=r.args.map(function(a){return _this._names.getChangeName(a);}).join(" || ");if(r.isUsedByOtherRecord()){return"if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }";}else{return"if ("+condition+") { "+genCode+" }";}}else{return genCode;}};ChangeDetectorJITGenerator.prototype._genChangeMarker=function(r){return r.argumentToPureFunction?this._names.getChangeName(r.selfIndex)+" = true":"";};ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(r){if(!r.lastInBinding)
return"";var newValue=this._names.getLocalName(r.selfIndex);var notifyDebug=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+newValue+");":"";var br=r.bindingRecord;if(br.target.isDirective()){var directiveProperty=this._names.getDirectiveName(br.directiveRecord.directiveIndex)+"."+br.target.name;return"\n        "+directiveProperty+" = "+newValue+";\n        "+notifyDebug+"\n        "+IS_CHANGED_LOCAL+" = true;\n      ";}else{return"\n        this.notifyDispatcher("+newValue+");\n        "+notifyDebug+"\n      ";}};ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(oldValue,newValue){if(lang_1.assertionsEnabled()){return"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+oldValue+", "+newValue+")) {\n          this.throwOnChangeError("+oldValue+", "+newValue+");\n        }\n        ";}else{return'';}};ChangeDetectorJITGenerator.prototype._genAddToChanges=function(r){var newValue=this._names.getLocalName(r.selfIndex);var oldValue=this._names.getFieldName(r.selfIndex);if(!r.bindingRecord.callOnChanges())
return"";return CHANGES_LOCAL+" = this.addChange("+CHANGES_LOCAL+", "+oldValue+", "+newValue+");";};ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this.records,r.selfIndex-1);var firstInBinding=lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord;return firstInBinding&&!r.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+r.propertyBindingIndex+";":'';};ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(r){if(!r.lastInDirective)
return"";return"\n      "+CHANGES_LOCAL+" = null;\n      "+this._genNotifyOnPushDetectors(r)+"\n      "+IS_CHANGED_LOCAL+" = false;\n    ";};ChangeDetectorJITGenerator.prototype._genOnCheck=function(r){var br=r.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngDoCheck();";};ChangeDetectorJITGenerator.prototype._genOnInit=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnInit();";};ChangeDetectorJITGenerator.prototype._genOnChange=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+CHANGES_LOCAL+") "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnChanges("+CHANGES_LOCAL+");";};ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(r){var br=r.bindingRecord;if(!r.lastInDirective||br.isDefaultChangeDetection())
return"";var retVal="\n      if("+IS_CHANGED_LOCAL+") {\n        "+this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return retVal;};return ChangeDetectorJITGenerator;})();exports.ChangeDetectorJITGenerator=ChangeDetectorJITGenerator;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/view",["angular2/src/facade/collection","angular2/src/core/change_detection/change_detection","angular2/src/core/change_detection/interfaces","angular2/src/core/linker/element","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/render/api","angular2/src/core/linker/view_ref","angular2/src/core/pipes/pipes","angular2/src/core/render/util","angular2/src/core/change_detection/interfaces","angular2/src/core/pipes/pipes","angular2/src/core/linker/view_type"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var collection_1=require("angular2/src/facade/collection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var interfaces_1=require("angular2/src/core/change_detection/interfaces");var element_1=require("angular2/src/core/linker/element");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var api_1=require("angular2/src/core/render/api");var view_ref_1=require("angular2/src/core/linker/view_ref");var pipes_1=require("angular2/src/core/pipes/pipes");var util_1=require("angular2/src/core/render/util");var interfaces_2=require("angular2/src/core/change_detection/interfaces");exports.DebugContext=interfaces_2.DebugContext;var pipes_2=require("angular2/src/core/pipes/pipes");var view_type_1=require("angular2/src/core/linker/view_type");var REFLECT_PREFIX='ng-reflect-';var EMPTY_CONTEXT=lang_1.CONST_EXPR(new Object());var AppView=(function(){function AppView(proto,renderer,viewManager,projectableNodes,containerAppElement,imperativelyCreatedProviders,rootInjector,changeDetector){this.proto=proto;this.renderer=renderer;this.viewManager=viewManager;this.projectableNodes=projectableNodes;this.containerAppElement=containerAppElement;this.changeDetector=changeDetector;this.context=null;this.destroyed=false;this.ref=new view_ref_1.ViewRef_(this);var injectorWithHostBoundary=element_1.AppElement.getViewParentInjector(this.proto.type,containerAppElement,imperativelyCreatedProviders,rootInjector);this.parentInjector=injectorWithHostBoundary.injector;this.hostInjectorBoundary=injectorWithHostBoundary.hostInjectorBoundary;var pipes;var context;switch(proto.type){case view_type_1.ViewType.COMPONENT:pipes=new pipes_2.Pipes(proto.protoPipes,containerAppElement.getInjector());context=containerAppElement.getComponent();break;case view_type_1.ViewType.EMBEDDED:pipes=containerAppElement.parentView.pipes;context=containerAppElement.parentView.context;break;case view_type_1.ViewType.HOST:pipes=null;context=EMPTY_CONTEXT;break;}
this.pipes=pipes;this.context=context;}
AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,appElements){this.rootNodesOrAppElements=rootNodesOrAppElements;this.allNodes=allNodes;this.disposables=disposables;this.appElements=appElements;var localsMap=new collection_1.Map();collection_1.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(templateName,_){localsMap.set(templateName,null);});for(var i=0;i<appElements.length;i++){var appEl=appElements[i];var providerTokens=[];if(lang_1.isPresent(appEl.proto.protoInjector)){for(var j=0;j<appEl.proto.protoInjector.numberOfProviders;j++){providerTokens.push(appEl.proto.protoInjector.getProviderAtIndex(j).key.token);}}
collection_1.StringMapWrapper.forEach(appEl.proto.directiveVariableBindings,function(directiveIndex,name){if(lang_1.isBlank(directiveIndex)){localsMap.set(name,appEl.nativeElement);}else{localsMap.set(name,appEl.getDirectiveAtIndex(directiveIndex));}});this.renderer.setElementDebugInfo(appEl.nativeElement,new api_1.RenderDebugInfo(appEl.getInjector(),appEl.getComponent(),providerTokens,localsMap));}
var parentLocals=null;if(this.proto.type!==view_type_1.ViewType.COMPONENT){parentLocals=lang_1.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null;}
if(this.proto.type===view_type_1.ViewType.COMPONENT){this.containerAppElement.attachComponentView(this);this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector);}
this.locals=new change_detection_1.Locals(parentLocals,localsMap);this.changeDetector.hydrate(this.context,this.locals,this,this.pipes);this.viewManager.onViewCreated(this);};AppView.prototype.destroy=function(){if(this.destroyed){throw new exceptions_1.BaseException('This view has already been destroyed!');}
this.changeDetector.destroyRecursive();};AppView.prototype.notifyOnDestroy=function(){this.destroyed=true;var hostElement=this.proto.type===view_type_1.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(hostElement,this.allNodes);for(var i=0;i<this.disposables.length;i++){this.disposables[i]();}
this.viewManager.onViewDestroyed(this);};Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref;},enumerable:true,configurable:true});Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements);},enumerable:true,configurable:true});AppView.prototype.hasLocal=function(contextName){return collection_1.StringMapWrapper.contains(this.proto.templateVariableBindings,contextName);};AppView.prototype.setLocal=function(contextName,value){if(!this.hasLocal(contextName)){return;}
var templateName=this.proto.templateVariableBindings[contextName];this.locals.set(templateName,value);};AppView.prototype.notifyOnBinding=function(b,currentValue){if(b.isTextNode()){this.renderer.setText(this.allNodes[b.elementIndex],currentValue);}else{var nativeElement=this.appElements[b.elementIndex].nativeElement;if(b.isElementProperty()){this.renderer.setElementProperty(nativeElement,b.name,currentValue);}else if(b.isElementAttribute()){this.renderer.setElementAttribute(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue:null);}else if(b.isElementClass()){this.renderer.setElementClass(nativeElement,b.name,currentValue);}else if(b.isElementStyle()){var unit=lang_1.isPresent(b.unit)?b.unit:'';this.renderer.setElementStyle(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue+unit:null);}else{throw new exceptions_1.BaseException('Unsupported directive record');}}};AppView.prototype.logBindingUpdate=function(b,value){if(b.isDirective()||b.isElementProperty()){var nativeElement=this.appElements[b.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(nativeElement,""+REFLECT_PREFIX+util_1.camelCaseToDashCase(b.name),""+value);}};AppView.prototype.notifyAfterContentChecked=function(){var count=this.appElements.length;for(var i=count-1;i>=0;i--){this.appElements[i].ngAfterContentChecked();}};AppView.prototype.notifyAfterViewChecked=function(){var count=this.appElements.length;for(var i=count-1;i>=0;i--){this.appElements[i].ngAfterViewChecked();}};AppView.prototype.getDebugContext=function(appElement,elementIndex,directiveIndex){try{if(lang_1.isBlank(appElement)&&elementIndex<this.appElements.length){appElement=this.appElements[elementIndex];}
var container=this.containerAppElement;var element=lang_1.isPresent(appElement)?appElement.nativeElement:null;var componentElement=lang_1.isPresent(container)?container.nativeElement:null;var directive=lang_1.isPresent(directiveIndex)?appElement.getDirectiveAtIndex(directiveIndex):null;var injector=lang_1.isPresent(appElement)?appElement.getInjector():null;return new interfaces_1.DebugContext(element,componentElement,directive,this.context,_localsToStringMap(this.locals),injector);}catch(e){return null;}};AppView.prototype.getDirectiveFor=function(directive){return this.appElements[directive.elementIndex].getDirectiveAtIndex(directive.directiveIndex);};AppView.prototype.getDetectorFor=function(directive){var componentView=this.appElements[directive.elementIndex].componentView;return lang_1.isPresent(componentView)?componentView.changeDetector:null;};AppView.prototype.triggerEventHandlers=function(eventName,eventObj,boundElementIndex){return this.changeDetector.handleEvent(eventName,boundElementIndex,eventObj);};return AppView;})();exports.AppView=AppView;function _localsToStringMap(locals){var res={};var c=locals;while(lang_1.isPresent(c)){res=collection_1.StringMapWrapper.merge(res,collection_1.MapWrapper.toStringMap(c.current));c=c.parent;}
return res;}
var AppProtoView=(function(){function AppProtoView(type,protoPipes,templateVariableBindings){this.type=type;this.protoPipes=protoPipes;this.templateVariableBindings=templateVariableBindings;}
AppProtoView.create=function(metadataCache,type,pipes,templateVariableBindings){var protoPipes=null;if(lang_1.isPresent(pipes)&&pipes.length>0){var boundPipes=collection_1.ListWrapper.createFixedSize(pipes.length);for(var i=0;i<pipes.length;i++){boundPipes[i]=metadataCache.getResolvedPipeMetadata(pipes[i]);}
protoPipes=pipes_1.ProtoPipes.fromProviders(boundPipes);}
return new AppProtoView(type,protoPipes,templateVariableBindings);};return AppProtoView;})();exports.AppProtoView=AppProtoView;var HostViewFactory=(function(){function HostViewFactory(selector,viewFactory){this.selector=selector;this.viewFactory=viewFactory;}
HostViewFactory=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String,Function])],HostViewFactory);return HostViewFactory;})();exports.HostViewFactory=HostViewFactory;function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[]);}
exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes;function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof element_1.AppElement){var appEl=node;renderNodes.push(appEl.nativeElement);if(lang_1.isPresent(appEl.nestedViews)){for(var k=0;k<appEl.nestedViews.length;k++){_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes);}}}else{renderNodes.push(node);}}
return renderNodes;}
function findLastRenderNode(node){var lastNode;if(node instanceof element_1.AppElement){var appEl=node;lastNode=appEl.nativeElement;if(lang_1.isPresent(appEl.nestedViews)){for(var i=appEl.nestedViews.length-1;i>=0;i--){var nestedView=appEl.nestedViews[i];if(nestedView.rootNodesOrAppElements.length>0){lastNode=findLastRenderNode(nestedView.rootNodesOrAppElements[nestedView.rootNodesOrAppElements.length-1]);}}}}else{lastNode=node;}
return lastNode;}
exports.findLastRenderNode=findLastRenderNode;function checkSlotCount(componentName,expectedSlotCount,projectableNodes){var givenSlotCount=lang_1.isPresent(projectableNodes)?projectableNodes.length:0;if(givenSlotCount<expectedSlotCount){throw new exceptions_1.BaseException(("The component "+componentName+" has "+expectedSlotCount+" <ng-content> elements,")+(" but only "+givenSlotCount+" slots were provided."));}}
exports.checkSlotCount=checkSlotCount;global.define=__define;return module.exports;});System.register("angular2/src/core/application_common_providers",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/application_tokens","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/resolved_metadata_cache","angular2/src/core/linker/view_manager","angular2/src/core/linker/view_manager","angular2/src/core/linker/view_resolver","angular2/src/core/linker/directive_resolver","angular2/src/core/linker/pipe_resolver","angular2/src/core/linker/compiler","angular2/src/core/linker/compiler","angular2/src/core/linker/dynamic_component_loader","angular2/src/core/linker/dynamic_component_loader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var application_tokens_1=require("angular2/src/core/application_tokens");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache");var view_manager_1=require("angular2/src/core/linker/view_manager");var view_manager_2=require("angular2/src/core/linker/view_manager");var view_resolver_1=require("angular2/src/core/linker/view_resolver");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var compiler_1=require("angular2/src/core/linker/compiler");var compiler_2=require("angular2/src/core/linker/compiler");var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");var dynamic_component_loader_2=require("angular2/src/core/linker/dynamic_component_loader");exports.APPLICATION_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(compiler_1.Compiler,{useClass:compiler_2.Compiler_}),application_tokens_1.APP_ID_RANDOM_PROVIDER,resolved_metadata_cache_1.ResolvedMetadataCache,new di_1.Provider(view_manager_1.AppViewManager,{useClass:view_manager_2.AppViewManager_}),view_resolver_1.ViewResolver,new di_1.Provider(change_detection_1.IterableDiffers,{useValue:change_detection_1.defaultIterableDiffers}),new di_1.Provider(change_detection_1.KeyValueDiffers,{useValue:change_detection_1.defaultKeyValueDiffers}),directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,new di_1.Provider(dynamic_component_loader_1.DynamicComponentLoader,{useClass:dynamic_component_loader_2.DynamicComponentLoader_})]);global.define=__define;return module.exports;});System.register("angular2/src/core/di/provider",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/reflection/reflection","angular2/src/core/di/key","angular2/src/core/di/metadata","angular2/src/core/di/exceptions","angular2/src/core/di/forward_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var reflection_1=require("angular2/src/core/reflection/reflection");var key_1=require("angular2/src/core/di/key");var metadata_1=require("angular2/src/core/di/metadata");var exceptions_2=require("angular2/src/core/di/exceptions");var forward_ref_1=require("angular2/src/core/di/forward_ref");var Dependency=(function(){function Dependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key;this.optional=optional;this.lowerBoundVisibility=lowerBoundVisibility;this.upperBoundVisibility=upperBoundVisibility;this.properties=properties;}
Dependency.fromKey=function(key){return new Dependency(key,false,null,null,[]);};return Dependency;})();exports.Dependency=Dependency;var _EMPTY_LIST=lang_1.CONST_EXPR([]);var Provider=(function(){function Provider(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token;this.useClass=useClass;this.useValue=useValue;this.useExisting=useExisting;this.useFactory=useFactory;this.dependencies=deps;this._multi=multi;}
Object.defineProperty(Provider.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi);},enumerable:true,configurable:true});Provider=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object,Object])],Provider);return Provider;})();exports.Provider=Provider;var Binding=(function(_super){__extends(Binding,_super);function Binding(token,_a){var toClass=_a.toClass,toValue=_a.toValue,toAlias=_a.toAlias,toFactory=_a.toFactory,deps=_a.deps,multi=_a.multi;_super.call(this,token,{useClass:toClass,useValue:toValue,useExisting:toAlias,useFactory:toFactory,deps:deps,multi:multi});}
Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass;},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting;},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory;},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue;},enumerable:true,configurable:true});Binding=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object,Object])],Binding);return Binding;})(Provider);exports.Binding=Binding;var ResolvedProvider_=(function(){function ResolvedProvider_(key,resolvedFactories,multiProvider){this.key=key;this.resolvedFactories=resolvedFactories;this.multiProvider=multiProvider;}
Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0];},enumerable:true,configurable:true});return ResolvedProvider_;})();exports.ResolvedProvider_=ResolvedProvider_;var ResolvedFactory=(function(){function ResolvedFactory(factory,dependencies){this.factory=factory;this.dependencies=dependencies;}
return ResolvedFactory;})();exports.ResolvedFactory=ResolvedFactory;function bind(token){return new ProviderBuilder(token);}
exports.bind=bind;function provide(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;return new Provider(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi});}
exports.provide=provide;var ProviderBuilder=(function(){function ProviderBuilder(token){this.token=token;}
ProviderBuilder.prototype.toClass=function(type){if(!lang_1.isType(type)){throw new exceptions_1.BaseException("Trying to create a class provider but \""+lang_1.stringify(type)+"\" is not a class!");}
return new Provider(this.token,{useClass:type});};ProviderBuilder.prototype.toValue=function(value){return new Provider(this.token,{useValue:value});};ProviderBuilder.prototype.toAlias=function(aliasToken){if(lang_1.isBlank(aliasToken)){throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!");}
return new Provider(this.token,{useExisting:aliasToken});};ProviderBuilder.prototype.toFactory=function(factory,dependencies){if(!lang_1.isFunction(factory)){throw new exceptions_1.BaseException("Trying to create a factory provider but \""+lang_1.stringify(factory)+"\" is not a function!");}
return new Provider(this.token,{useFactory:factory,deps:dependencies});};return ProviderBuilder;})();exports.ProviderBuilder=ProviderBuilder;function resolveFactory(provider){var factoryFn;var resolvedDeps;if(lang_1.isPresent(provider.useClass)){var useClass=forward_ref_1.resolveForwardRef(provider.useClass);factoryFn=reflection_1.reflector.factory(useClass);resolvedDeps=_dependenciesFor(useClass);}else if(lang_1.isPresent(provider.useExisting)){factoryFn=function(aliasInstance){return aliasInstance;};resolvedDeps=[Dependency.fromKey(key_1.Key.get(provider.useExisting))];}else if(lang_1.isPresent(provider.useFactory)){factoryFn=provider.useFactory;resolvedDeps=_constructDependencies(provider.useFactory,provider.dependencies);}else{factoryFn=function(){return provider.useValue;};resolvedDeps=_EMPTY_LIST;}
return new ResolvedFactory(factoryFn,resolvedDeps);}
exports.resolveFactory=resolveFactory;function resolveProvider(provider){return new ResolvedProvider_(key_1.Key.get(provider.token),[resolveFactory(provider)],provider.multi);}
exports.resolveProvider=resolveProvider;function resolveProviders(providers){var normalized=_normalizeProviders(providers,[]);var resolved=normalized.map(resolveProvider);return collection_1.MapWrapper.values(mergeResolvedProviders(resolved,new Map()));}
exports.resolveProviders=resolveProviders;function mergeResolvedProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i];var existing=normalizedProvidersMap.get(provider.key.id);if(lang_1.isPresent(existing)){if(provider.multiProvider!==existing.multiProvider){throw new exceptions_2.MixingMultiProvidersWithRegularProvidersError(existing,provider);}
if(provider.multiProvider){for(var j=0;j<provider.resolvedFactories.length;j++){existing.resolvedFactories.push(provider.resolvedFactories[j]);}}else{normalizedProvidersMap.set(provider.key.id,provider);}}else{var resolvedProvider;if(provider.multiProvider){resolvedProvider=new ResolvedProvider_(provider.key,collection_1.ListWrapper.clone(provider.resolvedFactories),provider.multiProvider);}else{resolvedProvider=provider;}
normalizedProvidersMap.set(provider.key.id,resolvedProvider);}}
return normalizedProvidersMap;}
exports.mergeResolvedProviders=mergeResolvedProviders;function _normalizeProviders(providers,res){providers.forEach(function(b){if(b instanceof lang_1.Type){res.push(provide(b,{useClass:b}));}else if(b instanceof Provider){res.push(b);}else if(b instanceof Array){_normalizeProviders(b,res);}else if(b instanceof ProviderBuilder){throw new exceptions_2.InvalidProviderError(b.token);}else{throw new exceptions_2.InvalidProviderError(b);}});return res;}
function _constructDependencies(factoryFunction,dependencies){if(lang_1.isBlank(dependencies)){return _dependenciesFor(factoryFunction);}else{var params=dependencies.map(function(t){return[t];});return dependencies.map(function(t){return _extractToken(factoryFunction,t,params);});}}
function _dependenciesFor(typeOrFunc){var params=reflection_1.reflector.parameters(typeOrFunc);if(lang_1.isBlank(params))
return[];if(params.some(lang_1.isBlank)){throw new exceptions_2.NoAnnotationError(typeOrFunc,params);}
return params.map(function(p){return _extractToken(typeOrFunc,p,params);});}
function _extractToken(typeOrFunc,metadata,params){var depProps=[];var token=null;var optional=false;if(!lang_1.isArray(metadata)){if(metadata instanceof metadata_1.InjectMetadata){return _createDependency(metadata.token,optional,null,null,depProps);}else{return _createDependency(metadata,optional,null,null,depProps);}}
var lowerBoundVisibility=null;var upperBoundVisibility=null;for(var i=0;i<metadata.length;++i){var paramMetadata=metadata[i];if(paramMetadata instanceof lang_1.Type){token=paramMetadata;}else if(paramMetadata instanceof metadata_1.InjectMetadata){token=paramMetadata.token;}else if(paramMetadata instanceof metadata_1.OptionalMetadata){optional=true;}else if(paramMetadata instanceof metadata_1.SelfMetadata){upperBoundVisibility=paramMetadata;}else if(paramMetadata instanceof metadata_1.HostMetadata){upperBoundVisibility=paramMetadata;}else if(paramMetadata instanceof metadata_1.SkipSelfMetadata){lowerBoundVisibility=paramMetadata;}else if(paramMetadata instanceof metadata_1.DependencyMetadata){if(lang_1.isPresent(paramMetadata.token)){token=paramMetadata.token;}
depProps.push(paramMetadata);}}
token=forward_ref_1.resolveForwardRef(token);if(lang_1.isPresent(token)){return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps);}else{throw new exceptions_2.NoAnnotationError(typeOrFunc,params);}}
function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new Dependency(key_1.Key.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps);}
global.define=__define;return module.exports;});System.register("angular2/src/animate/animation_builder",["angular2/src/core/di","angular2/src/animate/css_animation_builder","angular2/src/animate/browser_details"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var css_animation_builder_1=require("angular2/src/animate/css_animation_builder");var browser_details_1=require("angular2/src/animate/browser_details");var AnimationBuilder=(function(){function AnimationBuilder(browserDetails){this.browserDetails=browserDetails;}
AnimationBuilder.prototype.css=function(){return new css_animation_builder_1.CssAnimationBuilder(this.browserDetails);};AnimationBuilder=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[browser_details_1.BrowserDetails])],AnimationBuilder);return AnimationBuilder;})();exports.AnimationBuilder=AnimationBuilder;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/dynamic_change_detector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_record","angular2/src/core/reflection/reflection","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var constants_1=require("angular2/src/core/change_detection/constants");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var reflection_1=require("angular2/src/core/reflection/reflection");var async_1=require("angular2/src/facade/async");var DynamicChangeDetector=(function(_super){__extends(DynamicChangeDetector,_super);function DynamicChangeDetector(id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy,_records,_eventBindings,_directiveRecords,_genConfig){_super.call(this,id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy);this._records=_records;this._eventBindings=_eventBindings;this._directiveRecords=_directiveRecords;this._genConfig=_genConfig;var len=_records.length+1;this.values=collection_1.ListWrapper.createFixedSize(len);this.localPipes=collection_1.ListWrapper.createFixedSize(len);this.prevContexts=collection_1.ListWrapper.createFixedSize(len);this.changes=collection_1.ListWrapper.createFixedSize(len);this.dehydrateDirectives(false);}
DynamicChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){var _this=this;var preventDefault=false;this._matchingEventBindings(eventName,elIndex).forEach(function(rec){var res=_this._processEventBinding(rec,locals);if(res===false){preventDefault=true;}});return preventDefault;};DynamicChangeDetector.prototype._processEventBinding=function(eb,locals){var values=collection_1.ListWrapper.createFixedSize(eb.records.length);values[0]=this.values[0];for(var protoIdx=0;protoIdx<eb.records.length;++protoIdx){var proto=eb.records[protoIdx];if(proto.isSkipRecord()){protoIdx+=this._computeSkipLength(protoIdx,proto,values);}else{if(proto.lastInBinding){this._markPathAsCheckOnce(proto);}
var res=this._calculateCurrValue(proto,values,locals);if(proto.lastInBinding){return res;}else{this._writeSelf(proto,res,values);}}}
throw new exceptions_1.BaseException("Cannot be reached");};DynamicChangeDetector.prototype._computeSkipLength=function(protoIndex,proto,values){if(proto.mode===proto_record_1.RecordType.SkipRecords){return proto.fixedArgs[0]-protoIndex-1;}
if(proto.mode===proto_record_1.RecordType.SkipRecordsIf){var condition=this._readContext(proto,values);return condition?proto.fixedArgs[0]-protoIndex-1:0;}
if(proto.mode===proto_record_1.RecordType.SkipRecordsIfNot){var condition=this._readContext(proto,values);return condition?0:proto.fixedArgs[0]-protoIndex-1;}
throw new exceptions_1.BaseException("Cannot be reached");};DynamicChangeDetector.prototype._markPathAsCheckOnce=function(proto){if(!proto.bindingRecord.isDefaultChangeDetection()){var dir=proto.bindingRecord.directiveRecord;this._getDetectorFor(dir.directiveIndex).markPathToRootAsCheckOnce();}};DynamicChangeDetector.prototype._matchingEventBindings=function(eventName,elIndex){return this._eventBindings.filter(function(eb){return eb.eventName==eventName&&eb.elIndex===elIndex;});};DynamicChangeDetector.prototype.hydrateDirectives=function(dispatcher){var _this=this;this.values[0]=this.context;this.dispatcher=dispatcher;this.outputSubscriptions=[];for(var i=0;i<this._directiveRecords.length;++i){var r=this._directiveRecords[i];if(lang_1.isPresent(r.outputs)){r.outputs.forEach(function(output){var eventHandler=_this._createEventHandler(r.directiveIndex.elementIndex,output[1]);var directive=_this._getDirectiveFor(r.directiveIndex);var getter=reflection_1.reflector.getter(output[0]);_this.outputSubscriptions.push(async_1.ObservableWrapper.subscribe(getter(directive),eventHandler));});}}};DynamicChangeDetector.prototype._createEventHandler=function(boundElementIndex,eventName){var _this=this;return function(event){return _this.handleEvent(eventName,boundElementIndex,event);};};DynamicChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){if(destroyPipes){this._destroyPipes();this._destroyDirectives();}
this.values[0]=null;collection_1.ListWrapper.fill(this.values,change_detection_util_1.ChangeDetectionUtil.uninitialized,1);collection_1.ListWrapper.fill(this.changes,false);collection_1.ListWrapper.fill(this.localPipes,null);collection_1.ListWrapper.fill(this.prevContexts,change_detection_util_1.ChangeDetectionUtil.uninitialized);};DynamicChangeDetector.prototype._destroyPipes=function(){for(var i=0;i<this.localPipes.length;++i){if(lang_1.isPresent(this.localPipes[i])){change_detection_util_1.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[i]);}}};DynamicChangeDetector.prototype._destroyDirectives=function(){for(var i=0;i<this._directiveRecords.length;++i){var record=this._directiveRecords[i];if(record.callOnDestroy){this._getDirectiveFor(record.directiveIndex).ngOnDestroy();}}};DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(true);};DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){var protos=this._records;var changes=null;var isChanged=false;for(var protoIdx=0;protoIdx<protos.length;++protoIdx){var proto=protos[protoIdx];var bindingRecord=proto.bindingRecord;var directiveRecord=bindingRecord.directiveRecord;if(this._firstInBinding(proto)){this.propertyBindingIndex=proto.propertyBindingIndex;}
if(proto.isLifeCycleRecord()){if(proto.name==="DoCheck"&&!throwOnChange){this._getDirectiveFor(directiveRecord.directiveIndex).ngDoCheck();}else if(proto.name==="OnInit"&&!throwOnChange&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(directiveRecord.directiveIndex).ngOnInit();}else if(proto.name==="OnChanges"&&lang_1.isPresent(changes)&&!throwOnChange){this._getDirectiveFor(directiveRecord.directiveIndex).ngOnChanges(changes);}}else if(proto.isSkipRecord()){protoIdx+=this._computeSkipLength(protoIdx,proto,this.values);}else{var change=this._check(proto,throwOnChange,this.values,this.locals);if(lang_1.isPresent(change)){this._updateDirectiveOrElement(change,bindingRecord);isChanged=true;changes=this._addChange(bindingRecord,change,changes);}}
if(proto.lastInDirective){changes=null;if(isChanged&&!bindingRecord.isDefaultChangeDetection()){this._getDetectorFor(directiveRecord.directiveIndex).markAsCheckOnce();}
isChanged=false;}}};DynamicChangeDetector.prototype._firstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this._records,r.selfIndex-1);return lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord;};DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){var dirs=this._directiveRecords;for(var i=dirs.length-1;i>=0;--i){var dir=dirs[i];if(dir.callAfterContentInit&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterContentInit();}
if(dir.callAfterContentChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterContentChecked();}}};DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){var dirs=this._directiveRecords;for(var i=dirs.length-1;i>=0;--i){var dir=dirs[i];if(dir.callAfterViewInit&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterViewInit();}
if(dir.callAfterViewChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterViewChecked();}}};DynamicChangeDetector.prototype._updateDirectiveOrElement=function(change,bindingRecord){if(lang_1.isBlank(bindingRecord.directiveRecord)){_super.prototype.notifyDispatcher.call(this,change.currentValue);}else{var directiveIndex=bindingRecord.directiveRecord.directiveIndex;bindingRecord.setter(this._getDirectiveFor(directiveIndex),change.currentValue);}
if(this._genConfig.logBindingUpdate){_super.prototype.logBindingUpdate.call(this,change.currentValue);}};DynamicChangeDetector.prototype._addChange=function(bindingRecord,change,changes){if(bindingRecord.callOnChanges()){return _super.prototype.addChange.call(this,changes,change.previousValue,change.currentValue);}else{return changes;}};DynamicChangeDetector.prototype._getDirectiveFor=function(directiveIndex){return this.dispatcher.getDirectiveFor(directiveIndex);};DynamicChangeDetector.prototype._getDetectorFor=function(directiveIndex){return this.dispatcher.getDetectorFor(directiveIndex);};DynamicChangeDetector.prototype._check=function(proto,throwOnChange,values,locals){if(proto.isPipeRecord()){return this._pipeCheck(proto,throwOnChange,values);}else{return this._referenceCheck(proto,throwOnChange,values,locals);}};DynamicChangeDetector.prototype._referenceCheck=function(proto,throwOnChange,values,locals){if(this._pureFuncAndArgsDidNotChange(proto)){this._setChanged(proto,false);return null;}
var currValue=this._calculateCurrValue(proto,values,locals);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values);var detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);if(throwOnChange)
this.throwOnChangeError(prevValue,currValue);this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return change;}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null;}}else{this._setChanged(proto,false);return null;}}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null;}};DynamicChangeDetector.prototype._calculateCurrValue=function(proto,values,locals){switch(proto.mode){case proto_record_1.RecordType.Self:return this._readContext(proto,values);case proto_record_1.RecordType.Const:return proto.funcOrValue;case proto_record_1.RecordType.PropertyRead:var context=this._readContext(proto,values);return proto.funcOrValue(context);case proto_record_1.RecordType.SafeProperty:var context=this._readContext(proto,values);return lang_1.isBlank(context)?null:proto.funcOrValue(context);case proto_record_1.RecordType.PropertyWrite:var context=this._readContext(proto,values);var value=this._readArgs(proto,values)[0];proto.funcOrValue(context,value);return value;case proto_record_1.RecordType.KeyedWrite:var context=this._readContext(proto,values);var key=this._readArgs(proto,values)[0];var value=this._readArgs(proto,values)[1];context[key]=value;return value;case proto_record_1.RecordType.Local:return locals.get(proto.name);case proto_record_1.RecordType.InvokeMethod:var context=this._readContext(proto,values);var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.SafeMethodInvoke:var context=this._readContext(proto,values);if(lang_1.isBlank(context)){return null;}
var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.KeyedRead:var arg=this._readArgs(proto,values)[0];return this._readContext(proto,values)[arg];case proto_record_1.RecordType.Chain:var args=this._readArgs(proto,values);return args[args.length-1];case proto_record_1.RecordType.InvokeClosure:return lang_1.FunctionWrapper.apply(this._readContext(proto,values),this._readArgs(proto,values));case proto_record_1.RecordType.Interpolate:case proto_record_1.RecordType.PrimitiveOp:case proto_record_1.RecordType.CollectionLiteral:return lang_1.FunctionWrapper.apply(proto.funcOrValue,this._readArgs(proto,values));default:throw new exceptions_1.BaseException("Unknown operation "+proto.mode);}};DynamicChangeDetector.prototype._pipeCheck=function(proto,throwOnChange,values){var context=this._readContext(proto,values);var selectedPipe=this._pipeFor(proto,context);if(!selectedPipe.pure||this._argsOrContextChanged(proto)){var args=this._readArgs(proto,values);var currValue=selectedPipe.pipe.transform(context,args);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values);var detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){currValue=change_detection_util_1.ChangeDetectionUtil.unwrapValue(currValue);if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);if(throwOnChange)
this.throwOnChangeError(prevValue,currValue);this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return change;}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null;}}else{this._setChanged(proto,false);return null;}}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null;}}};DynamicChangeDetector.prototype._pipeFor=function(proto,context){var storedPipe=this._readPipe(proto);if(lang_1.isPresent(storedPipe))
return storedPipe;var pipe=this.pipes.get(proto.name);this._writePipe(proto,pipe);return pipe;};DynamicChangeDetector.prototype._readContext=function(proto,values){if(proto.contextIndex==-1){return this._getDirectiveFor(proto.directiveIndex);}
return values[proto.contextIndex];};DynamicChangeDetector.prototype._readSelf=function(proto,values){return values[proto.selfIndex];};DynamicChangeDetector.prototype._writeSelf=function(proto,value,values){values[proto.selfIndex]=value;};DynamicChangeDetector.prototype._readPipe=function(proto){return this.localPipes[proto.selfIndex];};DynamicChangeDetector.prototype._writePipe=function(proto,value){this.localPipes[proto.selfIndex]=value;};DynamicChangeDetector.prototype._setChanged=function(proto,value){if(proto.argumentToPureFunction)
this.changes[proto.selfIndex]=value;};DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(proto){return proto.isPureFunction()&&!this._argsChanged(proto);};DynamicChangeDetector.prototype._argsChanged=function(proto){var args=proto.args;for(var i=0;i<args.length;++i){if(this.changes[args[i]]){return true;}}
return false;};DynamicChangeDetector.prototype._argsOrContextChanged=function(proto){return this._argsChanged(proto)||this.changes[proto.contextIndex];};DynamicChangeDetector.prototype._readArgs=function(proto,values){var res=collection_1.ListWrapper.createFixedSize(proto.args.length);var args=proto.args;for(var i=0;i<args.length;++i){res[i]=values[args[i]];}
return res;};return DynamicChangeDetector;})(abstract_change_detector_1.AbstractChangeDetector);exports.DynamicChangeDetector=DynamicChangeDetector;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/jit_proto_change_detector",["angular2/src/core/change_detection/change_detection_jit_generator"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var change_detection_jit_generator_1=require("angular2/src/core/change_detection/change_detection_jit_generator");var JitProtoChangeDetector=(function(){function JitProtoChangeDetector(definition){this.definition=definition;this._factory=this._createFactory(definition);}
JitProtoChangeDetector.isSupported=function(){return true;};JitProtoChangeDetector.prototype.instantiate=function(){return this._factory();};JitProtoChangeDetector.prototype._createFactory=function(definition){return new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,'util','AbstractChangeDetector','ChangeDetectorStatus').generate();};return JitProtoChangeDetector;})();exports.JitProtoChangeDetector=JitProtoChangeDetector;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/compiler",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/async","angular2/src/core/reflection/reflection","angular2/src/core/linker/view","angular2/src/core/linker/view_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var async_1=require("angular2/src/facade/async");var reflection_1=require("angular2/src/core/reflection/reflection");var view_1=require("angular2/src/core/linker/view");var view_ref_1=require("angular2/src/core/linker/view_ref");var Compiler=(function(){function Compiler(){}
return Compiler;})();exports.Compiler=Compiler;function isHostViewFactory(type){return type instanceof view_1.HostViewFactory;}
var Compiler_=(function(_super){__extends(Compiler_,_super);function Compiler_(){_super.apply(this,arguments);}
Compiler_.prototype.compileInHost=function(componentType){var metadatas=reflection_1.reflector.annotations(componentType);var hostViewFactory=metadatas.find(isHostViewFactory);if(lang_1.isBlank(hostViewFactory)){throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(componentType)+" found");}
return async_1.PromiseWrapper.resolve(new view_ref_1.HostViewFactoryRef_(hostViewFactory));};Compiler_.prototype.clearCache=function(){};Compiler_=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],Compiler_);return Compiler_;})(Compiler);exports.Compiler_=Compiler_;global.define=__define;return module.exports;});System.register("angular2/src/core/di/injector",["angular2/src/facade/collection","angular2/src/core/di/provider","angular2/src/core/di/exceptions","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di/key","angular2/src/core/di/metadata"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var provider_1=require("angular2/src/core/di/provider");var exceptions_1=require("angular2/src/core/di/exceptions");var lang_1=require("angular2/src/facade/lang");var exceptions_2=require("angular2/src/facade/exceptions");var key_1=require("angular2/src/core/di/key");var metadata_1=require("angular2/src/core/di/metadata");var _MAX_CONSTRUCTION_COUNTER=10;exports.UNDEFINED=lang_1.CONST_EXPR(new Object());(function(Visibility){Visibility[Visibility["Public"]=0]="Public";Visibility[Visibility["Private"]=1]="Private";Visibility[Visibility["PublicAndPrivate"]=2]="PublicAndPrivate";})(exports.Visibility||(exports.Visibility={}));var Visibility=exports.Visibility;function canSee(src,dst){return(src===dst)||(dst===Visibility.PublicAndPrivate||src===Visibility.PublicAndPrivate);}
var ProtoInjectorInlineStrategy=(function(){function ProtoInjectorInlineStrategy(protoEI,bwv){this.provider0=null;this.provider1=null;this.provider2=null;this.provider3=null;this.provider4=null;this.provider5=null;this.provider6=null;this.provider7=null;this.provider8=null;this.provider9=null;this.keyId0=null;this.keyId1=null;this.keyId2=null;this.keyId3=null;this.keyId4=null;this.keyId5=null;this.keyId6=null;this.keyId7=null;this.keyId8=null;this.keyId9=null;this.visibility0=null;this.visibility1=null;this.visibility2=null;this.visibility3=null;this.visibility4=null;this.visibility5=null;this.visibility6=null;this.visibility7=null;this.visibility8=null;this.visibility9=null;var length=bwv.length;if(length>0){this.provider0=bwv[0].provider;this.keyId0=bwv[0].getKeyId();this.visibility0=bwv[0].visibility;}
if(length>1){this.provider1=bwv[1].provider;this.keyId1=bwv[1].getKeyId();this.visibility1=bwv[1].visibility;}
if(length>2){this.provider2=bwv[2].provider;this.keyId2=bwv[2].getKeyId();this.visibility2=bwv[2].visibility;}
if(length>3){this.provider3=bwv[3].provider;this.keyId3=bwv[3].getKeyId();this.visibility3=bwv[3].visibility;}
if(length>4){this.provider4=bwv[4].provider;this.keyId4=bwv[4].getKeyId();this.visibility4=bwv[4].visibility;}
if(length>5){this.provider5=bwv[5].provider;this.keyId5=bwv[5].getKeyId();this.visibility5=bwv[5].visibility;}
if(length>6){this.provider6=bwv[6].provider;this.keyId6=bwv[6].getKeyId();this.visibility6=bwv[6].visibility;}
if(length>7){this.provider7=bwv[7].provider;this.keyId7=bwv[7].getKeyId();this.visibility7=bwv[7].visibility;}
if(length>8){this.provider8=bwv[8].provider;this.keyId8=bwv[8].getKeyId();this.visibility8=bwv[8].visibility;}
if(length>9){this.provider9=bwv[9].provider;this.keyId9=bwv[9].getKeyId();this.visibility9=bwv[9].visibility;}}
ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(index==0)
return this.provider0;if(index==1)
return this.provider1;if(index==2)
return this.provider2;if(index==3)
return this.provider3;if(index==4)
return this.provider4;if(index==5)
return this.provider5;if(index==6)
return this.provider6;if(index==7)
return this.provider7;if(index==8)
return this.provider8;if(index==9)
return this.provider9;throw new exceptions_1.OutOfBoundsError(index);};ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new InjectorInlineStrategy(injector,this);};return ProtoInjectorInlineStrategy;})();exports.ProtoInjectorInlineStrategy=ProtoInjectorInlineStrategy;var ProtoInjectorDynamicStrategy=(function(){function ProtoInjectorDynamicStrategy(protoInj,bwv){var len=bwv.length;this.providers=collection_1.ListWrapper.createFixedSize(len);this.keyIds=collection_1.ListWrapper.createFixedSize(len);this.visibilities=collection_1.ListWrapper.createFixedSize(len);for(var i=0;i<len;i++){this.providers[i]=bwv[i].provider;this.keyIds[i]=bwv[i].getKeyId();this.visibilities[i]=bwv[i].visibility;}}
ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(index<0||index>=this.providers.length){throw new exceptions_1.OutOfBoundsError(index);}
return this.providers[index];};ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new InjectorDynamicStrategy(this,ei);};return ProtoInjectorDynamicStrategy;})();exports.ProtoInjectorDynamicStrategy=ProtoInjectorDynamicStrategy;var ProtoInjector=(function(){function ProtoInjector(bwv){this.numberOfProviders=bwv.length;this._strategy=bwv.length>_MAX_CONSTRUCTION_COUNTER?new ProtoInjectorDynamicStrategy(this,bwv):new ProtoInjectorInlineStrategy(this,bwv);}
ProtoInjector.fromResolvedProviders=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public);});return new ProtoInjector(bd);};ProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index);};return ProtoInjector;})();exports.ProtoInjector=ProtoInjector;var InjectorInlineStrategy=(function(){function InjectorInlineStrategy(injector,protoStrategy){this.injector=injector;this.protoStrategy=protoStrategy;this.obj0=exports.UNDEFINED;this.obj1=exports.UNDEFINED;this.obj2=exports.UNDEFINED;this.obj3=exports.UNDEFINED;this.obj4=exports.UNDEFINED;this.obj5=exports.UNDEFINED;this.obj6=exports.UNDEFINED;this.obj7=exports.UNDEFINED;this.obj8=exports.UNDEFINED;this.obj9=exports.UNDEFINED;}
InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0;};InjectorInlineStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility);};InjectorInlineStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy;var inj=this.injector;if(p.keyId0===keyId&&canSee(p.visibility0,visibility)){if(this.obj0===exports.UNDEFINED){this.obj0=inj._new(p.provider0,p.visibility0);}
return this.obj0;}
if(p.keyId1===keyId&&canSee(p.visibility1,visibility)){if(this.obj1===exports.UNDEFINED){this.obj1=inj._new(p.provider1,p.visibility1);}
return this.obj1;}
if(p.keyId2===keyId&&canSee(p.visibility2,visibility)){if(this.obj2===exports.UNDEFINED){this.obj2=inj._new(p.provider2,p.visibility2);}
return this.obj2;}
if(p.keyId3===keyId&&canSee(p.visibility3,visibility)){if(this.obj3===exports.UNDEFINED){this.obj3=inj._new(p.provider3,p.visibility3);}
return this.obj3;}
if(p.keyId4===keyId&&canSee(p.visibility4,visibility)){if(this.obj4===exports.UNDEFINED){this.obj4=inj._new(p.provider4,p.visibility4);}
return this.obj4;}
if(p.keyId5===keyId&&canSee(p.visibility5,visibility)){if(this.obj5===exports.UNDEFINED){this.obj5=inj._new(p.provider5,p.visibility5);}
return this.obj5;}
if(p.keyId6===keyId&&canSee(p.visibility6,visibility)){if(this.obj6===exports.UNDEFINED){this.obj6=inj._new(p.provider6,p.visibility6);}
return this.obj6;}
if(p.keyId7===keyId&&canSee(p.visibility7,visibility)){if(this.obj7===exports.UNDEFINED){this.obj7=inj._new(p.provider7,p.visibility7);}
return this.obj7;}
if(p.keyId8===keyId&&canSee(p.visibility8,visibility)){if(this.obj8===exports.UNDEFINED){this.obj8=inj._new(p.provider8,p.visibility8);}
return this.obj8;}
if(p.keyId9===keyId&&canSee(p.visibility9,visibility)){if(this.obj9===exports.UNDEFINED){this.obj9=inj._new(p.provider9,p.visibility9);}
return this.obj9;}
return exports.UNDEFINED;};InjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(index==0)
return this.obj0;if(index==1)
return this.obj1;if(index==2)
return this.obj2;if(index==3)
return this.obj3;if(index==4)
return this.obj4;if(index==5)
return this.obj5;if(index==6)
return this.obj6;if(index==7)
return this.obj7;if(index==8)
return this.obj8;if(index==9)
return this.obj9;throw new exceptions_1.OutOfBoundsError(index);};InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER;};return InjectorInlineStrategy;})();exports.InjectorInlineStrategy=InjectorInlineStrategy;var InjectorDynamicStrategy=(function(){function InjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy;this.injector=injector;this.objs=collection_1.ListWrapper.createFixedSize(protoStrategy.providers.length);collection_1.ListWrapper.fill(this.objs,exports.UNDEFINED);}
InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0;};InjectorDynamicStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility);};InjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy;for(var i=0;i<p.keyIds.length;i++){if(p.keyIds[i]===keyId&&canSee(p.visibilities[i],visibility)){if(this.objs[i]===exports.UNDEFINED){this.objs[i]=this.injector._new(p.providers[i],p.visibilities[i]);}
return this.objs[i];}}
return exports.UNDEFINED;};InjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(index<0||index>=this.objs.length){throw new exceptions_1.OutOfBoundsError(index);}
return this.objs[index];};InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length;};return InjectorDynamicStrategy;})();exports.InjectorDynamicStrategy=InjectorDynamicStrategy;var ProviderWithVisibility=(function(){function ProviderWithVisibility(provider,visibility){this.provider=provider;this.visibility=visibility;};ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id;};return ProviderWithVisibility;})();exports.ProviderWithVisibility=ProviderWithVisibility;var Injector=(function(){function Injector(_proto,_parent,_isHostBoundary,_depProvider,_debugContext){if(_parent===void 0){_parent=null;}
if(_isHostBoundary===void 0){_isHostBoundary=false;}
if(_depProvider===void 0){_depProvider=null;}
if(_debugContext===void 0){_debugContext=null;}
this._isHostBoundary=_isHostBoundary;this._depProvider=_depProvider;this._debugContext=_debugContext;this._constructionCounter=0;this._proto=_proto;this._parent=_parent;this._strategy=_proto._strategy.createInjectorStrategy(this);}
Injector.resolve=function(providers){return provider_1.resolveProviders(providers);};Injector.resolveAndCreate=function(providers){var resolvedProviders=Injector.resolve(providers);return Injector.fromResolvedProviders(resolvedProviders);};Injector.fromResolvedProviders=function(providers){return new Injector(ProtoInjector.fromResolvedProviders(providers));};Injector.fromResolvedBindings=function(providers){return Injector.fromResolvedProviders(providers);};Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary;},enumerable:true,configurable:true});Injector.prototype.debugContext=function(){return this._debugContext();};Injector.prototype.get=function(token){return this._getByKey(key_1.Key.get(token),null,null,false,Visibility.PublicAndPrivate);};Injector.prototype.getOptional=function(token){return this._getByKey(key_1.Key.get(token),null,null,true,Visibility.PublicAndPrivate);};Injector.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index);};Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent;},enumerable:true,configurable:true});Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy;},enumerable:true,configurable:true});Injector.prototype.resolveAndCreateChild=function(providers){var resolvedProviders=Injector.resolve(providers);return this.createChildFromResolved(resolvedProviders);};Injector.prototype.createChildFromResolved=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public);});var proto=new ProtoInjector(bd);var inj=new Injector(proto);inj._parent=this;return inj;};Injector.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(Injector.resolve([provider])[0]);};Injector.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider,Visibility.PublicAndPrivate);};Injector.prototype._new=function(provider,visibility){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects()){throw new exceptions_1.CyclicDependencyError(this,provider.key);}
return this._instantiateProvider(provider,visibility);};Injector.prototype._instantiateProvider=function(provider,visibility){if(provider.multiProvider){var res=collection_1.ListWrapper.createFixedSize(provider.resolvedFactories.length);for(var i=0;i<provider.resolvedFactories.length;++i){res[i]=this._instantiate(provider,provider.resolvedFactories[i],visibility);}
return res;}else{return this._instantiate(provider,provider.resolvedFactories[0],visibility);}};Injector.prototype._instantiate=function(provider,resolvedFactory,visibility){var factory=resolvedFactory.factory;var deps=resolvedFactory.dependencies;var length=deps.length;var d0;var d1;var d2;var d3;var d4;var d5;var d6;var d7;var d8;var d9;var d10;var d11;var d12;var d13;var d14;var d15;var d16;var d17;var d18;var d19;try{d0=length>0?this._getByDependency(provider,deps[0],visibility):null;d1=length>1?this._getByDependency(provider,deps[1],visibility):null;d2=length>2?this._getByDependency(provider,deps[2],visibility):null;d3=length>3?this._getByDependency(provider,deps[3],visibility):null;d4=length>4?this._getByDependency(provider,deps[4],visibility):null;d5=length>5?this._getByDependency(provider,deps[5],visibility):null;d6=length>6?this._getByDependency(provider,deps[6],visibility):null;d7=length>7?this._getByDependency(provider,deps[7],visibility):null;d8=length>8?this._getByDependency(provider,deps[8],visibility):null;d9=length>9?this._getByDependency(provider,deps[9],visibility):null;d10=length>10?this._getByDependency(provider,deps[10],visibility):null;d11=length>11?this._getByDependency(provider,deps[11],visibility):null;d12=length>12?this._getByDependency(provider,deps[12],visibility):null;d13=length>13?this._getByDependency(provider,deps[13],visibility):null;d14=length>14?this._getByDependency(provider,deps[14],visibility):null;d15=length>15?this._getByDependency(provider,deps[15],visibility):null;d16=length>16?this._getByDependency(provider,deps[16],visibility):null;d17=length>17?this._getByDependency(provider,deps[17],visibility):null;d18=length>18?this._getByDependency(provider,deps[18],visibility):null;d19=length>19?this._getByDependency(provider,deps[19],visibility):null;}catch(e){if(e instanceof exceptions_1.AbstractProviderError||e instanceof exceptions_1.InstantiationError){e.addKey(this,provider.key);}
throw e;}
var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break;default:throw new exceptions_2.BaseException("Cannot instantiate '"+provider.key.displayName+"' because it has more than 20 dependencies");}}catch(e){throw new exceptions_1.InstantiationError(this,e,e.stack,provider.key);}
return obj;};Injector.prototype._getByDependency=function(provider,dep,providerVisibility){var special=lang_1.isPresent(this._depProvider)?this._depProvider.getDependency(this,provider,dep):exports.UNDEFINED;if(special!==exports.UNDEFINED){return special;}else{return this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional,providerVisibility);}};Injector.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,optional,providerVisibility){if(key===INJECTOR_KEY){return this;}
if(upperBoundVisibility instanceof metadata_1.SelfMetadata){return this._getByKeySelf(key,optional,providerVisibility);}else if(upperBoundVisibility instanceof metadata_1.HostMetadata){return this._getByKeyHost(key,optional,providerVisibility,lowerBoundVisibility);}else{return this._getByKeyDefault(key,optional,providerVisibility,lowerBoundVisibility);}};Injector.prototype._throwOrNull=function(key,optional){if(optional){return null;}else{throw new exceptions_1.NoProviderError(this,key);}};Injector.prototype._getByKeySelf=function(key,optional,providerVisibility){var obj=this._strategy.getObjByKeyId(key.id,providerVisibility);return(obj!==exports.UNDEFINED)?obj:this._throwOrNull(key,optional);};Injector.prototype._getByKeyHost=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){if(inj._isHostBoundary){return this._getPrivateDependency(key,optional,inj);}else{inj=inj._parent;}}
while(inj!=null){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)
return obj;if(lang_1.isPresent(inj._parent)&&inj._isHostBoundary){return this._getPrivateDependency(key,optional,inj);}else{inj=inj._parent;}}
return this._throwOrNull(key,optional);};Injector.prototype._getPrivateDependency=function(key,optional,inj){var obj=inj._parent._strategy.getObjByKeyId(key.id,Visibility.Private);return(obj!==exports.UNDEFINED)?obj:this._throwOrNull(key,optional);};Injector.prototype._getByKeyDefault=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public;inj=inj._parent;}
while(inj!=null){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)
return obj;providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public;inj=inj._parent;}
return this._throwOrNull(key,optional);};Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(b){return(" \""+b.key.displayName+"\" ");}).join(", ")+"])";},enumerable:true,configurable:true});Injector.prototype.toString=function(){return this.displayName;};return Injector;})();exports.Injector=Injector;var INJECTOR_KEY=key_1.Key.get(Injector);function _mapProviders(injector,fn){var res=[];for(var i=0;i<injector._proto.numberOfProviders;++i){res.push(fn(injector._proto.getProviderAtIndex(i)));}
return res;}
global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/proto_change_detector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/parser/ast","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/dynamic_change_detector","angular2/src/core/change_detection/directive_record","angular2/src/core/change_detection/event_binding","angular2/src/core/change_detection/coalesce","angular2/src/core/change_detection/proto_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var ast_1=require("angular2/src/core/change_detection/parser/ast");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var dynamic_change_detector_1=require("angular2/src/core/change_detection/dynamic_change_detector");var directive_record_1=require("angular2/src/core/change_detection/directive_record");var event_binding_1=require("angular2/src/core/change_detection/event_binding");var coalesce_1=require("angular2/src/core/change_detection/coalesce");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var DynamicProtoChangeDetector=(function(){function DynamicProtoChangeDetector(_definition){this._definition=_definition;this._propertyBindingRecords=createPropertyRecords(_definition);this._eventBindingRecords=createEventRecords(_definition);this._propertyBindingTargets=this._definition.bindingRecords.map(function(b){return b.target;});this._directiveIndices=this._definition.directiveRecords.map(function(d){return d.directiveIndex;});}
DynamicProtoChangeDetector.prototype.instantiate=function(){return new dynamic_change_detector_1.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig);};return DynamicProtoChangeDetector;})();exports.DynamicProtoChangeDetector=DynamicProtoChangeDetector;function createPropertyRecords(definition){var recordBuilder=new ProtoRecordBuilder();collection_1.ListWrapper.forEachWithIndex(definition.bindingRecords,function(b,index){return recordBuilder.add(b,definition.variableNames,index);});return coalesce_1.coalesce(recordBuilder.records);}
exports.createPropertyRecords=createPropertyRecords;function createEventRecords(definition){var varNames=collection_1.ListWrapper.concat(['$event'],definition.variableNames);return definition.eventRecords.map(function(er){var records=_ConvertAstIntoProtoRecords.create(er,varNames);var dirIndex=er.implicitReceiver instanceof directive_record_1.DirectiveIndex?er.implicitReceiver:null;return new event_binding_1.EventBinding(er.target.name,er.target.elementIndex,dirIndex,records);});}
exports.createEventRecords=createEventRecords;var ProtoRecordBuilder=(function(){function ProtoRecordBuilder(){this.records=[];}
ProtoRecordBuilder.prototype.add=function(b,variableNames,bindingIndex){var oldLast=collection_1.ListWrapper.last(this.records);if(lang_1.isPresent(oldLast)&&oldLast.bindingRecord.directiveRecord==b.directiveRecord){oldLast.lastInDirective=false;}
var numberOfRecordsBefore=this.records.length;this._appendRecords(b,variableNames,bindingIndex);var newLast=collection_1.ListWrapper.last(this.records);if(lang_1.isPresent(newLast)&&newLast!==oldLast){newLast.lastInBinding=true;newLast.lastInDirective=true;this._setArgumentToPureFunction(numberOfRecordsBefore);}};ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(startIndex){var _this=this;for(var i=startIndex;i<this.records.length;++i){var rec=this.records[i];if(rec.isPureFunction()){rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=true;});}
if(rec.mode===proto_record_1.RecordType.Pipe){rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=true;});this.records[rec.contextIndex-1].argumentToPureFunction=true;}}};ProtoRecordBuilder.prototype._appendRecords=function(b,variableNames,bindingIndex){if(b.isDirectiveLifecycle()){this.records.push(new proto_record_1.ProtoRecord(proto_record_1.RecordType.DirectiveLifecycle,b.lifecycleEvent,null,[],[],-1,null,this.records.length+1,b,false,false,false,false,null));}else{_ConvertAstIntoProtoRecords.append(this.records,b,variableNames,bindingIndex);}};return ProtoRecordBuilder;})();exports.ProtoRecordBuilder=ProtoRecordBuilder;var _ConvertAstIntoProtoRecords=(function(){function _ConvertAstIntoProtoRecords(_records,_bindingRecord,_variableNames,_bindingIndex){this._records=_records;this._bindingRecord=_bindingRecord;this._variableNames=_variableNames;this._bindingIndex=_bindingIndex;}
_ConvertAstIntoProtoRecords.append=function(records,b,variableNames,bindingIndex){var c=new _ConvertAstIntoProtoRecords(records,b,variableNames,bindingIndex);b.ast.visit(c);};_ConvertAstIntoProtoRecords.create=function(b,variableNames){var rec=[];_ConvertAstIntoProtoRecords.append(rec,b,variableNames,null);rec[rec.length-1].lastInBinding=true;return rec;};_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(ast){return this._bindingRecord.implicitReceiver;};_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(ast){var args=this._visitAll(ast.expressions);return this._addRecord(proto_record_1.RecordType.Interpolate,"interpolate",_interpolationFn(ast.strings),args,ast.strings,0);};_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(ast){return this._addRecord(proto_record_1.RecordType.Const,"literal",ast.value,[],null,0);};_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(ast){var receiver=ast.receiver.visit(this);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver){return this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver);}else{return this._addRecord(proto_record_1.RecordType.PropertyRead,ast.name,ast.getter,[],null,receiver);}};_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(ast){if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver){throw new exceptions_1.BaseException("Cannot reassign a variable binding "+ast.name);}else{var receiver=ast.receiver.visit(this);var value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.PropertyWrite,ast.name,ast.setter,[value],null,receiver);}};_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(ast){var obj=ast.obj.visit(this);var key=ast.key.visit(this);var value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedWrite,null,null,[key,value],null,obj);};_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(ast){var receiver=ast.receiver.visit(this);return this._addRecord(proto_record_1.RecordType.SafeProperty,ast.name,ast.getter,[],null,receiver);};_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(ast){var receiver=ast.receiver.visit(this);var args=this._visitAll(ast.args);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)){var target=this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target);}else{return this._addRecord(proto_record_1.RecordType.InvokeMethod,ast.name,ast.fn,args,null,receiver);}};_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(ast){var receiver=ast.receiver.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.SafeMethodInvoke,ast.name,ast.fn,args,null,receiver);};_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(ast){var target=ast.target.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target);};_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(ast){var primitiveName="arrayFn"+ast.expressions.length;return this._addRecord(proto_record_1.RecordType.CollectionLiteral,primitiveName,_arrayFn(ast.expressions.length),this._visitAll(ast.expressions),null,0);};_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(ast){return this._addRecord(proto_record_1.RecordType.CollectionLiteral,_mapPrimitiveName(ast.keys),change_detection_util_1.ChangeDetectionUtil.mapFn(ast.keys),this._visitAll(ast.values),null,0);};_ConvertAstIntoProtoRecords.prototype.visitBinary=function(ast){var left=ast.left.visit(this);switch(ast.operation){case'&&':var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],branchEnd,left);var right=ast.right.visit(this);branchEnd[0]=right;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,right,left],null,0);case'||':var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],branchEnd,left);var right=ast.right.visit(this);branchEnd[0]=right;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,left,right],null,0);default:var right=ast.right.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,_operationToPrimitiveName(ast.operation),_operationToFunction(ast.operation),[left,right],null,0);}};_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(ast){var exp=ast.expression.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"operation_negate",change_detection_util_1.ChangeDetectionUtil.operation_negate,[exp],null,0);};_ConvertAstIntoProtoRecords.prototype.visitConditional=function(ast){var condition=ast.condition.visit(this);var startOfFalseBranch=[null];var endOfFalseBranch=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],startOfFalseBranch,condition);var whenTrue=ast.trueExp.visit(this);var skip=this._addRecord(proto_record_1.RecordType.SkipRecords,"SkipRecords",null,[],endOfFalseBranch,0);var whenFalse=ast.falseExp.visit(this);startOfFalseBranch[0]=skip;endOfFalseBranch[0]=whenFalse;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[condition,whenTrue,whenFalse],null,0);};_ConvertAstIntoProtoRecords.prototype.visitPipe=function(ast){var value=ast.exp.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.Pipe,ast.name,ast.name,args,null,value);};_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(ast){var obj=ast.obj.visit(this);var key=ast.key.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedRead,"keyedAccess",change_detection_util_1.ChangeDetectionUtil.keyedAccess,[key],null,obj);};_ConvertAstIntoProtoRecords.prototype.visitChain=function(ast){var _this=this;var args=ast.expressions.map(function(e){return e.visit(_this);});return this._addRecord(proto_record_1.RecordType.Chain,"chain",null,args,null,0);};_ConvertAstIntoProtoRecords.prototype.visitQuote=function(ast){throw new exceptions_1.BaseException(("Caught uninterpreted expression at "+ast.location+": "+ast.uninterpretedExpression+". ")+("Expression prefix "+ast.prefix+" did not match a template transformer to interpret the expression."));};_ConvertAstIntoProtoRecords.prototype._visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this);}
return res;};_ConvertAstIntoProtoRecords.prototype._addRecord=function(type,name,funcOrValue,args,fixedArgs,context){var selfIndex=this._records.length+1;if(context instanceof directive_record_1.DirectiveIndex){this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,-1,context,selfIndex,this._bindingRecord,false,false,false,false,this._bindingIndex));}else{this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,context,null,selfIndex,this._bindingRecord,false,false,false,false,this._bindingIndex));}
return selfIndex;};return _ConvertAstIntoProtoRecords;})();function _arrayFn(length){switch(length){case 0:return change_detection_util_1.ChangeDetectionUtil.arrayFn0;case 1:return change_detection_util_1.ChangeDetectionUtil.arrayFn1;case 2:return change_detection_util_1.ChangeDetectionUtil.arrayFn2;case 3:return change_detection_util_1.ChangeDetectionUtil.arrayFn3;case 4:return change_detection_util_1.ChangeDetectionUtil.arrayFn4;case 5:return change_detection_util_1.ChangeDetectionUtil.arrayFn5;case 6:return change_detection_util_1.ChangeDetectionUtil.arrayFn6;case 7:return change_detection_util_1.ChangeDetectionUtil.arrayFn7;case 8:return change_detection_util_1.ChangeDetectionUtil.arrayFn8;case 9:return change_detection_util_1.ChangeDetectionUtil.arrayFn9;default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements");}}
function _mapPrimitiveName(keys){var stringifiedKeys=keys.map(function(k){return lang_1.isString(k)?"\""+k+"\"":""+k;}).join(', ');return"mapFn(["+stringifiedKeys+"])";}
function _operationToPrimitiveName(operation){switch(operation){case'+':return"operation_add";case'-':return"operation_subtract";case'*':return"operation_multiply";case'/':return"operation_divide";case'%':return"operation_remainder";case'==':return"operation_equals";case'!=':return"operation_not_equals";case'===':return"operation_identical";case'!==':return"operation_not_identical";case'<':return"operation_less_then";case'>':return"operation_greater_then";case'<=':return"operation_less_or_equals_then";case'>=':return"operation_greater_or_equals_then";default:throw new exceptions_1.BaseException("Unsupported operation "+operation);}}
function _operationToFunction(operation){switch(operation){case'+':return change_detection_util_1.ChangeDetectionUtil.operation_add;case'-':return change_detection_util_1.ChangeDetectionUtil.operation_subtract;case'*':return change_detection_util_1.ChangeDetectionUtil.operation_multiply;case'/':return change_detection_util_1.ChangeDetectionUtil.operation_divide;case'%':return change_detection_util_1.ChangeDetectionUtil.operation_remainder;case'==':return change_detection_util_1.ChangeDetectionUtil.operation_equals;case'!=':return change_detection_util_1.ChangeDetectionUtil.operation_not_equals;case'===':return change_detection_util_1.ChangeDetectionUtil.operation_identical;case'!==':return change_detection_util_1.ChangeDetectionUtil.operation_not_identical;case'<':return change_detection_util_1.ChangeDetectionUtil.operation_less_then;case'>':return change_detection_util_1.ChangeDetectionUtil.operation_greater_then;case'<=':return change_detection_util_1.ChangeDetectionUtil.operation_less_or_equals_then;case'>=':return change_detection_util_1.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new exceptions_1.BaseException("Unsupported operation "+operation);}}
function s(v){return lang_1.isPresent(v)?""+v:'';}
function _interpolationFn(strings){var length=strings.length;var c0=length>0?strings[0]:null;var c1=length>1?strings[1]:null;var c2=length>2?strings[2]:null;var c3=length>3?strings[3]:null;var c4=length>4?strings[4]:null;var c5=length>5?strings[5]:null;var c6=length>6?strings[6]:null;var c7=length>7?strings[7]:null;var c8=length>8?strings[8]:null;var c9=length>9?strings[9]:null;switch(length-1){case 1:return function(a1){return c0+s(a1)+c1;};case 2:return function(a1,a2){return c0+s(a1)+c1+s(a2)+c2;};case 3:return function(a1,a2,a3){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3;};case 4:return function(a1,a2,a3,a4){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4;};case 5:return function(a1,a2,a3,a4,a5){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5;};case 6:return function(a1,a2,a3,a4,a5,a6){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6;};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7;};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8;};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8+s(a9)+c9;};default:throw new exceptions_1.BaseException("Does not support more than 9 expressions");}}
global.define=__define;return module.exports;});System.register("angular2/src/core/linker/dynamic_component_loader",["angular2/src/core/di","angular2/src/core/linker/compiler","angular2/src/facade/lang","angular2/src/core/linker/view_manager"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var compiler_1=require("angular2/src/core/linker/compiler");var lang_1=require("angular2/src/facade/lang");var view_manager_1=require("angular2/src/core/linker/view_manager");var ComponentRef=(function(){function ComponentRef(){}
Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref;},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance;},enumerable:true,configurable:true});return ComponentRef;})();exports.ComponentRef=ComponentRef;var ComponentRef_=(function(_super){__extends(ComponentRef_,_super);function ComponentRef_(location,instance,componentType,injector,_dispose){_super.call(this);this._dispose=_dispose;this.location=location;this.instance=instance;this.componentType=componentType;this.injector=injector;}
Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType;},enumerable:true,configurable:true});ComponentRef_.prototype.dispose=function(){this._dispose();};return ComponentRef_;})(ComponentRef);exports.ComponentRef_=ComponentRef_;var DynamicComponentLoader=(function(){function DynamicComponentLoader(){}
return DynamicComponentLoader;})();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=(function(_super){__extends(DynamicComponentLoader_,_super);function DynamicComponentLoader_(_compiler,_viewManager){_super.call(this);this._compiler=_compiler;this._viewManager=_viewManager;}
DynamicComponentLoader_.prototype.loadAsRoot=function(type,overrideSelector,injector,onDispose,projectableNodes){var _this=this;return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var hostViewRef=_this._viewManager.createRootHostView(hostProtoViewRef,overrideSelector,injector,projectableNodes);var newLocation=_this._viewManager.getHostElement(hostViewRef);var component=_this._viewManager.getComponent(newLocation);var dispose=function(){if(lang_1.isPresent(onDispose)){onDispose();}
_this._viewManager.destroyRootHostView(hostViewRef);};return new ComponentRef_(newLocation,component,type,injector,dispose);});};DynamicComponentLoader_.prototype.loadIntoLocation=function(type,hostLocation,anchorName,providers,projectableNodes){if(providers===void 0){providers=null;}
if(projectableNodes===void 0){projectableNodes=null;}
return this.loadNextToLocation(type,this._viewManager.getNamedElementInComponentView(hostLocation,anchorName),providers,projectableNodes);};DynamicComponentLoader_.prototype.loadNextToLocation=function(type,location,providers,projectableNodes){var _this=this;if(providers===void 0){providers=null;}
if(projectableNodes===void 0){projectableNodes=null;}
return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var viewContainer=_this._viewManager.getViewContainer(location);var hostViewRef=viewContainer.createHostView(hostProtoViewRef,viewContainer.length,providers,projectableNodes);var newLocation=_this._viewManager.getHostElement(hostViewRef);var component=_this._viewManager.getComponent(newLocation);var dispose=function(){var index=viewContainer.indexOf(hostViewRef);if(!hostViewRef.destroyed&&index!==-1){viewContainer.remove(index);}};return new ComponentRef_(newLocation,component,type,null,dispose);});};DynamicComponentLoader_=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[compiler_1.Compiler,view_manager_1.AppViewManager])],DynamicComponentLoader_);return DynamicComponentLoader_;})(DynamicComponentLoader);exports.DynamicComponentLoader_=DynamicComponentLoader_;global.define=__define;return module.exports;});System.register("angular2/src/core/di",["angular2/src/core/di/metadata","angular2/src/core/di/decorators","angular2/src/core/di/forward_ref","angular2/src/core/di/injector","angular2/src/core/di/provider","angular2/src/core/di/key","angular2/src/core/di/exceptions","angular2/src/core/di/opaque_token"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
var metadata_1=require("angular2/src/core/di/metadata");exports.InjectMetadata=metadata_1.InjectMetadata;exports.OptionalMetadata=metadata_1.OptionalMetadata;exports.InjectableMetadata=metadata_1.InjectableMetadata;exports.SelfMetadata=metadata_1.SelfMetadata;exports.HostMetadata=metadata_1.HostMetadata;exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata;exports.DependencyMetadata=metadata_1.DependencyMetadata;__export(require("angular2/src/core/di/decorators"));var forward_ref_1=require("angular2/src/core/di/forward_ref");exports.forwardRef=forward_ref_1.forwardRef;exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=require("angular2/src/core/di/injector");exports.Injector=injector_1.Injector;var provider_1=require("angular2/src/core/di/provider");exports.Binding=provider_1.Binding;exports.ProviderBuilder=provider_1.ProviderBuilder;exports.ResolvedFactory=provider_1.ResolvedFactory;exports.Dependency=provider_1.Dependency;exports.bind=provider_1.bind;exports.Provider=provider_1.Provider;exports.provide=provider_1.provide;var key_1=require("angular2/src/core/di/key");exports.Key=key_1.Key;var exceptions_1=require("angular2/src/core/di/exceptions");exports.NoProviderError=exceptions_1.NoProviderError;exports.AbstractProviderError=exceptions_1.AbstractProviderError;exports.CyclicDependencyError=exceptions_1.CyclicDependencyError;exports.InstantiationError=exceptions_1.InstantiationError;exports.InvalidProviderError=exceptions_1.InvalidProviderError;exports.NoAnnotationError=exceptions_1.NoAnnotationError;exports.OutOfBoundsError=exceptions_1.OutOfBoundsError;var opaque_token_1=require("angular2/src/core/di/opaque_token");exports.OpaqueToken=opaque_token_1.OpaqueToken;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection/change_detection",["angular2/src/core/change_detection/differs/iterable_differs","angular2/src/core/change_detection/differs/default_iterable_differ","angular2/src/core/change_detection/differs/keyvalue_differs","angular2/src/core/change_detection/differs/default_keyvalue_differ","angular2/src/facade/lang","angular2/src/core/change_detection/differs/default_keyvalue_differ","angular2/src/core/change_detection/differs/default_iterable_differ","angular2/src/core/change_detection/parser/ast","angular2/src/core/change_detection/parser/lexer","angular2/src/core/change_detection/parser/parser","angular2/src/core/change_detection/parser/locals","angular2/src/core/change_detection/exceptions","angular2/src/core/change_detection/interfaces","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_change_detector","angular2/src/core/change_detection/jit_proto_change_detector","angular2/src/core/change_detection/binding_record","angular2/src/core/change_detection/directive_record","angular2/src/core/change_detection/dynamic_change_detector","angular2/src/core/change_detection/change_detector_ref","angular2/src/core/change_detection/differs/iterable_differs","angular2/src/core/change_detection/differs/keyvalue_differs","angular2/src/core/change_detection/change_detection_util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var iterable_differs_1=require("angular2/src/core/change_detection/differs/iterable_differs");var default_iterable_differ_1=require("angular2/src/core/change_detection/differs/default_iterable_differ");var keyvalue_differs_1=require("angular2/src/core/change_detection/differs/keyvalue_differs");var default_keyvalue_differ_1=require("angular2/src/core/change_detection/differs/default_keyvalue_differ");var lang_1=require("angular2/src/facade/lang");var default_keyvalue_differ_2=require("angular2/src/core/change_detection/differs/default_keyvalue_differ");exports.DefaultKeyValueDifferFactory=default_keyvalue_differ_2.DefaultKeyValueDifferFactory;exports.KeyValueChangeRecord=default_keyvalue_differ_2.KeyValueChangeRecord;var default_iterable_differ_2=require("angular2/src/core/change_detection/differs/default_iterable_differ");exports.DefaultIterableDifferFactory=default_iterable_differ_2.DefaultIterableDifferFactory;exports.CollectionChangeRecord=default_iterable_differ_2.CollectionChangeRecord;var ast_1=require("angular2/src/core/change_detection/parser/ast");exports.ASTWithSource=ast_1.ASTWithSource;exports.AST=ast_1.AST;exports.AstTransformer=ast_1.AstTransformer;exports.PropertyRead=ast_1.PropertyRead;exports.LiteralArray=ast_1.LiteralArray;exports.ImplicitReceiver=ast_1.ImplicitReceiver;var lexer_1=require("angular2/src/core/change_detection/parser/lexer");exports.Lexer=lexer_1.Lexer;var parser_1=require("angular2/src/core/change_detection/parser/parser");exports.Parser=parser_1.Parser;var locals_1=require("angular2/src/core/change_detection/parser/locals");exports.Locals=locals_1.Locals;var exceptions_1=require("angular2/src/core/change_detection/exceptions");exports.DehydratedException=exceptions_1.DehydratedException;exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException;exports.ChangeDetectionError=exceptions_1.ChangeDetectionError;var interfaces_1=require("angular2/src/core/change_detection/interfaces");exports.ChangeDetectorDefinition=interfaces_1.ChangeDetectorDefinition;exports.DebugContext=interfaces_1.DebugContext;exports.ChangeDetectorGenConfig=interfaces_1.ChangeDetectorGenConfig;var constants_1=require("angular2/src/core/change_detection/constants");exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES;var proto_change_detector_1=require("angular2/src/core/change_detection/proto_change_detector");exports.DynamicProtoChangeDetector=proto_change_detector_1.DynamicProtoChangeDetector;var jit_proto_change_detector_1=require("angular2/src/core/change_detection/jit_proto_change_detector");exports.JitProtoChangeDetector=jit_proto_change_detector_1.JitProtoChangeDetector;var binding_record_1=require("angular2/src/core/change_detection/binding_record");exports.BindingRecord=binding_record_1.BindingRecord;exports.BindingTarget=binding_record_1.BindingTarget;var directive_record_1=require("angular2/src/core/change_detection/directive_record");exports.DirectiveIndex=directive_record_1.DirectiveIndex;exports.DirectiveRecord=directive_record_1.DirectiveRecord;var dynamic_change_detector_1=require("angular2/src/core/change_detection/dynamic_change_detector");exports.DynamicChangeDetector=dynamic_change_detector_1.DynamicChangeDetector;var change_detector_ref_1=require("angular2/src/core/change_detection/change_detector_ref");exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var iterable_differs_2=require("angular2/src/core/change_detection/differs/iterable_differs");exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=require("angular2/src/core/change_detection/differs/keyvalue_differs");exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers;var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");exports.WrappedValue=change_detection_util_1.WrappedValue;exports.SimpleChange=change_detection_util_1.SimpleChange;exports.keyValDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_keyvalue_differ_1.DefaultKeyValueDifferFactory())]);exports.iterableDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_iterable_differ_1.DefaultIterableDifferFactory())]);exports.defaultIterableDiffers=lang_1.CONST_EXPR(new iterable_differs_1.IterableDiffers(exports.iterableDiff));exports.defaultKeyValueDiffers=lang_1.CONST_EXPR(new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff));global.define=__define;return module.exports;});System.register("angular2/src/core/application_ref",["angular2/src/core/zone/ng_zone","angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/application_tokens","angular2/src/facade/async","angular2/src/facade/collection","angular2/src/core/testability/testability","angular2/src/core/linker/dynamic_component_loader","angular2/src/facade/exceptions","angular2/src/core/console","angular2/src/core/profile/profile","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var ng_zone_1=require("angular2/src/core/zone/ng_zone");var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var application_tokens_1=require("angular2/src/core/application_tokens");var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var testability_1=require("angular2/src/core/testability/testability");var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");var exceptions_1=require("angular2/src/facade/exceptions");var console_1=require("angular2/src/core/console");var profile_1=require("angular2/src/core/profile/profile");var lang_2=require("angular2/src/facade/lang");function _componentProviders(appComponentType){return[di_1.provide(application_tokens_1.APP_COMPONENT,{useValue:appComponentType}),di_1.provide(application_tokens_1.APP_COMPONENT_REF_PROMISE,{useFactory:function(dynamicComponentLoader,appRef,injector){var ref;return dynamicComponentLoader.loadAsRoot(appComponentType,null,injector,function(){appRef._unloadComponent(ref);}).then(function(componentRef){ref=componentRef;var testability=injector.getOptional(testability_1.Testability);if(lang_1.isPresent(testability)){injector.get(testability_1.TestabilityRegistry).registerApplication(componentRef.location.nativeElement,testability);}
return componentRef;});},deps:[dynamic_component_loader_1.DynamicComponentLoader,ApplicationRef,di_1.Injector]}),di_1.provide(appComponentType,{useFactory:function(p){return p.then(function(ref){return ref.instance;});},deps:[application_tokens_1.APP_COMPONENT_REF_PROMISE]})];}
function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:lang_1.assertionsEnabled()});}
exports.createNgZone=createNgZone;var _platform;var _platformProviders;function platform(providers){lang_2.lockMode();if(lang_1.isPresent(_platform)){if(collection_1.ListWrapper.equals(_platformProviders,providers)){return _platform;}else{throw new exceptions_1.BaseException("platform cannot be initialized with different sets of providers.");}}else{return _createPlatform(providers);}}
exports.platform=platform;function disposePlatform(){if(lang_1.isPresent(_platform)){_platform.dispose();_platform=null;}}
exports.disposePlatform=disposePlatform;function _createPlatform(providers){_platformProviders=providers;var injector=di_1.Injector.resolveAndCreate(providers);_platform=new PlatformRef_(injector,function(){_platform=null;_platformProviders=null;});_runPlatformInitializers(injector);return _platform;}
function _runPlatformInitializers(injector){var inits=injector.getOptional(application_tokens_1.PLATFORM_INITIALIZER);if(lang_1.isPresent(inits))
inits.forEach(function(init){return init();});}
var PlatformRef=(function(){function PlatformRef(){}
Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw exceptions_1.unimplemented();},enumerable:true,configurable:true});;return PlatformRef;})();exports.PlatformRef=PlatformRef;var PlatformRef_=(function(_super){__extends(PlatformRef_,_super);function PlatformRef_(_injector,_dispose){_super.call(this);this._injector=_injector;this._dispose=_dispose;this._applications=[];this._disposeListeners=[];}
PlatformRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose);};Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector;},enumerable:true,configurable:true});PlatformRef_.prototype.application=function(providers){var app=this._initApp(createNgZone(),providers);if(async_1.PromiseWrapper.isPromise(app)){throw new exceptions_1.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.");}
return app;};PlatformRef_.prototype.asyncApplication=function(bindingFn,additionalProviders){var _this=this;var zone=createNgZone();var completer=async_1.PromiseWrapper.completer();if(bindingFn===null){completer.resolve(this._initApp(zone,additionalProviders));}else{zone.run(function(){async_1.PromiseWrapper.then(bindingFn(zone),function(providers){if(lang_1.isPresent(additionalProviders)){providers=collection_1.ListWrapper.concat(providers,additionalProviders);}
var promise=_this._initApp(zone,providers);completer.resolve(promise);});});}
return completer.promise;};PlatformRef_.prototype._initApp=function(zone,providers){var _this=this;var injector;var app;zone.run(function(){providers=collection_1.ListWrapper.concat(providers,[di_1.provide(ng_zone_1.NgZone,{useValue:zone}),di_1.provide(ApplicationRef,{useFactory:function(){return app;},deps:[]})]);var exceptionHandler;try{injector=_this.injector.resolveAndCreateChild(providers);exceptionHandler=injector.get(exceptions_1.ExceptionHandler);async_1.ObservableWrapper.subscribe(zone.onError,function(error){exceptionHandler.call(error.error,error.stackTrace);});}catch(e){if(lang_1.isPresent(exceptionHandler)){exceptionHandler.call(e,e.stack);}else{lang_1.print(e.toString());}}});app=new ApplicationRef_(this,zone,injector);this._applications.push(app);var promise=_runAppInitializers(injector);if(promise!==null){return async_1.PromiseWrapper.then(promise,function(_){return app;});}else{return app;}};PlatformRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(app){return app.dispose();});this._disposeListeners.forEach(function(dispose){return dispose();});this._dispose();};PlatformRef_.prototype._applicationDisposed=function(app){collection_1.ListWrapper.remove(this._applications,app);};return PlatformRef_;})(PlatformRef);exports.PlatformRef_=PlatformRef_;function _runAppInitializers(injector){var inits=injector.getOptional(application_tokens_1.APP_INITIALIZER);var promises=[];if(lang_1.isPresent(inits)){inits.forEach(function(init){var retVal=init();if(async_1.PromiseWrapper.isPromise(retVal)){promises.push(retVal);}});}
if(promises.length>0){return async_1.PromiseWrapper.all(promises);}else{return null;}}
var ApplicationRef=(function(){function ApplicationRef(){}
Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});;return ApplicationRef;})();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=(function(_super){__extends(ApplicationRef_,_super);function ApplicationRef_(_platform,_zone,_injector){var _this=this;_super.call(this);this._platform=_platform;this._zone=_zone;this._injector=_injector;this._bootstrapListeners=[];this._disposeListeners=[];this._rootComponents=[];this._rootComponentTypes=[];this._changeDetectorRefs=[];this._runningTick=false;this._enforceNoNewChanges=false;if(lang_1.isPresent(this._zone)){async_1.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(_){_this._zone.run(function(){_this.tick();});});}
this._enforceNoNewChanges=lang_1.assertionsEnabled();}
ApplicationRef_.prototype.registerBootstrapListener=function(listener){this._bootstrapListeners.push(listener);};ApplicationRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose);};ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector);};ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){collection_1.ListWrapper.remove(this._changeDetectorRefs,changeDetector);};ApplicationRef_.prototype.bootstrap=function(componentType,providers){var _this=this;var completer=async_1.PromiseWrapper.completer();this._zone.run(function(){var componentProviders=_componentProviders(componentType);if(lang_1.isPresent(providers)){componentProviders.push(providers);}
var exceptionHandler=_this._injector.get(exceptions_1.ExceptionHandler);_this._rootComponentTypes.push(componentType);try{var injector=_this._injector.resolveAndCreateChild(componentProviders);var compRefToken=injector.get(application_tokens_1.APP_COMPONENT_REF_PROMISE);var tick=function(componentRef){_this._loadComponent(componentRef);completer.resolve(componentRef);};var tickResult=async_1.PromiseWrapper.then(compRefToken,tick);async_1.PromiseWrapper.then(tickResult,null,function(err,stackTrace){completer.reject(err,stackTrace);exceptionHandler.call(err,stackTrace);});}catch(e){exceptionHandler.call(e,e.stack);completer.reject(e,e.stack);}});return completer.promise.then(function(ref){var c=_this._injector.get(console_1.Console);if(lang_1.assertionsEnabled()){c.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode.");}
return ref;});};ApplicationRef_.prototype._loadComponent=function(componentRef){var appChangeDetector=componentRef.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(appChangeDetector.ref);this.tick();this._rootComponents.push(componentRef);this._bootstrapListeners.forEach(function(listener){return listener(componentRef);});};ApplicationRef_.prototype._unloadComponent=function(componentRef){if(!collection_1.ListWrapper.contains(this._rootComponents,componentRef)){return;}
this.unregisterChangeDetector(componentRef.location.internalElement.parentView.changeDetector.ref);collection_1.ListWrapper.remove(this._rootComponents,componentRef);};Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector;},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone;},enumerable:true,configurable:true});ApplicationRef_.prototype.tick=function(){if(this._runningTick){throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively");}
var s=ApplicationRef_._tickScope();try{this._runningTick=true;this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges();});if(this._enforceNoNewChanges){this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges();});}}finally{this._runningTick=false;profile_1.wtfLeave(s);}};ApplicationRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(ref){return ref.dispose();});this._disposeListeners.forEach(function(dispose){return dispose();});this._platform._applicationDisposed(this);};Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes;},enumerable:true,configurable:true});ApplicationRef_._tickScope=profile_1.wtfCreateScope('ApplicationRef#tick()');return ApplicationRef_;})(ApplicationRef);exports.ApplicationRef_=ApplicationRef_;global.define=__define;return module.exports;});System.register("angular2/src/core/change_detection",["angular2/src/core/change_detection/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var change_detection_1=require("angular2/src/core/change_detection/change_detection");exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy;exports.ExpressionChangedAfterItHasBeenCheckedException=change_detection_1.ExpressionChangedAfterItHasBeenCheckedException;exports.ChangeDetectionError=change_detection_1.ChangeDetectionError;exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef;exports.WrappedValue=change_detection_1.WrappedValue;exports.SimpleChange=change_detection_1.SimpleChange;exports.IterableDiffers=change_detection_1.IterableDiffers;exports.KeyValueDiffers=change_detection_1.KeyValueDiffers;exports.CollectionChangeRecord=change_detection_1.CollectionChangeRecord;exports.KeyValueChangeRecord=change_detection_1.KeyValueChangeRecord;global.define=__define;return module.exports;});System.register("angular2/core",["angular2/src/core/metadata","angular2/src/core/util","angular2/src/core/prod_mode","angular2/src/core/di","angular2/src/facade/facade","angular2/src/facade/lang","angular2/src/core/application_ref","angular2/src/core/application_tokens","angular2/src/core/zone","angular2/src/core/render","angular2/src/core/linker","angular2/src/core/debug/debug_node","angular2/src/core/testability/testability","angular2/src/core/change_detection","angular2/src/core/platform_directives_and_pipes","angular2/src/core/platform_common_providers","angular2/src/core/application_common_providers","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
__export(require("angular2/src/core/metadata"));__export(require("angular2/src/core/util"));__export(require("angular2/src/core/prod_mode"));__export(require("angular2/src/core/di"));__export(require("angular2/src/facade/facade"));var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode;var application_ref_1=require("angular2/src/core/application_ref");exports.platform=application_ref_1.platform;exports.createNgZone=application_ref_1.createNgZone;exports.PlatformRef=application_ref_1.PlatformRef;exports.ApplicationRef=application_ref_1.ApplicationRef;var application_tokens_1=require("angular2/src/core/application_tokens");exports.APP_ID=application_tokens_1.APP_ID;exports.APP_COMPONENT=application_tokens_1.APP_COMPONENT;exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER;exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL;exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER;__export(require("angular2/src/core/zone"));__export(require("angular2/src/core/render"));__export(require("angular2/src/core/linker"));var debug_node_1=require("angular2/src/core/debug/debug_node");exports.DebugElement=debug_node_1.DebugElement;exports.DebugNode=debug_node_1.DebugNode;exports.asNativeElements=debug_node_1.asNativeElements;__export(require("angular2/src/core/testability/testability"));__export(require("angular2/src/core/change_detection"));__export(require("angular2/src/core/platform_directives_and_pipes"));__export(require("angular2/src/core/platform_common_providers"));__export(require("angular2/src/core/application_common_providers"));__export(require("angular2/src/core/reflection/reflection"));global.define=__define;return module.exports;});System.register("angular2/src/facade/async",["angular2/src/facade/lang","angular2/src/facade/promise","rxjs/Subject","rxjs/observable/PromiseObservable","rxjs/operator/toPromise","rxjs/Observable","rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var promise_1=require("angular2/src/facade/promise");exports.PromiseWrapper=promise_1.PromiseWrapper;exports.PromiseCompleter=promise_1.PromiseCompleter;var Subject_1=require("rxjs/Subject");var PromiseObservable_1=require("rxjs/observable/PromiseObservable");var toPromise_1=require("rxjs/operator/toPromise");var Observable_1=require("rxjs/Observable");exports.Observable=Observable_1.Observable;var Subject_2=require("rxjs/Subject");exports.Subject=Subject_2.Subject;var TimerWrapper=(function(){function TimerWrapper(){}
TimerWrapper.setTimeout=function(fn,millis){return lang_1.global.setTimeout(fn,millis);};TimerWrapper.clearTimeout=function(id){lang_1.global.clearTimeout(id);};TimerWrapper.setInterval=function(fn,millis){return lang_1.global.setInterval(fn,millis);};TimerWrapper.clearInterval=function(id){lang_1.global.clearInterval(id);};return TimerWrapper;})();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=(function(){function ObservableWrapper(){}
ObservableWrapper.subscribe=function(emitter,onNext,onError,onComplete){if(onComplete===void 0){onComplete=function(){};}
onError=(typeof onError==="function")&&onError||lang_1.noop;onComplete=(typeof onComplete==="function")&&onComplete||lang_1.noop;return emitter.subscribe({next:onNext,error:onError,complete:onComplete});};ObservableWrapper.isObservable=function(obs){return!!obs.subscribe;};ObservableWrapper.hasSubscribers=function(obs){return obs.observers.length>0;};ObservableWrapper.dispose=function(subscription){subscription.unsubscribe();};ObservableWrapper.callNext=function(emitter,value){emitter.next(value);};ObservableWrapper.callEmit=function(emitter,value){emitter.emit(value);};ObservableWrapper.callError=function(emitter,error){emitter.error(error);};ObservableWrapper.callComplete=function(emitter){emitter.complete();};ObservableWrapper.fromPromise=function(promise){return PromiseObservable_1.PromiseObservable.create(promise);};ObservableWrapper.toPromise=function(obj){return toPromise_1.toPromise.call(obj);};return ObservableWrapper;})();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=(function(_super){__extends(EventEmitter,_super);function EventEmitter(isAsync){if(isAsync===void 0){isAsync=true;}
_super.call(this);this._isAsync=isAsync;}
EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value);};EventEmitter.prototype.next=function(value){_super.prototype.next.call(this,value);};EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn;var errorFn=function(err){return null;};var completeFn=function(){return null;};if(generatorOrNext&&typeof generatorOrNext==='object'){schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value);});}:function(value){generatorOrNext.next(value);};if(generatorOrNext.error){errorFn=this._isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err);});}:function(err){generatorOrNext.error(err);};}
if(generatorOrNext.complete){completeFn=this._isAsync?function(){setTimeout(function(){return generatorOrNext.complete();});}:function(){generatorOrNext.complete();};}}else{schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext(value);});}:function(value){generatorOrNext(value);};if(error){errorFn=this._isAsync?function(err){setTimeout(function(){return error(err);});}:function(err){error(err);};}
if(complete){completeFn=this._isAsync?function(){setTimeout(function(){return complete();});}:function(){complete();};}}
return _super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn);};return EventEmitter;})(Subject_1.Subject);exports.EventEmitter=EventEmitter;global.define=__define;return module.exports;});System.register("angular2/src/core/metadata/directives",["angular2/src/facade/lang","angular2/src/core/di/metadata","angular2/src/core/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var metadata_1=require("angular2/src/core/di/metadata");var change_detection_1=require("angular2/src/core/change_detection");var DirectiveMetadata=(function(_super){__extends(DirectiveMetadata,_super);function DirectiveMetadata(_a){var _b=_a===void 0?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,bindings=_b.bindings,providers=_b.providers,exportAs=_b.exportAs,queries=_b.queries;_super.call(this);this.selector=selector;this._inputs=inputs;this._properties=properties;this._outputs=outputs;this._events=events;this.host=host;this.exportAs=exportAs;this.queries=queries;this._providers=providers;this._bindings=bindings;}
Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs;},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs;},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs;},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs;},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return lang_1.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers;},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers;},enumerable:true,configurable:true});DirectiveMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],DirectiveMetadata);return DirectiveMetadata;})(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=(function(_super){__extends(ComponentMetadata,_super);function ComponentMetadata(_a){var _b=_a===void 0?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,exportAs=_b.exportAs,moduleId=_b.moduleId,bindings=_b.bindings,providers=_b.providers,viewBindings=_b.viewBindings,viewProviders=_b.viewProviders,_c=_b.changeDetection,changeDetection=_c===void 0?change_detection_1.ChangeDetectionStrategy.Default:_c,queries=_b.queries,templateUrl=_b.templateUrl,template=_b.template,styleUrls=_b.styleUrls,styles=_b.styles,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation;_super.call(this,{selector:selector,inputs:inputs,outputs:outputs,properties:properties,events:events,host:host,exportAs:exportAs,bindings:bindings,providers:providers,queries:queries});this.changeDetection=changeDetection;this._viewProviders=viewProviders;this._viewBindings=viewBindings;this.templateUrl=templateUrl;this.template=template;this.styleUrls=styleUrls;this.styles=styles;this.directives=directives;this.pipes=pipes;this.encapsulation=encapsulation;this.moduleId=moduleId;}
Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return lang_1.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders;},enumerable:true,configurable:true});Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders;},enumerable:true,configurable:true});ComponentMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],ComponentMetadata);return ComponentMetadata;})(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=(function(_super){__extends(PipeMetadata,_super);function PipeMetadata(_a){var name=_a.name,pure=_a.pure;_super.call(this);this.name=name;this._pure=pure;}
Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return lang_1.isPresent(this._pure)?this._pure:true;},enumerable:true,configurable:true});PipeMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],PipeMetadata);return PipeMetadata;})(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=(function(){function InputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName;}
InputMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],InputMetadata);return InputMetadata;})();exports.InputMetadata=InputMetadata;var OutputMetadata=(function(){function OutputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName;}
OutputMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],OutputMetadata);return OutputMetadata;})();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=(function(){function HostBindingMetadata(hostPropertyName){this.hostPropertyName=hostPropertyName;}
HostBindingMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],HostBindingMetadata);return HostBindingMetadata;})();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=(function(){function HostListenerMetadata(eventName,args){this.eventName=eventName;this.args=args;}
HostListenerMetadata=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String,Array])],HostListenerMetadata);return HostListenerMetadata;})();exports.HostListenerMetadata=HostListenerMetadata;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/events/dom_events",["angular2/src/platform/dom/dom_adapter","angular2/core","angular2/src/platform/dom/events/event_manager"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var core_1=require("angular2/core");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var DomEventsPlugin=(function(_super){__extends(DomEventsPlugin,_super);function DomEventsPlugin(){_super.apply(this,arguments);}
DomEventsPlugin.prototype.supports=function(eventName){return true;};DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone();var outsideHandler=function(event){return zone.run(function(){return handler(event);});};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler);});};DomEventsPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){var element=dom_adapter_1.DOM.getGlobalEventTarget(target);var zone=this.manager.getZone();var outsideHandler=function(event){return zone.run(function(){return handler(event);});};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler);});};DomEventsPlugin=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],DomEventsPlugin);return DomEventsPlugin;})(event_manager_1.EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin;global.define=__define;return module.exports;});System.register("angular2/src/core/zone/ng_zone",["angular2/src/facade/async","angular2/src/core/zone/ng_zone_impl","angular2/src/facade/exceptions","angular2/src/core/zone/ng_zone_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var async_1=require("angular2/src/facade/async");var ng_zone_impl_1=require("angular2/src/core/zone/ng_zone_impl");var exceptions_1=require("angular2/src/facade/exceptions");var ng_zone_impl_2=require("angular2/src/core/zone/ng_zone_impl");exports.NgZoneError=ng_zone_impl_2.NgZoneError;var NgZone=(function(){function NgZone(_a){var _this=this;var _b=_a.enableLongStackTrace,enableLongStackTrace=_b===void 0?false:_b;this._hasPendingMicrotasks=false;this._hasPendingMacrotasks=false;this._isStable=true;this._nesting=0;this._onUnstable=new async_1.EventEmitter(false);this._onMicrotaskEmpty=new async_1.EventEmitter(false);this._onStable=new async_1.EventEmitter(false);this._onErrorEvents=new async_1.EventEmitter(false);this._zoneImpl=new ng_zone_impl_1.NgZoneImpl({trace:enableLongStackTrace,onEnter:function(){_this._nesting++;if(_this._isStable){_this._isStable=false;_this._onUnstable.emit(null);}},onLeave:function(){_this._nesting--;_this._checkStable();},setMicrotask:function(hasMicrotasks){_this._hasPendingMicrotasks=hasMicrotasks;_this._checkStable();},setMacrotask:function(hasMacrotasks){_this._hasPendingMacrotasks=hasMacrotasks;},onError:function(error){return _this._onErrorEvents.emit(error);}});}
NgZone.isInAngularZone=function(){return ng_zone_impl_1.NgZoneImpl.isInAngularZone();};NgZone.assertInAngularZone=function(){if(!ng_zone_impl_1.NgZoneImpl.isInAngularZone()){throw new exceptions_1.BaseException('Expected to be in Angular Zone, but it is not!');}};NgZone.assertNotInAngularZone=function(){if(ng_zone_impl_1.NgZoneImpl.isInAngularZone()){throw new exceptions_1.BaseException('Expected to not be in Angular Zone, but it is!');}};NgZone.prototype._checkStable=function(){var _this=this;if(this._nesting==0){if(!this._hasPendingMicrotasks&&!this._isStable){try{this._nesting++;this._onMicrotaskEmpty.emit(null);}finally{this._nesting--;if(!this._hasPendingMicrotasks){try{this.runOutsideAngular(function(){return _this._onStable.emit(null);});}finally{this._isStable=true;}}}}}};;Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable;},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty;},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable;},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents;},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks;},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks;},enumerable:true,configurable:true});NgZone.prototype.run=function(fn){return this._zoneImpl.runInner(fn);};NgZone.prototype.runOutsideAngular=function(fn){return this._zoneImpl.runOuter(fn);};return NgZone;})();exports.NgZone=NgZone;global.define=__define;return module.exports;});System.register("angular2/src/core/metadata",["angular2/src/core/metadata/di","angular2/src/core/metadata/directives","angular2/src/core/metadata/view","angular2/src/core/metadata/di","angular2/src/core/metadata/directives","angular2/src/core/metadata/view","angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/metadata/di");exports.QueryMetadata=di_1.QueryMetadata;exports.ContentChildrenMetadata=di_1.ContentChildrenMetadata;exports.ContentChildMetadata=di_1.ContentChildMetadata;exports.ViewChildrenMetadata=di_1.ViewChildrenMetadata;exports.ViewQueryMetadata=di_1.ViewQueryMetadata;exports.ViewChildMetadata=di_1.ViewChildMetadata;exports.AttributeMetadata=di_1.AttributeMetadata;var directives_1=require("angular2/src/core/metadata/directives");exports.ComponentMetadata=directives_1.ComponentMetadata;exports.DirectiveMetadata=directives_1.DirectiveMetadata;exports.PipeMetadata=directives_1.PipeMetadata;exports.InputMetadata=directives_1.InputMetadata;exports.OutputMetadata=directives_1.OutputMetadata;exports.HostBindingMetadata=directives_1.HostBindingMetadata;exports.HostListenerMetadata=directives_1.HostListenerMetadata;var view_1=require("angular2/src/core/metadata/view");exports.ViewMetadata=view_1.ViewMetadata;exports.ViewEncapsulation=view_1.ViewEncapsulation;var di_2=require("angular2/src/core/metadata/di");var directives_2=require("angular2/src/core/metadata/directives");var view_2=require("angular2/src/core/metadata/view");var decorators_1=require("angular2/src/core/util/decorators");exports.Component=decorators_1.makeDecorator(directives_2.ComponentMetadata,function(fn){return fn.View=View;});exports.Directive=decorators_1.makeDecorator(directives_2.DirectiveMetadata);var View=decorators_1.makeDecorator(view_2.ViewMetadata,function(fn){return fn.View=View;});exports.Attribute=decorators_1.makeParamDecorator(di_2.AttributeMetadata);exports.Query=decorators_1.makeParamDecorator(di_2.QueryMetadata);exports.ContentChildren=decorators_1.makePropDecorator(di_2.ContentChildrenMetadata);exports.ContentChild=decorators_1.makePropDecorator(di_2.ContentChildMetadata);exports.ViewChildren=decorators_1.makePropDecorator(di_2.ViewChildrenMetadata);exports.ViewChild=decorators_1.makePropDecorator(di_2.ViewChildMetadata);exports.ViewQuery=decorators_1.makeParamDecorator(di_2.ViewQueryMetadata);exports.Pipe=decorators_1.makeDecorator(directives_2.PipeMetadata);exports.Input=decorators_1.makePropDecorator(directives_2.InputMetadata);exports.Output=decorators_1.makePropDecorator(directives_2.OutputMetadata);exports.HostBinding=decorators_1.makePropDecorator(directives_2.HostBindingMetadata);exports.HostListener=decorators_1.makePropDecorator(directives_2.HostListenerMetadata);global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/events/event_manager",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di","angular2/src/core/zone/ng_zone","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var di_1=require("angular2/src/core/di");var ng_zone_1=require("angular2/src/core/zone/ng_zone");var collection_1=require("angular2/src/facade/collection");exports.EVENT_MANAGER_PLUGINS=lang_1.CONST_EXPR(new di_1.OpaqueToken("EventManagerPlugins"));var EventManager=(function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone;plugins.forEach(function(p){return p.manager=_this;});this._plugins=collection_1.ListWrapper.reversed(plugins);}
EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler);};EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler);};EventManager.prototype.getZone=function(){return this._zone;};EventManager.prototype._findPluginFor=function(eventName){var plugins=this._plugins;for(var i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.supports(eventName)){return plugin;}}
throw new exceptions_1.BaseException("No event manager plugin found for event "+eventName);};EventManager=__decorate([di_1.Injectable(),__param(0,di_1.Inject(exports.EVENT_MANAGER_PLUGINS)),__metadata('design:paramtypes',[Array,ng_zone_1.NgZone])],EventManager);return EventManager;})();exports.EventManager=EventManager;var EventManagerPlugin=(function(){function EventManagerPlugin(){}
EventManagerPlugin.prototype.supports=function(eventName){return false;};EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){throw"not implemented";};EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){throw"not implemented";};return EventManagerPlugin;})();exports.EventManagerPlugin=EventManagerPlugin;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/dom_renderer",["angular2/src/core/di","angular2/src/animate/animation_builder","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/events/event_manager","angular2/src/platform/dom/dom_tokens","angular2/src/core/metadata","angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var di_1=require("angular2/src/core/di");var animation_builder_1=require("angular2/src/animate/animation_builder");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var metadata_1=require("angular2/src/core/metadata");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var util_1=require("angular2/src/platform/dom/util");var NAMESPACE_URIS=lang_1.CONST_EXPR({'xlink':'http://www.w3.org/1999/xlink','svg':'http://www.w3.org/2000/svg'});var TEMPLATE_COMMENT_TEXT='template bindings={}';var TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g;var DomRootRenderer=(function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animate){this.document=document;this.eventManager=eventManager;this.sharedStylesHost=sharedStylesHost;this.animate=animate;this._registeredComponents=new Map();}
DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this._registeredComponents.get(componentProto.id);if(lang_1.isBlank(renderer)){renderer=new DomRenderer(this,componentProto);this._registeredComponents.set(componentProto.id,renderer);}
return renderer;};return DomRootRenderer;})();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=(function(_super){__extends(DomRootRenderer_,_super);function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animate){_super.call(this,_document,_eventManager,sharedStylesHost,animate);}
DomRootRenderer_=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata('design:paramtypes',[Object,event_manager_1.EventManager,shared_styles_host_1.DomSharedStylesHost,animation_builder_1.AnimationBuilder])],DomRootRenderer_);return DomRootRenderer_;})(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=(function(){function DomRenderer(_rootRenderer,componentProto){this._rootRenderer=_rootRenderer;this.componentProto=componentProto;this._styles=_flattenStyles(componentProto.id,componentProto.styles,[]);if(componentProto.encapsulation!==metadata_1.ViewEncapsulation.Native){this._rootRenderer.sharedStylesHost.addStyles(this._styles);}
if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Emulated){this._contentAttr=_shimContentAttribute(componentProto.id);this._hostAttr=_shimHostAttribute(componentProto.id);}else{this._contentAttr=null;this._hostAttr=null;}}
DomRenderer.prototype.renderComponent=function(componentProto){return this._rootRenderer.renderComponent(componentProto);};DomRenderer.prototype.selectRootElement=function(selector){var el=dom_adapter_1.DOM.querySelector(this._rootRenderer.document,selector);if(lang_1.isBlank(el)){throw new exceptions_1.BaseException("The selector \""+selector+"\" did not match any elements");}
dom_adapter_1.DOM.clearNodes(el);return el;};DomRenderer.prototype.createElement=function(parent,name){var nsAndName=splitNamespace(name);var el=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);if(lang_1.isPresent(this._contentAttr)){dom_adapter_1.DOM.setAttribute(el,this._contentAttr,'');}
if(lang_1.isPresent(parent)){dom_adapter_1.DOM.appendChild(parent,el);}
return el;};DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native){nodesParent=dom_adapter_1.DOM.createShadowRoot(hostElement);this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++){dom_adapter_1.DOM.appendChild(nodesParent,dom_adapter_1.DOM.createStyleElement(this._styles[i]));}}else{if(lang_1.isPresent(this._hostAttr)){dom_adapter_1.DOM.setAttribute(hostElement,this._hostAttr,'');}
nodesParent=hostElement;}
return nodesParent;};DomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=dom_adapter_1.DOM.createComment(TEMPLATE_COMMENT_TEXT);if(lang_1.isPresent(parentElement)){dom_adapter_1.DOM.appendChild(parentElement,comment);}
return comment;};DomRenderer.prototype.createText=function(parentElement,value){var node=dom_adapter_1.DOM.createTextNode(value);if(lang_1.isPresent(parentElement)){dom_adapter_1.DOM.appendChild(parentElement,node);}
return node;};DomRenderer.prototype.projectNodes=function(parentElement,nodes){if(lang_1.isBlank(parentElement))
return;appendNodes(parentElement,nodes);};DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes);for(var i=0;i<viewRootNodes.length;i++)
this.animateNodeEnter(viewRootNodes[i]);};DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i];dom_adapter_1.DOM.remove(node);this.animateNodeLeave(node);}};DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native&&lang_1.isPresent(hostElement)){this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.DOM.getShadowRoot(hostElement));}};DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback));};DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback));};DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){dom_adapter_1.DOM.setProperty(renderElement,propertyName,propertyValue);};DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs;var nsAndName=splitNamespace(attributeName);if(lang_1.isPresent(nsAndName[0])){attributeName=nsAndName[0]+':'+nsAndName[1];attrNs=NAMESPACE_URIS[nsAndName[0]];}
if(lang_1.isPresent(attributeValue)){if(lang_1.isPresent(attrNs)){dom_adapter_1.DOM.setAttributeNS(renderElement,attrNs,attributeName,attributeValue);}else{dom_adapter_1.DOM.setAttribute(renderElement,attributeName,attributeValue);}}else{if(lang_1.isPresent(attrNs)){dom_adapter_1.DOM.removeAttributeNS(renderElement,attrNs,nsAndName[1]);}else{dom_adapter_1.DOM.removeAttribute(renderElement,attributeName);}}};DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){var dashCasedPropertyName=util_1.camelCaseToDashCase(propertyName);if(dom_adapter_1.DOM.isCommentNode(renderElement)){var existingBindings=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.DOM.getText(renderElement),/\n/g,''));var parsedBindings=lang_1.Json.parse(existingBindings[1]);parsedBindings[dashCasedPropertyName]=propertyValue;dom_adapter_1.DOM.setText(renderElement,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,'{}',lang_1.Json.stringify(parsedBindings)));}else{this.setElementAttribute(renderElement,propertyName,propertyValue);}};DomRenderer.prototype.setElementDebugInfo=function(renderElement,info){};DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){if(isAdd){dom_adapter_1.DOM.addClass(renderElement,className);}else{dom_adapter_1.DOM.removeClass(renderElement,className);}};DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){if(lang_1.isPresent(styleValue)){dom_adapter_1.DOM.setStyle(renderElement,styleName,lang_1.stringify(styleValue));}else{dom_adapter_1.DOM.removeStyle(renderElement,styleName);}};DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){dom_adapter_1.DOM.invoke(renderElement,methodName,args);};DomRenderer.prototype.setText=function(renderNode,text){dom_adapter_1.DOM.setText(renderNode,text);};DomRenderer.prototype.animateNodeEnter=function(node){if(dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,'ng-animate')){dom_adapter_1.DOM.addClass(node,'ng-enter');this._rootRenderer.animate.css().addAnimationClass('ng-enter-active').start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,'ng-enter');});}};DomRenderer.prototype.animateNodeLeave=function(node){if(dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,'ng-animate')){dom_adapter_1.DOM.addClass(node,'ng-leave');this._rootRenderer.animate.css().addAnimationClass('ng-leave-active').start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,'ng-leave');dom_adapter_1.DOM.remove(node);});}else{dom_adapter_1.DOM.remove(node);}};return DomRenderer;})();exports.DomRenderer=DomRenderer;function moveNodesAfterSibling(sibling,nodes){var parent=dom_adapter_1.DOM.parentElement(sibling);if(nodes.length>0&&lang_1.isPresent(parent)){var nextSibling=dom_adapter_1.DOM.nextSibling(sibling);if(lang_1.isPresent(nextSibling)){for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.insertBefore(nextSibling,nodes[i]);}}else{for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.appendChild(parent,nodes[i]);}}}}
function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.appendChild(parent,nodes[i]);}}
function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);if(allowDefaultBehavior===false){dom_adapter_1.DOM.preventDefault(event);}};}
var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE='%COMP%';exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE;exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;function _shimContentAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,componentShortId);}
function _shimHostAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,componentShortId);}
function _flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];if(lang_1.isArray(style)){_flattenStyles(compId,style,target);}else{style=lang_1.StringWrapper.replaceAll(style,COMPONENT_REGEX,compId);target.push(style);}}
return target;}
var NS_PREFIX_RE=/^@([^:]+):(.+)/g;function splitNamespace(name){if(name[0]!='@'){return[null,name];}
var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,name);return[match[1],match[2]];}
global.define=__define;return module.exports;});System.register("angular2/platform/common_dom",["angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/dom_renderer","angular2/src/platform/dom/dom_tokens","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/events/dom_events","angular2/src/platform/dom/events/event_manager","angular2/src/platform/dom/debug/by","angular2/src/platform/dom/debug/ng_probe"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");exports.DOM=dom_adapter_1.DOM;exports.setRootDomAdapter=dom_adapter_1.setRootDomAdapter;exports.DomAdapter=dom_adapter_1.DomAdapter;var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");exports.DomRenderer=dom_renderer_1.DomRenderer;var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_1.DOCUMENT;var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");exports.SharedStylesHost=shared_styles_host_1.SharedStylesHost;exports.DomSharedStylesHost=shared_styles_host_1.DomSharedStylesHost;var dom_events_1=require("angular2/src/platform/dom/events/dom_events");exports.DomEventsPlugin=dom_events_1.DomEventsPlugin;var event_manager_1=require("angular2/src/platform/dom/events/event_manager");exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS;exports.EventManager=event_manager_1.EventManager;exports.EventManagerPlugin=event_manager_1.EventManagerPlugin;__export(require("angular2/src/platform/dom/debug/by"));__export(require("angular2/src/platform/dom/debug/ng_probe"));global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/invalid_pipe_argument_exception",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var InvalidPipeArgumentException=(function(_super){__extends(InvalidPipeArgumentException,_super);function InvalidPipeArgumentException(type,value){_super.call(this,"Invalid argument '"+value+"' for pipe '"+lang_1.stringify(type)+"'");}
return InvalidPipeArgumentException;})(exceptions_1.BaseException);exports.InvalidPipeArgumentException=InvalidPipeArgumentException;global.define=__define;return module.exports;});System.register("angular2/src/facade/intl",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle["Decimal"]=0]="Decimal";NumberFormatStyle[NumberFormatStyle["Percent"]=1]="Percent";NumberFormatStyle[NumberFormatStyle["Currency"]=2]="Currency";})(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle;var NumberFormatter=(function(){function NumberFormatter(){}
NumberFormatter.format=function(num,locale,style,_a){var _b=_a===void 0?{}:_a,_c=_b.minimumIntegerDigits,minimumIntegerDigits=_c===void 0?1:_c,_d=_b.minimumFractionDigits,minimumFractionDigits=_d===void 0?0:_d,_e=_b.maximumFractionDigits,maximumFractionDigits=_e===void 0?3:_e,currency=_b.currency,_f=_b.currencyAsSymbol,currencyAsSymbol=_f===void 0?false:_f;var intlOptions={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits};intlOptions.style=NumberFormatStyle[style].toLowerCase();if(style==NumberFormatStyle.Currency){intlOptions.currency=currency;intlOptions.currencyDisplay=currencyAsSymbol?'symbol':'code';}
return new Intl.NumberFormat(locale,intlOptions).format(num);};return NumberFormatter;})();exports.NumberFormatter=NumberFormatter;function digitCondition(len){return len==2?'2-digit':'numeric';}
function nameCondition(len){return len<4?'short':'long';}
function extractComponents(pattern){var ret={};var i=0,j;while(i<pattern.length){j=i;while(j<pattern.length&&pattern[j]==pattern[i])
j++;var len=j-i;switch(pattern[i]){case'G':ret.era=nameCondition(len);break;case'y':ret.year=digitCondition(len);break;case'M':if(len>=3)
ret.month=nameCondition(len);else
ret.month=digitCondition(len);break;case'd':ret.day=digitCondition(len);break;case'E':ret.weekday=nameCondition(len);break;case'j':ret.hour=digitCondition(len);break;case'h':ret.hour=digitCondition(len);ret.hour12=true;break;case'H':ret.hour=digitCondition(len);ret.hour12=false;break;case'm':ret.minute=digitCondition(len);break;case's':ret.second=digitCondition(len);break;case'z':ret.timeZoneName='long';break;case'Z':ret.timeZoneName='short';break;}
i=j;}
return ret;}
var dateFormatterCache=new Map();var DateFormatter=(function(){function DateFormatter(){}
DateFormatter.format=function(date,locale,pattern){var key=locale+pattern;if(dateFormatterCache.has(key)){return dateFormatterCache.get(key).format(date);}
var formatter=new Intl.DateTimeFormat(locale,extractComponents(pattern));dateFormatterCache.set(key,formatter);return formatter.format(date);};return DateFormatter;})();exports.DateFormatter=DateFormatter;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/json_pipe",["angular2/src/facade/lang","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var JsonPipe=(function(){function JsonPipe(){}
JsonPipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
return lang_1.Json.stringify(value);};JsonPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'json',pure:false}),core_1.Injectable(),__metadata('design:paramtypes',[])],JsonPipe);return JsonPipe;})();exports.JsonPipe=JsonPipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/slice_pipe",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var SlicePipe=(function(){function SlicePipe(){}
SlicePipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
if(lang_1.isBlank(args)||args.length==0){throw new exceptions_1.BaseException('Slice pipe requires one argument');}
if(!this.supports(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(SlicePipe,value);}
if(lang_1.isBlank(value))
return value;var start=args[0];var end=args.length>1?args[1]:null;if(lang_1.isString(value)){return lang_1.StringWrapper.slice(value,start,end);}
return collection_1.ListWrapper.slice(value,start,end);};SlicePipe.prototype.supports=function(obj){return lang_1.isString(obj)||lang_1.isArray(obj);};SlicePipe=__decorate([core_1.Pipe({name:'slice',pure:false}),core_1.Injectable(),__metadata('design:paramtypes',[])],SlicePipe);return SlicePipe;})();exports.SlicePipe=SlicePipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/lowercase_pipe",["angular2/src/facade/lang","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var LowerCasePipe=(function(){function LowerCasePipe(){}
LowerCasePipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
if(lang_1.isBlank(value))
return value;if(!lang_1.isString(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LowerCasePipe,value);}
return value.toLowerCase();};LowerCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'lowercase'}),core_1.Injectable(),__metadata('design:paramtypes',[])],LowerCasePipe);return LowerCasePipe;})();exports.LowerCasePipe=LowerCasePipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/number_pipe",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/intl","angular2/core","angular2/src/facade/collection","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var intl_1=require("angular2/src/facade/intl");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var defaultLocale='en-US';var _re=lang_1.RegExpWrapper.create('^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$');var NumberPipe=(function(){function NumberPipe(){}
NumberPipe._format=function(value,style,digits,currency,currencyAsSymbol){if(currency===void 0){currency=null;}
if(currencyAsSymbol===void 0){currencyAsSymbol=false;}
if(lang_1.isBlank(value))
return null;if(!lang_1.isNumber(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(NumberPipe,value);}
var minInt=1,minFraction=0,maxFraction=3;if(lang_1.isPresent(digits)){var parts=lang_1.RegExpWrapper.firstMatch(_re,digits);if(lang_1.isBlank(parts)){throw new exceptions_1.BaseException(digits+" is not a valid digit info for number pipes");}
if(lang_1.isPresent(parts[1])){minInt=lang_1.NumberWrapper.parseIntAutoRadix(parts[1]);}
if(lang_1.isPresent(parts[3])){minFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[3]);}
if(lang_1.isPresent(parts[5])){maxFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[5]);}}
return intl_1.NumberFormatter.format(value,defaultLocale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol});};NumberPipe=__decorate([lang_1.CONST(),core_1.Injectable(),__metadata('design:paramtypes',[])],NumberPipe);return NumberPipe;})();exports.NumberPipe=NumberPipe;var DecimalPipe=(function(_super){__extends(DecimalPipe,_super);function DecimalPipe(){_super.apply(this,arguments);}
DecimalPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Decimal,digits);};DecimalPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'number'}),core_1.Injectable(),__metadata('design:paramtypes',[])],DecimalPipe);return DecimalPipe;})(NumberPipe);exports.DecimalPipe=DecimalPipe;var PercentPipe=(function(_super){__extends(PercentPipe,_super);function PercentPipe(){_super.apply(this,arguments);}
PercentPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Percent,digits);};PercentPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'percent'}),core_1.Injectable(),__metadata('design:paramtypes',[])],PercentPipe);return PercentPipe;})(NumberPipe);exports.PercentPipe=PercentPipe;var CurrencyPipe=(function(_super){__extends(CurrencyPipe,_super);function CurrencyPipe(){_super.apply(this,arguments);}
CurrencyPipe.prototype.transform=function(value,args){var currencyCode=lang_1.isPresent(args)&&args.length>0?args[0]:'USD';var symbolDisplay=lang_1.isPresent(args)&&args.length>1?args[1]:false;var digits=lang_1.isPresent(args)&&args.length>2?args[2]:null;return NumberPipe._format(value,intl_1.NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay);};CurrencyPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'currency'}),core_1.Injectable(),__metadata('design:paramtypes',[])],CurrencyPipe);return CurrencyPipe;})(NumberPipe);exports.CurrencyPipe=CurrencyPipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/uppercase_pipe",["angular2/src/facade/lang","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var UpperCasePipe=(function(){function UpperCasePipe(){}
UpperCasePipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
if(lang_1.isBlank(value))
return value;if(!lang_1.isString(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(UpperCasePipe,value);}
return value.toUpperCase();};UpperCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'uppercase'}),core_1.Injectable(),__metadata('design:paramtypes',[])],UpperCasePipe);return UpperCasePipe;})();exports.UpperCasePipe=UpperCasePipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/replace_pipe",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var ReplacePipe=(function(){function ReplacePipe(){}
ReplacePipe.prototype.transform=function(value,args){if(lang_1.isBlank(args)||args.length!==2){throw new exceptions_1.BaseException('ReplacePipe requires two arguments');}
if(lang_1.isBlank(value)){return value;}
if(!this._supportedInput(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,value);}
var input=value.toString();var pattern=args[0];var replacement=args[1];if(!this._supportedPattern(pattern)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,pattern);}
if(!this._supportedReplacement(replacement)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(ReplacePipe,replacement);}
if(lang_1.isFunction(replacement)){var rgxPattern=lang_1.isString(pattern)?lang_1.RegExpWrapper.create(pattern):pattern;return lang_1.StringWrapper.replaceAllMapped(input,rgxPattern,replacement);}
if(pattern instanceof RegExp){return lang_1.StringWrapper.replaceAll(input,pattern,replacement);}
return lang_1.StringWrapper.replace(input,pattern,replacement);};ReplacePipe.prototype._supportedInput=function(input){return lang_1.isString(input)||lang_1.isNumber(input);};ReplacePipe.prototype._supportedPattern=function(pattern){return lang_1.isString(pattern)||pattern instanceof RegExp;};ReplacePipe.prototype._supportedReplacement=function(replacement){return lang_1.isString(replacement)||lang_1.isFunction(replacement);};ReplacePipe=__decorate([core_1.Pipe({name:'replace'}),core_1.Injectable(),__metadata('design:paramtypes',[])],ReplacePipe);return ReplacePipe;})();exports.ReplacePipe=ReplacePipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/i18n_plural_pipe",["angular2/src/facade/lang","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var interpolationExp=lang_1.RegExpWrapper.create('#');var I18nPluralPipe=(function(){function I18nPluralPipe(){}
I18nPluralPipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
var key;var valueStr;var pluralMap=(args[0]);if(!lang_1.isStringMap(pluralMap)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nPluralPipe,pluralMap);}
key=value===0||value===1?"="+value:'other';valueStr=lang_1.isPresent(value)?value.toString():'';return lang_1.StringWrapper.replaceAll(pluralMap[key],interpolationExp,valueStr);};I18nPluralPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'i18nPlural',pure:true}),core_1.Injectable(),__metadata('design:paramtypes',[])],I18nPluralPipe);return I18nPluralPipe;})();exports.I18nPluralPipe=I18nPluralPipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/i18n_select_pipe",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var I18nSelectPipe=(function(){function I18nSelectPipe(){}
I18nSelectPipe.prototype.transform=function(value,args){if(args===void 0){args=null;}
var mapping=(args[0]);if(!lang_1.isStringMap(mapping)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(I18nSelectPipe,mapping);}
return collection_1.StringMapWrapper.contains(mapping,value)?mapping[value]:mapping['other'];};I18nSelectPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'i18nSelect',pure:true}),core_1.Injectable(),__metadata('design:paramtypes',[])],I18nSelectPipe);return I18nSelectPipe;})();exports.I18nSelectPipe=I18nSelectPipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/common_pipes",["angular2/src/common/pipes/async_pipe","angular2/src/common/pipes/uppercase_pipe","angular2/src/common/pipes/lowercase_pipe","angular2/src/common/pipes/json_pipe","angular2/src/common/pipes/slice_pipe","angular2/src/common/pipes/date_pipe","angular2/src/common/pipes/number_pipe","angular2/src/common/pipes/replace_pipe","angular2/src/common/pipes/i18n_plural_pipe","angular2/src/common/pipes/i18n_select_pipe","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var async_pipe_1=require("angular2/src/common/pipes/async_pipe");var uppercase_pipe_1=require("angular2/src/common/pipes/uppercase_pipe");var lowercase_pipe_1=require("angular2/src/common/pipes/lowercase_pipe");var json_pipe_1=require("angular2/src/common/pipes/json_pipe");var slice_pipe_1=require("angular2/src/common/pipes/slice_pipe");var date_pipe_1=require("angular2/src/common/pipes/date_pipe");var number_pipe_1=require("angular2/src/common/pipes/number_pipe");var replace_pipe_1=require("angular2/src/common/pipes/replace_pipe");var i18n_plural_pipe_1=require("angular2/src/common/pipes/i18n_plural_pipe");var i18n_select_pipe_1=require("angular2/src/common/pipes/i18n_select_pipe");var lang_1=require("angular2/src/facade/lang");exports.COMMON_PIPES=lang_1.CONST_EXPR([async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe,replace_pipe_1.ReplacePipe,i18n_plural_pipe_1.I18nPluralPipe,i18n_select_pipe_1.I18nSelectPipe]);global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_class",["angular2/src/facade/lang","angular2/core","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var NgClass=(function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers;this._keyValueDiffers=_keyValueDiffers;this._ngEl=_ngEl;this._renderer=_renderer;this._initialClasses=[];}
Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(v){this._applyInitialClasses(true);this._initialClasses=lang_1.isPresent(v)&&lang_1.isString(v)?v.split(' '):[];this._applyInitialClasses(false);this._applyClasses(this._rawClass,false);},enumerable:true,configurable:true});Object.defineProperty(NgClass.prototype,"rawClass",{set:function(v){this._cleanupClasses(this._rawClass);if(lang_1.isString(v)){v=v.split(' ');}
this._rawClass=v;this._iterableDiffer=null;this._keyValueDiffer=null;if(lang_1.isPresent(v)){if(collection_1.isListLikeIterable(v)){this._iterableDiffer=this._iterableDiffers.find(v).create(null);}else{this._keyValueDiffer=this._keyValueDiffers.find(v).create(null);}}},enumerable:true,configurable:true});NgClass.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._iterableDiffer)){var changes=this._iterableDiffer.diff(this._rawClass);if(lang_1.isPresent(changes)){this._applyIterableChanges(changes);}}
if(lang_1.isPresent(this._keyValueDiffer)){var changes=this._keyValueDiffer.diff(this._rawClass);if(lang_1.isPresent(changes)){this._applyKeyValueChanges(changes);}}};NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass);};NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,true);this._applyInitialClasses(false);};NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.key,record.currentValue);});changes.forEachChangedItem(function(record){_this._toggleClass(record.key,record.currentValue);});changes.forEachRemovedItem(function(record){if(record.previousValue){_this._toggleClass(record.key,false);}});};NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.item,true);});changes.forEachRemovedItem(function(record){_this._toggleClass(record.item,false);});};NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(className){return _this._toggleClass(className,!isCleanup);});};NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;if(lang_1.isPresent(rawClassVal)){if(lang_1.isArray(rawClassVal)){rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup);});}else if(rawClassVal instanceof Set){rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup);});}else{collection_1.StringMapWrapper.forEach(rawClassVal,function(expVal,className){if(lang_1.isPresent(expVal))
_this._toggleClass(className,!isCleanup);});}}};NgClass.prototype._toggleClass=function(className,enabled){className=className.trim();if(className.length>0){if(className.indexOf(' ')>-1){var classes=className.split(/\s+/g);for(var i=0,len=classes.length;i<len;i++){this._renderer.setElementClass(this._ngEl.nativeElement,classes[i],enabled);}}else{this._renderer.setElementClass(this._ngEl.nativeElement,className,enabled);}}};NgClass=__decorate([core_1.Directive({selector:'[ngClass]',inputs:['rawClass: ngClass','initialClasses: class']}),__metadata('design:paramtypes',[core_1.IterableDiffers,core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgClass);return NgClass;})();exports.NgClass=NgClass;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_for",["angular2/core","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var NgFor=(function(){function NgFor(_viewContainer,_templateRef,_iterableDiffers,_cdr){this._viewContainer=_viewContainer;this._templateRef=_templateRef;this._iterableDiffers=_iterableDiffers;this._cdr=_cdr;}
Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(value){this._ngForOf=value;if(lang_1.isBlank(this._differ)&&lang_1.isPresent(value)){try{this._differ=this._iterableDiffers.find(value).create(this._cdr,this._ngForTrackBy);}catch(e){throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+value+"' of type '"+lang_1.getTypeNameForDebugging(value)+"'. NgFor only supports binding to Iterables such as Arrays.");}}},enumerable:true,configurable:true});Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(value){if(lang_1.isPresent(value)){this._templateRef=value;}},enumerable:true,configurable:true});Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(value){this._ngForTrackBy=value;},enumerable:true,configurable:true});NgFor.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._ngForOf);if(lang_1.isPresent(changes))
this._applyChanges(changes);}};NgFor.prototype._applyChanges=function(changes){var _this=this;var recordViewTuples=[];changes.forEachRemovedItem(function(removedRecord){return recordViewTuples.push(new RecordViewTuple(removedRecord,null));});changes.forEachMovedItem(function(movedRecord){return recordViewTuples.push(new RecordViewTuple(movedRecord,null));});var insertTuples=this._bulkRemove(recordViewTuples);changes.forEachAddedItem(function(addedRecord){return insertTuples.push(new RecordViewTuple(addedRecord,null));});this._bulkInsert(insertTuples);for(var i=0;i<insertTuples.length;i++){this._perViewChange(insertTuples[i].view,insertTuples[i].record);}
for(var i=0,ilen=this._viewContainer.length;i<ilen;i++){var viewRef=this._viewContainer.get(i);viewRef.setLocal('last',i===ilen-1);}
changes.forEachIdentityChange(function(record){var viewRef=_this._viewContainer.get(record.currentIndex);viewRef.setLocal('\$implicit',record.item);});};NgFor.prototype._perViewChange=function(view,record){view.setLocal('\$implicit',record.item);view.setLocal('index',record.currentIndex);view.setLocal('even',(record.currentIndex%2==0));view.setLocal('odd',(record.currentIndex%2==1));};NgFor.prototype._bulkRemove=function(tuples){tuples.sort(function(a,b){return a.record.previousIndex-b.record.previousIndex;});var movedTuples=[];for(var i=tuples.length-1;i>=0;i--){var tuple=tuples[i];if(lang_1.isPresent(tuple.record.currentIndex)){tuple.view=this._viewContainer.detach(tuple.record.previousIndex);movedTuples.push(tuple);}else{this._viewContainer.remove(tuple.record.previousIndex);}}
return movedTuples;};NgFor.prototype._bulkInsert=function(tuples){tuples.sort(function(a,b){return a.record.currentIndex-b.record.currentIndex;});for(var i=0;i<tuples.length;i++){var tuple=tuples[i];if(lang_1.isPresent(tuple.view)){this._viewContainer.insert(tuple.view,tuple.record.currentIndex);}else{tuple.view=this._viewContainer.createEmbeddedView(this._templateRef,tuple.record.currentIndex);}}
return tuples;};NgFor=__decorate([core_1.Directive({selector:'[ngFor][ngForOf]',inputs:['ngForTrackBy','ngForOf','ngForTemplate']}),__metadata('design:paramtypes',[core_1.ViewContainerRef,core_1.TemplateRef,core_1.IterableDiffers,core_1.ChangeDetectorRef])],NgFor);return NgFor;})();exports.NgFor=NgFor;var RecordViewTuple=(function(){function RecordViewTuple(record,view){this.record=record;this.view=view;}
return RecordViewTuple;})();global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_if",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var NgIf=(function(){function NgIf(_viewContainer,_templateRef){this._viewContainer=_viewContainer;this._templateRef=_templateRef;this._prevCondition=null;}
Object.defineProperty(NgIf.prototype,"ngIf",{set:function(newCondition){if(newCondition&&(lang_1.isBlank(this._prevCondition)||!this._prevCondition)){this._prevCondition=true;this._viewContainer.createEmbeddedView(this._templateRef);}else if(!newCondition&&(lang_1.isBlank(this._prevCondition)||this._prevCondition)){this._prevCondition=false;this._viewContainer.clear();}},enumerable:true,configurable:true});NgIf=__decorate([core_1.Directive({selector:'[ngIf]',inputs:['ngIf']}),__metadata('design:paramtypes',[core_1.ViewContainerRef,core_1.TemplateRef])],NgIf);return NgIf;})();exports.NgIf=NgIf;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_style",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var NgStyle=(function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs;this._ngEl=_ngEl;this._renderer=_renderer;}
Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(v){this._rawStyle=v;if(lang_1.isBlank(this._differ)&&lang_1.isPresent(v)){this._differ=this._differs.find(this._rawStyle).create(null);}},enumerable:true,configurable:true});NgStyle.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawStyle);if(lang_1.isPresent(changes)){this._applyChanges(changes);}}};NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._setStyle(record.key,record.currentValue);});changes.forEachChangedItem(function(record){_this._setStyle(record.key,record.currentValue);});changes.forEachRemovedItem(function(record){_this._setStyle(record.key,null);});};NgStyle.prototype._setStyle=function(name,val){this._renderer.setElementStyle(this._ngEl.nativeElement,name,val);};NgStyle=__decorate([core_1.Directive({selector:'[ngStyle]',inputs:['rawStyle: ngStyle']}),__metadata('design:paramtypes',[core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgStyle);return NgStyle;})();exports.NgStyle=NgStyle;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_switch",["angular2/core","angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var _WHEN_DEFAULT=lang_1.CONST_EXPR(new Object());var SwitchView=(function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef;this._templateRef=_templateRef;}
SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef);};SwitchView.prototype.destroy=function(){this._viewContainerRef.clear();};return SwitchView;})();exports.SwitchView=SwitchView;var NgSwitch=(function(){function NgSwitch(){this._useDefault=false;this._valueViews=new collection_1.Map();this._activeViews=[];}
Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(value){this._emptyAllActiveViews();this._useDefault=false;var views=this._valueViews.get(value);if(lang_1.isBlank(views)){this._useDefault=true;views=lang_1.normalizeBlank(this._valueViews.get(_WHEN_DEFAULT));}
this._activateViews(views);this._switchValue=value;},enumerable:true,configurable:true});NgSwitch.prototype._onWhenValueChanged=function(oldWhen,newWhen,view){this._deregisterView(oldWhen,view);this._registerView(newWhen,view);if(oldWhen===this._switchValue){view.destroy();collection_1.ListWrapper.remove(this._activeViews,view);}else if(newWhen===this._switchValue){if(this._useDefault){this._useDefault=false;this._emptyAllActiveViews();}
view.create();this._activeViews.push(view);}
if(this._activeViews.length===0&&!this._useDefault){this._useDefault=true;this._activateViews(this._valueViews.get(_WHEN_DEFAULT));}};NgSwitch.prototype._emptyAllActiveViews=function(){var activeContainers=this._activeViews;for(var i=0;i<activeContainers.length;i++){activeContainers[i].destroy();}
this._activeViews=[];};NgSwitch.prototype._activateViews=function(views){if(lang_1.isPresent(views)){for(var i=0;i<views.length;i++){views[i].create();}
this._activeViews=views;}};NgSwitch.prototype._registerView=function(value,view){var views=this._valueViews.get(value);if(lang_1.isBlank(views)){views=[];this._valueViews.set(value,views);}
views.push(view);};NgSwitch.prototype._deregisterView=function(value,view){if(value===_WHEN_DEFAULT)
return;var views=this._valueViews.get(value);if(views.length==1){this._valueViews.delete(value);}else{collection_1.ListWrapper.remove(views,view);}};NgSwitch=__decorate([core_1.Directive({selector:'[ngSwitch]',inputs:['ngSwitch']}),__metadata('design:paramtypes',[])],NgSwitch);return NgSwitch;})();exports.NgSwitch=NgSwitch;var NgSwitchWhen=(function(){function NgSwitchWhen(viewContainer,templateRef,ngSwitch){this._value=_WHEN_DEFAULT;this._switch=ngSwitch;this._view=new SwitchView(viewContainer,templateRef);}
Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(value){this._switch._onWhenValueChanged(this._value,value,this._view);this._value=value;},enumerable:true,configurable:true});NgSwitchWhen=__decorate([core_1.Directive({selector:'[ngSwitchWhen]',inputs:['ngSwitchWhen']}),__param(2,core_1.Host()),__metadata('design:paramtypes',[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchWhen);return NgSwitchWhen;})();exports.NgSwitchWhen=NgSwitchWhen;var NgSwitchDefault=(function(){function NgSwitchDefault(viewContainer,templateRef,sswitch){sswitch._registerView(_WHEN_DEFAULT,new SwitchView(viewContainer,templateRef));}
NgSwitchDefault=__decorate([core_1.Directive({selector:'[ngSwitchDefault]'}),__param(2,core_1.Host()),__metadata('design:paramtypes',[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchDefault);return NgSwitchDefault;})();exports.NgSwitchDefault=NgSwitchDefault;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/ng_plural",["angular2/core","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/common/directives/ng_switch"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var ng_switch_1=require("angular2/src/common/directives/ng_switch");var _CATEGORY_DEFAULT='other';var NgLocalization=(function(){function NgLocalization(){}
return NgLocalization;})();exports.NgLocalization=NgLocalization;var NgPluralCase=(function(){function NgPluralCase(value,template,viewContainer){this.value=value;this._view=new ng_switch_1.SwitchView(viewContainer,template);}
NgPluralCase=__decorate([core_1.Directive({selector:'[ngPluralCase]'}),__param(0,core_1.Attribute('ngPluralCase')),__metadata('design:paramtypes',[String,core_1.TemplateRef,core_1.ViewContainerRef])],NgPluralCase);return NgPluralCase;})();exports.NgPluralCase=NgPluralCase;var NgPlural=(function(){function NgPlural(_localization){this._localization=_localization;this._caseViews=new collection_1.Map();this.cases=null;}
Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(value){this._switchValue=value;this._updateView();},enumerable:true,configurable:true});NgPlural.prototype.ngAfterContentInit=function(){var _this=this;this.cases.forEach(function(pluralCase){_this._caseViews.set(_this._formatValue(pluralCase),pluralCase._view);});this._updateView();};NgPlural.prototype._updateView=function(){this._clearViews();var view=this._caseViews.get(this._switchValue);if(!lang_1.isPresent(view))
view=this._getCategoryView(this._switchValue);this._activateView(view);};NgPlural.prototype._clearViews=function(){if(lang_1.isPresent(this._activeView))
this._activeView.destroy();};NgPlural.prototype._activateView=function(view){if(!lang_1.isPresent(view))
return;this._activeView=view;this._activeView.create();};NgPlural.prototype._getCategoryView=function(value){var category=this._localization.getPluralCategory(value);var categoryView=this._caseViews.get(category);return lang_1.isPresent(categoryView)?categoryView:this._caseViews.get(_CATEGORY_DEFAULT);};NgPlural.prototype._isValueView=function(pluralCase){return pluralCase.value[0]==="=";};NgPlural.prototype._formatValue=function(pluralCase){return this._isValueView(pluralCase)?this._stripValue(pluralCase.value):pluralCase.value;};NgPlural.prototype._stripValue=function(value){return lang_1.NumberWrapper.parseInt(value.substring(1),10);};__decorate([core_1.ContentChildren(NgPluralCase),__metadata('design:type',core_1.QueryList)],NgPlural.prototype,"cases",void 0);__decorate([core_1.Input(),__metadata('design:type',Number),__metadata('design:paramtypes',[Number])],NgPlural.prototype,"ngPlural",null);NgPlural=__decorate([core_1.Directive({selector:'[ngPlural]'}),__metadata('design:paramtypes',[NgLocalization])],NgPlural);return NgPlural;})();exports.NgPlural=NgPlural;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/observable_list_diff",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;global.define=__define;return module.exports;});System.register("angular2/src/common/directives/core_directives",["angular2/src/facade/lang","angular2/src/common/directives/ng_class","angular2/src/common/directives/ng_for","angular2/src/common/directives/ng_if","angular2/src/common/directives/ng_style","angular2/src/common/directives/ng_switch","angular2/src/common/directives/ng_plural"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var ng_class_1=require("angular2/src/common/directives/ng_class");var ng_for_1=require("angular2/src/common/directives/ng_for");var ng_if_1=require("angular2/src/common/directives/ng_if");var ng_style_1=require("angular2/src/common/directives/ng_style");var ng_switch_1=require("angular2/src/common/directives/ng_switch");var ng_plural_1=require("angular2/src/common/directives/ng_plural");exports.CORE_DIRECTIVES=lang_1.CONST_EXPR([ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchWhen,ng_switch_1.NgSwitchDefault,ng_plural_1.NgPlural,ng_plural_1.NgPluralCase]);global.define=__define;return module.exports;});System.register("angular2/src/common/forms/model",["angular2/src/facade/lang","angular2/src/facade/async","angular2/src/facade/promise","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var promise_1=require("angular2/src/facade/promise");var collection_1=require("angular2/src/facade/collection");exports.VALID="VALID";exports.INVALID="INVALID";exports.PENDING="PENDING";function isControl(control){return control instanceof AbstractControl;}
exports.isControl=isControl;function _find(control,path){if(lang_1.isBlank(path))
return null;if(!(path instanceof Array)){path=path.split("/");}
if(path instanceof Array&&collection_1.ListWrapper.isEmpty(path))
return null;return path.reduce(function(v,name){if(v instanceof ControlGroup){return lang_1.isPresent(v.controls[name])?v.controls[name]:null;}else if(v instanceof ControlArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null;}else{return null;}},control);}
function toObservable(r){return promise_1.PromiseWrapper.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r;}
var AbstractControl=(function(){function AbstractControl(validator,asyncValidator){this.validator=validator;this.asyncValidator=asyncValidator;this._pristine=true;this._touched=false;}
Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges;},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING;},enumerable:true,configurable:true});AbstractControl.prototype.markAsTouched=function(){this._touched=true;};AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf);this._pristine=false;if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.markAsDirty({onlySelf:onlySelf});}};AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf);this._status=exports.PENDING;if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.markAsPending({onlySelf:onlySelf});}};AbstractControl.prototype.setParent=function(parent){this._parent=parent;};AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf);emitEvent=lang_1.isPresent(emitEvent)?emitEvent:true;this._updateValue();this._errors=this._runValidator();this._status=this._calculateStatus();if(this._status==exports.VALID||this._status==exports.PENDING){this._runAsyncValidator(emitEvent);}
if(emitEvent){async_1.ObservableWrapper.callEmit(this._valueChanges,this._value);async_1.ObservableWrapper.callEmit(this._statusChanges,this._status);}
if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});}};AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null;};AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING;this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent});});}};AbstractControl.prototype._cancelExistingSubscription=function(){if(lang_1.isPresent(this._asyncValidationSubscription)){async_1.ObservableWrapper.dispose(this._asyncValidationSubscription);}};AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(_a===void 0?{}:_a).emitEvent;emitEvent=lang_1.isPresent(emitEvent)?emitEvent:true;this._errors=errors;this._status=this._calculateStatus();if(emitEvent){async_1.ObservableWrapper.callEmit(this._statusChanges,this._status);}
if(lang_1.isPresent(this._parent)){this._parent._updateControlsErrors();}};AbstractControl.prototype.find=function(path){return _find(this,path);};AbstractControl.prototype.getError=function(errorCode,path){if(path===void 0){path=null;}
var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;if(lang_1.isPresent(control)&&lang_1.isPresent(control._errors)){return collection_1.StringMapWrapper.get(control._errors,errorCode);}else{return null;}};AbstractControl.prototype.hasError=function(errorCode,path){if(path===void 0){path=null;}
return lang_1.isPresent(this.getError(errorCode,path));};Object.defineProperty(AbstractControl.prototype,"root",{get:function(){var x=this;while(lang_1.isPresent(x._parent)){x=x._parent;}
return x;},enumerable:true,configurable:true});AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus();if(lang_1.isPresent(this._parent)){this._parent._updateControlsErrors();}};AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter();this._statusChanges=new async_1.EventEmitter();};AbstractControl.prototype._calculateStatus=function(){if(lang_1.isPresent(this._errors))
return exports.INVALID;if(this._anyControlsHaveStatus(exports.PENDING))
return exports.PENDING;if(this._anyControlsHaveStatus(exports.INVALID))
return exports.INVALID;return exports.VALID;};return AbstractControl;})();exports.AbstractControl=AbstractControl;var Control=(function(_super){__extends(Control,_super);function Control(value,validator,asyncValidator){if(value===void 0){value=null;}
if(validator===void 0){validator=null;}
if(asyncValidator===void 0){asyncValidator=null;}
_super.call(this,validator,asyncValidator);this._value=value;this.updateValueAndValidity({onlySelf:true,emitEvent:false});this._initObservables();}
Control.prototype.updateValue=function(value,_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=lang_1.isPresent(emitModelToViewChange)?emitModelToViewChange:true;this._value=value;if(lang_1.isPresent(this._onChange)&&emitModelToViewChange)
this._onChange(this._value);this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent});};Control.prototype._updateValue=function(){};Control.prototype._anyControlsHaveStatus=function(status){return false;};Control.prototype.registerOnChange=function(fn){this._onChange=fn;};return Control;})(AbstractControl);exports.Control=Control;var ControlGroup=(function(_super){__extends(ControlGroup,_super);function ControlGroup(controls,optionals,validator,asyncValidator){if(optionals===void 0){optionals=null;}
if(validator===void 0){validator=null;}
if(asyncValidator===void 0){asyncValidator=null;}
_super.call(this,validator,asyncValidator);this.controls=controls;this._optionals=lang_1.isPresent(optionals)?optionals:{};this._initObservables();this._setParentForControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false});}
ControlGroup.prototype.addControl=function(name,control){this.controls[name]=control;control.setParent(this);};ControlGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper.delete(this.controls,name);};ControlGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,true);this.updateValueAndValidity();};ControlGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,false);this.updateValueAndValidity();};ControlGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName);};ControlGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this);});};ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue();};ControlGroup.prototype._anyControlsHaveStatus=function(status){var _this=this;var res=false;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||(_this.contains(name)&&control.status==status);});return res;};ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){acc[name]=control.value;return acc;});};ControlGroup.prototype._reduceChildren=function(initValue,fn){var _this=this;var res=initValue;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){if(_this._included(name)){res=fn(res,control,name);}});return res;};ControlGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName);};return ControlGroup;})(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=(function(_super){__extends(ControlArray,_super);function ControlArray(controls,validator,asyncValidator){if(validator===void 0){validator=null;}
if(asyncValidator===void 0){asyncValidator=null;}
_super.call(this,validator,asyncValidator);this.controls=controls;this._initObservables();this._setParentForControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false});}
ControlArray.prototype.at=function(index){return this.controls[index];};ControlArray.prototype.push=function(control){this.controls.push(control);control.setParent(this);this.updateValueAndValidity();};ControlArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control);control.setParent(this);this.updateValueAndValidity();};ControlArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index);this.updateValueAndValidity();};Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length;},enumerable:true,configurable:true});ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value;});};ControlArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status;});};ControlArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this);});};return ControlArray;})(AbstractControl);exports.ControlArray=ControlArray;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/abstract_control_directive",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var AbstractControlDirective=(function(){function AbstractControlDirective(){}
Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null;},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null;},enumerable:true,configurable:true});return AbstractControlDirective;})();exports.AbstractControlDirective=AbstractControlDirective;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/control_container",["angular2/src/common/forms/directives/abstract_control_directive"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");var ControlContainer=(function(_super){__extends(ControlContainer,_super);function ControlContainer(){_super.apply(this,arguments);}
Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null;},enumerable:true,configurable:true});return ControlContainer;})(abstract_control_directive_1.AbstractControlDirective);exports.ControlContainer=ControlContainer;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_control",["angular2/src/common/forms/directives/abstract_control_directive","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");var exceptions_1=require("angular2/src/facade/exceptions");var NgControl=(function(_super){__extends(NgControl,_super);function NgControl(){_super.apply(this,arguments);this.name=null;this.valueAccessor=null;}
Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});return NgControl;})(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/control_value_accessor",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");exports.NG_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValueAccessor"));global.define=__define;return module.exports;});System.register("angular2/src/common/forms/validators",["angular2/src/facade/lang","angular2/src/facade/promise","angular2/src/facade/async","angular2/src/facade/collection","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var promise_1=require("angular2/src/facade/promise");var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var core_1=require("angular2/core");exports.NG_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValidators"));exports.NG_ASYNC_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgAsyncValidators"));var Validators=(function(){function Validators(){}
Validators.required=function(control){return lang_1.isBlank(control.value)||(lang_1.isString(control.value)&&control.value=="")?{"required":true}:null;};Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))
return null;var v=control.value;return v.length<minLength?{"minlength":{"requiredLength":minLength,"actualLength":v.length}}:null;};};Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))
return null;var v=control.value;return v.length>maxLength?{"maxlength":{"requiredLength":maxLength,"actualLength":v.length}}:null;};};Validators.pattern=function(pattern){return function(control){if(lang_1.isPresent(Validators.required(control)))
return null;var regex=new RegExp("^"+pattern+"$");var v=control.value;return regex.test(v)?null:{"pattern":{"requiredPattern":"^"+pattern+"$","actualValue":v}};};};Validators.nullValidator=function(c){return null;};Validators.compose=function(validators){if(lang_1.isBlank(validators))
return null;var presentValidators=validators.filter(lang_1.isPresent);if(presentValidators.length==0)
return null;return function(control){return _mergeErrors(_executeValidators(control,presentValidators));};};Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))
return null;var presentValidators=validators.filter(lang_1.isPresent);if(presentValidators.length==0)
return null;return function(control){var promises=_executeAsyncValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors);};};return Validators;})();exports.Validators=Validators;function _convertToPromise(obj){return promise_1.PromiseWrapper.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj);}
function _executeValidators(control,validators){return validators.map(function(v){return v(control);});}
function _executeAsyncValidators(control,validators){return validators.map(function(v){return v(control);});}
function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res;},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res;}
global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/default_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var DEFAULT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return DefaultValueAccessor;}),multi:true}));var DefaultValueAccessor=(function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}
DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?'':value;this._renderer.setElementProperty(this._elementRef.nativeElement,'value',normalizedValue);};DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn;};DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};DefaultValueAccessor=__decorate([core_1.Directive({selector:'input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]',host:{'(input)':'onChange($event.target.value)','(blur)':'onTouched()'},bindings:[DEFAULT_VALUE_ACCESSOR]}),__metadata('design:paramtypes',[core_1.Renderer,core_1.ElementRef])],DefaultValueAccessor);return DefaultValueAccessor;})();exports.DefaultValueAccessor=DefaultValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/number_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var NUMBER_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return NumberValueAccessor;}),multi:true}));var NumberValueAccessor=(function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}
NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,'value',value);};NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(lang_1.NumberWrapper.parseFloat(value));};};NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};NumberValueAccessor=__decorate([core_1.Directive({selector:'input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]',host:{'(change)':'onChange($event.target.value)','(input)':'onChange($event.target.value)','(blur)':'onTouched()'},bindings:[NUMBER_VALUE_ACCESSOR]}),__metadata('design:paramtypes',[core_1.Renderer,core_1.ElementRef])],NumberValueAccessor);return NumberValueAccessor;})();exports.NumberValueAccessor=NumberValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/checkbox_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var CHECKBOX_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor;}),multi:true}));var CheckboxControlValueAccessor=(function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};}
CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,'checked',value);};CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn;};CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};CheckboxControlValueAccessor=__decorate([core_1.Directive({selector:'input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]',host:{'(change)':'onChange($event.target.checked)','(blur)':'onTouched()'},providers:[CHECKBOX_VALUE_ACCESSOR]}),__metadata('design:paramtypes',[core_1.Renderer,core_1.ElementRef])],CheckboxControlValueAccessor);return CheckboxControlValueAccessor;})();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/select_control_value_accessor",["angular2/core","angular2/src/facade/async","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var async_1=require("angular2/src/facade/async");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var SELECT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor;}),multi:true}));var NgSelectOption=(function(){function NgSelectOption(){}
NgSelectOption=__decorate([core_1.Directive({selector:'option'}),__metadata('design:paramtypes',[])],NgSelectOption);return NgSelectOption;})();exports.NgSelectOption=NgSelectOption;var SelectControlValueAccessor=(function(){function SelectControlValueAccessor(_renderer,_elementRef,query){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};this._updateValueWhenListOfOptionsChanges(query);}
SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;this._renderer.setElementProperty(this._elementRef.nativeElement,'value',value);};SelectControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn;};SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};SelectControlValueAccessor.prototype._updateValueWhenListOfOptionsChanges=function(query){var _this=this;async_1.ObservableWrapper.subscribe(query.changes,function(_){return _this.writeValue(_this.value);});};SelectControlValueAccessor=__decorate([core_1.Directive({selector:'select[ngControl],select[ngFormControl],select[ngModel]',host:{'(input)':'onChange($event.target.value)','(blur)':'onTouched()'},bindings:[SELECT_VALUE_ACCESSOR]}),__param(2,core_1.Query(NgSelectOption,{descendants:true})),__metadata('design:paramtypes',[core_1.Renderer,core_1.ElementRef,core_1.QueryList])],SelectControlValueAccessor);return SelectControlValueAccessor;})();exports.SelectControlValueAccessor=SelectControlValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/radio_control_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/ng_control","angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var RADIO_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor;}),multi:true}));var RadioControlRegistry=(function(){function RadioControlRegistry(){this._accessors=[];}
RadioControlRegistry.prototype.add=function(control,accessor){this._accessors.push([control,accessor]);};RadioControlRegistry.prototype.remove=function(accessor){var indexToRemove=-1;for(var i=0;i<this._accessors.length;++i){if(this._accessors[i][1]===accessor){indexToRemove=i;}}
collection_1.ListWrapper.removeAt(this._accessors,indexToRemove);};RadioControlRegistry.prototype.select=function(accessor){this._accessors.forEach(function(c){if(c[0].control.root===accessor._control.control.root&&c[1]!==accessor){c[1].fireUncheck();}});};RadioControlRegistry=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],RadioControlRegistry);return RadioControlRegistry;})();exports.RadioControlRegistry=RadioControlRegistry;var RadioButtonState=(function(){function RadioButtonState(checked,value){this.checked=checked;this.value=value;}
return RadioButtonState;})();exports.RadioButtonState=RadioButtonState;var RadioControlValueAccessor=(function(){function RadioControlValueAccessor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer;this._elementRef=_elementRef;this._registry=_registry;this._injector=_injector;this.onChange=function(){};this.onTouched=function(){};}
RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl);this._registry.add(this._control,this);};RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this);};RadioControlValueAccessor.prototype.writeValue=function(value){this._state=value;if(lang_1.isPresent(value)&&value.checked){this._renderer.setElementProperty(this._elementRef.nativeElement,'checked',true);}};RadioControlValueAccessor.prototype.registerOnChange=function(fn){var _this=this;this._fn=fn;this.onChange=function(){fn(new RadioButtonState(true,_this._state.value));_this._registry.select(_this);};};RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new RadioButtonState(false,this._state.value));};RadioControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn;};__decorate([core_1.Input(),__metadata('design:type',String)],RadioControlValueAccessor.prototype,"name",void 0);RadioControlValueAccessor=__decorate([core_1.Directive({selector:'input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]',host:{'(change)':'onChange()','(blur)':'onTouched()'},providers:[RADIO_VALUE_ACCESSOR]}),__metadata('design:paramtypes',[core_1.Renderer,core_1.ElementRef,RadioControlRegistry,core_1.Injector])],RadioControlValueAccessor);return RadioControlValueAccessor;})();exports.RadioControlValueAccessor=RadioControlValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/normalize_validator",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function normalizeValidator(validator){if(validator.validate!==undefined){return function(c){return validator.validate(c);};}else{return validator;}}
exports.normalizeValidator=normalizeValidator;function normalizeAsyncValidator(validator){if(validator.validate!==undefined){return function(c){return Promise.resolve(validator.validate(c));};}else{return validator;}}
exports.normalizeAsyncValidator=normalizeAsyncValidator;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_form_control",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/validators","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/shared"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var validators_1=require("angular2/src/common/forms/validators");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var shared_1=require("angular2/src/common/forms/directives/shared");var formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgFormControl;})}));var NgFormControl=(function(_super){__extends(NgFormControl,_super);function NgFormControl(_validators,_asyncValidators,valueAccessors){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this.update=new async_1.EventEmitter();this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors);}
NgFormControl.prototype.ngOnChanges=function(changes){if(this._isControlChanged(changes)){shared_1.setUpControl(this.form,this);this.form.updateValueAndValidity({emitEvent:false});}
if(shared_1.isPropertyUpdated(changes,this.viewModel)){this.form.updateValue(this.model);this.viewModel=this.model;}};Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[];},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators);},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators);},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form;},enumerable:true,configurable:true});NgFormControl.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue);};NgFormControl.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form");};NgFormControl=__decorate([core_1.Directive({selector:'[ngFormControl]',bindings:[formControlBinding],inputs:['form: ngFormControl','model: ngModel'],outputs:['update: ngModelChange'],exportAs:'ngForm'}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata('design:paramtypes',[Array,Array,Array])],NgFormControl);return NgFormControl;})(ng_control_1.NgControl);exports.NgFormControl=NgFormControl;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_model",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/model","angular2/src/common/forms/validators","angular2/src/common/forms/directives/shared"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var model_1=require("angular2/src/common/forms/model");var validators_1=require("angular2/src/common/forms/validators");var shared_1=require("angular2/src/common/forms/directives/shared");var formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgModel;})}));var NgModel=(function(_super){__extends(NgModel,_super);function NgModel(_validators,_asyncValidators,valueAccessors){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this._control=new model_1.Control();this._added=false;this.update=new async_1.EventEmitter();this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors);}
NgModel.prototype.ngOnChanges=function(changes){if(!this._added){shared_1.setUpControl(this._control,this);this._control.updateValueAndValidity({emitEvent:false});this._added=true;}
if(shared_1.isPropertyUpdated(changes,this.viewModel)){this._control.updateValue(this.model);this.viewModel=this.model;}};Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control;},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"path",{get:function(){return[];},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators);},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators);},enumerable:true,configurable:true});NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue);};NgModel=__decorate([core_1.Directive({selector:'[ngModel]:not([ngControl]):not([ngFormControl])',bindings:[formControlBinding],inputs:['model: ngModel'],outputs:['update: ngModelChange'],exportAs:'ngForm'}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata('design:paramtypes',[Array,Array,Array])],NgModel);return NgModel;})(ng_control_1.NgControl);exports.NgModel=NgModel;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_control_group",["angular2/core","angular2/src/facade/lang","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var control_container_1=require("angular2/src/common/forms/directives/control_container");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var controlGroupProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgControlGroup;})}));var NgControlGroup=(function(_super){__extends(NgControlGroup,_super);function NgControlGroup(parent,_validators,_asyncValidators){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this._parent=parent;}
NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this);};NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this);};Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this);},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent);},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective;},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators);},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators);},enumerable:true,configurable:true});NgControlGroup=__decorate([core_1.Directive({selector:'[ngControlGroup]',providers:[controlGroupProvider],inputs:['name: ngControlGroup'],exportAs:'ngForm'}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata('design:paramtypes',[control_container_1.ControlContainer,Array,Array])],NgControlGroup);return NgControlGroup;})(control_container_1.ControlContainer);exports.NgControlGroup=NgControlGroup;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_form_model",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgFormModel;})}));var NgFormModel=(function(_super){__extends(NgFormModel,_super);function NgFormModel(_validators,_asyncValidators){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this.form=null;this.directives=[];this.ngSubmit=new async_1.EventEmitter();}
NgFormModel.prototype.ngOnChanges=function(changes){if(collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]);this.form.updateValueAndValidity({onlySelf:true,emitEvent:false});}
this._updateDomValue();};Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this;},enumerable:true,configurable:true});Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form;},enumerable:true,configurable:true});Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[];},enumerable:true,configurable:true});NgFormModel.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});this.directives.push(dir);};NgFormModel.prototype.getControl=function(dir){return this.form.find(dir.path);};NgFormModel.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir);};NgFormModel.prototype.addControlGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControlGroup(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});};NgFormModel.prototype.removeControlGroup=function(dir){};NgFormModel.prototype.getControlGroup=function(dir){return this.form.find(dir.path);};NgFormModel.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value);};NgFormModel.prototype.onSubmit=function(){async_1.ObservableWrapper.callEmit(this.ngSubmit,null);return false;};NgFormModel.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value);});};NgFormModel=__decorate([core_1.Directive({selector:'[ngFormModel]',bindings:[formDirectiveProvider],inputs:['form: ngFormModel'],host:{'(submit)':'onSubmit()'},outputs:['ngSubmit'],exportAs:'ngForm'}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata('design:paramtypes',[Array,Array])],NgFormModel);return NgFormModel;})(control_container_1.ControlContainer);exports.NgFormModel=NgFormModel;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_form",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/model","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var model_1=require("angular2/src/common/forms/model");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgForm;})}));var NgForm=(function(_super){__extends(NgForm,_super);function NgForm(validators,asyncValidators){_super.call(this);this.ngSubmit=new async_1.EventEmitter();this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators));}
Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this;},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form;},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"path",{get:function(){return[];},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls;},enumerable:true,configurable:true});NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);var ctrl=new model_1.Control();shared_1.setUpControl(ctrl,dir);container.addControl(dir.name,ctrl);ctrl.updateValueAndValidity({emitEvent:false});});};NgForm.prototype.getControl=function(dir){return this.form.find(dir.path);};NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);if(lang_1.isPresent(container)){container.removeControl(dir.name);container.updateValueAndValidity({emitEvent:false});}});};NgForm.prototype.addControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);var group=new model_1.ControlGroup({});shared_1.setUpControlGroup(group,dir);container.addControl(dir.name,group);group.updateValueAndValidity({emitEvent:false});});};NgForm.prototype.removeControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);if(lang_1.isPresent(container)){container.removeControl(dir.name);container.updateValueAndValidity({emitEvent:false});}});};NgForm.prototype.getControlGroup=function(dir){return this.form.find(dir.path);};NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value);});};NgForm.prototype.onSubmit=function(){async_1.ObservableWrapper.callEmit(this.ngSubmit,null);return false;};NgForm.prototype._findContainer=function(path){path.pop();return collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path);};NgForm=__decorate([core_1.Directive({selector:'form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]',bindings:[formDirectiveProvider],host:{'(submit)':'onSubmit()'},outputs:['ngSubmit'],exportAs:'ngForm'}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata('design:paramtypes',[Array,Array])],NgForm);return NgForm;})(control_container_1.ControlContainer);exports.NgForm=NgForm;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_control_status",["angular2/core","angular2/src/common/forms/directives/ng_control","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var lang_1=require("angular2/src/facade/lang");var NgControlStatus=(function(){function NgControlStatus(cd){this._cd=cd;}
Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.untouched:false;},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.touched:false;},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.pristine:false;},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.dirty:false;},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.valid:false;},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return lang_1.isPresent(this._cd.control)?!this._cd.control.valid:false;},enumerable:true,configurable:true});NgControlStatus=__decorate([core_1.Directive({selector:'[ngControl],[ngModel],[ngFormControl]',host:{'[class.ng-untouched]':'ngClassUntouched','[class.ng-touched]':'ngClassTouched','[class.ng-pristine]':'ngClassPristine','[class.ng-dirty]':'ngClassDirty','[class.ng-valid]':'ngClassValid','[class.ng-invalid]':'ngClassInvalid'}}),__param(0,core_1.Self()),__metadata('design:paramtypes',[ng_control_1.NgControl])],NgControlStatus);return NgControlStatus;})();exports.NgControlStatus=NgControlStatus;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/validators",["angular2/core","angular2/src/facade/lang","angular2/src/common/forms/validators","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var validators_1=require("angular2/src/common/forms/validators");var lang_2=require("angular2/src/facade/lang");var REQUIRED_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useValue:validators_1.Validators.required,multi:true}));var RequiredValidator=(function(){function RequiredValidator(){}
RequiredValidator=__decorate([core_1.Directive({selector:'[required][ngControl],[required][ngFormControl],[required][ngModel]',providers:[REQUIRED_VALIDATOR]}),__metadata('design:paramtypes',[])],RequiredValidator);return RequiredValidator;})();exports.RequiredValidator=RequiredValidator;var MIN_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MinLengthValidator;}),multi:true}));var MinLengthValidator=(function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_2.NumberWrapper.parseInt(minLength,10));}
MinLengthValidator.prototype.validate=function(c){return this._validator(c);};MinLengthValidator=__decorate([core_1.Directive({selector:'[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]',providers:[MIN_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("minlength")),__metadata('design:paramtypes',[String])],MinLengthValidator);return MinLengthValidator;})();exports.MinLengthValidator=MinLengthValidator;var MAX_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MaxLengthValidator;}),multi:true}));var MaxLengthValidator=(function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_2.NumberWrapper.parseInt(maxLength,10));}
MaxLengthValidator.prototype.validate=function(c){return this._validator(c);};MaxLengthValidator=__decorate([core_1.Directive({selector:'[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]',providers:[MAX_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("maxlength")),__metadata('design:paramtypes',[String])],MaxLengthValidator);return MaxLengthValidator;})();exports.MaxLengthValidator=MaxLengthValidator;var PATTERN_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return PatternValidator;}),multi:true}));var PatternValidator=(function(){function PatternValidator(pattern){this._validator=validators_1.Validators.pattern(pattern);}
PatternValidator.prototype.validate=function(c){return this._validator(c);};PatternValidator=__decorate([core_1.Directive({selector:'[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]',providers:[PATTERN_VALIDATOR]}),__param(0,core_1.Attribute("pattern")),__metadata('design:paramtypes',[String])],PatternValidator);return PatternValidator;})();exports.PatternValidator=PatternValidator;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/form_builder",["angular2/core","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/common/forms/model"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var modelModule=require("angular2/src/common/forms/model");var FormBuilder=(function(){function FormBuilder(){}
FormBuilder.prototype.group=function(controlsConfig,extra){if(extra===void 0){extra=null;}
var controls=this._reduceControls(controlsConfig);var optionals=(lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null);var validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null;var asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new modelModule.ControlGroup(controls,optionals,validator,asyncValidator);};FormBuilder.prototype.control=function(value,validator,asyncValidator){if(validator===void 0){validator=null;}
if(asyncValidator===void 0){asyncValidator=null;}
return new modelModule.Control(value,validator,asyncValidator);};FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;if(validator===void 0){validator=null;}
if(asyncValidator===void 0){asyncValidator=null;}
var controls=controlsConfig.map(function(c){return _this._createControl(c);});return new modelModule.ControlArray(controls,validator,asyncValidator);};FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this;var controls={};collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig);});return controls;};FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof modelModule.Control||controlConfig instanceof modelModule.ControlGroup||controlConfig instanceof modelModule.ControlArray){return controlConfig;}else if(lang_1.isArray(controlConfig)){var value=controlConfig[0];var validator=controlConfig.length>1?controlConfig[1]:null;var asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator);}else{return this.control(controlConfig);}};FormBuilder=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],FormBuilder);return FormBuilder;})();exports.FormBuilder=FormBuilder;global.define=__define;return module.exports;});System.register("angular2/src/common/common_directives",["angular2/src/facade/lang","angular2/src/common/forms","angular2/src/common/directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var forms_1=require("angular2/src/common/forms");var directives_1=require("angular2/src/common/directives");exports.COMMON_DIRECTIVES=lang_1.CONST_EXPR([directives_1.CORE_DIRECTIVES,forms_1.FORM_DIRECTIVES]);global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/events/key_events",["angular2/src/platform/dom/dom_adapter","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/platform/dom/events/event_manager","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var di_1=require("angular2/src/core/di");var modifierKeys=['alt','control','meta','shift'];var modifierKeyGetters={'alt':function(event){return event.altKey;},'control':function(event){return event.ctrlKey;},'meta':function(event){return event.metaKey;},'shift':function(event){return event.shiftKey;}};var KeyEventsPlugin=(function(_super){__extends(KeyEventsPlugin,_super);function KeyEventsPlugin(){_super.call(this);}
KeyEventsPlugin.prototype.supports=function(eventName){return lang_1.isPresent(KeyEventsPlugin.parseEventName(eventName));};KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName);var outsideHandler=KeyEventsPlugin.eventCallback(element,collection_1.StringMapWrapper.get(parsedEvent,'fullKey'),handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,collection_1.StringMapWrapper.get(parsedEvent,'domEventName'),outsideHandler);});};KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split('.');var domEventName=parts.shift();if((parts.length===0)||!(lang_1.StringWrapper.equals(domEventName,'keydown')||lang_1.StringWrapper.equals(domEventName,'keyup'))){return null;}
var key=KeyEventsPlugin._normalizeKey(parts.pop());var fullKey='';modifierKeys.forEach(function(modifierName){if(collection_1.ListWrapper.contains(parts,modifierName)){collection_1.ListWrapper.remove(parts,modifierName);fullKey+=modifierName+'.';}});fullKey+=key;if(parts.length!=0||key.length===0){return null;}
var result=collection_1.StringMapWrapper.create();collection_1.StringMapWrapper.set(result,'domEventName',domEventName);collection_1.StringMapWrapper.set(result,'fullKey',fullKey);return result;};KeyEventsPlugin.getEventFullKey=function(event){var fullKey='';var key=dom_adapter_1.DOM.getEventKey(event);key=key.toLowerCase();if(lang_1.StringWrapper.equals(key,' ')){key='space';}else if(lang_1.StringWrapper.equals(key,'.')){key='dot';}
modifierKeys.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=collection_1.StringMapWrapper.get(modifierKeyGetters,modifierName);if(modifierGetter(event)){fullKey+=modifierName+'.';}}});fullKey+=key;return fullKey;};KeyEventsPlugin.eventCallback=function(element,fullKey,handler,zone){return function(event){if(lang_1.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(event),fullKey)){zone.run(function(){return handler(event);});}};};KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case'esc':return'escape';default:return keyName;}};KeyEventsPlugin=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],KeyEventsPlugin);return KeyEventsPlugin;})(event_manager_1.EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin;global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/events/hammer_common",["angular2/src/platform/dom/events/event_manager","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var collection_1=require("angular2/src/facade/collection");var _eventNames={'pan':true,'panstart':true,'panmove':true,'panend':true,'pancancel':true,'panleft':true,'panright':true,'panup':true,'pandown':true,'pinch':true,'pinchstart':true,'pinchmove':true,'pinchend':true,'pinchcancel':true,'pinchin':true,'pinchout':true,'press':true,'pressup':true,'rotate':true,'rotatestart':true,'rotatemove':true,'rotateend':true,'rotatecancel':true,'swipe':true,'swipeleft':true,'swiperight':true,'swipeup':true,'swipedown':true,'tap':true};var HammerGesturesPluginCommon=(function(_super){__extends(HammerGesturesPluginCommon,_super);function HammerGesturesPluginCommon(){_super.call(this);}
HammerGesturesPluginCommon.prototype.supports=function(eventName){eventName=eventName.toLowerCase();return collection_1.StringMapWrapper.contains(_eventNames,eventName);};return HammerGesturesPluginCommon;})(event_manager_1.EventManagerPlugin);exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon;global.define=__define;return module.exports;});System.register("angular2/src/compiler/xhr",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var XHR=(function(){function XHR(){}
XHR.prototype.get=function(url){return null;};return XHR;})();exports.XHR=XHR;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/testability",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var core_1=require("angular2/core");var PublicTestability=(function(){function PublicTestability(testability){this._testability=testability;}
PublicTestability.prototype.isStable=function(){return this._testability.isStable();};PublicTestability.prototype.whenStable=function(callback){this._testability.whenStable(callback);};PublicTestability.prototype.findBindings=function(using,provider,exactMatch){return this.findProviders(using,provider,exactMatch);};PublicTestability.prototype.findProviders=function(using,provider,exactMatch){return this._testability.findBindings(using,provider,exactMatch);};return PublicTestability;})();var BrowserGetTestability=(function(){function BrowserGetTestability(){}
BrowserGetTestability.init=function(){core_1.setTestabilityGetter(new BrowserGetTestability());};BrowserGetTestability.prototype.addToWindow=function(registry){lang_1.global.getAngularTestability=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true;}
var testability=registry.findTestabilityInTree(elem,findInAncestors);if(testability==null){throw new Error('Could not find testability for element.');}
return new PublicTestability(testability);};lang_1.global.getAllAngularTestabilities=function(){var testabilities=registry.getAllTestabilities();return testabilities.map(function(testability){return new PublicTestability(testability);});};lang_1.global.getAllAngularRootElements=function(){return registry.getAllRootElements();};var whenAllStable=function(callback){var testabilities=lang_1.global.getAllAngularTestabilities();var count=testabilities.length;var didWork=false;var decrement=function(didWork_){didWork=didWork||didWork_;count--;if(count==0){callback(didWork);}};testabilities.forEach(function(testability){testability.whenStable(decrement);});};if(!lang_1.global.frameworkStabilizers){lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0);}
lang_1.global.frameworkStabilizers.push(whenAllStable);};BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(elem==null){return null;}
var t=registry.getTestability(elem);if(lang_1.isPresent(t)){return t;}else if(!findInAncestors){return null;}
if(dom_adapter_1.DOM.isShadowRoot(elem)){return this.findTestabilityInTree(registry,dom_adapter_1.DOM.getHost(elem),true);}
return this.findTestabilityInTree(registry,dom_adapter_1.DOM.parentElement(elem),true);};return BrowserGetTestability;})();exports.BrowserGetTestability=BrowserGetTestability;global.define=__define;return module.exports;});System.register("angular2/src/core/profile/wtf_init",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function wtfInit(){}
exports.wtfInit=wtfInit;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/title",["angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var Title=(function(){function Title(){}
Title.prototype.getTitle=function(){return dom_adapter_1.DOM.getTitle();};Title.prototype.setTitle=function(newTitle){dom_adapter_1.DOM.setTitle(newTitle);};return Title;})();exports.Title=Title;global.define=__define;return module.exports;});System.register("angular2/src/facade/browser",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var win=window;exports.window=win;exports.document=window.document;exports.location=window.location;exports.gc=window['gc']?function(){return window['gc']();}:function(){return null;};exports.performance=window['performance']?window['performance']:null;exports.Event=window['Event'];exports.MouseEvent=window['MouseEvent'];exports.KeyboardEvent=window['KeyboardEvent'];exports.EventTarget=window['EventTarget'];exports.History=window['History'];exports.Location=window['Location'];exports.EventListener=window['EventListener'];global.define=__define;return module.exports;});System.register("angular2/src/compiler/url_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/core/application_tokens","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var application_tokens_1=require("angular2/src/core/application_tokens");var di_2=require("angular2/src/core/di");function createWithoutPackagePrefix(){return new UrlResolver();}
exports.createWithoutPackagePrefix=createWithoutPackagePrefix;exports.DEFAULT_PACKAGE_URL_PROVIDER=new di_2.Provider(application_tokens_1.PACKAGE_ROOT_URL,{useValue:"/"});var UrlResolver=(function(){function UrlResolver(packagePrefix){if(packagePrefix===void 0){packagePrefix=null;}
if(lang_1.isPresent(packagePrefix)){this._packagePrefix=lang_1.StringWrapper.stripRight(packagePrefix,"/")+"/";}}
UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;if(lang_1.isPresent(baseUrl)&&baseUrl.length>0){resolvedUrl=_resolveUrl(baseUrl,resolvedUrl);}
if(lang_1.isPresent(this._packagePrefix)&&getUrlScheme(resolvedUrl)=="package"){resolvedUrl=resolvedUrl.replace("package:",this._packagePrefix);}
return resolvedUrl;};UrlResolver=__decorate([di_1.Injectable(),__param(0,di_1.Inject(application_tokens_1.PACKAGE_ROOT_URL)),__metadata('design:paramtypes',[String])],UrlResolver);return UrlResolver;})();exports.UrlResolver=UrlResolver;function getUrlScheme(url){var match=_split(url);return(match&&match[_ComponentIndex.Scheme])||"";}
exports.getUrlScheme=getUrlScheme;function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];if(lang_1.isPresent(opt_scheme)){out.push(opt_scheme+':');}
if(lang_1.isPresent(opt_domain)){out.push('//');if(lang_1.isPresent(opt_userInfo)){out.push(opt_userInfo+'@');}
out.push(opt_domain);if(lang_1.isPresent(opt_port)){out.push(':'+opt_port);}}
if(lang_1.isPresent(opt_path)){out.push(opt_path);}
if(lang_1.isPresent(opt_queryData)){out.push('?'+opt_queryData);}
if(lang_1.isPresent(opt_fragment)){out.push('#'+opt_fragment);}
return out.join('');}
var _splitRe=lang_1.RegExpWrapper.create('^'+'(?:'+'([^:/?#.]+)'+':)?'+'(?://'+'(?:([^/?#]*)@)?'+'([\\w\\d\\-\\u0100-\\uffff.%]*)'+'(?::([0-9]+))?'+')?'+'([^?#]+)?'+'(?:\\?([^#]*))?'+'(?:#(.*))?'+'$');var _ComponentIndex;(function(_ComponentIndex){_ComponentIndex[_ComponentIndex["Scheme"]=1]="Scheme";_ComponentIndex[_ComponentIndex["UserInfo"]=2]="UserInfo";_ComponentIndex[_ComponentIndex["Domain"]=3]="Domain";_ComponentIndex[_ComponentIndex["Port"]=4]="Port";_ComponentIndex[_ComponentIndex["Path"]=5]="Path";_ComponentIndex[_ComponentIndex["QueryData"]=6]="QueryData";_ComponentIndex[_ComponentIndex["Fragment"]=7]="Fragment";})(_ComponentIndex||(_ComponentIndex={}));function _split(uri){return lang_1.RegExpWrapper.firstMatch(_splitRe,uri);}
function _removeDotSegments(path){if(path=='/')
return'/';var leadingSlash=path[0]=='/'?'/':'';var trailingSlash=path[path.length-1]==='/'?'/':'';var segments=path.split('/');var out=[];var up=0;for(var pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case'':case'.':break;case'..':if(out.length>0){out.pop();}else{up++;}
break;default:out.push(segment);}}
if(leadingSlash==''){while(up-->0){out.unshift('..');}
if(out.length===0)
out.push('.');}
return leadingSlash+out.join('/')+trailingSlash;}
function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];path=lang_1.isBlank(path)?'':_removeDotSegments(path);parts[_ComponentIndex.Path]=path;return _buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment]);}
function _resolveUrl(base,url){var parts=_split(encodeURI(url));var baseParts=_split(base);if(lang_1.isPresent(parts[_ComponentIndex.Scheme])){return _joinAndCanonicalizePath(parts);}else{parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];}
for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++){if(lang_1.isBlank(parts[i])){parts[i]=baseParts[i];}}
if(parts[_ComponentIndex.Path][0]=='/'){return _joinAndCanonicalizePath(parts);}
var path=baseParts[_ComponentIndex.Path];if(lang_1.isBlank(path))
path='/';var index=path.lastIndexOf('/');path=path.substring(0,index+1)+parts[_ComponentIndex.Path];parts[_ComponentIndex.Path]=path;return _joinAndCanonicalizePath(parts);}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/selector",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var _EMPTY_ATTR_VALUE='';var _SELECTOR_REGEXP=lang_1.RegExpWrapper.create('(\\:not\\()|'+'([-\\w]+)|'+'(?:\\.([-\\w]+))|'+'(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|'+'(\\))|'+'(\\s*,\\s*)');var CssSelector=(function(){function CssSelector(){this.element=null;this.classNames=[];this.attrs=[];this.notSelectors=[];}
CssSelector.parse=function(selector){var results=[];var _addResult=function(res,cssSel){if(cssSel.notSelectors.length>0&&lang_1.isBlank(cssSel.element)&&collection_1.ListWrapper.isEmpty(cssSel.classNames)&&collection_1.ListWrapper.isEmpty(cssSel.attrs)){cssSel.element="*";}
res.push(cssSel);};var cssSelector=new CssSelector();var matcher=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,selector);var match;var current=cssSelector;var inNot=false;while(lang_1.isPresent(match=lang_1.RegExpMatcherWrapper.next(matcher))){if(lang_1.isPresent(match[1])){if(inNot){throw new exceptions_1.BaseException('Nesting :not is not allowed in a selector');}
inNot=true;current=new CssSelector();cssSelector.notSelectors.push(current);}
if(lang_1.isPresent(match[2])){current.setElement(match[2]);}
if(lang_1.isPresent(match[3])){current.addClassName(match[3]);}
if(lang_1.isPresent(match[4])){current.addAttribute(match[4],match[5]);}
if(lang_1.isPresent(match[6])){inNot=false;current=cssSelector;}
if(lang_1.isPresent(match[7])){if(inNot){throw new exceptions_1.BaseException('Multiple selectors in :not are not supported');}
_addResult(results,cssSelector);cssSelector=current=new CssSelector();}}
_addResult(results,cssSelector);return results;};CssSelector.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&this.notSelectors.length===0;};CssSelector.prototype.setElement=function(element){if(element===void 0){element=null;}
this.element=element;};CssSelector.prototype.getMatchingElementTemplate=function(){var tagName=lang_1.isPresent(this.element)?this.element:'div';var classAttr=this.classNames.length>0?" class=\""+this.classNames.join(' ')+"\"":'';var attrs='';for(var i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i];var attrValue=this.attrs[i+1]!==''?"=\""+this.attrs[i+1]+"\"":'';attrs+=" "+attrName+attrValue;}
return"<"+tagName+classAttr+attrs+"></"+tagName+">";};CssSelector.prototype.addAttribute=function(name,value){if(value===void 0){value=_EMPTY_ATTR_VALUE;}
this.attrs.push(name);if(lang_1.isPresent(value)){value=value.toLowerCase();}else{value=_EMPTY_ATTR_VALUE;}
this.attrs.push(value);};CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase());};CssSelector.prototype.toString=function(){var res='';if(lang_1.isPresent(this.element)){res+=this.element;}
if(lang_1.isPresent(this.classNames)){for(var i=0;i<this.classNames.length;i++){res+='.'+this.classNames[i];}}
if(lang_1.isPresent(this.attrs)){for(var i=0;i<this.attrs.length;){var attrName=this.attrs[i++];var attrValue=this.attrs[i++];res+='['+attrName;if(attrValue.length>0){res+='='+attrValue;}
res+=']';}}
this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")";});return res;};return CssSelector;})();exports.CssSelector=CssSelector;var SelectorMatcher=(function(){function SelectorMatcher(){this._elementMap=new collection_1.Map();this._elementPartialMap=new collection_1.Map();this._classMap=new collection_1.Map();this._classPartialMap=new collection_1.Map();this._attrValueMap=new collection_1.Map();this._attrValuePartialMap=new collection_1.Map();this._listContexts=[];}
SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher();notMatcher.addSelectables(notSelectors,null);return notMatcher;};SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;if(cssSelectors.length>1){listContext=new SelectorListContext(cssSelectors);this._listContexts.push(listContext);}
for(var i=0;i<cssSelectors.length;i++){this._addSelectable(cssSelectors[i],callbackCtxt,listContext);}};SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this;var element=cssSelector.element;var classNames=cssSelector.classNames;var attrs=cssSelector.attrs;var selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(lang_1.isPresent(element)){var isTerminal=attrs.length===0&&classNames.length===0;if(isTerminal){this._addTerminal(matcher._elementMap,element,selectable);}else{matcher=this._addPartial(matcher._elementPartialMap,element);}}
if(lang_1.isPresent(classNames)){for(var index=0;index<classNames.length;index++){var isTerminal=attrs.length===0&&index===classNames.length-1;var className=classNames[index];if(isTerminal){this._addTerminal(matcher._classMap,className,selectable);}else{matcher=this._addPartial(matcher._classPartialMap,className);}}}
if(lang_1.isPresent(attrs)){for(var index=0;index<attrs.length;){var isTerminal=index===attrs.length-2;var attrName=attrs[index++];var attrValue=attrs[index++];if(isTerminal){var terminalMap=matcher._attrValueMap;var terminalValuesMap=terminalMap.get(attrName);if(lang_1.isBlank(terminalValuesMap)){terminalValuesMap=new collection_1.Map();terminalMap.set(attrName,terminalValuesMap);}
this._addTerminal(terminalValuesMap,attrValue,selectable);}else{var parttialMap=matcher._attrValuePartialMap;var partialValuesMap=parttialMap.get(attrName);if(lang_1.isBlank(partialValuesMap)){partialValuesMap=new collection_1.Map();parttialMap.set(attrName,partialValuesMap);}
matcher=this._addPartial(partialValuesMap,attrValue);}}}};SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);if(lang_1.isBlank(terminalList)){terminalList=[];map.set(name,terminalList);}
terminalList.push(selectable);};SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);if(lang_1.isBlank(matcher)){matcher=new SelectorMatcher();map.set(name,matcher);}
return matcher;};SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){var result=false;var element=cssSelector.element;var classNames=cssSelector.classNames;var attrs=cssSelector.attrs;for(var i=0;i<this._listContexts.length;i++){this._listContexts[i].alreadyMatched=false;}
result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result;result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result;if(lang_1.isPresent(classNames)){for(var index=0;index<classNames.length;index++){var className=classNames[index];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result;result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result;}}
if(lang_1.isPresent(attrs)){for(var index=0;index<attrs.length;){var attrName=attrs[index++];var attrValue=attrs[index++];var terminalValuesMap=this._attrValueMap.get(attrName);if(!lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)){result=this._matchTerminal(terminalValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result;}
result=this._matchTerminal(terminalValuesMap,attrValue,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(attrName);if(!lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)){result=this._matchPartial(partialValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result;}
result=this._matchPartial(partialValuesMap,attrValue,cssSelector,matchedCallback)||result;}}
return result;};SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name)){return false;}
var selectables=map.get(name);var starSelectables=map.get("*");if(lang_1.isPresent(starSelectables)){selectables=selectables.concat(starSelectables);}
if(lang_1.isBlank(selectables)){return false;}
var selectable;var result=false;for(var index=0;index<selectables.length;index++){selectable=selectables[index];result=selectable.finalize(cssSelector,matchedCallback)||result;}
return result;};SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name)){return false;}
var nestedSelector=map.get(name);if(lang_1.isBlank(nestedSelector)){return false;}
return nestedSelector.match(cssSelector,matchedCallback);};return SelectorMatcher;})();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=(function(){function SelectorListContext(selectors){this.selectors=selectors;this.alreadyMatched=false;}
return SelectorListContext;})();exports.SelectorListContext=SelectorListContext;var SelectorContext=(function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector;this.cbContext=cbContext;this.listContext=listContext;this.notSelectors=selector.notSelectors;}
SelectorContext.prototype.finalize=function(cssSelector,callback){var result=true;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null);}
if(result&&lang_1.isPresent(callback)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){if(lang_1.isPresent(this.listContext)){this.listContext.alreadyMatched=true;}
callback(this.selector,this.cbContext);}
return result;};return SelectorContext;})();exports.SelectorContext=SelectorContext;global.define=__define;return module.exports;});System.register("angular2/src/compiler/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;var SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g;var DOUBLE_QUOTE_ESCAPE_STRING_RE=/"|\\|\n|\r|\$/g;exports.MODULE_SUFFIX=lang_1.IS_DART?'.dart':'.js';exports.CONST_VAR=lang_1.IS_DART?'const':'var';function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return'-'+m[1].toLowerCase();});}
exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase();});}
exports.dashCaseToCamelCase=dashCaseToCamelCase;function escapeSingleQuoteString(input){if(lang_1.isBlank(input)){return null;}
return"'"+escapeString(input,SINGLE_QUOTE_ESCAPE_STRING_RE)+"'";}
exports.escapeSingleQuoteString=escapeSingleQuoteString;function escapeDoubleQuoteString(input){if(lang_1.isBlank(input)){return null;}
return"\""+escapeString(input,DOUBLE_QUOTE_ESCAPE_STRING_RE)+"\"";}
exports.escapeDoubleQuoteString=escapeDoubleQuoteString;function escapeString(input,re){return lang_1.StringWrapper.replaceAllMapped(input,re,function(match){if(match[0]=='$'){return lang_1.IS_DART?'\\$':'$';}else if(match[0]=='\n'){return'\\n';}else if(match[0]=='\r'){return'\\r';}else{return"\\"+match[0];}});}
function codeGenExportVariable(name){if(lang_1.IS_DART){return"const "+name+" = ";}else{return"var "+name+" = exports['"+name+"'] = ";}}
exports.codeGenExportVariable=codeGenExportVariable;function codeGenConstConstructorCall(name){if(lang_1.IS_DART){return"const "+name;}else{return"new "+name;}}
exports.codeGenConstConstructorCall=codeGenConstConstructorCall;function codeGenValueFn(params,value,fnName){if(fnName===void 0){fnName='';}
if(lang_1.IS_DART){return codeGenFnHeader(params,fnName)+" => "+value;}else{return codeGenFnHeader(params,fnName)+" { return "+value+"; }";}}
exports.codeGenValueFn=codeGenValueFn;function codeGenFnHeader(params,fnName){if(fnName===void 0){fnName='';}
if(lang_1.IS_DART){return fnName+"("+params.join(',')+")";}else{return"function "+fnName+"("+params.join(',')+")";}}
exports.codeGenFnHeader=codeGenFnHeader;function codeGenToString(expr){if(lang_1.IS_DART){return"'${"+expr+"}'";}else{return expr;}}
exports.codeGenToString=codeGenToString;function splitAtColon(input,defaultValues){var parts=lang_1.StringWrapper.split(input.trim(),/\s*:\s*/g);if(parts.length>1){return parts;}else{return defaultValues;}}
exports.splitAtColon=splitAtColon;var Statement=(function(){function Statement(statement){this.statement=statement;}
return Statement;})();exports.Statement=Statement;var Expression=(function(){function Expression(expression,isArray){if(isArray===void 0){isArray=false;}
this.expression=expression;this.isArray=isArray;}
return Expression;})();exports.Expression=Expression;function escapeValue(value){if(value instanceof Expression){return value.expression;}else if(lang_1.isString(value)){return escapeSingleQuoteString(value);}else if(lang_1.isBlank(value)){return'null';}else{return""+value;}}
exports.escapeValue=escapeValue;function codeGenArray(data){return"["+data.map(escapeValue).join(',')+"]";}
exports.codeGenArray=codeGenArray;function codeGenFlatArray(values){var result='([';var isFirstArrayEntry=true;var concatFn=lang_1.IS_DART?'.addAll':'concat';for(var i=0;i<values.length;i++){var value=values[i];if(value instanceof Expression&&value.isArray){result+="])."+concatFn+"("+value.expression+")."+concatFn+"([";isFirstArrayEntry=true;}else{if(!isFirstArrayEntry){result+=',';}
isFirstArrayEntry=false;result+=escapeValue(value);}}
result+='])';return result;}
exports.codeGenFlatArray=codeGenFlatArray;function codeGenStringMap(keyValueArray){return"{"+keyValueArray.map(codeGenKeyValue).join(',')+"}";}
exports.codeGenStringMap=codeGenStringMap;function codeGenKeyValue(keyValue){return escapeValue(keyValue[0])+":"+escapeValue(keyValue[1]);}
function addAll(source,target){for(var i=0;i<source.length;i++){target.push(source[i]);}}
exports.addAll=addAll;function flattenArray(source,target){if(lang_1.isPresent(source)){for(var i=0;i<source.length;i++){var item=source[i];if(lang_1.isArray(item)){flattenArray(item,target);}else{target.push(item);}}}
return target;}
exports.flattenArray=flattenArray;global.define=__define;return module.exports;});System.register("angular2/src/core/linker/interfaces",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(LifecycleHooks){LifecycleHooks[LifecycleHooks["OnInit"]=0]="OnInit";LifecycleHooks[LifecycleHooks["OnDestroy"]=1]="OnDestroy";LifecycleHooks[LifecycleHooks["DoCheck"]=2]="DoCheck";LifecycleHooks[LifecycleHooks["OnChanges"]=3]="OnChanges";LifecycleHooks[LifecycleHooks["AfterContentInit"]=4]="AfterContentInit";LifecycleHooks[LifecycleHooks["AfterContentChecked"]=5]="AfterContentChecked";LifecycleHooks[LifecycleHooks["AfterViewInit"]=6]="AfterViewInit";LifecycleHooks[LifecycleHooks["AfterViewChecked"]=7]="AfterViewChecked";})(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];global.define=__define;return module.exports;});System.register("angular2/src/compiler/template_ast",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var TextAst=(function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan;}
TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context);};return TextAst;})();exports.TextAst=TextAst;var BoundTextAst=(function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan;}
BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context);};return BoundTextAst;})();exports.BoundTextAst=BoundTextAst;var AttrAst=(function(){function AttrAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan;}
AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context);};return AttrAst;})();exports.AttrAst=AttrAst;var BoundElementPropertyAst=(function(){function BoundElementPropertyAst(name,type,value,unit,sourceSpan){this.name=name;this.type=type;this.value=value;this.unit=unit;this.sourceSpan=sourceSpan;}
BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context);};return BoundElementPropertyAst;})();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=(function(){function BoundEventAst(name,target,handler,sourceSpan){this.name=name;this.target=target;this.handler=handler;this.sourceSpan=sourceSpan;}
BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context);};Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){if(lang_1.isPresent(this.target)){return this.target+":"+this.name;}else{return this.name;}},enumerable:true,configurable:true});return BoundEventAst;})();exports.BoundEventAst=BoundEventAst;var VariableAst=(function(){function VariableAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan;}
VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context);};return VariableAst;})();exports.VariableAst=VariableAst;var ElementAst=(function(){function ElementAst(name,attrs,inputs,outputs,exportAsVars,directives,children,ngContentIndex,sourceSpan){this.name=name;this.attrs=attrs;this.inputs=inputs;this.outputs=outputs;this.exportAsVars=exportAsVars;this.directives=directives;this.children=children;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan;}
ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context);};ElementAst.prototype.isBound=function(){return(this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0);};ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null;};return ElementAst;})();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=(function(){function EmbeddedTemplateAst(attrs,outputs,vars,directives,children,ngContentIndex,sourceSpan){this.attrs=attrs;this.outputs=outputs;this.vars=vars;this.directives=directives;this.children=children;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan;}
EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context);};return EmbeddedTemplateAst;})();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=(function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName;this.templateName=templateName;this.value=value;this.sourceSpan=sourceSpan;}
BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context);};return BoundDirectivePropertyAst;})();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=(function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,exportAsVars,sourceSpan){this.directive=directive;this.inputs=inputs;this.hostProperties=hostProperties;this.hostEvents=hostEvents;this.exportAsVars=exportAsVars;this.sourceSpan=sourceSpan;}
DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context);};return DirectiveAst;})();exports.DirectiveAst=DirectiveAst;var NgContentAst=(function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan;}
NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context);};return NgContentAst;})();exports.NgContentAst=NgContentAst;(function(PropertyBindingType){PropertyBindingType[PropertyBindingType["Property"]=0]="Property";PropertyBindingType[PropertyBindingType["Attribute"]=1]="Attribute";PropertyBindingType[PropertyBindingType["Class"]=2]="Class";PropertyBindingType[PropertyBindingType["Style"]=3]="Style";})(exports.PropertyBindingType||(exports.PropertyBindingType={}));var PropertyBindingType=exports.PropertyBindingType;function templateVisitAll(visitor,asts,context){if(context===void 0){context=null;}
var result=[];asts.forEach(function(ast){var astResult=ast.visit(visitor,context);if(lang_1.isPresent(astResult)){result.push(astResult);}});return result;}
exports.templateVisitAll=templateVisitAll;global.define=__define;return module.exports;});System.register("angular2/src/compiler/source_module",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var MODULE_REGEXP=/#MODULE\[([^\]]*)\]/g;function moduleRef(moduleUrl){return"#MODULE["+moduleUrl+"]";}
exports.moduleRef=moduleRef;var SourceModule=(function(){function SourceModule(moduleUrl,sourceWithModuleRefs){this.moduleUrl=moduleUrl;this.sourceWithModuleRefs=sourceWithModuleRefs;}
SourceModule.getSourceWithoutImports=function(sourceWithModuleRefs){return lang_1.StringWrapper.replaceAllMapped(sourceWithModuleRefs,MODULE_REGEXP,function(match){return'';});};SourceModule.prototype.getSourceWithImports=function(){var _this=this;var moduleAliases={};var imports=[];var newSource=lang_1.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,MODULE_REGEXP,function(match){var moduleUrl=match[1];var alias=moduleAliases[moduleUrl];if(lang_1.isBlank(alias)){if(moduleUrl==_this.moduleUrl){alias='';}else{alias="import"+imports.length;imports.push([moduleUrl,alias]);}
moduleAliases[moduleUrl]=alias;}
return alias.length>0?alias+".":'';});return new SourceWithImports(newSource,imports);};return SourceModule;})();exports.SourceModule=SourceModule;var SourceExpression=(function(){function SourceExpression(declarations,expression){this.declarations=declarations;this.expression=expression;}
return SourceExpression;})();exports.SourceExpression=SourceExpression;var SourceExpressions=(function(){function SourceExpressions(declarations,expressions){this.declarations=declarations;this.expressions=expressions;}
return SourceExpressions;})();exports.SourceExpressions=SourceExpressions;var SourceWithImports=(function(){function SourceWithImports(source,imports){this.source=source;this.imports=imports;}
return SourceWithImports;})();exports.SourceWithImports=SourceWithImports;global.define=__define;return module.exports;});System.register("angular2/src/compiler/change_definition_factory",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/core/reflection/reflection","angular2/src/core/change_detection/change_detection","angular2/src/compiler/template_ast","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var reflection_1=require("angular2/src/core/reflection/reflection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var template_ast_1=require("angular2/src/compiler/template_ast");var interfaces_1=require("angular2/src/core/linker/interfaces");function createChangeDetectorDefinitions(componentType,componentStrategy,genConfig,parsedTemplate){var pvVisitors=[];var visitor=new ProtoViewVisitor(null,pvVisitors,componentStrategy);template_ast_1.templateVisitAll(visitor,parsedTemplate);return createChangeDefinitions(pvVisitors,componentType,genConfig);}
exports.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var ProtoViewVisitor=(function(){function ProtoViewVisitor(parent,allVisitors,strategy){this.parent=parent;this.allVisitors=allVisitors;this.strategy=strategy;this.nodeCount=0;this.boundElementCount=0;this.variableNames=[];this.bindingRecords=[];this.eventRecords=[];this.directiveRecords=[];this.viewIndex=allVisitors.length;allVisitors.push(this);}
ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(ast,context){this.nodeCount++;this.boundElementCount++;template_ast_1.templateVisitAll(this,ast.outputs);for(var i=0;i<ast.directives.length;i++){ast.directives[i].visit(this,i);}
var childVisitor=new ProtoViewVisitor(this,this.allVisitors,change_detection_1.ChangeDetectionStrategy.Default);template_ast_1.templateVisitAll(childVisitor,ast.vars);template_ast_1.templateVisitAll(childVisitor,ast.children);return null;};ProtoViewVisitor.prototype.visitElement=function(ast,context){this.nodeCount++;if(ast.isBound()){this.boundElementCount++;}
template_ast_1.templateVisitAll(this,ast.inputs,null);template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.exportAsVars);for(var i=0;i<ast.directives.length;i++){ast.directives[i].visit(this,i);}
template_ast_1.templateVisitAll(this,ast.children);return null;};ProtoViewVisitor.prototype.visitNgContent=function(ast,context){return null;};ProtoViewVisitor.prototype.visitVariable=function(ast,context){this.variableNames.push(ast.name);return null;};ProtoViewVisitor.prototype.visitEvent=function(ast,directiveRecord){var bindingRecord=lang_1.isPresent(directiveRecord)?change_detection_1.BindingRecord.createForHostEvent(ast.handler,ast.fullName,directiveRecord):change_detection_1.BindingRecord.createForEvent(ast.handler,ast.fullName,this.boundElementCount-1);this.eventRecords.push(bindingRecord);return null;};ProtoViewVisitor.prototype.visitElementProperty=function(ast,directiveRecord){var boundElementIndex=this.boundElementCount-1;var dirIndex=lang_1.isPresent(directiveRecord)?directiveRecord.directiveIndex:null;var bindingRecord;if(ast.type===template_ast_1.PropertyBindingType.Property){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostProperty(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementProperty(ast.value,boundElementIndex,ast.name);}else if(ast.type===template_ast_1.PropertyBindingType.Attribute){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostAttribute(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementAttribute(ast.value,boundElementIndex,ast.name);}else if(ast.type===template_ast_1.PropertyBindingType.Class){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostClass(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementClass(ast.value,boundElementIndex,ast.name);}else if(ast.type===template_ast_1.PropertyBindingType.Style){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostStyle(dirIndex,ast.value,ast.name,ast.unit):change_detection_1.BindingRecord.createForElementStyle(ast.value,boundElementIndex,ast.name,ast.unit);}
this.bindingRecords.push(bindingRecord);return null;};ProtoViewVisitor.prototype.visitAttr=function(ast,context){return null;};ProtoViewVisitor.prototype.visitBoundText=function(ast,context){var nodeIndex=this.nodeCount++;this.bindingRecords.push(change_detection_1.BindingRecord.createForTextNode(ast.value,nodeIndex));return null;};ProtoViewVisitor.prototype.visitText=function(ast,context){this.nodeCount++;return null;};ProtoViewVisitor.prototype.visitDirective=function(ast,directiveIndexAsNumber){var directiveIndex=new change_detection_1.DirectiveIndex(this.boundElementCount-1,directiveIndexAsNumber);var directiveMetadata=ast.directive;var outputsArray=[];collection_1.StringMapWrapper.forEach(ast.directive.outputs,function(eventName,dirProperty){return outputsArray.push([dirProperty,eventName]);});var directiveRecord=new change_detection_1.DirectiveRecord({directiveIndex:directiveIndex,callAfterContentInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentInit)!==-1,callAfterContentChecked:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentChecked)!==-1,callAfterViewInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewInit)!==-1,callAfterViewChecked:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewChecked)!==-1,callOnChanges:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnChanges)!==-1,callDoCheck:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.DoCheck)!==-1,callOnInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnInit)!==-1,callOnDestroy:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnDestroy)!==-1,changeDetection:directiveMetadata.changeDetection,outputs:outputsArray});this.directiveRecords.push(directiveRecord);template_ast_1.templateVisitAll(this,ast.inputs,directiveRecord);var bindingRecords=this.bindingRecords;if(directiveRecord.callOnChanges){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnChanges(directiveRecord));}
if(directiveRecord.callOnInit){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnInit(directiveRecord));}
if(directiveRecord.callDoCheck){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveDoCheck(directiveRecord));}
template_ast_1.templateVisitAll(this,ast.hostProperties,directiveRecord);template_ast_1.templateVisitAll(this,ast.hostEvents,directiveRecord);template_ast_1.templateVisitAll(this,ast.exportAsVars);return null;};ProtoViewVisitor.prototype.visitDirectiveProperty=function(ast,directiveRecord){var setter=reflection_1.reflector.setter(ast.directiveName);this.bindingRecords.push(change_detection_1.BindingRecord.createForDirective(ast.value,ast.directiveName,setter,directiveRecord));return null;};return ProtoViewVisitor;})();function createChangeDefinitions(pvVisitors,componentType,genConfig){var pvVariableNames=_collectNestedProtoViewsVariableNames(pvVisitors);return pvVisitors.map(function(pvVisitor){var id=componentType.name+"_"+pvVisitor.viewIndex;return new change_detection_1.ChangeDetectorDefinition(id,pvVisitor.strategy,pvVariableNames[pvVisitor.viewIndex],pvVisitor.bindingRecords,pvVisitor.eventRecords,pvVisitor.directiveRecords,genConfig);});}
function _collectNestedProtoViewsVariableNames(pvVisitors){var nestedPvVariableNames=collection_1.ListWrapper.createFixedSize(pvVisitors.length);pvVisitors.forEach(function(pv){var parentVariableNames=lang_1.isPresent(pv.parent)?nestedPvVariableNames[pv.parent.viewIndex]:[];nestedPvVariableNames[pv.viewIndex]=parentVariableNames.concat(pv.variableNames);});return nestedPvVariableNames;}
global.define=__define;return module.exports;});System.register("angular2/src/transform/template_compiler/change_detector_codegen",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Codegen=(function(){function Codegen(moduleAlias){}
Codegen.prototype.generate=function(typeName,changeDetectorTypeName,def){throw"Not implemented in JS";};Codegen.prototype.toString=function(){throw"Not implemented in JS";};return Codegen;})();exports.Codegen=Codegen;global.define=__define;return module.exports;});System.register("angular2/src/compiler/shadow_css",["angular2/src/facade/collection","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var ShadowCss=(function(){function ShadowCss(){this.strictStyling=true;}
ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){if(hostSelector===void 0){hostSelector='';}
cssText=stripComments(cssText);cssText=this._insertDirectives(cssText);return this._scopeCssText(cssText,selector,hostSelector);};ShadowCss.prototype._insertDirectives=function(cssText){cssText=this._insertPolyfillDirectivesInCssText(cssText);return this._insertPolyfillRulesInCssText(cssText);};ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentNextSelectorRe,function(m){return m[1]+'{';});};ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentRuleRe,function(m){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[1],'');rule=lang_1.StringWrapper.replace(rule,m[2],'');return m[3]+rule;});};ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscoped=this._extractUnscopedRulesFromCssText(cssText);cssText=this._insertPolyfillHostInCssText(cssText);cssText=this._convertColonHost(cssText);cssText=this._convertColonHostContext(cssText);cssText=this._convertShadowDOMSelectors(cssText);if(lang_1.isPresent(scopeSelector)){cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector);}
cssText=cssText+'\n'+unscoped;return cssText.trim();};ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){var r='',m;var matcher=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,cssText);while(lang_1.isPresent(m=lang_1.RegExpMatcherWrapper.next(matcher))){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[2],'');rule=lang_1.StringWrapper.replace(rule,m[1],m[3]);r+=rule+'\n\n';}
return r;};ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer);};ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer);};ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return lang_1.StringWrapper.replaceAllMapped(cssText,regExp,function(m){if(lang_1.isPresent(m[2])){var parts=m[2].split(','),r=[];for(var i=0;i<parts.length;i++){var p=parts[i];if(lang_1.isBlank(p))
break;p=p.trim();r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]));}
return r.join(',');}else{return _polyfillHostNoCombinator+m[3];}});};ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){if(lang_1.StringWrapper.contains(part,_polyfillHost)){return this._colonHostPartReplacer(host,part,suffix);}else{return host+part+suffix+', '+part+' '+host+suffix;}};ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+lang_1.StringWrapper.replace(part,_polyfillHost,'')+suffix;};ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){for(var i=0;i<_shadowDOMSelectorsRe.length;i++){cssText=lang_1.StringWrapper.replaceAll(cssText,_shadowDOMSelectorsRe[i],' ');}
return cssText;};ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector;var content=rule.content;if(rule.selector[0]!='@'||rule.selector.startsWith('@page')){selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling);}else if(rule.selector.startsWith('@media')){content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector);}
return new CssRule(selector,content);});};ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){var r=[],parts=selector.split(',');for(var i=0;i<parts.length;i++){var p=parts[i].trim();var deepParts=lang_1.StringWrapper.split(p,_shadowDeepSelectors);var shallowPart=deepParts[0];if(this._selectorNeedsScoping(shallowPart,scopeSelector)){deepParts[0]=strict&&!lang_1.StringWrapper.contains(shallowPart,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(shallowPart,scopeSelector):this._applySelectorScope(shallowPart,scopeSelector,hostSelector);}
r.push(deepParts.join(' '));}
return r.join(', ');};ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(re,selector));};ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g;var rre=/\]/g;scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,lre,'\\[');scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,rre,'\\]');return lang_1.RegExpWrapper.create('^('+scopeSelector+')'+_selectorReSuffix,'m');};ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector);};ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,selector))){var replaceBy=this.strictStyling?"["+hostSelector+"]":scopeSelector;selector=lang_1.StringWrapper.replace(selector,_polyfillHostNoCombinator,replaceBy);return lang_1.StringWrapper.replaceAll(selector,_polyfillHostRe,replaceBy+' ');}else{return scopeSelector+' '+selector;}};ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector){var isRe=/\[is=([^\]]*)\]/g;scopeSelector=lang_1.StringWrapper.replaceAllMapped(scopeSelector,isRe,function(m){return m[1];});var splits=[' ','>','+','~'],scoped=selector,attrName='['+scopeSelector+']';for(var i=0;i<splits.length;i++){var sep=splits[i];var parts=scoped.split(sep);scoped=parts.map(function(p){var t=lang_1.StringWrapper.replaceAll(p.trim(),_polyfillHostRe,'');if(t.length>0&&!collection_1.ListWrapper.contains(splits,t)&&!lang_1.StringWrapper.contains(t,attrName)){var re=/([^:]*)(:*)(.*)/g;var m=lang_1.RegExpWrapper.firstMatch(re,t);if(lang_1.isPresent(m)){p=m[1]+attrName+m[2]+m[3];}}
return p;}).join(sep);}
return scoped;};ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){selector=lang_1.StringWrapper.replaceAll(selector,_colonHostContextRe,_polyfillHostContext);selector=lang_1.StringWrapper.replaceAll(selector,_colonHostRe,_polyfillHost);return selector;};return ShadowCss;})();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim;var _cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var _cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var _polyfillHost='-shadowcsshost';var _polyfillHostContext='-shadowcsscontext';var _parenSuffix=')(?:\\(('+'(?:\\([^)(]*\\)|[^)(]*)+?'+')\\))?([^,{]*)';var _cssColonHostRe=lang_1.RegExpWrapper.create('('+_polyfillHost+_parenSuffix,'im');var _cssColonHostContextRe=lang_1.RegExpWrapper.create('('+_polyfillHostContext+_parenSuffix,'im');var _polyfillHostNoCombinator=_polyfillHost+'-no-combinator';var _shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g];var _shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g;var _selectorReSuffix='([>\\s~+\[.,{:][\\s\\S]*)?$';var _polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,'im');var _colonHostRe=/:host/gim;var _colonHostContextRe=/:host-context/gim;var _commentRe=/\/\*[\s\S]*?\*\//g;function stripComments(input){return lang_1.StringWrapper.replaceAllMapped(input,_commentRe,function(_){return'';});}
var _ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g;var _curlyRe=/([{}])/g;var OPEN_CURLY='{';var CLOSE_CURLY='}';var BLOCK_PLACEHOLDER='%BLOCK%';var CssRule=(function(){function CssRule(selector,content){this.selector=selector;this.content=content;}
return CssRule;})();exports.CssRule=CssRule;function processRules(input,ruleCallback){var inputWithEscapedBlocks=escapeBlocks(input);var nextBlockIndex=0;return lang_1.StringWrapper.replaceAllMapped(inputWithEscapedBlocks.escapedString,_ruleRe,function(m){var selector=m[2];var content='';var suffix=m[4];var contentPrefix='';if(lang_1.isPresent(m[4])&&m[4].startsWith('{'+BLOCK_PLACEHOLDER)){content=inputWithEscapedBlocks.blocks[nextBlockIndex++];suffix=m[4].substring(BLOCK_PLACEHOLDER.length+1);contentPrefix='{';}
var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix;});}
exports.processRules=processRules;var StringWithEscapedBlocks=(function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString;this.blocks=blocks;}
return StringWithEscapedBlocks;})();function escapeBlocks(input){var inputParts=lang_1.StringWrapper.split(input,_curlyRe);var resultParts=[];var escapedBlocks=[];var bracketCount=0;var currentBlockParts=[];for(var partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];if(part==CLOSE_CURLY){bracketCount--;}
if(bracketCount>0){currentBlockParts.push(part);}else{if(currentBlockParts.length>0){escapedBlocks.push(currentBlockParts.join(''));resultParts.push(BLOCK_PLACEHOLDER);currentBlockParts=[];}
resultParts.push(part);}
if(part==OPEN_CURLY){bracketCount++;}}
if(currentBlockParts.length>0){escapedBlocks.push(currentBlockParts.join(''));resultParts.push(BLOCK_PLACEHOLDER);}
return new StringWithEscapedBlocks(resultParts.join(''),escapedBlocks);}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/style_url_resolver",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var StyleWithImports=(function(){function StyleWithImports(style,styleUrls){this.style=style;this.styleUrls=styleUrls;}
return StyleWithImports;})();exports.StyleWithImports=StyleWithImports;function isStyleUrlResolvable(url){if(lang_1.isBlank(url)||url.length===0||url[0]=='/')
return false;var schemeMatch=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,url);return lang_1.isBlank(schemeMatch)||schemeMatch[1]=='package'||schemeMatch[1]=='asset';}
exports.isStyleUrlResolvable=isStyleUrlResolvable;function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[];var modifiedCssText=lang_1.StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=lang_1.isPresent(m[1])?m[1]:m[2];if(!isStyleUrlResolvable(url)){return m[0];}
foundUrls.push(resolver.resolve(baseUrl,url));return'';});return new StyleWithImports(modifiedCssText,foundUrls);}
exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g;var _urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g;global.define=__define;return module.exports;});System.register("angular2/src/compiler/proto_view_compiler",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/template_ast","angular2/src/compiler/source_module","angular2/src/core/linker/view","angular2/src/core/linker/view_type","angular2/src/core/linker/element","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var template_ast_1=require("angular2/src/compiler/template_ast");var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/linker/view");var view_type_1=require("angular2/src/core/linker/view_type");var element_1=require("angular2/src/core/linker/element");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");exports.PROTO_VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({'AppProtoView':view_1.AppProtoView,'AppProtoElement':element_1.AppProtoElement,'ViewType':view_type_1.ViewType});exports.APP_VIEW_MODULE_REF=source_module_1.moduleRef('package:angular2/src/core/linker/view'+util_1.MODULE_SUFFIX);exports.VIEW_TYPE_MODULE_REF=source_module_1.moduleRef('package:angular2/src/core/linker/view_type'+util_1.MODULE_SUFFIX);exports.APP_EL_MODULE_REF=source_module_1.moduleRef('package:angular2/src/core/linker/element'+util_1.MODULE_SUFFIX);exports.METADATA_MODULE_REF=source_module_1.moduleRef('package:angular2/src/core/metadata/view'+util_1.MODULE_SUFFIX);var IMPLICIT_TEMPLATE_VAR='\$implicit';var CLASS_ATTR='class';var STYLE_ATTR='style';var ProtoViewCompiler=(function(){function ProtoViewCompiler(){}
ProtoViewCompiler.prototype.compileProtoViewRuntime=function(metadataCache,component,template,pipes){var protoViewFactory=new RuntimeProtoViewFactory(metadataCache,component,pipes);var allProtoViews=[];protoViewFactory.createCompileProtoView(template,[],[],allProtoViews);return new CompileProtoViews([],allProtoViews);};ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(resolvedMetadataCacheExpr,component,template,pipes){var protoViewFactory=new CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes);var allProtoViews=[];var allStatements=[];protoViewFactory.createCompileProtoView(template,[],allStatements,allProtoViews);return new CompileProtoViews(allStatements.map(function(stmt){return stmt.statement;}),allProtoViews);};ProtoViewCompiler=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],ProtoViewCompiler);return ProtoViewCompiler;})();exports.ProtoViewCompiler=ProtoViewCompiler;var CompileProtoViews=(function(){function CompileProtoViews(declarations,protoViews){this.declarations=declarations;this.protoViews=protoViews;}
return CompileProtoViews;})();exports.CompileProtoViews=CompileProtoViews;var CompileProtoView=(function(){function CompileProtoView(embeddedTemplateIndex,protoElements,protoView){this.embeddedTemplateIndex=embeddedTemplateIndex;this.protoElements=protoElements;this.protoView=protoView;}
return CompileProtoView;})();exports.CompileProtoView=CompileProtoView;var CompileProtoElement=(function(){function CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl){this.boundElementIndex=boundElementIndex;this.attrNameAndValues=attrNameAndValues;this.variableNameAndValues=variableNameAndValues;this.renderEvents=renderEvents;this.directives=directives;this.embeddedTemplateIndex=embeddedTemplateIndex;this.appProtoEl=appProtoEl;}
return CompileProtoElement;})();exports.CompileProtoElement=CompileProtoElement;function visitAndReturnContext(visitor,asts,context){template_ast_1.templateVisitAll(visitor,asts,context);return context;}
var ProtoViewFactory=(function(){function ProtoViewFactory(component){this.component=component;}
ProtoViewFactory.prototype.createCompileProtoView=function(template,templateVariableBindings,targetStatements,targetProtoViews){var embeddedTemplateIndex=targetProtoViews.length;targetProtoViews.push(null);var builder=new ProtoViewBuilderVisitor(this,targetStatements,targetProtoViews);template_ast_1.templateVisitAll(builder,template);var viewType=getViewType(this.component,embeddedTemplateIndex);var appProtoView=this.createAppProtoView(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements);var cpv=new CompileProtoView(embeddedTemplateIndex,builder.protoElements,appProtoView);targetProtoViews[embeddedTemplateIndex]=cpv;return cpv;};return ProtoViewFactory;})();var CodeGenProtoViewFactory=(function(_super){__extends(CodeGenProtoViewFactory,_super);function CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes){_super.call(this,component);this.resolvedMetadataCacheExpr=resolvedMetadataCacheExpr;this.pipes=pipes;this._nextVarId=0;}
CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(embeddedTemplateIndex){return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+embeddedTemplateIndex;};CodeGenProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var protoViewVarName=this._nextProtoViewVar(embeddedTemplateIndex);var viewTypeExpr=codeGenViewType(viewType);var pipesExpr=embeddedTemplateIndex===0?codeGenTypesArray(this.pipes.map(function(pipeMeta){return pipeMeta.type;})):null;var statement="var "+protoViewVarName+" = "+exports.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+viewTypeExpr+", "+pipesExpr+", "+util_1.codeGenStringMap(templateVariableBindings)+");";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(protoViewVarName);};CodeGenProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var varName="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name;var value=exports.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+boundElementIndex+",\n        "+util_1.codeGenStringMap(attrNameAndValues)+",\n        "+codeGenDirectivesArray(directives)+",\n        "+util_1.codeGenStringMap(variableNameAndValues)+"\n      )";var statement="var "+varName+" = "+value+";";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName);};return CodeGenProtoViewFactory;})(ProtoViewFactory);var RuntimeProtoViewFactory=(function(_super){__extends(RuntimeProtoViewFactory,_super);function RuntimeProtoViewFactory(metadataCache,component,pipes){_super.call(this,component);this.metadataCache=metadataCache;this.pipes=pipes;}
RuntimeProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var pipes=embeddedTemplateIndex===0?this.pipes.map(function(pipeMeta){return pipeMeta.type.runtime;}):[];var templateVars=keyValueArrayToStringMap(templateVariableBindings);return view_1.AppProtoView.create(this.metadataCache,viewType,pipes,templateVars);};RuntimeProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var attrs=keyValueArrayToStringMap(attrNameAndValues);return element_1.AppProtoElement.create(this.metadataCache,boundElementIndex,attrs,directives.map(function(dirMeta){return dirMeta.type.runtime;}),keyValueArrayToStringMap(variableNameAndValues));};return RuntimeProtoViewFactory;})(ProtoViewFactory);var ProtoViewBuilderVisitor=(function(){function ProtoViewBuilderVisitor(factory,allStatements,allProtoViews){this.factory=factory;this.allStatements=allStatements;this.allProtoViews=allProtoViews;this.protoElements=[];this.boundElementCount=0;}
ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(directives,attrAsts){var attrs=visitAndReturnContext(this,attrAsts,{});directives.forEach(function(directiveMeta){collection_1.StringMapWrapper.forEach(directiveMeta.hostAttributes,function(value,name){var prevValue=attrs[name];attrs[name]=lang_1.isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value;});});return mapToKeyValueArray(attrs);};ProtoViewBuilderVisitor.prototype.visitBoundText=function(ast,context){return null;};ProtoViewBuilderVisitor.prototype.visitText=function(ast,context){return null;};ProtoViewBuilderVisitor.prototype.visitNgContent=function(ast,context){return null;};ProtoViewBuilderVisitor.prototype.visitElement=function(ast,context){var _this=this;var boundElementIndex=null;if(ast.isBound()){boundElementIndex=this.boundElementCount++;}
var component=ast.getComponent();var variableNameAndValues=[];if(lang_1.isBlank(component)){ast.exportAsVars.forEach(function(varAst){variableNameAndValues.push([varAst.name,null]);});}
var directives=[];var renderEvents=visitAndReturnContext(this,ast.outputs,new Map());collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,renderEvents,variableNameAndValues,directives));});var renderEventArray=[];renderEvents.forEach(function(eventAst,_){return renderEventArray.push(eventAst);});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);this._addProtoElement(ast.isBound(),boundElementIndex,attrNameAndValues,variableNameAndValues,renderEventArray,directives,null);template_ast_1.templateVisitAll(this,ast.children);return null;};ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this;var boundElementIndex=this.boundElementCount++;var directives=[];collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,new Map(),[],directives));});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);var templateVariableBindings=ast.vars.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name];});var nestedProtoView=this.factory.createCompileProtoView(ast.children,templateVariableBindings,this.allStatements,this.allProtoViews);this._addProtoElement(true,boundElementIndex,attrNameAndValues,[],[],directives,nestedProtoView.embeddedTemplateIndex);return null;};ProtoViewBuilderVisitor.prototype._addProtoElement=function(isBound,boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex){var appProtoEl=null;if(isBound){appProtoEl=this.factory.createAppProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,this.allStatements);}
var compileProtoEl=new CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl);this.protoElements.push(compileProtoEl);};ProtoViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null;};ProtoViewBuilderVisitor.prototype.visitAttr=function(ast,attrNameAndValues){attrNameAndValues[ast.name]=ast.value;return null;};ProtoViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){ctx.targetDirectives.push(ast.directive);template_ast_1.templateVisitAll(this,ast.hostEvents,ctx.hostEventTargetAndNames);ast.exportAsVars.forEach(function(varAst){ctx.targetVariableNameAndValues.push([varAst.name,ctx.index]);});return null;};ProtoViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){eventTargetAndNames.set(ast.fullName,ast);return null;};ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null;};ProtoViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null;};return ProtoViewBuilderVisitor;})();function mapToKeyValueArray(data){var entryArray=[];collection_1.StringMapWrapper.forEach(data,function(value,name){entryArray.push([name,value]);});collection_1.ListWrapper.sort(entryArray,function(entry1,entry2){return lang_1.StringWrapper.compare(entry1[0],entry2[0]);});var keyValueArray=[];entryArray.forEach(function(entry){keyValueArray.push([entry[0],entry[1]]);});return keyValueArray;}
function mergeAttributeValue(attrName,attrValue1,attrValue2){if(attrName==CLASS_ATTR||attrName==STYLE_ATTR){return attrValue1+" "+attrValue2;}else{return attrValue2;}}
var DirectiveContext=(function(){function DirectiveContext(index,boundElementIndex,hostEventTargetAndNames,targetVariableNameAndValues,targetDirectives){this.index=index;this.boundElementIndex=boundElementIndex;this.hostEventTargetAndNames=hostEventTargetAndNames;this.targetVariableNameAndValues=targetVariableNameAndValues;this.targetDirectives=targetDirectives;}
return DirectiveContext;})();function keyValueArrayToStringMap(keyValueArray){var stringMap={};for(var i=0;i<keyValueArray.length;i++){var entry=keyValueArray[i];stringMap[entry[0]]=entry[1];}
return stringMap;}
function codeGenDirectivesArray(directives){var expressions=directives.map(function(directiveType){return typeRef(directiveType.type);});return"["+expressions.join(',')+"]";}
function codeGenTypesArray(types){var expressions=types.map(typeRef);return"["+expressions.join(',')+"]";}
function codeGenViewType(value){if(lang_1.IS_DART){return""+exports.VIEW_TYPE_MODULE_REF+value;}else{return""+value;}}
function typeRef(type){return""+source_module_1.moduleRef(type.moduleUrl)+type.name;}
function getViewType(component,embeddedTemplateIndex){if(embeddedTemplateIndex>0){return view_type_1.ViewType.EMBEDDED;}else if(component.type.isHost){return view_type_1.ViewType.HOST;}else{return view_type_1.ViewType.COMPONENT;}}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/html_ast",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var HtmlTextAst=(function(){function HtmlTextAst(value,sourceSpan){this.value=value;this.sourceSpan=sourceSpan;}
HtmlTextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context);};return HtmlTextAst;})();exports.HtmlTextAst=HtmlTextAst;var HtmlAttrAst=(function(){function HtmlAttrAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan;}
HtmlAttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context);};return HtmlAttrAst;})();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=(function(){function HtmlElementAst(name,attrs,children,sourceSpan,startSourceSpan,endSourceSpan){this.name=name;this.attrs=attrs;this.children=children;this.sourceSpan=sourceSpan;this.startSourceSpan=startSourceSpan;this.endSourceSpan=endSourceSpan;}
HtmlElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context);};return HtmlElementAst;})();exports.HtmlElementAst=HtmlElementAst;var HtmlCommentAst=(function(){function HtmlCommentAst(value,sourceSpan){this.value=value;this.sourceSpan=sourceSpan;}
HtmlCommentAst.prototype.visit=function(visitor,context){return visitor.visitComment(this,context);};return HtmlCommentAst;})();exports.HtmlCommentAst=HtmlCommentAst;function htmlVisitAll(visitor,asts,context){if(context===void 0){context=null;}
var result=[];asts.forEach(function(ast){var astResult=ast.visit(visitor,context);if(lang_1.isPresent(astResult)){result.push(astResult);}});return result;}
exports.htmlVisitAll=htmlVisitAll;global.define=__define;return module.exports;});System.register("angular2/src/compiler/parse_util",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ParseLocation=(function(){function ParseLocation(file,offset,line,col){this.file=file;this.offset=offset;this.line=line;this.col=col;}
ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col;};return ParseLocation;})();exports.ParseLocation=ParseLocation;var ParseSourceFile=(function(){function ParseSourceFile(content,url){this.content=content;this.url=url;}
return ParseSourceFile;})();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=(function(){function ParseSourceSpan(start,end){this.start=start;this.end=end;}
ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset);};return ParseSourceSpan;})();exports.ParseSourceSpan=ParseSourceSpan;var ParseError=(function(){function ParseError(span,msg){this.span=span;this.msg=msg;}
ParseError.prototype.toString=function(){var source=this.span.start.file.content;var ctxStart=this.span.start.offset;if(ctxStart>source.length-1){ctxStart=source.length-1;}
var ctxEnd=ctxStart;var ctxLen=0;var ctxLines=0;while(ctxLen<100&&ctxStart>0){ctxStart--;ctxLen++;if(source[ctxStart]=="\n"){if(++ctxLines==3){break;}}}
ctxLen=0;ctxLines=0;while(ctxLen<100&&ctxEnd<source.length-1){ctxEnd++;ctxLen++;if(source[ctxEnd]=="\n"){if(++ctxLines==3){break;}}}
var context=source.substring(ctxStart,this.span.start.offset)+'[ERROR ->]'+source.substring(this.span.start.offset,ctxEnd+1);return this.msg+" (\""+context+"\"): "+this.span.start;};return ParseError;})();exports.ParseError=ParseError;global.define=__define;return module.exports;});System.register("angular2/src/compiler/html_tags",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.NAMED_ENTITIES=lang_1.CONST_EXPR({'Aacute':'\u00C1','aacute':'\u00E1','Acirc':'\u00C2','acirc':'\u00E2','acute':'\u00B4','AElig':'\u00C6','aelig':'\u00E6','Agrave':'\u00C0','agrave':'\u00E0','alefsym':'\u2135','Alpha':'\u0391','alpha':'\u03B1','amp':'&','and':'\u2227','ang':'\u2220','apos':'\u0027','Aring':'\u00C5','aring':'\u00E5','asymp':'\u2248','Atilde':'\u00C3','atilde':'\u00E3','Auml':'\u00C4','auml':'\u00E4','bdquo':'\u201E','Beta':'\u0392','beta':'\u03B2','brvbar':'\u00A6','bull':'\u2022','cap':'\u2229','Ccedil':'\u00C7','ccedil':'\u00E7','cedil':'\u00B8','cent':'\u00A2','Chi':'\u03A7','chi':'\u03C7','circ':'\u02C6','clubs':'\u2663','cong':'\u2245','copy':'\u00A9','crarr':'\u21B5','cup':'\u222A','curren':'\u00A4','dagger':'\u2020','Dagger':'\u2021','darr':'\u2193','dArr':'\u21D3','deg':'\u00B0','Delta':'\u0394','delta':'\u03B4','diams':'\u2666','divide':'\u00F7','Eacute':'\u00C9','eacute':'\u00E9','Ecirc':'\u00CA','ecirc':'\u00EA','Egrave':'\u00C8','egrave':'\u00E8','empty':'\u2205','emsp':'\u2003','ensp':'\u2002','Epsilon':'\u0395','epsilon':'\u03B5','equiv':'\u2261','Eta':'\u0397','eta':'\u03B7','ETH':'\u00D0','eth':'\u00F0','Euml':'\u00CB','euml':'\u00EB','euro':'\u20AC','exist':'\u2203','fnof':'\u0192','forall':'\u2200','frac12':'\u00BD','frac14':'\u00BC','frac34':'\u00BE','frasl':'\u2044','Gamma':'\u0393','gamma':'\u03B3','ge':'\u2265','gt':'>','harr':'\u2194','hArr':'\u21D4','hearts':'\u2665','hellip':'\u2026','Iacute':'\u00CD','iacute':'\u00ED','Icirc':'\u00CE','icirc':'\u00EE','iexcl':'\u00A1','Igrave':'\u00CC','igrave':'\u00EC','image':'\u2111','infin':'\u221E','int':'\u222B','Iota':'\u0399','iota':'\u03B9','iquest':'\u00BF','isin':'\u2208','Iuml':'\u00CF','iuml':'\u00EF','Kappa':'\u039A','kappa':'\u03BA','Lambda':'\u039B','lambda':'\u03BB','lang':'\u27E8','laquo':'\u00AB','larr':'\u2190','lArr':'\u21D0','lceil':'\u2308','ldquo':'\u201C','le':'\u2264','lfloor':'\u230A','lowast':'\u2217','loz':'\u25CA','lrm':'\u200E','lsaquo':'\u2039','lsquo':'\u2018','lt':'<','macr':'\u00AF','mdash':'\u2014','micro':'\u00B5','middot':'\u00B7','minus':'\u2212','Mu':'\u039C','mu':'\u03BC','nabla':'\u2207','nbsp':'\u00A0','ndash':'\u2013','ne':'\u2260','ni':'\u220B','not':'\u00AC','notin':'\u2209','nsub':'\u2284','Ntilde':'\u00D1','ntilde':'\u00F1','Nu':'\u039D','nu':'\u03BD','Oacute':'\u00D3','oacute':'\u00F3','Ocirc':'\u00D4','ocirc':'\u00F4','OElig':'\u0152','oelig':'\u0153','Ograve':'\u00D2','ograve':'\u00F2','oline':'\u203E','Omega':'\u03A9','omega':'\u03C9','Omicron':'\u039F','omicron':'\u03BF','oplus':'\u2295','or':'\u2228','ordf':'\u00AA','ordm':'\u00BA','Oslash':'\u00D8','oslash':'\u00F8','Otilde':'\u00D5','otilde':'\u00F5','otimes':'\u2297','Ouml':'\u00D6','ouml':'\u00F6','para':'\u00B6','permil':'\u2030','perp':'\u22A5','Phi':'\u03A6','phi':'\u03C6','Pi':'\u03A0','pi':'\u03C0','piv':'\u03D6','plusmn':'\u00B1','pound':'\u00A3','prime':'\u2032','Prime':'\u2033','prod':'\u220F','prop':'\u221D','Psi':'\u03A8','psi':'\u03C8','quot':'\u0022','radic':'\u221A','rang':'\u27E9','raquo':'\u00BB','rarr':'\u2192','rArr':'\u21D2','rceil':'\u2309','rdquo':'\u201D','real':'\u211C','reg':'\u00AE','rfloor':'\u230B','Rho':'\u03A1','rho':'\u03C1','rlm':'\u200F','rsaquo':'\u203A','rsquo':'\u2019','sbquo':'\u201A','Scaron':'\u0160','scaron':'\u0161','sdot':'\u22C5','sect':'\u00A7','shy':'\u00AD','Sigma':'\u03A3','sigma':'\u03C3','sigmaf':'\u03C2','sim':'\u223C','spades':'\u2660','sub':'\u2282','sube':'\u2286','sum':'\u2211','sup':'\u2283','sup1':'\u00B9','sup2':'\u00B2','sup3':'\u00B3','supe':'\u2287','szlig':'\u00DF','Tau':'\u03A4','tau':'\u03C4','there4':'\u2234','Theta':'\u0398','theta':'\u03B8','thetasym':'\u03D1','thinsp':'\u2009','THORN':'\u00DE','thorn':'\u00FE','tilde':'\u02DC','times':'\u00D7','trade':'\u2122','Uacute':'\u00DA','uacute':'\u00FA','uarr':'\u2191','uArr':'\u21D1','Ucirc':'\u00DB','ucirc':'\u00FB','Ugrave':'\u00D9','ugrave':'\u00F9','uml':'\u00A8','upsih':'\u03D2','Upsilon':'\u03A5','upsilon':'\u03C5','Uuml':'\u00DC','uuml':'\u00FC','weierp':'\u2118','Xi':'\u039E','xi':'\u03BE','Yacute':'\u00DD','yacute':'\u00FD','yen':'\u00A5','yuml':'\u00FF','Yuml':'\u0178','Zeta':'\u0396','zeta':'\u03B6','zwj':'\u200D','zwnj':'\u200C'});(function(HtmlTagContentType){HtmlTagContentType[HtmlTagContentType["RAW_TEXT"]=0]="RAW_TEXT";HtmlTagContentType[HtmlTagContentType["ESCAPABLE_RAW_TEXT"]=1]="ESCAPABLE_RAW_TEXT";HtmlTagContentType[HtmlTagContentType["PARSABLE_DATA"]=2]="PARSABLE_DATA";})(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType;var HtmlTagDefinition=(function(){function HtmlTagDefinition(_a){var _this=this;var _b=_a===void 0?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,contentType=_b.contentType,closedByParent=_b.closedByParent,isVoid=_b.isVoid,ignoreFirstLf=_b.ignoreFirstLf;this.closedByChildren={};this.closedByParent=false;if(lang_1.isPresent(closedByChildren)&&closedByChildren.length>0){closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=true;});}
this.isVoid=lang_1.normalizeBool(isVoid);this.closedByParent=lang_1.normalizeBool(closedByParent)||this.isVoid;if(lang_1.isPresent(requiredParents)&&requiredParents.length>0){this.requiredParents={};this.parentToAdd=requiredParents[0];requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=true;});}
this.implicitNamespacePrefix=implicitNamespacePrefix;this.contentType=lang_1.isPresent(contentType)?contentType:HtmlTagContentType.PARSABLE_DATA;this.ignoreFirstLf=lang_1.normalizeBool(ignoreFirstLf);}
HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(lang_1.isBlank(this.requiredParents)){return false;}
if(lang_1.isBlank(currentParent)){return true;}
var lcParent=currentParent.toLowerCase();return this.requiredParents[lcParent]!=true&&lcParent!='template';};HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[name.toLowerCase()]);};return HtmlTagDefinition;})();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={'base':new HtmlTagDefinition({isVoid:true}),'meta':new HtmlTagDefinition({isVoid:true}),'area':new HtmlTagDefinition({isVoid:true}),'embed':new HtmlTagDefinition({isVoid:true}),'link':new HtmlTagDefinition({isVoid:true}),'img':new HtmlTagDefinition({isVoid:true}),'input':new HtmlTagDefinition({isVoid:true}),'param':new HtmlTagDefinition({isVoid:true}),'hr':new HtmlTagDefinition({isVoid:true}),'br':new HtmlTagDefinition({isVoid:true}),'source':new HtmlTagDefinition({isVoid:true}),'track':new HtmlTagDefinition({isVoid:true}),'wbr':new HtmlTagDefinition({isVoid:true}),'p':new HtmlTagDefinition({closedByChildren:['address','article','aside','blockquote','div','dl','fieldset','footer','form','h1','h2','h3','h4','h5','h6','header','hgroup','hr','main','nav','ol','p','pre','section','table','ul'],closedByParent:true}),'thead':new HtmlTagDefinition({closedByChildren:['tbody','tfoot']}),'tbody':new HtmlTagDefinition({closedByChildren:['tbody','tfoot'],closedByParent:true}),'tfoot':new HtmlTagDefinition({closedByChildren:['tbody'],closedByParent:true}),'tr':new HtmlTagDefinition({closedByChildren:['tr'],requiredParents:['tbody','tfoot','thead'],closedByParent:true}),'td':new HtmlTagDefinition({closedByChildren:['td','th'],closedByParent:true}),'th':new HtmlTagDefinition({closedByChildren:['td','th'],closedByParent:true}),'col':new HtmlTagDefinition({requiredParents:['colgroup'],isVoid:true}),'svg':new HtmlTagDefinition({implicitNamespacePrefix:'svg'}),'math':new HtmlTagDefinition({implicitNamespacePrefix:'math'}),'li':new HtmlTagDefinition({closedByChildren:['li'],closedByParent:true}),'dt':new HtmlTagDefinition({closedByChildren:['dt','dd']}),'dd':new HtmlTagDefinition({closedByChildren:['dt','dd'],closedByParent:true}),'rb':new HtmlTagDefinition({closedByChildren:['rb','rt','rtc','rp'],closedByParent:true}),'rt':new HtmlTagDefinition({closedByChildren:['rb','rt','rtc','rp'],closedByParent:true}),'rtc':new HtmlTagDefinition({closedByChildren:['rb','rtc','rp'],closedByParent:true}),'rp':new HtmlTagDefinition({closedByChildren:['rb','rt','rtc','rp'],closedByParent:true}),'optgroup':new HtmlTagDefinition({closedByChildren:['optgroup'],closedByParent:true}),'option':new HtmlTagDefinition({closedByChildren:['option','optgroup'],closedByParent:true}),'pre':new HtmlTagDefinition({ignoreFirstLf:true}),'listing':new HtmlTagDefinition({ignoreFirstLf:true}),'style':new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),'script':new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),'title':new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),'textarea':new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:true})};var DEFAULT_TAG_DEFINITION=new HtmlTagDefinition();function getHtmlTagDefinition(tagName){var result=TAG_DEFINITIONS[tagName.toLowerCase()];return lang_1.isPresent(result)?result:DEFAULT_TAG_DEFINITION;}
exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;function splitNsName(elementName){if(elementName[0]!='@'){return[null,elementName];}
var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,elementName);return[match[1],match[2]];}
exports.splitNsName=splitNsName;function getNsPrefix(elementName){return splitNsName(elementName)[0];}
exports.getNsPrefix=getNsPrefix;function mergeNsAndName(prefix,localName){return lang_1.isPresent(prefix)?"@"+prefix+":"+localName:localName;}
exports.mergeNsAndName=mergeNsAndName;global.define=__define;return module.exports;});System.register("angular2/src/compiler/schema/element_schema_registry",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ElementSchemaRegistry=(function(){function ElementSchemaRegistry(){}
ElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){return true;};ElementSchemaRegistry.prototype.getMappedPropName=function(propName){return propName;};return ElementSchemaRegistry;})();exports.ElementSchemaRegistry=ElementSchemaRegistry;global.define=__define;return module.exports;});System.register("angular2/src/compiler/template_preparser",["angular2/src/facade/lang","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var html_tags_1=require("angular2/src/compiler/html_tags");var NG_CONTENT_SELECT_ATTR='select';var NG_CONTENT_ELEMENT='ng-content';var LINK_ELEMENT='link';var LINK_STYLE_REL_ATTR='rel';var LINK_STYLE_HREF_ATTR='href';var LINK_STYLE_REL_VALUE='stylesheet';var STYLE_ELEMENT='style';var SCRIPT_ELEMENT='script';var NG_NON_BINDABLE_ATTR='ngNonBindable';var NG_PROJECT_AS='ngProjectAs';function preparseElement(ast){var selectAttr=null;var hrefAttr=null;var relAttr=null;var nonBindable=false;var projectAs=null;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();if(lcAttrName==NG_CONTENT_SELECT_ATTR){selectAttr=attr.value;}else if(lcAttrName==LINK_STYLE_HREF_ATTR){hrefAttr=attr.value;}else if(lcAttrName==LINK_STYLE_REL_ATTR){relAttr=attr.value;}else if(attr.name==NG_NON_BINDABLE_ATTR){nonBindable=true;}else if(attr.name==NG_PROJECT_AS){if(attr.value.length>0){projectAs=attr.value;}}});selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase();var type=PreparsedElementType.OTHER;if(html_tags_1.splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT){type=PreparsedElementType.NG_CONTENT;}else if(nodeName==STYLE_ELEMENT){type=PreparsedElementType.STYLE;}else if(nodeName==SCRIPT_ELEMENT){type=PreparsedElementType.SCRIPT;}else if(nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE){type=PreparsedElementType.STYLESHEET;}
return new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs);}
exports.preparseElement=preparseElement;(function(PreparsedElementType){PreparsedElementType[PreparsedElementType["NG_CONTENT"]=0]="NG_CONTENT";PreparsedElementType[PreparsedElementType["STYLE"]=1]="STYLE";PreparsedElementType[PreparsedElementType["STYLESHEET"]=2]="STYLESHEET";PreparsedElementType[PreparsedElementType["SCRIPT"]=3]="SCRIPT";PreparsedElementType[PreparsedElementType["OTHER"]=4]="OTHER";})(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType;var PreparsedElement=(function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type;this.selectAttr=selectAttr;this.hrefAttr=hrefAttr;this.nonBindable=nonBindable;this.projectAs=projectAs;}
return PreparsedElement;})();exports.PreparsedElement=PreparsedElement;function normalizeNgContentSelect(selectAttr){if(lang_1.isBlank(selectAttr)||selectAttr.length===0){return'*';}
return selectAttr;}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/template_normalizer",["angular2/src/compiler/directive_metadata","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/async","angular2/src/compiler/xhr","angular2/src/compiler/url_resolver","angular2/src/compiler/style_url_resolver","angular2/src/core/di","angular2/src/core/metadata/view","angular2/src/compiler/html_ast","angular2/src/compiler/html_parser","angular2/src/compiler/template_preparser"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var directive_metadata_1=require("angular2/src/compiler/directive_metadata");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var async_1=require("angular2/src/facade/async");var xhr_1=require("angular2/src/compiler/xhr");var url_resolver_1=require("angular2/src/compiler/url_resolver");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var di_1=require("angular2/src/core/di");var view_1=require("angular2/src/core/metadata/view");var html_ast_1=require("angular2/src/compiler/html_ast");var html_parser_1=require("angular2/src/compiler/html_parser");var template_preparser_1=require("angular2/src/compiler/template_preparser");var TemplateNormalizer=(function(){function TemplateNormalizer(_xhr,_urlResolver,_htmlParser){this._xhr=_xhr;this._urlResolver=_urlResolver;this._htmlParser=_htmlParser;}
TemplateNormalizer.prototype.normalizeTemplate=function(directiveType,template){var _this=this;if(lang_1.isPresent(template.template)){return async_1.PromiseWrapper.resolve(this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl));}else if(lang_1.isPresent(template.templateUrl)){var sourceAbsUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._xhr.get(sourceAbsUrl).then(function(templateContent){return _this.normalizeLoadedTemplate(directiveType,template,templateContent,sourceAbsUrl);});}else{throw new exceptions_1.BaseException("No template specified for component "+directiveType.name);}};TemplateNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var _this=this;var rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join('\n');throw new exceptions_1.BaseException("Template parse errors:\n"+errorString);}
var visitor=new TemplatePreparseVisitor();html_ast_1.htmlVisitAll(visitor,rootNodesAndErrors.rootNodes);var allStyles=templateMeta.styles.concat(visitor.styles);var allStyleAbsUrls=visitor.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(templateAbsUrl,url);}).concat(templateMeta.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(directiveType.moduleUrl,url);}));var allResolvedStyles=allStyles.map(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,templateAbsUrl,style);styleWithImports.styleUrls.forEach(function(styleUrl){return allStyleAbsUrls.push(styleUrl);});return styleWithImports.style;});var encapsulation=templateMeta.encapsulation;if(encapsulation===view_1.ViewEncapsulation.Emulated&&allResolvedStyles.length===0&&allStyleAbsUrls.length===0){encapsulation=view_1.ViewEncapsulation.None;}
return new directive_metadata_1.CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:allResolvedStyles,styleUrls:allStyleAbsUrls,ngContentSelectors:visitor.ngContentSelectors});};TemplateNormalizer=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[xhr_1.XHR,url_resolver_1.UrlResolver,html_parser_1.HtmlParser])],TemplateNormalizer);return TemplateNormalizer;})();exports.TemplateNormalizer=TemplateNormalizer;var TemplatePreparseVisitor=(function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[];this.styles=[];this.styleUrls=[];this.ngNonBindableStackCount=0;}
TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=template_preparser_1.preparseElement(ast);switch(preparsedElement.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:if(this.ngNonBindableStackCount===0){this.ngContentSelectors.push(preparsedElement.selectAttr);}
break;case template_preparser_1.PreparsedElementType.STYLE:var textContent='';ast.children.forEach(function(child){if(child instanceof html_ast_1.HtmlTextAst){textContent+=child.value;}});this.styles.push(textContent);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr);break;default:break;}
if(preparsedElement.nonBindable){this.ngNonBindableStackCount++;}
html_ast_1.htmlVisitAll(this,ast.children);if(preparsedElement.nonBindable){this.ngNonBindableStackCount--;}
return null;};TemplatePreparseVisitor.prototype.visitComment=function(ast,context){return null;};TemplatePreparseVisitor.prototype.visitAttr=function(ast,context){return null;};TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null;};return TemplatePreparseVisitor;})();global.define=__define;return module.exports;});System.register("angular2/src/core/linker/directive_lifecycle_reflector",["angular2/src/facade/lang","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var interfaces_1=require("angular2/src/core/linker/interfaces");function hasLifecycleHook(lcInterface,token){if(!(token instanceof lang_1.Type))
return false;var proto=token.prototype;switch(lcInterface){case interfaces_1.LifecycleHooks.AfterContentInit:return!!proto.ngAfterContentInit;case interfaces_1.LifecycleHooks.AfterContentChecked:return!!proto.ngAfterContentChecked;case interfaces_1.LifecycleHooks.AfterViewInit:return!!proto.ngAfterViewInit;case interfaces_1.LifecycleHooks.AfterViewChecked:return!!proto.ngAfterViewChecked;case interfaces_1.LifecycleHooks.OnChanges:return!!proto.ngOnChanges;case interfaces_1.LifecycleHooks.DoCheck:return!!proto.ngDoCheck;case interfaces_1.LifecycleHooks.OnDestroy:return!!proto.ngOnDestroy;case interfaces_1.LifecycleHooks.OnInit:return!!proto.ngOnInit;default:return false;}}
exports.hasLifecycleHook=hasLifecycleHook;global.define=__define;return module.exports;});System.register("angular2/src/compiler/assertions",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");function assertArrayOfStrings(identifier,value){if(!lang_1.assertionsEnabled()||lang_1.isBlank(value)){return;}
if(!lang_1.isArray(value)){throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.");}
for(var i=0;i<value.length;i+=1){if(!lang_1.isString(value[i])){throw new exceptions_1.BaseException("Expected '"+identifier+"' to be an array of strings.");}}}
exports.assertArrayOfStrings=assertArrayOfStrings;global.define=__define;return module.exports;});System.register("angular2/src/compiler/schema/dom_element_schema_registry",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/platform/dom/dom_adapter","angular2/src/compiler/html_tags","angular2/src/compiler/schema/element_schema_registry"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var html_tags_1=require("angular2/src/compiler/html_tags");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var NAMESPACE_URIS=lang_1.CONST_EXPR({'xlink':'http://www.w3.org/1999/xlink','svg':'http://www.w3.org/2000/svg'});var DomElementSchemaRegistry=(function(_super){__extends(DomElementSchemaRegistry,_super);function DomElementSchemaRegistry(){_super.apply(this,arguments);this._protoElements=new Map();}
DomElementSchemaRegistry.prototype._getProtoElement=function(tagName){var element=this._protoElements.get(tagName);if(lang_1.isBlank(element)){var nsAndName=html_tags_1.splitNsName(tagName);element=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);this._protoElements.set(tagName,element);}
return element;};DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){if(tagName.indexOf('-')!==-1){return true;}else{var elm=this._getProtoElement(tagName);return dom_adapter_1.DOM.hasProperty(elm,propName);}};DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){var mappedPropName=collection_1.StringMapWrapper.get(dom_adapter_1.DOM.attrToPropMap,propName);return lang_1.isPresent(mappedPropName)?mappedPropName:propName;};DomElementSchemaRegistry=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],DomElementSchemaRegistry);return DomElementSchemaRegistry;})(element_schema_registry_1.ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry;global.define=__define;return module.exports;});System.register("angular2/src/core/angular_entrypoint",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var AngularEntrypoint=(function(){function AngularEntrypoint(name){this.name=name;}
AngularEntrypoint=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],AngularEntrypoint);return AngularEntrypoint;})();exports.AngularEntrypoint=AngularEntrypoint;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/async_pipe",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var ObservableStrategy=(function(){function ObservableStrategy(){}
ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async_1.ObservableWrapper.subscribe(async,updateLatestValue,function(e){throw e;});};ObservableStrategy.prototype.dispose=function(subscription){async_1.ObservableWrapper.dispose(subscription);};ObservableStrategy.prototype.onDestroy=function(subscription){async_1.ObservableWrapper.dispose(subscription);};return ObservableStrategy;})();var PromiseStrategy=(function(){function PromiseStrategy(){}
PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue);};PromiseStrategy.prototype.dispose=function(subscription){};PromiseStrategy.prototype.onDestroy=function(subscription){};return PromiseStrategy;})();var _promiseStrategy=new PromiseStrategy();var _observableStrategy=new ObservableStrategy();var __unused;var AsyncPipe=(function(){function AsyncPipe(_ref){this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;this._strategy=null;this._ref=_ref;}
AsyncPipe.prototype.ngOnDestroy=function(){if(lang_1.isPresent(this._subscription)){this._dispose();}};AsyncPipe.prototype.transform=function(obj,args){if(lang_1.isBlank(this._obj)){if(lang_1.isPresent(obj)){this._subscribe(obj);}
this._latestReturnedValue=this._latestValue;return this._latestValue;}
if(obj!==this._obj){this._dispose();return this.transform(obj);}
if(this._latestValue===this._latestReturnedValue){return this._latestReturnedValue;}else{this._latestReturnedValue=this._latestValue;return core_1.WrappedValue.wrap(this._latestValue);}};AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj;this._strategy=this._selectStrategy(obj);this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value);});};AsyncPipe.prototype._selectStrategy=function(obj){if(lang_1.isPromise(obj)){return _promiseStrategy;}else if(async_1.ObservableWrapper.isObservable(obj)){return _observableStrategy;}else{throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(AsyncPipe,obj);}};AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription);this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;};AsyncPipe.prototype._updateLatestValue=function(async,value){if(async===this._obj){this._latestValue=value;this._ref.markForCheck();}};AsyncPipe=__decorate([core_1.Pipe({name:'async',pure:false}),core_1.Injectable(),__metadata('design:paramtypes',[core_1.ChangeDetectorRef])],AsyncPipe);return AsyncPipe;})();exports.AsyncPipe=AsyncPipe;global.define=__define;return module.exports;});System.register("angular2/src/common/pipes/date_pipe",["angular2/src/facade/lang","angular2/src/facade/intl","angular2/core","angular2/src/facade/collection","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var intl_1=require("angular2/src/facade/intl");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var defaultLocale='en-US';var DatePipe=(function(){function DatePipe(){}
DatePipe.prototype.transform=function(value,args){if(lang_1.isBlank(value))
return null;if(!this.supports(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(DatePipe,value);}
var pattern=lang_1.isPresent(args)&&args.length>0?args[0]:'mediumDate';if(lang_1.isNumber(value)){value=lang_1.DateWrapper.fromMillis(value);}
if(collection_1.StringMapWrapper.contains(DatePipe._ALIASES,pattern)){pattern=collection_1.StringMapWrapper.get(DatePipe._ALIASES,pattern);}
return intl_1.DateFormatter.format(value,defaultLocale,pattern);};DatePipe.prototype.supports=function(obj){return lang_1.isDate(obj)||lang_1.isNumber(obj);};DatePipe._ALIASES={'medium':'yMMMdjms','short':'yMdjm','fullDate':'yMMMMEEEEd','longDate':'yMMMMd','mediumDate':'yMMMd','shortDate':'yMd','mediumTime':'jms','shortTime':'jm'};DatePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:'date',pure:true}),core_1.Injectable(),__metadata('design:paramtypes',[])],DatePipe);return DatePipe;})();exports.DatePipe=DatePipe;global.define=__define;return module.exports;});System.register("angular2/src/common/directives",["angular2/src/common/directives/ng_class","angular2/src/common/directives/ng_for","angular2/src/common/directives/ng_if","angular2/src/common/directives/ng_style","angular2/src/common/directives/ng_switch","angular2/src/common/directives/ng_plural","angular2/src/common/directives/observable_list_diff","angular2/src/common/directives/core_directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
var ng_class_1=require("angular2/src/common/directives/ng_class");exports.NgClass=ng_class_1.NgClass;var ng_for_1=require("angular2/src/common/directives/ng_for");exports.NgFor=ng_for_1.NgFor;var ng_if_1=require("angular2/src/common/directives/ng_if");exports.NgIf=ng_if_1.NgIf;var ng_style_1=require("angular2/src/common/directives/ng_style");exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=require("angular2/src/common/directives/ng_switch");exports.NgSwitch=ng_switch_1.NgSwitch;exports.NgSwitchWhen=ng_switch_1.NgSwitchWhen;exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault;var ng_plural_1=require("angular2/src/common/directives/ng_plural");exports.NgPlural=ng_plural_1.NgPlural;exports.NgPluralCase=ng_plural_1.NgPluralCase;exports.NgLocalization=ng_plural_1.NgLocalization;__export(require("angular2/src/common/directives/observable_list_diff"));var core_directives_1=require("angular2/src/common/directives/core_directives");exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/shared",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/common/forms/validators","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/radio_control_value_accessor","angular2/src/common/forms/directives/normalize_validator"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var validators_1=require("angular2/src/common/forms/validators");var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");var number_value_accessor_1=require("angular2/src/common/forms/directives/number_value_accessor");var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");var radio_control_value_accessor_1=require("angular2/src/common/forms/directives/radio_control_value_accessor");var normalize_validator_1=require("angular2/src/common/forms/directives/normalize_validator");function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);p.push(name);return p;}
exports.controlPath=controlPath;function setUpControl(control,dir){if(lang_1.isBlank(control))
_throwError(dir,"Cannot find control");if(lang_1.isBlank(dir.valueAccessor))
_throwError(dir,"No value accessor for");control.validator=validators_1.Validators.compose([control.validator,dir.validator]);control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]);dir.valueAccessor.writeValue(control.value);dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue);control.updateValue(newValue,{emitModelToViewChange:false});control.markAsDirty();});control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue);});dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched();});}
exports.setUpControl=setUpControl;function setUpControlGroup(control,dir){if(lang_1.isBlank(control))
_throwError(dir,"Cannot find control");control.validator=validators_1.Validators.compose([control.validator,dir.validator]);control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]);}
exports.setUpControlGroup=setUpControlGroup;function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'");}
function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null;}
exports.composeValidators=composeValidators;function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeAsyncValidator)):null;}
exports.composeAsyncValidators=composeAsyncValidators;function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))
return false;var change=changes["model"];if(change.isFirstChange())
return true;return!lang_1.looseIdentical(viewModel,change.currentValue);}
exports.isPropertyUpdated=isPropertyUpdated;function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))
return null;var defaultAccessor;var builtinAccessor;var customAccessor;valueAccessors.forEach(function(v){if(lang_1.hasConstructor(v,default_value_accessor_1.DefaultValueAccessor)){defaultAccessor=v;}else if(lang_1.hasConstructor(v,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(v,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(v,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(v,radio_control_value_accessor_1.RadioControlValueAccessor)){if(lang_1.isPresent(builtinAccessor))
_throwError(dir,"More than one built-in value accessor matches");builtinAccessor=v;}else{if(lang_1.isPresent(customAccessor))
_throwError(dir,"More than one custom value accessor matches");customAccessor=v;}});if(lang_1.isPresent(customAccessor))
return customAccessor;if(lang_1.isPresent(builtinAccessor))
return builtinAccessor;if(lang_1.isPresent(defaultAccessor))
return defaultAccessor;_throwError(dir,"No valid value accessor for");return null;}
exports.selectValueAccessor=selectValueAccessor;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives",["angular2/src/facade/lang","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/radio_control_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/validators","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/radio_control_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/validators","angular2/src/common/forms/directives/ng_control"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var ng_control_name_1=require("angular2/src/common/forms/directives/ng_control_name");var ng_form_control_1=require("angular2/src/common/forms/directives/ng_form_control");var ng_model_1=require("angular2/src/common/forms/directives/ng_model");var ng_control_group_1=require("angular2/src/common/forms/directives/ng_control_group");var ng_form_model_1=require("angular2/src/common/forms/directives/ng_form_model");var ng_form_1=require("angular2/src/common/forms/directives/ng_form");var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");var number_value_accessor_1=require("angular2/src/common/forms/directives/number_value_accessor");var radio_control_value_accessor_1=require("angular2/src/common/forms/directives/radio_control_value_accessor");var ng_control_status_1=require("angular2/src/common/forms/directives/ng_control_status");var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");var validators_1=require("angular2/src/common/forms/directives/validators");var ng_control_name_2=require("angular2/src/common/forms/directives/ng_control_name");exports.NgControlName=ng_control_name_2.NgControlName;var ng_form_control_2=require("angular2/src/common/forms/directives/ng_form_control");exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_model_2=require("angular2/src/common/forms/directives/ng_model");exports.NgModel=ng_model_2.NgModel;var ng_control_group_2=require("angular2/src/common/forms/directives/ng_control_group");exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_form_model_2=require("angular2/src/common/forms/directives/ng_form_model");exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_form_2=require("angular2/src/common/forms/directives/ng_form");exports.NgForm=ng_form_2.NgForm;var default_value_accessor_2=require("angular2/src/common/forms/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var checkbox_value_accessor_2=require("angular2/src/common/forms/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var radio_control_value_accessor_2=require("angular2/src/common/forms/directives/radio_control_value_accessor");exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor;exports.RadioButtonState=radio_control_value_accessor_2.RadioButtonState;var number_value_accessor_2=require("angular2/src/common/forms/directives/number_value_accessor");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var ng_control_status_2=require("angular2/src/common/forms/directives/ng_control_status");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var select_control_value_accessor_2=require("angular2/src/common/forms/directives/select_control_value_accessor");exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor;exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption;var validators_2=require("angular2/src/common/forms/directives/validators");exports.RequiredValidator=validators_2.RequiredValidator;exports.MinLengthValidator=validators_2.MinLengthValidator;exports.MaxLengthValidator=validators_2.MaxLengthValidator;exports.PatternValidator=validators_2.PatternValidator;var ng_control_1=require("angular2/src/common/forms/directives/ng_control");exports.NgControl=ng_control_1.NgControl;exports.FORM_DIRECTIVES=lang_1.CONST_EXPR([ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator]);global.define=__define;return module.exports;});System.register("angular2/src/platform/dom/events/hammer_gestures",["angular2/src/platform/dom/events/hammer_common","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var hammer_common_1=require("angular2/src/platform/dom/events/hammer_common");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var di_1=require("angular2/src/core/di");var HammerGesturesPlugin=(function(_super){__extends(HammerGesturesPlugin,_super);function HammerGesturesPlugin(){_super.apply(this,arguments);}
HammerGesturesPlugin.prototype.supports=function(eventName){if(!_super.prototype.supports.call(this,eventName))
return false;if(!lang_1.isPresent(window['Hammer'])){throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+eventName+" event");}
return true;};HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone();eventName=eventName.toLowerCase();return zone.runOutsideAngular(function(){var mc=new Hammer(element);mc.get('pinch').set({enable:true});mc.get('rotate').set({enable:true});var callback=function(eventObj){zone.run(function(){handler(eventObj);});};mc.on(eventName,callback);return function(){mc.off(eventName,callback);};});};HammerGesturesPlugin=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],HammerGesturesPlugin);return HammerGesturesPlugin;})(hammer_common_1.HammerGesturesPluginCommon);exports.HammerGesturesPlugin=HammerGesturesPlugin;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/xhr_impl",["angular2/src/facade/promise","angular2/src/facade/lang","angular2/src/compiler/xhr"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var promise_1=require("angular2/src/facade/promise");var lang_1=require("angular2/src/facade/lang");var xhr_1=require("angular2/src/compiler/xhr");var XHRImpl=(function(_super){__extends(XHRImpl,_super);function XHRImpl(){_super.apply(this,arguments);}
XHRImpl.prototype.get=function(url){var completer=promise_1.PromiseWrapper.completer();var xhr=new XMLHttpRequest();xhr.open('GET',url,true);xhr.responseType='text';xhr.onload=function(){var response=lang_1.isPresent(xhr.response)?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:0;}
if(200<=status&&status<=300){completer.resolve(response);}else{completer.reject("Failed to load "+url,null);}};xhr.onerror=function(){completer.reject("Failed to load "+url,null);};xhr.send();return completer.promise;};return XHRImpl;})(xhr_1.XHR);exports.XHRImpl=XHRImpl;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/tools/common_tools",["angular2/src/core/application_ref","angular2/src/facade/lang","angular2/src/facade/browser","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var application_ref_1=require("angular2/src/core/application_ref");var lang_1=require("angular2/src/facade/lang");var browser_1=require("angular2/src/facade/browser");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var AngularTools=(function(){function AngularTools(ref){this.profiler=new AngularProfiler(ref);}
return AngularTools;})();exports.AngularTools=AngularTools;var AngularProfiler=(function(){function AngularProfiler(ref){this.appRef=ref.injector.get(application_ref_1.ApplicationRef);}
AngularProfiler.prototype.timeChangeDetection=function(config){var record=lang_1.isPresent(config)&&config['record'];var profileName='Change Detection';var isProfilerAvailable=lang_1.isPresent(browser_1.window.console.profile);if(record&&isProfilerAvailable){browser_1.window.console.profile(profileName);}
var start=dom_adapter_1.DOM.performanceNow();var numTicks=0;while(numTicks<5||(dom_adapter_1.DOM.performanceNow()-start)<500){this.appRef.tick();numTicks++;}
var end=dom_adapter_1.DOM.performanceNow();if(record&&isProfilerAvailable){browser_1.window.console.profileEnd(profileName);}
var msPerTick=(end-start)/numTicks;browser_1.window.console.log("ran "+numTicks+" change detection cycles");browser_1.window.console.log(lang_1.NumberWrapper.toFixed(msPerTick,2)+" ms per check");};return AngularProfiler;})();exports.AngularProfiler=AngularProfiler;global.define=__define;return module.exports;});System.register("angular2/src/compiler/directive_metadata",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/change_detection","angular2/src/core/metadata/view","angular2/src/compiler/selector","angular2/src/compiler/util","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var view_1=require("angular2/src/core/metadata/view");var selector_1=require("angular2/src/compiler/selector");var util_1=require("angular2/src/compiler/util");var interfaces_1=require("angular2/src/core/linker/interfaces");var HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g;var CompileMetadataWithIdentifier=(function(){function CompileMetadataWithIdentifier(){}
CompileMetadataWithIdentifier.fromJson=function(data){return _COMPILE_METADATA_FROM_JSON[data['class']](data);};Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});return CompileMetadataWithIdentifier;})();exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier;var CompileMetadataWithType=(function(_super){__extends(CompileMetadataWithType,_super);function CompileMetadataWithType(){_super.apply(this,arguments);}
CompileMetadataWithType.fromJson=function(data){return _COMPILE_METADATA_FROM_JSON[data['class']](data);};Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return exceptions_1.unimplemented();},enumerable:true,configurable:true});return CompileMetadataWithType;})(CompileMetadataWithIdentifier);exports.CompileMetadataWithType=CompileMetadataWithType;var CompileIdentifierMetadata=(function(){function CompileIdentifierMetadata(_a){var _b=_a===void 0?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,constConstructor=_b.constConstructor;this.runtime=runtime;this.name=name;this.prefix=prefix;this.moduleUrl=moduleUrl;this.constConstructor=constConstructor;}
CompileIdentifierMetadata.fromJson=function(data){return new CompileIdentifierMetadata({name:data['name'],prefix:data['prefix'],moduleUrl:data['moduleUrl'],constConstructor:data['constConstructor']});};CompileIdentifierMetadata.prototype.toJson=function(){return{'class':'Identifier','name':this.name,'moduleUrl':this.moduleUrl,'prefix':this.prefix,'constConstructor':this.constConstructor};};Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this;},enumerable:true,configurable:true});return CompileIdentifierMetadata;})();exports.CompileIdentifierMetadata=CompileIdentifierMetadata;var CompileDiDependencyMetadata=(function(){function CompileDiDependencyMetadata(_a){var _b=_a===void 0?{}:_a,isAttribute=_b.isAttribute,isSelf=_b.isSelf,isHost=_b.isHost,isSkipSelf=_b.isSkipSelf,isOptional=_b.isOptional,query=_b.query,viewQuery=_b.viewQuery,token=_b.token;this.isAttribute=lang_1.normalizeBool(isAttribute);this.isSelf=lang_1.normalizeBool(isSelf);this.isHost=lang_1.normalizeBool(isHost);this.isSkipSelf=lang_1.normalizeBool(isSkipSelf);this.isOptional=lang_1.normalizeBool(isOptional);this.query=query;this.viewQuery=viewQuery;this.token=token;}
CompileDiDependencyMetadata.fromJson=function(data){return new CompileDiDependencyMetadata({token:objFromJson(data['token'],CompileIdentifierMetadata.fromJson),query:objFromJson(data['query'],CompileQueryMetadata.fromJson),viewQuery:objFromJson(data['viewQuery'],CompileQueryMetadata.fromJson),isAttribute:data['isAttribute'],isSelf:data['isSelf'],isHost:data['isHost'],isSkipSelf:data['isSkipSelf'],isOptional:data['isOptional']});};CompileDiDependencyMetadata.prototype.toJson=function(){return{'token':objToJson(this.token),'query':objToJson(this.query),'viewQuery':objToJson(this.viewQuery),'isAttribute':this.isAttribute,'isSelf':this.isSelf,'isHost':this.isHost,'isSkipSelf':this.isSkipSelf,'isOptional':this.isOptional};};return CompileDiDependencyMetadata;})();exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata;var CompileProviderMetadata=(function(){function CompileProviderMetadata(_a){var token=_a.token,useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token;this.useClass=useClass;this.useValue=useValue;this.useExisting=useExisting;this.useFactory=useFactory;this.deps=deps;this.multi=multi;}
CompileProviderMetadata.fromJson=function(data){return new CompileProviderMetadata({token:objFromJson(data['token'],CompileIdentifierMetadata.fromJson),useClass:objFromJson(data['useClass'],CompileTypeMetadata.fromJson)});};CompileProviderMetadata.prototype.toJson=function(){return{'token':objToJson(this.token),'useClass':objToJson(this.useClass)};};return CompileProviderMetadata;})();exports.CompileProviderMetadata=CompileProviderMetadata;var CompileFactoryMetadata=(function(){function CompileFactoryMetadata(_a){var runtime=_a.runtime,name=_a.name,moduleUrl=_a.moduleUrl,constConstructor=_a.constConstructor,diDeps=_a.diDeps;this.runtime=runtime;this.name=name;this.moduleUrl=moduleUrl;this.diDeps=diDeps;this.constConstructor=constConstructor;}
Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this;},enumerable:true,configurable:true});CompileFactoryMetadata.prototype.toJson=function(){return null;};return CompileFactoryMetadata;})();exports.CompileFactoryMetadata=CompileFactoryMetadata;var CompileTypeMetadata=(function(){function CompileTypeMetadata(_a){var _b=_a===void 0?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,prefix=_b.prefix,isHost=_b.isHost,constConstructor=_b.constConstructor,diDeps=_b.diDeps;this.runtime=runtime;this.name=name;this.moduleUrl=moduleUrl;this.prefix=prefix;this.isHost=lang_1.normalizeBool(isHost);this.constConstructor=constConstructor;this.diDeps=lang_1.normalizeBlank(diDeps);}
CompileTypeMetadata.fromJson=function(data){return new CompileTypeMetadata({name:data['name'],moduleUrl:data['moduleUrl'],prefix:data['prefix'],isHost:data['isHost'],constConstructor:data['constConstructor'],diDeps:arrayFromJson(data['diDeps'],CompileDiDependencyMetadata.fromJson)});};Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this;},enumerable:true,configurable:true});Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this;},enumerable:true,configurable:true});CompileTypeMetadata.prototype.toJson=function(){return{'class':'Type','name':this.name,'moduleUrl':this.moduleUrl,'prefix':this.prefix,'isHost':this.isHost,'constConstructor':this.constConstructor,'diDeps':arrayToJson(this.diDeps)};};return CompileTypeMetadata;})();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileQueryMetadata=(function(){function CompileQueryMetadata(_a){var _b=_a===void 0?{}:_a,selectors=_b.selectors,descendants=_b.descendants,first=_b.first,propertyName=_b.propertyName;this.selectors=selectors;this.descendants=descendants;this.first=lang_1.normalizeBool(first);this.propertyName=propertyName;}
CompileQueryMetadata.fromJson=function(data){return new CompileQueryMetadata({selectors:arrayFromJson(data['selectors'],CompileIdentifierMetadata.fromJson),descendants:data['descendants'],first:data['first'],propertyName:data['propertyName']});};CompileQueryMetadata.prototype.toJson=function(){return{'selectors':arrayToJson(this.selectors),'descendants':this.descendants,'first':this.first,'propertyName':this.propertyName};};return CompileQueryMetadata;})();exports.CompileQueryMetadata=CompileQueryMetadata;var CompileTemplateMetadata=(function(){function CompileTemplateMetadata(_a){var _b=_a===void 0?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,ngContentSelectors=_b.ngContentSelectors;this.encapsulation=lang_1.isPresent(encapsulation)?encapsulation:view_1.ViewEncapsulation.Emulated;this.template=template;this.templateUrl=templateUrl;this.styles=lang_1.isPresent(styles)?styles:[];this.styleUrls=lang_1.isPresent(styleUrls)?styleUrls:[];this.ngContentSelectors=lang_1.isPresent(ngContentSelectors)?ngContentSelectors:[];}
CompileTemplateMetadata.fromJson=function(data){return new CompileTemplateMetadata({encapsulation:lang_1.isPresent(data['encapsulation'])?view_1.VIEW_ENCAPSULATION_VALUES[data['encapsulation']]:data['encapsulation'],template:data['template'],templateUrl:data['templateUrl'],styles:data['styles'],styleUrls:data['styleUrls'],ngContentSelectors:data['ngContentSelectors']});};CompileTemplateMetadata.prototype.toJson=function(){return{'encapsulation':lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,'template':this.template,'templateUrl':this.templateUrl,'styles':this.styles,'styleUrls':this.styleUrls,'ngContentSelectors':this.ngContentSelectors};};return CompileTemplateMetadata;})();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=(function(){function CompileDirectiveMetadata(_a){var _b=_a===void 0?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template;this.type=type;this.isComponent=isComponent;this.dynamicLoadable=dynamicLoadable;this.selector=selector;this.exportAs=exportAs;this.changeDetection=changeDetection;this.inputs=inputs;this.outputs=outputs;this.hostListeners=hostListeners;this.hostProperties=hostProperties;this.hostAttributes=hostAttributes;this.lifecycleHooks=lifecycleHooks;this.providers=lang_1.normalizeBlank(providers);this.viewProviders=lang_1.normalizeBlank(viewProviders);this.queries=queries;this.viewQueries=viewQueries;this.template=template;}
CompileDirectiveMetadata.create=function(_a){var _b=_a===void 0?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,lifecycleHooks=_b.lifecycleHooks,providers=_b.providers,viewProviders=_b.viewProviders,queries=_b.queries,viewQueries=_b.viewQueries,template=_b.template;var hostListeners={};var hostProperties={};var hostAttributes={};if(lang_1.isPresent(host)){collection_1.StringMapWrapper.forEach(host,function(value,key){var matches=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,key);if(lang_1.isBlank(matches)){hostAttributes[key]=value;}else if(lang_1.isPresent(matches[1])){hostProperties[matches[1]]=value;}else if(lang_1.isPresent(matches[2])){hostListeners[matches[2]]=value;}});}
var inputsMap={};if(lang_1.isPresent(inputs)){inputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1];});}
var outputsMap={};if(lang_1.isPresent(outputs)){outputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1];});}
return new CompileDirectiveMetadata({type:type,isComponent:lang_1.normalizeBool(isComponent),dynamicLoadable:lang_1.normalizeBool(dynamicLoadable),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,lifecycleHooks:lang_1.isPresent(lifecycleHooks)?lifecycleHooks:[],providers:providers,viewProviders:viewProviders,queries:queries,viewQueries:viewQueries,template:template});};Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type;},enumerable:true,configurable:true});CompileDirectiveMetadata.fromJson=function(data){return new CompileDirectiveMetadata({isComponent:data['isComponent'],dynamicLoadable:data['dynamicLoadable'],selector:data['selector'],exportAs:data['exportAs'],type:lang_1.isPresent(data['type'])?CompileTypeMetadata.fromJson(data['type']):data['type'],changeDetection:lang_1.isPresent(data['changeDetection'])?change_detection_1.CHANGE_DETECTION_STRATEGY_VALUES[data['changeDetection']]:data['changeDetection'],inputs:data['inputs'],outputs:data['outputs'],hostListeners:data['hostListeners'],hostProperties:data['hostProperties'],hostAttributes:data['hostAttributes'],lifecycleHooks:data['lifecycleHooks'].map(function(hookValue){return interfaces_1.LIFECYCLE_HOOKS_VALUES[hookValue];}),template:lang_1.isPresent(data['template'])?CompileTemplateMetadata.fromJson(data['template']):data['template'],providers:arrayFromJson(data['providers'],CompileProviderMetadata.fromJson)});};CompileDirectiveMetadata.prototype.toJson=function(){return{'class':'Directive','isComponent':this.isComponent,'dynamicLoadable':this.dynamicLoadable,'selector':this.selector,'exportAs':this.exportAs,'type':lang_1.isPresent(this.type)?this.type.toJson():this.type,'changeDetection':lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,'inputs':this.inputs,'outputs':this.outputs,'hostListeners':this.hostListeners,'hostProperties':this.hostProperties,'hostAttributes':this.hostAttributes,'lifecycleHooks':this.lifecycleHooks.map(function(hook){return lang_1.serializeEnum(hook);}),'template':lang_1.isPresent(this.template)?this.template.toJson():this.template,'providers':arrayToJson(this.providers)};};return CompileDirectiveMetadata;})();exports.CompileDirectiveMetadata=CompileDirectiveMetadata;function createHostComponentMeta(componentType,componentSelector){var template=selector_1.CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:"Host"+componentType.name,moduleUrl:componentType.moduleUrl,isHost:true}),template:new CompileTemplateMetadata({template:template,templateUrl:'',styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:change_detection_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:true,dynamicLoadable:false,selector:'*',providers:[],viewProviders:[],queries:[],viewQueries:[]});}
exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=(function(){function CompilePipeMetadata(_a){var _b=_a===void 0?{}:_a,type=_b.type,name=_b.name,pure=_b.pure;this.type=type;this.name=name;this.pure=lang_1.normalizeBool(pure);}
Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type;},enumerable:true,configurable:true});CompilePipeMetadata.fromJson=function(data){return new CompilePipeMetadata({type:lang_1.isPresent(data['type'])?CompileTypeMetadata.fromJson(data['type']):data['type'],name:data['name'],pure:data['pure']});};CompilePipeMetadata.prototype.toJson=function(){return{'class':'Pipe','type':lang_1.isPresent(this.type)?this.type.toJson():null,'name':this.name,'pure':this.pure};};return CompilePipeMetadata;})();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={'Directive':CompileDirectiveMetadata.fromJson,'Pipe':CompilePipeMetadata.fromJson,'Type':CompileTypeMetadata.fromJson,'Identifier':CompileIdentifierMetadata.fromJson};function arrayFromJson(obj,fn){return lang_1.isBlank(obj)?null:obj.map(function(o){return objFromJson(o,fn);});}
function arrayToJson(obj){return lang_1.isBlank(obj)?null:obj.map(objToJson);}
function objFromJson(obj,fn){return(lang_1.isString(obj)||lang_1.isBlank(obj))?obj:fn(obj);}
function objToJson(obj){return(lang_1.isString(obj)||lang_1.isBlank(obj))?obj:obj.toJson();}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/change_detector_compiler",["angular2/src/compiler/source_module","angular2/src/core/change_detection/change_detection_jit_generator","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/constants","angular2/src/compiler/change_definition_factory","angular2/src/facade/lang","angular2/src/core/change_detection/change_detection","angular2/src/transform/template_compiler/change_detector_codegen","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var source_module_1=require("angular2/src/compiler/source_module");var change_detection_jit_generator_1=require("angular2/src/core/change_detection/change_detection_jit_generator");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var constants_1=require("angular2/src/core/change_detection/constants");var change_definition_factory_1=require("angular2/src/compiler/change_definition_factory");var lang_1=require("angular2/src/facade/lang");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var change_detector_codegen_1=require("angular2/src/transform/template_compiler/change_detector_codegen");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var ABSTRACT_CHANGE_DETECTOR="AbstractChangeDetector";var UTIL="ChangeDetectionUtil";var CHANGE_DETECTOR_STATE="ChangeDetectorState";exports.CHANGE_DETECTION_JIT_IMPORTS=lang_1.CONST_EXPR({'AbstractChangeDetector':abstract_change_detector_1.AbstractChangeDetector,'ChangeDetectionUtil':change_detection_util_1.ChangeDetectionUtil,'ChangeDetectorState':constants_1.ChangeDetectorState});var ABSTRACT_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+util_1.MODULE_SUFFIX);var UTIL_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+util_1.MODULE_SUFFIX);var PREGEN_PROTO_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+util_1.MODULE_SUFFIX);var CONSTANTS_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/constants"+util_1.MODULE_SUFFIX);var ChangeDetectionCompiler=(function(){function ChangeDetectionCompiler(_genConfig){this._genConfig=_genConfig;}
ChangeDetectionCompiler.prototype.compileComponentRuntime=function(componentType,strategy,parsedTemplate){var _this=this;var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);return changeDetectorDefinitions.map(function(definition){return _this._createChangeDetectorFactory(definition);});};ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(definition){var proto=new change_detection_1.DynamicProtoChangeDetector(definition);return function(){return proto.instantiate();};};ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(componentType,strategy,parsedTemplate){var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);var factories=[];var index=0;var sourceParts=changeDetectorDefinitions.map(function(definition){var codegen;var sourcePart;if(lang_1.IS_DART){codegen=new change_detector_codegen_1.Codegen(PREGEN_PROTO_CHANGE_DETECTOR_MODULE);var className="_"+definition.id;var typeRef=(index===0&&componentType.isHost)?'dynamic':""+source_module_1.moduleRef(componentType.moduleUrl)+componentType.name;codegen.generate(typeRef,className,definition);factories.push(className+".newChangeDetector");sourcePart=codegen.toString();}else{codegen=new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,""+UTIL_MODULE+UTIL,""+ABSTRACT_CHANGE_DETECTOR_MODULE+ABSTRACT_CHANGE_DETECTOR,""+CONSTANTS_MODULE+CHANGE_DETECTOR_STATE);factories.push("function() { return new "+codegen.typeName+"(); }");sourcePart=codegen.generateSource();}
index++;return sourcePart;});return new source_module_1.SourceExpressions(sourceParts,factories);};ChangeDetectionCompiler=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[change_detection_1.ChangeDetectorGenConfig])],ChangeDetectionCompiler);return ChangeDetectionCompiler;})();exports.ChangeDetectionCompiler=ChangeDetectionCompiler;global.define=__define;return module.exports;});System.register("angular2/src/compiler/style_compiler",["angular2/src/compiler/source_module","angular2/src/core/metadata/view","angular2/src/compiler/xhr","angular2/src/facade/lang","angular2/src/facade/async","angular2/src/compiler/shadow_css","angular2/src/compiler/url_resolver","angular2/src/compiler/style_url_resolver","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/metadata/view");var xhr_1=require("angular2/src/compiler/xhr");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var shadow_css_1=require("angular2/src/compiler/shadow_css");var url_resolver_1=require("angular2/src/compiler/url_resolver");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var COMPONENT_VARIABLE='%COMP%';var HOST_ATTR="_nghost-"+COMPONENT_VARIABLE;var CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE;var StyleCompiler=(function(){function StyleCompiler(_xhr,_urlResolver){this._xhr=_xhr;this._urlResolver=_urlResolver;this._styleCache=new Map();this._shadowCss=new shadow_css_1.ShadowCss();}
StyleCompiler.prototype.compileComponentRuntime=function(template){var styles=template.styles;var styleAbsUrls=template.styleUrls;return this._loadStyles(styles,styleAbsUrls,template.encapsulation===view_1.ViewEncapsulation.Emulated);};StyleCompiler.prototype.compileComponentCodeGen=function(template){var shim=template.encapsulation===view_1.ViewEncapsulation.Emulated;return this._styleCodeGen(template.styles,template.styleUrls,shim);};StyleCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){var styleWithImports=style_url_resolver_1.extractStyleUrls(this._urlResolver,stylesheetUrl,cssText);return[this._styleModule(stylesheetUrl,false,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,false)),this._styleModule(stylesheetUrl,true,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,true))];};StyleCompiler.prototype.clearCache=function(){this._styleCache.clear();};StyleCompiler.prototype._loadStyles=function(plainStyles,absUrls,encapsulate){var _this=this;var promises=absUrls.map(function(absUrl){var cacheKey=""+absUrl+(encapsulate?'.shim':'');var result=_this._styleCache.get(cacheKey);if(lang_1.isBlank(result)){result=_this._xhr.get(absUrl).then(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,absUrl,style);return _this._loadStyles([styleWithImports.style],styleWithImports.styleUrls,encapsulate);});_this._styleCache.set(cacheKey,result);}
return result;});return async_1.PromiseWrapper.all(promises).then(function(nestedStyles){var result=plainStyles.map(function(plainStyle){return _this._shimIfNeeded(plainStyle,encapsulate);});nestedStyles.forEach(function(styles){return result.push(styles);});return result;});};StyleCompiler.prototype._styleCodeGen=function(plainStyles,absUrls,shim){var _this=this;var arrayPrefix=lang_1.IS_DART?"const":'';var styleExpressions=plainStyles.map(function(plainStyle){return util_1.escapeSingleQuoteString(_this._shimIfNeeded(plainStyle,shim));});for(var i=0;i<absUrls.length;i++){var moduleUrl=this._createModuleUrl(absUrls[i],shim);styleExpressions.push(source_module_1.moduleRef(moduleUrl)+"STYLES");}
var expressionSource=arrayPrefix+" ["+styleExpressions.join(',')+"]";return new source_module_1.SourceExpression([],expressionSource);};StyleCompiler.prototype._styleModule=function(stylesheetUrl,shim,expression){var moduleSource="\n      "+expression.declarations.join('\n')+"\n      "+util_1.codeGenExportVariable('STYLES')+expression.expression+";\n    ";return new source_module_1.SourceModule(this._createModuleUrl(stylesheetUrl,shim),moduleSource);};StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style;};StyleCompiler.prototype._createModuleUrl=function(stylesheetUrl,shim){return shim?stylesheetUrl+".shim"+util_1.MODULE_SUFFIX:""+stylesheetUrl+util_1.MODULE_SUFFIX;};StyleCompiler=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[xhr_1.XHR,url_resolver_1.UrlResolver])],StyleCompiler);return StyleCompiler;})();exports.StyleCompiler=StyleCompiler;global.define=__define;return module.exports;});System.register("angular2/src/compiler/view_compiler",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/template_ast","angular2/src/compiler/source_module","angular2/src/core/linker/view","angular2/src/core/linker/view_type","angular2/src/core/linker/element","angular2/src/core/metadata/view","angular2/src/compiler/util","angular2/src/core/di","angular2/src/compiler/proto_view_compiler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var template_ast_1=require("angular2/src/compiler/template_ast");var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/linker/view");var view_type_1=require("angular2/src/core/linker/view_type");var element_1=require("angular2/src/core/linker/element");var view_2=require("angular2/src/core/metadata/view");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");exports.VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({'AppView':view_1.AppView,'AppElement':element_1.AppElement,'flattenNestedViewRenderNodes':view_1.flattenNestedViewRenderNodes,'checkSlotCount':view_1.checkSlotCount});var ViewCompiler=(function(){function ViewCompiler(){}
ViewCompiler.prototype.compileComponentRuntime=function(component,template,styles,protoViews,changeDetectorFactories,componentViewFactory){var viewFactory=new RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory);return viewFactory.createViewFactory(template,0,[]);};ViewCompiler.prototype.compileComponentCodeGen=function(component,template,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory){var viewFactory=new CodeGenViewFactory(component,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory);var targetStatements=[];var viewFactoryExpression=viewFactory.createViewFactory(template,0,targetStatements);return new source_module_1.SourceExpression(targetStatements.map(function(stmt){return stmt.statement;}),viewFactoryExpression.expression);};ViewCompiler=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],ViewCompiler);return ViewCompiler;})();exports.ViewCompiler=ViewCompiler;var CodeGenViewFactory=(function(){function CodeGenViewFactory(component,styles,protoViews,changeDetectorExpressions,componentViewFactory){this.component=component;this.styles=styles;this.protoViews=protoViews;this.changeDetectorExpressions=changeDetectorExpressions;this.componentViewFactory=componentViewFactory;this._nextVarId=0;}
CodeGenViewFactory.prototype._nextVar=function(prefix){return""+prefix+this._nextVarId++ +"_"+this.component.type.name;};CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar('render');};CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar('app');};CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name;};CodeGenViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){var varName=this._nextRenderVar();var statement="var "+varName+" = "+renderer.expression+".createText("+(lang_1.isPresent(parent)?parent.expression:null)+", "+util_1.escapeSingleQuoteString(text)+");";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName);};CodeGenViewFactory.prototype.createElement=function(renderer,parentRenderNode,name,rootSelector,targetStatements){var varName=this._nextRenderVar();var valueExpr;if(lang_1.isPresent(rootSelector)){valueExpr=rootSelector.expression+" == null ?\n        "+renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+") :\n        "+renderer.expression+".selectRootElement("+rootSelector.expression+");";}else{valueExpr=renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+")";}
var statement="var "+varName+" = "+valueExpr+";";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName);};CodeGenViewFactory.prototype.createTemplateAnchor=function(renderer,parentRenderNode,targetStatements){var varName=this._nextRenderVar();var valueExpr=renderer.expression+".createTemplateAnchor("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+");";targetStatements.push(new util_1.Statement("var "+varName+" = "+valueExpr));return new util_1.Expression(varName);};CodeGenViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){var disposableVar=this._nextDisposableVar();var eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listenGlobal("+util_1.escapeValue(eventAst.target)+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");"));return new util_1.Expression(disposableVar);};CodeGenViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){var disposableVar=this._nextDisposableVar();var eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listen("+renderNode.expression+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");"));return new util_1.Expression(disposableVar);};CodeGenViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".setElementAttribute("+renderNode.expression+", "+util_1.escapeSingleQuoteString(attrName)+", "+util_1.escapeSingleQuoteString(attrValue)+");"));};CodeGenViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){var appVar=this._nextAppVar();var varValue="new "+proto_view_compiler_1.APP_EL_MODULE_REF+"AppElement("+appProtoEl.expression+", "+appView.expression+",\n      "+(lang_1.isPresent(parentAppEl)?parentAppEl.expression:null)+", "+renderNode.expression+", "+(lang_1.isPresent(embeddedViewFactory)?embeddedViewFactory.expression:null)+")";targetStatements.push(new util_1.Statement("var "+appVar+" = "+varValue+";"));return new util_1.Expression(appVar);};CodeGenViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,view,appEl,component,contentNodesByNgContentIndex,targetStatements){var codeGenContentNodes;if(this.component.type.isHost){codeGenContentNodes=view.expression+".projectableNodes";}else{codeGenContentNodes="["+contentNodesByNgContentIndex.map(function(nodes){return util_1.codeGenFlatArray(nodes);}).join(',')+"]";}
targetStatements.push(new util_1.Statement(this.componentViewFactory(component)+"("+renderer.expression+", "+viewManager.expression+", "+appEl.expression+", "+codeGenContentNodes+", null, null, null);"));};CodeGenViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return new util_1.Expression(projectableNodes.expression+"["+ngContentIndex+"]",true);};CodeGenViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".projectNodes("+parent.expression+", "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+nodes.expression+"));"));};CodeGenViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var compileProtoView=this.protoViews[embeddedTemplateIndex];var isHostView=this.component.type.isHost;var isComponentView=embeddedTemplateIndex===0&&!isHostView;var visitor=new ViewBuilderVisitor(new util_1.Expression('renderer'),new util_1.Expression('viewManager'),new util_1.Expression('projectableNodes'),isHostView?new util_1.Expression('rootSelector'):null,new util_1.Expression('view'),compileProtoView,targetStatements,this);template_ast_1.templateVisitAll(visitor,asts,new ParentElement(isComponentView?new util_1.Expression('parentRenderNode'):null,null,null));var appProtoView=compileProtoView.protoView.expression;var viewFactoryName=codeGenViewFactoryName(this.component,embeddedTemplateIndex);var changeDetectorFactory=this.changeDetectorExpressions.expressions[embeddedTemplateIndex];var factoryArgs=['parentRenderer','viewManager','containerEl','projectableNodes','rootSelector','dynamicallyCreatedProviders','rootInjector'];var initRendererStmts=[];var rendererExpr="parentRenderer";if(embeddedTemplateIndex===0){var renderCompTypeVar=this._nextVar('renderType');targetStatements.push(new util_1.Statement("var "+renderCompTypeVar+" = null;"));var stylesVar=this._nextVar('styles');targetStatements.push(new util_1.Statement(util_1.CONST_VAR+" "+stylesVar+" = "+this.styles.expression+";"));var encapsulation=this.component.template.encapsulation;initRendererStmts.push("if ("+renderCompTypeVar+" == null) {\n        "+renderCompTypeVar+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(encapsulation)+", "+stylesVar+");\n      }");rendererExpr="parentRenderer.renderComponent("+renderCompTypeVar+")";}
var statement="\n"+util_1.codeGenFnHeader(factoryArgs,viewFactoryName)+"{\n  "+initRendererStmts.join('\n')+"\n  var renderer = "+rendererExpr+";\n  var view = new "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"AppView(\n    "+appProtoView+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+changeDetectorFactory+"()\n  );\n  "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"checkSlotCount("+util_1.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(isComponentView?'var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);':'')+"\n  "+visitor.renderStmts.map(function(stmt){return stmt.statement;}).join('\n')+"\n  "+visitor.appStmts.map(function(stmt){return stmt.statement;}).join('\n')+"\n\n  view.init("+util_1.codeGenFlatArray(visitor.rootNodesOrAppElements)+", "+util_1.codeGenArray(visitor.renderNodes)+", "+util_1.codeGenArray(visitor.appDisposables)+",\n            "+util_1.codeGenArray(visitor.appElements)+");\n  return view;\n}";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(viewFactoryName);};return CodeGenViewFactory;})();var RuntimeViewFactory=(function(){function RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory){this.component=component;this.styles=styles;this.protoViews=protoViews;this.changeDetectorFactories=changeDetectorFactories;this.componentViewFactory=componentViewFactory;}
RuntimeViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){return renderer.createText(parent,text);};RuntimeViewFactory.prototype.createElement=function(renderer,parent,name,rootSelector,targetStatements){var el;if(lang_1.isPresent(rootSelector)){el=renderer.selectRootElement(rootSelector);}else{el=renderer.createElement(parent,name);}
return el;};RuntimeViewFactory.prototype.createTemplateAnchor=function(renderer,parent,targetStatements){return renderer.createTemplateAnchor(parent);};RuntimeViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){return renderer.listenGlobal(eventAst.target,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex);});};RuntimeViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){return renderer.listen(renderNode,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex);});};RuntimeViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){renderer.setElementAttribute(renderNode,attrName,attrValue);};RuntimeViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){return new element_1.AppElement(appProtoEl,appView,parentAppEl,renderNode,embeddedViewFactory);};RuntimeViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,appView,appEl,component,contentNodesByNgContentIndex,targetStatements){var flattenedContentNodes;if(this.component.type.isHost){flattenedContentNodes=appView.projectableNodes;}else{flattenedContentNodes=collection_1.ListWrapper.createFixedSize(contentNodesByNgContentIndex.length);for(var i=0;i<contentNodesByNgContentIndex.length;i++){flattenedContentNodes[i]=util_1.flattenArray(contentNodesByNgContentIndex[i],[]);}}
this.componentViewFactory(component)(renderer,viewManager,appEl,flattenedContentNodes);};RuntimeViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return projectableNodes[ngContentIndex];};RuntimeViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){renderer.projectNodes(parent,view_1.flattenNestedViewRenderNodes(nodes));};RuntimeViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var _this=this;var compileProtoView=this.protoViews[embeddedTemplateIndex];var isComponentView=compileProtoView.protoView.type===view_type_1.ViewType.COMPONENT;var renderComponentType=null;return function(parentRenderer,viewManager,containerEl,projectableNodes,rootSelector,dynamicallyCreatedProviders,rootInjector){if(rootSelector===void 0){rootSelector=null;}
if(dynamicallyCreatedProviders===void 0){dynamicallyCreatedProviders=null;}
if(rootInjector===void 0){rootInjector=null;}
view_1.checkSlotCount(_this.component.type.name,_this.component.template.ngContentSelectors.length,projectableNodes);var renderer;if(embeddedTemplateIndex===0){if(lang_1.isBlank(renderComponentType)){renderComponentType=viewManager.createRenderComponentType(_this.component.template.encapsulation,_this.styles);}
renderer=parentRenderer.renderComponent(renderComponentType);}else{renderer=parentRenderer;}
var changeDetector=_this.changeDetectorFactories[embeddedTemplateIndex]();var view=new view_1.AppView(compileProtoView.protoView,renderer,viewManager,projectableNodes,containerEl,dynamicallyCreatedProviders,rootInjector,changeDetector);var visitor=new ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,compileProtoView,[],_this);var parentRenderNode=isComponentView?renderer.createViewRoot(containerEl.nativeElement):null;template_ast_1.templateVisitAll(visitor,asts,new ParentElement(parentRenderNode,null,null));view.init(util_1.flattenArray(visitor.rootNodesOrAppElements,[]),visitor.renderNodes,visitor.appDisposables,visitor.appElements);return view;};};return RuntimeViewFactory;})();var ParentElement=(function(){function ParentElement(renderNode,appEl,component){this.renderNode=renderNode;this.appEl=appEl;this.component=component;if(lang_1.isPresent(component)){this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++){this.contentNodesByNgContentIndex[i]=[];}}else{this.contentNodesByNgContentIndex=null;}}
ParentElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr);};return ParentElement;})();var ViewBuilderVisitor=(function(){function ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,protoView,targetStatements,factory){this.renderer=renderer;this.viewManager=viewManager;this.projectableNodes=projectableNodes;this.rootSelector=rootSelector;this.view=view;this.protoView=protoView;this.targetStatements=targetStatements;this.factory=factory;this.renderStmts=[];this.renderNodes=[];this.appStmts=[];this.appElements=[];this.appDisposables=[];this.rootNodesOrAppElements=[];this.elementCount=0;}
ViewBuilderVisitor.prototype._addRenderNode=function(renderNode,appEl,ngContentIndex,parent){this.renderNodes.push(renderNode);if(lang_1.isPresent(parent.component)){if(lang_1.isPresent(ngContentIndex)){parent.addContentNode(ngContentIndex,lang_1.isPresent(appEl)?appEl:renderNode);}}else if(lang_1.isBlank(parent.renderNode)){this.rootNodesOrAppElements.push(lang_1.isPresent(appEl)?appEl:renderNode);}};ViewBuilderVisitor.prototype._getParentRenderNode=function(ngContentIndex,parent){return lang_1.isPresent(parent.component)&&parent.component.template.encapsulation!==view_2.ViewEncapsulation.Native?null:parent.renderNode;};ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText('',ast.ngContentIndex,parent);};ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast.value,ast.ngContentIndex,parent);};ViewBuilderVisitor.prototype._visitText=function(value,ngContentIndex,parent){var renderNode=this.factory.createText(this.renderer,this._getParentRenderNode(ngContentIndex,parent),value,this.renderStmts);this._addRenderNode(renderNode,null,ngContentIndex,parent);return null;};ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){var nodesExpression=this.factory.getProjectedNodes(this.projectableNodes,ast.index);if(lang_1.isPresent(parent.component)){if(lang_1.isPresent(ast.ngContentIndex)){parent.addContentNode(ast.ngContentIndex,nodesExpression);}}else{if(lang_1.isPresent(parent.renderNode)){this.factory.appendProjectedNodes(this.renderer,parent.renderNode,nodesExpression,this.renderStmts);}else{this.rootNodesOrAppElements.push(nodesExpression);}}
return null;};ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var _this=this;var renderNode=this.factory.createElement(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),ast.name,this.rootSelector,this.renderStmts);var component=ast.getComponent();var elementIndex=this.elementCount++;var protoEl=this.protoView.protoElements[elementIndex];protoEl.renderEvents.forEach(function(eventAst){var disposable;if(lang_1.isPresent(eventAst.target)){disposable=_this.factory.createGlobalEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,eventAst,_this.renderStmts);}else{disposable=_this.factory.createElementEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,renderNode,eventAst,_this.renderStmts);}
_this.appDisposables.push(disposable);});for(var i=0;i<protoEl.attrNameAndValues.length;i++){var attrName=protoEl.attrNameAndValues[i][0];var attrValue=protoEl.attrNameAndValues[i][1];this.factory.setElementAttribute(this.renderer,renderNode,attrName,attrValue,this.renderStmts);}
var appEl=null;if(lang_1.isPresent(protoEl.appProtoEl)){appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,null,this.appStmts);this.appElements.push(appEl);}
this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);var newParent=new ParentElement(renderNode,lang_1.isPresent(appEl)?appEl:parent.appEl,component);template_ast_1.templateVisitAll(this,ast.children,newParent);if(lang_1.isPresent(appEl)&&lang_1.isPresent(component)){this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,appEl,component,newParent.contentNodesByNgContentIndex,this.appStmts);}
return null;};ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var renderNode=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),this.renderStmts);var elementIndex=this.elementCount++;var protoEl=this.protoView.protoElements[elementIndex];var embeddedViewFactory=this.factory.createViewFactory(ast.children,protoEl.embeddedTemplateIndex,this.targetStatements);var appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,embeddedViewFactory,this.appStmts);this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);this.appElements.push(appEl);return null;};ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null;};ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null;};ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null;};ViewBuilderVisitor.prototype.visitEvent=function(ast,ctx){return null;};ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null;};ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null;};return ViewBuilderVisitor;})();function codeGenEventHandler(view,boundElementIndex,eventName){return util_1.codeGenValueFn(['event'],view.expression+".triggerEventHandlers("+util_1.escapeValue(eventName)+", event, "+boundElementIndex+")");}
function codeGenViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex;}
function codeGenViewEncapsulation(value){if(lang_1.IS_DART){return""+proto_view_compiler_1.METADATA_MODULE_REF+value;}else{return""+value;}}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/html_lexer",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/parse_util","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var parse_util_1=require("angular2/src/compiler/parse_util");var html_tags_1=require("angular2/src/compiler/html_tags");(function(HtmlTokenType){HtmlTokenType[HtmlTokenType["TAG_OPEN_START"]=0]="TAG_OPEN_START";HtmlTokenType[HtmlTokenType["TAG_OPEN_END"]=1]="TAG_OPEN_END";HtmlTokenType[HtmlTokenType["TAG_OPEN_END_VOID"]=2]="TAG_OPEN_END_VOID";HtmlTokenType[HtmlTokenType["TAG_CLOSE"]=3]="TAG_CLOSE";HtmlTokenType[HtmlTokenType["TEXT"]=4]="TEXT";HtmlTokenType[HtmlTokenType["ESCAPABLE_RAW_TEXT"]=5]="ESCAPABLE_RAW_TEXT";HtmlTokenType[HtmlTokenType["RAW_TEXT"]=6]="RAW_TEXT";HtmlTokenType[HtmlTokenType["COMMENT_START"]=7]="COMMENT_START";HtmlTokenType[HtmlTokenType["COMMENT_END"]=8]="COMMENT_END";HtmlTokenType[HtmlTokenType["CDATA_START"]=9]="CDATA_START";HtmlTokenType[HtmlTokenType["CDATA_END"]=10]="CDATA_END";HtmlTokenType[HtmlTokenType["ATTR_NAME"]=11]="ATTR_NAME";HtmlTokenType[HtmlTokenType["ATTR_VALUE"]=12]="ATTR_VALUE";HtmlTokenType[HtmlTokenType["DOC_TYPE"]=13]="DOC_TYPE";HtmlTokenType[HtmlTokenType["EOF"]=14]="EOF";})(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType;var HtmlToken=(function(){function HtmlToken(type,parts,sourceSpan){this.type=type;this.parts=parts;this.sourceSpan=sourceSpan;}
return HtmlToken;})();exports.HtmlToken=HtmlToken;var HtmlTokenError=(function(_super){__extends(HtmlTokenError,_super);function HtmlTokenError(errorMsg,tokenType,span){_super.call(this,span,errorMsg);this.tokenType=tokenType;}
return HtmlTokenError;})(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=(function(){function HtmlTokenizeResult(tokens,errors){this.tokens=tokens;this.errors=errors;}
return HtmlTokenizeResult;})();exports.HtmlTokenizeResult=HtmlTokenizeResult;function tokenizeHtml(sourceContent,sourceUrl){return new _HtmlTokenizer(new parse_util_1.ParseSourceFile(sourceContent,sourceUrl)).tokenize();}
exports.tokenizeHtml=tokenizeHtml;var $EOF=0;var $TAB=9;var $LF=10;var $FF=12;var $CR=13;var $SPACE=32;var $BANG=33;var $DQ=34;var $HASH=35;var $$=36;var $AMPERSAND=38;var $SQ=39;var $MINUS=45;var $SLASH=47;var $0=48;var $SEMICOLON=59;var $9=57;var $COLON=58;var $LT=60;var $EQ=61;var $GT=62;var $QUESTION=63;var $LBRACKET=91;var $RBRACKET=93;var $A=65;var $F=70;var $X=88;var $Z=90;var $a=97;var $f=102;var $z=122;var $x=120;var $NBSP=160;var CR_OR_CRLF_REGEXP=/\r\n?/g;function unexpectedCharacterErrorMsg(charCode){var char=charCode===$EOF?'EOF':lang_1.StringWrapper.fromCharCode(charCode);return"Unexpected character \""+char+"\"";}
function unknownEntityErrorMsg(entitySrc){return"Unknown entity \""+entitySrc+"\" - use the \"&#<decimal>;\" or  \"&#x<hex>;\" syntax";}
var ControlFlowError=(function(){function ControlFlowError(error){this.error=error;}
return ControlFlowError;})();var _HtmlTokenizer=(function(){function _HtmlTokenizer(file){this.file=file;this.peek=-1;this.index=-1;this.line=0;this.column=-1;this.tokens=[];this.errors=[];this.input=file.content;this.length=file.content.length;this._advance();}
_HtmlTokenizer.prototype._processCarriageReturns=function(content){return lang_1.StringWrapper.replaceAll(content,CR_OR_CRLF_REGEXP,'\n');};_HtmlTokenizer.prototype.tokenize=function(){while(this.peek!==$EOF){var start=this._getLocation();try{if(this._attemptCharCode($LT)){if(this._attemptCharCode($BANG)){if(this._attemptCharCode($LBRACKET)){this._consumeCdata(start);}else if(this._attemptCharCode($MINUS)){this._consumeComment(start);}else{this._consumeDocType(start);}}else if(this._attemptCharCode($SLASH)){this._consumeTagClose(start);}else{this._consumeTagOpen(start);}}else{this._consumeText();}}catch(e){if(e instanceof ControlFlowError){this.errors.push(e.error);}else{throw e;}}}
this._beginToken(HtmlTokenType.EOF);this._endToken([]);return new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors);};_HtmlTokenizer.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this.index,this.line,this.column);};_HtmlTokenizer.prototype._getSpan=function(start,end){if(lang_1.isBlank(start)){start=this._getLocation();}
if(lang_1.isBlank(end)){end=this._getLocation();}
return new parse_util_1.ParseSourceSpan(start,end);};_HtmlTokenizer.prototype._beginToken=function(type,start){if(start===void 0){start=null;}
if(lang_1.isBlank(start)){start=this._getLocation();}
this.currentTokenStart=start;this.currentTokenType=type;};_HtmlTokenizer.prototype._endToken=function(parts,end){if(end===void 0){end=null;}
if(lang_1.isBlank(end)){end=this._getLocation();}
var token=new HtmlToken(this.currentTokenType,parts,new parse_util_1.ParseSourceSpan(this.currentTokenStart,end));this.tokens.push(token);this.currentTokenStart=null;this.currentTokenType=null;return token;};_HtmlTokenizer.prototype._createError=function(msg,span){var error=new HtmlTokenError(msg,this.currentTokenType,span);this.currentTokenStart=null;this.currentTokenType=null;return new ControlFlowError(error);};_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length){throw this._createError(unexpectedCharacterErrorMsg($EOF),this._getSpan());}
if(this.peek===$LF){this.line++;this.column=0;}else if(this.peek!==$LF&&this.peek!==$CR){this.column++;}
this.index++;this.peek=this.index>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index);};_HtmlTokenizer.prototype._attemptCharCode=function(charCode){if(this.peek===charCode){this._advance();return true;}
return false;};_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){if(compareCharCodeCaseInsensitive(this.peek,charCode)){this._advance();return true;}
return false;};_HtmlTokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location,location));}};_HtmlTokenizer.prototype._attemptStr=function(chars){for(var i=0;i<chars.length;i++){if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(chars,i))){return false;}}
return true;};_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++){if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(chars,i))){return false;}}
return true;};_HtmlTokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(location));}};_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(predicate){while(!predicate(this.peek)){this._advance();}};_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();this._attemptCharCodeUntilFn(predicate);if(this.index-start.offset<len){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(start,start));}};_HtmlTokenizer.prototype._attemptUntilChar=function(char){while(this.peek!==char){this._advance();}};_HtmlTokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this.peek===$AMPERSAND){return this._decodeEntity();}else{var index=this.index;this._advance();return this.input[index];}};_HtmlTokenizer.prototype._decodeEntity=function(){var start=this._getLocation();this._advance();if(this._attemptCharCode($HASH)){var isHex=this._attemptCharCode($x)||this._attemptCharCode($X);var numberStart=this._getLocation().offset;this._attemptCharCodeUntilFn(isDigitEntityEnd);if(this.peek!=$SEMICOLON){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());}
this._advance();var strNum=this.input.substring(numberStart,this.index-1);try{var charCode=lang_1.NumberWrapper.parseInt(strNum,isHex?16:10);return lang_1.StringWrapper.fromCharCode(charCode);}catch(e){var entity=this.input.substring(start.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(entity),this._getSpan(start));}}else{var startPosition=this._savePosition();this._attemptCharCodeUntilFn(isNamedEntityEnd);if(this.peek!=$SEMICOLON){this._restorePosition(startPosition);return'&';}
this._advance();var name_1=this.input.substring(start.offset+1,this.index-1);var char=html_tags_1.NAMED_ENTITIES[name_1];if(lang_1.isBlank(char)){throw this._createError(unknownEntityErrorMsg(name_1),this._getSpan(start));}
return char;}};_HtmlTokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart;var textStart=this._getLocation();this._beginToken(decodeEntities?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,textStart);var parts=[];while(true){tagCloseStart=this._getLocation();if(this._attemptCharCode(firstCharOfEnd)&&attemptEndRest()){break;}
if(this.index>tagCloseStart.offset){parts.push(this.input.substring(tagCloseStart.offset,this.index));}
while(this.peek!==firstCharOfEnd){parts.push(this._readChar(decodeEntities));}}
return this._endToken([this._processCarriageReturns(parts.join(''))],tagCloseStart);};_HtmlTokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(HtmlTokenType.COMMENT_START,start);this._requireCharCode($MINUS);this._endToken([]);var textToken=this._consumeRawText(false,$MINUS,function(){return _this._attemptStr('->');});this._beginToken(HtmlTokenType.COMMENT_END,textToken.sourceSpan.end);this._endToken([]);};_HtmlTokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(HtmlTokenType.CDATA_START,start);this._requireStr('CDATA[');this._endToken([]);var textToken=this._consumeRawText(false,$RBRACKET,function(){return _this._attemptStr(']>');});this._beginToken(HtmlTokenType.CDATA_END,textToken.sourceSpan.end);this._endToken([]);};_HtmlTokenizer.prototype._consumeDocType=function(start){this._beginToken(HtmlTokenType.DOC_TYPE,start);this._attemptUntilChar($GT);this._advance();this._endToken([this.input.substring(start.offset+2,this.index-1)]);};_HtmlTokenizer.prototype._consumePrefixAndName=function(){var nameOrPrefixStart=this.index;var prefix=null;while(this.peek!==$COLON&&!isPrefixEnd(this.peek)){this._advance();}
var nameStart;if(this.peek===$COLON){this._advance();prefix=this.input.substring(nameOrPrefixStart,this.index-1);nameStart=this.index;}else{nameStart=nameOrPrefixStart;}
this._requireCharCodeUntilFn(isNameEnd,this.index===nameStart?1:0);var name=this.input.substring(nameStart,this.index);return[prefix,name];};_HtmlTokenizer.prototype._consumeTagOpen=function(start){var savedPos=this._savePosition();var lowercaseTagName;try{if(!isAsciiLetter(this.peek)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());}
var nameStart=this.index;this._consumeTagOpenStart(start);lowercaseTagName=this.input.substring(nameStart,this.index).toLowerCase();this._attemptCharCodeUntilFn(isNotWhitespace);while(this.peek!==$SLASH&&this.peek!==$GT){this._consumeAttributeName();this._attemptCharCodeUntilFn(isNotWhitespace);if(this._attemptCharCode($EQ)){this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeAttributeValue();}
this._attemptCharCodeUntilFn(isNotWhitespace);}
this._consumeTagOpenEnd();}catch(e){if(e instanceof ControlFlowError){this._restorePosition(savedPos);this._beginToken(HtmlTokenType.TEXT,start);this._endToken(['<']);return;}
throw e;}
var contentTokenType=html_tags_1.getHtmlTagDefinition(lowercaseTagName).contentType;if(contentTokenType===html_tags_1.HtmlTagContentType.RAW_TEXT){this._consumeRawTextWithTagClose(lowercaseTagName,false);}else if(contentTokenType===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT){this._consumeRawTextWithTagClose(lowercaseTagName,true);}};_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this;var textToken=this._consumeRawText(decodeEntities,$LT,function(){if(!_this._attemptCharCode($SLASH))
return false;_this._attemptCharCodeUntilFn(isNotWhitespace);if(!_this._attemptStrCaseInsensitive(lowercaseTagName))
return false;_this._attemptCharCodeUntilFn(isNotWhitespace);if(!_this._attemptCharCode($GT))
return false;return true;});this._beginToken(HtmlTokenType.TAG_CLOSE,textToken.sourceSpan.end);this._endToken([null,lowercaseTagName]);};_HtmlTokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(HtmlTokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts);};_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName);};_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var value;if(this.peek===$SQ||this.peek===$DQ){var quoteChar=this.peek;this._advance();var parts=[];while(this.peek!==quoteChar){parts.push(this._readChar(true));}
value=parts.join('');this._advance();}else{var valueStart=this.index;this._requireCharCodeUntilFn(isNameEnd,1);value=this.input.substring(valueStart,this.index);}
this._endToken([this._processCarriageReturns(value)]);};_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(tokenType);this._requireCharCode($GT);this._endToken([]);};_HtmlTokenizer.prototype._consumeTagClose=function(start){this._beginToken(HtmlTokenType.TAG_CLOSE,start);this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName;prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace);this._requireCharCode($GT);this._endToken(prefixAndName);};_HtmlTokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(HtmlTokenType.TEXT,start);var parts=[this._readChar(true)];while(!isTextEnd(this.peek)){parts.push(this._readChar(true));}
this._endToken([this._processCarriageReturns(parts.join(''))]);};_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length];};_HtmlTokenizer.prototype._restorePosition=function(position){this.peek=position[0];this.index=position[1];this.column=position[2];this.line=position[3];var nbTokens=position[4];if(nbTokens<this.tokens.length){this.tokens=collection_1.ListWrapper.slice(this.tokens,0,nbTokens);}};return _HtmlTokenizer;})();function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF;}
function isWhitespace(code){return(code>=$TAB&&code<=$SPACE)||(code===$NBSP);}
function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ;}
function isPrefixEnd(code){return(code<$a||$z<code)&&(code<$A||$Z<code)&&(code<$0||code>$9);}
function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiHexDigit(code);}
function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code);}
function isTextEnd(code){return code===$LT||code===$EOF;}
function isAsciiLetter(code){return code>=$a&&code<=$z||code>=$A&&code<=$Z;}
function isAsciiHexDigit(code){return code>=$a&&code<=$f||code>=$A&&code<=$F||code>=$0&&code<=$9;}
function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2);}
function toUpperCaseCharCode(code){return code>=$a&&code<=$z?code-$a+$A:code;}
function mergeTextTokens(srcTokens){var dstTokens=[];var lastDstToken;for(var i=0;i<srcTokens.length;i++){var token=srcTokens[i];if(lang_1.isPresent(lastDstToken)&&lastDstToken.type==HtmlTokenType.TEXT&&token.type==HtmlTokenType.TEXT){lastDstToken.parts[0]+=token.parts[0];lastDstToken.sourceSpan.end=token.sourceSpan.end;}else{lastDstToken=token;dstTokens.push(lastDstToken);}}
return dstTokens;}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/runtime_metadata",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/compiler/directive_metadata","angular2/src/core/metadata/directives","angular2/src/core/linker/directive_resolver","angular2/src/core/linker/pipe_resolver","angular2/src/core/linker/view_resolver","angular2/src/core/linker/directive_lifecycle_reflector","angular2/src/core/linker/interfaces","angular2/src/core/reflection/reflection","angular2/src/core/di","angular2/src/core/platform_directives_and_pipes","angular2/src/compiler/util","angular2/src/compiler/assertions","angular2/src/compiler/url_resolver"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var cpl=require("angular2/src/compiler/directive_metadata");var md=require("angular2/src/core/metadata/directives");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var view_resolver_1=require("angular2/src/core/linker/view_resolver");var directive_lifecycle_reflector_1=require("angular2/src/core/linker/directive_lifecycle_reflector");var interfaces_1=require("angular2/src/core/linker/interfaces");var reflection_1=require("angular2/src/core/reflection/reflection");var di_2=require("angular2/src/core/di");var platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes");var util_1=require("angular2/src/compiler/util");var assertions_1=require("angular2/src/compiler/assertions");var url_resolver_1=require("angular2/src/compiler/url_resolver");var RuntimeMetadataResolver=(function(){function RuntimeMetadataResolver(_directiveResolver,_pipeResolver,_viewResolver,_platformDirectives,_platformPipes){this._directiveResolver=_directiveResolver;this._pipeResolver=_pipeResolver;this._viewResolver=_viewResolver;this._platformDirectives=_platformDirectives;this._platformPipes=_platformPipes;this._directiveCache=new Map();this._pipeCache=new Map();this._anonymousTypes=new Map();this._anonymousTypeIndex=0;}
RuntimeMetadataResolver.prototype.sanitizeName=function(obj){var result=lang_1.stringify(obj);if(result.indexOf('(')<0){return result;}
var found=this._anonymousTypes.get(obj);if(!found){this._anonymousTypes.set(obj,this._anonymousTypeIndex++);found=this._anonymousTypes.get(obj);}
return"anonymous_type_"+found+"_";};RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var meta=this._directiveCache.get(directiveType);if(lang_1.isBlank(meta)){var dirMeta=this._directiveResolver.resolve(directiveType);var moduleUrl=null;var templateMeta=null;var changeDetectionStrategy=null;if(dirMeta instanceof md.ComponentMetadata){assertions_1.assertArrayOfStrings('styles',dirMeta.styles);var cmpMeta=dirMeta;moduleUrl=calcModuleUrl(directiveType,cmpMeta);var viewMeta=this._viewResolver.resolve(directiveType);assertions_1.assertArrayOfStrings('styles',viewMeta.styles);templateMeta=new cpl.CompileTemplateMetadata({encapsulation:viewMeta.encapsulation,template:viewMeta.template,templateUrl:viewMeta.templateUrl,styles:viewMeta.styles,styleUrls:viewMeta.styleUrls});changeDetectionStrategy=cmpMeta.changeDetection;}
meta=cpl.CompileDirectiveMetadata.create({selector:dirMeta.selector,exportAs:dirMeta.exportAs,isComponent:lang_1.isPresent(templateMeta),dynamicLoadable:true,type:new cpl.CompileTypeMetadata({name:this.sanitizeName(directiveType),moduleUrl:moduleUrl,runtime:directiveType}),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,lifecycleHooks:interfaces_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,directiveType);})});this._directiveCache.set(directiveType,meta);}
return meta;};RuntimeMetadataResolver.prototype.getPipeMetadata=function(pipeType){var meta=this._pipeCache.get(pipeType);if(lang_1.isBlank(meta)){var pipeMeta=this._pipeResolver.resolve(pipeType);var moduleUrl=reflection_1.reflector.importUri(pipeType);meta=new cpl.CompilePipeMetadata({type:new cpl.CompileTypeMetadata({name:this.sanitizeName(pipeType),moduleUrl:moduleUrl,runtime:pipeType}),name:pipeMeta.name,pure:pipeMeta.pure});this._pipeCache.set(pipeType,meta);}
return meta;};RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(component){var _this=this;var view=this._viewResolver.resolve(component);var directives=flattenDirectives(view,this._platformDirectives);for(var i=0;i<directives.length;i++){if(!isValidType(directives[i])){throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(directives[i])+"' on the View of component '"+lang_1.stringify(component)+"'");}}
return directives.map(function(type){return _this.getDirectiveMetadata(type);});};RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(component){var _this=this;var view=this._viewResolver.resolve(component);var pipes=flattenPipes(view,this._platformPipes);for(var i=0;i<pipes.length;i++){if(!isValidType(pipes[i])){throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(pipes[i])+"' on the View of component '"+lang_1.stringify(component)+"'");}}
return pipes.map(function(type){return _this.getPipeMetadata(type);});};RuntimeMetadataResolver=__decorate([di_2.Injectable(),__param(3,di_2.Optional()),__param(3,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_DIRECTIVES)),__param(4,di_2.Optional()),__param(4,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_PIPES)),__metadata('design:paramtypes',[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,view_resolver_1.ViewResolver,Array,Array])],RuntimeMetadataResolver);return RuntimeMetadataResolver;})();exports.RuntimeMetadataResolver=RuntimeMetadataResolver;function flattenDirectives(view,platformDirectives){var directives=[];if(lang_1.isPresent(platformDirectives)){flattenArray(platformDirectives,directives);}
if(lang_1.isPresent(view.directives)){flattenArray(view.directives,directives);}
return directives;}
function flattenPipes(view,platformPipes){var pipes=[];if(lang_1.isPresent(platformPipes)){flattenArray(platformPipes,pipes);}
if(lang_1.isPresent(view.pipes)){flattenArray(view.pipes,pipes);}
return pipes;}
function flattenArray(tree,out){for(var i=0;i<tree.length;i++){var item=di_1.resolveForwardRef(tree[i]);if(lang_1.isArray(item)){flattenArray(item,out);}else{out.push(item);}}}
function isValidType(value){return lang_1.isPresent(value)&&(value instanceof lang_1.Type);}
function calcModuleUrl(type,cmpMetadata){var moduleId=cmpMetadata.moduleId;if(lang_1.isPresent(moduleId)){var scheme=url_resolver_1.getUrlScheme(moduleId);return lang_1.isPresent(scheme)&&scheme.length>0?moduleId:"package:"+moduleId+util_1.MODULE_SUFFIX;}else{return reflection_1.reflector.importUri(type);}}
global.define=__define;return module.exports;});System.register("angular2/src/common/pipes",["angular2/src/common/pipes/async_pipe","angular2/src/common/pipes/date_pipe","angular2/src/common/pipes/json_pipe","angular2/src/common/pipes/slice_pipe","angular2/src/common/pipes/lowercase_pipe","angular2/src/common/pipes/number_pipe","angular2/src/common/pipes/uppercase_pipe","angular2/src/common/pipes/replace_pipe","angular2/src/common/pipes/i18n_plural_pipe","angular2/src/common/pipes/i18n_select_pipe","angular2/src/common/pipes/common_pipes"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var async_pipe_1=require("angular2/src/common/pipes/async_pipe");exports.AsyncPipe=async_pipe_1.AsyncPipe;var date_pipe_1=require("angular2/src/common/pipes/date_pipe");exports.DatePipe=date_pipe_1.DatePipe;var json_pipe_1=require("angular2/src/common/pipes/json_pipe");exports.JsonPipe=json_pipe_1.JsonPipe;var slice_pipe_1=require("angular2/src/common/pipes/slice_pipe");exports.SlicePipe=slice_pipe_1.SlicePipe;var lowercase_pipe_1=require("angular2/src/common/pipes/lowercase_pipe");exports.LowerCasePipe=lowercase_pipe_1.LowerCasePipe;var number_pipe_1=require("angular2/src/common/pipes/number_pipe");exports.NumberPipe=number_pipe_1.NumberPipe;exports.DecimalPipe=number_pipe_1.DecimalPipe;exports.PercentPipe=number_pipe_1.PercentPipe;exports.CurrencyPipe=number_pipe_1.CurrencyPipe;var uppercase_pipe_1=require("angular2/src/common/pipes/uppercase_pipe");exports.UpperCasePipe=uppercase_pipe_1.UpperCasePipe;var replace_pipe_1=require("angular2/src/common/pipes/replace_pipe");exports.ReplacePipe=replace_pipe_1.ReplacePipe;var i18n_plural_pipe_1=require("angular2/src/common/pipes/i18n_plural_pipe");exports.I18nPluralPipe=i18n_plural_pipe_1.I18nPluralPipe;var i18n_select_pipe_1=require("angular2/src/common/pipes/i18n_select_pipe");exports.I18nSelectPipe=i18n_select_pipe_1.I18nSelectPipe;var common_pipes_1=require("angular2/src/common/pipes/common_pipes");exports.COMMON_PIPES=common_pipes_1.COMMON_PIPES;global.define=__define;return module.exports;});System.register("angular2/src/common/forms/directives/ng_control_name",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var controlNameBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgControlName;})}));var NgControlName=(function(_super){__extends(NgControlName,_super);function NgControlName(_parent,_validators,_asyncValidators,valueAccessors){_super.call(this);this._parent=_parent;this._validators=_validators;this._asyncValidators=_asyncValidators;this.update=new async_1.EventEmitter();this._added=false;this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors);}
NgControlName.prototype.ngOnChanges=function(changes){if(!this._added){this.formDirective.addControl(this);this._added=true;}
if(shared_1.isPropertyUpdated(changes,this.viewModel)){this.viewModel=this.model;this.formDirective.updateModel(this,this.model);}};NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this);};NgControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue);};Object.defineProperty(NgControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent);},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective;},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators);},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators);},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this);},enumerable:true,configurable:true});NgControlName=__decorate([core_1.Directive({selector:'[ngControl]',bindings:[controlNameBinding],inputs:['name: ngControl','model: ngModel'],outputs:['update: ngModelChange'],exportAs:'ngForm'}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(3,core_1.Optional()),__param(3,core_1.Self()),__param(3,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata('design:paramtypes',[control_container_1.ControlContainer,Array,Array,Array])],NgControlName);return NgControlName;})(ng_control_1.NgControl);exports.NgControlName=NgControlName;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/generic_browser_adapter",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/src/platform/browser/xhr_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var xhr_impl_1=require("angular2/src/platform/browser/xhr_impl");var GenericBrowserDomAdapter=(function(_super){__extends(GenericBrowserDomAdapter,_super);function GenericBrowserDomAdapter(){var _this=this;_super.call(this);this._animationPrefix=null;this._transitionEnd=null;try{var element=this.createElement('div',this.defaultDoc());if(lang_1.isPresent(this.getStyle(element,'animationName'))){this._animationPrefix='';}else{var domPrefixes=['Webkit','Moz','O','ms'];for(var i=0;i<domPrefixes.length;i++){if(lang_1.isPresent(this.getStyle(element,domPrefixes[i]+'AnimationName'))){this._animationPrefix='-'+domPrefixes[i].toLowerCase()+'-';break;}}}
var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};collection_1.StringMapWrapper.forEach(transEndEventNames,function(value,key){if(lang_1.isPresent(_this.getStyle(element,key))){_this._transitionEnd=value;}});}catch(e){this._animationPrefix=null;this._transitionEnd=null;}}
GenericBrowserDomAdapter.prototype.getXHR=function(){return xhr_impl_1.XHRImpl;};GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes();};GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=href==null?baseUrl:baseUrl+'/../'+href;};GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return true;};GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot);};GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:"";};GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:"";};GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd);};return GenericBrowserDomAdapter;})(dom_adapter_1.DomAdapter);exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/tools/tools",["angular2/src/facade/lang","angular2/src/platform/browser/tools/common_tools"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var common_tools_1=require("angular2/src/platform/browser/tools/common_tools");var context=lang_1.global;function enableDebugTools(ref){context.ng=new common_tools_1.AngularTools(ref);}
exports.enableDebugTools=enableDebugTools;function disableDebugTools(){delete context.ng;}
exports.disableDebugTools=disableDebugTools;global.define=__define;return module.exports;});System.register("angular2/src/compiler/html_parser",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/html_ast","angular2/src/core/di","angular2/src/compiler/html_lexer","angular2/src/compiler/parse_util","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var html_ast_1=require("angular2/src/compiler/html_ast");var di_1=require("angular2/src/core/di");var html_lexer_1=require("angular2/src/compiler/html_lexer");var parse_util_1=require("angular2/src/compiler/parse_util");var html_tags_1=require("angular2/src/compiler/html_tags");var HtmlTreeError=(function(_super){__extends(HtmlTreeError,_super);function HtmlTreeError(elementName,span,msg){_super.call(this,span,msg);this.elementName=elementName;}
HtmlTreeError.create=function(elementName,span,msg){return new HtmlTreeError(elementName,span,msg);};return HtmlTreeError;})(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=(function(){function HtmlParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes;this.errors=errors;}
return HtmlParseTreeResult;})();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=(function(){function HtmlParser(){}
HtmlParser.prototype.parse=function(sourceContent,sourceUrl){var tokensAndErrors=html_lexer_1.tokenizeHtml(sourceContent,sourceUrl);var treeAndErrors=new TreeBuilder(tokensAndErrors.tokens).build();return new HtmlParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors));};HtmlParser=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[])],HtmlParser);return HtmlParser;})();exports.HtmlParser=HtmlParser;var TreeBuilder=(function(){function TreeBuilder(tokens){this.tokens=tokens;this.index=-1;this.rootNodes=[];this.errors=[];this.elementStack=[];this._advance();}
TreeBuilder.prototype.build=function(){while(this.peek.type!==html_lexer_1.HtmlTokenType.EOF){if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START){this._consumeStartTag(this._advance());}else if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE){this._consumeEndTag(this._advance());}else if(this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START){this._closeVoidElement();this._consumeCdata(this._advance());}else if(this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START){this._closeVoidElement();this._consumeComment(this._advance());}else if(this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT){this._closeVoidElement();this._consumeText(this._advance());}else{this._advance();}}
return new HtmlParseTreeResult(this.rootNodes,this.errors);};TreeBuilder.prototype._advance=function(){var prev=this.peek;if(this.index<this.tokens.length-1){this.index++;}
this.peek=this.tokens[this.index];return prev;};TreeBuilder.prototype._advanceIf=function(type){if(this.peek.type===type){return this._advance();}
return null;};TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance());this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END);};TreeBuilder.prototype._consumeComment=function(token){var text=this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT);this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END);var value=lang_1.isPresent(text)?text.parts[0].trim():null;this._addToParent(new html_ast_1.HtmlCommentAst(value,token.sourceSpan));};TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&text[0]=='\n'){var parent_1=this._getParentElement();if(lang_1.isPresent(parent_1)&&parent_1.children.length==0&&html_tags_1.getHtmlTagDefinition(parent_1.name).ignoreFirstLf){text=text.substring(1);}}
if(text.length>0){this._addToParent(new html_ast_1.HtmlTextAst(text,token.sourceSpan));}};TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var el=collection_1.ListWrapper.last(this.elementStack);if(html_tags_1.getHtmlTagDefinition(el.name).isVoid){this.elementStack.pop();}}};TreeBuilder.prototype._consumeStartTag=function(startTagToken){var prefix=startTagToken.parts[0];var name=startTagToken.parts[1];var attrs=[];while(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME){attrs.push(this._consumeAttr(this._advance()));}
var fullName=getElementFullName(prefix,name,this._getParentElement());var selfClosing=false;if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID){this._advance();selfClosing=true;if(html_tags_1.getNsPrefix(fullName)==null&&!html_tags_1.getHtmlTagDefinition(fullName).isVoid){this.errors.push(HtmlTreeError.create(fullName,startTagToken.sourceSpan,"Only void and foreign elements can be self closed \""+startTagToken.parts[1]+"\""));}}else if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END){this._advance();selfClosing=false;}
var end=this.peek.sourceSpan.start;var span=new parse_util_1.ParseSourceSpan(startTagToken.sourceSpan.start,end);var el=new html_ast_1.HtmlElementAst(fullName,attrs,[],span,span,null);this._pushElement(el);if(selfClosing){this._popElement(fullName);el.endSourceSpan=span;}};TreeBuilder.prototype._pushElement=function(el){if(this.elementStack.length>0){var parentEl=collection_1.ListWrapper.last(this.elementStack);if(html_tags_1.getHtmlTagDefinition(parentEl.name).isClosedByChild(el.name)){this.elementStack.pop();}}
var tagDef=html_tags_1.getHtmlTagDefinition(el.name);var parentEl=this._getParentElement();if(tagDef.requireExtraParent(lang_1.isPresent(parentEl)?parentEl.name:null)){var newParent=new html_ast_1.HtmlElementAst(tagDef.parentToAdd,[],[el],el.sourceSpan,el.startSourceSpan,el.endSourceSpan);this._addToParent(newParent);this.elementStack.push(newParent);this.elementStack.push(el);}else{this._addToParent(el);this.elementStack.push(el);}};TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=endTagToken.sourceSpan;if(html_tags_1.getHtmlTagDefinition(fullName).isVoid){this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,"Void elements do not have end tags \""+endTagToken.parts[1]+"\""));}else if(!this._popElement(fullName)){this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan,"Unexpected closing tag \""+endTagToken.parts[1]+"\""));}};TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this.elementStack.length-1;stackIndex>=0;stackIndex--){var el=this.elementStack[stackIndex];if(el.name==fullName){collection_1.ListWrapper.splice(this.elementStack,stackIndex,this.elementStack.length-stackIndex);return true;}
if(!html_tags_1.getHtmlTagDefinition(el.name).closedByParent){return false;}}
return false;};TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=html_tags_1.mergeNsAndName(attrName.parts[0],attrName.parts[1]);var end=attrName.sourceSpan.end;var value='';if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0];end=valueToken.sourceSpan.end;}
return new html_ast_1.HtmlAttrAst(fullName,value,new parse_util_1.ParseSourceSpan(attrName.sourceSpan.start,end));};TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null;};TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();if(lang_1.isPresent(parent)){parent.children.push(node);}else{this.rootNodes.push(node);}};return TreeBuilder;})();function getElementFullName(prefix,localName,parentElement){if(lang_1.isBlank(prefix)){prefix=html_tags_1.getHtmlTagDefinition(localName).implicitNamespacePrefix;if(lang_1.isBlank(prefix)&&lang_1.isPresent(parentElement)){prefix=html_tags_1.getNsPrefix(parentElement.name);}}
return html_tags_1.mergeNsAndName(prefix,localName);}
global.define=__define;return module.exports;});System.register("angular2/src/common/forms",["angular2/src/common/forms/model","angular2/src/common/forms/directives/abstract_control_directive","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives","angular2/src/common/forms/validators","angular2/src/common/forms/directives/validators","angular2/src/common/forms/form_builder","angular2/src/common/forms/form_builder","angular2/src/common/forms/directives/radio_control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var model_1=require("angular2/src/common/forms/model");exports.AbstractControl=model_1.AbstractControl;exports.Control=model_1.Control;exports.ControlGroup=model_1.ControlGroup;exports.ControlArray=model_1.ControlArray;var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var control_container_1=require("angular2/src/common/forms/directives/control_container");exports.ControlContainer=control_container_1.ControlContainer;var ng_control_name_1=require("angular2/src/common/forms/directives/ng_control_name");exports.NgControlName=ng_control_name_1.NgControlName;var ng_form_control_1=require("angular2/src/common/forms/directives/ng_form_control");exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_model_1=require("angular2/src/common/forms/directives/ng_model");exports.NgModel=ng_model_1.NgModel;var ng_control_1=require("angular2/src/common/forms/directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=require("angular2/src/common/forms/directives/ng_control_group");exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_form_model_1=require("angular2/src/common/forms/directives/ng_form_model");exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_form_1=require("angular2/src/common/forms/directives/ng_form");exports.NgForm=ng_form_1.NgForm;var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_status_1=require("angular2/src/common/forms/directives/ng_control_status");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption;exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var directives_1=require("angular2/src/common/forms/directives");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES;exports.RadioButtonState=directives_1.RadioButtonState;var validators_1=require("angular2/src/common/forms/validators");exports.NG_VALIDATORS=validators_1.NG_VALIDATORS;exports.NG_ASYNC_VALIDATORS=validators_1.NG_ASYNC_VALIDATORS;exports.Validators=validators_1.Validators;var validators_2=require("angular2/src/common/forms/directives/validators");exports.RequiredValidator=validators_2.RequiredValidator;exports.MinLengthValidator=validators_2.MinLengthValidator;exports.MaxLengthValidator=validators_2.MaxLengthValidator;exports.PatternValidator=validators_2.PatternValidator;var form_builder_1=require("angular2/src/common/forms/form_builder");exports.FormBuilder=form_builder_1.FormBuilder;var form_builder_2=require("angular2/src/common/forms/form_builder");var radio_control_value_accessor_1=require("angular2/src/common/forms/directives/radio_control_value_accessor");var lang_1=require("angular2/src/facade/lang");exports.FORM_PROVIDERS=lang_1.CONST_EXPR([form_builder_2.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry]);exports.FORM_BINDINGS=exports.FORM_PROVIDERS;global.define=__define;return module.exports;});System.register("angular2/src/platform/browser/browser_adapter",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/src/platform/browser/generic_browser_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var generic_browser_adapter_1=require("angular2/src/platform/browser/generic_browser_adapter");var _attrToPropMap={'class':'className','innerHtml':'innerHTML','readonly':'readOnly','tabindex':'tabIndex'};var DOM_KEY_LOCATION_NUMPAD=3;var _keyMap={'\b':'Backspace','\t':'Tab','\x7F':'Delete','\x1B':'Escape','Del':'Delete','Esc':'Escape','Left':'ArrowLeft','Right':'ArrowRight','Up':'ArrowUp','Down':'ArrowDown','Menu':'ContextMenu','Scroll':'ScrollLock','Win':'OS'};var _chromeNumKeyPadMap={'A':'1','B':'2','C':'3','D':'4','E':'5','F':'6','G':'7','H':'8','I':'9','J':'*','K':'+','M':'-','N':'.','O':'/','\x60':'0','\x90':'NumLock'};var BrowserDomAdapter=(function(_super){__extends(BrowserDomAdapter,_super);function BrowserDomAdapter(){_super.apply(this,arguments);}
BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented");};BrowserDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new BrowserDomAdapter());};BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element;};BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value;};BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name];};BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,args);};BrowserDomAdapter.prototype.logError=function(error){if(window.console.error){window.console.error(error);}else{window.console.log(error);}};BrowserDomAdapter.prototype.log=function(error){window.console.log(error);};BrowserDomAdapter.prototype.logGroup=function(error){if(window.console.group){window.console.group(error);this.logError(error);}else{window.console.log(error);}};BrowserDomAdapter.prototype.logGroupEnd=function(){if(window.console.groupEnd){window.console.groupEnd();}};Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap;},enumerable:true,configurable:true});BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector);};BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector);};BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector);};BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,false);};BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){el.addEventListener(evt,listener,false);return function(){el.removeEventListener(evt,listener,false);};};BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt);};BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent('MouseEvent');evt.initEvent(eventType,true,true);return evt;};BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent('Event');evt.initEvent(eventType,true,true);return evt;};BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault();evt.returnValue=false;};BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||lang_1.isPresent(evt.returnValue)&&!evt.returnValue;};BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML;};BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML;};BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName;};BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue;};BrowserDomAdapter.prototype.type=function(node){return node.type;};BrowserDomAdapter.prototype.content=function(node){if(this.hasProperty(node,"content")){return node.content;}else{return node;}};BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild;};BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling;};BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode;};BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes;};BrowserDomAdapter.prototype.childNodesAsList=function(el){var childNodes=el.childNodes;var res=collection_1.ListWrapper.createFixedSize(childNodes.length);for(var i=0;i<childNodes.length;i++){res[i]=childNodes[i];}
return res;};BrowserDomAdapter.prototype.clearNodes=function(el){while(el.firstChild){el.removeChild(el.firstChild);}};BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node);};BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node);};BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild);};BrowserDomAdapter.prototype.remove=function(node){if(node.parentNode){node.parentNode.removeChild(node);}
return node;};BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el);};BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el);});};BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling);};BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value;};BrowserDomAdapter.prototype.getText=function(el){return el.textContent;};BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value;};BrowserDomAdapter.prototype.getValue=function(el){return el.value;};BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value;};BrowserDomAdapter.prototype.getChecked=function(el){return el.checked;};BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value;};BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text);};BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement('template');t.innerHTML=html;return t;};BrowserDomAdapter.prototype.createElement=function(tagName,doc){if(doc===void 0){doc=document;}
return doc.createElement(tagName);};BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){if(doc===void 0){doc=document;}
return doc.createElementNS(ns,tagName);};BrowserDomAdapter.prototype.createTextNode=function(text,doc){if(doc===void 0){doc=document;}
return doc.createTextNode(text);};BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){if(doc===void 0){doc=document;}
var el=doc.createElement('SCRIPT');el.setAttribute(attrName,attrValue);return el;};BrowserDomAdapter.prototype.createStyleElement=function(css,doc){if(doc===void 0){doc=document;}
var style=doc.createElement('style');this.appendChild(style,this.createTextNode(css));return style;};BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot();};BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot;};BrowserDomAdapter.prototype.getHost=function(el){return el.host;};BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(true);};BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name);};BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name);};BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0);};BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className);};BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className);};BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className);};BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue;};BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=null;};BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename];};BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){if(styleValue===void 0){styleValue=null;}
var value=this.getStyle(element,styleName)||'';return styleValue?value==styleValue:value.length>0;};BrowserDomAdapter.prototype.tagName=function(element){return element.tagName;};BrowserDomAdapter.prototype.attributeMap=function(element){var res=new Map();var elAttrs=element.attributes;for(var i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value);}
return res;};BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute);};BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute);};BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute);};BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name);};BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value);};BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value);};BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute);};BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name);};BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el;};BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument('fakeTitle');};BrowserDomAdapter.prototype.defaultDoc=function(){return document;};BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect();}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0};}};BrowserDomAdapter.prototype.getTitle=function(){return document.title;};BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||'';};BrowserDomAdapter.prototype.elementMatches=function(n,selector){var matches=false;if(n instanceof HTMLElement){if(n.matches){matches=n.matches(selector);}else if(n.msMatchesSelector){matches=n.msMatchesSelector(selector);}else if(n.webkitMatchesSelector){matches=n.webkitMatchesSelector(selector);}}
return matches;};BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&el.nodeName=="TEMPLATE";};BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE;};BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE;};BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE;};BrowserDomAdapter.prototype.hasShadowRoot=function(node){return node instanceof HTMLElement&&lang_1.isPresent(node.shadowRoot);};BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment;};BrowserDomAdapter.prototype.importIntoDoc=function(node){var toImport=node;if(this.isTemplateElement(node)){toImport=this.content(node);}
return document.importNode(toImport,true);};BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node);};BrowserDomAdapter.prototype.getHref=function(el){return el.href;};BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(lang_1.isBlank(key)){key=event.keyIdentifier;if(lang_1.isBlank(key)){return'Unidentified';}
if(key.startsWith('U+')){key=String.fromCharCode(parseInt(key.substring(2),16));if(event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)){key=_chromeNumKeyPadMap[key];}}}
if(_keyMap.hasOwnProperty(key)){key=_keyMap[key];}
return key;};BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){if(target=="window"){return window;}else if(target=="document"){return document;}else if(target=="body"){return document.body;}};BrowserDomAdapter.prototype.getHistory=function(){return window.history;};BrowserDomAdapter.prototype.getLocation=function(){return window.location;};BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();if(lang_1.isBlank(href)){return null;}
return relativePath(href);};BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null;};BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent;};BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,'data-'+name,value);};BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,'data-'+name);};BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element);};BrowserDomAdapter.prototype.setGlobalVar=function(path,value){lang_1.setValueOnPath(lang_1.global,path,value);};BrowserDomAdapter.prototype.requestAnimationFrame=function(callback){return window.requestAnimationFrame(callback);};BrowserDomAdapter.prototype.cancelAnimationFrame=function(id){window.cancelAnimationFrame(id);};BrowserDomAdapter.prototype.performanceNow=function(){if(lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)){return window.performance.now();}else{return lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now());}};return BrowserDomAdapter;})(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null;function getBaseElementHref(){if(lang_1.isBlank(baseElement)){baseElement=document.querySelector('base');if(lang_1.isBlank(baseElement)){return null;}}
return baseElement.getAttribute('href');}
var urlParsingNode=null;function relativePath(url){if(lang_1.isBlank(urlParsingNode)){urlParsingNode=document.createElement("a");}
urlParsingNode.setAttribute('href',url);return(urlParsingNode.pathname.charAt(0)==='/')?urlParsingNode.pathname:'/'+urlParsingNode.pathname;}
global.define=__define;return module.exports;});System.register("angular2/src/compiler/template_parser",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/core","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/change_detection/change_detection","angular2/src/compiler/html_parser","angular2/src/compiler/html_tags","angular2/src/compiler/parse_util","angular2/src/core/change_detection/parser/ast","angular2/src/compiler/template_ast","angular2/src/compiler/selector","angular2/src/compiler/schema/element_schema_registry","angular2/src/compiler/template_preparser","angular2/src/compiler/style_url_resolver","angular2/src/compiler/html_ast","angular2/src/compiler/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var lang_2=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var html_parser_1=require("angular2/src/compiler/html_parser");var html_tags_1=require("angular2/src/compiler/html_tags");var parse_util_1=require("angular2/src/compiler/parse_util");var ast_1=require("angular2/src/core/change_detection/parser/ast");var template_ast_1=require("angular2/src/compiler/template_ast");var selector_1=require("angular2/src/compiler/selector");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var template_preparser_1=require("angular2/src/compiler/template_preparser");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var html_ast_1=require("angular2/src/compiler/html_ast");var util_1=require("angular2/src/compiler/util");var BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g;var TEMPLATE_ELEMENT='template';var TEMPLATE_ATTR='template';var TEMPLATE_ATTR_PREFIX='*';var CLASS_ATTR='class';var PROPERTY_PARTS_SEPARATOR='.';var ATTRIBUTE_PREFIX='attr';var CLASS_PREFIX='class';var STYLE_PREFIX='style';var TEXT_CSS_SELECTOR=selector_1.CssSelector.parse('*')[0];exports.TEMPLATE_TRANSFORMS=lang_2.CONST_EXPR(new core_1.OpaqueToken('TemplateTransforms'));var TemplateParseError=(function(_super){__extends(TemplateParseError,_super);function TemplateParseError(message,span){_super.call(this,span,message);}
return TemplateParseError;})(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParser=(function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,transforms){this._exprParser=_exprParser;this._schemaRegistry=_schemaRegistry;this._htmlParser=_htmlParser;this.transforms=transforms;}
TemplateParser.prototype.parse=function(template,directives,pipes,templateUrl){var parseVisitor=new TemplateParseVisitor(directives,pipes,this._exprParser,this._schemaRegistry);var htmlAstWithErrors=this._htmlParser.parse(template,templateUrl);var result=html_ast_1.htmlVisitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_COMPONENT);var errors=htmlAstWithErrors.errors.concat(parseVisitor.errors);if(errors.length>0){var errorString=errors.join('\n');throw new exceptions_1.BaseException("Template parse errors:\n"+errorString);}
if(lang_1.isPresent(this.transforms)){this.transforms.forEach(function(transform){result=template_ast_1.templateVisitAll(transform,result);});}
return result;};TemplateParser=__decorate([core_1.Injectable(),__param(3,core_1.Optional()),__param(3,core_1.Inject(exports.TEMPLATE_TRANSFORMS)),__metadata('design:paramtypes',[change_detection_1.Parser,element_schema_registry_1.ElementSchemaRegistry,html_parser_1.HtmlParser,Array])],TemplateParser);return TemplateParser;})();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=(function(){function TemplateParseVisitor(directives,pipes,_exprParser,_schemaRegistry){var _this=this;this._exprParser=_exprParser;this._schemaRegistry=_schemaRegistry;this.errors=[];this.directivesIndex=new Map();this.ngContentCount=0;this.selectorMatcher=new selector_1.SelectorMatcher();collection_1.ListWrapper.forEachWithIndex(directives,function(directive,index){var selector=selector_1.CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive);_this.directivesIndex.set(directive,index);});this.pipesByName=new Map();pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe);});}
TemplateParseVisitor.prototype._reportError=function(message,sourceSpan){this.errors.push(new TemplateParseError(message,sourceSpan));};TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast;}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive('ERROR',sourceInfo);}};TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast;}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive('ERROR',sourceInfo);}};TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast;}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive('ERROR',sourceInfo);}};TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this;var sourceInfo=sourceSpan.start.toString();try{var bindings=this._exprParser.parseTemplateBindings(value,sourceInfo);bindings.forEach(function(binding){if(lang_1.isPresent(binding.expression)){_this._checkPipes(binding.expression,sourceSpan);}});return bindings;}catch(e){this._reportError(""+e,sourceSpan);return[];}};TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(lang_1.isPresent(ast)){var collector=new PipeCollector();ast.visit(collector);collector.pipes.forEach(function(pipeName){if(!_this.pipesByName.has(pipeName)){_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan);}});}};TemplateParseVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);var expr=this._parseInterpolation(ast.value,ast.sourceSpan);if(lang_1.isPresent(expr)){return new template_ast_1.BoundTextAst(expr,ngContentIndex,ast.sourceSpan);}else{return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan);}};TemplateParseVisitor.prototype.visitAttr=function(ast,contex){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan);};TemplateParseVisitor.prototype.visitComment=function(ast,context){return null;};TemplateParseVisitor.prototype.visitElement=function(element,component){var _this=this;var nodeName=element.name;var preparsedElement=template_preparser_1.preparseElement(element);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE){return null;}
if(preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(preparsedElement.hrefAttr)){return null;}
var matchableAttrs=[];var elementOrDirectiveProps=[];var vars=[];var events=[];var templateElementOrDirectiveProps=[];var templateVars=[];var templateMatchableAttrs=[];var hasInlineTemplates=false;var attrs=[];element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(attr,matchableAttrs,elementOrDirectiveProps,events,vars);var hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateVars);if(!hasBinding&&!hasTemplateBinding){attrs.push(_this.visitAttr(attr,null));matchableAttrs.push([attr.name,attr.value]);}
if(hasTemplateBinding){hasInlineTemplates=true;}});var lcElName=html_tags_1.splitNsName(nodeName.toLowerCase())[1];var isTemplateElement=lcElName==TEMPLATE_ELEMENT;var elementCssSelector=createElementCssSelector(nodeName,matchableAttrs);var directives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,elementCssSelector),elementOrDirectiveProps,isTemplateElement?[]:vars,element.sourceSpan);var elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directives);var children=html_ast_1.htmlVisitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,Component.create(directives));var projectionSelector=lang_1.isPresent(preparsedElement.projectAs)?selector_1.CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector;var ngContentIndex=component.findNgContentIndex(projectionSelector);var parsedElement;if(preparsedElement.type===template_preparser_1.PreparsedElementType.NG_CONTENT){if(lang_1.isPresent(element.children)&&element.children.length>0){this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",element.sourceSpan);}
parsedElement=new template_ast_1.NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);}else if(isTemplateElement){this._assertAllEventsPublishedByDirectives(directives,events);this._assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,element.sourceSpan);parsedElement=new template_ast_1.EmbeddedTemplateAst(attrs,events,vars,directives,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);}else{this._assertOnlyOneComponent(directives,element.sourceSpan);var elementExportAsVars=vars.filter(function(varAst){return varAst.value.length===0;});var ngContentIndex_1=hasInlineTemplates?null:component.findNgContentIndex(projectionSelector);parsedElement=new template_ast_1.ElementAst(nodeName,attrs,elementProps,events,elementExportAsVars,directives,children,hasInlineTemplates?null:ngContentIndex_1,element.sourceSpan);}
if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs);var templateDirectives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,templateCssSelector),templateElementOrDirectiveProps,[],element.sourceSpan);var templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectives);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectives,templateElementProps,element.sourceSpan);parsedElement=new template_ast_1.EmbeddedTemplateAst([],[],templateVars,templateDirectives,[parsedElement],ngContentIndex,element.sourceSpan);}
return parsedElement;};TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(attr.name==TEMPLATE_ATTR){templateBindingsSource=attr.value;}else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=(attr.value.length==0)?key:key+' '+attr.value;}
if(lang_1.isPresent(templateBindingsSource)){var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan);for(var i=0;i<bindings.length;i++){var binding=bindings[i];if(binding.keyIsVar){targetVars.push(new template_ast_1.VariableAst(binding.key,binding.name,attr.sourceSpan));targetMatchableAttrs.push([binding.key,binding.name]);}else if(lang_1.isPresent(binding.expression)){this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps);}else{targetMatchableAttrs.push([binding.key,'']);this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps);}}
return true;}
return false;};TemplateParseVisitor.prototype._parseAttr=function(attr,targetMatchableAttrs,targetProps,targetEvents,targetVars){var attrName=this._normalizeAttributeName(attr.name);var attrValue=attr.value;var bindParts=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,attrName);var hasBinding=false;if(lang_1.isPresent(bindParts)){hasBinding=true;if(lang_1.isPresent(bindParts[1])){this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);}else if(lang_1.isPresent(bindParts[2])){var identifier=bindParts[5];this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars);}else if(lang_1.isPresent(bindParts[3])){this._parseEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);}else if(lang_1.isPresent(bindParts[4])){this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);this._parseAssignmentEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);}else if(lang_1.isPresent(bindParts[6])){this._parseProperty(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);this._parseAssignmentEvent(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);}else if(lang_1.isPresent(bindParts[7])){this._parseProperty(bindParts[7],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);}else if(lang_1.isPresent(bindParts[8])){this._parseEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents);}}else{hasBinding=this._parsePropertyInterpolation(attrName,attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);}
if(!hasBinding){this._parseLiteralAttr(attrName,attrValue,attr.sourceSpan,targetProps);}
return hasBinding;};TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return attrName.toLowerCase().startsWith('data-')?attrName.substring(5):attrName;};TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){if(identifier.indexOf('-')>-1){this._reportError("\"-\" is not allowed in variable names",sourceSpan);}
targetVars.push(new template_ast_1.VariableAst(identifier,value,sourceSpan));};TemplateParseVisitor.prototype._parseProperty=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps){this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps);};TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);if(lang_1.isPresent(expr)){this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps);return true;}
return false;};TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]);targetProps.push(new BoundElementOrDirectiveProperty(name,ast,false,sourceSpan));};TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents);};TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var parts=util_1.splitAtColon(name,[null,name]);var target=parts[0];var eventName=parts[1];var ast=this._parseAction(expression,sourceSpan);targetMatchableAttrs.push([name,ast.source]);targetEvents.push(new template_ast_1.BoundEventAst(eventName,target,ast,sourceSpan));};TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,''),true,sourceSpan));};TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this;var directives=[];selectorMatcher.match(elementCssSelector,function(selector,directive){directives.push(directive);});collection_1.ListWrapper.sort(directives,function(dir1,dir2){var dir1Comp=dir1.isComponent;var dir2Comp=dir2.isComponent;if(dir1Comp&&!dir2Comp){return-1;}else if(!dir1Comp&&dir2Comp){return 1;}else{return _this.directivesIndex.get(dir1)-_this.directivesIndex.get(dir2);}});return directives;};TemplateParseVisitor.prototype._createDirectiveAsts=function(elementName,directives,props,possibleExportAsVars,sourceSpan){var _this=this;var matchedVariables=new Set();var directiveAsts=directives.map(function(directive){var hostProperties=[];var hostEvents=[];var directiveProperties=[];_this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties);_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents);_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties);var exportAsVars=[];possibleExportAsVars.forEach(function(varAst){if((varAst.value.length===0&&directive.isComponent)||(directive.exportAs==varAst.value)){exportAsVars.push(varAst);matchedVariables.add(varAst.name);}});return new template_ast_1.DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,exportAsVars,sourceSpan);});possibleExportAsVars.forEach(function(varAst){if(varAst.value.length>0&&!collection_1.SetWrapper.has(matchedVariables,varAst.name)){_this._reportError("There is no directive with \"exportAs\" set to \""+varAst.value+"\"",varAst.sourceSpan);}});return directiveAsts;};TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;if(lang_1.isPresent(hostProps)){collection_1.StringMapWrapper.forEach(hostProps,function(expression,propName){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan));});}};TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;if(lang_1.isPresent(hostListeners)){collection_1.StringMapWrapper.forEach(hostListeners,function(expression,propName){_this._parseEvent(propName,expression,sourceSpan,[],targetEventAsts);});}};TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(lang_1.isPresent(directiveProperties)){var boundPropsByName=new Map();boundProps.forEach(function(boundProp){var prevValue=boundPropsByName.get(boundProp.name);if(lang_1.isBlank(prevValue)||prevValue.isLiteral){boundPropsByName.set(boundProp.name,boundProp);}});collection_1.StringMapWrapper.forEach(directiveProperties,function(elProp,dirProp){var boundProp=boundPropsByName.get(elProp);if(lang_1.isPresent(boundProp)){targetBoundDirectiveProps.push(new template_ast_1.BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan));}});}};TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this;var boundElementProps=[];var boundDirectivePropsIndex=new Map();directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop);});});props.forEach(function(prop){if(!prop.isLiteral&&lang_1.isBlank(boundDirectivePropsIndex.get(prop.name))){boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan));}});return boundElementProps;};TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var unit=null;var bindingType;var boundPropertyName;var parts=name.split(PROPERTY_PARTS_SEPARATOR);if(parts.length===1){boundPropertyName=this._schemaRegistry.getMappedPropName(parts[0]);bindingType=template_ast_1.PropertyBindingType.Property;if(!this._schemaRegistry.hasProperty(elementName,boundPropertyName)){this._reportError("Can't bind to '"+boundPropertyName+"' since it isn't a known native property",sourceSpan);}}else{if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1];var nsSeparatorIdx=boundPropertyName.indexOf(':');if(nsSeparatorIdx>-1){var ns=boundPropertyName.substring(0,nsSeparatorIdx);var name_1=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=html_tags_1.mergeNsAndName(ns,name_1);}
bindingType=template_ast_1.PropertyBindingType.Attribute;}else if(parts[0]==CLASS_PREFIX){boundPropertyName=parts[1];bindingType=template_ast_1.PropertyBindingType.Class;}else if(parts[0]==STYLE_PREFIX){unit=parts.length>2?parts[2]:null;boundPropertyName=parts[1];bindingType=template_ast_1.PropertyBindingType.Style;}else{this._reportError("Invalid property name '"+name+"'",sourceSpan);bindingType=null;}}
return new template_ast_1.BoundElementPropertyAst(boundPropertyName,bindingType,ast,unit,sourceSpan);};TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){var componentTypeNames=[];directives.forEach(function(directive){var typeName=directive.directive.type.name;if(directive.directive.isComponent){componentTypeNames.push(typeName);}});return componentTypeNames;};TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);if(componentTypeNames.length>1){this._reportError("More than one component: "+componentTypeNames.join(','),sourceSpan);}};TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this;var componentTypeNames=this._findComponentDirectiveNames(directives);if(componentTypeNames.length>0){this._reportError("Components on an embedded template: "+componentTypeNames.join(','),sourceSpan);}
elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+" not used by any directive on an embedded template",sourceSpan);});};TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this;var allDirectiveEvents=new Set();directives.forEach(function(directive){collection_1.StringMapWrapper.forEach(directive.directive.outputs,function(eventName,_){allDirectiveEvents.add(eventName);});});events.forEach(function(event){if(lang_1.isPresent(event.target)||!collection_1.SetWrapper.has(allDirectiveEvents,event.name)){_this._reportError("Event binding "+event.fullName+" not emitted by any directive on an embedded template",event.sourceSpan);}});};return TemplateParseVisitor;})();var NonBindableVisitor=(function(){function NonBindableVisitor(){}
NonBindableVisitor.prototype.visitElement=function(ast,component){var preparsedElement=template_preparser_1.preparseElement(ast);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET){return null;}
var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value];});var selector=createElementCssSelector(ast.name,attrNameAndValues);var ngContentIndex=component.findNgContentIndex(selector);var children=html_ast_1.htmlVisitAll(this,ast.children,EMPTY_COMPONENT);return new template_ast_1.ElementAst(ast.name,html_ast_1.htmlVisitAll(this,ast.attrs),[],[],[],[],children,ngContentIndex,ast.sourceSpan);};NonBindableVisitor.prototype.visitComment=function(ast,context){return null;};NonBindableVisitor.prototype.visitAttr=function(ast,context){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan);};NonBindableVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan);};return NonBindableVisitor;})();var BoundElementOrDirectiveProperty=(function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name;this.expression=expression;this.isLiteral=isLiteral;this.sourceSpan=sourceSpan;}
return BoundElementOrDirectiveProperty;})();function splitClasses(classAttrValue){return lang_1.StringWrapper.split(classAttrValue.trim(),/\s+/g);}
exports.splitClasses=splitClasses;var Component=(function(){function Component(ngContentIndexMatcher,wildcardNgContentIndex){this.ngContentIndexMatcher=ngContentIndexMatcher;this.wildcardNgContentIndex=wildcardNgContentIndex;}
Component.create=function(directives){if(directives.length===0||!directives[0].directive.isComponent){return EMPTY_COMPONENT;}
var matcher=new selector_1.SelectorMatcher();var ngContentSelectors=directives[0].directive.template.ngContentSelectors;var wildcardNgContentIndex=null;for(var i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];if(lang_1.StringWrapper.equals(selector,'*')){wildcardNgContentIndex=i;}else{matcher.addSelectables(selector_1.CssSelector.parse(ngContentSelectors[i]),i);}}
return new Component(matcher,wildcardNgContentIndex);};Component.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];this.ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex);});collection_1.ListWrapper.sort(ngContentIndices);if(lang_1.isPresent(this.wildcardNgContentIndex)){ngContentIndices.push(this.wildcardNgContentIndex);}
return ngContentIndices.length>0?ngContentIndices[0]:null;};return Component;})();function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new selector_1.CssSelector();var elNameNoNs=html_tags_1.splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0];var attrNameNoNs=html_tags_1.splitNsName(attrName)[1];var attrValue=matchableAttrs[i][1];cssSelector.addAttribute(attrNameNoNs,attrValue);if(attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className);});}}
return cssSelector;}
var EMPTY_COMPONENT=new Component(new selector_1.SelectorMatcher(),null);var NON_BINDABLE_VISITOR=new NonBindableVisitor();var PipeCollector=(function(_super){__extends(PipeCollector,_super);function PipeCollector(){_super.apply(this,arguments);this.pipes=new Set();}
PipeCollector.prototype.visitPipe=function(ast){this.pipes.add(ast.name);ast.exp.visit(this);this.visitAll(ast.args);return null;};return PipeCollector;})(ast_1.RecursiveAstVisitor);exports.PipeCollector=PipeCollector;global.define=__define;return module.exports;});System.register("angular2/common",["angular2/src/common/pipes","angular2/src/common/directives","angular2/src/common/forms","angular2/src/common/common_directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
__export(require("angular2/src/common/pipes"));__export(require("angular2/src/common/directives"));__export(require("angular2/src/common/forms"));__export(require("angular2/src/common/common_directives"));global.define=__define;return module.exports;});System.register("angular2/src/compiler/template_compiler",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/async","angular2/src/compiler/directive_metadata","angular2/src/compiler/template_ast","angular2/src/core/di","angular2/src/compiler/source_module","angular2/src/compiler/change_detector_compiler","angular2/src/compiler/style_compiler","angular2/src/compiler/view_compiler","angular2/src/compiler/proto_view_compiler","angular2/src/compiler/template_parser","angular2/src/compiler/template_normalizer","angular2/src/compiler/runtime_metadata","angular2/src/core/linker/view","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/resolved_metadata_cache","angular2/src/compiler/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var directive_metadata_1=require("angular2/src/compiler/directive_metadata");var template_ast_1=require("angular2/src/compiler/template_ast");var di_1=require("angular2/src/core/di");var source_module_1=require("angular2/src/compiler/source_module");var change_detector_compiler_1=require("angular2/src/compiler/change_detector_compiler");var style_compiler_1=require("angular2/src/compiler/style_compiler");var view_compiler_1=require("angular2/src/compiler/view_compiler");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");var template_parser_1=require("angular2/src/compiler/template_parser");var template_normalizer_1=require("angular2/src/compiler/template_normalizer");var runtime_metadata_1=require("angular2/src/compiler/runtime_metadata");var view_1=require("angular2/src/core/linker/view");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache");var util_1=require("angular2/src/compiler/util");exports.METADATA_CACHE_MODULE_REF=source_module_1.moduleRef('package:angular2/src/core/linker/resolved_metadata_cache'+util_1.MODULE_SUFFIX);var TemplateCompiler=(function(){function TemplateCompiler(_runtimeMetadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_cdCompiler,_protoViewCompiler,_viewCompiler,_resolvedMetadataCache,_genConfig){this._runtimeMetadataResolver=_runtimeMetadataResolver;this._templateNormalizer=_templateNormalizer;this._templateParser=_templateParser;this._styleCompiler=_styleCompiler;this._cdCompiler=_cdCompiler;this._protoViewCompiler=_protoViewCompiler;this._viewCompiler=_viewCompiler;this._resolvedMetadataCache=_resolvedMetadataCache;this._genConfig=_genConfig;this._hostCacheKeys=new Map();this._compiledTemplateCache=new Map();this._compiledTemplateDone=new Map();}
TemplateCompiler.prototype.normalizeDirectiveMetadata=function(directive){if(!directive.isComponent){return async_1.PromiseWrapper.resolve(directive);}
return this._templateNormalizer.normalizeTemplate(directive.type,directive.template).then(function(normalizedTemplate){return new directive_metadata_1.CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,dynamicLoadable:directive.dynamicLoadable,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,lifecycleHooks:directive.lifecycleHooks,providers:directive.providers,template:normalizedTemplate});});};TemplateCompiler.prototype.compileHostComponentRuntime=function(type){var compMeta=this._runtimeMetadataResolver.getDirectiveMetadata(type);var hostCacheKey=this._hostCacheKeys.get(type);if(lang_1.isBlank(hostCacheKey)){hostCacheKey=new Object();this._hostCacheKeys.set(type,hostCacheKey);assertComponent(compMeta);var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);this._compileComponentRuntime(hostCacheKey,hostMeta,[compMeta],[],[]);}
return this._compiledTemplateDone.get(hostCacheKey).then(function(compiledTemplate){return new view_1.HostViewFactory(compMeta.selector,compiledTemplate.viewFactory);});};TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache();this._compiledTemplateCache.clear();this._compiledTemplateDone.clear();this._hostCacheKeys.clear();};TemplateCompiler.prototype.compileTemplatesCodeGen=function(components){var _this=this;if(components.length===0){throw new exceptions_1.BaseException('No components given');}
var declarations=[];components.forEach(function(componentWithDirs){var compMeta=componentWithDirs.component;assertComponent(compMeta);_this._compileComponentCodeGen(compMeta,componentWithDirs.directives,componentWithDirs.pipes,declarations);if(compMeta.dynamicLoadable){var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);var viewFactoryExpression=_this._compileComponentCodeGen(hostMeta,[compMeta],[],declarations);var constructionKeyword=lang_1.IS_DART?'const':'new';var compiledTemplateExpr=constructionKeyword+" "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"HostViewFactory('"+compMeta.selector+"',"+viewFactoryExpression+")";var varName=codeGenHostViewFactoryName(compMeta.type);declarations.push(""+util_1.codeGenExportVariable(varName)+compiledTemplateExpr+";");}});var moduleUrl=components[0].component.type.moduleUrl;return new source_module_1.SourceModule(""+templateModuleUrl(moduleUrl),declarations.join('\n'));};TemplateCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){return this._styleCompiler.compileStylesheetCodeGen(stylesheetUrl,cssText);};TemplateCompiler.prototype._compileComponentRuntime=function(cacheKey,compMeta,viewDirectives,pipes,compilingComponentsPath){var _this=this;var uniqViewDirectives=removeDuplicates(viewDirectives);var uniqViewPipes=removeDuplicates(pipes);var compiledTemplate=this._compiledTemplateCache.get(cacheKey);var done=this._compiledTemplateDone.get(cacheKey);if(lang_1.isBlank(compiledTemplate)){compiledTemplate=new CompiledTemplate();this._compiledTemplateCache.set(cacheKey,compiledTemplate);done=async_1.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(compMeta.template)].concat(uniqViewDirectives.map(function(dirMeta){return _this.normalizeDirectiveMetadata(dirMeta);}))).then(function(stylesAndNormalizedViewDirMetas){var normalizedViewDirMetas=stylesAndNormalizedViewDirMetas.slice(1);var styles=stylesAndNormalizedViewDirMetas[0];var parsedTemplate=_this._templateParser.parse(compMeta.template.template,normalizedViewDirMetas,uniqViewPipes,compMeta.type.name);var childPromises=[];var usedDirectives=DirectiveCollector.findUsedDirectives(parsedTemplate);usedDirectives.components.forEach(function(component){return _this._compileNestedComponentRuntime(component,compilingComponentsPath,childPromises);});return async_1.PromiseWrapper.all(childPromises).then(function(_){var filteredPipes=filterPipes(parsedTemplate,uniqViewPipes);compiledTemplate.init(_this._createViewFactoryRuntime(compMeta,parsedTemplate,usedDirectives.directives,styles,filteredPipes));return compiledTemplate;});});this._compiledTemplateDone.set(cacheKey,done);}
return compiledTemplate;};TemplateCompiler.prototype._compileNestedComponentRuntime=function(childComponentDir,parentCompilingComponentsPath,childPromises){var compilingComponentsPath=collection_1.ListWrapper.clone(parentCompilingComponentsPath);var childCacheKey=childComponentDir.type.runtime;var childViewDirectives=this._runtimeMetadataResolver.getViewDirectivesMetadata(childComponentDir.type.runtime);var childViewPipes=this._runtimeMetadataResolver.getViewPipesMetadata(childComponentDir.type.runtime);var childIsRecursive=collection_1.ListWrapper.contains(compilingComponentsPath,childCacheKey);compilingComponentsPath.push(childCacheKey);this._compileComponentRuntime(childCacheKey,childComponentDir,childViewDirectives,childViewPipes,compilingComponentsPath);if(!childIsRecursive){childPromises.push(this._compiledTemplateDone.get(childCacheKey));}};TemplateCompiler.prototype._createViewFactoryRuntime=function(compMeta,parsedTemplate,directives,styles,pipes){var _this=this;if(lang_1.IS_DART||!this._genConfig.useJit){var changeDetectorFactories=this._cdCompiler.compileComponentRuntime(compMeta.type,compMeta.changeDetection,parsedTemplate);var protoViews=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,compMeta,parsedTemplate,pipes);return this._viewCompiler.compileComponentRuntime(compMeta,parsedTemplate,styles,protoViews.protoViews,changeDetectorFactories,function(compMeta){return _this._getNestedComponentViewFactory(compMeta);});}else{var declarations=[];var viewFactoryExpr=this._createViewFactoryCodeGen('resolvedMetadataCache',compMeta,new source_module_1.SourceExpression([],'styles'),parsedTemplate,pipes,declarations);var vars={'exports':{},'styles':styles,'resolvedMetadataCache':this._resolvedMetadataCache};directives.forEach(function(dirMeta){vars[dirMeta.type.name]=dirMeta.type.runtime;if(dirMeta.isComponent&&dirMeta.type.runtime!==compMeta.type.runtime){vars[("viewFactory_"+dirMeta.type.name+"0")]=_this._getNestedComponentViewFactory(dirMeta);}});pipes.forEach(function(pipeMeta){return vars[pipeMeta.type.name]=pipeMeta.type.runtime;});var declarationsWithoutImports=source_module_1.SourceModule.getSourceWithoutImports(declarations.join('\n'));return lang_1.evalExpression("viewFactory_"+compMeta.type.name,viewFactoryExpr,declarationsWithoutImports,mergeStringMaps([vars,change_detector_compiler_1.CHANGE_DETECTION_JIT_IMPORTS,proto_view_compiler_1.PROTO_VIEW_JIT_IMPORTS,view_compiler_1.VIEW_JIT_IMPORTS]));}};TemplateCompiler.prototype._getNestedComponentViewFactory=function(compMeta){return this._compiledTemplateCache.get(compMeta.type.runtime).viewFactory;};TemplateCompiler.prototype._compileComponentCodeGen=function(compMeta,directives,pipes,targetDeclarations){var uniqueDirectives=removeDuplicates(directives);var uniqPipes=removeDuplicates(pipes);var styleExpr=this._styleCompiler.compileComponentCodeGen(compMeta.template);var parsedTemplate=this._templateParser.parse(compMeta.template.template,uniqueDirectives,uniqPipes,compMeta.type.name);var filteredPipes=filterPipes(parsedTemplate,uniqPipes);return this._createViewFactoryCodeGen(exports.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",compMeta,styleExpr,parsedTemplate,filteredPipes,targetDeclarations);};TemplateCompiler.prototype._createViewFactoryCodeGen=function(resolvedMetadataCacheExpr,compMeta,styleExpr,parsedTemplate,pipes,targetDeclarations){var changeDetectorsExprs=this._cdCompiler.compileComponentCodeGen(compMeta.type,compMeta.changeDetection,parsedTemplate);var protoViewExprs=this._protoViewCompiler.compileProtoViewCodeGen(new util_1.Expression(resolvedMetadataCacheExpr),compMeta,parsedTemplate,pipes);var viewFactoryExpr=this._viewCompiler.compileComponentCodeGen(compMeta,parsedTemplate,styleExpr,protoViewExprs.protoViews,changeDetectorsExprs,codeGenComponentViewFactoryName);util_1.addAll(changeDetectorsExprs.declarations,targetDeclarations);util_1.addAll(protoViewExprs.declarations,targetDeclarations);util_1.addAll(viewFactoryExpr.declarations,targetDeclarations);return viewFactoryExpr.expression;};TemplateCompiler=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[runtime_metadata_1.RuntimeMetadataResolver,template_normalizer_1.TemplateNormalizer,template_parser_1.TemplateParser,style_compiler_1.StyleCompiler,change_detector_compiler_1.ChangeDetectionCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,resolved_metadata_cache_1.ResolvedMetadataCache,change_detection_1.ChangeDetectorGenConfig])],TemplateCompiler);return TemplateCompiler;})();exports.TemplateCompiler=TemplateCompiler;var NormalizedComponentWithViewDirectives=(function(){function NormalizedComponentWithViewDirectives(component,directives,pipes){this.component=component;this.directives=directives;this.pipes=pipes;}
return NormalizedComponentWithViewDirectives;})();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var CompiledTemplate=(function(){function CompiledTemplate(){this.viewFactory=null;}
CompiledTemplate.prototype.init=function(viewFactory){this.viewFactory=viewFactory;};return CompiledTemplate;})();function assertComponent(meta){if(!meta.isComponent){throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.");}}
function templateModuleUrl(moduleUrl){var urlWithoutSuffix=moduleUrl.substring(0,moduleUrl.length-util_1.MODULE_SUFFIX.length);return urlWithoutSuffix+".template"+util_1.MODULE_SUFFIX;}
function codeGenHostViewFactoryName(type){return"hostViewFactory_"+type.name;}
function codeGenComponentViewFactoryName(nestedCompType){return source_module_1.moduleRef(templateModuleUrl(nestedCompType.type.moduleUrl))+"viewFactory_"+nestedCompType.type.name+"0";}
function mergeStringMaps(maps){var result={};maps.forEach(function(map){collection_1.StringMapWrapper.forEach(map,function(value,key){result[key]=value;});});return result;}
function removeDuplicates(items){var res=[];items.forEach(function(item){var hasMatch=res.filter(function(r){return r.type.name==item.type.name&&r.type.moduleUrl==item.type.moduleUrl&&r.type.runtime==item.type.runtime;}).length>0;if(!hasMatch){res.push(item);}});return res;}
var DirectiveCollector=(function(){function DirectiveCollector(){this.directives=[];this.components=[];}
DirectiveCollector.findUsedDirectives=function(parsedTemplate){var collector=new DirectiveCollector();template_ast_1.templateVisitAll(collector,parsedTemplate);return collector;};DirectiveCollector.prototype.visitBoundText=function(ast,context){return null;};DirectiveCollector.prototype.visitText=function(ast,context){return null;};DirectiveCollector.prototype.visitNgContent=function(ast,context){return null;};DirectiveCollector.prototype.visitElement=function(ast,context){template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null;};DirectiveCollector.prototype.visitEmbeddedTemplate=function(ast,context){template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null;};DirectiveCollector.prototype.visitVariable=function(ast,ctx){return null;};DirectiveCollector.prototype.visitAttr=function(ast,attrNameAndValues){return null;};DirectiveCollector.prototype.visitDirective=function(ast,ctx){if(ast.directive.isComponent){this.components.push(ast.directive);}
this.directives.push(ast.directive);return null;};DirectiveCollector.prototype.visitEvent=function(ast,eventTargetAndNames){return null;};DirectiveCollector.prototype.visitDirectiveProperty=function(ast,context){return null;};DirectiveCollector.prototype.visitElementProperty=function(ast,context){return null;};return DirectiveCollector;})();function filterPipes(template,allPipes){var visitor=new PipeVisitor();template_ast_1.templateVisitAll(visitor,template);return allPipes.filter(function(pipeMeta){return collection_1.SetWrapper.has(visitor.collector.pipes,pipeMeta.name);});}
var PipeVisitor=(function(){function PipeVisitor(){this.collector=new template_parser_1.PipeCollector();}
PipeVisitor.prototype.visitBoundText=function(ast,context){ast.value.visit(this.collector);return null;};PipeVisitor.prototype.visitText=function(ast,context){return null;};PipeVisitor.prototype.visitNgContent=function(ast,context){return null;};PipeVisitor.prototype.visitElement=function(ast,context){template_ast_1.templateVisitAll(this,ast.inputs);template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null;};PipeVisitor.prototype.visitEmbeddedTemplate=function(ast,context){template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null;};PipeVisitor.prototype.visitVariable=function(ast,ctx){return null;};PipeVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return null;};PipeVisitor.prototype.visitDirective=function(ast,ctx){template_ast_1.templateVisitAll(this,ast.inputs);template_ast_1.templateVisitAll(this,ast.hostEvents);template_ast_1.templateVisitAll(this,ast.hostProperties);return null;};PipeVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){ast.handler.visit(this.collector);return null;};PipeVisitor.prototype.visitDirectiveProperty=function(ast,context){ast.value.visit(this.collector);return null;};PipeVisitor.prototype.visitElementProperty=function(ast,context){ast.value.visit(this.collector);return null;};return PipeVisitor;})();global.define=__define;return module.exports;});System.register("angular2/src/compiler/runtime_compiler",["angular2/src/core/linker/compiler","angular2/src/core/linker/view_ref","angular2/src/compiler/template_compiler","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var compiler_1=require("angular2/src/core/linker/compiler");var view_ref_1=require("angular2/src/core/linker/view_ref");var template_compiler_1=require("angular2/src/compiler/template_compiler");var di_1=require("angular2/src/core/di");var RuntimeCompiler=(function(_super){__extends(RuntimeCompiler,_super);function RuntimeCompiler(){_super.apply(this,arguments);}
return RuntimeCompiler;})(compiler_1.Compiler);exports.RuntimeCompiler=RuntimeCompiler;var RuntimeCompiler_=(function(_super){__extends(RuntimeCompiler_,_super);function RuntimeCompiler_(_templateCompiler){_super.call(this);this._templateCompiler=_templateCompiler;}
RuntimeCompiler_.prototype.compileInHost=function(componentType){return this._templateCompiler.compileHostComponentRuntime(componentType).then(function(hostViewFactory){return new view_ref_1.HostViewFactoryRef_(hostViewFactory);});};RuntimeCompiler_.prototype.clearCache=function(){_super.prototype.clearCache.call(this);this._templateCompiler.clearCache();};RuntimeCompiler_=__decorate([di_1.Injectable(),__metadata('design:paramtypes',[template_compiler_1.TemplateCompiler])],RuntimeCompiler_);return RuntimeCompiler_;})(compiler_1.Compiler_);exports.RuntimeCompiler_=RuntimeCompiler_;global.define=__define;return module.exports;});System.register("angular2/src/compiler/compiler",["angular2/src/compiler/runtime_compiler","angular2/src/compiler/template_compiler","angular2/src/compiler/directive_metadata","angular2/src/compiler/source_module","angular2/src/core/platform_directives_and_pipes","angular2/src/compiler/template_ast","angular2/src/compiler/template_parser","angular2/src/facade/lang","angular2/src/core/di","angular2/src/compiler/template_parser","angular2/src/compiler/html_parser","angular2/src/compiler/template_normalizer","angular2/src/compiler/runtime_metadata","angular2/src/compiler/change_detector_compiler","angular2/src/compiler/style_compiler","angular2/src/compiler/view_compiler","angular2/src/compiler/proto_view_compiler","angular2/src/compiler/template_compiler","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/compiler","angular2/src/compiler/runtime_compiler","angular2/src/compiler/schema/element_schema_registry","angular2/src/compiler/schema/dom_element_schema_registry","angular2/src/compiler/url_resolver","angular2/src/core/change_detection/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
var runtime_compiler_1=require("angular2/src/compiler/runtime_compiler");var template_compiler_1=require("angular2/src/compiler/template_compiler");exports.TemplateCompiler=template_compiler_1.TemplateCompiler;var directive_metadata_1=require("angular2/src/compiler/directive_metadata");exports.CompileDirectiveMetadata=directive_metadata_1.CompileDirectiveMetadata;exports.CompileTypeMetadata=directive_metadata_1.CompileTypeMetadata;exports.CompileTemplateMetadata=directive_metadata_1.CompileTemplateMetadata;var source_module_1=require("angular2/src/compiler/source_module");exports.SourceModule=source_module_1.SourceModule;exports.SourceWithImports=source_module_1.SourceWithImports;var platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes");exports.PLATFORM_DIRECTIVES=platform_directives_and_pipes_1.PLATFORM_DIRECTIVES;exports.PLATFORM_PIPES=platform_directives_and_pipes_1.PLATFORM_PIPES;__export(require("angular2/src/compiler/template_ast"));var template_parser_1=require("angular2/src/compiler/template_parser");exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var template_parser_2=require("angular2/src/compiler/template_parser");var html_parser_1=require("angular2/src/compiler/html_parser");var template_normalizer_1=require("angular2/src/compiler/template_normalizer");var runtime_metadata_1=require("angular2/src/compiler/runtime_metadata");var change_detector_compiler_1=require("angular2/src/compiler/change_detector_compiler");var style_compiler_1=require("angular2/src/compiler/style_compiler");var view_compiler_1=require("angular2/src/compiler/view_compiler");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");var template_compiler_2=require("angular2/src/compiler/template_compiler");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var compiler_1=require("angular2/src/core/linker/compiler");var runtime_compiler_2=require("angular2/src/compiler/runtime_compiler");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var dom_element_schema_registry_1=require("angular2/src/compiler/schema/dom_element_schema_registry");var url_resolver_1=require("angular2/src/compiler/url_resolver");var change_detection_2=require("angular2/src/core/change_detection/change_detection");function _createChangeDetectorGenConfig(){return new change_detection_1.ChangeDetectorGenConfig(lang_1.assertionsEnabled(),false,true);}
exports.COMPILER_PROVIDERS=lang_1.CONST_EXPR([change_detection_2.Lexer,change_detection_2.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,template_normalizer_1.TemplateNormalizer,runtime_metadata_1.RuntimeMetadataResolver,url_resolver_1.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,change_detector_compiler_1.ChangeDetectionCompiler,new di_1.Provider(change_detection_1.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),template_compiler_2.TemplateCompiler,new di_1.Provider(runtime_compiler_2.RuntimeCompiler,{useClass:runtime_compiler_1.RuntimeCompiler_}),new di_1.Provider(compiler_1.Compiler,{useExisting:runtime_compiler_2.RuntimeCompiler}),dom_element_schema_registry_1.DomElementSchemaRegistry,new di_1.Provider(element_schema_registry_1.ElementSchemaRegistry,{useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry}),url_resolver_1.UrlResolver]);global.define=__define;return module.exports;});System.register("angular2/compiler",["angular2/src/compiler/url_resolver","angular2/src/compiler/xhr","angular2/src/compiler/compiler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
__export(require("angular2/src/compiler/url_resolver"));__export(require("angular2/src/compiler/xhr"));__export(require("angular2/src/compiler/compiler"));global.define=__define;return module.exports;});System.register("angular2/src/platform/browser_common",["angular2/src/facade/lang","angular2/src/core/di","angular2/core","angular2/common","angular2/src/core/testability/testability","angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/events/dom_events","angular2/src/platform/dom/events/key_events","angular2/src/platform/dom/events/hammer_gestures","angular2/src/platform/dom/dom_tokens","angular2/src/platform/dom/dom_renderer","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/shared_styles_host","angular2/src/animate/browser_details","angular2/src/animate/animation_builder","angular2/src/platform/browser/browser_adapter","angular2/src/platform/browser/testability","angular2/src/core/profile/wtf_init","angular2/src/platform/dom/events/event_manager","angular2/platform/common_dom","angular2/src/platform/dom/dom_tokens","angular2/src/platform/browser/title","angular2/platform/common_dom","angular2/src/platform/browser/browser_adapter","angular2/src/platform/browser/tools/tools"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var core_1=require("angular2/core");var common_1=require("angular2/common");var testability_1=require("angular2/src/core/testability/testability");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var dom_events_1=require("angular2/src/platform/dom/events/dom_events");var key_events_1=require("angular2/src/platform/dom/events/key_events");var hammer_gestures_1=require("angular2/src/platform/dom/events/hammer_gestures");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");var shared_styles_host_2=require("angular2/src/platform/dom/shared_styles_host");var browser_details_1=require("angular2/src/animate/browser_details");var animation_builder_1=require("angular2/src/animate/animation_builder");var browser_adapter_1=require("angular2/src/platform/browser/browser_adapter");var testability_2=require("angular2/src/platform/browser/testability");var wtf_init_1=require("angular2/src/core/profile/wtf_init");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var common_dom_1=require("angular2/platform/common_dom");var dom_tokens_2=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_2.DOCUMENT;var title_1=require("angular2/src/platform/browser/title");exports.Title=title_1.Title;var common_dom_2=require("angular2/platform/common_dom");exports.ELEMENT_PROBE_PROVIDERS=common_dom_2.ELEMENT_PROBE_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=common_dom_2.ELEMENT_PROBE_PROVIDERS_PROD_MODE;exports.inspectNativeElement=common_dom_2.inspectNativeElement;exports.By=common_dom_2.By;var browser_adapter_2=require("angular2/src/platform/browser/browser_adapter");exports.BrowserDomAdapter=browser_adapter_2.BrowserDomAdapter;var tools_1=require("angular2/src/platform/browser/tools/tools");exports.enableDebugTools=tools_1.enableDebugTools;exports.disableDebugTools=tools_1.disableDebugTools;exports.BROWSER_PROVIDERS=lang_1.CONST_EXPR([core_1.PLATFORM_COMMON_PROVIDERS,new di_1.Provider(core_1.PLATFORM_INITIALIZER,{useValue:initDomAdapter,multi:true})]);function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.DOM,!lang_1.IS_DART);}
function _document(){return dom_adapter_1.DOM.defaultDoc();}
exports.BROWSER_APP_COMMON_PROVIDERS=lang_1.CONST_EXPR([core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,new di_1.Provider(core_1.PLATFORM_PIPES,{useValue:common_1.COMMON_PIPES,multi:true}),new di_1.Provider(core_1.PLATFORM_DIRECTIVES,{useValue:common_1.COMMON_DIRECTIVES,multi:true}),new di_1.Provider(core_1.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new di_1.Provider(dom_tokens_1.DOCUMENT,{useFactory:_document,deps:[]}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:dom_events_1.DomEventsPlugin,multi:true}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:key_events_1.KeyEventsPlugin,multi:true}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:hammer_gestures_1.HammerGesturesPlugin,multi:true}),new di_1.Provider(dom_renderer_1.DomRootRenderer,{useClass:dom_renderer_1.DomRootRenderer_}),new di_1.Provider(core_1.RootRenderer,{useExisting:dom_renderer_1.DomRootRenderer}),new di_1.Provider(shared_styles_host_2.SharedStylesHost,{useExisting:shared_styles_host_1.DomSharedStylesHost}),shared_styles_host_1.DomSharedStylesHost,testability_1.Testability,browser_details_1.BrowserDetails,animation_builder_1.AnimationBuilder,event_manager_1.EventManager,common_dom_1.ELEMENT_PROBE_PROVIDERS]);function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent();wtf_init_1.wtfInit();testability_2.BrowserGetTestability.init();}
exports.initDomAdapter=initDomAdapter;global.define=__define;return module.exports;});System.register("angular2/platform/browser",["angular2/src/core/angular_entrypoint","angular2/src/platform/browser_common","angular2/src/facade/lang","angular2/src/platform/browser_common","angular2/compiler","angular2/core","angular2/src/core/reflection/reflection_capabilities","angular2/src/platform/browser/xhr_impl","angular2/compiler","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var angular_entrypoint_1=require("angular2/src/core/angular_entrypoint");exports.AngularEntrypoint=angular_entrypoint_1.AngularEntrypoint;var browser_common_1=require("angular2/src/platform/browser_common");exports.BROWSER_PROVIDERS=browser_common_1.BROWSER_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS=browser_common_1.ELEMENT_PROBE_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=browser_common_1.ELEMENT_PROBE_PROVIDERS_PROD_MODE;exports.inspectNativeElement=browser_common_1.inspectNativeElement;exports.BrowserDomAdapter=browser_common_1.BrowserDomAdapter;exports.By=browser_common_1.By;exports.Title=browser_common_1.Title;exports.DOCUMENT=browser_common_1.DOCUMENT;exports.enableDebugTools=browser_common_1.enableDebugTools;exports.disableDebugTools=browser_common_1.disableDebugTools;var lang_1=require("angular2/src/facade/lang");var browser_common_2=require("angular2/src/platform/browser_common");var compiler_1=require("angular2/compiler");var core_1=require("angular2/core");var reflection_capabilities_1=require("angular2/src/core/reflection/reflection_capabilities");var xhr_impl_1=require("angular2/src/platform/browser/xhr_impl");var compiler_2=require("angular2/compiler");var di_1=require("angular2/src/core/di");exports.BROWSER_APP_PROVIDERS=lang_1.CONST_EXPR([browser_common_2.BROWSER_APP_COMMON_PROVIDERS,compiler_1.COMPILER_PROVIDERS,new di_1.Provider(compiler_2.XHR,{useClass:xhr_impl_1.XHRImpl})]);function bootstrap(appComponentType,customProviders){core_1.reflector.reflectionCapabilities=new reflection_capabilities_1.ReflectionCapabilities();var appProviders=lang_1.isPresent(customProviders)?[exports.BROWSER_APP_PROVIDERS,customProviders]:exports.BROWSER_APP_PROVIDERS;return core_1.platform(browser_common_2.BROWSER_PROVIDERS).application(appProviders).bootstrap(appComponentType);}
exports.bootstrap=bootstrap;global.define=__define;return module.exports;});System.register("angular2/instrumentation",["angular2/src/core/profile/profile"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var profile_1=require("angular2/src/core/profile/profile");exports.wtfCreateScope=profile_1.wtfCreateScope;exports.wtfLeave=profile_1.wtfLeave;exports.wtfStartTimeRange=profile_1.wtfStartTimeRange;exports.wtfEndTimeRange=profile_1.wtfEndTimeRange;global.define=__define;return module.exports;});"format register";System.register("angular2/src/router/directives/router_link_transform",["angular2/compiler","angular2/src/core/change_detection/parser/ast","angular2/src/facade/exceptions","angular2/core","angular2/src/core/change_detection/parser/parser"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var compiler_1=require("angular2/compiler");var ast_1=require("angular2/src/core/change_detection/parser/ast");var exceptions_1=require("angular2/src/facade/exceptions");var core_1=require("angular2/core");var parser_1=require("angular2/src/core/change_detection/parser/parser");var FixedPart=(function(){function FixedPart(value){this.value=value;}
return FixedPart;})();var AuxiliaryStart=(function(){function AuxiliaryStart(){}
return AuxiliaryStart;})();var AuxiliaryEnd=(function(){function AuxiliaryEnd(){}
return AuxiliaryEnd;})();var Params=(function(){function Params(ast){this.ast=ast;}
return Params;})();var RouterLinkLexer=(function(){function RouterLinkLexer(parser,exp){this.parser=parser;this.exp=exp;this.index=0;}
RouterLinkLexer.prototype.tokenize=function(){var tokens=[];while(this.index<this.exp.length){tokens.push(this._parseToken());}
return tokens;};RouterLinkLexer.prototype._parseToken=function(){var c=this.exp[this.index];if(c=='['){this.index++;return new AuxiliaryStart();}else if(c==']'){this.index++;return new AuxiliaryEnd();}else if(c=='('){return this._parseParams();}else if(c=='/'&&this.index!==0){this.index++;return this._parseFixedPart();}else{return this._parseFixedPart();}};RouterLinkLexer.prototype._parseParams=function(){var start=this.index;for(;this.index<this.exp.length;++this.index){var c=this.exp[this.index];if(c==')'){var paramsContent=this.exp.substring(start+1,this.index);this.index++;return new Params(this.parser.parseBinding("{"+paramsContent+"}",null).ast);}}
throw new exceptions_1.BaseException("Cannot find ')'");};RouterLinkLexer.prototype._parseFixedPart=function(){var start=this.index;var sawNonSlash=false;for(;this.index<this.exp.length;++this.index){var c=this.exp[this.index];if(c=='('||c=='['||c==']'||(c=='/'&&sawNonSlash)){break;}
if(c!='.'&&c!='/'){sawNonSlash=true;}}
var fixed=this.exp.substring(start,this.index);if(start===this.index||!sawNonSlash||fixed.startsWith('//')){throw new exceptions_1.BaseException("Invalid router link");}
return new FixedPart(fixed);};return RouterLinkLexer;})();var RouterLinkAstGenerator=(function(){function RouterLinkAstGenerator(tokens){this.tokens=tokens;this.index=0;}
RouterLinkAstGenerator.prototype.generate=function(){return this._genAuxiliary();};RouterLinkAstGenerator.prototype._genAuxiliary=function(){var arr=[];for(;this.index<this.tokens.length;this.index++){var r=this.tokens[this.index];if(r instanceof FixedPart){arr.push(new ast_1.LiteralPrimitive(r.value));}else if(r instanceof Params){arr.push(r.ast);}else if(r instanceof AuxiliaryEnd){break;}else if(r instanceof AuxiliaryStart){this.index++;arr.push(this._genAuxiliary());}}
return new ast_1.LiteralArray(arr);};return RouterLinkAstGenerator;})();var RouterLinkAstTransformer=(function(_super){__extends(RouterLinkAstTransformer,_super);function RouterLinkAstTransformer(parser){_super.call(this);this.parser=parser;}
RouterLinkAstTransformer.prototype.visitQuote=function(ast){if(ast.prefix=="route"){return parseRouterLinkExpression(this.parser,ast.uninterpretedExpression);}else{return _super.prototype.visitQuote.call(this,ast);}};return RouterLinkAstTransformer;})(ast_1.AstTransformer);function parseRouterLinkExpression(parser,exp){var tokens=new RouterLinkLexer(parser,exp.trim()).tokenize();return new RouterLinkAstGenerator(tokens).generate();}
exports.parseRouterLinkExpression=parseRouterLinkExpression;var RouterLinkTransform=(function(){function RouterLinkTransform(parser){this.astTransformer=new RouterLinkAstTransformer(parser);}
RouterLinkTransform.prototype.visitNgContent=function(ast,context){return ast;};RouterLinkTransform.prototype.visitEmbeddedTemplate=function(ast,context){return ast;};RouterLinkTransform.prototype.visitElement=function(ast,context){var _this=this;var updatedChildren=ast.children.map(function(c){return c.visit(_this,context);});var updatedInputs=ast.inputs.map(function(c){return c.visit(_this,context);});var updatedDirectives=ast.directives.map(function(c){return c.visit(_this,context);});return new compiler_1.ElementAst(ast.name,ast.attrs,updatedInputs,ast.outputs,ast.exportAsVars,updatedDirectives,updatedChildren,ast.ngContentIndex,ast.sourceSpan);};RouterLinkTransform.prototype.visitVariable=function(ast,context){return ast;};RouterLinkTransform.prototype.visitEvent=function(ast,context){return ast;};RouterLinkTransform.prototype.visitElementProperty=function(ast,context){return ast;};RouterLinkTransform.prototype.visitAttr=function(ast,context){return ast;};RouterLinkTransform.prototype.visitBoundText=function(ast,context){return ast;};RouterLinkTransform.prototype.visitText=function(ast,context){return ast;};RouterLinkTransform.prototype.visitDirective=function(ast,context){var _this=this;var updatedInputs=ast.inputs.map(function(c){return c.visit(_this,context);});return new compiler_1.DirectiveAst(ast.directive,updatedInputs,ast.hostProperties,ast.hostEvents,ast.exportAsVars,ast.sourceSpan);};RouterLinkTransform.prototype.visitDirectiveProperty=function(ast,context){var transformedValue=ast.value.visit(this.astTransformer);return new compiler_1.BoundDirectivePropertyAst(ast.directiveName,ast.templateName,transformedValue,ast.sourceSpan);};RouterLinkTransform=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[parser_1.Parser])],RouterLinkTransform);return RouterLinkTransform;})();exports.RouterLinkTransform=RouterLinkTransform;global.define=__define;return module.exports;});System.register("angular2/router/router_link_dsl",["angular2/compiler","angular2/core","angular2/src/router/directives/router_link_transform","angular2/src/facade/lang","angular2/src/router/directives/router_link_transform"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var compiler_1=require("angular2/compiler");var core_1=require("angular2/core");var router_link_transform_1=require("angular2/src/router/directives/router_link_transform");var lang_1=require("angular2/src/facade/lang");var router_link_transform_2=require("angular2/src/router/directives/router_link_transform");exports.RouterLinkTransform=router_link_transform_2.RouterLinkTransform;exports.ROUTER_LINK_DSL_PROVIDER=lang_1.CONST_EXPR(new core_1.Provider(compiler_1.TEMPLATE_TRANSFORMS,{useClass:router_link_transform_1.RouterLinkTransform,multi:true}));global.define=__define;return module.exports;});System.register("angular2/src/router/route_config/route_config_impl",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var __make_dart_analyzer_happy=null;var RouteConfig=(function(){function RouteConfig(configs){this.configs=configs;}
RouteConfig=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Array])],RouteConfig);return RouteConfig;})();exports.RouteConfig=RouteConfig;var AbstractRoute=(function(){function AbstractRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data;this.name=name;this.useAsDefault=useAsDefault;this.path=path;this.regex=regex;this.serializer=serializer;this.data=data;}
AbstractRoute=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],AbstractRoute);return AbstractRoute;})();exports.AbstractRoute=AbstractRoute;var Route=(function(_super){__extends(Route,_super);function Route(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data});this.aux=null;this.component=component;}
Route=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],Route);return Route;})(AbstractRoute);exports.Route=Route;var AuxRoute=(function(_super){__extends(AuxRoute,_super);function AuxRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,component=_a.component;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data});this.component=component;}
AuxRoute=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],AuxRoute);return AuxRoute;})(AbstractRoute);exports.AuxRoute=AuxRoute;var AsyncRoute=(function(_super){__extends(AsyncRoute,_super);function AsyncRoute(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,loader=_a.loader;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data});this.aux=null;this.loader=loader;}
AsyncRoute=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],AsyncRoute);return AsyncRoute;})(AbstractRoute);exports.AsyncRoute=AsyncRoute;var Redirect=(function(_super){__extends(Redirect,_super);function Redirect(_a){var name=_a.name,useAsDefault=_a.useAsDefault,path=_a.path,regex=_a.regex,serializer=_a.serializer,data=_a.data,redirectTo=_a.redirectTo;_super.call(this,{name:name,useAsDefault:useAsDefault,path:path,regex:regex,serializer:serializer,data:data});this.redirectTo=redirectTo;}
Redirect=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Object])],Redirect);return Redirect;})(AbstractRoute);exports.Redirect=Redirect;global.define=__define;return module.exports;});System.register("angular2/src/router/url_parser",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");function convertUrlParamsToArray(urlParams){var paramsArray=[];if(lang_1.isBlank(urlParams)){return[];}
collection_1.StringMapWrapper.forEach(urlParams,function(value,key){paramsArray.push((value===true)?key:key+'='+value);});return paramsArray;}
exports.convertUrlParamsToArray=convertUrlParamsToArray;function serializeParams(urlParams,joiner){if(joiner===void 0){joiner='&';}
return convertUrlParamsToArray(urlParams).join(joiner);}
exports.serializeParams=serializeParams;var Url=(function(){function Url(path,child,auxiliary,params){if(child===void 0){child=null;}
if(auxiliary===void 0){auxiliary=lang_1.CONST_EXPR([]);}
if(params===void 0){params=lang_1.CONST_EXPR({});}
this.path=path;this.child=child;this.auxiliary=auxiliary;this.params=params;}
Url.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString();};Url.prototype.segmentToString=function(){return this.path+this._matrixParamsToString();};Url.prototype._auxToString=function(){return this.auxiliary.length>0?('('+this.auxiliary.map(function(sibling){return sibling.toString();}).join('//')+')'):'';};Url.prototype._matrixParamsToString=function(){var paramString=serializeParams(this.params,';');if(paramString.length>0){return';'+paramString;}
return'';};Url.prototype._childString=function(){return lang_1.isPresent(this.child)?('/'+this.child.toString()):'';};return Url;})();exports.Url=Url;var RootUrl=(function(_super){__extends(RootUrl,_super);function RootUrl(path,child,auxiliary,params){if(child===void 0){child=null;}
if(auxiliary===void 0){auxiliary=lang_1.CONST_EXPR([]);}
if(params===void 0){params=null;}
_super.call(this,path,child,auxiliary,params);}
RootUrl.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString();};RootUrl.prototype.segmentToString=function(){return this.path+this._queryParamsToString();};RootUrl.prototype._queryParamsToString=function(){if(lang_1.isBlank(this.params)){return'';}
return'?'+serializeParams(this.params);};return RootUrl;})(Url);exports.RootUrl=RootUrl;function pathSegmentsToUrl(pathSegments){var url=new Url(pathSegments[pathSegments.length-1]);for(var i=pathSegments.length-2;i>=0;i-=1){url=new Url(pathSegments[i],url);}
return url;}
exports.pathSegmentsToUrl=pathSegmentsToUrl;var SEGMENT_RE=lang_1.RegExpWrapper.create('^[^\\/\\(\\)\\?;=&#]+');function matchUrlSegment(str){var match=lang_1.RegExpWrapper.firstMatch(SEGMENT_RE,str);return lang_1.isPresent(match)?match[0]:'';}
var UrlParser=(function(){function UrlParser(){}
UrlParser.prototype.peekStartsWith=function(str){return this._remaining.startsWith(str);};UrlParser.prototype.capture=function(str){if(!this._remaining.startsWith(str)){throw new exceptions_1.BaseException("Expected \""+str+"\".");}
this._remaining=this._remaining.substring(str.length);};UrlParser.prototype.parse=function(url){this._remaining=url;if(url==''||url=='/'){return new Url('');}
return this.parseRoot();};UrlParser.prototype.parseRoot=function(){if(this.peekStartsWith('/')){this.capture('/');}
var path=matchUrlSegment(this._remaining);this.capture(path);var aux=[];if(this.peekStartsWith('(')){aux=this.parseAuxiliaryRoutes();}
if(this.peekStartsWith(';')){this.parseMatrixParams();}
var child=null;if(this.peekStartsWith('/')&&!this.peekStartsWith('//')){this.capture('/');child=this.parseSegment();}
var queryParams=null;if(this.peekStartsWith('?')){queryParams=this.parseQueryParams();}
return new RootUrl(path,child,aux,queryParams);};UrlParser.prototype.parseSegment=function(){if(this._remaining.length==0){return null;}
if(this.peekStartsWith('/')){this.capture('/');}
var path=matchUrlSegment(this._remaining);this.capture(path);var matrixParams=null;if(this.peekStartsWith(';')){matrixParams=this.parseMatrixParams();}
var aux=[];if(this.peekStartsWith('(')){aux=this.parseAuxiliaryRoutes();}
var child=null;if(this.peekStartsWith('/')&&!this.peekStartsWith('//')){this.capture('/');child=this.parseSegment();}
return new Url(path,child,aux,matrixParams);};UrlParser.prototype.parseQueryParams=function(){var params={};this.capture('?');this.parseParam(params);while(this._remaining.length>0&&this.peekStartsWith('&')){this.capture('&');this.parseParam(params);}
return params;};UrlParser.prototype.parseMatrixParams=function(){var params={};while(this._remaining.length>0&&this.peekStartsWith(';')){this.capture(';');this.parseParam(params);}
return params;};UrlParser.prototype.parseParam=function(params){var key=matchUrlSegment(this._remaining);if(lang_1.isBlank(key)){return;}
this.capture(key);var value=true;if(this.peekStartsWith('=')){this.capture('=');var valueMatch=matchUrlSegment(this._remaining);if(lang_1.isPresent(valueMatch)){value=valueMatch;this.capture(value);}}
params[key]=value;};UrlParser.prototype.parseAuxiliaryRoutes=function(){var routes=[];this.capture('(');while(!this.peekStartsWith(')')&&this._remaining.length>0){routes.push(this.parseSegment());if(this.peekStartsWith('//')){this.capture('//');}}
this.capture(')');return routes;};return UrlParser;})();exports.UrlParser=UrlParser;exports.parser=new UrlParser();global.define=__define;return module.exports;});System.register("angular2/src/router/instruction",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var RouteParams=(function(){function RouteParams(params){this.params=params;}
RouteParams.prototype.get=function(param){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.params,param));};return RouteParams;})();exports.RouteParams=RouteParams;var RouteData=(function(){function RouteData(data){if(data===void 0){data=lang_1.CONST_EXPR({});}
this.data=data;}
RouteData.prototype.get=function(key){return lang_1.normalizeBlank(collection_1.StringMapWrapper.get(this.data,key));};return RouteData;})();exports.RouteData=RouteData;exports.BLANK_ROUTE_DATA=new RouteData();var Instruction=(function(){function Instruction(component,child,auxInstruction){this.component=component;this.child=child;this.auxInstruction=auxInstruction;}
Object.defineProperty(Instruction.prototype,"urlPath",{get:function(){return lang_1.isPresent(this.component)?this.component.urlPath:'';},enumerable:true,configurable:true});Object.defineProperty(Instruction.prototype,"urlParams",{get:function(){return lang_1.isPresent(this.component)?this.component.urlParams:[];},enumerable:true,configurable:true});Object.defineProperty(Instruction.prototype,"specificity",{get:function(){var total='';if(lang_1.isPresent(this.component)){total+=this.component.specificity;}
if(lang_1.isPresent(this.child)){total+=this.child.specificity;}
return total;},enumerable:true,configurable:true});Instruction.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery();};Instruction.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():'');};Instruction.prototype.toUrlQuery=function(){return this.urlParams.length>0?('?'+this.urlParams.join('&')):'';};Instruction.prototype.replaceChild=function(child){return new ResolvedInstruction(this.component,child,this.auxInstruction);};Instruction.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toNonRootUrl():'');};Instruction.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():'')+this.toUrlQuery();};Instruction.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(lang_1.isPresent(this.child)?this.child._toLinkUrl():'');};Instruction.prototype._stringifyPathMatrixAuxPrefixed=function(){var primary=this._stringifyPathMatrixAux();if(primary.length>0){primary='/'+primary;}
return primary;};Instruction.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?(';'+this.urlParams.join(';')):'';};Instruction.prototype._stringifyPathMatrixAux=function(){if(lang_1.isBlank(this.component)){return'';}
return this.urlPath+this._stringifyMatrixParams()+this._stringifyAux();};Instruction.prototype._stringifyAux=function(){var routes=[];collection_1.StringMapWrapper.forEach(this.auxInstruction,function(auxInstruction,_){routes.push(auxInstruction._stringifyPathMatrixAux());});if(routes.length>0){return'('+routes.join('//')+')';}
return'';};return Instruction;})();exports.Instruction=Instruction;var ResolvedInstruction=(function(_super){__extends(ResolvedInstruction,_super);function ResolvedInstruction(component,child,auxInstruction){_super.call(this,component,child,auxInstruction);}
ResolvedInstruction.prototype.resolveComponent=function(){return async_1.PromiseWrapper.resolve(this.component);};return ResolvedInstruction;})(Instruction);exports.ResolvedInstruction=ResolvedInstruction;var DefaultInstruction=(function(_super){__extends(DefaultInstruction,_super);function DefaultInstruction(component,child){_super.call(this,component,child,{});}
DefaultInstruction.prototype.toLinkUrl=function(){return'';};DefaultInstruction.prototype._toLinkUrl=function(){return'';};return DefaultInstruction;})(ResolvedInstruction);exports.DefaultInstruction=DefaultInstruction;var UnresolvedInstruction=(function(_super){__extends(UnresolvedInstruction,_super);function UnresolvedInstruction(_resolver,_urlPath,_urlParams){if(_urlPath===void 0){_urlPath='';}
if(_urlParams===void 0){_urlParams=lang_1.CONST_EXPR([]);}
_super.call(this,null,null,{});this._resolver=_resolver;this._urlPath=_urlPath;this._urlParams=_urlParams;}
Object.defineProperty(UnresolvedInstruction.prototype,"urlPath",{get:function(){if(lang_1.isPresent(this.component)){return this.component.urlPath;}
if(lang_1.isPresent(this._urlPath)){return this._urlPath;}
return'';},enumerable:true,configurable:true});Object.defineProperty(UnresolvedInstruction.prototype,"urlParams",{get:function(){if(lang_1.isPresent(this.component)){return this.component.urlParams;}
if(lang_1.isPresent(this._urlParams)){return this._urlParams;}
return[];},enumerable:true,configurable:true});UnresolvedInstruction.prototype.resolveComponent=function(){var _this=this;if(lang_1.isPresent(this.component)){return async_1.PromiseWrapper.resolve(this.component);}
return this._resolver().then(function(instruction){_this.child=lang_1.isPresent(instruction)?instruction.child:null;return _this.component=lang_1.isPresent(instruction)?instruction.component:null;});};return UnresolvedInstruction;})(Instruction);exports.UnresolvedInstruction=UnresolvedInstruction;var RedirectInstruction=(function(_super){__extends(RedirectInstruction,_super);function RedirectInstruction(component,child,auxInstruction,_specificity){_super.call(this,component,child,auxInstruction);this._specificity=_specificity;}
Object.defineProperty(RedirectInstruction.prototype,"specificity",{get:function(){return this._specificity;},enumerable:true,configurable:true});return RedirectInstruction;})(ResolvedInstruction);exports.RedirectInstruction=RedirectInstruction;var ComponentInstruction=(function(){function ComponentInstruction(urlPath,urlParams,data,componentType,terminal,specificity,params){if(params===void 0){params=null;}
this.urlPath=urlPath;this.urlParams=urlParams;this.componentType=componentType;this.terminal=terminal;this.specificity=specificity;this.params=params;this.reuse=false;this.routeData=lang_1.isPresent(data)?data:exports.BLANK_ROUTE_DATA;}
return ComponentInstruction;})();exports.ComponentInstruction=ComponentInstruction;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/route_handlers/async_route_handler",["angular2/src/facade/lang","angular2/src/router/instruction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var instruction_1=require("angular2/src/router/instruction");var AsyncRouteHandler=(function(){function AsyncRouteHandler(_loader,data){if(data===void 0){data=null;}
this._loader=_loader;this._resolvedComponent=null;this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA;}
AsyncRouteHandler.prototype.resolveComponentType=function(){var _this=this;if(lang_1.isPresent(this._resolvedComponent)){return this._resolvedComponent;}
return this._resolvedComponent=this._loader().then(function(componentType){_this.componentType=componentType;return componentType;});};return AsyncRouteHandler;})();exports.AsyncRouteHandler=AsyncRouteHandler;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/route_handlers/sync_route_handler",["angular2/src/facade/async","angular2/src/facade/lang","angular2/src/router/instruction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var async_1=require("angular2/src/facade/async");var lang_1=require("angular2/src/facade/lang");var instruction_1=require("angular2/src/router/instruction");var SyncRouteHandler=(function(){function SyncRouteHandler(componentType,data){this.componentType=componentType;this._resolvedComponent=null;this._resolvedComponent=async_1.PromiseWrapper.resolve(componentType);this.data=lang_1.isPresent(data)?new instruction_1.RouteData(data):instruction_1.BLANK_ROUTE_DATA;}
SyncRouteHandler.prototype.resolveComponentType=function(){return this._resolvedComponent;};return SyncRouteHandler;})();exports.SyncRouteHandler=SyncRouteHandler;global.define=__define;return module.exports;});System.register("angular2/src/router/utils",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var TouchMap=(function(){function TouchMap(map){var _this=this;this.map={};this.keys={};if(lang_1.isPresent(map)){collection_1.StringMapWrapper.forEach(map,function(value,key){_this.map[key]=lang_1.isPresent(value)?value.toString():null;_this.keys[key]=true;});}}
TouchMap.prototype.get=function(key){collection_1.StringMapWrapper.delete(this.keys,key);return this.map[key];};TouchMap.prototype.getUnused=function(){var _this=this;var unused={};var keys=collection_1.StringMapWrapper.keys(this.keys);keys.forEach(function(key){return unused[key]=collection_1.StringMapWrapper.get(_this.map,key);});return unused;};return TouchMap;})();exports.TouchMap=TouchMap;function normalizeString(obj){if(lang_1.isBlank(obj)){return null;}else{return obj.toString();}}
exports.normalizeString=normalizeString;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/route_paths/route_path",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var MatchedUrl=(function(){function MatchedUrl(urlPath,urlParams,allParams,auxiliary,rest){this.urlPath=urlPath;this.urlParams=urlParams;this.allParams=allParams;this.auxiliary=auxiliary;this.rest=rest;}
return MatchedUrl;})();exports.MatchedUrl=MatchedUrl;var GeneratedUrl=(function(){function GeneratedUrl(urlPath,urlParams){this.urlPath=urlPath;this.urlParams=urlParams;}
return GeneratedUrl;})();exports.GeneratedUrl=GeneratedUrl;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/route_paths/regex_route_path",["angular2/src/facade/lang","angular2/src/router/rules/route_paths/route_path"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var route_path_1=require("angular2/src/router/rules/route_paths/route_path");var RegexRoutePath=(function(){function RegexRoutePath(_reString,_serializer){this._reString=_reString;this._serializer=_serializer;this.terminal=true;this.specificity='2';this.hash=this._reString;this._regex=lang_1.RegExpWrapper.create(this._reString);}
RegexRoutePath.prototype.matchUrl=function(url){var urlPath=url.toString();var params={};var matcher=lang_1.RegExpWrapper.matcher(this._regex,urlPath);var match=lang_1.RegExpMatcherWrapper.next(matcher);if(lang_1.isBlank(match)){return null;}
for(var i=0;i<match.length;i+=1){params[i.toString()]=match[i];}
return new route_path_1.MatchedUrl(urlPath,[],params,[],null);};RegexRoutePath.prototype.generateUrl=function(params){return this._serializer(params);};RegexRoutePath.prototype.toString=function(){return this._reString;};return RegexRoutePath;})();exports.RegexRoutePath=RegexRoutePath;global.define=__define;return module.exports;});System.register("angular2/src/router/route_config/route_config_decorator",["angular2/src/router/route_config/route_config_impl","angular2/src/core/util/decorators","angular2/src/router/route_config/route_config_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var route_config_impl_1=require("angular2/src/router/route_config/route_config_impl");var decorators_1=require("angular2/src/core/util/decorators");var route_config_impl_2=require("angular2/src/router/route_config/route_config_impl");exports.Route=route_config_impl_2.Route;exports.Redirect=route_config_impl_2.Redirect;exports.AuxRoute=route_config_impl_2.AuxRoute;exports.AsyncRoute=route_config_impl_2.AsyncRoute;exports.RouteConfig=decorators_1.makeDecorator(route_config_impl_1.RouteConfig);global.define=__define;return module.exports;});System.register("angular2/src/router/location/location_strategy",["angular2/src/facade/lang","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var LocationStrategy=(function(){function LocationStrategy(){}
return LocationStrategy;})();exports.LocationStrategy=LocationStrategy;exports.APP_BASE_HREF=lang_1.CONST_EXPR(new core_1.OpaqueToken('appBaseHref'));function normalizeQueryParams(params){return(params.length>0&&params.substring(0,1)!='?')?('?'+params):params;}
exports.normalizeQueryParams=normalizeQueryParams;function joinWithSlash(start,end){if(start.length==0){return end;}
if(end.length==0){return start;}
var slashes=0;if(start.endsWith('/')){slashes++;}
if(end.startsWith('/')){slashes++;}
if(slashes==2){return start+end.substring(1);}
if(slashes==1){return start+end;}
return start+'/'+end;}
exports.joinWithSlash=joinWithSlash;global.define=__define;return module.exports;});System.register("angular2/src/router/lifecycle/lifecycle_annotations_impl",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var RouteLifecycleHook=(function(){function RouteLifecycleHook(name){this.name=name;}
RouteLifecycleHook=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[String])],RouteLifecycleHook);return RouteLifecycleHook;})();exports.RouteLifecycleHook=RouteLifecycleHook;var CanActivate=(function(){function CanActivate(fn){this.fn=fn;}
CanActivate=__decorate([lang_1.CONST(),__metadata('design:paramtypes',[Function])],CanActivate);return CanActivate;})();exports.CanActivate=CanActivate;exports.routerCanReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanReuse"));exports.routerCanDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerCanDeactivate"));exports.routerOnActivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnActivate"));exports.routerOnReuse=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnReuse"));exports.routerOnDeactivate=lang_1.CONST_EXPR(new RouteLifecycleHook("routerOnDeactivate"));global.define=__define;return module.exports;});System.register("angular2/src/router/lifecycle/lifecycle_annotations",["angular2/src/core/util/decorators","angular2/src/router/lifecycle/lifecycle_annotations_impl","angular2/src/router/lifecycle/lifecycle_annotations_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var decorators_1=require("angular2/src/core/util/decorators");var lifecycle_annotations_impl_1=require("angular2/src/router/lifecycle/lifecycle_annotations_impl");var lifecycle_annotations_impl_2=require("angular2/src/router/lifecycle/lifecycle_annotations_impl");exports.routerCanReuse=lifecycle_annotations_impl_2.routerCanReuse;exports.routerCanDeactivate=lifecycle_annotations_impl_2.routerCanDeactivate;exports.routerOnActivate=lifecycle_annotations_impl_2.routerOnActivate;exports.routerOnReuse=lifecycle_annotations_impl_2.routerOnReuse;exports.routerOnDeactivate=lifecycle_annotations_impl_2.routerOnDeactivate;exports.CanActivate=decorators_1.makeDecorator(lifecycle_annotations_impl_1.CanActivate);global.define=__define;return module.exports;});System.register("angular2/src/router/directives/router_link",["angular2/core","angular2/src/facade/lang","angular2/src/router/router","angular2/src/router/location/location"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var router_1=require("angular2/src/router/router");var location_1=require("angular2/src/router/location/location");var RouterLink=(function(){function RouterLink(_router,_location){var _this=this;this._router=_router;this._location=_location;this._router.subscribe(function(_){return _this._updateLink();});}
RouterLink.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var navigationHref=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(navigationHref);};Object.defineProperty(RouterLink.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction);},enumerable:true,configurable:true});Object.defineProperty(RouterLink.prototype,"routeParams",{set:function(changes){this._routeParams=changes;this._updateLink();},enumerable:true,configurable:true});RouterLink.prototype.onClick=function(){if(!lang_1.isString(this.target)||this.target=='_self'){this._router.navigateByInstruction(this._navigationInstruction);return false;}
return true;};RouterLink=__decorate([core_1.Directive({selector:'[routerLink]',inputs:['routeParams: routerLink','target: target'],host:{'(click)':'onClick()','[attr.href]':'visibleHref','[class.router-link-active]':'isRouteActive'}}),__metadata('design:paramtypes',[router_1.Router,location_1.Location])],RouterLink);return RouterLink;})();exports.RouterLink=RouterLink;global.define=__define;return module.exports;});System.register("angular2/src/router/location/platform_location",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var PlatformLocation=(function(){function PlatformLocation(){}
Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null;},enumerable:true,configurable:true});Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null;},enumerable:true,configurable:true});return PlatformLocation;})();exports.PlatformLocation=PlatformLocation;global.define=__define;return module.exports;});System.register("angular2/src/router/location/hash_location_strategy",["angular2/core","angular2/src/router/location/location_strategy","angular2/src/facade/lang","angular2/src/router/location/platform_location"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var location_strategy_1=require("angular2/src/router/location/location_strategy");var lang_1=require("angular2/src/facade/lang");var platform_location_1=require("angular2/src/router/location/platform_location");var HashLocationStrategy=(function(_super){__extends(HashLocationStrategy,_super);function HashLocationStrategy(_platformLocation,_baseHref){_super.call(this);this._platformLocation=_platformLocation;this._baseHref='';if(lang_1.isPresent(_baseHref)){this._baseHref=_baseHref;}}
HashLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn);this._platformLocation.onHashChange(fn);};HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref;};HashLocationStrategy.prototype.path=function(){var path=this._platformLocation.hash;if(!lang_1.isPresent(path))
path='#';return(path.length>0?path.substring(1):path);};HashLocationStrategy.prototype.prepareExternalUrl=function(internal){var url=location_strategy_1.joinWithSlash(this._baseHref,internal);return url.length>0?('#'+url):url;};HashLocationStrategy.prototype.pushState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));if(url.length==0){url=this._platformLocation.pathname;}
this._platformLocation.pushState(state,title,url);};HashLocationStrategy.prototype.replaceState=function(state,title,path,queryParams){var url=this.prepareExternalUrl(path+location_strategy_1.normalizeQueryParams(queryParams));if(url.length==0){url=this._platformLocation.pathname;}
this._platformLocation.replaceState(state,title,url);};HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward();};HashLocationStrategy.prototype.back=function(){this._platformLocation.back();};HashLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata('design:paramtypes',[platform_location_1.PlatformLocation,String])],HashLocationStrategy);return HashLocationStrategy;})(location_strategy_1.LocationStrategy);exports.HashLocationStrategy=HashLocationStrategy;global.define=__define;return module.exports;});System.register("angular2/src/router/location/path_location_strategy",["angular2/core","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/router/location/location_strategy","angular2/src/router/location/platform_location"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var location_strategy_1=require("angular2/src/router/location/location_strategy");var platform_location_1=require("angular2/src/router/location/platform_location");var PathLocationStrategy=(function(_super){__extends(PathLocationStrategy,_super);function PathLocationStrategy(_platformLocation,href){_super.call(this);this._platformLocation=_platformLocation;if(lang_1.isBlank(href)){href=this._platformLocation.getBaseHrefFromDOM();}
if(lang_1.isBlank(href)){throw new exceptions_1.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");}
this._baseHref=href;}
PathLocationStrategy.prototype.onPopState=function(fn){this._platformLocation.onPopState(fn);this._platformLocation.onHashChange(fn);};PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref;};PathLocationStrategy.prototype.prepareExternalUrl=function(internal){return location_strategy_1.joinWithSlash(this._baseHref,internal);};PathLocationStrategy.prototype.path=function(){return this._platformLocation.pathname+location_strategy_1.normalizeQueryParams(this._platformLocation.search);};PathLocationStrategy.prototype.pushState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl);};PathLocationStrategy.prototype.replaceState=function(state,title,url,queryParams){var externalUrl=this.prepareExternalUrl(url+location_strategy_1.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl);};PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward();};PathLocationStrategy.prototype.back=function(){this._platformLocation.back();};PathLocationStrategy=__decorate([core_1.Injectable(),__param(1,core_1.Optional()),__param(1,core_1.Inject(location_strategy_1.APP_BASE_HREF)),__metadata('design:paramtypes',[platform_location_1.PlatformLocation,String])],PathLocationStrategy);return PathLocationStrategy;})(location_strategy_1.LocationStrategy);exports.PathLocationStrategy=PathLocationStrategy;global.define=__define;return module.exports;});System.register("angular2/src/router/route_definition",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;global.define=__define;return module.exports;});System.register("angular2/src/router/router_providers_common",["angular2/src/router/location/location_strategy","angular2/src/router/location/path_location_strategy","angular2/src/router/router","angular2/src/router/route_registry","angular2/src/router/location/location","angular2/src/facade/lang","angular2/core","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var location_strategy_1=require("angular2/src/router/location/location_strategy");var path_location_strategy_1=require("angular2/src/router/location/path_location_strategy");var router_1=require("angular2/src/router/router");var route_registry_1=require("angular2/src/router/route_registry");var location_1=require("angular2/src/router/location/location");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var exceptions_1=require("angular2/src/facade/exceptions");exports.ROUTER_PROVIDERS_COMMON=lang_1.CONST_EXPR([route_registry_1.RouteRegistry,lang_1.CONST_EXPR(new core_1.Provider(location_strategy_1.LocationStrategy,{useClass:path_location_strategy_1.PathLocationStrategy})),location_1.Location,lang_1.CONST_EXPR(new core_1.Provider(router_1.Router,{useFactory:routerFactory,deps:lang_1.CONST_EXPR([route_registry_1.RouteRegistry,location_1.Location,route_registry_1.ROUTER_PRIMARY_COMPONENT,core_1.ApplicationRef])})),lang_1.CONST_EXPR(new core_1.Provider(route_registry_1.ROUTER_PRIMARY_COMPONENT,{useFactory:routerPrimaryComponentFactory,deps:lang_1.CONST_EXPR([core_1.ApplicationRef])}))]);function routerFactory(registry,location,primaryComponent,appRef){var rootRouter=new router_1.RootRouter(registry,location,primaryComponent);appRef.registerDisposeListener(function(){return rootRouter.dispose();});return rootRouter;}
function routerPrimaryComponentFactory(app){if(app.componentTypes.length==0){throw new exceptions_1.BaseException("Bootstrap at least one component before injecting Router.");}
return app.componentTypes[0];}
global.define=__define;return module.exports;});System.register("angular2/src/router/rules/rules",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/promise","angular2/src/facade/collection","angular2/src/router/url_parser","angular2/src/router/instruction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var promise_1=require("angular2/src/facade/promise");var collection_1=require("angular2/src/facade/collection");var url_parser_1=require("angular2/src/router/url_parser");var instruction_1=require("angular2/src/router/instruction");var RouteMatch=(function(){function RouteMatch(){}
return RouteMatch;})();exports.RouteMatch=RouteMatch;var PathMatch=(function(_super){__extends(PathMatch,_super);function PathMatch(instruction,remaining,remainingAux){_super.call(this);this.instruction=instruction;this.remaining=remaining;this.remainingAux=remainingAux;}
return PathMatch;})(RouteMatch);exports.PathMatch=PathMatch;var RedirectMatch=(function(_super){__extends(RedirectMatch,_super);function RedirectMatch(redirectTo,specificity){_super.call(this);this.redirectTo=redirectTo;this.specificity=specificity;}
return RedirectMatch;})(RouteMatch);exports.RedirectMatch=RedirectMatch;var RedirectRule=(function(){function RedirectRule(_pathRecognizer,redirectTo){this._pathRecognizer=_pathRecognizer;this.redirectTo=redirectTo;this.hash=this._pathRecognizer.hash;}
Object.defineProperty(RedirectRule.prototype,"path",{get:function(){return this._pathRecognizer.toString();},set:function(val){throw new exceptions_1.BaseException('you cannot set the path of a RedirectRule directly');},enumerable:true,configurable:true});RedirectRule.prototype.recognize=function(beginningSegment){var match=null;if(lang_1.isPresent(this._pathRecognizer.matchUrl(beginningSegment))){match=new RedirectMatch(this.redirectTo,this._pathRecognizer.specificity);}
return promise_1.PromiseWrapper.resolve(match);};RedirectRule.prototype.generate=function(params){throw new exceptions_1.BaseException("Tried to generate a redirect.");};return RedirectRule;})();exports.RedirectRule=RedirectRule;var RouteRule=(function(){function RouteRule(_routePath,handler){this._routePath=_routePath;this.handler=handler;this._cache=new collection_1.Map();this.specificity=this._routePath.specificity;this.hash=this._routePath.hash;this.terminal=this._routePath.terminal;}
Object.defineProperty(RouteRule.prototype,"path",{get:function(){return this._routePath.toString();},set:function(val){throw new exceptions_1.BaseException('you cannot set the path of a RouteRule directly');},enumerable:true,configurable:true});RouteRule.prototype.recognize=function(beginningSegment){var _this=this;var res=this._routePath.matchUrl(beginningSegment);if(lang_1.isBlank(res)){return null;}
return this.handler.resolveComponentType().then(function(_){var componentInstruction=_this._getInstruction(res.urlPath,res.urlParams,res.allParams);return new PathMatch(componentInstruction,res.rest,res.auxiliary);});};RouteRule.prototype.generate=function(params){var generated=this._routePath.generateUrl(params);var urlPath=generated.urlPath;var urlParams=generated.urlParams;return this._getInstruction(urlPath,url_parser_1.convertUrlParamsToArray(urlParams),params);};RouteRule.prototype.generateComponentPathValues=function(params){return this._routePath.generateUrl(params);};RouteRule.prototype._getInstruction=function(urlPath,urlParams,params){if(lang_1.isBlank(this.handler.componentType)){throw new exceptions_1.BaseException("Tried to get instruction before the type was loaded.");}
var hashKey=urlPath+'?'+urlParams.join('&');if(this._cache.has(hashKey)){return this._cache.get(hashKey);}
var instruction=new instruction_1.ComponentInstruction(urlPath,urlParams,this.handler.data,this.handler.componentType,this.terminal,this.specificity,params);this._cache.set(hashKey,instruction);return instruction;};return RouteRule;})();exports.RouteRule=RouteRule;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/route_paths/param_route_path",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/router/utils","angular2/src/router/url_parser","angular2/src/router/rules/route_paths/route_path"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var utils_1=require("angular2/src/router/utils");var url_parser_1=require("angular2/src/router/url_parser");var route_path_1=require("angular2/src/router/rules/route_paths/route_path");var ContinuationPathSegment=(function(){function ContinuationPathSegment(){this.name='';this.specificity='';this.hash='...';}
ContinuationPathSegment.prototype.generate=function(params){return'';};ContinuationPathSegment.prototype.match=function(path){return true;};return ContinuationPathSegment;})();var StaticPathSegment=(function(){function StaticPathSegment(path){this.path=path;this.name='';this.specificity='2';this.hash=path;}
StaticPathSegment.prototype.match=function(path){return path==this.path;};StaticPathSegment.prototype.generate=function(params){return this.path;};return StaticPathSegment;})();var DynamicPathSegment=(function(){function DynamicPathSegment(name){this.name=name;this.specificity='1';this.hash=':';}
DynamicPathSegment.prototype.match=function(path){return path.length>0;};DynamicPathSegment.prototype.generate=function(params){if(!collection_1.StringMapWrapper.contains(params.map,this.name)){throw new exceptions_1.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");}
return encodeDynamicSegment(utils_1.normalizeString(params.get(this.name)));};DynamicPathSegment.paramMatcher=/^:([^\/]+)$/g;return DynamicPathSegment;})();var StarPathSegment=(function(){function StarPathSegment(name){this.name=name;this.specificity='0';this.hash='*';}
StarPathSegment.prototype.match=function(path){return true;};StarPathSegment.prototype.generate=function(params){return utils_1.normalizeString(params.get(this.name));};StarPathSegment.wildcardMatcher=/^\*([^\/]+)$/g;return StarPathSegment;})();var ParamRoutePath=(function(){function ParamRoutePath(routePath){this.routePath=routePath;this.terminal=true;this._assertValidPath(routePath);this._parsePathString(routePath);this.specificity=this._calculateSpecificity();this.hash=this._calculateHash();var lastSegment=this._segments[this._segments.length-1];this.terminal=!(lastSegment instanceof ContinuationPathSegment);}
ParamRoutePath.prototype.matchUrl=function(url){var nextUrlSegment=url;var currentUrlSegment;var positionalParams={};var captured=[];for(var i=0;i<this._segments.length;i+=1){var pathSegment=this._segments[i];currentUrlSegment=nextUrlSegment;if(pathSegment instanceof ContinuationPathSegment){break;}
if(lang_1.isPresent(currentUrlSegment)){if(pathSegment instanceof StarPathSegment){positionalParams[pathSegment.name]=currentUrlSegment.toString();captured.push(currentUrlSegment.toString());nextUrlSegment=null;break;}
captured.push(currentUrlSegment.path);if(pathSegment instanceof DynamicPathSegment){positionalParams[pathSegment.name]=decodeDynamicSegment(currentUrlSegment.path);}else if(!pathSegment.match(currentUrlSegment.path)){return null;}
nextUrlSegment=currentUrlSegment.child;}else if(!pathSegment.match('')){return null;}}
if(this.terminal&&lang_1.isPresent(nextUrlSegment)){return null;}
var urlPath=captured.join('/');var auxiliary=[];var urlParams=[];var allParams=positionalParams;if(lang_1.isPresent(currentUrlSegment)){var paramsSegment=url instanceof url_parser_1.RootUrl?url:currentUrlSegment;if(lang_1.isPresent(paramsSegment.params)){allParams=collection_1.StringMapWrapper.merge(paramsSegment.params,positionalParams);urlParams=url_parser_1.convertUrlParamsToArray(paramsSegment.params);}else{allParams=positionalParams;}
auxiliary=currentUrlSegment.auxiliary;}
return new route_path_1.MatchedUrl(urlPath,urlParams,allParams,auxiliary,nextUrlSegment);};ParamRoutePath.prototype.generateUrl=function(params){var paramTokens=new utils_1.TouchMap(params);var path=[];for(var i=0;i<this._segments.length;i++){var segment=this._segments[i];if(!(segment instanceof ContinuationPathSegment)){path.push(segment.generate(paramTokens));}}
var urlPath=path.join('/');var nonPositionalParams=paramTokens.getUnused();var urlParams=nonPositionalParams;return new route_path_1.GeneratedUrl(urlPath,urlParams);};ParamRoutePath.prototype.toString=function(){return this.routePath;};ParamRoutePath.prototype._parsePathString=function(routePath){if(routePath.startsWith("/")){routePath=routePath.substring(1);}
var segmentStrings=routePath.split('/');this._segments=[];var limit=segmentStrings.length-1;for(var i=0;i<=limit;i++){var segment=segmentStrings[i],match;if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(DynamicPathSegment.paramMatcher,segment))){this._segments.push(new DynamicPathSegment(match[1]));}else if(lang_1.isPresent(match=lang_1.RegExpWrapper.firstMatch(StarPathSegment.wildcardMatcher,segment))){this._segments.push(new StarPathSegment(match[1]));}else if(segment=='...'){if(i<limit){throw new exceptions_1.BaseException("Unexpected \"...\" before the end of the path for \""+routePath+"\".");}
this._segments.push(new ContinuationPathSegment());}else{this._segments.push(new StaticPathSegment(segment));}}};ParamRoutePath.prototype._calculateSpecificity=function(){var i,length=this._segments.length,specificity;if(length==0){specificity+='2';}else{specificity='';for(i=0;i<length;i++){specificity+=this._segments[i].specificity;}}
return specificity;};ParamRoutePath.prototype._calculateHash=function(){var i,length=this._segments.length;var hashParts=[];for(i=0;i<length;i++){hashParts.push(this._segments[i].hash);}
return hashParts.join('/');};ParamRoutePath.prototype._assertValidPath=function(path){if(lang_1.StringWrapper.contains(path,'#')){throw new exceptions_1.BaseException("Path \""+path+"\" should not include \"#\". Use \"HashLocationStrategy\" instead.");}
var illegalCharacter=lang_1.RegExpWrapper.firstMatch(ParamRoutePath.RESERVED_CHARS,path);if(lang_1.isPresent(illegalCharacter)){throw new exceptions_1.BaseException("Path \""+path+"\" contains \""+illegalCharacter[0]+"\" which is not allowed in a route config.");}};ParamRoutePath.RESERVED_CHARS=lang_1.RegExpWrapper.create('//|\\(|\\)|;|\\?|=');return ParamRoutePath;})();exports.ParamRoutePath=ParamRoutePath;var REGEXP_PERCENT=/%/g;var REGEXP_SLASH=/\//g;var REGEXP_OPEN_PARENT=/\(/g;var REGEXP_CLOSE_PARENT=/\)/g;var REGEXP_SEMICOLON=/;/g;function encodeDynamicSegment(value){if(lang_1.isBlank(value)){return null;}
value=lang_1.StringWrapper.replaceAll(value,REGEXP_PERCENT,'%25');value=lang_1.StringWrapper.replaceAll(value,REGEXP_SLASH,'%2F');value=lang_1.StringWrapper.replaceAll(value,REGEXP_OPEN_PARENT,'%28');value=lang_1.StringWrapper.replaceAll(value,REGEXP_CLOSE_PARENT,'%29');value=lang_1.StringWrapper.replaceAll(value,REGEXP_SEMICOLON,'%3B');return value;}
var REGEXP_ENC_SEMICOLON=/%3B/ig;var REGEXP_ENC_CLOSE_PARENT=/%29/ig;var REGEXP_ENC_OPEN_PARENT=/%28/ig;var REGEXP_ENC_SLASH=/%2F/ig;var REGEXP_ENC_PERCENT=/%25/ig;function decodeDynamicSegment(value){if(lang_1.isBlank(value)){return null;}
value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_SEMICOLON,';');value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_CLOSE_PARENT,')');value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_OPEN_PARENT,'(');value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_SLASH,'/');value=lang_1.StringWrapper.replaceAll(value,REGEXP_ENC_PERCENT,'%');return value;}
global.define=__define;return module.exports;});System.register("angular2/src/router/route_config/route_config_normalizer",["angular2/src/router/route_config/route_config_decorator","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var route_config_decorator_1=require("angular2/src/router/route_config/route_config_decorator");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");function normalizeRouteConfig(config,registry){if(config instanceof route_config_decorator_1.AsyncRoute){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault});}
if(config instanceof route_config_decorator_1.Route||config instanceof route_config_decorator_1.Redirect||config instanceof route_config_decorator_1.AuxRoute){return config;}
if((+!!config.component)+(+!!config.redirectTo)+(+!!config.loader)!=1){throw new exceptions_1.BaseException("Route config should contain exactly one \"component\", \"loader\", or \"redirectTo\" property.");}
if(config.as&&config.name){throw new exceptions_1.BaseException("Route config should contain exactly one \"as\" or \"name\" property.");}
if(config.as){config.name=config.as;}
if(config.loader){var wrappedLoader=wrapLoaderToReconfigureRegistry(config.loader,registry);return new route_config_decorator_1.AsyncRoute({path:config.path,loader:wrappedLoader,name:config.name,data:config.data,useAsDefault:config.useAsDefault});}
if(config.aux){return new route_config_decorator_1.AuxRoute({path:config.aux,component:config.component,name:config.name});}
if(config.component){if(typeof config.component=='object'){var componentDefinitionObject=config.component;if(componentDefinitionObject.type=='constructor'){return new route_config_decorator_1.Route({path:config.path,component:componentDefinitionObject.constructor,name:config.name,data:config.data,useAsDefault:config.useAsDefault});}else if(componentDefinitionObject.type=='loader'){return new route_config_decorator_1.AsyncRoute({path:config.path,loader:componentDefinitionObject.loader,name:config.name,data:config.data,useAsDefault:config.useAsDefault});}else{throw new exceptions_1.BaseException("Invalid component type \""+componentDefinitionObject.type+"\". Valid types are \"constructor\" and \"loader\".");}}
return new route_config_decorator_1.Route(config);}
if(config.redirectTo){return new route_config_decorator_1.Redirect({path:config.path,redirectTo:config.redirectTo});}
return config;}
exports.normalizeRouteConfig=normalizeRouteConfig;function wrapLoaderToReconfigureRegistry(loader,registry){return function(){return loader().then(function(componentType){registry.configFromComponent(componentType);return componentType;});};}
function assertComponentExists(component,path){if(!lang_1.isType(component)){throw new exceptions_1.BaseException("Component for route \""+path+"\" is not defined, or is not a class.");}}
exports.assertComponentExists=assertComponentExists;global.define=__define;return module.exports;});System.register("angular2/src/router/location/location",["angular2/src/router/location/location_strategy","angular2/src/facade/async","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var location_strategy_1=require("angular2/src/router/location/location_strategy");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var Location=(function(){function Location(platformStrategy){var _this=this;this.platformStrategy=platformStrategy;this._subject=new async_1.EventEmitter();var browserBaseHref=this.platformStrategy.getBaseHref();this._baseHref=stripTrailingSlash(stripIndexHtml(browserBaseHref));this.platformStrategy.onPopState(function(ev){async_1.ObservableWrapper.callEmit(_this._subject,{'url':_this.path(),'pop':true,'type':ev.type});});}
Location.prototype.path=function(){return this.normalize(this.platformStrategy.path());};Location.prototype.normalize=function(url){return stripTrailingSlash(_stripBaseHref(this._baseHref,stripIndexHtml(url)));};Location.prototype.prepareExternalUrl=function(url){if(url.length>0&&!url.startsWith('/')){url='/'+url;}
return this.platformStrategy.prepareExternalUrl(url);};Location.prototype.go=function(path,query){if(query===void 0){query='';}
this.platformStrategy.pushState(null,'',path,query);};Location.prototype.replaceState=function(path,query){if(query===void 0){query='';}
this.platformStrategy.replaceState(null,'',path,query);};Location.prototype.forward=function(){this.platformStrategy.forward();};Location.prototype.back=function(){this.platformStrategy.back();};Location.prototype.subscribe=function(onNext,onThrow,onReturn){if(onThrow===void 0){onThrow=null;}
if(onReturn===void 0){onReturn=null;}
return async_1.ObservableWrapper.subscribe(this._subject,onNext,onThrow,onReturn);};Location=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[location_strategy_1.LocationStrategy])],Location);return Location;})();exports.Location=Location;function _stripBaseHref(baseHref,url){if(baseHref.length>0&&url.startsWith(baseHref)){return url.substring(baseHref.length);}
return url;}
function stripIndexHtml(url){if(/\/index.html$/g.test(url)){return url.substring(0,url.length-11);}
return url;}
function stripTrailingSlash(url){if(/\/$/g.test(url)){url=url.substring(0,url.length-1);}
return url;}
global.define=__define;return module.exports;});System.register("angular2/src/router/lifecycle/route_lifecycle_reflector",["angular2/src/facade/lang","angular2/src/router/lifecycle/lifecycle_annotations_impl","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var lifecycle_annotations_impl_1=require("angular2/src/router/lifecycle/lifecycle_annotations_impl");var reflection_1=require("angular2/src/core/reflection/reflection");function hasLifecycleHook(e,type){if(!(type instanceof lang_1.Type))
return false;return e.name in type.prototype;}
exports.hasLifecycleHook=hasLifecycleHook;function getCanActivateHook(type){var annotations=reflection_1.reflector.annotations(type);for(var i=0;i<annotations.length;i+=1){var annotation=annotations[i];if(annotation instanceof lifecycle_annotations_impl_1.CanActivate){return annotation.fn;}}
return null;}
exports.getCanActivateHook=getCanActivateHook;global.define=__define;return module.exports;});System.register("angular2/src/router/directives/router_outlet",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/core","angular2/src/router/router","angular2/src/router/instruction","angular2/src/router/lifecycle/lifecycle_annotations","angular2/src/router/lifecycle/route_lifecycle_reflector"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var routerMod=require("angular2/src/router/router");var instruction_1=require("angular2/src/router/instruction");var hookMod=require("angular2/src/router/lifecycle/lifecycle_annotations");var route_lifecycle_reflector_1=require("angular2/src/router/lifecycle/route_lifecycle_reflector");var _resolveToTrue=async_1.PromiseWrapper.resolve(true);var RouterOutlet=(function(){function RouterOutlet(_elementRef,_loader,_parentRouter,nameAttr){this._elementRef=_elementRef;this._loader=_loader;this._parentRouter=_parentRouter;this.name=null;this._componentRef=null;this._currentInstruction=null;if(lang_1.isPresent(nameAttr)){this.name=nameAttr;this._parentRouter.registerAuxOutlet(this);}else{this._parentRouter.registerPrimaryOutlet(this);}}
RouterOutlet.prototype.activate=function(nextInstruction){var _this=this;var previousInstruction=this._currentInstruction;this._currentInstruction=nextInstruction;var componentType=nextInstruction.componentType;var childRouter=this._parentRouter.childRouter(componentType);var providers=core_1.Injector.resolve([core_1.provide(instruction_1.RouteData,{useValue:nextInstruction.routeData}),core_1.provide(instruction_1.RouteParams,{useValue:new instruction_1.RouteParams(nextInstruction.params)}),core_1.provide(routerMod.Router,{useValue:childRouter})]);this._componentRef=this._loader.loadNextToLocation(componentType,this._elementRef,providers);return this._componentRef.then(function(componentRef){if(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnActivate,componentType)){return _this._componentRef.then(function(ref){return ref.instance.routerOnActivate(nextInstruction,previousInstruction);});}else{return componentRef;}});};RouterOutlet.prototype.reuse=function(nextInstruction){var previousInstruction=this._currentInstruction;this._currentInstruction=nextInstruction;if(lang_1.isBlank(this._componentRef)){return this.activate(nextInstruction);}else{return async_1.PromiseWrapper.resolve(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.then(function(ref){return ref.instance.routerOnReuse(nextInstruction,previousInstruction);}):true);}};RouterOutlet.prototype.deactivate=function(nextInstruction){var _this=this;var next=_resolveToTrue;if(lang_1.isPresent(this._componentRef)&&lang_1.isPresent(this._currentInstruction)&&route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerOnDeactivate,this._currentInstruction.componentType)){next=this._componentRef.then(function(ref){return ref.instance.routerOnDeactivate(nextInstruction,_this._currentInstruction);});}
return next.then(function(_){if(lang_1.isPresent(_this._componentRef)){var onDispose=_this._componentRef.then(function(ref){return ref.dispose();});_this._componentRef=null;return onDispose;}});};RouterOutlet.prototype.routerCanDeactivate=function(nextInstruction){var _this=this;if(lang_1.isBlank(this._currentInstruction)){return _resolveToTrue;}
if(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanDeactivate,this._currentInstruction.componentType)){return this._componentRef.then(function(ref){return ref.instance.routerCanDeactivate(nextInstruction,_this._currentInstruction);});}else{return _resolveToTrue;}};RouterOutlet.prototype.routerCanReuse=function(nextInstruction){var _this=this;var result;if(lang_1.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=nextInstruction.componentType){result=false;}else if(route_lifecycle_reflector_1.hasLifecycleHook(hookMod.routerCanReuse,this._currentInstruction.componentType)){result=this._componentRef.then(function(ref){return ref.instance.routerCanReuse(nextInstruction,_this._currentInstruction);});}else{result=nextInstruction==this._currentInstruction||(lang_1.isPresent(nextInstruction.params)&&lang_1.isPresent(this._currentInstruction.params)&&collection_1.StringMapWrapper.equals(nextInstruction.params,this._currentInstruction.params));}
return async_1.PromiseWrapper.resolve(result);};RouterOutlet.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this);};RouterOutlet=__decorate([core_1.Directive({selector:'router-outlet'}),__param(3,core_1.Attribute('name')),__metadata('design:paramtypes',[core_1.ElementRef,core_1.DynamicComponentLoader,routerMod.Router,String])],RouterOutlet);return RouterOutlet;})();exports.RouterOutlet=RouterOutlet;global.define=__define;return module.exports;});System.register("angular2/src/router/location/browser_platform_location",["angular2/core","angular2/src/router/location/platform_location","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var platform_location_1=require("angular2/src/router/location/platform_location");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var BrowserPlatformLocation=(function(_super){__extends(BrowserPlatformLocation,_super);function BrowserPlatformLocation(){_super.call(this);this._init();}
BrowserPlatformLocation.prototype._init=function(){this._location=dom_adapter_1.DOM.getLocation();this._history=dom_adapter_1.DOM.getHistory();};Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location;},enumerable:true,configurable:true});BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return dom_adapter_1.DOM.getBaseHref();};BrowserPlatformLocation.prototype.onPopState=function(fn){dom_adapter_1.DOM.getGlobalEventTarget('window').addEventListener('popstate',fn,false);};BrowserPlatformLocation.prototype.onHashChange=function(fn){dom_adapter_1.DOM.getGlobalEventTarget('window').addEventListener('hashchange',fn,false);};Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname;},set:function(newPath){this._location.pathname=newPath;},enumerable:true,configurable:true});Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search;},enumerable:true,configurable:true});Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash;},enumerable:true,configurable:true});BrowserPlatformLocation.prototype.pushState=function(state,title,url){this._history.pushState(state,title,url);};BrowserPlatformLocation.prototype.replaceState=function(state,title,url){this._history.replaceState(state,title,url);};BrowserPlatformLocation.prototype.forward=function(){this._history.forward();};BrowserPlatformLocation.prototype.back=function(){this._history.back();};BrowserPlatformLocation=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],BrowserPlatformLocation);return BrowserPlatformLocation;})(platform_location_1.PlatformLocation);exports.BrowserPlatformLocation=BrowserPlatformLocation;global.define=__define;return module.exports;});System.register("angular2/src/router/rules/rule_set",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/async","angular2/src/router/rules/rules","angular2/src/router/route_config/route_config_impl","angular2/src/router/rules/route_handlers/async_route_handler","angular2/src/router/rules/route_handlers/sync_route_handler","angular2/src/router/rules/route_paths/param_route_path","angular2/src/router/rules/route_paths/regex_route_path"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var rules_1=require("angular2/src/router/rules/rules");var route_config_impl_1=require("angular2/src/router/route_config/route_config_impl");var async_route_handler_1=require("angular2/src/router/rules/route_handlers/async_route_handler");var sync_route_handler_1=require("angular2/src/router/rules/route_handlers/sync_route_handler");var param_route_path_1=require("angular2/src/router/rules/route_paths/param_route_path");var regex_route_path_1=require("angular2/src/router/rules/route_paths/regex_route_path");var RuleSet=(function(){function RuleSet(){this.rulesByName=new collection_1.Map();this.auxRulesByName=new collection_1.Map();this.auxRulesByPath=new collection_1.Map();this.rules=[];this.defaultRule=null;}
RuleSet.prototype.config=function(config){var handler;if(lang_1.isPresent(config.name)&&config.name[0].toUpperCase()!=config.name[0]){var suggestedName=config.name[0].toUpperCase()+config.name.substring(1);throw new exceptions_1.BaseException("Route \""+config.path+"\" with name \""+config.name+"\" does not begin with an uppercase letter. Route names should be CamelCase like \""+suggestedName+"\".");}
if(config instanceof route_config_impl_1.AuxRoute){handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data);var routePath_1=this._getRoutePath(config);var auxRule=new rules_1.RouteRule(routePath_1,handler);this.auxRulesByPath.set(routePath_1.toString(),auxRule);if(lang_1.isPresent(config.name)){this.auxRulesByName.set(config.name,auxRule);}
return auxRule.terminal;}
var useAsDefault=false;if(config instanceof route_config_impl_1.Redirect){var routePath_2=this._getRoutePath(config);var redirector=new rules_1.RedirectRule(routePath_2,config.redirectTo);this._assertNoHashCollision(redirector.hash,config.path);this.rules.push(redirector);return true;}
if(config instanceof route_config_impl_1.Route){handler=new sync_route_handler_1.SyncRouteHandler(config.component,config.data);useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault;}else if(config instanceof route_config_impl_1.AsyncRoute){handler=new async_route_handler_1.AsyncRouteHandler(config.loader,config.data);useAsDefault=lang_1.isPresent(config.useAsDefault)&&config.useAsDefault;}
var routePath=this._getRoutePath(config);var newRule=new rules_1.RouteRule(routePath,handler);this._assertNoHashCollision(newRule.hash,config.path);if(useAsDefault){if(lang_1.isPresent(this.defaultRule)){throw new exceptions_1.BaseException("Only one route can be default");}
this.defaultRule=newRule;}
this.rules.push(newRule);if(lang_1.isPresent(config.name)){this.rulesByName.set(config.name,newRule);}
return newRule.terminal;};RuleSet.prototype.recognize=function(urlParse){var solutions=[];this.rules.forEach(function(routeRecognizer){var pathMatch=routeRecognizer.recognize(urlParse);if(lang_1.isPresent(pathMatch)){solutions.push(pathMatch);}});if(solutions.length==0&&lang_1.isPresent(urlParse)&&urlParse.auxiliary.length>0){return[async_1.PromiseWrapper.resolve(new rules_1.PathMatch(null,null,urlParse.auxiliary))];}
return solutions;};RuleSet.prototype.recognizeAuxiliary=function(urlParse){var routeRecognizer=this.auxRulesByPath.get(urlParse.path);if(lang_1.isPresent(routeRecognizer)){return[routeRecognizer.recognize(urlParse)];}
return[async_1.PromiseWrapper.resolve(null)];};RuleSet.prototype.hasRoute=function(name){return this.rulesByName.has(name);};RuleSet.prototype.componentLoaded=function(name){return this.hasRoute(name)&&lang_1.isPresent(this.rulesByName.get(name).handler.componentType);};RuleSet.prototype.loadComponent=function(name){return this.rulesByName.get(name).handler.resolveComponentType();};RuleSet.prototype.generate=function(name,params){var rule=this.rulesByName.get(name);if(lang_1.isBlank(rule)){return null;}
return rule.generate(params);};RuleSet.prototype.generateAuxiliary=function(name,params){var rule=this.auxRulesByName.get(name);if(lang_1.isBlank(rule)){return null;}
return rule.generate(params);};RuleSet.prototype._assertNoHashCollision=function(hash,path){this.rules.forEach(function(rule){if(hash==rule.hash){throw new exceptions_1.BaseException("Configuration '"+path+"' conflicts with existing route '"+rule.path+"'");}});};RuleSet.prototype._getRoutePath=function(config){if(lang_1.isPresent(config.regex)){if(lang_1.isFunction(config.serializer)){return new regex_route_path_1.RegexRoutePath(config.regex,config.serializer);}else{throw new exceptions_1.BaseException("Route provides a regex property, '"+config.regex+"', but no serializer property");}}
if(lang_1.isPresent(config.path)){var path=(config instanceof route_config_impl_1.AuxRoute&&config.path.startsWith('/'))?config.path.substring(1):config.path;return new param_route_path_1.ParamRoutePath(path);}
throw new exceptions_1.BaseException('Route must provide either a path or regex property');};return RuleSet;})();exports.RuleSet=RuleSet;global.define=__define;return module.exports;});System.register("angular2/src/router/router_providers",["angular2/src/router/router_providers_common","angular2/core","angular2/src/facade/lang","angular2/src/router/location/browser_platform_location","angular2/src/router/location/platform_location"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var router_providers_common_1=require("angular2/src/router/router_providers_common");var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var browser_platform_location_1=require("angular2/src/router/location/browser_platform_location");var platform_location_1=require("angular2/src/router/location/platform_location");exports.ROUTER_PROVIDERS=lang_1.CONST_EXPR([router_providers_common_1.ROUTER_PROVIDERS_COMMON,lang_1.CONST_EXPR(new core_1.Provider(platform_location_1.PlatformLocation,{useClass:browser_platform_location_1.BrowserPlatformLocation}))]);exports.ROUTER_BINDINGS=exports.ROUTER_PROVIDERS;global.define=__define;return module.exports;});System.register("angular2/src/router/route_registry",["angular2/src/facade/collection","angular2/src/facade/async","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/reflection/reflection","angular2/core","angular2/src/router/route_config/route_config_impl","angular2/src/router/rules/rules","angular2/src/router/rules/rule_set","angular2/src/router/instruction","angular2/src/router/route_config/route_config_normalizer","angular2/src/router/url_parser"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var reflection_1=require("angular2/src/core/reflection/reflection");var core_1=require("angular2/core");var route_config_impl_1=require("angular2/src/router/route_config/route_config_impl");var rules_1=require("angular2/src/router/rules/rules");var rule_set_1=require("angular2/src/router/rules/rule_set");var instruction_1=require("angular2/src/router/instruction");var route_config_normalizer_1=require("angular2/src/router/route_config/route_config_normalizer");var url_parser_1=require("angular2/src/router/url_parser");var _resolveToNull=async_1.PromiseWrapper.resolve(null);exports.ROUTER_PRIMARY_COMPONENT=lang_1.CONST_EXPR(new core_1.OpaqueToken('RouterPrimaryComponent'));var RouteRegistry=(function(){function RouteRegistry(_rootComponent){this._rootComponent=_rootComponent;this._rules=new collection_1.Map();}
RouteRegistry.prototype.config=function(parentComponent,config){config=route_config_normalizer_1.normalizeRouteConfig(config,this);if(config instanceof route_config_impl_1.Route){route_config_normalizer_1.assertComponentExists(config.component,config.path);}else if(config instanceof route_config_impl_1.AuxRoute){route_config_normalizer_1.assertComponentExists(config.component,config.path);}
var rules=this._rules.get(parentComponent);if(lang_1.isBlank(rules)){rules=new rule_set_1.RuleSet();this._rules.set(parentComponent,rules);}
var terminal=rules.config(config);if(config instanceof route_config_impl_1.Route){if(terminal){assertTerminalComponent(config.component,config.path);}else{this.configFromComponent(config.component);}}};RouteRegistry.prototype.configFromComponent=function(component){var _this=this;if(!lang_1.isType(component)){return;}
if(this._rules.has(component)){return;}
var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations)){for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig){var routeCfgs=annotation.configs;routeCfgs.forEach(function(config){return _this.config(component,config);});}}}};RouteRegistry.prototype.recognize=function(url,ancestorInstructions){var parsedUrl=url_parser_1.parser.parse(url);return this._recognize(parsedUrl,[]);};RouteRegistry.prototype._recognize=function(parsedUrl,ancestorInstructions,_aux){var _this=this;if(_aux===void 0){_aux=false;}
var parentInstruction=collection_1.ListWrapper.last(ancestorInstructions);var parentComponent=lang_1.isPresent(parentInstruction)?parentInstruction.component.componentType:this._rootComponent;var rules=this._rules.get(parentComponent);if(lang_1.isBlank(rules)){return _resolveToNull;}
var possibleMatches=_aux?rules.recognizeAuxiliary(parsedUrl):rules.recognize(parsedUrl);var matchPromises=possibleMatches.map(function(candidate){return candidate.then(function(candidate){if(candidate instanceof rules_1.PathMatch){var auxParentInstructions=ancestorInstructions.length>0?[collection_1.ListWrapper.last(ancestorInstructions)]:[];var auxInstructions=_this._auxRoutesToUnresolved(candidate.remainingAux,auxParentInstructions);var instruction=new instruction_1.ResolvedInstruction(candidate.instruction,null,auxInstructions);if(lang_1.isBlank(candidate.instruction)||candidate.instruction.terminal){return instruction;}
var newAncestorInstructions=ancestorInstructions.concat([instruction]);return _this._recognize(candidate.remaining,newAncestorInstructions).then(function(childInstruction){if(lang_1.isBlank(childInstruction)){return null;}
if(childInstruction instanceof instruction_1.RedirectInstruction){return childInstruction;}
instruction.child=childInstruction;return instruction;});}
if(candidate instanceof rules_1.RedirectMatch){var instruction=_this.generate(candidate.redirectTo,ancestorInstructions.concat([null]));return new instruction_1.RedirectInstruction(instruction.component,instruction.child,instruction.auxInstruction,candidate.specificity);}});});if((lang_1.isBlank(parsedUrl)||parsedUrl.path=='')&&possibleMatches.length==0){return async_1.PromiseWrapper.resolve(this.generateDefault(parentComponent));}
return async_1.PromiseWrapper.all(matchPromises).then(mostSpecific);};RouteRegistry.prototype._auxRoutesToUnresolved=function(auxRoutes,parentInstructions){var _this=this;var unresolvedAuxInstructions={};auxRoutes.forEach(function(auxUrl){unresolvedAuxInstructions[auxUrl.path]=new instruction_1.UnresolvedInstruction(function(){return _this._recognize(auxUrl,parentInstructions,true);});});return unresolvedAuxInstructions;};RouteRegistry.prototype.generate=function(linkParams,ancestorInstructions,_aux){if(_aux===void 0){_aux=false;}
var params=splitAndFlattenLinkParams(linkParams);var prevInstruction;if(collection_1.ListWrapper.first(params)==''){params.shift();prevInstruction=collection_1.ListWrapper.first(ancestorInstructions);ancestorInstructions=[];}else{prevInstruction=ancestorInstructions.length>0?ancestorInstructions.pop():null;if(collection_1.ListWrapper.first(params)=='.'){params.shift();}else if(collection_1.ListWrapper.first(params)=='..'){while(collection_1.ListWrapper.first(params)=='..'){if(ancestorInstructions.length<=0){throw new exceptions_1.BaseException("Link \""+collection_1.ListWrapper.toJSON(linkParams)+"\" has too many \"../\" segments.");}
prevInstruction=ancestorInstructions.pop();params=collection_1.ListWrapper.slice(params,1);}}else{var routeName=collection_1.ListWrapper.first(params);var parentComponentType=this._rootComponent;var grandparentComponentType=null;if(ancestorInstructions.length>1){var parentComponentInstruction=ancestorInstructions[ancestorInstructions.length-1];var grandComponentInstruction=ancestorInstructions[ancestorInstructions.length-2];parentComponentType=parentComponentInstruction.component.componentType;grandparentComponentType=grandComponentInstruction.component.componentType;}else if(ancestorInstructions.length==1){parentComponentType=ancestorInstructions[0].component.componentType;grandparentComponentType=this._rootComponent;}
var childRouteExists=this.hasRoute(routeName,parentComponentType);var parentRouteExists=lang_1.isPresent(grandparentComponentType)&&this.hasRoute(routeName,grandparentComponentType);if(parentRouteExists&&childRouteExists){var msg="Link \""+collection_1.ListWrapper.toJSON(linkParams)+"\" is ambiguous, use \"./\" or \"../\" to disambiguate.";throw new exceptions_1.BaseException(msg);}
if(parentRouteExists){prevInstruction=ancestorInstructions.pop();}}}
if(params[params.length-1]==''){params.pop();}
if(params.length>0&&params[0]==''){params.shift();}
if(params.length<1){var msg="Link \""+collection_1.ListWrapper.toJSON(linkParams)+"\" must include a route name.";throw new exceptions_1.BaseException(msg);}
var generatedInstruction=this._generate(params,ancestorInstructions,prevInstruction,_aux,linkParams);for(var i=ancestorInstructions.length-1;i>=0;i--){var ancestorInstruction=ancestorInstructions[i];if(lang_1.isBlank(ancestorInstruction)){break;}
generatedInstruction=ancestorInstruction.replaceChild(generatedInstruction);}
return generatedInstruction;};RouteRegistry.prototype._generate=function(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink){var _this=this;if(_aux===void 0){_aux=false;}
var parentComponentType=this._rootComponent;var componentInstruction=null;var auxInstructions={};var parentInstruction=collection_1.ListWrapper.last(ancestorInstructions);if(lang_1.isPresent(parentInstruction)&&lang_1.isPresent(parentInstruction.component)){parentComponentType=parentInstruction.component.componentType;}
if(linkParams.length==0){var defaultInstruction=this.generateDefault(parentComponentType);if(lang_1.isBlank(defaultInstruction)){throw new exceptions_1.BaseException("Link \""+collection_1.ListWrapper.toJSON(_originalLink)+"\" does not resolve to a terminal instruction.");}
return defaultInstruction;}
if(lang_1.isPresent(prevInstruction)&&!_aux){auxInstructions=collection_1.StringMapWrapper.merge(prevInstruction.auxInstruction,auxInstructions);componentInstruction=prevInstruction.component;}
var rules=this._rules.get(parentComponentType);if(lang_1.isBlank(rules)){throw new exceptions_1.BaseException("Component \""+lang_1.getTypeNameForDebugging(parentComponentType)+"\" has no route config.");}
var linkParamIndex=0;var routeParams={};if(linkParamIndex<linkParams.length&&lang_1.isString(linkParams[linkParamIndex])){var routeName=linkParams[linkParamIndex];if(routeName==''||routeName=='.'||routeName=='..'){throw new exceptions_1.BaseException("\""+routeName+"/\" is only allowed at the beginning of a link DSL.");}
linkParamIndex+=1;if(linkParamIndex<linkParams.length){var linkParam=linkParams[linkParamIndex];if(lang_1.isStringMap(linkParam)&&!lang_1.isArray(linkParam)){routeParams=linkParam;linkParamIndex+=1;}}
var routeRecognizer=(_aux?rules.auxRulesByName:rules.rulesByName).get(routeName);if(lang_1.isBlank(routeRecognizer)){throw new exceptions_1.BaseException("Component \""+lang_1.getTypeNameForDebugging(parentComponentType)+"\" has no route named \""+routeName+"\".");}
if(lang_1.isBlank(routeRecognizer.handler.componentType)){var generatedUrl=routeRecognizer.generateComponentPathValues(routeParams);return new instruction_1.UnresolvedInstruction(function(){return routeRecognizer.handler.resolveComponentType().then(function(_){return _this._generate(linkParams,ancestorInstructions,prevInstruction,_aux,_originalLink);});},generatedUrl.urlPath,url_parser_1.convertUrlParamsToArray(generatedUrl.urlParams));}
componentInstruction=_aux?rules.generateAuxiliary(routeName,routeParams):rules.generate(routeName,routeParams);}
while(linkParamIndex<linkParams.length&&lang_1.isArray(linkParams[linkParamIndex])){var auxParentInstruction=[parentInstruction];var auxInstruction=this._generate(linkParams[linkParamIndex],auxParentInstruction,null,true,_originalLink);auxInstructions[auxInstruction.component.urlPath]=auxInstruction;linkParamIndex+=1;}
var instruction=new instruction_1.ResolvedInstruction(componentInstruction,null,auxInstructions);if(lang_1.isPresent(componentInstruction)&&lang_1.isPresent(componentInstruction.componentType)){var childInstruction=null;if(componentInstruction.terminal){if(linkParamIndex>=linkParams.length){}}else{var childAncestorComponents=ancestorInstructions.concat([instruction]);var remainingLinkParams=linkParams.slice(linkParamIndex);childInstruction=this._generate(remainingLinkParams,childAncestorComponents,null,false,_originalLink);}
instruction.child=childInstruction;}
return instruction;};RouteRegistry.prototype.hasRoute=function(name,parentComponent){var rules=this._rules.get(parentComponent);if(lang_1.isBlank(rules)){return false;}
return rules.hasRoute(name);};RouteRegistry.prototype.generateDefault=function(componentCursor){var _this=this;if(lang_1.isBlank(componentCursor)){return null;}
var rules=this._rules.get(componentCursor);if(lang_1.isBlank(rules)||lang_1.isBlank(rules.defaultRule)){return null;}
var defaultChild=null;if(lang_1.isPresent(rules.defaultRule.handler.componentType)){var componentInstruction=rules.defaultRule.generate({});if(!rules.defaultRule.terminal){defaultChild=this.generateDefault(rules.defaultRule.handler.componentType);}
return new instruction_1.DefaultInstruction(componentInstruction,defaultChild);}
return new instruction_1.UnresolvedInstruction(function(){return rules.defaultRule.handler.resolveComponentType().then(function(_){return _this.generateDefault(componentCursor);});});};RouteRegistry=__decorate([core_1.Injectable(),__param(0,core_1.Inject(exports.ROUTER_PRIMARY_COMPONENT)),__metadata('design:paramtypes',[lang_1.Type])],RouteRegistry);return RouteRegistry;})();exports.RouteRegistry=RouteRegistry;function splitAndFlattenLinkParams(linkParams){var accumulation=[];linkParams.forEach(function(item){if(lang_1.isString(item)){var strItem=item;accumulation=accumulation.concat(strItem.split('/'));}else{accumulation.push(item);}});return accumulation;}
function mostSpecific(instructions){instructions=instructions.filter(function(instruction){return lang_1.isPresent(instruction);});if(instructions.length==0){return null;}
if(instructions.length==1){return instructions[0];}
var first=instructions[0];var rest=instructions.slice(1);return rest.reduce(function(instruction,contender){if(compareSpecificityStrings(contender.specificity,instruction.specificity)==-1){return contender;}
return instruction;},first);}
function compareSpecificityStrings(a,b){var l=lang_1.Math.min(a.length,b.length);for(var i=0;i<l;i+=1){var ai=lang_1.StringWrapper.charCodeAt(a,i);var bi=lang_1.StringWrapper.charCodeAt(b,i);var difference=bi-ai;if(difference!=0){return difference;}}
return a.length-b.length;}
function assertTerminalComponent(component,path){if(!lang_1.isType(component)){return;}
var annotations=reflection_1.reflector.annotations(component);if(lang_1.isPresent(annotations)){for(var i=0;i<annotations.length;i++){var annotation=annotations[i];if(annotation instanceof route_config_impl_1.RouteConfig){throw new exceptions_1.BaseException("Child routes are not allowed for \""+path+"\". Use \"...\" on the parent's route path.");}}}}
global.define=__define;return module.exports;});System.register("angular2/src/router/router",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/router/route_registry","angular2/src/router/location/location","angular2/src/router/lifecycle/route_lifecycle_reflector"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var __param=(this&&this.__param)||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var core_1=require("angular2/core");var route_registry_1=require("angular2/src/router/route_registry");var location_1=require("angular2/src/router/location/location");var route_lifecycle_reflector_1=require("angular2/src/router/lifecycle/route_lifecycle_reflector");var _resolveToTrue=async_1.PromiseWrapper.resolve(true);var _resolveToFalse=async_1.PromiseWrapper.resolve(false);var Router=(function(){function Router(registry,parent,hostComponent,root){this.registry=registry;this.parent=parent;this.hostComponent=hostComponent;this.root=root;this.navigating=false;this.currentInstruction=null;this._currentNavigation=_resolveToTrue;this._outlet=null;this._auxRouters=new collection_1.Map();this._subject=new async_1.EventEmitter();}
Router.prototype.childRouter=function(hostComponent){return this._childRouter=new ChildRouter(this,hostComponent);};Router.prototype.auxRouter=function(hostComponent){return new ChildRouter(this,hostComponent);};Router.prototype.registerPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name)){throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");}
if(lang_1.isPresent(this._outlet)){throw new exceptions_1.BaseException("Primary outlet is already registered.");}
this._outlet=outlet;if(lang_1.isPresent(this.currentInstruction)){return this.commit(this.currentInstruction,false);}
return _resolveToTrue;};Router.prototype.unregisterPrimaryOutlet=function(outlet){if(lang_1.isPresent(outlet.name)){throw new exceptions_1.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");}
this._outlet=null;};Router.prototype.registerAuxOutlet=function(outlet){var outletName=outlet.name;if(lang_1.isBlank(outletName)){throw new exceptions_1.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");}
var router=this.auxRouter(this.hostComponent);this._auxRouters.set(outletName,router);router._outlet=outlet;var auxInstruction;if(lang_1.isPresent(this.currentInstruction)&&lang_1.isPresent(auxInstruction=this.currentInstruction.auxInstruction[outletName])){return router.commit(auxInstruction);}
return _resolveToTrue;};Router.prototype.isRouteActive=function(instruction){var router=this;while(lang_1.isPresent(router.parent)&&lang_1.isPresent(instruction.child)){router=router.parent;instruction=instruction.child;}
return lang_1.isPresent(this.currentInstruction)&&this.currentInstruction.component==instruction.component;};Router.prototype.config=function(definitions){var _this=this;definitions.forEach(function(routeDefinition){_this.registry.config(_this.hostComponent,routeDefinition);});return this.renavigate();};Router.prototype.navigate=function(linkParams){var instruction=this.generate(linkParams);return this.navigateByInstruction(instruction,false);};Router.prototype.navigateByUrl=function(url,_skipLocationChange){var _this=this;if(_skipLocationChange===void 0){_skipLocationChange=false;}
return this._currentNavigation=this._currentNavigation.then(function(_){_this.lastNavigationAttempt=url;_this._startNavigating();return _this._afterPromiseFinishNavigating(_this.recognize(url).then(function(instruction){if(lang_1.isBlank(instruction)){return false;}
return _this._navigate(instruction,_skipLocationChange);}));});};Router.prototype.navigateByInstruction=function(instruction,_skipLocationChange){var _this=this;if(_skipLocationChange===void 0){_skipLocationChange=false;}
if(lang_1.isBlank(instruction)){return _resolveToFalse;}
return this._currentNavigation=this._currentNavigation.then(function(_){_this._startNavigating();return _this._afterPromiseFinishNavigating(_this._navigate(instruction,_skipLocationChange));});};Router.prototype._settleInstruction=function(instruction){var _this=this;return instruction.resolveComponent().then(function(_){var unsettledInstructions=[];if(lang_1.isPresent(instruction.component)){instruction.component.reuse=false;}
if(lang_1.isPresent(instruction.child)){unsettledInstructions.push(_this._settleInstruction(instruction.child));}
collection_1.StringMapWrapper.forEach(instruction.auxInstruction,function(instruction,_){unsettledInstructions.push(_this._settleInstruction(instruction));});return async_1.PromiseWrapper.all(unsettledInstructions);});};Router.prototype._navigate=function(instruction,_skipLocationChange){var _this=this;return this._settleInstruction(instruction).then(function(_){return _this._routerCanReuse(instruction);}).then(function(_){return _this._canActivate(instruction);}).then(function(result){if(!result){return false;}
return _this._routerCanDeactivate(instruction).then(function(result){if(result){return _this.commit(instruction,_skipLocationChange).then(function(_){_this._emitNavigationFinish(instruction.toRootUrl());return true;});}});});};Router.prototype._emitNavigationFinish=function(url){async_1.ObservableWrapper.callEmit(this._subject,url);};Router.prototype._emitNavigationFail=function(url){async_1.ObservableWrapper.callError(this._subject,url);};Router.prototype._afterPromiseFinishNavigating=function(promise){var _this=this;return async_1.PromiseWrapper.catchError(promise.then(function(_){return _this._finishNavigating();}),function(err){_this._finishNavigating();throw err;});};Router.prototype._routerCanReuse=function(instruction){var _this=this;if(lang_1.isBlank(this._outlet)){return _resolveToFalse;}
if(lang_1.isBlank(instruction.component)){return _resolveToTrue;}
return this._outlet.routerCanReuse(instruction.component).then(function(result){instruction.component.reuse=result;if(result&&lang_1.isPresent(_this._childRouter)&&lang_1.isPresent(instruction.child)){return _this._childRouter._routerCanReuse(instruction.child);}});};Router.prototype._canActivate=function(nextInstruction){return canActivateOne(nextInstruction,this.currentInstruction);};Router.prototype._routerCanDeactivate=function(instruction){var _this=this;if(lang_1.isBlank(this._outlet)){return _resolveToTrue;}
var next;var childInstruction=null;var reuse=false;var componentInstruction=null;if(lang_1.isPresent(instruction)){childInstruction=instruction.child;componentInstruction=instruction.component;reuse=lang_1.isBlank(instruction.component)||instruction.component.reuse;}
if(reuse){next=_resolveToTrue;}else{next=this._outlet.routerCanDeactivate(componentInstruction);}
return next.then(function(result){if(result==false){return false;}
if(lang_1.isPresent(_this._childRouter)){return _this._childRouter._routerCanDeactivate(childInstruction);}
return true;});};Router.prototype.commit=function(instruction,_skipLocationChange){var _this=this;if(_skipLocationChange===void 0){_skipLocationChange=false;}
this.currentInstruction=instruction;var next=_resolveToTrue;if(lang_1.isPresent(this._outlet)&&lang_1.isPresent(instruction.component)){var componentInstruction=instruction.component;if(componentInstruction.reuse){next=this._outlet.reuse(componentInstruction);}else{next=this.deactivate(instruction).then(function(_){return _this._outlet.activate(componentInstruction);});}
if(lang_1.isPresent(instruction.child)){next=next.then(function(_){if(lang_1.isPresent(_this._childRouter)){return _this._childRouter.commit(instruction.child);}});}}
var promises=[];this._auxRouters.forEach(function(router,name){if(lang_1.isPresent(instruction.auxInstruction[name])){promises.push(router.commit(instruction.auxInstruction[name]));}});return next.then(function(_){return async_1.PromiseWrapper.all(promises);});};Router.prototype._startNavigating=function(){this.navigating=true;};Router.prototype._finishNavigating=function(){this.navigating=false;};Router.prototype.subscribe=function(onNext,onError){return async_1.ObservableWrapper.subscribe(this._subject,onNext,onError);};Router.prototype.deactivate=function(instruction){var _this=this;var childInstruction=null;var componentInstruction=null;if(lang_1.isPresent(instruction)){childInstruction=instruction.child;componentInstruction=instruction.component;}
var next=_resolveToTrue;if(lang_1.isPresent(this._childRouter)){next=this._childRouter.deactivate(childInstruction);}
if(lang_1.isPresent(this._outlet)){next=next.then(function(_){return _this._outlet.deactivate(componentInstruction);});}
return next;};Router.prototype.recognize=function(url){var ancestorComponents=this._getAncestorInstructions();return this.registry.recognize(url,ancestorComponents);};Router.prototype._getAncestorInstructions=function(){var ancestorInstructions=[this.currentInstruction];var ancestorRouter=this;while(lang_1.isPresent(ancestorRouter=ancestorRouter.parent)){ancestorInstructions.unshift(ancestorRouter.currentInstruction);}
return ancestorInstructions;};Router.prototype.renavigate=function(){if(lang_1.isBlank(this.lastNavigationAttempt)){return this._currentNavigation;}
return this.navigateByUrl(this.lastNavigationAttempt);};Router.prototype.generate=function(linkParams){var ancestorInstructions=this._getAncestorInstructions();return this.registry.generate(linkParams,ancestorInstructions);};Router=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[route_registry_1.RouteRegistry,Router,Object,Router])],Router);return Router;})();exports.Router=Router;var RootRouter=(function(_super){__extends(RootRouter,_super);function RootRouter(registry,location,primaryComponent){var _this=this;_super.call(this,registry,null,primaryComponent);this.root=this;this._location=location;this._locationSub=this._location.subscribe(function(change){_this.recognize(change['url']).then(function(instruction){if(lang_1.isPresent(instruction)){_this.navigateByInstruction(instruction,lang_1.isPresent(change['pop'])).then(function(_){if(lang_1.isPresent(change['pop'])&&change['type']!='hashchange'){return;}
var emitPath=instruction.toUrlPath();var emitQuery=instruction.toUrlQuery();if(emitPath.length>0&&emitPath[0]!='/'){emitPath='/'+emitPath;}
if(change['type']=='hashchange'){if(instruction.toRootUrl()!=_this._location.path()){_this._location.replaceState(emitPath,emitQuery);}}else{_this._location.go(emitPath,emitQuery);}});}else{_this._emitNavigationFail(change['url']);}});});this.registry.configFromComponent(primaryComponent);this.navigateByUrl(location.path());}
RootRouter.prototype.commit=function(instruction,_skipLocationChange){var _this=this;if(_skipLocationChange===void 0){_skipLocationChange=false;}
var emitPath=instruction.toUrlPath();var emitQuery=instruction.toUrlQuery();if(emitPath.length>0&&emitPath[0]!='/'){emitPath='/'+emitPath;}
var promise=_super.prototype.commit.call(this,instruction);if(!_skipLocationChange){promise=promise.then(function(_){_this._location.go(emitPath,emitQuery);});}
return promise;};RootRouter.prototype.dispose=function(){if(lang_1.isPresent(this._locationSub)){async_1.ObservableWrapper.dispose(this._locationSub);this._locationSub=null;}};RootRouter=__decorate([core_1.Injectable(),__param(2,core_1.Inject(route_registry_1.ROUTER_PRIMARY_COMPONENT)),__metadata('design:paramtypes',[route_registry_1.RouteRegistry,location_1.Location,lang_1.Type])],RootRouter);return RootRouter;})(Router);exports.RootRouter=RootRouter;var ChildRouter=(function(_super){__extends(ChildRouter,_super);function ChildRouter(parent,hostComponent){_super.call(this,parent.registry,parent,hostComponent,parent.root);this.parent=parent;}
ChildRouter.prototype.navigateByUrl=function(url,_skipLocationChange){if(_skipLocationChange===void 0){_skipLocationChange=false;}
return this.parent.navigateByUrl(url,_skipLocationChange);};ChildRouter.prototype.navigateByInstruction=function(instruction,_skipLocationChange){if(_skipLocationChange===void 0){_skipLocationChange=false;}
return this.parent.navigateByInstruction(instruction,_skipLocationChange);};return ChildRouter;})(Router);function canActivateOne(nextInstruction,prevInstruction){var next=_resolveToTrue;if(lang_1.isBlank(nextInstruction.component)){return next;}
if(lang_1.isPresent(nextInstruction.child)){next=canActivateOne(nextInstruction.child,lang_1.isPresent(prevInstruction)?prevInstruction.child:null);}
return next.then(function(result){if(result==false){return false;}
if(nextInstruction.component.reuse){return true;}
var hook=route_lifecycle_reflector_1.getCanActivateHook(nextInstruction.component.componentType);if(lang_1.isPresent(hook)){return hook(nextInstruction.component,lang_1.isPresent(prevInstruction)?prevInstruction.component:null);}
return true;});}
global.define=__define;return module.exports;});System.register("angular2/router",["angular2/src/router/router","angular2/src/router/directives/router_outlet","angular2/src/router/directives/router_link","angular2/src/router/instruction","angular2/src/router/location/platform_location","angular2/src/router/route_registry","angular2/src/router/location/location_strategy","angular2/src/router/location/hash_location_strategy","angular2/src/router/location/path_location_strategy","angular2/src/router/location/location","angular2/src/router/route_config/route_config_decorator","angular2/src/router/route_definition","angular2/src/router/lifecycle/lifecycle_annotations","angular2/src/router/instruction","angular2/core","angular2/src/router/router_providers_common","angular2/src/router/router_providers","angular2/src/router/directives/router_outlet","angular2/src/router/directives/router_link","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)
if(!exports.hasOwnProperty(p))
exports[p]=m[p];}
var router_1=require("angular2/src/router/router");exports.Router=router_1.Router;var router_outlet_1=require("angular2/src/router/directives/router_outlet");exports.RouterOutlet=router_outlet_1.RouterOutlet;var router_link_1=require("angular2/src/router/directives/router_link");exports.RouterLink=router_link_1.RouterLink;var instruction_1=require("angular2/src/router/instruction");exports.RouteParams=instruction_1.RouteParams;exports.RouteData=instruction_1.RouteData;var platform_location_1=require("angular2/src/router/location/platform_location");exports.PlatformLocation=platform_location_1.PlatformLocation;var route_registry_1=require("angular2/src/router/route_registry");exports.RouteRegistry=route_registry_1.RouteRegistry;exports.ROUTER_PRIMARY_COMPONENT=route_registry_1.ROUTER_PRIMARY_COMPONENT;var location_strategy_1=require("angular2/src/router/location/location_strategy");exports.LocationStrategy=location_strategy_1.LocationStrategy;exports.APP_BASE_HREF=location_strategy_1.APP_BASE_HREF;var hash_location_strategy_1=require("angular2/src/router/location/hash_location_strategy");exports.HashLocationStrategy=hash_location_strategy_1.HashLocationStrategy;var path_location_strategy_1=require("angular2/src/router/location/path_location_strategy");exports.PathLocationStrategy=path_location_strategy_1.PathLocationStrategy;var location_1=require("angular2/src/router/location/location");exports.Location=location_1.Location;__export(require("angular2/src/router/route_config/route_config_decorator"));__export(require("angular2/src/router/route_definition"));var lifecycle_annotations_1=require("angular2/src/router/lifecycle/lifecycle_annotations");exports.CanActivate=lifecycle_annotations_1.CanActivate;var instruction_2=require("angular2/src/router/instruction");exports.Instruction=instruction_2.Instruction;exports.ComponentInstruction=instruction_2.ComponentInstruction;var core_1=require("angular2/core");exports.OpaqueToken=core_1.OpaqueToken;var router_providers_common_1=require("angular2/src/router/router_providers_common");exports.ROUTER_PROVIDERS_COMMON=router_providers_common_1.ROUTER_PROVIDERS_COMMON;var router_providers_1=require("angular2/src/router/router_providers");exports.ROUTER_PROVIDERS=router_providers_1.ROUTER_PROVIDERS;exports.ROUTER_BINDINGS=router_providers_1.ROUTER_BINDINGS;var router_outlet_2=require("angular2/src/router/directives/router_outlet");var router_link_2=require("angular2/src/router/directives/router_link");var lang_1=require("angular2/src/facade/lang");exports.ROUTER_DIRECTIVES=lang_1.CONST_EXPR([router_outlet_2.RouterOutlet,router_link_2.RouterLink]);global.define=__define;return module.exports;});"format register";System.register("angular2/src/http/interfaces",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ConnectionBackend=(function(){function ConnectionBackend(){}
return ConnectionBackend;})();exports.ConnectionBackend=ConnectionBackend;var Connection=(function(){function Connection(){}
return Connection;})();exports.Connection=Connection;global.define=__define;return module.exports;});System.register("angular2/src/http/headers",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var Headers=(function(){function Headers(headers){var _this=this;if(headers instanceof Headers){this._headersMap=headers._headersMap;return;}
this._headersMap=new collection_1.Map();if(lang_1.isBlank(headers)){return;}
collection_1.StringMapWrapper.forEach(headers,function(v,k){_this._headersMap.set(k,collection_1.isListLikeIterable(v)?v:[v]);});}
Headers.fromResponseHeaderString=function(headersString){return headersString.trim().split('\n').map(function(val){return val.split(':');}).map(function(_a){var key=_a[0],parts=_a.slice(1);return([key.trim(),parts.join(':').trim()]);}).reduce(function(headers,_a){var key=_a[0],value=_a[1];return!headers.set(key,value)&&headers;},new Headers());};Headers.prototype.append=function(name,value){var mapName=this._headersMap.get(name);var list=collection_1.isListLikeIterable(mapName)?mapName:[];list.push(value);this._headersMap.set(name,list);};Headers.prototype.delete=function(name){this._headersMap.delete(name);};Headers.prototype.forEach=function(fn){this._headersMap.forEach(fn);};Headers.prototype.get=function(header){return collection_1.ListWrapper.first(this._headersMap.get(header));};Headers.prototype.has=function(header){return this._headersMap.has(header);};Headers.prototype.keys=function(){return collection_1.MapWrapper.keys(this._headersMap);};Headers.prototype.set=function(header,value){var list=[];if(collection_1.isListLikeIterable(value)){var pushValue=value.join(',');list.push(pushValue);}else{list.push(value);}
this._headersMap.set(header,list);};Headers.prototype.values=function(){return collection_1.MapWrapper.values(this._headersMap);};Headers.prototype.toJSON=function(){var serializableHeaders={};this._headersMap.forEach(function(values,name){var list=[];collection_1.iterateListLike(values,function(val){return list=collection_1.ListWrapper.concat(list,val.split(','));});serializableHeaders[name]=list;});return serializableHeaders;};Headers.prototype.getAll=function(header){var headers=this._headersMap.get(header);return collection_1.isListLikeIterable(headers)?headers:[];};Headers.prototype.entries=function(){throw new exceptions_1.BaseException('"entries" method is not implemented on Headers class');};return Headers;})();exports.Headers=Headers;global.define=__define;return module.exports;});System.register("angular2/src/http/enums",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(RequestMethod){RequestMethod[RequestMethod["Get"]=0]="Get";RequestMethod[RequestMethod["Post"]=1]="Post";RequestMethod[RequestMethod["Put"]=2]="Put";RequestMethod[RequestMethod["Delete"]=3]="Delete";RequestMethod[RequestMethod["Options"]=4]="Options";RequestMethod[RequestMethod["Head"]=5]="Head";RequestMethod[RequestMethod["Patch"]=6]="Patch";})(exports.RequestMethod||(exports.RequestMethod={}));var RequestMethod=exports.RequestMethod;(function(ReadyState){ReadyState[ReadyState["Unsent"]=0]="Unsent";ReadyState[ReadyState["Open"]=1]="Open";ReadyState[ReadyState["HeadersReceived"]=2]="HeadersReceived";ReadyState[ReadyState["Loading"]=3]="Loading";ReadyState[ReadyState["Done"]=4]="Done";ReadyState[ReadyState["Cancelled"]=5]="Cancelled";})(exports.ReadyState||(exports.ReadyState={}));var ReadyState=exports.ReadyState;(function(ResponseType){ResponseType[ResponseType["Basic"]=0]="Basic";ResponseType[ResponseType["Cors"]=1]="Cors";ResponseType[ResponseType["Default"]=2]="Default";ResponseType[ResponseType["Error"]=3]="Error";ResponseType[ResponseType["Opaque"]=4]="Opaque";})(exports.ResponseType||(exports.ResponseType={}));var ResponseType=exports.ResponseType;global.define=__define;return module.exports;});System.register("angular2/src/http/url_search_params",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");function paramParser(rawParams){if(rawParams===void 0){rawParams='';}
var map=new collection_1.Map();if(rawParams.length>0){var params=rawParams.split('&');params.forEach(function(param){var split=param.split('=');var key=split[0];var val=split[1];var list=lang_1.isPresent(map.get(key))?map.get(key):[];list.push(val);map.set(key,list);});}
return map;}
var URLSearchParams=(function(){function URLSearchParams(rawParams){if(rawParams===void 0){rawParams='';}
this.rawParams=rawParams;this.paramsMap=paramParser(rawParams);}
URLSearchParams.prototype.clone=function(){var clone=new URLSearchParams();clone.appendAll(this);return clone;};URLSearchParams.prototype.has=function(param){return this.paramsMap.has(param);};URLSearchParams.prototype.get=function(param){var storedParam=this.paramsMap.get(param);if(collection_1.isListLikeIterable(storedParam)){return collection_1.ListWrapper.first(storedParam);}else{return null;}};URLSearchParams.prototype.getAll=function(param){var mapParam=this.paramsMap.get(param);return lang_1.isPresent(mapParam)?mapParam:[];};URLSearchParams.prototype.set=function(param,val){var mapParam=this.paramsMap.get(param);var list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);list.push(val);this.paramsMap.set(param,list);};URLSearchParams.prototype.setAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param);var list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);list.push(value[0]);_this.paramsMap.set(param,list);});};URLSearchParams.prototype.append=function(param,val){var mapParam=this.paramsMap.get(param);var list=lang_1.isPresent(mapParam)?mapParam:[];list.push(val);this.paramsMap.set(param,list);};URLSearchParams.prototype.appendAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param);var list=lang_1.isPresent(mapParam)?mapParam:[];for(var i=0;i<value.length;++i){list.push(value[i]);}
_this.paramsMap.set(param,list);});};URLSearchParams.prototype.replaceAll=function(searchParams){var _this=this;searchParams.paramsMap.forEach(function(value,param){var mapParam=_this.paramsMap.get(param);var list=lang_1.isPresent(mapParam)?mapParam:[];collection_1.ListWrapper.clear(list);for(var i=0;i<value.length;++i){list.push(value[i]);}
_this.paramsMap.set(param,list);});};URLSearchParams.prototype.toString=function(){var paramsList=[];this.paramsMap.forEach(function(values,k){values.forEach(function(v){return paramsList.push(k+'='+v);});});return paramsList.join('&');};URLSearchParams.prototype.delete=function(param){this.paramsMap.delete(param);};return URLSearchParams;})();exports.URLSearchParams=URLSearchParams;global.define=__define;return module.exports;});System.register("angular2/src/http/static_response",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/http/http_utils"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var http_utils_1=require("angular2/src/http/http_utils");var Response=(function(){function Response(responseOptions){this._body=responseOptions.body;this.status=responseOptions.status;this.statusText=responseOptions.statusText;this.headers=responseOptions.headers;this.type=responseOptions.type;this.url=responseOptions.url;}
Response.prototype.blob=function(){throw new exceptions_1.BaseException('"blob()" method not implemented on Response superclass');};Response.prototype.json=function(){var jsonResponse;if(http_utils_1.isJsObject(this._body)){jsonResponse=this._body;}else if(lang_1.isString(this._body)){jsonResponse=lang_1.Json.parse(this._body);}
return jsonResponse;};Response.prototype.text=function(){return this._body.toString();};Response.prototype.arrayBuffer=function(){throw new exceptions_1.BaseException('"arrayBuffer()" method not implemented on Response superclass');};return Response;})();exports.Response=Response;global.define=__define;return module.exports;});System.register("angular2/src/http/base_response_options",["angular2/core","angular2/src/facade/lang","angular2/src/http/headers","angular2/src/http/enums"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var headers_1=require("angular2/src/http/headers");var enums_1=require("angular2/src/http/enums");var ResponseOptions=(function(){function ResponseOptions(_a){var _b=_a===void 0?{}:_a,body=_b.body,status=_b.status,headers=_b.headers,statusText=_b.statusText,type=_b.type,url=_b.url;this.body=lang_1.isPresent(body)?body:null;this.status=lang_1.isPresent(status)?status:null;this.headers=lang_1.isPresent(headers)?headers:null;this.statusText=lang_1.isPresent(statusText)?statusText:null;this.type=lang_1.isPresent(type)?type:null;this.url=lang_1.isPresent(url)?url:null;}
ResponseOptions.prototype.merge=function(options){return new ResponseOptions({body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,status:lang_1.isPresent(options)&&lang_1.isPresent(options.status)?options.status:this.status,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,statusText:lang_1.isPresent(options)&&lang_1.isPresent(options.statusText)?options.statusText:this.statusText,type:lang_1.isPresent(options)&&lang_1.isPresent(options.type)?options.type:this.type,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url});};return ResponseOptions;})();exports.ResponseOptions=ResponseOptions;var BaseResponseOptions=(function(_super){__extends(BaseResponseOptions,_super);function BaseResponseOptions(){_super.call(this,{status:200,statusText:'Ok',type:enums_1.ResponseType.Default,headers:new headers_1.Headers()});}
BaseResponseOptions=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],BaseResponseOptions);return BaseResponseOptions;})(ResponseOptions);exports.BaseResponseOptions=BaseResponseOptions;global.define=__define;return module.exports;});System.register("angular2/src/http/backends/browser_xhr",["angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var BrowserXhr=(function(){function BrowserXhr(){}
BrowserXhr.prototype.build=function(){return(new XMLHttpRequest());};BrowserXhr=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],BrowserXhr);return BrowserXhr;})();exports.BrowserXhr=BrowserXhr;global.define=__define;return module.exports;});System.register("angular2/src/http/backends/browser_jsonp",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var _nextRequestId=0;exports.JSONP_HOME='__ng_jsonp__';var _jsonpConnections=null;function _getJsonpConnections(){if(_jsonpConnections===null){_jsonpConnections=lang_1.global[exports.JSONP_HOME]={};}
return _jsonpConnections;}
var BrowserJsonp=(function(){function BrowserJsonp(){}
BrowserJsonp.prototype.build=function(url){var node=document.createElement('script');node.src=url;return node;};BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++;};BrowserJsonp.prototype.requestCallback=function(id){return exports.JSONP_HOME+"."+id+".finished";};BrowserJsonp.prototype.exposeConnection=function(id,connection){var connections=_getJsonpConnections();connections[id]=connection;};BrowserJsonp.prototype.removeConnection=function(id){var connections=_getJsonpConnections();connections[id]=null;};BrowserJsonp.prototype.send=function(node){document.body.appendChild((node));};BrowserJsonp.prototype.cleanup=function(node){if(node.parentNode){node.parentNode.removeChild((node));}};BrowserJsonp=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],BrowserJsonp);return BrowserJsonp;})();exports.BrowserJsonp=BrowserJsonp;global.define=__define;return module.exports;});System.register("angular2/src/http/http_utils",["angular2/src/facade/lang","angular2/src/http/enums","angular2/src/facade/exceptions","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var enums_1=require("angular2/src/http/enums");var exceptions_1=require("angular2/src/facade/exceptions");function normalizeMethodName(method){if(lang_1.isString(method)){var originalMethod=method;method=method.replace(/(\w)(\w*)/g,function(g0,g1,g2){return g1.toUpperCase()+g2.toLowerCase();});method=enums_1.RequestMethod[method];if(typeof method!=='number')
throw exceptions_1.makeTypeError("Invalid request method. The method \""+originalMethod+"\" is not supported.");}
return method;}
exports.normalizeMethodName=normalizeMethodName;exports.isSuccess=function(status){return(status>=200&&status<300);};function getResponseURL(xhr){if('responseURL'in xhr){return xhr.responseURL;}
if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){return xhr.getResponseHeader('X-Request-URL');}
return;}
exports.getResponseURL=getResponseURL;var lang_2=require("angular2/src/facade/lang");exports.isJsObject=lang_2.isJsObject;global.define=__define;return module.exports;});System.register("angular2/src/http/base_request_options",["angular2/src/facade/lang","angular2/src/http/headers","angular2/src/http/enums","angular2/core","angular2/src/http/url_search_params","angular2/src/http/http_utils"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var headers_1=require("angular2/src/http/headers");var enums_1=require("angular2/src/http/enums");var core_1=require("angular2/core");var url_search_params_1=require("angular2/src/http/url_search_params");var http_utils_1=require("angular2/src/http/http_utils");var RequestOptions=(function(){function RequestOptions(_a){var _b=_a===void 0?{}:_a,method=_b.method,headers=_b.headers,body=_b.body,url=_b.url,search=_b.search;this.method=lang_1.isPresent(method)?http_utils_1.normalizeMethodName(method):null;this.headers=lang_1.isPresent(headers)?headers:null;this.body=lang_1.isPresent(body)?body:null;this.url=lang_1.isPresent(url)?url:null;this.search=lang_1.isPresent(search)?(lang_1.isString(search)?new url_search_params_1.URLSearchParams((search)):(search)):null;}
RequestOptions.prototype.merge=function(options){return new RequestOptions({method:lang_1.isPresent(options)&&lang_1.isPresent(options.method)?options.method:this.method,headers:lang_1.isPresent(options)&&lang_1.isPresent(options.headers)?options.headers:this.headers,body:lang_1.isPresent(options)&&lang_1.isPresent(options.body)?options.body:this.body,url:lang_1.isPresent(options)&&lang_1.isPresent(options.url)?options.url:this.url,search:lang_1.isPresent(options)&&lang_1.isPresent(options.search)?(lang_1.isString(options.search)?new url_search_params_1.URLSearchParams((options.search)):(options.search).clone()):this.search});};return RequestOptions;})();exports.RequestOptions=RequestOptions;var BaseRequestOptions=(function(_super){__extends(BaseRequestOptions,_super);function BaseRequestOptions(){_super.call(this,{method:enums_1.RequestMethod.Get,headers:new headers_1.Headers()});}
BaseRequestOptions=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[])],BaseRequestOptions);return BaseRequestOptions;})(RequestOptions);exports.BaseRequestOptions=BaseRequestOptions;global.define=__define;return module.exports;});System.register("angular2/src/http/backends/xhr_backend",["angular2/src/http/enums","angular2/src/http/static_response","angular2/src/http/headers","angular2/src/http/base_response_options","angular2/core","angular2/src/http/backends/browser_xhr","angular2/src/facade/lang","rxjs/Observable","angular2/src/http/http_utils"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var enums_1=require("angular2/src/http/enums");var static_response_1=require("angular2/src/http/static_response");var headers_1=require("angular2/src/http/headers");var base_response_options_1=require("angular2/src/http/base_response_options");var core_1=require("angular2/core");var browser_xhr_1=require("angular2/src/http/backends/browser_xhr");var lang_1=require("angular2/src/facade/lang");var Observable_1=require("rxjs/Observable");var http_utils_1=require("angular2/src/http/http_utils");var XHRConnection=(function(){function XHRConnection(req,browserXHR,baseResponseOptions){var _this=this;this.request=req;this.response=new Observable_1.Observable(function(responseObserver){var _xhr=browserXHR.build();_xhr.open(enums_1.RequestMethod[req.method].toUpperCase(),req.url);var onLoad=function(){var body=lang_1.isPresent(_xhr.response)?_xhr.response:_xhr.responseText;var headers=headers_1.Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders());var url=http_utils_1.getResponseURL(_xhr);var status=_xhr.status===1223?204:_xhr.status;if(status===0){status=body?200:0;}
var responseOptions=new base_response_options_1.ResponseOptions({body:body,status:status,headers:headers,url:url});if(lang_1.isPresent(baseResponseOptions)){responseOptions=baseResponseOptions.merge(responseOptions);}
var response=new static_response_1.Response(responseOptions);if(http_utils_1.isSuccess(status)){responseObserver.next(response);responseObserver.complete();return;}
responseObserver.error(response);};var onError=function(err){var responseOptions=new base_response_options_1.ResponseOptions({body:err,type:enums_1.ResponseType.Error});if(lang_1.isPresent(baseResponseOptions)){responseOptions=baseResponseOptions.merge(responseOptions);}
responseObserver.error(new static_response_1.Response(responseOptions));};if(lang_1.isPresent(req.headers)){req.headers.forEach(function(values,name){return _xhr.setRequestHeader(name,values.join(','));});}
_xhr.addEventListener('load',onLoad);_xhr.addEventListener('error',onError);_xhr.send(_this.request.text());return function(){_xhr.removeEventListener('load',onLoad);_xhr.removeEventListener('error',onError);_xhr.abort();};});}
return XHRConnection;})();exports.XHRConnection=XHRConnection;var XHRBackend=(function(){function XHRBackend(_browserXHR,_baseResponseOptions){this._browserXHR=_browserXHR;this._baseResponseOptions=_baseResponseOptions;}
XHRBackend.prototype.createConnection=function(request){return new XHRConnection(request,this._browserXHR,this._baseResponseOptions);};XHRBackend=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[browser_xhr_1.BrowserXhr,base_response_options_1.ResponseOptions])],XHRBackend);return XHRBackend;})();exports.XHRBackend=XHRBackend;global.define=__define;return module.exports;});System.register("angular2/src/http/backends/jsonp_backend",["angular2/src/http/interfaces","angular2/src/http/enums","angular2/src/http/static_response","angular2/src/http/base_response_options","angular2/core","angular2/src/http/backends/browser_jsonp","angular2/src/facade/exceptions","angular2/src/facade/lang","rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var interfaces_1=require("angular2/src/http/interfaces");var enums_1=require("angular2/src/http/enums");var static_response_1=require("angular2/src/http/static_response");var base_response_options_1=require("angular2/src/http/base_response_options");var core_1=require("angular2/core");var browser_jsonp_1=require("angular2/src/http/backends/browser_jsonp");var exceptions_1=require("angular2/src/facade/exceptions");var lang_1=require("angular2/src/facade/lang");var Observable_1=require("rxjs/Observable");var JSONP_ERR_NO_CALLBACK='JSONP injected script did not invoke callback.';var JSONP_ERR_WRONG_METHOD='JSONP requests must use GET request method.';var JSONPConnection=(function(){function JSONPConnection(){}
return JSONPConnection;})();exports.JSONPConnection=JSONPConnection;var JSONPConnection_=(function(_super){__extends(JSONPConnection_,_super);function JSONPConnection_(req,_dom,baseResponseOptions){var _this=this;_super.call(this);this._dom=_dom;this.baseResponseOptions=baseResponseOptions;this._finished=false;if(req.method!==enums_1.RequestMethod.Get){throw exceptions_1.makeTypeError(JSONP_ERR_WRONG_METHOD);}
this.request=req;this.response=new Observable_1.Observable(function(responseObserver){_this.readyState=enums_1.ReadyState.Loading;var id=_this._id=_dom.nextRequestID();_dom.exposeConnection(id,_this);var callback=_dom.requestCallback(_this._id);var url=req.url;if(url.indexOf('=JSONP_CALLBACK&')>-1){url=lang_1.StringWrapper.replace(url,'=JSONP_CALLBACK&',"="+callback+"&");}else if(url.lastIndexOf('=JSONP_CALLBACK')===url.length-'=JSONP_CALLBACK'.length){url=url.substring(0,url.length-'=JSONP_CALLBACK'.length)+("="+callback);}
var script=_this._script=_dom.build(url);var onLoad=function(event){if(_this.readyState===enums_1.ReadyState.Cancelled)
return;_this.readyState=enums_1.ReadyState.Done;_dom.cleanup(script);if(!_this._finished){var responseOptions_1=new base_response_options_1.ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:enums_1.ResponseType.Error,url:url});if(lang_1.isPresent(baseResponseOptions)){responseOptions_1=baseResponseOptions.merge(responseOptions_1);}
responseObserver.error(new static_response_1.Response(responseOptions_1));return;}
var responseOptions=new base_response_options_1.ResponseOptions({body:_this._responseData,url:url});if(lang_1.isPresent(_this.baseResponseOptions)){responseOptions=_this.baseResponseOptions.merge(responseOptions);}
responseObserver.next(new static_response_1.Response(responseOptions));responseObserver.complete();};var onError=function(error){if(_this.readyState===enums_1.ReadyState.Cancelled)
return;_this.readyState=enums_1.ReadyState.Done;_dom.cleanup(script);var responseOptions=new base_response_options_1.ResponseOptions({body:error.message,type:enums_1.ResponseType.Error});if(lang_1.isPresent(baseResponseOptions)){responseOptions=baseResponseOptions.merge(responseOptions);}
responseObserver.error(new static_response_1.Response(responseOptions));};script.addEventListener('load',onLoad);script.addEventListener('error',onError);_dom.send(script);return function(){_this.readyState=enums_1.ReadyState.Cancelled;script.removeEventListener('load',onLoad);script.removeEventListener('error',onError);if(lang_1.isPresent(script)){_this._dom.cleanup(script);}};});}
JSONPConnection_.prototype.finished=function(data){this._finished=true;this._dom.removeConnection(this._id);if(this.readyState===enums_1.ReadyState.Cancelled)
return;this._responseData=data;};return JSONPConnection_;})(JSONPConnection);exports.JSONPConnection_=JSONPConnection_;var JSONPBackend=(function(_super){__extends(JSONPBackend,_super);function JSONPBackend(){_super.apply(this,arguments);}
return JSONPBackend;})(interfaces_1.ConnectionBackend);exports.JSONPBackend=JSONPBackend;var JSONPBackend_=(function(_super){__extends(JSONPBackend_,_super);function JSONPBackend_(_browserJSONP,_baseResponseOptions){_super.call(this);this._browserJSONP=_browserJSONP;this._baseResponseOptions=_baseResponseOptions;}
JSONPBackend_.prototype.createConnection=function(request){return new JSONPConnection_(request,this._browserJSONP,this._baseResponseOptions);};JSONPBackend_=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[browser_jsonp_1.BrowserJsonp,base_response_options_1.ResponseOptions])],JSONPBackend_);return JSONPBackend_;})(JSONPBackend);exports.JSONPBackend_=JSONPBackend_;global.define=__define;return module.exports;});System.register("angular2/src/http/static_request",["angular2/src/http/headers","angular2/src/http/http_utils","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var headers_1=require("angular2/src/http/headers");var http_utils_1=require("angular2/src/http/http_utils");var lang_1=require("angular2/src/facade/lang");var Request=(function(){function Request(requestOptions){var url=requestOptions.url;this.url=requestOptions.url;if(lang_1.isPresent(requestOptions.search)){var search=requestOptions.search.toString();if(search.length>0){var prefix='?';if(lang_1.StringWrapper.contains(this.url,'?')){prefix=(this.url[this.url.length-1]=='&')?'':'&';}
this.url=url+prefix+search;}}
this._body=requestOptions.body;this.method=http_utils_1.normalizeMethodName(requestOptions.method);this.headers=new headers_1.Headers(requestOptions.headers);}
Request.prototype.text=function(){return lang_1.isPresent(this._body)?this._body.toString():'';};return Request;})();exports.Request=Request;global.define=__define;return module.exports;});System.register("angular2/src/http/http",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/http/interfaces","angular2/src/http/static_request","angular2/src/http/base_request_options","angular2/src/http/enums"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=(this&&this.__extends)||function(d,b){for(var p in b)
if(b.hasOwnProperty(p))
d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};var __decorate=(this&&this.__decorate)||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")
r=Reflect.decorate(decorators,target,key,desc);else
for(var i=decorators.length-1;i>=0;i--)
if(d=decorators[i])
r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;};var __metadata=(this&&this.__metadata)||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")
return Reflect.metadata(k,v);};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var core_1=require("angular2/core");var interfaces_1=require("angular2/src/http/interfaces");var static_request_1=require("angular2/src/http/static_request");var base_request_options_1=require("angular2/src/http/base_request_options");var enums_1=require("angular2/src/http/enums");function httpRequest(backend,request){return backend.createConnection(request).response;}
function mergeOptions(defaultOpts,providedOpts,method,url){var newOptions=defaultOpts;if(lang_1.isPresent(providedOpts)){return newOptions.merge(new base_request_options_1.RequestOptions({method:providedOpts.method||method,url:providedOpts.url||url,search:providedOpts.search,headers:providedOpts.headers,body:providedOpts.body}));}
if(lang_1.isPresent(method)){return newOptions.merge(new base_request_options_1.RequestOptions({method:method,url:url}));}else{return newOptions.merge(new base_request_options_1.RequestOptions({url:url}));}}
var Http=(function(){function Http(_backend,_defaultOptions){this._backend=_backend;this._defaultOptions=_defaultOptions;}
Http.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url)){responseObservable=httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)));}else if(url instanceof static_request_1.Request){responseObservable=httpRequest(this._backend,url);}else{throw exceptions_1.makeTypeError('First argument must be a url string or Request instance.');}
return responseObservable;};Http.prototype.get=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url)));};Http.prototype.post=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Post,url)));};Http.prototype.put=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Put,url)));};Http.prototype.delete=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Delete,url)));};Http.prototype.patch=function(url,body,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:body})),options,enums_1.RequestMethod.Patch,url)));};Http.prototype.head=function(url,options){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Head,url)));};Http=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Http);return Http;})();exports.Http=Http;var Jsonp=(function(_super){__extends(Jsonp,_super);function Jsonp(backend,defaultOptions){_super.call(this,backend,defaultOptions);}
Jsonp.prototype.request=function(url,options){var responseObservable;if(lang_1.isString(url)){url=new static_request_1.Request(mergeOptions(this._defaultOptions,options,enums_1.RequestMethod.Get,url));}
if(url instanceof static_request_1.Request){if(url.method!==enums_1.RequestMethod.Get){exceptions_1.makeTypeError('JSONP requests must use GET request method.');}
responseObservable=httpRequest(this._backend,url);}else{throw exceptions_1.makeTypeError('First argument must be a url string or Request instance.');}
return responseObservable;};Jsonp=__decorate([core_1.Injectable(),__metadata('design:paramtypes',[interfaces_1.ConnectionBackend,base_request_options_1.RequestOptions])],Jsonp);return Jsonp;})(Http);exports.Jsonp=Jsonp;global.define=__define;return module.exports;});System.register("angular2/http",["angular2/core","angular2/src/http/http","angular2/src/http/backends/xhr_backend","angular2/src/http/backends/jsonp_backend","angular2/src/http/backends/browser_xhr","angular2/src/http/backends/browser_jsonp","angular2/src/http/base_request_options","angular2/src/http/base_response_options","angular2/src/http/static_request","angular2/src/http/static_response","angular2/src/http/interfaces","angular2/src/http/backends/browser_xhr","angular2/src/http/base_request_options","angular2/src/http/base_response_options","angular2/src/http/backends/xhr_backend","angular2/src/http/backends/jsonp_backend","angular2/src/http/http","angular2/src/http/headers","angular2/src/http/enums","angular2/src/http/url_search_params"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var core_1=require("angular2/core");var http_1=require("angular2/src/http/http");var xhr_backend_1=require("angular2/src/http/backends/xhr_backend");var jsonp_backend_1=require("angular2/src/http/backends/jsonp_backend");var browser_xhr_1=require("angular2/src/http/backends/browser_xhr");var browser_jsonp_1=require("angular2/src/http/backends/browser_jsonp");var base_request_options_1=require("angular2/src/http/base_request_options");var base_response_options_1=require("angular2/src/http/base_response_options");var static_request_1=require("angular2/src/http/static_request");exports.Request=static_request_1.Request;var static_response_1=require("angular2/src/http/static_response");exports.Response=static_response_1.Response;var interfaces_1=require("angular2/src/http/interfaces");exports.Connection=interfaces_1.Connection;exports.ConnectionBackend=interfaces_1.ConnectionBackend;var browser_xhr_2=require("angular2/src/http/backends/browser_xhr");exports.BrowserXhr=browser_xhr_2.BrowserXhr;var base_request_options_2=require("angular2/src/http/base_request_options");exports.BaseRequestOptions=base_request_options_2.BaseRequestOptions;exports.RequestOptions=base_request_options_2.RequestOptions;var base_response_options_2=require("angular2/src/http/base_response_options");exports.BaseResponseOptions=base_response_options_2.BaseResponseOptions;exports.ResponseOptions=base_response_options_2.ResponseOptions;var xhr_backend_2=require("angular2/src/http/backends/xhr_backend");exports.XHRBackend=xhr_backend_2.XHRBackend;exports.XHRConnection=xhr_backend_2.XHRConnection;var jsonp_backend_2=require("angular2/src/http/backends/jsonp_backend");exports.JSONPBackend=jsonp_backend_2.JSONPBackend;exports.JSONPConnection=jsonp_backend_2.JSONPConnection;var http_2=require("angular2/src/http/http");exports.Http=http_2.Http;exports.Jsonp=http_2.Jsonp;var headers_1=require("angular2/src/http/headers");exports.Headers=headers_1.Headers;var enums_1=require("angular2/src/http/enums");exports.ResponseType=enums_1.ResponseType;exports.ReadyState=enums_1.ReadyState;exports.RequestMethod=enums_1.RequestMethod;var url_search_params_1=require("angular2/src/http/url_search_params");exports.URLSearchParams=url_search_params_1.URLSearchParams;exports.HTTP_PROVIDERS=[core_1.provide(http_1.Http,{useFactory:function(xhrBackend,requestOptions){return new http_1.Http(xhrBackend,requestOptions);},deps:[xhr_backend_1.XHRBackend,base_request_options_1.RequestOptions]}),browser_xhr_1.BrowserXhr,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),xhr_backend_1.XHRBackend];exports.HTTP_BINDINGS=exports.HTTP_PROVIDERS;exports.JSONP_PROVIDERS=[core_1.provide(http_1.Jsonp,{useFactory:function(jsonpBackend,requestOptions){return new http_1.Jsonp(jsonpBackend,requestOptions);},deps:[jsonp_backend_1.JSONPBackend,base_request_options_1.RequestOptions]}),browser_jsonp_1.BrowserJsonp,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),core_1.provide(jsonp_backend_1.JSONPBackend,{useClass:jsonp_backend_1.JSONPBackend_})];exports.JSON_BINDINGS=exports.JSONP_PROVIDERS;global.define=__define;return module.exports;});/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Reflect;(function(Reflect){"use strict";var functionPrototype=Object.getPrototypeOf(Function);var _Map=typeof Map==="function"?Map:CreateMapPolyfill();var _Set=typeof Set==="function"?Set:CreateSetPolyfill();var _WeakMap=typeof WeakMap==="function"?WeakMap:CreateWeakMapPolyfill();var __Metadata__=new _WeakMap();function decorate(decorators,target,targetKey,targetDescriptor){if(!IsUndefined(targetDescriptor)){if(!IsArray(decorators)){throw new TypeError();}
else if(!IsObject(target)){throw new TypeError();}
else if(IsUndefined(targetKey)){throw new TypeError();}
else if(!IsObject(targetDescriptor)){throw new TypeError();}
targetKey=ToPropertyKey(targetKey);return DecoratePropertyWithDescriptor(decorators,target,targetKey,targetDescriptor);}
else if(!IsUndefined(targetKey)){if(!IsArray(decorators)){throw new TypeError();}
else if(!IsObject(target)){throw new TypeError();}
targetKey=ToPropertyKey(targetKey);return DecoratePropertyWithoutDescriptor(decorators,target,targetKey);}
else{if(!IsArray(decorators)){throw new TypeError();}
else if(!IsConstructor(target)){throw new TypeError();}
return DecorateConstructor(decorators,target);}}
Reflect.decorate=decorate;function metadata(metadataKey,metadataValue){function decorator(target,targetKey){if(!IsUndefined(targetKey)){if(!IsObject(target)){throw new TypeError();}
targetKey=ToPropertyKey(targetKey);OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey);}
else{if(!IsConstructor(target)){throw new TypeError();}
OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,undefined);}}
return decorator;}
Reflect.metadata=metadata;function defineMetadata(metadataKey,metadataValue,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey);}
Reflect.defineMetadata=defineMetadata;function hasMetadata(metadataKey,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryHasMetadata(metadataKey,target,targetKey);}
Reflect.hasMetadata=hasMetadata;function hasOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryHasOwnMetadata(metadataKey,target,targetKey);}
Reflect.hasOwnMetadata=hasOwnMetadata;function getMetadata(metadataKey,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryGetMetadata(metadataKey,target,targetKey);}
Reflect.getMetadata=getMetadata;function getOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryGetOwnMetadata(metadataKey,target,targetKey);}
Reflect.getOwnMetadata=getOwnMetadata;function getMetadataKeys(target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryMetadataKeys(target,targetKey);}
Reflect.getMetadataKeys=getMetadataKeys;function getOwnMetadataKeys(target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
return OrdinaryOwnMetadataKeys(target,targetKey);}
Reflect.getOwnMetadataKeys=getOwnMetadataKeys;function deleteMetadata(metadataKey,target,targetKey){if(!IsObject(target)){throw new TypeError();}
else if(!IsUndefined(targetKey)){targetKey=ToPropertyKey(targetKey);}
var metadataMap=GetOrCreateMetadataMap(target,targetKey,false);if(IsUndefined(metadataMap)){return false;}
if(!metadataMap.delete(metadataKey)){return false;}
if(metadataMap.size>0){return true;}
var targetMetadata=__Metadata__.get(target);targetMetadata.delete(targetKey);if(targetMetadata.size>0){return true;}
__Metadata__.delete(target);return true;}
Reflect.deleteMetadata=deleteMetadata;function DecorateConstructor(decorators,target){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i];var decorated=decorator(target);if(!IsUndefined(decorated)){if(!IsConstructor(decorated)){throw new TypeError();}
target=decorated;}}
return target;}
function DecoratePropertyWithDescriptor(decorators,target,propertyKey,descriptor){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i];var decorated=decorator(target,propertyKey,descriptor);if(!IsUndefined(decorated)){if(!IsObject(decorated)){throw new TypeError();}
descriptor=decorated;}}
return descriptor;}
function DecoratePropertyWithoutDescriptor(decorators,target,propertyKey){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i];decorator(target,propertyKey);}}
function GetOrCreateMetadataMap(target,targetKey,create){var targetMetadata=__Metadata__.get(target);if(!targetMetadata){if(!create){return undefined;}
targetMetadata=new _Map();__Metadata__.set(target,targetMetadata);}
var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create){return undefined;}
keyMetadata=new _Map();targetMetadata.set(targetKey,keyMetadata);}
return keyMetadata;}
function OrdinaryHasMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn){return true;}
var parent=GetPrototypeOf(O);if(parent!==null){return OrdinaryHasMetadata(MetadataKey,parent,P);}
return false;}
function OrdinaryHasOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,false);if(metadataMap===undefined){return false;}
return Boolean(metadataMap.has(MetadataKey));}
function OrdinaryGetMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn){return OrdinaryGetOwnMetadata(MetadataKey,O,P);}
var parent=GetPrototypeOf(O);if(parent!==null){return OrdinaryGetMetadata(MetadataKey,parent,P);}
return undefined;}
function OrdinaryGetOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,false);if(metadataMap===undefined){return undefined;}
return metadataMap.get(MetadataKey);}
function OrdinaryDefineOwnMetadata(MetadataKey,MetadataValue,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,true);metadataMap.set(MetadataKey,MetadataValue);}
function OrdinaryMetadataKeys(O,P){var ownKeys=OrdinaryOwnMetadataKeys(O,P);var parent=GetPrototypeOf(O);if(parent===null){return ownKeys;}
var parentKeys=OrdinaryMetadataKeys(parent,P);if(parentKeys.length<=0){return ownKeys;}
if(ownKeys.length<=0){return parentKeys;}
var set=new _Set();var keys=[];for(var _i=0,ownKeys_1=ownKeys;_i<ownKeys_1.length;_i++){var key=ownKeys_1[_i];var hasKey=set.has(key);if(!hasKey){set.add(key);keys.push(key);}}
for(var _a=0,parentKeys_1=parentKeys;_a<parentKeys_1.length;_a++){var key=parentKeys_1[_a];var hasKey=set.has(key);if(!hasKey){set.add(key);keys.push(key);}}
return keys;}
function OrdinaryOwnMetadataKeys(target,targetKey){var metadataMap=GetOrCreateMetadataMap(target,targetKey,false);var keys=[];if(metadataMap){metadataMap.forEach(function(_,key){return keys.push(key);});}
return keys;}
function IsUndefined(x){return x===undefined;}
function IsArray(x){return Array.isArray(x);}
function IsObject(x){return typeof x==="object"?x!==null:typeof x==="function";}
function IsConstructor(x){return typeof x==="function";}
function IsSymbol(x){return typeof x==="symbol";}
function ToPropertyKey(value){if(IsSymbol(value)){return value;}
return String(value);}
function GetPrototypeOf(O){var proto=Object.getPrototypeOf(O);if(typeof O!=="function"||O===functionPrototype){return proto;}
if(proto!==functionPrototype){return proto;}
var prototype=O.prototype;var prototypeProto=Object.getPrototypeOf(prototype);if(prototypeProto==null||prototypeProto===Object.prototype){return proto;}
var constructor=prototypeProto.constructor;if(typeof constructor!=="function"){return proto;}
if(constructor===O){return proto;}
return constructor;}
function CreateMapPolyfill(){var cacheSentinel={};function Map(){this._keys=[];this._values=[];this._cache=cacheSentinel;}
Map.prototype={get size(){return this._keys.length;},has:function(key){if(key===this._cache){return true;}
if(this._find(key)>=0){this._cache=key;return true;}
return false;},get:function(key){var index=this._find(key);if(index>=0){this._cache=key;return this._values[index];}
return undefined;},set:function(key,value){this.delete(key);this._keys.push(key);this._values.push(value);this._cache=key;return this;},delete:function(key){var index=this._find(key);if(index>=0){this._keys.splice(index,1);this._values.splice(index,1);this._cache=cacheSentinel;return true;}
return false;},clear:function(){this._keys.length=0;this._values.length=0;this._cache=cacheSentinel;},forEach:function(callback,thisArg){var size=this.size;for(var i=0;i<size;++i){var key=this._keys[i];var value=this._values[i];this._cache=key;callback.call(this,value,key,this);}},_find:function(key){var keys=this._keys;var size=keys.length;for(var i=0;i<size;++i){if(keys[i]===key){return i;}}
return-1;}};return Map;}
function CreateSetPolyfill(){var cacheSentinel={};function Set(){this._map=new _Map();}
Set.prototype={get size(){return this._map.length;},has:function(value){return this._map.has(value);},add:function(value){this._map.set(value,value);return this;},delete:function(value){return this._map.delete(value);},clear:function(){this._map.clear();},forEach:function(callback,thisArg){this._map.forEach(callback,thisArg);}};return Set;}
function CreateWeakMapPolyfill(){var UUID_SIZE=16;var isNode=typeof global!=="undefined"&&Object.prototype.toString.call(global.process)==='[object process]';var nodeCrypto=isNode&&require("crypto");var hasOwn=Object.prototype.hasOwnProperty;var keys={};var rootKey=CreateUniqueKey();function WeakMap(){this._key=CreateUniqueKey();}
WeakMap.prototype={has:function(target){var table=GetOrCreateWeakMapTable(target,false);if(table){return this._key in table;}
return false;},get:function(target){var table=GetOrCreateWeakMapTable(target,false);if(table){return table[this._key];}
return undefined;},set:function(target,value){var table=GetOrCreateWeakMapTable(target,true);table[this._key]=value;return this;},delete:function(target){var table=GetOrCreateWeakMapTable(target,false);if(table&&this._key in table){return delete table[this._key];}
return false;},clear:function(){this._key=CreateUniqueKey();}};function FillRandomBytes(buffer,size){for(var i=0;i<size;++i){buffer[i]=Math.random()*255|0;}}
function GenRandomBytes(size){if(nodeCrypto){var data=nodeCrypto.randomBytes(size);return data;}
else if(typeof Uint8Array==="function"){var data=new Uint8Array(size);if(typeof crypto!=="undefined"){crypto.getRandomValues(data);}
else if(typeof msCrypto!=="undefined"){msCrypto.getRandomValues(data);}
else{FillRandomBytes(data,size);}
return data;}
else{var data=new Array(size);FillRandomBytes(data,size);return data;}}
function CreateUUID(){var data=GenRandomBytes(UUID_SIZE);data[6]=data[6]&0x4f|0x40;data[8]=data[8]&0xbf|0x80;var result="";for(var offset=0;offset<UUID_SIZE;++offset){var byte=data[offset];if(offset===4||offset===6||offset===8){result+="-";}
if(byte<16){result+="0";}
result+=byte.toString(16).toLowerCase();}
return result;}
function CreateUniqueKey(){var key;do{key="@@WeakMap@@"+CreateUUID();}while(hasOwn.call(keys,key));keys[key]=true;return key;}
function GetOrCreateWeakMapTable(target,create){if(!hasOwn.call(target,rootKey)){if(!create){return undefined;}
Object.defineProperty(target,rootKey,{value:Object.create(null)});}
return target[rootKey];}
return WeakMap;}
(function(__global){if(typeof __global.Reflect!=="undefined"){if(__global.Reflect!==Reflect){for(var p in Reflect){__global.Reflect[p]=Reflect[p];}}}
else{__global.Reflect=Reflect;}})(typeof window!=="undefined"?window:typeof WorkerGlobalScope!=="undefined"?self:typeof global!=="undefined"?global:Function("return this;")());})(Reflect||(Reflect={}));var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};System.register("angular2-logger/app/core/level",[],function(exports_1,context_1){"use strict";var __moduleName=context_1&&context_1.id;var Level;return{setters:[],execute:function(){(function(Level){Level[Level["OFF"]=0]="OFF";Level[Level["ERROR"]=1]="ERROR";Level[Level["WARN"]=2]="WARN";Level[Level["INFO"]=3]="INFO";Level[Level["DEBUG"]=4]="DEBUG";Level[Level["LOG"]=5]="LOG"})(Level||(Level={}));exports_1("Level",Level)}}});System.register("angular2-logger/app/core/logger",["angular2/core","angular2-logger/app/core/level"],function(exports_2,context_2){"use strict";var __moduleName=context_2&&context_2.id;var core_1,level_ts_1;var Options,DEFAULT_OPTIONS,Logger;return{setters:[function(core_1_1){core_1=core_1_1},function(level_ts_1_1){level_ts_1=level_ts_1_1}],execute:function(){Options=function(){function Options(){}return Options}();exports_2("Options",Options);DEFAULT_OPTIONS={level:level_ts_1.Level.WARN,global:true,globalAs:"logger",store:false,storeAs:"angular2.logger.level"};Logger=function(){function Logger(options){var _this=this;this.Level=level_ts_1.Level;this._loadLevel=function(){return localStorage.getItem(_this._storeAs)};this.global=function(){return window[_this._globalAs]=_this};this.isErrorEnabled=function(){return _this.level>=level_ts_1.Level.ERROR};this.isWarnEnabled=function(){return _this.level>=level_ts_1.Level.WARN};this.isInfoEnabled=function(){return _this.level>=level_ts_1.Level.INFO};this.isDebugEnabled=function(){return _this.level>=level_ts_1.Level.DEBUG};this.isLogEnabled=function(){return _this.level>=level_ts_1.Level.LOG};var _a=Object.assign({},DEFAULT_OPTIONS,options),level=_a.level,global=_a.global,globalAs=_a.globalAs,store=_a.store,storeAs=_a.storeAs;this._level=level;this._globalAs=globalAs;this._storeAs=storeAs;global&&this.global();if(store||this._loadLevel())this.store()}Logger.prototype._storeLevel=function(level){localStorage[this._storeAs]=level};Logger.prototype.error=function(message){var optionalParams=[];for(var _i=1;_i<arguments.length;_i++){optionalParams[_i-1]=arguments[_i]}this.isErrorEnabled()&&console.error.apply(console,[message].concat(optionalParams))};Logger.prototype.warn=function(message){var optionalParams=[];for(var _i=1;_i<arguments.length;_i++){optionalParams[_i-1]=arguments[_i]}this.isWarnEnabled()&&console.warn.apply(console,[message].concat(optionalParams))};Logger.prototype.info=function(message){var optionalParams=[];for(var _i=1;_i<arguments.length;_i++){optionalParams[_i-1]=arguments[_i]}this.isInfoEnabled()&&console.info.apply(console,[message].concat(optionalParams))};Logger.prototype.debug=function(message){var optionalParams=[];for(var _i=1;_i<arguments.length;_i++){optionalParams[_i-1]=arguments[_i]}this.isDebugEnabled()&&console.debug.apply(console,[message].concat(optionalParams))};Logger.prototype.log=function(message){var optionalParams=[];for(var _i=1;_i<arguments.length;_i++){optionalParams[_i-1]=arguments[_i]}this.isLogEnabled()&&console.log.apply(console,[message].concat(optionalParams))};Logger.prototype.store=function(){this._store=true;var storedLevel=this._loadLevel();if(storedLevel){this._level=storedLevel}else{this._storeLevel(this.level)}return this};Logger.prototype.unstore=function(){this._store=false;localStorage.removeItem(this._storeAs);return this};Object.defineProperty(Logger.prototype,"level",{get:function(){return this._level},set:function(level){this._store&&this._storeLevel(level);this._level=level},enumerable:true,configurable:true});Logger=__decorate([core_1.Injectable(),__param(0,core_1.Optional()),__metadata("design:paramtypes",[Options])],Logger);return Logger}();exports_2("Logger",Logger)}}});System.register("angular2-logger/core",["angular2/core","angular2-logger/app/core/logger","angular2-logger/app/core/level"],function(exports_3,context_3){"use strict";var __moduleName=context_3&&context_3.id;var core_2,logger_1,level_1;var OFF_LOGGER_PROVIDERS,ERROR_LOGGER_PROVIDERS,WARN_LOGGER_PROVIDERS,INFO_LOGGER_PROVIDERS,DEBUG_LOGGER_PROVIDERS,LOG_LOGGER_PROVIDERS;var exportedNames_1={OFF_LOGGER_PROVIDERS:true,ERROR_LOGGER_PROVIDERS:true,WARN_LOGGER_PROVIDERS:true,INFO_LOGGER_PROVIDERS:true,DEBUG_LOGGER_PROVIDERS:true,LOG_LOGGER_PROVIDERS:true};function exportStar_1(m){var exports={};for(var n in m){if(n!=="default"&&!exportedNames_1.hasOwnProperty(n))exports[n]=m[n]}exports_3(exports)}return{setters:[function(core_2_1){core_2=core_2_1},function(logger_1_1){logger_1=logger_1_1;exportStar_1(logger_1_1)},function(level_1_1){level_1=level_1_1;exportStar_1(level_1_1)}],execute:function(){exports_3("OFF_LOGGER_PROVIDERS",OFF_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.OFF}}),logger_1.Logger]);exports_3("ERROR_LOGGER_PROVIDERS",ERROR_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.ERROR}}),logger_1.Logger]);exports_3("WARN_LOGGER_PROVIDERS",WARN_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.WARN}}),logger_1.Logger]);exports_3("INFO_LOGGER_PROVIDERS",INFO_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.INFO}}),logger_1.Logger]);exports_3("DEBUG_LOGGER_PROVIDERS",DEBUG_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.DEBUG}}),logger_1.Logger]);exports_3("LOG_LOGGER_PROVIDERS",LOG_LOGGER_PROVIDERS=[core_2.provide(logger_1.Options,{useValue:{level:level_1.Level.LOG}}),logger_1.Logger])}}});/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);var checked=false;function check_all(form){var checkboxes=document.getElementById(form);if(checked==false){checked=true}else{checked=false}
for(var i=0;i<checkboxes.elements.length;i++){if(checkboxes.elements[i].type=="checkbox"){checkboxes.elements[i].checked=checked;}}}
function checkAll(id,name){var checklist=document.getElementsByName(name);if(document.getElementById(id).checked)
{for(var i=0;i<checklist.length;i++)
{checklist[i].checked=1;}}else{for(var j=0;j<checklist.length;j++)
{checklist[j].checked=0;}}}
function GetRowData(row){var rowData={};for(var j=0;j<row.cells.length;j++){name=row.parentNode.rows[0].cells[j].getAttribute("Name");if(name){var value=row.cells[j].getAttribute("Value");if(!value){value=row.cells[j].innerHTML;}
rowData[name]=value;}}
return rowData;}
function GetTableDataBox(){var tabProduct=document.getElementById("editable");var tableData=new Array();var returnData=new Array();var checkboxes=document.getElementById("contents_form");var id_list=new Array();len=checkboxes.elements.length;for(var i=0;i<len;i++){if(checkboxes.elements[i].type=="checkbox"&&checkboxes.elements[i].checked==true&&checkboxes.elements[i].value!="checkall"){id_list.push(i);}}
console.log(id_list);for(i in id_list){console.log(tabProduct);tableData.push(GetRowData(tabProduct.rows[id_list[i]]));}
if(id_list.length==0){alert('');}
returnData.push(tableData);returnData.push(id_list.length);return returnData;}
function move(from,to,from_o,to_o){$("#"+from+" option").each(function(){if($(this).prop("selected")==true){$("#"+to).append(this);if(typeof from_o!=='undefined'){$("#"+to_o).append($("#"+from_o+" option[value='"+this.value+"']"));}}});}
function move_left(from,to,from_o,to_o){$("#"+from+" option").each(function(){if($(this).prop("selected")==true){$("#"+to).append(this);if(typeof from_o!=='undefined'){$("#"+to_o).append($("#"+from_o+" option[value='"+this.value+"']"));}}
$(this).attr("selected",'true');});}
function selectAll(){$('option').each(function(){$(this).attr('selected',true)})}
function getIDall(){var check_array=[];$(".gradeX input:checked").each(function(){var id=$(this).attr("value");check_array.push(id);});return check_array.join(",");}/*!
	Colorbox 1.5.14
	license: MIT
	http://www.jacklmoore.com/colorbox
*/

(function($,document,window){var
defaults={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:0.3,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:'@2x.$1',current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel;},href:function(){return $(this).attr('href');},title:function(){return this.title;}},colorbox='colorbox',prefix='cbox',boxElement=prefix+'Element',event_open=prefix+'_open',event_load=prefix+'_load',event_complete=prefix+'_complete',event_cleanup=prefix+'_cleanup',event_closed=prefix+'_closed',event_purge=prefix+'_purge',$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,$events=$('<a/>'),settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,index,photo,open,active,closing,loadingTimer,publicMethod,div="div",requests=0,previousCSS={},init;function $tag(tag,id,css){var element=document.createElement(tag);if(id){element.id=prefix+id;}
if(css){element.style.cssText=css;}
return $(element);}
function winheight(){return window.innerHeight?window.innerHeight:$(window).height();}
function Settings(element,options){if(options!==Object(options)){options={};}
this.cache={};this.el=element;this.value=function(key){var dataAttr;if(this.cache[key]===undefined){dataAttr=$(this.el).attr('data-cbox-'+key);if(dataAttr!==undefined){this.cache[key]=dataAttr;}else if(options[key]!==undefined){this.cache[key]=options[key];}else if(defaults[key]!==undefined){this.cache[key]=defaults[key];}}
return this.cache[key];};this.get=function(key){var value=this.value(key);return $.isFunction(value)?value.call(this.el,this):value;};}
function getIndex(increment){var
max=$related.length,newIndex=(index+increment)%max;return(newIndex<0)?max+newIndex:newIndex;}
function setSize(size,dimension){return Math.round((/%/.test(size)?((dimension==='x'?$window.width():winheight())/100):1)*parseInt(size,10));}
function isImage(settings,url){return settings.get('photo')||settings.get('photoRegex').test(url);}
function retinaUrl(settings,url){return settings.get('retinaUrl')&&window.devicePixelRatio>1?url.replace(settings.get('photoRegex'),settings.get('retinaSuffix')):url;}
function trapFocus(e){if('contains'in $box[0]&&!$box[0].contains(e.target)&&e.target!==$overlay[0]){e.stopPropagation();$box.focus();}}
function setClass(str){if(setClass.str!==str){$box.add($overlay).removeClass(setClass.str).addClass(str);setClass.str=str;}}
function getRelated(rel){index=0;if(rel&&rel!==false&&rel!=='nofollow'){$related=$('.'+boxElement).filter(function(){var options=$.data(this,colorbox);var settings=new Settings(this,options);return(settings.get('rel')===rel);});index=$related.index(settings.el);if(index===-1){$related=$related.add(settings.el);index=$related.length-1;}}else{$related=$(settings.el);}}
function trigger(event){$(document).trigger(event);$events.triggerHandler(event);}
var slideshow=(function(){var active,className=prefix+"Slideshow_",click="click."+prefix,timeOut;function clear(){clearTimeout(timeOut);}
function set(){if(settings.get('loop')||$related[index+1]){clear();timeOut=setTimeout(publicMethod.next,settings.get('slideshowSpeed'));}}
function start(){$slideshow.html(settings.get('slideshowStop')).unbind(click).one(click,stop);$events.bind(event_complete,set).bind(event_load,clear);$box.removeClass(className+"off").addClass(className+"on");}
function stop(){clear();$events.unbind(event_complete,set).unbind(event_load,clear);$slideshow.html(settings.get('slideshowStart')).unbind(click).one(click,function(){publicMethod.next();start();});$box.removeClass(className+"on").addClass(className+"off");}
function reset(){active=false;$slideshow.hide();clear();$events.unbind(event_complete,set).unbind(event_load,clear);$box.removeClass(className+"off "+className+"on");}
return function(){if(active){if(!settings.get('slideshow')){$events.unbind(event_cleanup,reset);reset();}}else{if(settings.get('slideshow')&&$related[1]){active=true;$events.one(event_cleanup,reset);if(settings.get('slideshowAuto')){start();}else{stop();}
$slideshow.show();}}};}());function launch(element){var options;if(!closing){options=$(element).data(colorbox);settings=new Settings(element,options);getRelated(settings.get('rel'));if(!open){open=active=true;setClass(settings.get('className'));$box.css({visibility:'hidden',display:'block',opacity:''});$loaded=$tag(div,'LoadedContent','width:0; height:0; overflow:hidden; visibility:hidden');$content.css({width:'',height:''}).append($loaded);interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(true)-$content.height();interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(true)-$content.width();loadedHeight=$loaded.outerHeight(true);loadedWidth=$loaded.outerWidth(true);var initialWidth=setSize(settings.get('initialWidth'),'x');var initialHeight=setSize(settings.get('initialHeight'),'y');var maxWidth=settings.get('maxWidth');var maxHeight=settings.get('maxHeight');settings.w=(maxWidth!==false?Math.min(initialWidth,setSize(maxWidth,'x')):initialWidth)-loadedWidth-interfaceWidth;settings.h=(maxHeight!==false?Math.min(initialHeight,setSize(maxHeight,'y')):initialHeight)-loadedHeight-interfaceHeight;$loaded.css({width:'',height:settings.h});publicMethod.position();trigger(event_open);settings.get('onOpen');$groupControls.add($title).hide();$box.focus();if(settings.get('trapFocus')){if(document.addEventListener){document.addEventListener('focus',trapFocus,true);$events.one(event_closed,function(){document.removeEventListener('focus',trapFocus,true);});}}
if(settings.get('returnFocus')){$events.one(event_closed,function(){$(settings.el).focus();});}}
var opacity=parseFloat(settings.get('opacity'));$overlay.css({opacity:opacity===opacity?opacity:'',cursor:settings.get('overlayClose')?'pointer':'',visibility:'visible',}).show();if(settings.get('closeButton')){$close.html(settings.get('close')).appendTo($content);}else{$close.appendTo('<div/>');}
load();}}
function appendHTML(){if(!$box){init=false;$window=$(window);$box=$tag(div).attr({id:colorbox,'class':$.support.opacity===false?prefix+'IE':'',role:'dialog',tabindex:'-1'}).hide();$overlay=$tag(div,"Overlay").hide();$loadingOverlay=$([$tag(div,"LoadingOverlay")[0],$tag(div,"LoadingGraphic")[0]]);$wrap=$tag(div,"Wrapper");$content=$tag(div,"Content").append($title=$tag(div,"Title"),$current=$tag(div,"Current"),$prev=$('<button type="button"/>').attr({id:prefix+'Previous'}),$next=$('<button type="button"/>').attr({id:prefix+'Next'}),$slideshow=$tag('button',"Slideshow"),$loadingOverlay);$close=$('<button type="button"/>').attr({id:prefix+'Close'});$wrap.append($tag(div).append($tag(div,"TopLeft"),$topBorder=$tag(div,"TopCenter"),$tag(div,"TopRight")),$tag(div,false,'clear:left').append($leftBorder=$tag(div,"MiddleLeft"),$content,$rightBorder=$tag(div,"MiddleRight")),$tag(div,false,'clear:left').append($tag(div,"BottomLeft"),$bottomBorder=$tag(div,"BottomCenter"),$tag(div,"BottomRight"))).find('div div').css({'float':'left'});$loadingBay=$tag(div,false,'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');$groupControls=$next.add($prev).add($current).add($slideshow);}
if(document.body&&!$box.parent().length){$(document.body).append($overlay,$box.append($wrap,$loadingBay));}}
function addBindings(){function clickHandler(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();launch(this);}}
if($box){if(!init){init=true;$next.click(function(){publicMethod.next();});$prev.click(function(){publicMethod.prev();});$close.click(function(){publicMethod.close();});$overlay.click(function(){if(settings.get('overlayClose')){publicMethod.close();}});$(document).bind('keydown.'+prefix,function(e){var key=e.keyCode;if(open&&settings.get('escKey')&&key===27){e.preventDefault();publicMethod.close();}
if(open&&settings.get('arrowKey')&&$related[1]&&!e.altKey){if(key===37){e.preventDefault();$prev.click();}else if(key===39){e.preventDefault();$next.click();}}});if($.isFunction($.fn.on)){$(document).on('click.'+prefix,'.'+boxElement,clickHandler);}else{$('.'+boxElement).live('click.'+prefix,clickHandler);}}
return true;}
return false;}
if($[colorbox]){return;}
$(appendHTML);publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var settings;var $obj=this;options=options||{};if($.isFunction($obj)){$obj=$('<a/>');options.open=true;}else if(!$obj[0]){return $obj;}
if(!$obj[0]){return $obj;}
appendHTML();if(addBindings()){if(callback){options.onComplete=callback;}
$obj.each(function(){var old=$.data(this,colorbox)||{};$.data(this,colorbox,$.extend(old,options));}).addClass(boxElement);settings=new Settings($obj[0],options);if(settings.get('open')){launch($obj[0]);}}
return $obj;};publicMethod.position=function(speed,loadedCallback){var
css,top=0,left=0,offset=$box.offset(),scrollTop,scrollLeft;$window.unbind('resize.'+prefix);$box.css({top:-9e4,left:-9e4});scrollTop=$window.scrollTop();scrollLeft=$window.scrollLeft();if(settings.get('fixed')){offset.top-=scrollTop;offset.left-=scrollLeft;$box.css({position:'fixed'});}else{top=scrollTop;left=scrollLeft;$box.css({position:'absolute'});}
if(settings.get('right')!==false){left+=Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.get('right'),'x'),0);}else if(settings.get('left')!==false){left+=setSize(settings.get('left'),'x');}else{left+=Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2);}
if(settings.get('bottom')!==false){top+=Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.get('bottom'),'y'),0);}else if(settings.get('top')!==false){top+=setSize(settings.get('top'),'y');}else{top+=Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2);}
$box.css({top:offset.top,left:offset.left,visibility:'visible'});$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=(parseInt($box[0].style.width,10)-interfaceWidth)+'px';$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=(parseInt($box[0].style.height,10)-interfaceHeight)+'px';}
css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left};if(speed){var tempSpeed=0;$.each(css,function(i){if(css[i]!==previousCSS[i]){tempSpeed=speed;return;}});speed=tempSpeed;}
previousCSS=css;if(!speed){$box.css(css);}
$box.dequeue().animate(css,{duration:speed||0,complete:function(){modalDimensions();active=false;$wrap[0].style.width=(settings.w+loadedWidth+interfaceWidth)+"px";$wrap[0].style.height=(settings.h+loadedHeight+interfaceHeight)+"px";if(settings.get('reposition')){setTimeout(function(){$window.bind('resize.'+prefix,publicMethod.position);},1);}
if($.isFunction(loadedCallback)){loadedCallback();}},step:modalDimensions});};publicMethod.resize=function(options){var scrolltop;if(open){options=options||{};if(options.width){settings.w=setSize(options.width,'x')-loadedWidth-interfaceWidth;}
if(options.innerWidth){settings.w=setSize(options.innerWidth,'x');}
$loaded.css({width:settings.w});if(options.height){settings.h=setSize(options.height,'y')-loadedHeight-interfaceHeight;}
if(options.innerHeight){settings.h=setSize(options.innerHeight,'y');}
if(!options.innerHeight&&!options.height){scrolltop=$loaded.scrollTop();$loaded.css({height:"auto"});settings.h=$loaded.height();}
$loaded.css({height:settings.h});if(scrolltop){$loaded.scrollTop(scrolltop);}
publicMethod.position(settings.get('transition')==="none"?0:settings.get('speed'));}};publicMethod.prep=function(object){if(!open){return;}
var callback,speed=settings.get('transition')==="none"?0:settings.get('speed');$loaded.remove();$loaded=$tag(div,'LoadedContent').append(object);function getWidth(){settings.w=settings.w||$loaded.width();settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w;return settings.w;}
function getHeight(){settings.h=settings.h||$loaded.height();settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h;return settings.h;}
$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.get('scrolling')?'auto':'hidden'}).css({height:getHeight()}).prependTo($content);$loadingBay.hide();$(photo).css({'float':'none'});setClass(settings.get('className'));callback=function(){var total=$related.length,iframe,complete;if(!open){return;}
function removeFilter(){if($.support.opacity===false){$box[0].style.removeAttribute('filter');}}
complete=function(){clearTimeout(loadingTimer);$loadingOverlay.hide();trigger(event_complete);settings.get('onComplete');};$title.html(settings.get('title')).show();$loaded.show();if(total>1){if(typeof settings.get('current')==="string"){$current.html(settings.get('current').replace('{current}',index+1).replace('{total}',total)).show();}
$next[(settings.get('loop')||index<total-1)?"show":"hide"]().html(settings.get('next'));$prev[(settings.get('loop')||index)?"show":"hide"]().html(settings.get('previous'));slideshow();if(settings.get('preloading')){$.each([getIndex(-1),getIndex(1)],function(){var img,i=$related[this],settings=new Settings(i,$.data(i,colorbox)),src=settings.get('href');if(src&&isImage(settings,src)){src=retinaUrl(settings,src);img=document.createElement('img');img.src=src;}});}}else{$groupControls.hide();}
if(settings.get('iframe')){iframe=document.createElement('iframe');if('frameBorder'in iframe){iframe.frameBorder=0;}
if('allowTransparency'in iframe){iframe.allowTransparency="true";}
if(!settings.get('scrolling')){iframe.scrolling="no";}
$(iframe).attr({src:settings.get('href'),name:(new Date()).getTime(),'class':prefix+'Iframe',allowFullScreen:true}).one('load',complete).appendTo($loaded);$events.one(event_purge,function(){iframe.src="//about:blank";});if(settings.get('fastIframe')){$(iframe).trigger('load');}}else{complete();}
if(settings.get('transition')==='fade'){$box.fadeTo(speed,1,removeFilter);}else{removeFilter();}};if(settings.get('transition')==='fade'){$box.fadeTo(speed,0,function(){publicMethod.position(0,callback);});}else{publicMethod.position(speed,callback);}};function load(){var href,setResize,prep=publicMethod.prep,$inline,request=++requests;active=true;photo=false;trigger(event_purge);trigger(event_load);settings.get('onLoad');settings.h=settings.get('height')?setSize(settings.get('height'),'y')-loadedHeight-interfaceHeight:settings.get('innerHeight')&&setSize(settings.get('innerHeight'),'y');settings.w=settings.get('width')?setSize(settings.get('width'),'x')-loadedWidth-interfaceWidth:settings.get('innerWidth')&&setSize(settings.get('innerWidth'),'x');settings.mw=settings.w;settings.mh=settings.h;if(settings.get('maxWidth')){settings.mw=setSize(settings.get('maxWidth'),'x')-loadedWidth-interfaceWidth;settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw;}
if(settings.get('maxHeight')){settings.mh=setSize(settings.get('maxHeight'),'y')-loadedHeight-interfaceHeight;settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh;}
href=settings.get('href');loadingTimer=setTimeout(function(){$loadingOverlay.show();},100);if(settings.get('inline')){var $target=$(href);$inline=$('<div>').hide().insertBefore($target);$events.one(event_purge,function(){$inline.replaceWith($target);});prep($target);}else if(settings.get('iframe')){prep(" ");}else if(settings.get('html')){prep(settings.get('html'));}else if(isImage(settings,href)){href=retinaUrl(settings,href);photo=new Image();$(photo).addClass(prefix+'Photo').bind('error',function(){prep($tag(div,'Error').html(settings.get('imgError')));}).one('load',function(){if(request!==requests){return;}
setTimeout(function(){var percent;$.each(['alt','longdesc','aria-describedby'],function(i,val){var attr=$(settings.el).attr(val)||$(settings.el).attr('data-'+val);if(attr){photo.setAttribute(val,attr);}});if(settings.get('retinaImage')&&window.devicePixelRatio>1){photo.height=photo.height/window.devicePixelRatio;photo.width=photo.width/window.devicePixelRatio;}
if(settings.get('scalePhotos')){setResize=function(){photo.height-=photo.height*percent;photo.width-=photo.width*percent;};if(settings.mw&&photo.width>settings.mw){percent=(photo.width-settings.mw)/photo.width;setResize();}
if(settings.mh&&photo.height>settings.mh){percent=(photo.height-settings.mh)/photo.height;setResize();}}
if(settings.h){photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+'px';}
if($related[1]&&(settings.get('loop')||$related[index+1])){photo.style.cursor='pointer';photo.onclick=function(){publicMethod.next();};}
photo.style.width=photo.width+'px';photo.style.height=photo.height+'px';prep(photo);},1);});photo.src=href;}else if(href){$loadingBay.load(href,settings.get('data'),function(data,status){if(request===requests){prep(status==='error'?$tag(div,'Error').html(settings.get('xhrError')):$(this).contents());}});}}
publicMethod.next=function(){if(!active&&$related[1]&&(settings.get('loop')||$related[index+1])){index=getIndex(1);launch($related[index]);}};publicMethod.prev=function(){if(!active&&$related[1]&&(settings.get('loop')||index)){index=getIndex(-1);launch($related[index]);}};publicMethod.close=function(){if(open&&!closing){closing=true;open=false;trigger(event_cleanup);settings.get('onCleanup');$window.unbind('.'+prefix);$overlay.fadeTo(settings.get('fadeOut')||0,0);$box.stop().fadeTo(settings.get('fadeOut')||0,0,function(){$box.hide();$overlay.hide();trigger(event_purge);$loaded.remove();setTimeout(function(){closing=false;trigger(event_closed);settings.get('onClosed');},1);});}};publicMethod.remove=function(){if(!$box){return;}
$box.stop();$[colorbox].close();$box.stop(false,true).remove();$overlay.remove();closing=false;$box=null;$('.'+boxElement).removeData(colorbox).removeClass(boxElement);$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);};publicMethod.element=function(){return $(settings.el);};publicMethod.settings=defaults;}(jQuery,document,window));/*! nice Validator 0.7.3
 * (c) 2012-2014 Jony Zhang <zj86@live.cn>, MIT Licensed
 * http://niceue.com/validator/
 */
!function(e,t){"use strict";function i(n,s){var r=this;return!r instanceof i?new i(n,s):(r.$el=e(n),r._init(n,s),t)}function n(e,t){var i=t?t===!0?this:t:n.prototype;if(z(e))for(var s in e)i[s]=r(e[s])}function s(e,t){var i=t?t===!0?this:t:s.prototype;if(z(e))for(var n in e){if(!e[n])return;i[n]=e[n]}}function r(t){switch(e.type(t)){case"function":return t;case"array":return function(e){return t[0].test(e.value)||t[1]||!1};case"regexp":return function(e){return t.test(e.value)}}}function a(t){var i="";return e.map(t.split(" "),function(e){i+=","+("#"===e.charAt(0)?e:'[name="'+e+'"]')}),i.substring(1)}function l(t){var i;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||e(t).closest("."+k);break;case"FORM":i=t;break;default:i=e(t).closest("."+k)}return e(i).data(h)||e(i)[h]().data(h)}}function u(e){var t,i=e.currentTarget;i.form&&null===K(i.form,q)&&(t=l(i),t?(t._parse(i),t["_"+e.type](e)):K(i,V,null))}function o(i,n){var s=e.trim(K(i,V+"-"+n));if(s)return s=Function("return "+s)(),s?r(s):t}function d(e,t,i,n){var s=t.msg,r=t._r;return z(s)&&(s=s[r]),Q(s)||(s=K(e,A+"-"+r)||K(e,A)||i||(n?Q(n)?n:n[r]:"")),s}function c(e){var t;return e&&(t=H.exec(e)),t?t[1]:""}function f(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function g(e){return Date.parse(e.replace(/\.|\-/g,"/"))}var p,m,h="validator",v="."+h,y=".rule",_=".field",b=".form",k="nice-"+h,w="n-ok",M="n-error",O="n-tip",$="n-loading",x="msg-box",C="aria-required",F="aria-invalid",V="data-rule",A="data-msg",R="data-tip",T="data-ok",S="data-target",E="data-inputstatus",q="novalidate",N=":verifiable",j=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,D=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,I=/(?:([^:;\(\[]*):)?(.*)/,U=/[^\x00-\xff]/g,H=/^.*(top|right|bottom|left).*$/,L=/(?:(post|get):)?(.+)/i,P=/<|>/g,W=e.noop,B=e.proxy,X=e.isFunction,J=e.isArray,Q=function(e){return"string"==typeof e},z=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},G=!window.XMLHttpRequest,K=function(e,i,n){return n===t?e.getAttribute(i):(null===n?e.removeAttribute(i):e.setAttribute(i,""+n),t)},Y=window.console||{log:W,info:W},Z={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:!0,beforeSubmit:W,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(e){var t,i={error:M,ok:w,tip:O,loading:$}[e.type];return t='<span class="msg-wrap '+i+'" role="alert">',t+=e.arrow+e.icon+'<span class="n-msg">'+e.msg+"</span>",t+="</span>"},msgIcon:'<span class="n-icon"></span>',msgArrow:"",msgClass:"",defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},et={"default":{formClass:"n-default",msgClass:"n-right",showOk:""}};e.fn[h]=function(t){var n=this,s=arguments;return n.is(":input")?n:(!n.is("form")&&(n=this.find("form")),!n.length&&(n=this),n.each(function(){var n=e(this).data(h);if(n)if(Q(t)){if("_"===t.charAt(0))return;n[t].apply(n,Array.prototype.slice.call(s,1))}else t&&(n._reset(!0),n._init(this,t));else new i(this,t)}),this)},e.fn.isValid=function(e,t){var i,n,s=l(this[0]),r=X(e);return s?(s.checkOnly=!!t,n=s.options,i=s._multiValidate(this.is(":input")?this:this.find(N),function(t){t||!n.focusInvalid||s.checkOnly||s.$el.find(":input["+F+"]:first").focus(),r&&e.call(null,t),s.checkOnly=!1}),r?this:i):!0},e.expr[":"].verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t)&&e.disabled===!1},i.prototype={_init:function(i,r){var l,u,o,d=this;if(X(r)&&(r={valid:r}),r=r||{},o=K(i,"data-"+h+"-option"),o=o&&"{"===o.charAt(0)?Function("return "+o)():{},u=et[r.theme||o.theme||Z.theme],l=d.options=e.extend({},Z,u,o,d.options,r),d.rules=new n(l.rules,!0),d.messages=new s(l.messages,!0),d.elements=d.elements||{},d.deferred={},d.errors={},d.fields={},d._initFields(l.fields),J(l.groups)&&e.map(l.groups,function(i){return Q(i.fields)&&X(i.callback)?(i.$elems=d.$el.find(a(i.fields)),e.map(i.fields.split(" "),function(e){d.fields[e]=d.fields[e]||{},d.fields[e].group=i}),t):null}),d.msgOpt={type:"error",pos:c(l.msgClass),wrapper:l.msgWrapper,cls:l.msgClass,style:l.msgStyle,icon:l.msgIcon,arrow:l.msgArrow,show:l.msgShow,hide:l.msgHide},d.isAjaxSubmit=!1,l.valid||!e.trim(K(i,"action")))d.isAjaxSubmit=!0;else{var f=e[e._data?"_data":"data"](i,"events");f&&f.valid&&e.map(f.valid,function(e){return-1!==e.namespace.indexOf("form")?1:null}).length&&(d.isAjaxSubmit=!0)}d.$el.data(h)||(d.$el.data(h,d).addClass(k+" "+l.formClass).on("submit"+v+" validate"+v,B(d,"_submit")).on("reset"+v,B(d,"_reset")).on("showtip"+v,B(d,"_showTip")).on("focusin"+v+" click"+v+" showtip"+v,N,B(d,"_focusin")).on("focusout"+v+" validate"+v,N,B(d,"_focusout")),l.timely>=2&&d.$el.on("keyup"+v+" paste"+v,N,B(d,"_focusout")).on("click"+v,":radio,:checkbox",B(d,"_focusout")).on("change"+v,'select,input[type="file"]',B(d,"_focusout")),d._novalidate=K(i,q),K(i,q,q))},_initFields:function(t){var i=this;z(t)&&e.each(t,function(e,t){if(null===t){var n=i.elements[e];n&&i._resetElement(n,!0),delete i.fields[e]}else i.fields[e]=Q(t)?{rule:t}:t}),i.$el.find(N).each(function(){i._parse(this)})},_parse:function(e){var t,i=this,n=e.name,s=K(e,V);s&&K(e,V,null),(e.id&&"#"+e.id in i.fields||!e.name)&&(n="#"+e.id),n&&(t=i.fields[n]||{},t.key=n,t.old={},t.rule=t.rule||s||"",t.rule&&(t.rule.match(/match|checked/)&&(t.must=!0),-1!==t.rule.indexOf("required")&&(t.required=!0,K(e,C,!0)),("timely"in t&&!t.timely||!i.options.timely)&&K(e,"notimely",!0),Q(t.target)&&K(e,S,t.target),Q(t.tip)&&K(e,R,t.tip),i.fields[n]=i._parseRule(t)))},_parseRule:function(e){var i=I.exec(e.rule),n=this.options;if(i)return e._i=0,i[1]&&(e.display=i[1]),!e.display&&n.display&&(e.display=n.display),i[2]&&(e.rules=[],i[2].replace(j,function(){var i=arguments;i[3]=i[3]||i[4],e.rules.push({not:"!"===i[1],method:i[2],params:i[3]?i[3].split(", "):t,or:"|"===i[5]})})),e},_multiValidate:function(i,n){var s=this,r=s.options;return s.verifying=!0,s.isValid=!0,r.ignore&&(i=i.not(r.ignore)),i.each(function(e,i){var n=s.getField(i);return n&&(s._validate(i,n),!s.isValid&&r.stopOnError)?!1:t}),e.when.apply(null,e.map(s.deferred,function(e){return e})).done(function(){n.call(s,s.isValid),s.verifying=!1}),e.isEmptyObject(s.deferred)?s.isValid:t},_submit:function(t){var i=this,n=i.options,s=t.target,r="submit"===t.type;t.preventDefault(),m&&~(m=!1)||i.submiting||"validate"===t.type&&i.$el[0]!==s||n.beforeSubmit.call(i,s)===!1||(n.debug&&Y.log("\n"+t.type),i._reset(),i.submiting=!0,i._multiValidate(i.$el.find(N),function(t){var a,l=t||2===n.debug?"valid":"invalid";t||(n.focusInvalid&&i.$el.find(":input["+F+'="true"]:first').focus(),a=e.map(i.errors,function(e){return e})),i.submiting=!1,X(n[l])&&n[l].call(i,s,a),i.$el.trigger(l+b,[s,a]),t&&!i.isAjaxSubmit&&r&&(m=!0,p&&p.name&&i.$el.append('<input type="hidden" name="'+p.name+'" value="'+e(p).val()+'">'),s.submit())}))},_reset:function(e){var t=this;t.errors={},e&&t.$el.find(N).each(function(e,i){t._resetElement(i)})},_resetElement:function(t,i){var n=this.options;e(t).removeClass(n.validClass+" "+n.invalidClass),this.hideMsg(t),i&&K(t,C,null)},_focusin:function(t){var i,n=this,s=n.options,r=t.target;n.verifying||("showtip"!==t.type&&"error"===K(r,E)&&s.focusCleanup&&(e(r).removeClass(s.invalidClass),n.hideMsg(r)),i=K(r,R),i&&n.showMsg(r,{type:"tip",msg:i}))},_focusout:function(t){var i,n,s=this,r=s.options,a=t.target,l=t.type,u={click:1,change:1,paste:1},o=0;if(!u[l]){if("validate"===l)n=!0;else{if(K(a,"notimely"))return;if(r.timely>=2&&"keyup"!==l)return}if(r.ignore&&e(a).is(r.ignore))return;if("keyup"===l){var d=t.keyCode,c={8:1,9:1,16:1,32:1,46:1};if(9===d&&!a.value)return;if(48>d&&!c[d])return;o=r.timely>=100?r.timely:500}}i=s.getField(a),i&&(o?(i._t&&clearTimeout(i._t),i._t=setTimeout(function(){s._validate(a,i,n)},o)):s._validate(a,i,n))},_showTip:function(e){var t=this;t.$el[0]===e.target&&t.$el.find(N+"["+R+"]").each(function(){t.showMsg(this,{msg:K(this,R),type:"tip"})})},_validatedField:function(t,i,n){var s=this,r=s.options,a=n.isValid=i.isValid=!!n.isValid,l=a?"valid":"invalid";n.key=i.key,n.rule=i._r,a?n.type="ok":(s.submiting&&(s.errors[i.key]=n.msg),s.isValid=!1),i.old.value=t.value,i.old.id=t.id,s.elements[i.key]=n.element=t,s.$el[0].isValid=a?s.isFormValid():a,X(i[l])&&i[l].call(s,t,n),e(t).attr(F,a?null:!0).removeClass(a?r.invalidClass:r.validClass).addClass(n.skip?"":a?r.validClass:r.invalidClass).trigger(l+_,[n,s]),s.$el.triggerHandler("validation",[n,s]),s.checkOnly||(i.msgMaker||r.msgMaker)&&s[n.showOk||n.msg?"showMsg":"hideMsg"](t,n,i)},_validatedRule:function(i,n,s,r){n=n||o.getField(i),r=r||{};var a,l,u,o=this,c=o.options,f=n._r,g=!1;if(null===s)return o._validatedField(i,n,{isValid:!0,skip:!0}),t;if(s===!0||s===t||""===s?g=!0:Q(s)?a=s:z(s)&&(s.error?a=s.error:(a=s.ok,g=!0)),n.rules&&(l=n.rules[n._i],l.not&&(a=t,g="required"===f||!g),l.or))if(g)for(;n._i<n.rules.length&&n.rules[n._i].or;)n._i++;else u=!0;u||(g?(r.isValid=g,c.showOk!==!1&&(Q(a)||(Q(n.ok)?a=n.ok:Q(K(i,T))?a=K(i,T):Q(c.showOk)&&(a=c.showOk)),Q(a)&&(r.showOk=g,r.msg=a)),e(i).trigger("valid"+y,[f,r.msg])):(r.msg=(d(i,n,a,o.messages[f])||Z.defaultMsg).replace("{0}",o._getDisplay(i,n.display||"")),e(i).trigger("invalid"+y,[f,r.msg]))),c.debug&&Y.log("   "+n._i+": "+f+" => "+(g||r.msg||g)),u||g&&n._i<n.rules.length-1?(n._i++,o._checkRule(i,n)):(n._i=0,o._validatedField(i,n,r))},_checkRule:function(i,n){var s,r,a=this,l=n.key,u=n.rules[n._i],d=u.method,c=u.params;a.submiting&&a.deferred[l]||(r=n.old,n._r=d,s=!n.must&&r.ret!==t&&r.rule===u&&r.id===i.id&&i.value&&r.value===i.value?r.ret:(o(i,d)||a.rules[d]||W).call(a,i,c,n),z(s)&&X(s.then)?(a.deferred[l]=s,!a.checkOnly&&a.showMsg(i,{type:"loading",msg:a.options.loadingMsg},n),s.then(function(s,l,o){var d,c=o.responseText,f=n.dataFilter||a.options.dataFilter;"json"===this.dataType?c=s:"{"===c.charAt(0)&&(c=e.parseJSON(c)||{}),X(f)||(f=function(e){return Q(e)||z(e)&&("error"in e||"ok"in e)?e:t}),d=f(c),d===t&&(d=f(c.data)),r.rule=u,r.ret=d,a._validatedRule(i,n,d)},function(e,t){a._validatedRule(i,n,t)}).always(function(){delete a.deferred[l]}),n.isValid=t):a._validatedRule(i,n,s))},_validate:function(i,n){if(!i.disabled&&null===K(i,q)){var s,r=this,a={},l=n.group,u=n.isValid=!0;if(n.rules||r._parse(i),r.options.debug&&Y.info(n.key),l&&(s=l.callback.call(r,l.$elems),s!==t&&(r.hideMsg(l.target,{},n),s===!0?s=t:(n._i=0,n._r="group",u=!1,r.hideMsg(i,{},n),e.extend(a,l)))),u&&!n.required&&!n.must&&!i.value){if("tip"===K(i,E))return;if(!f(i))return r._validatedField(i,n,{isValid:!0}),t}s!==t?r._validatedRule(i,n,s,a):n.rule&&r._checkRule(i,n)}},test:function(e,i){var n,s,r,a=this,l=D.exec(i);return l&&(s=l[1],s in a.rules&&(r=l[2]||l[3],r=r?r.split(", "):t,n=a.rules[s].call(a,e,r))),n===!0||n===t||null===n},getRangeMsg:function(e,t,i,n){if(t){var s=this,r=s.messages[i]||"",a=t[0].split("~"),l=a[0],u=a[1],o="rg",d=[""],c=+e===+e;if(2===a.length){if(l&&u){if(c&&e>=+l&&+u>=e)return!0;d=d.concat(a)}else if(l&&!u){if(c&&e>=+l)return!0;d.push(l),o="gte"}else if(!l&&u){if(c&&+u>=e)return!0;d.push(u),o="lte"}}else{if(e===+l)return!0;d.push(l),o="eq"}return r&&(n&&r[o+n]&&(o+=n),d[0]=r[o]),s.renderMsg.apply(null,d)}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}},_getDisplay:function(e,t){return Q(t)?t:X(t)?t.call(this,e):""},_getMsgOpt:function(t){return e.extend({},this.msgOpt,Q(t)?{msg:t}:t)},_getMsgDOM:function(t,i){var n,s,r,a=e(t);if(a.is(":input")?(r=i.target||K(t,S),r&&(r=X(r)?r.call(this,t):this.$el.find(r),r.length&&(r.is(":input")?t=r.get(0):n=r)),n||(s=!f(t)&&t.id?t.id:t.name,n=this.$el.find(i.wrapper+"."+x+'[for="'+s+'"]'))):n=a,!n.length)if(a=this.$el.find(r||t),n=e("<"+i.wrapper+">").attr({"class":x+(i.cls?" "+i.cls:""),style:i.style||"","for":s}),f(t)){var l=a.parent();n.appendTo(l.is("label")?l.parent():l)}else n[i.pos&&"right"!==i.pos?"insertBefore":"insertAfter"](a);return n},showMsg:function(t,i,n){var s,r=this,a=r.options;if(i=r._getMsgOpt(i),(i.msg||i.showOk)&&(t=e(t).get(0),e(t).is(N)&&(K(t,E,i.type),n=n||r.getField(t),n&&(i.style=n.msgStyle||i.style,i.cls=n.msgClass||i.cls,i.wrapper=n.msgWrapper||i.wrapper,i.target=n.target||a.target)),s=(n||{}).msgMaker||a.msgMaker)){var l=r._getMsgDOM(t,i),u=l[0].className;!H.test(u)&&l.addClass(i.cls),G&&"bottom"===i.pos&&(l[0].style.marginTop=e(t).outerHeight()+"px"),l.html(s.call(r,i))[0].style.display="",X(i.show)&&i.show.call(r,l,i.type)}},hideMsg:function(t,i,n){var s=this,r=s.options;t=e(t).get(0),i=s._getMsgOpt(i),e(t).is(N)&&(K(t,E,null),K(t,F,null),n=n||s.getField(t),n&&(i.wrapper=n.msgWrapper||i.wrapper,i.target=n.target||r.target));var a=s._getMsgDOM(t,i);a.length&&(X(i.hide)?i.hide.call(s,a,i.type):a[0].style.display="none")},mapMsg:function(t){var i=this;e.each(t,function(e,t){var n=i.elements[e]||i.$el.find(':input[name="'+e+'"]')[0];i.showMsg(n,t)})},setMsg:function(e){new s(e,this.messages)},setRule:function(t){new n(t,this.rules),e.map(this.fields,function(e){e.old={}})},getField:function(e){var t,i=this;return t=e.id&&"#"+e.id in i.fields||!e.name?"#"+e.id:e.name,K(e,V)&&i._parse(e),i.fields[t]},setField:function(e,t){var i={};Q(e)?i[e]=t:z(e)&&(i=e),this._initFields(i)},isFormValid:function(){var e=this.fields;for(var t in e)if(!e[t].isValid)return e[t].isValid;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(v).removeData(h),K(this.$el[0],q,this._novalidate)}},e(document).on("focusin",":input["+V+"]",function(e){u(e)}).on("click","input,button",function(e){var t=this,i=t.name;if(t.form)if("submit"===t.type)p=t,null!==K(t,q)&&(m=!0);else if(i&&f(t)){var n=t.form.elements[i];n.length&&(n=n[0]),K(n,V)&&u(e)}}).on("submit validate","form",function(t){if(null===K(this,q)){var i,n=e(this);n.data(h)||(i=n[h]().data(h),e.isEmptyObject(i.fields)?(K(this,q,q),n.off(v).removeData(h)):i._submit(t))}}),new n({required:function(t,i){var n=e.trim(t.value),s=!0;if(i)if(1===i.length){if(!n&&!this.test(t,i[0]))return K(t,C,null),null;K(t,C,!0)}else"not"===i[0]&&e.map(i.slice(1),function(t){n===e.trim(t)&&(s=!1)});return s&&!!n},integer:function(e,t){var i,n="0|",s="[1-9]\\d*",r=t?t[0]:"*";switch(r){case"+":i=s;break;case"-":i="-"+s;break;case"+0":i=n+s;break;case"-0":i=n+"-"+s;break;default:i=n+"-?"+s}return i="^(?:"+i+")$",RegExp(i).test(e.value)||this.messages.integer[r]},match:function(t,i,n){if(i){var s,r,a,l,u,o,d,c=this,f="eq";if(1===i.length?a=i[0]:(f=i[0],a=i[1]),u="#"===a.charAt(0)?a:':input[name="'+a+'"]',o=c.$el.find(u)[0]){if(d=c.getField(o),s=t.value,r=o.value,n._match||(c.$el.on("valid"+_+v,u,function(){e(t).trigger("validate")}),n._match=d._match=1),!n.required&&""===s&&""===r)return null;if(i[2]&&("date"===i[2]?(s=g(s),r=g(r)):"time"===i[2]&&(s=+s.replace(":",""),r=+r.replace(":",""))),"eq"!==f&&!isNaN(+s)&&isNaN(+r))return!0;switch(l=c.messages.match[f].replace("{1}",c._getDisplay(t,d.display||a)),f){case"lt":return+r>+s||l;case"lte":return+r>=+s||l;case"gte":return+s>=+r||l;case"gt":return+s>+r||l;case"neq":return s!==r||l;default:return s===r||l}}}},range:function(e,t){return this.getRangeMsg(+e.value,t,"range")},checked:function(t,i,n){if(f(t)){var s,r,a=this;return r=a.$el.find('input[name="'+t.name+'"]').filter(function(){var t=this;return!s&&f(t)&&(s=t),!t.disabled&&t.checked&&e(t).is(":visible")}).length,i?a.getRangeMsg(r,i,"checked"):!!r||d(s,n,"")||a.messages.required}},length:function(e,t){var i=e.value,n=(t[1]?i.replace(U,"xx"):i).length;return this.getRangeMsg(n,t,"length",t[1]?"_2":"")},remote:function(t,i){if(i){var n,s=this,r=L.exec(i[0]),a=r[2],l=(r[1]||"POST").toUpperCase(),u={};return u[t.name]=t.value,i[1]&&e.map(i.slice(1),function(t){var i,n=t.split(":");t=e.trim(n[0]),i=e.trim(n[1]||"")||t,u[t]=s.$el.find("#"===i.charAt(0)?i:':input[name="'+i+'"]').val()}),u=e.param(u),"POST"===l&&(n=a.indexOf("?"),-1!==n&&(u+="&"+a.substring(n+1,a.length),a=a.substring(0,n))),e.ajax({url:a,type:l,data:u,cache:!1})}},filter:function(e,t){e.value=e.value.replace(t?RegExp("["+t[0]+"]","gm"):P,"")}}),i.config=function(t){e.each(t,function(e,t){"rules"===e?new n(t):"messages"===e?new s(t):Z[e]=t})},i.setTheme=function(t,i){z(t)?e.each(t,function(e,t){et[e]=t}):Q(t)&&z(i)&&(et[t]=i)},e[h]=i}(jQuery);(function(factory){if(typeof define==='function'){define(function(require,exports,module){var $=require('jquery');$._VALIDATOR_URI=module.uri;require('../src/jquery.validator')($);factory($);});}else{factory(jQuery);}}(function($){$.validator.config({defaultMsg:"{0}",loadingMsg:"...",rules:{digits:[/^\d+$/,""],letters:[/^[a-z]+$/i,"{0}"],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,""],mobile:[/^1[3-9]\d{9}$/,""],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,""],qq:[/^[1-9]\d{4,}$/,"QQ"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,",:yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,",:14:3014:30:00"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,""],url:[/^(https?|ftp):\/\/[^\s]+$/i,""],postcode:[/^[1-9]\d{5}$/,""],chinese:[/^[\u0391-\uFFE5]+$/,""],username:[/^\w{3,12}$/,"3-12"],password:[/^[0-9a-zA-Z]{6,16}$/,"6-16"],accept:function(element,params){if(!params)return true;var ext=params[0];return(ext==='*')||(new RegExp(".(?:"+(ext||"png|jpg|jpeg|gif")+")$","i")).test(element.value)||this.renderMsg("{1}",ext.replace('|',','));}}});$.validator.config({messages:{required:"{0}",remote:"{0}",integer:{'*':"",'+':"",'+0':"0",'-':"",'-0':"0"},match:{eq:"{0}{1}",neq:"{0}{1}",lt:"{0}{1}",gt:"{0}{1}",lte:"{0}{1}",gte:"{0}{1}"},range:{rg:"{1}{2}",gte:"{1}",lte:"{1}"},checked:{eq:"{1}",rg:"{1}{2}",gte:"{1}",lte:"{1}"},length:{eq:"{1}",rg:"{1}{2}",gte:"{1}",lte:"{1}",eq_2:"",rg_2:"",gte_2:"",lte_2:""}}});var TPL_ARROW='<span class="n-arrow"><b></b><i></i></span>';$.validator.setTheme({'simple_right':{formClass:'n-simple',msgClass:'n-right'},'simple_bottom':{formClass:'n-simple',msgClass:'n-bottom'},'yellow_top':{formClass:'n-yellow',msgClass:'n-top',msgArrow:TPL_ARROW},'yellow_right':{formClass:'n-yellow',msgClass:'n-right',msgArrow:TPL_ARROW},'yellow_right_effect':{formClass:'n-yellow',msgClass:'n-right',msgArrow:TPL_ARROW,msgShow:function($msgbox,type){var $el=$msgbox.children();if($el.is(':animated'))return;if(type==='error'){$el.css({left:'20px',opacity:0}).delay(100).show().stop().animate({left:'-4px',opacity:1},150).animate({left:'3px'},80).animate({left:0},80);}else{$el.css({left:0,opacity:1}).fadeIn(200);}},msgHide:function($msgbox,type){var $el=$msgbox.children();$el.stop().delay(100).show().animate({left:'20px',opacity:0},300,function(){$msgbox.hide();});}}});}));(function($,undefined){var $window=$(window);function UTCDate(){return new Date(Date.UTC.apply(Date,arguments));}
function UTCToday(){var today=new Date();return UTCDate(today.getFullYear(),today.getMonth(),today.getDate());}
function alias(method){return function(){return this[method].apply(this,arguments);};}
var DateArray=(function(){var extras={get:function(i){return this.slice(i)[0];},contains:function(d){var val=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)
if(this[i].valueOf()===val)
return i;return-1;},remove:function(i){this.splice(i,1);},replace:function(new_array){if(!new_array)
return;if(!$.isArray(new_array))
new_array=[new_array];this.clear();this.push.apply(this,new_array);},clear:function(){this.splice(0);},copy:function(){var a=new DateArray();a.replace(this);return a;}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a;};})();var Datepicker=function(element,options){this.dates=new DateArray();this.viewDate=UTCToday();this.focusDate=null;this._process_options(options);this.element=$(element);this.isInline=false;this.isInput=this.element.is('input');this.component=this.element.is('.date')?this.element.find('.add-on, .input-group-addon, .btn'):false;this.hasInput=this.component&&this.element.find('input').length;if(this.component&&this.component.length===0)
this.component=false;this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass('datepicker-inline').appendTo(this.element);}
else{this.picker.addClass('datepicker-dropdown dropdown-menu');}
if(this.o.rtl){this.picker.addClass('datepicker-rtl');}
this.viewMode=this.o.startView;if(this.o.calendarWeeks)
this.picker.find('tfoot th.today').attr('colspan',function(i,val){return parseInt(val)+1;});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show();}};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])
lang=defaults.language;}
o.language=lang;switch(o.startView){case 2:case'decade':o.startView=2;break;case 1:case'year':o.startView=1;break;default:o.startView=0;}
switch(o.minViewMode){case 1:case'months':o.minViewMode=1;break;case 2:case'years':o.minViewMode=2;break;default:o.minViewMode=0;}
o.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false)
o.multidate=Math.max(0,o.multidate);else
o.multidate=1;}
o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=((o.weekStart+6)%7);var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity){if(!!o.startDate){if(o.startDate instanceof Date)
o.startDate=this._local_to_utc(this._zero_time(o.startDate));else
o.startDate=DPGlobal.parseDate(o.startDate,format,o.language);}
else{o.startDate=-Infinity;}}
if(o.endDate!==Infinity){if(!!o.endDate){if(o.endDate instanceof Date)
o.endDate=this._local_to_utc(this._zero_time(o.endDate));else
o.endDate=DPGlobal.parseDate(o.endDate,format,o.language);}
else{o.endDate=Infinity;}}
o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))
o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10);});var plc=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return(/^auto|left|right|top|bottom$/).test(word);});o.orientation={x:'auto',y:'auto'};if(!_plc||_plc==='auto');else if(plc.length===1){switch(plc[0]){case'top':case'bottom':o.orientation.y=plc[0];break;case'left':case'right':o.orientation.x=plc[0];break;}}
else{_plc=$.grep(plc,function(word){return(/^left|right$/).test(word);});o.orientation.x=_plc[0]||'auto';_plc=$.grep(plc,function(word){return(/^top|bottom$/).test(word);});o.orientation.y=_plc[0]||'auto';}},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var i=0,el,ch,ev;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1];}
else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2];}
el.on(ev,ch);}},_unapplyEvents:function(evs){for(var i=0,el,ev,ch;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1];}
else if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2];}
el.off(ev,ch);}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)
this.update();},this),keydown:$.proxy(this.keydown,this)}]];}
else if(this.component&&this.hasInput){this._events=[[this.element.find('input'),{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)
this.update();},this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]];}
else if(this.element.is('div')){this.isInline=true;}
else{this._events=[[this.element,{click:$.proxy(this.show,this)}]];}
this._events.push([this.element,'*',{blur:$.proxy(function(e){this._focused_from=e.target;},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target;},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{'mousedown touchstart':$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length)){this.hide();}},this)}]];},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events);},_detachEvents:function(){this._unapplyEvents(this._events);},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents);},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents);},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format;}
else if(typeof ix==='string'){format=ix;ix=this.dates.length-1;}
format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language);},this)});},show:function(){if(!this.isInline)
this.picker.appendTo('body');this.picker.show();this.place();this._attachSecondaryEvents();this._trigger('show');},hide:function(){if(this.isInline)
return;if(!this.picker.is(':visible'))
return;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find('input').val()))
this.setValue();this._trigger('hide');},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date;}},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+(utc.getTimezoneOffset()*60000));},_local_to_utc:function(local){return local&&new Date(local.getTime()-(local.getTimezoneOffset()*60000));},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate());},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()));},getDates:function(){return $.map(this.dates,this._utc_to_local);},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d);});},getDate:function(){return this._utc_to_local(this.getUTCDate());},getUTCDate:function(){return new Date(this.dates.get(-1));},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger('changeDate');this.setValue();},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(args,this._utc_to_local));this._trigger('changeDate');this.setValue();},setDate:alias('setDates'),setUTCDate:alias('setUTCDates'),setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find('input').val(formatted).change();}}
else{this.element.val(formatted).change();}},getFormattedDate:function(format){if(format===undefined)
format=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang);}).join(this.o.multidateSeparator);},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows();},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows();},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();this.updateNavArrows();},place:function(){if(this.isInline)
return;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,windowWidth=$window.width(),windowHeight=$window.height(),scrollTop=$window.scrollTop();var zIndex=parseInt(this.element.parents().filter(function(){return $(this).css('z-index')!=='auto';}).first().css('z-index'))+10;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var width=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var left=offset.left,top=offset.top;this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom '+
'datepicker-orient-right datepicker-orient-left');if(this.o.orientation.x!=='auto'){this.picker.addClass('datepicker-orient-'+this.o.orientation.x);if(this.o.orientation.x==='right')
left-=calendarWidth-width;}
else{this.picker.addClass('datepicker-orient-left');if(offset.left<0)
left-=offset.left-visualPadding;else if(offset.left+calendarWidth>windowWidth)
left=windowWidth-calendarWidth-visualPadding;}
var yorient=this.o.orientation.y,top_overflow,bottom_overflow;if(yorient==='auto'){top_overflow=-scrollTop+offset.top-calendarHeight;bottom_overflow=scrollTop+windowHeight-(offset.top+height+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===bottom_overflow)
yorient='top';else
yorient='bottom';}
this.picker.addClass('datepicker-orient-'+yorient);if(yorient==='top')
top+=height;else
top-=calendarHeight+parseInt(this.picker.css('padding-top'));this.picker.css({top:top,left:left,zIndex:zIndex});},_allow_update:true,update:function(){if(!this._allow_update)
return;var oldDates=this.dates.copy(),dates=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)
date=this._local_to_utc(date);dates.push(date);},this));fromArgs=true;}
else{dates=this.isInput?this.element.val():this.element.data('date')||this.element.find('input').val();if(dates&&this.o.multidate)
dates=dates.split(this.o.multidateSeparator);else
dates=[dates];delete this.element.data().date;}
dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language);},this));dates=$.grep(dates,$.proxy(function(date){return(date<this.o.startDate||date>this.o.endDate||!date);},this),true);this.dates.replace(dates);if(this.dates.length)
this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)
this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)
this.viewDate=new Date(this.o.endDate);if(fromArgs){this.setValue();}
else if(dates.length){if(String(oldDates)!==String(this.dates))
this._trigger('changeDate');}
if(!this.dates.length&&oldDates.length)
this._trigger('clearDate');this.fill();},fillDow:function(){var dowCnt=this.o.weekStart,html='<tr>';if(this.o.calendarWeeks){var cell='<th class="cw">&nbsp;</th>';html+=cell;this.picker.find('.datepicker-days thead tr:first-child').prepend(cell);}
while(dowCnt<this.o.weekStart+7){html+='<th class="dow">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';}
html+='</tr>';this.picker.find('.datepicker-days thead').append(html);},fillMonths:function(){var html='',i=0;while(i<12){html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+'</span>';}
this.picker.find('.datepicker-months td').html(html);},setRange:function(range){if(!range||!range.length)
delete this.range;else
this.range=$.map(range,function(d){return d.valueOf();});this.fill();},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date();if(date.getUTCFullYear()<year||(date.getUTCFullYear()===year&&date.getUTCMonth()<month)){cls.push('old');}
else if(date.getUTCFullYear()>year||(date.getUTCFullYear()===year&&date.getUTCMonth()>month)){cls.push('new');}
if(this.focusDate&&date.valueOf()===this.focusDate.valueOf())
cls.push('focused');if(this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate()){cls.push('today');}
if(this.dates.contains(date)!==-1)
cls.push('active');if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){cls.push('disabled');}
if(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1]){cls.push('range');}
if($.inArray(date.valueOf(),this.range)!==-1){cls.push('selected');}}
return cls;},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=dates[this.o.language].today||dates['en'].today||'',cleartxt=dates[this.o.language].clear||dates['en'].clear||'',tooltip;this.picker.find('.datepicker-days thead th.datepicker-switch').text(dates[this.o.language].months[month]+' '+year);this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.o.weekStart){html.push('<tr>');if(this.o.calendarWeeks){var
ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+'</td>');}}
clsName=this.getClassNames(prevMonth);clsName.push('day');if(this.o.beforeShowDay!==$.noop){var before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined)
before={};else if(typeof(before)==='boolean')
before={enabled:before};else if(typeof(before)==='string')
before={classes:before};if(before.enabled===false)
clsName.push('disabled');if(before.classes)
clsName=clsName.concat(before.classes.split(/\s+/));if(before.tooltip)
tooltip=before.tooltip;}
clsName=$.unique(clsName);html.push('<td class="'+clsName.join(' ')+'"'+(tooltip?' title="'+tooltip+'"':'')+'>'+prevMonth.getUTCDate()+'</td>');if(prevMonth.getUTCDay()===this.o.weekEnd){html.push('</tr>');}
prevMonth.setUTCDate(prevMonth.getUTCDate()+1);}
this.picker.find('.datepicker-days tbody').empty().append(html.join(''));var months=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)
months.eq(d.getUTCMonth()).addClass('active');});if(year<startYear||year>endYear){months.addClass('disabled');}
if(year===startYear){months.slice(0,startMonth).addClass('disabled');}
if(year===endYear){months.slice(endMonth+1).addClass('disabled');}
html='';year=parseInt(year/10,10)*10;var yearCont=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;var years=$.map(this.dates,function(d){return d.getUTCFullYear();}),classes;for(var i=-1;i<11;i++){classes=['year'];if(i===-1)
classes.push('old');else if(i===10)
classes.push('new');if($.inArray(year,years)!==-1)
classes.push('active');if(year<startYear||year>endYear)
classes.push('disabled');html+='<span class="'+classes.join(' ')+'">'+year+'</span>';year+=1;}
yearCont.html(html);},updateNavArrows:function(){if(!this._allow_update)
return;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find('.prev').css({visibility:'hidden'});}
else{this.picker.find('.prev').css({visibility:'visible'});}
if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find('.next').css({visibility:'hidden'});}
else{this.picker.find('.next').css({visibility:'visible'});}
break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find('.prev').css({visibility:'hidden'});}
else{this.picker.find('.prev').css({visibility:'visible'});}
if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find('.next').css({visibility:'hidden'});}
else{this.picker.find('.next').css({visibility:'visible'});}
break;}},click:function(e){e.preventDefault();var target=$(e.target).closest('span, td, th'),year,month,day;if(target.length===1){switch(target[0].nodeName.toLowerCase()){case'th':switch(target[0].className){case'datepicker-switch':this.showMode(1);break;case'prev':case'next':var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className==='prev'?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger('changeMonth',this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);if(this.viewMode===1)
this._trigger('changeYear',this.viewDate);break;}
this.fill();break;case'today':var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn==='linked'?null:'view';this._setDate(date,which);break;case'clear':var element;if(this.isInput)
element=this.element;else if(this.component)
element=this.element.find('input');if(element)
element.val("").change();this.update();this._trigger('changeDate');if(this.o.autoclose)
this.hide();break;}
break;case'span':if(!target.is('.disabled')){this.viewDate.setUTCDate(1);if(target.is('.month')){day=1;month=target.parent().find('span').index(target);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger('changeMonth',this.viewDate);if(this.o.minViewMode===1){this._setDate(UTCDate(year,month,day));}}
else{day=1;month=0;year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger('changeYear',this.viewDate);if(this.o.minViewMode===2){this._setDate(UTCDate(year,month,day));}}
this.showMode(-1);this.fill();}
break;case'td':if(target.is('.day')&&!target.is('.disabled')){day=parseInt(target.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();if(target.is('.old')){if(month===0){month=11;year-=1;}
else{month-=1;}}
else if(target.is('.new')){if(month===11){month=0;year+=1;}
else{month+=1;}}
this._setDate(UTCDate(year,month,day));}
break;}}
if(this.picker.is(':visible')&&this._focused_from){$(this._focused_from).focus();}
delete this._focused_from;},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date){this.dates.clear();}
else if(ix!==-1){this.dates.remove(ix);}
else{this.dates.push(date);}
if(typeof this.o.multidate==='number')
while(this.dates.length>this.o.multidate)
this.dates.remove(0);},_setDate:function(date,which){if(!which||which==='date')
this._toggle_multidate(date&&new Date(date));if(!which||which==='view')
this.viewDate=date&&new Date(date);this.fill();this.setValue();this._trigger('changeDate');var element;if(this.isInput){element=this.element;}
else if(this.component){element=this.element.find('input');}
if(element){element.change();}
if(this.o.autoclose&&(!which||which==='date')){this.hide();}},moveMonth:function(date,dir){if(!date)
return undefined;if(!dir)
return date;var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1
?function(){return new_date.getUTCMonth()===month;}
:function(){return new_date.getUTCMonth()!==new_month;};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11)
new_month=(new_month+12)%12;}
else{for(var i=0;i<mag;i++)
new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth();};}
while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month);}
return new_date;},moveYear:function(date,dir){return this.moveMonth(date,dir*12);},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate;},keydown:function(e){if(this.picker.is(':not(:visible)')){if(e.keyCode===27)
this.show();return;}
var dateChanged=false,dir,newDate,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();}
else
this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)
break;dir=e.keyCode===37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate);}
else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate);}
else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir);}
if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault();}
break;case 38:case 40:if(!this.o.keyboardNavigation)
break;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate);}
else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate);}
else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7);}
if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault();}
break;case 32:break;case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(focusDate);dateChanged=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(':visible')){e.preventDefault();if(this.o.autoclose)
this.hide();}
break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break;}
if(dateChanged){if(this.dates.length)
this._trigger('changeDate');else
this._trigger('clearDate');var element;if(this.isInput){element=this.element;}
else if(this.component){element=this.element.find('input');}
if(element){element.change();}}},showMode:function(dir){if(dir){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir));}
this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).css('display','block');this.updateNavArrows();}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i;});delete options.inputs;$(this.inputs).datepicker(options).bind('changeDate',$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data('datepicker');});this.updateDates();};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate();});this.updateRanges();},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf();});$.each(this.pickers,function(i,p){p.setRange(range);});},dateUpdated:function(e){if(this.updating)
return;this.updating=true;var dp=$(e.target).data('datepicker'),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),l=this.inputs.length;if(i===-1)
return;$.each(this.pickers,function(i,p){if(!p.getUTCDate())
p.setUTCDate(new_date);});if(new_date<this.dates[i]){while(i>=0&&new_date<this.dates[i]){this.pickers[i--].setUTCDate(new_date);}}
else if(new_date>this.dates[i]){while(i<l&&new_date>this.dates[i]){this.pickers[i++].setUTCDate(new_date);}}
this.updateDates();delete this.updating;},remove:function(){$.map(this.pickers,function(p){p.remove();});delete this.element.data().datepicker;}};function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp('^'+prefix.toLowerCase()+'([A-Z])');prefix=new RegExp('^'+prefix.toLowerCase());function re_lower(_,a){return a.toLowerCase();}
for(var key in data)
if(prefix.test(key)){inkey=key.replace(replace,re_lower);out[inkey]=data[key];}
return out;}
function opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])
return;}
var d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)
out[k]=d[k];});return out;}
var old=$.fn.datepicker;$.fn.datepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data('datepicker'),options=typeof option==='object'&&option;if(!data){var elopts=opts_from_el(this,'date'),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.is('.input-daterange')||opts.inputs){var ropts={inputs:opts.inputs||$this.find('input').toArray()};$this.data('datepicker',(data=new DateRangePicker(this,$.extend(opts,ropts))));}
else{$this.data('datepicker',(data=new Datepicker(this,opts)));}}
if(typeof option==='string'&&typeof data[option]==='function'){internal_return=data[option].apply(data,args);if(internal_return!==undefined)
return false;}});if(internal_return!==undefined)
return internal_return;else
return this;};var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:'mm/dd/yyyy',keyboardNavigation:true,language:'en',minViewMode:0,multidate:false,multidateSeparator:',',orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var locale_opts=$.fn.datepicker.locale_opts=['format','rtl','weekStart'];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var DPGlobal={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0));},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month];},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,'\0').split('\0'),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.");}
return{separators:separators,parts:parts};},parseDate:function(date,format,language){if(!date)
return undefined;if(date instanceof Date)
return date;if(typeof format==='string')
format=DPGlobal.parseFormat(format);var part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),part,dir,i;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){date=new Date();for(i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case'd':date.setUTCDate(date.getUTCDate()+dir);break;case'm':date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case'w':date.setUTCDate(date.getUTCDate()+dir*7);break;case'y':date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);break;}}
return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0);}
parts=date&&date.match(this.nonpunctuation)||[];date=new Date();var parsed={},setters_order=['yyyy','yy','M','MM','m','mm','d','dd'],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v);},yy:function(d,v){return d.setUTCFullYear(2000+v);},m:function(d,v){if(isNaN(d))
return d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)
d.setUTCDate(d.getUTCDate()-1);return d;},d:function(d,v){return d.setUTCDate(v);}},val,filtered;setters_map['M']=setters_map['MM']=setters_map['mm']=setters_map['m'];setters_map['dd']=setters_map['d'];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!==fparts.length){fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1;}).toArray();}
function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m===p;}
if(parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val)){switch(part){case'MM':filtered=$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case'M':filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;}}
parsed[part]=val;}
var _date,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){_date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))
date=_date;}}}
return date;},formatDate:function(date,format,language){if(!date)
return'';if(typeof format==='string')
format=DPGlobal.parseFormat(format);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?'0':'')+val.d;val.mm=(val.m<10?'0':'')+val.m;date=[];var seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length)
date.push(seps.shift());date.push(val[format.parts[i]]);}
return date.join('');},headTemplate:'<thead>'+
'<tr>'+
'<th class="prev">&laquo;</th>'+
'<th colspan="5" class="datepicker-switch"></th>'+
'<th class="next">&raquo;</th>'+
'</tr>'+
'</thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot>'+
'<tr>'+
'<th colspan="7" class="today"></th>'+
'</tr>'+
'<tr>'+
'<th colspan="7" class="clear"></th>'+
'</tr>'+
'</tfoot>'};DPGlobal.template='<div class="datepicker">'+
'<div class="datepicker-days">'+
'<table class=" table-condensed">'+
DPGlobal.headTemplate+
'<tbody></tbody>'+
DPGlobal.footTemplate+
'</table>'+
'</div>'+
'<div class="datepicker-months">'+
'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+
DPGlobal.footTemplate+
'</table>'+
'</div>'+
'<div class="datepicker-years">'+
'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+
DPGlobal.footTemplate+
'</table>'+
'</div>'+
'</div>';$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this;};$(document).on('focus.datepicker.data-api click.datepicker.data-api','[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data('datepicker'))
return;e.preventDefault();$this.datepicker('show');});$(function(){$('[data-provide="datepicker-inline"]').datepicker();});}(window.jQuery));;(function($,window,document,undefined){var pluginName="metisMenu",defaults={toggle:true,doubleTapToGo:false};function Plugin(element,options){this.element=$(element);this.settings=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init();}
Plugin.prototype={init:function(){var $this=this.element,$toggle=this.settings.toggle,obj=this;if(this.isIE()<=9){$this.find("li.active").has("ul").children("ul").collapse("show");$this.find("li").not(".active").has("ul").children("ul").collapse("hide");}else{$this.find("li.active").has("ul").children("ul").addClass("collapse in");$this.find("li").not(".active").has("ul").children("ul").addClass("collapse");}
if(obj.settings.doubleTapToGo){$this.find("li.active").has("ul").children("a").addClass("doubleTapToGo");}
$this.find("li").has("ul").children("a").on("click"+"."+pluginName,function(e){e.preventDefault();if(obj.settings.doubleTapToGo){if(obj.doubleTapToGo($(this))&&$(this).attr("href")!=="#"&&$(this).attr("href")!==""){e.stopPropagation();document.location=$(this).attr("href");return;}}
$(this).parent("li").toggleClass("active").children("ul").collapse("toggle");if($toggle){$(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide");}});},isIE:function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+(++v)+"]><i></i><![endif]-->",all[0]){return v>4?v:undef;}},doubleTapToGo:function(elem){var $this=this.element;if(elem.hasClass("doubleTapToGo")){elem.removeClass("doubleTapToGo");return true;}
if(elem.parent().children("ul").length){$this.find(".doubleTapToGo").removeClass("doubleTapToGo");elem.addClass("doubleTapToGo");return false;}},remove:function(){this.element.off("."+pluginName);this.element.removeData(pluginName);}};$.fn[pluginName]=function(options){this.each(function(){var el=$(this);if(el.data(pluginName)){el.data(pluginName).remove();}
el.data(pluginName,new Plugin(this,options));});return this;};})(jQuery,window,document);/*! layer-v2.1  License LGPL  http://layer.layui.com/ By  */
;!function(a,b){"use strict";var c,d,e={getPath:function(){var a=document.scripts,b=a[a.length-1],c=b.src;if(!b.getAttribute("merge"))return c.substring(0,c.lastIndexOf("/")+1)}(),enter:function(a){13===a.keyCode&&a.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},f={v:"2.1",ie6:!!a.ActiveXObject&&!a.XMLHttpRequest,index:0,path:e.getPath,config:function(a,b){var d=0;return a=a||{},f.cache=e.config=c.extend(e.config,a),f.path=e.config.path||f.path,"string"==typeof a.extend&&(a.extend=[a.extend]),f.use("skin/layer.css",a.extend&&a.extend.length>0?function g(){var c=a.extend;f.use(c[c[d]?d:d-1],d<c.length?function(){return++d,g}():b)}():b),this},use:function(a,b,d){var e=c("head")[0],a=a.replace(/\s/g,""),g=/\.css$/.test(a),h=document.createElement(g?"link":"script"),i="layui_layer_"+a.replace(/\.|\//g,"");return f.path?(g&&(h.rel="stylesheet"),h[g?"href":"src"]=/^http:\/\//.test(a)?a:f.path+a,h.id=i,c("#"+i)[0]||e.appendChild(h),function j(){(g?1989===parseInt(c("#"+i).css("width")):f[d||i])?function(){b&&b();try{g||e.removeChild(h)}catch(a){}}():setTimeout(j,100)}(),this):void 0},ready:function(a,b){var d="function"==typeof a;return d&&(b=a),f.config(c.extend(e.config,function(){return d?{}:{path:a}}()),b),this},alert:function(a,b,d){var e="function"==typeof b;return e&&(d=b),f.open(c.extend({content:a,yes:d},e?{}:b))},confirm:function(a,b,d,g){var h="function"==typeof b;return h&&(g=d,d=b),f.open(c.extend({content:a,btn:e.btn,yes:d,cancel:g},h?{}:b))},msg:function(a,d,g){var i="function"==typeof d,j=e.config.skin,k=(j?j+" "+j+"-msg":"")||"layui-layer-msg",l=h.anim.length-1;return i&&(g=d),f.open(c.extend({content:a,time:3e3,shade:!1,skin:k,title:!1,closeBtn:!1,btn:!1,end:g},i&&!e.config.skin?{skin:k+" layui-layer-hui",shift:l}:function(){return d=d||{},(-1===d.icon||d.icon===b&&!e.config.skin)&&(d.skin=k+" "+(d.skin||"layui-layer-hui")),d}()))},load:function(a,b){return f.open(c.extend({type:3,icon:a||0,shade:.01},b))},tips:function(a,b,d){return f.open(c.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,maxWidth:210},d))}},g=function(a){var b=this;b.index=++f.index,b.config=c.extend({},b.config,e.config,a),b.creat()};g.pt=g.prototype;var h=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];h.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],g.pt.config={type:0,shade:.3,fix:!0,move:h[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},g.pt.vessel=function(a,b){var c=this,d=c.index,f=c.config,g=f.zIndex+d,i="object"==typeof f.title,j=f.maxmin&&(1===f.type||2===f.type),k=f.title?'<div class="layui-layer-title" style="'+(i?f.title[1]:"")+'">'+(i?f.title[0]:f.title)+"</div>":"";return f.zIndex=g,b([f.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+d+'" times="'+d+'" style="'+("z-index:"+(g-1)+"; background-color:"+(f.shade[1]||"#000")+"; opacity:"+(f.shade[0]||f.shade)+"; filter:alpha(opacity="+(100*f.shade[0]||100*f.shade)+");")+'"></div>':"",'<div class="'+h[0]+" "+(h.anim[f.shift]||"")+(" layui-layer-"+e.type[f.type])+(0!=f.type&&2!=f.type||f.shade?"":" layui-layer-border")+" "+(f.skin||"")+'" id="'+h[0]+d+'" type="'+e.type[f.type]+'" times="'+d+'" showtime="'+f.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+g+"; width:"+f.area[0]+";height:"+f.area[1]+(f.fix?"":";position:absolute;")+'">'+(a&&2!=f.type?"":k)+'<div class="layui-layer-content'+(0==f.type&&-1!==f.icon?" layui-layer-padding":"")+(3==f.type?" layui-layer-loading"+f.icon:"")+'">'+(0==f.type&&-1!==f.icon?'<i class="layui-layer-ico layui-layer-ico'+f.icon+'"></i>':"")+(1==f.type&&a?"":f.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=j?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return f.closeBtn&&(a+='<a class="layui-layer-ico '+h[7]+" "+h[7]+(f.title?f.closeBtn:4==f.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(f.btn?function(){var a="";"string"==typeof f.btn&&(f.btn=[f.btn]);for(var b=0,c=f.btn.length;c>b;b++)a+='<a class="'+h[6]+b+'">'+f.btn[b]+"</a>";return'<div class="'+h[6]+'">'+a+"</div>"}():"")+"</div>"],k),c},g.pt.creat=function(){var a=this,b=a.config,g=a.index,i=b.content,j="object"==typeof i;switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.type){case 0:b.btn="btn"in b?b.btn:e.btn[0],f.closeAll("dialog");break;case 2:var i=b.content=j?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+h[4]+g+'" name="'+h[4]+g+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:b.title=!1,b.closeBtn=!1,-1===b.icon&&0===b.icon,f.closeAll("loading");break;case 4:j||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',b.title=!1,b.shade=!1,b.fix=!1,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||f.closeAll("tips")}a.vessel(j,function(d,e){c("body").append(d[0]),j?function(){2==b.type||4==b.type?function(){c("body").append(d[1])}():function(){i.parents("."+h[0])[0]||(i.show().addClass("layui-layer-wrap").wrap(d[1]),c("#"+h[0]+g).find("."+h[5]).before(e))}()}():c("body").append(d[1]),a.layero=c("#"+h[0]+g),b.scrollbar||h.html.css("overflow","hidden").attr("layer-full",g)}).auto(g),2==b.type&&f.ie6&&a.layero.find("iframe").attr("src",i[0]),c(document).off("keydown",e.enter).on("keydown",e.enter),a.layero.on("keydown",function(a){c(document).off("keydown",e.enter)}),4==b.type?a.tips():a.offset(),b.fix&&d.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(g),4==b.type&&a.tips()}),b.time<=0||setTimeout(function(){f.close(a.index)},b.time),a.move().callback()},g.pt.auto=function(a){function b(a){a=g.find(a),a.height(i[1]-j-k-2*(0|parseFloat(a.css("padding"))))}var e=this,f=e.config,g=c("#"+h[0]+a);""===f.area[0]&&f.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&f.btn&&g.width(g.innerWidth()),g.outerWidth()>f.maxWidth&&g.width(f.maxWidth));var i=[g.innerWidth(),g.innerHeight()],j=g.find(h[1]).outerHeight()||0,k=g.find("."+h[6]).outerHeight()||0;switch(f.type){case 2:b("iframe");break;default:""===f.area[1]?f.fix&&i[1]>=d.height()&&(i[1]=d.height(),b("."+h[5])):b("."+h[5])}return e},g.pt.offset=function(){var a=this,b=a.config,c=a.layero,e=[c.outerWidth(),c.outerHeight()],f="object"==typeof b.offset;a.offsetTop=(d.height()-e[1])/2,a.offsetLeft=(d.width()-e[0])/2,f?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):"auto"!==b.offset&&(a.offsetTop=b.offset,"rb"===b.offset&&(a.offsetTop=d.height()-e[1],a.offsetLeft=d.width()-e[0])),b.fix||(a.offsetTop=/%$/.test(a.offsetTop)?d.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?d.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=d.scrollTop(),a.offsetLeft+=d.scrollLeft()),c.css({top:a.offsetTop,left:a.offsetLeft})},g.pt.tips=function(){var a=this,b=a.config,e=a.layero,f=[e.outerWidth(),e.outerHeight()],g=c(b.follow);g[0]||(g=c("body"));var i={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},j=e.find(".layui-layer-TipsG"),k=b.tips[0];b.tips[1]||j.remove(),i.autoLeft=function(){i.left+f[0]-d.width()>0?(i.tipLeft=i.left+i.width-f[0],j.css({right:12,left:"auto"})):i.tipLeft=i.left},i.where=[function(){i.autoLeft(),i.tipTop=i.top-f[1]-10,j.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){i.tipLeft=i.left+i.width+10,i.tipTop=i.top,j.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){i.autoLeft(),i.tipTop=i.top+i.height+10,j.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){i.tipLeft=i.left-f[0]-10,i.tipTop=i.top,j.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],i.where[k-1](),1===k?i.top-(d.scrollTop()+f[1]+16)<0&&i.where[2]():2===k?d.width()-(i.left+i.width+f[0]+16)>0||i.where[3]():3===k?i.top-d.scrollTop()+i.height+f[1]+16-d.height()>0&&i.where[0]():4===k&&f[0]+16-i.left>0&&i.where[1](),e.find("."+h[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),e.css({left:i.tipLeft,top:i.tipTop})},g.pt.move=function(){var a=this,b=a.config,e={setY:0,moveLayer:function(){var a=e.layero,b=parseInt(a.css("margin-left")),c=parseInt(e.move.css("left"));0===b||(c-=b),"fixed"!==a.css("position")&&(c-=a.parent().offset().left,e.setY=0),a.css({left:c,top:parseInt(e.move.css("top"))-e.setY})}},f=a.layero.find(b.move);return b.move&&f.attr("move","ok"),f.css({cursor:b.move?"move":"auto"}),c(b.move).on("mousedown",function(a){if(a.preventDefault(),"ok"===c(this).attr("move")){e.ismove=!0,e.layero=c(this).parents("."+h[0]);var f=e.layero.offset().left,g=e.layero.offset().top,i=e.layero.outerWidth()-6,j=e.layero.outerHeight()-6;c("#layui-layer-moves")[0]||c("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+f+"px; top:"+g+"px; width:"+i+"px; height:"+j+'px; z-index:2147483584"></div>'),e.move=c("#layui-layer-moves"),b.moveType&&e.move.css({visibility:"hidden"}),e.moveX=a.pageX-e.move.position().left,e.moveY=a.pageY-e.move.position().top,"fixed"!==e.layero.css("position")||(e.setY=d.scrollTop())}}),c(document).mousemove(function(a){if(e.ismove){var c=a.pageX-e.moveX,f=a.pageY-e.moveY;if(a.preventDefault(),!b.moveOut){e.setY=d.scrollTop();var g=d.width()-e.move.outerWidth(),h=e.setY;0>c&&(c=0),c>g&&(c=g),h>f&&(f=h),f>d.height()-e.move.outerHeight()+e.setY&&(f=d.height()-e.move.outerHeight()+e.setY)}e.move.css({left:c,top:f}),b.moveType&&e.moveLayer(),c=f=g=h=null}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),b.moveEnd&&b.moveEnd()),e.ismove=!1}catch(a){e.ismove=!1}}),a},g.pt.callback=function(){function a(){var a=g.cancel&&g.cancel(b.index);a===!1||f.close(b.index)}var b=this,d=b.layero,g=b.config;b.openLayer(),g.success&&(2==g.type?d.find("iframe").on("load",function(){g.success(d,b.index)}):g.success(d,b.index)),f.ie6&&b.IE6(d),d.find("."+h[6]).children("a").on("click",function(){var e=c(this).index();g["btn"+(e+1)]&&g["btn"+(e+1)](b.index,d),0===e?g.yes?g.yes(b.index,d):f.close(b.index):1===e?a():g["btn"+(e+1)]||f.close(b.index)}),d.find("."+h[7]).on("click",a),g.shadeClose&&c("#layui-layer-shade"+b.index).on("click",function(){f.close(b.index)}),d.find(".layui-layer-min").on("click",function(){f.min(b.index,g),g.min&&g.min(d)}),d.find(".layui-layer-max").on("click",function(){c(this).hasClass("layui-layer-maxmin")?(f.restore(b.index),g.restore&&g.restore(d)):(f.full(b.index,g),g.full&&g.full(d))}),g.end&&(e.end[b.index]=g.end)},e.reselect=function(){c.each(c("select"),function(a,b){var d=c(this);d.parents("."+h[0])[0]||1==d.attr("layer")&&c("."+h[0]).length<1&&d.removeAttr("layer").show(),d=null})},g.pt.IE6=function(a){function b(){a.css({top:f+(e.config.fix?d.scrollTop():0)})}var e=this,f=a.offset().top;b(),d.scroll(b),c("select").each(function(a,b){var d=c(this);d.parents("."+h[0])[0]||"none"===d.css("display")||d.attr({layer:"1"}).hide(),d=null})},g.pt.openLayer=function(){var a=this;f.zIndex=a.config.zIndex,f.setTop=function(a){var b=function(){f.zIndex++,a.css("z-index",f.zIndex+1)};return f.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),f.zIndex}},e.record=function(a){var b=[a.outerWidth(),a.outerHeight(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:b})},e.rescollbar=function(a){h.html.attr("layer-full")==a&&(h.html[0].style.removeProperty?h.html[0].style.removeProperty("overflow"):h.html[0].style.removeAttribute("overflow"),h.html.removeAttr("layer-full"))},a.layer=f,f.getChildFrame=function(a,b){return b=b||c("."+h[4]).attr("times"),c("#"+h[0]+b).find("iframe").contents().find(a)},f.getFrameIndex=function(a){return c("#"+a).parents("."+h[4]).attr("times")},f.iframeAuto=function(a){if(a){var b=f.getChildFrame("html",a).outerHeight(),d=c("#"+h[0]+a),e=d.find(h[1]).outerHeight()||0,g=d.find("."+h[6]).outerHeight()||0;d.css({height:b+e+g}),d.find("iframe").css({height:b})}},f.iframeSrc=function(a,b){c("#"+h[0]+a).find("iframe").attr("src",b)},f.style=function(a,b){var d=c("#"+h[0]+a),f=d.attr("type"),g=d.find(h[1]).outerHeight()||0,i=d.find("."+h[6]).outerHeight()||0;(f===e.type[1]||f===e.type[2])&&(d.css(b),f===e.type[2]&&d.find("iframe").css({height:parseFloat(b.height)-g-i}))},f.min=function(a,b){var d=c("#"+h[0]+a),g=d.find(h[1]).outerHeight()||0;e.record(d),f.style(a,{width:180,height:g,overflow:"hidden"}),d.find(".layui-layer-min").hide(),"page"===d.attr("type")&&d.find(h[4]).hide(),e.rescollbar(a)},f.restore=function(a){var b=c("#"+h[0]+a),d=b.attr("area").split(",");b.attr("type");f.style(a,{width:parseFloat(d[0]),height:parseFloat(d[1]),top:parseFloat(d[2]),left:parseFloat(d[3]),overflow:"visible"}),b.find(".layui-layer-max").removeClass("layui-layer-maxmin"),b.find(".layui-layer-min").show(),"page"===b.attr("type")&&b.find(h[4]).show(),e.rescollbar(a)},f.full=function(a){var b,g=c("#"+h[0]+a);e.record(g),h.html.attr("layer-full")||h.html.css("overflow","hidden").attr("layer-full",a),clearTimeout(b),b=setTimeout(function(){var b="fixed"===g.css("position");f.style(a,{top:b?0:d.scrollTop(),left:b?0:d.scrollLeft(),width:d.width(),height:d.height()}),g.find(".layui-layer-min").hide()},100)},f.title=function(a,b){var d=c("#"+h[0]+(b||f.index)).find(h[1]);d.html(a)},f.close=function(a){var b=c("#"+h[0]+a),d=b.attr("type");if(b[0]){if(d===e.type[1]&&"object"===b.attr("conType")){b.children(":not(."+h[5]+")").remove();for(var g=0;2>g;g++)b.find(".layui-layer-wrap").unwrap().hide()}else{if(d===e.type[2])try{var i=c("#"+h[4]+a)[0];i.contentWindow.document.write(""),i.contentWindow.close(),b.find("."+h[5])[0].removeChild(i)}catch(j){}b[0].innerHTML="",b.remove()}c("#layui-layer-moves, #layui-layer-shade"+a).remove(),f.ie6&&e.reselect(),e.rescollbar(a),c(document).off("keydown",e.enter),"function"==typeof e.end[a]&&e.end[a](),delete e.end[a]}},f.closeAll=function(a){c.each(c("."+h[0]),function(){var b=c(this),d=a?b.attr("type")===a:1;d&&f.close(b.attr("times")),d=null})},e.run=function(){c=jQuery,d=c(a),h.html=c("html"),f.open=function(a){var b=new g(a);return b.index}},"function"==typeof define?define(function(){return e.run(),f}):function(){e.run(),f.use("skin/layer.css")}()}(window);;(function(){'use strict';var window=this,document=this.document;function EventEmitter(){this._events=this._events||{};}
EventEmitter.prototype.addListener=function(type,listener){this._events[type]=this._events[type]||[];this._events[type].push(listener);};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.removeListener=function(type,listener){if(!this._events[type])return;var obj=this._events[type],i=obj.length;while(i--){if(obj[i]===listener||obj[i].listener===listener){obj.splice(i,1);return;}}};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(type){if(this._events[type])delete this._events[type];};EventEmitter.prototype.once=function(type,listener){function on(){var args=Array.prototype.slice.call(arguments);this.removeListener(type,on);return listener.apply(this,args);}
on.listener=listener;return this.on(type,on);};EventEmitter.prototype.emit=function(type){if(!this._events[type])return;var args=Array.prototype.slice.call(arguments,1),obj=this._events[type],l=obj.length,i=0;for(;i<l;i++){obj[i].apply(this,args);}};EventEmitter.prototype.listeners=function(type){return this._events[type]=this._events[type]||[];};function Stream(){EventEmitter.call(this);}
inherits(Stream,EventEmitter);Stream.prototype.pipe=function(dest,options){var src=this,ondata,onerror,onend;function unbind(){src.removeListener('data',ondata);src.removeListener('error',onerror);src.removeListener('end',onend);dest.removeListener('error',onerror);dest.removeListener('close',unbind);}
src.on('data',ondata=function(data){dest.write(data);});src.on('error',onerror=function(err){unbind();if(!this.listeners('error').length){throw err;}});src.on('end',onend=function(){dest.end();unbind();});dest.on('error',onerror);dest.on('close',unbind);dest.emit('pipe',src);return dest;};var normal=0,escaped=1,csi=2,osc=3,charset=4,dcs=5,ignore=6,UDK={type:'udk'};function Terminal(options){var self=this;if(!(this instanceof Terminal)){return new Terminal(arguments[0],arguments[1],arguments[2]);}
Stream.call(this);if(typeof options==='number'){options={cols:arguments[0],rows:arguments[1],handler:arguments[2]};}
options=options||{};each(keys(Terminal.defaults),function(key){if(options[key]==null){options[key]=Terminal.options[key];if(Terminal[key]!==Terminal.defaults[key]){options[key]=Terminal[key];}}
self[key]=options[key];});if(options.colors.length===8){options.colors=options.colors.concat(Terminal._colors.slice(8));}else if(options.colors.length===16){options.colors=options.colors.concat(Terminal._colors.slice(16));}else if(options.colors.length===10){options.colors=options.colors.slice(0,-2).concat(Terminal._colors.slice(8,-2),options.colors.slice(-2));}else if(options.colors.length===18){options.colors=options.colors.slice(0,-2).concat(Terminal._colors.slice(16,-2),options.colors.slice(-2));}
this.colors=options.colors;this.options=options;this.parent=options.body||options.parent||(document?document.getElementsByTagName('body')[0]:null);this.cols=options.cols||options.geometry[0];this.rows=options.rows||options.geometry[1];this.setRawMode;this.isTTY=true;this.isRaw=true;this.columns=this.cols;this.rows=this.rows;if(options.handler){this.on('data',options.handler);}
this.ybase=0;this.ydisp=0;this.x=0;this.y=0;this.cursorState=0;this.cursorHidden=false;this.convertEol;this.state=0;this.queue='';this.scrollTop=0;this.scrollBottom=this.rows-1;this.applicationKeypad=false;this.applicationCursor=false;this.originMode=false;this.insertMode=false;this.wraparoundMode=false;this.normal=null;this.prefixMode=false;this.selectMode=false;this.visualMode=false;this.searchMode=false;this.searchDown;this.entry='';this.entryPrefix='Search: ';this._real;this._selected;this._textarea;this.charset=null;this.gcharset=null;this.glevel=0;this.charsets=[null];this.decLocator;this.x10Mouse;this.vt200Mouse;this.vt300Mouse;this.normalMouse;this.mouseEvents;this.sendFocus;this.utfMouse;this.sgrMouse;this.urxvtMouse;this.element;this.children;this.refreshStart;this.refreshEnd;this.savedX;this.savedY;this.savedCols;this.readable=true;this.writable=true;this.defAttr=(0<<18)|(257<<9)|(256<<0);this.curAttr=this.defAttr;this.params=[];this.currentParam=0;this.prefix='';this.postfix='';this.lines=[];var i=this.rows;while(i--){this.lines.push(this.blankLine());}
this.tabs;this.setupStops();}
inherits(Terminal,Stream);Terminal.tangoColors=['#2e3436','#cc0000','#4e9a06','#c4a000','#3465a4','#75507b','#06989a','#d3d7cf','#555753','#ef2929','#8ae234','#fce94f','#729fcf','#ad7fa8','#34e2e2','#eeeeec'];Terminal.xtermColors=['#000000','#cd0000','#00cd00','#cdcd00','#0000ee','#cd00cd','#00cdcd','#e5e5e5','#7f7f7f','#ff0000','#00ff00','#ffff00','#5c5cff','#ff00ff','#00ffff','#ffffff'];Terminal.colors=(function(){var colors=Terminal.tangoColors.slice(),r=[0x00,0x5f,0x87,0xaf,0xd7,0xff],i;i=0;for(;i<216;i++){out(r[(i/36)%6|0],r[(i/6)%6|0],r[i%6]);}
i=0;for(;i<24;i++){r=8+i*10;out(r,r,r);}
function out(r,g,b){colors.push('#'+hex(r)+hex(g)+hex(b));}
function hex(c){c=c.toString(16);return c.length<2?'0'+c:c;}
return colors;})();Terminal.colors[256]='#000000';Terminal.colors[257]='#f0f0f0';Terminal._colors=Terminal.colors.slice();Terminal.vcolors=(function(){var out=[],colors=Terminal.colors,i=0,color;for(;i<256;i++){color=parseInt(colors[i].substring(1),16);out.push([(color>>16)&0xff,(color>>8)&0xff,color&0xff]);}
return out;})();Terminal.defaults={colors:Terminal.colors,convertEol:false,termName:'xterm',geometry:[80,24],cursorBlink:true,visualBell:false,popOnBell:false,scrollback:1000,screenKeys:false,debug:false,useStyle:false
};Terminal.options={};each(keys(Terminal.defaults),function(key){Terminal[key]=Terminal.defaults[key];Terminal.options[key]=Terminal.defaults[key];});Terminal.focus=null;Terminal.prototype.focus=function(){if(this._textarea){this._textarea.focus();}
if(Terminal.focus===this)return;if(Terminal.focus){Terminal.focus.blur();}
if(this.sendFocus)this.send('\x1b[I');this.showCursor();Terminal.focus=this;};Terminal.prototype.blur=function(){if(Terminal.focus!==this)return;this.cursorState=0;this.refresh(this.y,this.y);if(this.sendFocus)this.send('\x1b[O');Terminal.focus=null;};Terminal.prototype.initGlobal=function(){var document=this.document;Terminal._boundDocs=Terminal._boundDocs||[];if(~indexOf(Terminal._boundDocs,document)){return;}
Terminal._boundDocs.push(document);Terminal.bindPaste(document);Terminal.bindKeys(document);Terminal.bindCopy(document);if(this.useStyle){Terminal.insertStyle(document,this.colors[256],this.colors[257]);}};Terminal.bindPaste=function(document){var window=document.defaultView;on(window,'paste',function(ev){var term=Terminal.focus;if(!term)return;if(term._textarea)return;if(ev.clipboardData){term.send(ev.clipboardData.getData('text/plain'));}else if(term.context.clipboardData){term.send(term.context.clipboardData.getData('Text'));}
term.element.contentEditable='inherit';return cancel(ev);});};Terminal.bindKeys=function(document){on(document,'keydown',function(ev){if(!Terminal.focus)return;var target=ev.target||ev.srcElement;if(!target)return;if(target===Terminal.focus.element||target===Terminal.focus.context||target===Terminal.focus.document||target===Terminal.focus.body||target===Terminal.focus._textarea||target===Terminal.focus.parent){return Terminal.focus.keyDown(ev);}},true);on(document,'keypress',function(ev){if(!Terminal.focus)return;var target=ev.target||ev.srcElement;if(!target)return;if(target===Terminal.focus.element||target===Terminal.focus.context||target===Terminal.focus.document||target===Terminal.focus.body||target===Terminal.focus._textarea||target===Terminal.focus.parent){return Terminal.focus.keyPress(ev);}},true);on(document,'mousedown',function(ev){if(!Terminal.focus)return;var el=ev.target||ev.srcElement;if(!el)return;if(!el.parentNode)return;if(!el.parentNode.parentNode)return;do{if(el===Terminal.focus.element)return;}while(el=el.parentNode);Terminal.focus.blur();});};Terminal.bindCopy=function(document){var window=document.defaultView;on(window,'copy',function(ev){var term=Terminal.focus;if(!term)return;if(!term._selected)return;var textarea=term.getCopyTextarea();var text=term.grabText(term._selected.x1,term._selected.x2,term._selected.y1,term._selected.y2);term.emit('copy',text);textarea.focus();textarea.textContent=text;textarea.value=text;textarea.setSelectionRange(0,text.length);setTimeout(function(){term.element.focus();term.focus();},1);});};Terminal.prototype.getTextarea=function(document){var self=this;var textarea=document.createElement('textarea');textarea.style.position='absolute';textarea.style.left='-32000px';textarea.style.top='-32000px';textarea.style.width='100em';textarea.style.height='2em';textarea.style.padding='0';textarea.style.opacity='0';textarea.style.color='inherit';textarea.style.font='inherit';textarea.style.textIndent='-1em';textarea.style.backgroundColor='transparent';textarea.style.borderStyle='none';textarea.style.outlineStyle='none';textarea.autocapitalize='none';textarea.autocorrect='off';var onInputTimestamp;var onInput=function(ev){if(ev.timeStamp&&ev.timeStamp===onInputTimestamp){return;}
onInputTimestamp=ev.timeStamp;var value=textarea.textContent||textarea.value;if(typeof self.select.startPos!=='undefined'){self.select={};self.clearSelectedText();self.refresh(0,self.rows-1);}
if(!self.compositionStatus){textarea.value='';textarea.textContent='';self.send(value);}};on(textarea,'compositionstart',function(){textarea.style.opacity="1.0";textarea.style.textIndent="0";self.compositionStatus=true;});on(textarea,'compositionend',function(ev){textarea.style.opacity="0.0";textarea.style.textIndent="-1em";self.compositionStatus=false;setTimeout(function(){onInput(ev);},1);});on(textarea,'keydown',function(){var value=textarea.textContent||textarea.value;});on(textarea,'input',onInput);if(Terminal.isAndroid){on(textarea,'change',function(){var value=textarea.textContent||textarea.value;textarea.value='';textarea.textContent='';self.send(value+'\r');});}
return textarea;};Terminal.insertStyle=function(document,bg,fg){var style=document.getElementById('term-style');if(style)return;var head=document.getElementsByTagName('head')[0];if(!head)return;var style=document.createElement('style');style.id='term-style';style.innerHTML=''
+'.terminal {\n'
+'  float: left;\n'
+'  border: '+bg+' solid 5px;\n'
+'  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n'
+'  font-size: 11px;\n'
+'  color: '+fg+';\n'
+'  background: '+bg+';\n'
+'}\n'
+'\n'
+'.terminal-cursor {\n'
+'  color: '+bg+';\n'
+'  background: '+fg+';\n'
+'}\n';head.insertBefore(style,head.firstChild);};Terminal.prototype.open=function(parent){var self=this,i=0,div;this.parent=parent||this.parent;if(!this.parent){throw new Error('Terminal requires a parent element.');}
this.context=this.parent.ownerDocument.defaultView;this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName('body')[0];if(this.context.navigator&&this.context.navigator.userAgent){this.isMac=!!~this.context.navigator.userAgent.indexOf('Mac');this.isIpad=!!~this.context.navigator.userAgent.indexOf('iPad');this.isIphone=!!~this.context.navigator.userAgent.indexOf('iPhone');this.isAndroid=!!~this.context.navigator.userAgent.indexOf('Android');this.isMobile=this.isIpad||this.isIphone||this.isAndroid;this.isMSIE=!!~this.context.navigator.userAgent.indexOf('MSIE');}
this.element=this.document.createElement('div');this.element.className='terminal';this.element.style.outline='none';this.element.setAttribute('tabindex',0);this.element.setAttribute('spellcheck','false');this.element.style.backgroundColor=this.colors[256];this.element.style.color=this.colors[257];this.children=[];for(;i<this.rows;i++){div=this.document.createElement('div');this.element.appendChild(div);this.children.push(div);}
this._textarea=this.getTextarea(this.document);this.element.appendChild(this._textarea);this.parent.appendChild(this.element);this.select={};this.refresh(0,this.rows-1);var updateSelect=function(){var startPos=self.select.startPos;var endPos=self.select.endPos;if(endPos.y<startPos.y||(startPos.y==endPos.y&&endPos.x<startPos.x)){var tmp=startPos;startPos=endPos;endPos=tmp;}
if(self.select.clicks===2){var j=i;var isMark=function(ch){var code=ch.charCodeAt(0);return(code<=0x2f)||(0x3a<=code&&code<=0x40)||(0x5b<=code&&code<0x60)||(0x7b<=code&&code<=0x7f);}
while(startPos.x>0&&!isMark(self.lines[startPos.y][startPos.x-1][1])){startPos.x--;}
while(endPos.x<self.cols&&!isMark(self.lines[endPos.y][endPos.x][1])){endPos.x++;}}else if(self.select.clicks===3){startPos.x=0;endPos.y++;endPos.x=0;}
if(startPos.x===endPos.x&&startPos.y===endPos.y){self.clearSelectedText();}else{var x2=endPos.x;var y2=endPos.y;x2--;if(x2<0){y2--;x2=self.cols-1;}
self.selectText(startPos.x,x2,startPos.y,y2);}};var copySelectToTextarea=function(){var textarea=self._textarea;if(textarea){if(self.select.startPos.x===self.select.endPos.x&&self.select.startPos.y===self.select.endPos.y){textarea.value="";textarea.select();return;}
var x2=self.select.endPos.x;var y2=self.select.endPos.y;x2--;if(x2<0){y2--;x2=self.cols-1;}
var value=self.grabText(self.select.startPos.x,x2,self.select.startPos.y,y2);textarea.value=value;textarea.select();}};on(this.element,'mousedown',function(ev){if(ev.button===2){var r=self.element.getBoundingClientRect();var x=ev.pageX-r.left+self.element.offsetLeft;var y=ev.pageY-r.top+self.element.offsetTop;self._textarea.style.left=x+'px';self._textarea.style.top=y+'px';return;}
if(ev.button!=0){return;}
if(navigator.userAgent.indexOf("Trident")){if(self.select.timer){self.select.clicks++;clearTimeout(self.select.timer);self.select.timer=null;}else{self.select.clicks=1;}
self.select.timer=setTimeout(function(){self.select.timer=null;},600);}else{self.select.clicks=ev.detail;}
if(!ev.shiftKey){self.clearSelectedText();self.select.startPos=self.getCoords(ev);self.select.startPos.y+=self.ydisp;}
self.select.endPos=self.getCoords(ev);self.select.endPos.y+=self.ydisp;updateSelect();copySelectToTextarea();self.refresh(0,self.rows-1);self.select.selecting=true;});on(this.element,'mousemove',function(ev){if(self.select.selecting){self.select.endPos=self.getCoords(ev);self.select.endPos.y+=self.ydisp;updateSelect();self.refresh(0,self.rows-1);}});on(document,'mouseup',function(ev){if(ev.button===2){var r=self.element.getBoundingClientRect();var x=ev.pageX-r.left+self.element.offsetLeft;var y=ev.pageY-r.top+self.element.offsetTop;self._textarea.style.left=x-1+'px';self._textarea.style.top=y-1+'px';return;}
if(self.select.selecting){self.select.selecting=false;copySelectToTextarea();}});if(!('useEvents'in this.options)||this.options.useEvents){this.initGlobal();}
if(!('useFocus'in this.options)||this.options.useFocus){this.focus();this.startBlink();on(this.element,'focus',function(){self.focus();});on(this.element,'mousedown',function(){self.focus();});on(this.element,'mousedown',function(ev){var button=ev.button!=null?+ev.button:ev.which!=null?ev.which-1:null;if(self.isMSIE){button=button===1?0:button===4?1:button;}
if(button!==2)return;self.element.contentEditable='true';setTimeout(function(){self.element.contentEditable='inherit';},1);},true);}
if(!('useMouse'in this.options)||this.options.useMouse){this.bindMouse();}
if(!('useFocus'in this.options)||this.options.useFocus){setTimeout(function(){self.element.focus();self.focus();},100);}
if(Terminal.brokenBold==null){Terminal.brokenBold=isBoldBroken(this.document);}
this.emit('open');};Terminal.prototype.setRawMode=function(value){this.isRaw=!!value;};Terminal.prototype.getCoords=function(ev){var x,y,w,h,el;var self=this;if(ev.pageX==null)return;x=ev.pageX;y=ev.pageY;el=self.element;x-=el.clientLeft;y-=el.clientTop;while(el&&el!==self.document.documentElement){x-=el.offsetLeft;y-=el.offsetTop;el='offsetParent'in el?el.offsetParent:el.parentNode;}
w=self.element.clientWidth;h=self.element.clientHeight;var cols=Math.floor((x/w)*self.cols);var rows=Math.floor((y/h)*self.rows);if(cols<0)cols=0;if(cols>self.cols)cols=self.cols;if(rows<0)rows=0;if(rows>self.rows)rows=self.rows;return{x:cols,y:rows,};}
Terminal.prototype.bindMouse=function(){var el=this.element,self=this,pressed=32;var wheelEvent='onmousewheel'in this.context?'mousewheel':'DOMMouseScroll';function sendButton(ev){var button,pos;button=getButton(ev);pos=getCoords(ev);if(!pos)return;sendEvent(button,pos);switch(ev.type){case'mousedown':pressed=button;break;case'mouseup':pressed=32;break;case wheelEvent:break;}}
function sendMove(ev){var button=pressed,pos;pos=getCoords(ev);if(!pos)return;button+=32;sendEvent(button,pos);}
function encode(data,ch){if(!self.utfMouse){if(ch===255)return data.push(0);if(ch>127)ch=127;data.push(ch);}else{if(ch===2047)return data.push(0);if(ch<127){data.push(ch);}else{if(ch>2047)ch=2047;data.push(0xC0|(ch>>6));data.push(0x80|(ch&0x3F));}}}
function sendEvent(button,pos){if(self.vt300Mouse){button&=3;pos.x-=32;pos.y-=32;var data='\x1b[24';if(button===0)data+='1';else if(button===1)data+='3';else if(button===2)data+='5';else if(button===3)return;else data+='0';data+='~['+pos.x+','+pos.y+']\r';self.send(data);return;}
if(self.decLocator){button&=3;pos.x-=32;pos.y-=32;if(button===0)button=2;else if(button===1)button=4;else if(button===2)button=6;else if(button===3)button=3;self.send('\x1b['
+button
+';'
+(button===3?4:0)
+';'
+pos.y
+';'
+pos.x
+';'
+(pos.page||0)
+'&w');return;}
if(self.urxvtMouse){pos.x-=32;pos.y-=32;pos.x++;pos.y++;self.send('\x1b['+button+';'+pos.x+';'+pos.y+'M');return;}
if(self.sgrMouse){pos.x-=32;pos.y-=32;self.send('\x1b[<'
+((button&3)===3?button&~3:button)
+';'
+pos.x
+';'
+pos.y
+((button&3)===3?'m':'M'));return;}
var data=[];encode(data,button);encode(data,pos.x);encode(data,pos.y);self.send('\x1b[M'+String.fromCharCode.apply(String,data));}
function getButton(ev){var button,shift,meta,ctrl,mod;switch(ev.type){case'mousedown':button=ev.button!=null?+ev.button:ev.which!=null?ev.which-1:null;if(self.isMSIE){button=button===1?0:button===4?1:button;}
break;case'mouseup':button=3;break;case'DOMMouseScroll':button=ev.detail<0?64:65;break;case'mousewheel':button=ev.wheelDeltaY>0?64:65;break;}
shift=ev.shiftKey?4:0;meta=ev.metaKey?8:0;ctrl=ev.ctrlKey?16:0;mod=shift|meta|ctrl;if(self.vt200Mouse){mod&=ctrl;}else if(!self.normalMouse){mod=0;}
button=(32+(mod<<2))+button;return button;}
function getCoords(ev){var x,y,w,h,el;if(ev.pageX==null)return;x=ev.pageX;y=ev.pageY;el=self.element;while(el&&el!==self.document.documentElement){x-=el.offsetLeft;y-=el.offsetTop;el='offsetParent'in el?el.offsetParent:el.parentNode;}
w=self.element.clientWidth;h=self.element.clientHeight;x=Math.round((x/w)*self.cols);y=Math.round((y/h)*self.rows);if(x<0)x=0;if(x>self.cols)x=self.cols;if(y<0)y=0;if(y>self.rows)y=self.rows;x+=32;y+=32;return{x:x,y:y,type:ev.type===wheelEvent?'mousewheel':ev.type};}
on(el,'mousedown',function(ev){if(!self.mouseEvents)return;sendButton(ev);self.focus();if(self.normalMouse)on(self.document,'mousemove',sendMove);if(!self.x10Mouse){on(self.document,'mouseup',function up(ev){sendButton(ev);if(self.normalMouse)off(self.document,'mousemove',sendMove);off(self.document,'mouseup',up);return cancel(ev);});}
return cancel(ev);});on(el,wheelEvent,function(ev){if(!self.mouseEvents)return;if(self.x10Mouse||self.vt300Mouse||self.decLocator)return;sendButton(ev);return cancel(ev);});on(el,wheelEvent,function(ev){if(self.mouseEvents)return;if(self.applicationKeypad)return;if(ev.type==='DOMMouseScroll'){self.scrollDisp(ev.detail<0?-5:5);}else{self.scrollDisp(ev.wheelDeltaY>0?-5:5);}
return cancel(ev);});};Terminal.prototype.close=Terminal.prototype.destroySoon=Terminal.prototype.destroy=function(){if(this.destroyed){return;}
if(this._blink){clearInterval(this._blink);delete this._blink;}
this.readable=false;this.writable=false;this.destroyed=true;this._events={};this.handler=function(){};this.write=function(){};this.end=function(){};if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}
this.emit('end');this.emit('close');this.emit('finish');this.emit('destroy');};Terminal.prototype.refresh=function(start,end){var x,y,i,line,out,ch,width,data,attr,bg,fg,flags,row,parent;var characterWidth=this.element.clientWidth/this.cols;var characterHeight=this.element.clientHeight/this.rows;var focused;if(end-start>=this.rows/2){focused=(Terminal.focus==this);parent=this.element.parentNode;if(parent)parent.removeChild(this.element);}
width=this.cols;y=start;if(end>=this.lines.length){this.log('`end` is too large. Most likely a bad CSR.');end=this.lines.length-1;}
for(;y<=end;y++){row=y+this.ydisp;line=this.lines[row];out='';if(y===this.y&&this.cursorState&&(this.ydisp===this.ybase||this.selectMode)&&!this.cursorHidden){x=this.x;}else{x=-1;}
attr=this.defAttr;i=0;for(;i<width;i++){data=line[i][0];ch=line[i][1];if(i===x)data=-1;if(data!==attr){if(attr!==this.defAttr){out+='</span>';}
if(data!==this.defAttr){if(data===-1){out+='<span class="reverse-video terminal-cursor">';}else{out+='<span style="';bg=data&0x1ff;fg=(data>>9)&0x1ff;flags=data>>18;if(flags&1){if(!Terminal.brokenBold){out+='font-weight:bold;';}
if(fg<8)fg+=8;}
if(flags&2){out+='text-decoration:underline;';}
if(flags&4){if(flags&2){out=out.slice(0,-1);out+=' blink;';}else{out+='text-decoration:blink;';}}
if(flags&8){bg=(data>>9)&0x1ff;fg=data&0x1ff;if((flags&1)&&fg<8)fg+=8;}
if(flags&16){out+='visibility:hidden;';}
if(bg!==256){out+='background-color:'
+this.colors[bg]
+';';}
if(fg!==257){out+='color:'
+this.colors[fg]
+';';}
out+='">';}}}
switch(ch){case'&':out+='&amp;';break;case'<':out+='&lt;';break;case'>':out+='&gt;';break;default:if(ch<=' '){out+='&nbsp;';}else{if(isWide(ch)){i++;out+='<span style="display:inline-block; width:'+characterWidth*2+'px; height:'+characterHeight+'px; line-height:'+characterHeight+'px;">'+ch+'</span>';}else{out+=ch;}}
break;}
attr=data;}
if(attr!==this.defAttr){out+='</span>';}
this.children[y].innerHTML=out;}
if(parent){parent.appendChild(this.element);if(focused){this.focus();}}
if(this._textarea){var cursorElement=this.element.querySelector('.terminal-cursor');if(cursorElement){var cursor_x=cursorElement.offsetLeft;var cursor_y=cursorElement.offsetTop;this._textarea.style.left=cursor_x+'px';this._textarea.style.top=cursor_y+'px';}}};Terminal.prototype._cursorBlink=function(){if(Terminal.focus!==this)return;this.cursorState^=1;this.refresh(this.y,this.y);};Terminal.prototype.showCursor=function(){if(!this.cursorState){this.cursorState=1;this.refresh(this.y,this.y);}else{}};Terminal.prototype.startBlink=function(){if(!this.cursorBlink)return;var self=this;this._blinker=function(){self._cursorBlink();};this._blink=setInterval(this._blinker,500);};Terminal.prototype.refreshBlink=function(){if(!this.cursorBlink||!this._blink)return;clearInterval(this._blink);this._blink=setInterval(this._blinker,500);};Terminal.prototype.scroll=function(){var row;if(++this.ybase===this.scrollback){this.ybase=this.ybase/2|0;this.lines=this.lines.slice(-(this.ybase+this.rows)+1);}
this.ydisp=this.ybase;row=this.ybase+this.rows-1;row-=this.rows-1-this.scrollBottom;if(row===this.lines.length){this.lines.push(this.blankLine());}else{this.lines.splice(row,0,this.blankLine());}
if(this.scrollTop!==0){if(this.ybase!==0){this.ybase--;this.ydisp=this.ybase;}
this.lines.splice(this.ybase+this.scrollTop,1);}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.scrollDisp=function(disp){this.ydisp+=disp;if(this.ydisp>this.ybase){this.ydisp=this.ybase;}else if(this.ydisp<0){this.ydisp=0;}
this.refresh(0,this.rows-1);};Terminal.prototype.write=function(data){var l=data.length,i=0,j,cs,ch;this.refreshStart=this.y;this.refreshEnd=this.y;if(this.ybase!==this.ydisp){this.ydisp=this.ybase;this.maxRange();}
for(;i<l;i++,this.lch=ch){ch=data[i];switch(this.state){case normal:switch(ch){case'\x07':this.bell();break;case'\n':case'\x0b':case'\x0c':if(this.convertEol){this.x=0;}
this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}
break;case'\r':this.x=0;break;case'\x08':if(this.x>0){this.x--;}
break;case'\t':this.x=this.nextStop();break;case'\x0e':this.setgLevel(1);break;case'\x0f':this.setgLevel(0);break;case'\x1b':this.state=escaped;break;default:if(ch>=' '){if(this.charset&&this.charset[ch]){ch=this.charset[ch];}
if(this.x>=this.cols){this.x=0;this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}}
this.lines[this.y+this.ybase][this.x]=[this.curAttr,ch];this.x++;this.updateRange(this.y);if(isWide(ch)){j=this.y+this.ybase;if(this.cols<2||this.x>=this.cols){this.lines[j][this.x-1]=[this.curAttr,' '];break;}
this.lines[j][this.x]=[this.curAttr,' '];this.x++;}}
break;}
break;case escaped:switch(ch){case'[':this.params=[];this.currentParam=0;this.state=csi;break;case']':this.params=[];this.currentParam=0;this.state=osc;break;case'P':this.params=[];this.prefix='';this.currentParam='';this.state=dcs;break;case'_':this.state=ignore;break;case'^':this.state=ignore;break;case'c':this.reset();break;case'E':this.x=0;;case'D':this.index();break;case'M':this.reverseIndex();break;case'%':this.setgLevel(0);this.setgCharset(0,Terminal.charsets.US);this.state=normal;i++;break;case'(':case')':case'*':case'+':case'-':case'.':switch(ch){case'(':this.gcharset=0;break;case')':this.gcharset=1;break;case'*':this.gcharset=2;break;case'+':this.gcharset=3;break;case'-':this.gcharset=1;break;case'.':this.gcharset=2;break;}
this.state=charset;break;case'/':this.gcharset=3;this.state=charset;i--;break;case'N':break;case'O':break;case'n':this.setgLevel(2);break;case'o':this.setgLevel(3);break;case'|':this.setgLevel(3);break;case'}':this.setgLevel(2);break;case'~':this.setgLevel(1);break;case'7':this.saveCursor();this.state=normal;break;case'8':this.restoreCursor();this.state=normal;break;case'#':this.state=normal;i++;break;case'H':this.tabSet();break;case'=':this.log('Serial port requested application keypad.');this.applicationKeypad=true;this.state=normal;break;case'>':this.log('Switching back to normal keypad.');this.applicationKeypad=false;this.state=normal;break;default:this.state=normal;this.error('Unknown ESC control: %s.',ch);break;}
break;case charset:switch(ch){case'0':cs=Terminal.charsets.SCLD;break;case'A':cs=Terminal.charsets.UK;break;case'B':cs=Terminal.charsets.US;break;case'4':cs=Terminal.charsets.Dutch;break;case'C':case'5':cs=Terminal.charsets.Finnish;break;case'R':cs=Terminal.charsets.French;break;case'Q':cs=Terminal.charsets.FrenchCanadian;break;case'K':cs=Terminal.charsets.German;break;case'Y':cs=Terminal.charsets.Italian;break;case'E':case'6':cs=Terminal.charsets.NorwegianDanish;break;case'Z':cs=Terminal.charsets.Spanish;break;case'H':case'7':cs=Terminal.charsets.Swedish;break;case'=':cs=Terminal.charsets.Swiss;break;case'/':cs=Terminal.charsets.ISOLatin;i++;break;default:cs=Terminal.charsets.US;break;}
this.setgCharset(this.gcharset,cs);this.gcharset=null;this.state=normal;break;case osc:if((this.lch==='\x1b'&&ch==='\\')||ch==='\x07'){if(this.lch==='\x1b'){if(typeof this.currentParam==='string'){this.currentParam=this.currentParam.slice(0,-1);}else if(typeof this.currentParam=='number'){this.currentParam=(this.currentParam-('\x1b'.charCodeAt(0)-48))/10;}}
this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:if(this.params[1]){this.title=this.params[1];this.handleTitle(this.title);}
break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:break;}
this.params=[];this.currentParam=0;this.state=normal;}else{if(!this.params.length){if(ch>='0'&&ch<='9'){this.currentParam=this.currentParam*10+ch.charCodeAt(0)-48;}else if(ch===';'){this.params.push(this.currentParam);this.currentParam='';}}else{this.currentParam+=ch;}}
break;case csi:if(ch==='?'||ch==='>'||ch==='!'){this.prefix=ch;break;}
if(ch>='0'&&ch<='9'){this.currentParam=this.currentParam*10+ch.charCodeAt(0)-48;break;}
if(ch==='$'||ch==='"'||ch===' '||ch==='\''){this.postfix=ch;break;}
this.params.push(this.currentParam);this.currentParam=0;if(ch===';')break;this.state=normal;switch(ch){case'A':this.cursorUp(this.params);break;case'B':this.cursorDown(this.params);break;case'C':this.cursorForward(this.params);break;case'D':this.cursorBackward(this.params);break;case'H':this.cursorPos(this.params);break;case'J':this.eraseInDisplay(this.params);break;case'K':this.eraseInLine(this.params);break;case'm':if(!this.prefix){this.charAttributes(this.params);}
break;case'n':if(!this.prefix){this.deviceStatus(this.params);}
break;case'@':this.insertChars(this.params);break;case'E':this.cursorNextLine(this.params);break;case'F':this.cursorPrecedingLine(this.params);break;case'G':this.cursorCharAbsolute(this.params);break;case'L':this.insertLines(this.params);break;case'M':this.deleteLines(this.params);break;case'P':this.deleteChars(this.params);break;case'X':this.eraseChars(this.params);break;case'`':this.charPosAbsolute(this.params);break;case'a':this.HPositionRelative(this.params);break;case'c':this.sendDeviceAttributes(this.params);break;case'd':this.linePosAbsolute(this.params);break;case'e':this.VPositionRelative(this.params);break;case'f':this.HVPosition(this.params);break;case'h':this.setMode(this.params);break;case'l':this.resetMode(this.params);break;case'r':this.setScrollRegion(this.params);break;case's':this.saveCursor(this.params);break;case'u':this.restoreCursor(this.params);break;case'I':this.cursorForwardTab(this.params);break;case'S':this.scrollUp(this.params);break;case'T':if(this.params.length<2&&!this.prefix){this.scrollDown(this.params);}
break;case'Z':this.cursorBackwardTab(this.params);break;case'b':this.repeatPrecedingCharacter(this.params);break;case'g':this.tabClear(this.params);break;case'p':switch(this.prefix){case'!':this.softReset(this.params);break;}
break;default:this.error('Unknown CSI code: %s.',ch);break;}
this.prefix='';this.postfix='';break;case dcs:if((this.lch==='\x1b'&&ch==='\\')||ch==='\x07'){if(this.prefix==='tmux;\x1b'){if(ch==='\x07'){this.currentParam+=ch;continue;}}
if(this.lch==='\x1b'){if(typeof this.currentParam==='string'){this.currentParam=this.currentParam.slice(0,-1);}else if(typeof this.currentParam=='number'){this.currentParam=(this.currentParam-('\x1b'.charCodeAt(0)-48))/10;}}
this.params.push(this.currentParam);var pt=this.params[this.params.length-1];switch(this.prefix){case UDK:this.emit('udk',{clearAll:this.params[0]===0,eraseBelow:this.params[0]===1,lockKeys:this.params[1]===0,dontLockKeys:this.params[1]===1,keyList:(this.params[2]+'').split(';').map(function(part){part=part.split('/');return{keyCode:part[0],hexKeyValue:part[1]};})});break;case'$q':var valid=0;switch(pt){case'"q':pt='0"q';valid=1;break;case'"p':pt='61;0"p';valid=1;break;case'r':pt=''
+(this.scrollTop+1)
+';'
+(this.scrollBottom+1)
+'r';valid=1;break;case'm':valid=0;break;default:this.error('Unknown DCS Pt: %s.',pt);valid=0;break;}
this.send('\x1bP'+valid+'$r'+pt+'\x1b\\');break;case'+p':this.emit('set terminfo',{name:this.params[0]});break;case'+q':var valid=false;this.send('\x1bP'+ +valid+'+r'+pt+'\x1b\\');break;case'tmux;\x1b':this.emit('passthrough',pt);break;default:this.error('Unknown DCS prefix: %s.',pt);break;}
this.currentParam=0;this.prefix='';this.state=normal;}else{this.currentParam+=ch;if(!this.prefix){if(/^\d*;\d*\|/.test(this.currentParam)){this.prefix=UDK;this.params=this.currentParam.split(/[;|]/).map(function(n){if(!n.length)return 0;return+n;}).slice(0,-1);this.currentParam='';}else if(/^[$+][a-zA-Z]/.test(this.currentParam)||/^\w+;\x1b/.test(this.currentParam)){this.prefix=this.currentParam;this.currentParam='';}}}
break;case ignore:if((this.lch==='\x1b'&&ch==='\\')||ch==='\x07'){this.state=normal;}
break;}}
this.updateRange(this.y);this.refresh(this.refreshStart,this.refreshEnd);return true;};Terminal.prototype.writeln=function(data){return this.write(data+'\r\n');};Terminal.prototype.end=function(data){var ret=true;if(data){ret=this.write(data);}
this.destroySoon();return ret;};Terminal.prototype.resume=function(){;};Terminal.prototype.pause=function(){;};Terminal.prototype.keyDown=function(ev){var self=this,key;switch(ev.keyCode){case 8:if(ev.altKey){key='\x17';break;}
if(ev.shiftKey){key='\x08';break;}
key='\x7f';break;case 9:if(ev.shiftKey){key='\x1b[Z';break;}
key='\t';break;case 13:key='\r';break;case 27:key='\x1b';break;case 37:if(this.applicationCursor){key='\x1bOD';break;}
if(ev.ctrlKey){key='\x1b[5D';break;}
key='\x1b[D';break;case 39:if(this.applicationCursor){key='\x1bOC';break;}
if(ev.ctrlKey){key='\x1b[5C';break;}
key='\x1b[C';break;case 38:if(this.applicationCursor){key='\x1bOA';break;}
if(ev.ctrlKey){this.scrollDisp(-1);return cancel(ev);}else{key='\x1b[A';}
break;case 40:if(this.applicationCursor){key='\x1bOB';break;}
if(ev.ctrlKey){this.scrollDisp(1);return cancel(ev);}else{key='\x1b[B';}
break;case 46:key='\x1b[3~';break;case 45:key='\x1b[2~';break;case 36:if(this.applicationKeypad){key='\x1bOH';break;}
key='\x1bOH';break;case 35:if(this.applicationKeypad){key='\x1bOF';break;}
key='\x1bOF';break;case 33:if(ev.shiftKey){this.scrollDisp(-(this.rows-1));return cancel(ev);}else{key='\x1b[5~';}
break;case 34:if(ev.shiftKey){this.scrollDisp(this.rows-1);return cancel(ev);}else{key='\x1b[6~';}
break;case 112:key='\x1bOP';break;case 113:key='\x1bOQ';break;case 114:key='\x1bOR';break;case 115:key='\x1bOS';break;case 116:key='\x1b[15~';break;case 117:key='\x1b[17~';break;case 118:key='\x1b[18~';break;case 119:key='\x1b[19~';break;case 120:key='\x1b[20~';break;case 121:key='\x1b[21~';break;case 122:key='\x1b[23~';break;case 123:key='\x1b[24~';break;default:if(ev.ctrlKey){if(ev.keyCode>=65&&ev.keyCode<=90){if(this.screenKeys){if(!this.prefixMode&&!this.selectMode&&ev.keyCode===65){this.enterPrefix();return cancel(ev);}}
if(this.prefixMode&&ev.keyCode===86){this.leavePrefix();return;}
if((this.prefixMode||this.selectMode)&&ev.keyCode===67){if(this.visualMode){setTimeout(function(){self.leaveVisual();},1);}
return;}
key=String.fromCharCode(ev.keyCode-64);}else if(ev.keyCode===32){key=String.fromCharCode(0);}else if(ev.keyCode>=51&&ev.keyCode<=55){key=String.fromCharCode(ev.keyCode-51+27);}else if(ev.keyCode===56){key=String.fromCharCode(127);}else if(ev.keyCode===219){key=String.fromCharCode(27);}else if(ev.keyCode===221){key=String.fromCharCode(29);}}else if(ev.altKey){if(ev.keyCode>=65&&ev.keyCode<=90){key='\x1b'+String.fromCharCode(ev.keyCode+32);}else if(ev.keyCode===192){key='\x1b`';}else if(ev.keyCode>=48&&ev.keyCode<=57){key='\x1b'+(ev.keyCode-48);}}
break;}
if(!key)return true;if(this.prefixMode){this.leavePrefix();return cancel(ev);}
if(this.selectMode){this.keySelect(ev,key);return cancel(ev);}
this.emit('keydown',ev);this.emit('key',key,ev);this.showCursor();this.handler(key);return cancel(ev);};Terminal.prototype.setgLevel=function(g){this.glevel=g;this.charset=this.charsets[g];};Terminal.prototype.setgCharset=function(g,charset){this.charsets[g]=charset;if(this.glevel===g){this.charset=charset;}};Terminal.prototype.keyPress=function(ev){var key;if(this._textarea){return;}
cancel(ev);if(ev.charCode){key=ev.charCode;}else if(ev.which==null){key=ev.keyCode;}else if(ev.which!==0&&ev.charCode!==0){key=ev.which;}else{return false;}
if(!key||ev.ctrlKey||ev.altKey||ev.metaKey)return false;key=String.fromCharCode(key);if(this.prefixMode){this.leavePrefix();this.keyPrefix(ev,key);return false;}
if(this.selectMode){this.keySelect(ev,key);return false;}
this.emit('keypress',key,ev);this.emit('key',key,ev);this.showCursor();this.handler(key);return false;};Terminal.prototype.send=function(data){var self=this;if(!this.queue){setTimeout(function(){self.handler(self.queue);self.queue='';},1);}
this.queue+=data;};Terminal.prototype.bell=function(){this.emit('bell');if(!this.visualBell)return;var self=this;this.element.style.borderColor='white';setTimeout(function(){self.element.style.borderColor='';},10);if(this.popOnBell)this.focus();};Terminal.prototype.log=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.log)return;var args=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,args);};Terminal.prototype.error=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.error)return;var args=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,args);};Terminal.prototype.resize=function(x,y){var line,el,i,j,ch;if(x<1)x=1;if(y<1)y=1;j=this.cols;if(j<x){ch=[this.defAttr,' '];i=this.lines.length;while(i--){while(this.lines[i].length<x){this.lines[i].push(ch);}}}else if(j>x){i=this.lines.length;while(i--){while(this.lines[i].length>x){this.lines[i].pop();}}}
this.setupStops(j);this.cols=x;this.columns=x;j=this.rows;if(j<y){el=this.element;while(j++<y){if(this.lines.length<y+this.ybase){this.lines.push(this.blankLine());}
if(this.children.length<y){line=this.document.createElement('div');el.appendChild(line);this.children.push(line);}}}else if(j>y){while(j-->y){if(this.lines.length>y+this.ybase){this.lines.pop();}
if(this.children.length>y){el=this.children.pop();if(!el)continue;el.parentNode.removeChild(el);}}}
this.rows=y;if(this.y>=y)this.y=y-1;if(this.x>=x)this.x=x-1;this.scrollTop=0;this.scrollBottom=y-1;this.refresh(0,this.rows-1);this.normal=null;this.emit('resize');};Terminal.prototype.updateRange=function(y){if(y<this.refreshStart)this.refreshStart=y;if(y>this.refreshEnd)this.refreshEnd=y;};Terminal.prototype.maxRange=function(){this.refreshStart=0;this.refreshEnd=this.rows-1;};Terminal.prototype.setupStops=function(i){if(i!=null){if(!this.tabs[i]){i=this.prevStop(i);}}else{this.tabs={};i=0;}
for(;i<this.cols;i+=8){this.tabs[i]=true;}};Terminal.prototype.prevStop=function(x){if(x==null)x=this.x;while(!this.tabs[--x]&&x>0);return x>=this.cols?this.cols-1:x<0?0:x;};Terminal.prototype.nextStop=function(x){if(x==null)x=this.x;while(!this.tabs[++x]&&x<this.cols);return x>=this.cols?this.cols-1:x<0?0:x;};Terminal.prototype.eraseAttr=function(){return(this.defAttr&~0x1ff)|(this.curAttr&0x1ff);};Terminal.prototype.eraseRight=function(x,y){var line=this.lines[this.ybase+y],ch=[this.eraseAttr(),' '];for(;x<this.cols;x++){line[x]=ch;}
this.updateRange(y);};Terminal.prototype.eraseLeft=function(x,y){var line=this.lines[this.ybase+y],ch=[this.eraseAttr(),' '];x++;while(x--)line[x]=ch;this.updateRange(y);};Terminal.prototype.eraseLine=function(y){this.eraseRight(0,y);};Terminal.prototype.blankLine=function(cur){var attr=cur?this.eraseAttr():this.defAttr;var ch=[attr,' '],line=[],i=0;for(;i<this.cols;i++){line[i]=ch;}
return line;};Terminal.prototype.ch=function(cur){return cur?[this.eraseAttr(),' ']:[this.defAttr,' '];};Terminal.prototype.is=function(term){var name=this.termName;return(name+'').indexOf(term)===0;};Terminal.prototype.handler=function(data){this.emit('data',data);};Terminal.prototype.handleTitle=function(title){this.emit('title',title);};Terminal.prototype.index=function(){this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}
this.state=normal;};Terminal.prototype.reverseIndex=function(){var j;this.y--;if(this.y<this.scrollTop){this.y++;this.lines.splice(this.y+this.ybase,0,this.blankLine(true));j=this.rows-1-this.scrollBottom;this.lines.splice(this.rows-1+this.ybase-j+1,1);this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);}
this.state=normal;};Terminal.prototype.reset=function(){this.options.rows=this.rows;this.options.cols=this.cols;Terminal.call(this,this.options);this.refresh(0,this.rows-1);};Terminal.prototype.tabSet=function(){this.tabs[this.x]=true;this.state=normal;};Terminal.prototype.cursorUp=function(params){var param=params[0];if(param<1)param=1;this.y-=param;if(this.y<0)this.y=0;};Terminal.prototype.cursorDown=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.cursorForward=function(params){var param=params[0];if(param<1)param=1;this.x+=param;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.cursorBackward=function(params){var param=params[0];if(param<1)param=1;this.x-=param;if(this.x<0)this.x=0;};Terminal.prototype.cursorPos=function(params){var row,col;row=params[0]-1;if(params.length>=2){col=params[1]-1;}else{col=0;}
if(row<0){row=0;}else if(row>=this.rows){row=this.rows-1;}
if(col<0){col=0;}else if(col>=this.cols){col=this.cols-1;}
this.x=col;this.y=row;};Terminal.prototype.eraseInDisplay=function(params){var j;switch(params[0]){case 0:this.eraseRight(this.x,this.y);j=this.y+1;for(;j<this.rows;j++){this.eraseLine(j);}
break;case 1:this.eraseLeft(this.x,this.y);j=this.y;while(j--){this.eraseLine(j);}
break;case 2:j=this.rows;while(j--)this.eraseLine(j);break;case 3:;break;}};Terminal.prototype.eraseInLine=function(params){switch(params[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y);break;}};Terminal.prototype.charAttributes=function(params){if(params.length===1&&params[0]===0){this.curAttr=this.defAttr;return;}
var l=params.length,i=0,flags=this.curAttr>>18,fg=(this.curAttr>>9)&0x1ff,bg=this.curAttr&0x1ff,p;for(;i<l;i++){p=params[i];if(p>=30&&p<=37){fg=p-30;}else if(p>=40&&p<=47){bg=p-40;}else if(p>=90&&p<=97){p+=8;fg=p-90;}else if(p>=100&&p<=107){p+=8;bg=p-100;}else if(p===0){flags=this.defAttr>>18;fg=(this.defAttr>>9)&0x1ff;bg=this.defAttr&0x1ff;}else if(p===1){flags|=1;}else if(p===4){flags|=2;}else if(p===5){flags|=4;}else if(p===7){flags|=8;}else if(p===8){flags|=16;}else if(p===22){flags&=~1;}else if(p===24){flags&=~2;}else if(p===25){flags&=~4;}else if(p===27){flags&=~8;}else if(p===28){flags&=~16;}else if(p===39){fg=(this.defAttr>>9)&0x1ff;}else if(p===49){bg=this.defAttr&0x1ff;}else if(p===38){if(params[i+1]===2){i+=2;fg=matchColor(params[i]&0xff,params[i+1]&0xff,params[i+2]&0xff);if(fg===-1)fg=0x1ff;i+=2;}else if(params[i+1]===5){i+=2;p=params[i]&0xff;fg=p;}}else if(p===48){if(params[i+1]===2){i+=2;bg=matchColor(params[i]&0xff,params[i+1]&0xff,params[i+2]&0xff);if(bg===-1)bg=0x1ff;i+=2;}else if(params[i+1]===5){i+=2;p=params[i]&0xff;bg=p;}}else if(p===100){fg=(this.defAttr>>9)&0x1ff;bg=this.defAttr&0x1ff;}else{this.error('Unknown SGR attribute: %d.',p);}}
this.curAttr=(flags<<18)|(fg<<9)|bg;};Terminal.prototype.deviceStatus=function(params){if(!this.prefix){switch(params[0]){case 5:this.send('\x1b[0n');break;case 6:this.send('\x1b['
+(this.y+1)
+';'
+(this.x+1)
+'R');break;}}else if(this.prefix==='?'){switch(params[0]){case 6:this.send('\x1b[?'
+(this.y+1)
+';'
+(this.x+1)
+'R');break;case 15:break;case 25:break;case 26:break;case 53:break;}}};Terminal.prototype.insertChars=function(params){var param,row,j,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.x;ch=[this.eraseAttr(),' '];while(param--&&j<this.cols){this.lines[row].splice(j++,0,ch);this.lines[row].pop();}};Terminal.prototype.cursorNextLine=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}
this.x=0;};Terminal.prototype.cursorPrecedingLine=function(params){var param=params[0];if(param<1)param=1;this.y-=param;if(this.y<0)this.y=0;this.x=0;};Terminal.prototype.cursorCharAbsolute=function(params){var param=params[0];if(param<1)param=1;this.x=param-1;};Terminal.prototype.insertLines=function(params){var param,row,j;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.rows-1-this.scrollBottom;j=this.rows-1+this.ybase-j+1;while(param--){this.lines.splice(row,0,this.blankLine(true));this.lines.splice(j,1);}
this.updateRange(this.y);this.updateRange(this.scrollBottom);};Terminal.prototype.deleteLines=function(params){var param,row,j;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.rows-1-this.scrollBottom;j=this.rows-1+this.ybase-j;while(param--){this.lines.splice(j+1,0,this.blankLine(true));this.lines.splice(row,1);}
this.updateRange(this.y);this.updateRange(this.scrollBottom);};Terminal.prototype.deleteChars=function(params){var param,row,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;ch=[this.eraseAttr(),' '];while(param--){this.lines[row].splice(this.x,1);this.lines[row].push(ch);}};Terminal.prototype.eraseChars=function(params){var param,row,j,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.x;ch=[this.eraseAttr(),' '];while(param--&&j<this.cols){this.lines[row][j++]=ch;}};Terminal.prototype.charPosAbsolute=function(params){var param=params[0];if(param<1)param=1;this.x=param-1;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.HPositionRelative=function(params){var param=params[0];if(param<1)param=1;this.x+=param;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.sendDeviceAttributes=function(params){if(params[0]>0)return;if(!this.prefix){if(this.is('xterm')||this.is('rxvt-unicode')||this.is('screen')){this.send('\x1b[?1;2c');}else if(this.is('linux')){this.send('\x1b[?6c');}}else if(this.prefix==='>'){if(this.is('xterm')){this.send('\x1b[>0;276;0c');}else if(this.is('rxvt-unicode')){this.send('\x1b[>85;95;0c');}else if(this.is('linux')){this.send(params[0]+'c');}else if(this.is('screen')){this.send('\x1b[>83;40003;0c');}}};Terminal.prototype.linePosAbsolute=function(params){var param=params[0];if(param<1)param=1;this.y=param-1;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.VPositionRelative=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.HVPosition=function(params){if(params[0]<1)params[0]=1;if(params[1]<1)params[1]=1;this.y=params[0]-1;if(this.y>=this.rows){this.y=this.rows-1;}
this.x=params[1]-1;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.setMode=function(params){if(typeof params==='object'){var l=params.length,i=0;for(;i<l;i++){this.setMode(params[i]);}
return;}
if(!this.prefix){switch(params){case 4:this.insertMode=true;break;case 20:break;}}else if(this.prefix==='?'){switch(params){case 1:this.applicationCursor=true;break;case 2:this.setgCharset(0,Terminal.charsets.US);this.setgCharset(1,Terminal.charsets.US);this.setgCharset(2,Terminal.charsets.US);this.setgCharset(3,Terminal.charsets.US);break;case 3:this.savedCols=this.cols;this.resize(132,this.rows);break;case 6:this.originMode=true;break;case 7:this.wraparoundMode=true;break;case 12:break;case 66:this.log('Serial port requested application keypad.');this.applicationKeypad=true;break;case 9:case 1000:case 1002:case 1003:this.x10Mouse=params===9;this.vt200Mouse=params===1000;this.normalMouse=params>1000;this.mouseEvents=true;this.element.style.cursor='default';this.log('Binding to mouse events.');break;case 1004:this.sendFocus=true;break;case 1005:this.utfMouse=true;break;case 1006:this.sgrMouse=true;break;case 1015:this.urxvtMouse=true;break;case 25:this.cursorHidden=false;break;case 1049:;case 47:case 1047:if(!this.normal){var normal={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs
};this.reset();this.normal=normal;this.showCursor();}
break;}}};Terminal.prototype.resetMode=function(params){if(typeof params==='object'){var l=params.length,i=0;for(;i<l;i++){this.resetMode(params[i]);}
return;}
if(!this.prefix){switch(params){case 4:this.insertMode=false;break;case 20:break;}}else if(this.prefix==='?'){switch(params){case 1:this.applicationCursor=false;break;case 3:if(this.cols===132&&this.savedCols){this.resize(this.savedCols,this.rows);}
delete this.savedCols;break;case 6:this.originMode=false;break;case 7:this.wraparoundMode=false;break;case 12:break;case 66:this.log('Switching back to normal keypad.');this.applicationKeypad=false;break;case 9:case 1000:case 1002:case 1003:this.x10Mouse=false;this.vt200Mouse=false;this.normalMouse=false;this.mouseEvents=false;this.element.style.cursor='';break;case 1004:this.sendFocus=false;break;case 1005:this.utfMouse=false;break;case 1006:this.sgrMouse=false;break;case 1015:this.urxvtMouse=false;break;case 25:this.cursorHidden=true;break;case 1049:;case 47:case 1047:if(this.normal){this.lines=this.normal.lines;this.ybase=this.normal.ybase;this.ydisp=this.normal.ydisp;this.x=this.normal.x;this.y=this.normal.y;this.scrollTop=this.normal.scrollTop;this.scrollBottom=this.normal.scrollBottom;this.tabs=this.normal.tabs;this.normal=null;this.refresh(0,this.rows-1);this.showCursor();}
break;}}};Terminal.prototype.setScrollRegion=function(params){if(this.prefix)return;this.scrollTop=(params[0]||1)-1;this.scrollBottom=(params[1]||this.rows)-1;this.x=0;this.y=0;};Terminal.prototype.saveCursor=function(params){this.savedX=this.x;this.savedY=this.y;};Terminal.prototype.restoreCursor=function(params){this.x=this.savedX||0;this.y=this.savedY||0;};Terminal.prototype.cursorForwardTab=function(params){var param=params[0]||1;while(param--){this.x=this.nextStop();}};Terminal.prototype.scrollUp=function(params){var param=params[0]||1;while(param--){this.lines.splice(this.ybase+this.scrollTop,1);this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.scrollDown=function(params){var param=params[0]||1;while(param--){this.lines.splice(this.ybase+this.scrollBottom,1);this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.initMouseTracking=function(params){};Terminal.prototype.resetTitleModes=function(params){;};Terminal.prototype.cursorBackwardTab=function(params){var param=params[0]||1;while(param--){this.x=this.prevStop();}};Terminal.prototype.repeatPrecedingCharacter=function(params){var param=params[0]||1,line=this.lines[this.ybase+this.y],ch=line[this.x-1]||[this.defAttr,' '];while(param--)line[this.x++]=ch;};Terminal.prototype.tabClear=function(params){var param=params[0];if(param<=0){delete this.tabs[this.x];}else if(param===3){this.tabs={};}};Terminal.prototype.mediaCopy=function(params){;};Terminal.prototype.setResources=function(params){;};Terminal.prototype.disableModifiers=function(params){;};Terminal.prototype.setPointerMode=function(params){;};Terminal.prototype.softReset=function(params){this.cursorHidden=false;this.insertMode=false;this.originMode=false;this.wraparoundMode=false;this.applicationKeypad=false;this.applicationCursor=false;this.scrollTop=0;this.scrollBottom=this.rows-1;this.curAttr=this.defAttr;this.x=this.y=0;this.charset=null;this.glevel=0;this.charsets=[null];};Terminal.prototype.requestAnsiMode=function(params){;};Terminal.prototype.requestPrivateMode=function(params){;};Terminal.prototype.setConformanceLevel=function(params){;};Terminal.prototype.loadLEDs=function(params){;};Terminal.prototype.setCursorStyle=function(params){;};Terminal.prototype.setCharProtectionAttr=function(params){;};Terminal.prototype.restorePrivateValues=function(params){;};Terminal.prototype.setAttrInRectangle=function(params){var t=params[0],l=params[1],b=params[2],r=params[3],attr=params[4];var line,i;for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=[attr,line[i][1]];}}
this.updateRange(params[0]);this.updateRange(params[2]);};Terminal.prototype.savePrivateValues=function(params){;};Terminal.prototype.manipulateWindow=function(params){;};Terminal.prototype.reverseAttrInRectangle=function(params){;};Terminal.prototype.setTitleModeFeature=function(params){;};Terminal.prototype.setWarningBellVolume=function(params){;};Terminal.prototype.setMarginBellVolume=function(params){;};Terminal.prototype.copyRectangle=function(params){;};Terminal.prototype.enableFilterRectangle=function(params){;};Terminal.prototype.requestParameters=function(params){;};Terminal.prototype.selectChangeExtent=function(params){;};Terminal.prototype.fillRectangle=function(params){var ch=params[0],t=params[1],l=params[2],b=params[3],r=params[4];var line,i;for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=[line[i][0],String.fromCharCode(ch)];}}
this.updateRange(params[1]);this.updateRange(params[3]);};Terminal.prototype.enableLocatorReporting=function(params){var val=params[0]>0;};Terminal.prototype.eraseRectangle=function(params){var t=params[0],l=params[1],b=params[2],r=params[3];var line,i,ch;ch=[this.eraseAttr(),' '];for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=ch;}}
this.updateRange(params[0]);this.updateRange(params[2]);};Terminal.prototype.setLocatorEvents=function(params){;};Terminal.prototype.selectiveEraseRectangle=function(params){;};Terminal.prototype.requestLocatorPosition=function(params){;};Terminal.prototype.insertColumns=function(){var param=params[0],l=this.ybase+this.rows,ch=[this.eraseAttr(),' '],i;while(param--){for(i=this.ybase;i<l;i++){this.lines[i].splice(this.x+1,0,ch);this.lines[i].pop();}}
this.maxRange();};Terminal.prototype.deleteColumns=function(){var param=params[0],l=this.ybase+this.rows,ch=[this.eraseAttr(),' '],i;while(param--){for(i=this.ybase;i<l;i++){this.lines[i].splice(this.x,1);this.lines[i].push(ch);}}
this.maxRange();};Terminal.prototype.enterPrefix=function(){this.prefixMode=true;};Terminal.prototype.leavePrefix=function(){this.prefixMode=false;};Terminal.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write};this.write=function(){};this.selectMode=true;this.visualMode=false;this.cursorHidden=false;this.refresh(this.y,this.y);};Terminal.prototype.leaveSelect=function(){this.x=this._real.x;this.y=this._real.y;this.ydisp=this._real.ydisp;this.ybase=this._real.ybase;this.cursorHidden=this._real.cursorHidden;this.lines=this._real.lines;this.write=this._real.write;delete this._real;this.selectMode=false;this.visualMode=false;this.refresh(0,this.rows-1);};Terminal.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines);this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y);this.visualMode=true;};Terminal.prototype.leaveVisual=function(){this.lines=this._real.preVisual;delete this._real.preVisual;delete this._selected;this.visualMode=false;this.refresh(0,this.rows-1);};Terminal.prototype.enterSearch=function(down){this.entry='';this.searchMode=true;this.searchDown=down;this._real.preSearch=this.copyBuffer(this.lines);this._real.preSearchX=this.x;this._real.preSearchY=this.y;var bottom=this.ydisp+this.rows-1;for(var i=0;i<this.entryPrefix.length;i++){this.lines[bottom][i]=[(this.defAttr&~0x1ff)|4,this.entryPrefix[i]];}
this.y=this.rows-1;this.x=this.entryPrefix.length;this.refresh(this.rows-1,this.rows-1);};Terminal.prototype.leaveSearch=function(){this.searchMode=false;if(this._real.preSearch){this.lines=this._real.preSearch;this.x=this._real.preSearchX;this.y=this._real.preSearchY;delete this._real.preSearch;delete this._real.preSearchX;delete this._real.preSearchY;}
this.refresh(this.rows-1,this.rows-1);};Terminal.prototype.copyBuffer=function(lines){var lines=lines||this.lines,out=[];for(var y=0;y<lines.length;y++){out[y]=[];for(var x=0;x<lines[y].length;x++){out[y][x]=[lines[y][x][0],lines[y][x][1]];}}
return out;};Terminal.prototype.getCopyTextarea=function(text){var textarea=this._copyTextarea,document=this.document;if(!textarea){textarea=document.createElement('textarea');textarea.style.position='absolute';textarea.style.left='-32000px';textarea.style.top='-32000px';textarea.style.width='0px';textarea.style.height='0px';textarea.style.opacity='0';textarea.style.backgroundColor='transparent';textarea.style.borderStyle='none';textarea.style.outlineStyle='none';document.getElementsByTagName('body')[0].appendChild(textarea);this._copyTextarea=textarea;}
return textarea;};Terminal.prototype.copyText=function(text){var self=this,textarea=this.getCopyTextarea();this.emit('copy',text);textarea.focus();textarea.textContent=text;textarea.value=text;textarea.setSelectionRange(0,text.length);setTimeout(function(){self.element.focus();self.focus();},1);};Terminal.prototype.clearSelectedText=function(){if(this._selected){var ox1,ox2,oy1,oy2,tmp,x,y,xl,attr;ox1=this._selected.x1;ox2=this._selected.x2;oy1=this._selected.y1;oy2=this._selected.y2;if(oy2<oy1){tmp=ox2;ox2=ox1;ox1=tmp;tmp=oy2;oy2=oy1;oy1=tmp;}
if(ox2<ox1&&oy1===oy2){tmp=ox2;ox2=ox1;ox1=tmp;}
for(y=oy1;y<=oy2;y++){x=0;xl=this.cols-1;if(y===oy1){x=ox1;}
if(y===oy2){xl=ox2;}
for(;x<=xl;x++){if(this.lines[y][x].old!=null){attr=this.lines[y][x].old;delete this.lines[y][x].old;this.lines[y][x]=[attr,this.lines[y][x][1]];}}}
delete this._selected;}};Terminal.prototype.selectText=function(x1,x2,y1,y2){var tmp,x,y,xl,attr;if(this._selected){this.clearSelectedText();}
y1=Math.max(y1,0);y1=Math.min(y1,this.ydisp+this.rows-1);y2=Math.max(y2,0);y2=Math.min(y2,this.ydisp+this.rows-1);this._selected={x1:x1,x2:x2,y1:y1,y2:y2};if(y2<y1){tmp=x2;x2=x1;x1=tmp;tmp=y2;y2=y1;y1=tmp;}
if(x2<x1&&y1===y2){tmp=x2;x2=x1;x1=tmp;}
for(y=y1;y<=y2;y++){x=0;xl=this.cols-1;if(y===y1){x=x1;}
if(y===y2){xl=x2;}
for(;x<=xl;x++){attr=this.lines[y][x][0];this.lines[y][x]=[(attr&~0x1ff)|((0x1ff<<9)|4),this.lines[y][x][1]];this.lines[y][x].old=attr;}}
y1=y1-this.ydisp;y2=y2-this.ydisp;y1=Math.max(y1,0);y1=Math.min(y1,this.rows-1);y2=Math.max(y2,0);y2=Math.min(y2,this.rows-1);this.refresh(0,this.rows-1);};Terminal.prototype.grabText=function(x1,x2,y1,y2){var out='',buf='',ch,x,y,xl,tmp;if(y2<y1){tmp=x2;x2=x1;x1=tmp;tmp=y2;y2=y1;y1=tmp;}
if(x2<x1&&y1===y2){tmp=x2;x2=x1;x1=tmp;}
for(y=y1;y<=y2;y++){x=0;xl=this.cols-1;if(y===y1){x=x1;}
if(y===y2){xl=x2;}
for(;x<=xl;x++){ch=this.lines[y][x][1];if(ch===' '){buf+=ch;continue;}
if(buf){out+=buf;buf='';}
out+=ch;if(isWide(ch))x++;}
buf='';out+='\n';}
for(x=x2,y=y2;x<this.cols;x++){if(this.lines[y][x][1]!==' '){out=out.slice(0,-1);break;}}
return out;};Terminal.prototype.keyPrefix=function(ev,key){if(key==='k'||key==='&'){this.destroy();}else if(key==='p'||key===']'){this.emit('request paste');}else if(key==='c'){this.emit('request create');}else if(key>='0'&&key<='9'){key=+key-1;if(!~key)key=9;this.emit('request term',key);}else if(key==='n'){this.emit('request term next');}else if(key==='P'){this.emit('request term previous');}else if(key===':'){this.emit('request command mode');}else if(key==='['){this.enterSelect();}};Terminal.prototype.keySelect=function(ev,key){this.showCursor();if(this.searchMode||key==='n'||key==='N'){return this.keySearch(ev,key);}
if(key==='\x04'){var y=this.ydisp+this.y;if(this.ydisp===this.ybase){this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1);this.refresh(0,this.rows-1);}else{this.scrollDisp((this.rows-1)/2|0);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x15'){var y=this.ydisp+this.y;if(this.ydisp===0){this.y=Math.max(this.y-(this.rows-1)/2|0,0);this.refresh(0,this.rows-1);}else{this.scrollDisp(-(this.rows-1)/2|0);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x06'){var y=this.ydisp+this.y;this.scrollDisp(this.rows-1);if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x02'){var y=this.ydisp+this.y;this.scrollDisp(-(this.rows-1));if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='k'||key==='\x1b[A'){var y=this.ydisp+this.y;this.y--;if(this.y<0){this.y=0;this.scrollDisp(-1);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}else{this.refresh(this.y,this.y+1);}
return;}
if(key==='j'||key==='\x1b[B'){var y=this.ydisp+this.y;this.y++;if(this.y>=this.rows){this.y=this.rows-1;this.scrollDisp(1);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}else{this.refresh(this.y-1,this.y);}
return;}
if(key==='h'||key==='\x1b[D'){var x=this.x;this.x--;if(this.x<0){this.x=0;}
if(this.visualMode){this.selectText(x,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='l'||key==='\x1b[C'){var x=this.x;this.x++;if(this.x>=this.cols){this.x=this.cols-1;}
if(this.visualMode){this.selectText(x,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='v'||key===' '){if(!this.visualMode){this.enterVisual();}else{this.leaveVisual();}
return;}
if(key==='y'){if(this.visualMode){var text=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(text);this.leaveVisual();}
return;}
if(key==='q'||key==='\x1b'){if(this.visualMode){this.leaveVisual();}else{this.leaveSelect();}
return;}
if(key==='w'||key==='W'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var x=this.x;var y=this.y;var yb=this.ydisp;var saw_space=false;for(;;){var line=this.lines[yb+y];while(x<this.cols){if(line[x][1]<=' '){saw_space=true;}else if(saw_space){break;}
x++;}
if(x>=this.cols)x=this.cols-1;if(x===this.cols-1&&line[x][1]<=' '){x=0;if(++y>=this.rows){y--;if(++yb>this.ybase){yb=this.ybase;x=this.x;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='b'||key==='B'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var x=this.x;var y=this.y;var yb=this.ydisp;for(;;){var line=this.lines[yb+y];var saw_space=x>0&&line[x][1]>' '&&line[x-1][1]>' ';while(x>=0){if(line[x][1]<=' '){if(saw_space&&(x+1<this.cols&&line[x+1][1]>' ')){x++;break;}else{saw_space=true;}}
x--;}
if(x<0)x=0;if(x===0&&(line[x][1]<=' '||!saw_space)){x=this.cols-1;if(--y<0){y++;if(--yb<0){yb++;x=0;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='e'||key==='E'){var x=this.x+1;var y=this.y;var yb=this.ydisp;if(x>=this.cols)x--;for(;;){var line=this.lines[yb+y];while(x<this.cols){if(line[x][1]<=' '){x++;}else{break;}}
while(x<this.cols){if(line[x][1]<=' '){if(x-1>=0&&line[x-1][1]>' '){x--;break;}}
x++;}
if(x>=this.cols)x=this.cols-1;if(x===this.cols-1&&line[x][1]<=' '){x=0;if(++y>=this.rows){y--;if(++yb>this.ybase){yb=this.ybase;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='^'||key==='0'){var ox=this.x;if(key==='0'){this.x=0;}else if(key==='^'){var line=this.lines[this.ydisp+this.y];var x=0;while(x<this.cols){if(line[x][1]>' '){break;}
x++;}
if(x>=this.cols)x=this.cols-1;this.x=x;}
if(this.visualMode){this.selectText(ox,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='$'){var ox=this.x;var line=this.lines[this.ydisp+this.y];var x=this.cols-1;while(x>=0){if(line[x][1]>' '){if(this.visualMode&&x<this.cols-1)x++;break;}
x--;}
if(x<0)x=0;this.x=x;if(this.visualMode){this.selectText(ox,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='g'||key==='G'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;if(key==='g'){this.x=0,this.y=0;this.scrollDisp(-this.ydisp);}else if(key==='G'){this.x=0,this.y=this.rows-1;this.scrollDisp(this.ybase);}
if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='H'||key==='M'||key==='L'){var ox=this.x;var oy=this.y;if(key==='H'){this.x=0,this.y=0;}else if(key==='M'){this.x=0,this.y=this.rows/2|0;}else if(key==='L'){this.x=0,this.y=this.rows-1;}
if(this.visualMode){this.selectText(ox,this.x,this.ydisp+oy,this.ydisp+this.y);}else{this.refresh(oy,oy);this.refresh(this.y,this.y);}
return;}
if(key==='{'||key==='}'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var line;var saw_full=false;var found=false;var first_is_space=-1;var y=this.y+(key==='{'?-1:1);var yb=this.ydisp;var i;if(key==='{'){if(y<0){y++;if(yb>0)yb--;}}else if(key==='}'){if(y>=this.rows){y--;if(yb<this.ybase)yb++;}}
for(;;){line=this.lines[yb+y];for(i=0;i<this.cols;i++){if(line[i][1]>' '){if(first_is_space===-1){first_is_space=0;}
saw_full=true;break;}else if(i===this.cols-1){if(first_is_space===-1){first_is_space=1;}else if(first_is_space===0){found=true;}else if(first_is_space===1){if(saw_full)found=true;}
break;}}
if(found)break;if(key==='{'){y--;if(y<0){y++;if(yb>0)yb--;else break;}}else if(key==='}'){y++;if(y>=this.rows){y--;if(yb<this.ybase)yb++;else break;}}}
if(!found){if(key==='{'){y=0;yb=0;}else if(key==='}'){y=this.rows-1;yb=this.ybase;}}
this.x=0,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='/'||key==='?'){if(!this.visualMode){this.enterSearch(key==='/');}
return;}
return false;};Terminal.prototype.keySearch=function(ev,key){if(key==='\x1b'){this.leaveSearch();return;}
if(key==='\r'||(!this.searchMode&&(key==='n'||key==='N'))){this.leaveSearch();var entry=this.entry;if(!entry){this.refresh(0,this.rows-1);return;}
var ox=this.x;var oy=this.y;var oyd=this.ydisp;var line;var found=false;var wrapped=false;var x=this.x+1;var y=this.ydisp+this.y;var yb,i;var up=key==='N'?this.searchDown:!this.searchDown;for(;;){line=this.lines[y];while(x<this.cols){for(i=0;i<entry.length;i++){if(x+i>=this.cols)break;if(line[x+i][1]!==entry[i]){break;}else if(line[x+i][1]===entry[i]&&i===entry.length-1){found=true;break;}}
if(found)break;x+=i+1;}
if(found)break;x=0;if(!up){y++;if(y>this.ybase+this.rows-1){if(wrapped)break;wrapped=true;y=0;}}else{y--;if(y<0){if(wrapped)break;wrapped=true;y=this.ybase+this.rows-1;}}}
if(found){if(y-this.ybase<0){yb=y;y=0;if(yb>this.ybase){y=yb-this.ybase;yb=this.ybase;}}else{yb=this.ybase;y-=this.ybase;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
this.refresh(0,this.rows-1);return;}
if(key==='\b'||key==='\x7f'){if(this.entry.length===0)return;var bottom=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var i=this.entryPrefix.length+this.entry.length;this.lines[bottom][i]=[this.lines[bottom][i][0],' '];this.x--;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return;}
if(key.length===1&&key>=' '&&key<='~'){var bottom=this.ydisp+this.rows-1;this.entry+=key;var i=this.entryPrefix.length+this.entry.length-1;this.lines[bottom][i]=[(this.defAttr&~0x1ff)|4,key];this.x++;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return;}
return false;};Terminal.charsets={};Terminal.charsets.SCLD={'`':'\u25c6','a':'\u2592','b':'\u0009','c':'\u000c','d':'\u000d','e':'\u000a','f':'\u00b0','g':'\u00b1','h':'\u2424','i':'\u000b','j':'\u2518','k':'\u2510','l':'\u250c','m':'\u2514','n':'\u253c','o':'\u23ba','p':'\u23bb','q':'\u2500','r':'\u23bc','s':'\u23bd','t':'\u251c','u':'\u2524','v':'\u2534','w':'\u252c','x':'\u2502','y':'\u2264','z':'\u2265','{':'\u03c0','|':'\u2260','}':'\u00a3','~':'\u00b7'};Terminal.charsets.UK=null;Terminal.charsets.US=null;Terminal.charsets.Dutch=null;Terminal.charsets.Finnish=null;Terminal.charsets.French=null;Terminal.charsets.FrenchCanadian=null;Terminal.charsets.German=null;Terminal.charsets.Italian=null;Terminal.charsets.NorwegianDanish=null;Terminal.charsets.Spanish=null;Terminal.charsets.Swedish=null;Terminal.charsets.Swiss=null;Terminal.charsets.ISOLatin=null;function on(el,type,handler,capture){el.addEventListener(type,handler,capture||false);}
function off(el,type,handler,capture){el.removeEventListener(type,handler,capture||false);}
function cancel(ev){if(ev.preventDefault)ev.preventDefault();ev.returnValue=false;if(ev.stopPropagation)ev.stopPropagation();ev.cancelBubble=true;return false;}
function inherits(child,parent){function f(){this.constructor=child;}
f.prototype=parent.prototype;child.prototype=new f;}
function isBoldBroken(document){var body=document.getElementsByTagName('body')[0];var terminal=document.createElement('div');terminal.className='terminal';var line=document.createElement('div');var el=document.createElement('span');el.innerHTML='hello world';line.appendChild(el);terminal.appendChild(line);body.appendChild(terminal);var w1=el.scrollWidth;el.style.fontWeight='bold';var w2=el.scrollWidth;body.removeChild(terminal);return w1!==w2;}
var String=this.String;var setTimeout=this.setTimeout;var setInterval=this.setInterval;function indexOf(obj,el){var i=obj.length;while(i--){if(obj[i]===el)return i;}
return-1;}
function isFullWidth(c){if(c<0x1100)
return false;return c>=0x1100&&c<=0x115F||c>=0x11A3&&c<=0x11A7||c>=0x11FA&&c<=0x11FF||c>=0x2329&&c<=0x232A||c>=0x2E80&&c<=0x2E99||c>=0x2E9B&&c<=0x2EF3||c>=0x2F00&&c<=0x2FD5||c>=0x2FF0&&c<=0x2FFB||c>=0x3000&&c<=0x303E||c>=0x3041&&c<=0x3096||c>=0x3099&&c<=0x30FF||c>=0x3105&&c<=0x312D||c>=0x3131&&c<=0x318E||c>=0x3190&&c<=0x31BA||c>=0x31C0&&c<=0x31E3||c>=0x31F0&&c<=0x321E||c>=0x3220&&c<=0x3247||c>=0x3250&&c<=0x32FE||c>=0x3300&&c<=0x4DBF||c>=0x4E00&&c<=0xA48C||c>=0xA490&&c<=0xA4C6||c>=0xA960&&c<=0xA97C||c>=0xAC00&&c<=0xD7A3||c>=0xD7B0&&c<=0xD7C6||c>=0xD7CB&&c<=0xD7FB||c>=0xF900&&c<=0xFAFF||c>=0xFE10&&c<=0xFE19||c>=0xFE30&&c<=0xFE52||c>=0xFE54&&c<=0xFE66||c>=0xFE68&&c<=0xFE6B||c>=0xFF01&&c<=0xFF60||c>=0xFFE0&&c<=0xFFE6;};function isWide(ch){var c=ch.charCodeAt(0);return isFullWidth(c);}
function matchColor(r1,g1,b1){var hash=(r1<<16)|(g1<<8)|b1;if(matchColor._cache[hash]!=null){return matchColor._cache[hash];}
var ldiff=Infinity,li=-1,i=0,c,r2,g2,b2,diff;for(;i<Terminal.vcolors.length;i++){c=Terminal.vcolors[i];r2=c[0];g2=c[1];b2=c[2];diff=matchColor.distance(r1,g1,b1,r2,g2,b2);if(diff===0){li=i;break;}
if(diff<ldiff){ldiff=diff;li=i;}}
return matchColor._cache[hash]=li;}
matchColor._cache={};matchColor.distance=function(r1,g1,b1,r2,g2,b2){return Math.pow(30*(r1-r2),2)
+Math.pow(59*(g1-g2),2)
+Math.pow(11*(b1-b2),2);};function each(obj,iter,con){if(obj.forEach)return obj.forEach(iter,con);for(var i=0;i<obj.length;i++){iter.call(con,obj[i],i,obj);}}
function keys(obj){if(Object.keys)return Object.keys(obj);var key,keys=[];for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){keys.push(key);}}
return keys;}
Terminal.EventEmitter=EventEmitter;Terminal.Stream=Stream;Terminal.inherits=inherits;Terminal.on=on;Terminal.off=off;Terminal.cancel=cancel;if(typeof module!=='undefined'){module.exports=Terminal;}else{this.Terminal=Terminal;}}).call(function(){return this||(typeof window!=='undefined'?window:global);}());!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(2),i(85),i(79),i(90),i(163),i(279),i(268),i(289),i(246),i(242),i(238),i(275),i(284),i(224),i(229),i(235),i(264),i(257),i(34),i(176),i(196),i(304),i(301),i(211),i(187),i(166),i(317),i(182),i(181),i(308),i(188),i(204)},function(t,e,i){function n(t){if("object"==typeof t&&null!==t){var e=t;if(t instanceof Array){e=[];for(var i=0,a=t.length;a>i;i++)e[i]=n(t[i])}else if(!A(t)&&!I(t)){e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=n(t[o]))}return e}return t}function a(t,e,i){if(!S(e)||!S(t))return i?n(e):t;for(var o in e)if(e.hasOwnProperty(o)){var r=t[o],s=e[o];!S(s)||!S(r)||w(s)||w(r)||I(s)||I(r)||A(s)||A(r)?!i&&o in t||(t[o]=n(e[o],!0)):a(r,s,i)}return t}function o(t,e){for(var i=t[0],n=1,o=t.length;o>n;n++)i=a(i,t[n],e);return i}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function s(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function l(){return document.createElement("canvas")}function h(){return D||(D=G.createCanvas().getContext("2d")),D}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function c(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var a in n)t.prototype[a]=n[a];t.prototype.constructor=t,t.superClass=e}function d(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,s(t,e,i)}function f(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,i){if(t&&e)if(t.forEach&&t.forEach===E)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,a=t.length;a>n;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function g(t,e,i){if(t&&e){if(t.map&&t.map===N)return t.map(e,i);for(var n=[],a=0,o=t.length;o>a;a++)n.push(e.call(i,t[a],a,t));return n}}function m(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===B)return t.reduce(e,i,n);for(var a=0,o=t.length;o>a;a++)i=e.call(n,i,t[a],a,t);return i}}function v(t,e,i){if(t&&e){if(t.filter&&t.filter===O)return t.filter(e,i);for(var n=[],a=0,o=t.length;o>a;a++)e.call(i,t[a],a,t)&&n.push(t[a]);return n}}function y(t,e,i){if(t&&e)for(var n=0,a=t.length;a>n;n++)if(e.call(i,t[n],n,t))return t[n]}function x(t,e){var i=V.call(arguments,2);return function(){return t.apply(e,i.concat(V.call(arguments)))}}function _(t){var e=V.call(arguments,1);return function(){return t.apply(this,e.concat(V.call(arguments)))}}function w(t){return"[object Array]"===z.call(t)}function b(t){return"function"==typeof t}function M(t){return"[object String]"===z.call(t)}function S(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function A(t){return!!k[z.call(t)]||t instanceof P}function I(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function T(t){for(var e=0,i=arguments.length;i>e;e++)if(null!=arguments[e])return arguments[e]}function C(){return Function.call.apply(V,arguments)}function L(t,e){if(!t)throw new Error(e)}var D,P=i(16),k={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},z=Object.prototype.toString,R=Array.prototype,E=R.forEach,O=R.filter,V=R.slice,N=R.map,B=R.reduce,G={inherits:c,mixin:d,clone:n,merge:a,mergeAll:o,extend:r,defaults:s,getContext:h,createCanvas:l,indexOf:u,slice:C,find:y,isArrayLike:f,each:p,map:g,reduce:m,filter:v,bind:x,curry:_,isArray:w,isString:M,isObject:S,isFunction:b,isBuildInObject:A,isDom:I,retrieve:T,assert:L,noop:function(){}};t.exports=G},function(t,e,i){function n(t){return function(e,i,n){e=e&&e.toLowerCase(),L.prototype[t].call(this,e,i,n)}}function a(){L.call(this)}function o(t,e,i){i=i||{},"string"==typeof e&&(e=W[e]),e&&D(F,function(t){t(e)}),this.id,this.group,this._dom=t,this._zr=A.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=I.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new v(this),this._coordSysMgr=new y,L.call(this),this._messageCenter=new a,this._initEvents(),this.resize=I.bind(this.resize,this)}function r(t,e){var i=this._model;i&&i.eachComponent({mainType:"series",query:e},function(n,a){var o=this._chartsMap[n.__viewId];o&&o.__alive&&o[t](n,i,this._api,e)},this)}function s(t,e,i){var n=this._api;D(this._componentsViews,function(a){var o=a.__model;a[t](o,e,n,i),p(o,a)},this),e.eachSeries(function(a,o){var r=this._chartsMap[a.__viewId];r[t](a,e,n,i),p(a,r)},this)}function l(t,e){for(var i="component"===t,n=i?this._componentsViews:this._chartsViews,a=i?this._componentsMap:this._chartsMap,o=this._zr,r=0;r<n.length;r++)n[r].__alive=!1;e[i?"eachComponent":"eachSeries"](function(t,r){if(i){if("series"===t)return}else r=t;var s=r.id+"_"+r.type,l=a[s];if(!l){var h=_.parseClassType(r.type),u=i?b.getClass(h.main,h.sub):M.getClass(h.sub);if(!u)return;l=new u,l.init(e,this._api),a[s]=l,n.push(l),o.add(l.group)}r.__viewId=s,l.__alive=!0,l.__id=s,l.__model=r},this);for(var r=0;r<n.length;){var s=n[r];s.__alive?r++:(o.remove(s.group),s.dispose(e,this._api),n.splice(r,1),delete a[s.__id])}}function h(t,e){D(k,function(i){D(G[i]||[],function(i){i(t,e)})})}function u(t){var e={};t.eachSeries(function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var a=e[i];a&&(n.stackedOn=a),e[i]=n}})}function c(t,e){var i=this._api;D(B,function(n){n(t,i,e)})}function d(t,e){D(P,function(i){D(H[i]||[],function(i){i(t,e)})})}function f(t,e){var i=this._api;D(this._componentsViews,function(n){var a=n.__model;n.render(a,t,i,e),p(a,n)},this),D(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,a){var o=this._chartsMap[n.__viewId];o.__alive=!0,o.render(n,t,i,e),p(n,o)},this),D(this._chartsViews,function(e){e.__alive||e.remove(t,i)},this)}function p(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){null!=i&&(t.z=i),null!=n&&(t.zlevel=n)})}function g(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[o]=e}}var i=0,n=1,a=2,o="__connectUpdateStatus";I.each(N,function(r,s){t._messageCenter.on(s,function(r){if(q[t.group]&&t[o]!==i){var s=t.makeActionFromEvent(r),l=[];for(var h in Z){var u=Z[h];u!==t&&u.group===t.group&&l.push(u)}e(l,i),D(l,function(t){t[o]!==n&&t.dispatchAction(s)}),e(l,a)}})})}/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */

var m=i(112),v=i(78),y=i(28),x=i(113),_=i(10),w=i(13),b=i(54),M=i(25),S=i(3),A=i(67),I=i(1),T=i(22),C=i(15),L=i(21),D=I.each,P=["echarts","chart","component"],k=["transform","filter","statistic"];a.prototype.on=n("on"),a.prototype.off=n("off"),a.prototype.one=n("one"),I.mixin(a,L);var z=o.prototype;z.getDom=function(){return this._dom},z.getZr=function(){return this._zr},z.setOption=function(t,e,i){this._model&&!e||(this._model=new m(null,null,this._theme,new x(this._api))),this._model.setOption(t,F),R.prepareAndUpdate.call(this),!i&&this._zr.refreshImmediately()},z.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},z.getModel=function(){return this._model},z.getOption=function(){return this._model.getOption()},z.getWidth=function(){return this._zr.getWidth()},z.getHeight=function(){return this._zr.getHeight()},z.getRenderedCanvas=function(t){if(C.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return I.each(i,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},z.getDataURL=function(t){t=t||{};var e=t.excludeComponents,i=this._model,n=[],a=this;D(e,function(t){i.eachComponent({mainType:t},function(t){var e=a._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var o=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return D(n,function(t){t.group.ignore=!1}),o},z.getConnectedDataURL=function(t){if(C.canvasSupported){var e=this.group,i=Math.min,n=Math.max,a=1/0;if(q[e]){var o=a,r=a,s=-a,l=-a,h=[],u=t&&t.pixelRatio||1;for(var c in Z){var d=Z[c];if(d.group===e){var f=d.getRenderedCanvas(I.clone(t)),p=d.getDom().getBoundingClientRect();o=i(p.left,o),r=i(p.top,r),s=n(p.right,s),l=n(p.bottom,l),h.push({dom:f,left:p.left,top:p.top})}}o*=u,r*=u,s*=u,l*=u;var g=s-o,m=l-r,v=I.createCanvas();v.width=g,v.height=m;var y=A.init(v);return D(h,function(t){var e=new S.Image({style:{x:t.left*u-o,y:t.top*u-r,image:t.dom}});y.add(e)}),y.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}};var R={update:function(t){var e=this._model,i=this._api,n=this._coordSysMgr;if(e){e.restoreData(),n.create(this._model,this._api),h.call(this,e,i),u.call(this,e),n.update(e,i),c.call(this,e,t),d.call(this,e,t),f.call(this,e,t);var a=e.get("backgroundColor")||"transparent",o=this._zr.painter;if(o.isSingleCanvas&&o.isSingleCanvas())this._zr.configLayer(0,{clearColor:a});else{if(!C.canvasSupported){var r=T.parse(a);a=T.stringify(r,"rgb"),0===r[3]&&(a="transparent")}a=a,this._dom.style.backgroundColor=a}}},updateView:function(t){var e=this._model;e&&(c.call(this,e,t),d.call(this,e,t),s.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(d.call(this,e,t),s.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(c.call(this,e,t),s.call(this,"updateLayout",e,t))},highlight:function(t){r.call(this,"highlight",t)},downplay:function(t){r.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;l.call(this,"component",e),l.call(this,"chart",e),R.update.call(this,t)}};z.resize=function(){this._zr.resize();var t=this._model&&this._model.resetOption("media");R[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()};var E=i(111);z.showLoading=function(t,e){I.isObject(t)&&(e=t,t="default"),this.hideLoading();var i=E(this._api,e),n=this._zr;this._loadingFX=i,n.add(i)},z.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},z.makeActionFromEvent=function(t){var e=I.extend({},t);return e.type=N[t.type],e},z.dispatchAction=function(t,e){var i=V[t.type];if(i){var n=i.actionInfo,a=n.update||"update",o=[t],r=!1;t.batch&&(r=!0,o=I.map(t.batch,function(e){return e=I.defaults(I.extend({},e),t),e.batch=null,e}));for(var s,l=[],h="highlight"===t.type||"downplay"===t.type,u=0;u<o.length;u++){var c=o[u];s=i.action(c,this._model),s=s||I.extend({},c),s.type=n.event||s.type,l.push(s),h&&R[a].call(this,c)}"none"!==a&&!h&&R[a].call(this,t),e||(s=r?{type:n.event||t.type,batch:l}:l[0],this._messageCenter.trigger(s.type,s))}},z.on=n("on"),z.off=n("off"),z.one=n("one");var O=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];z._initEvents=function(){var t=this._zr;D(O,function(e){t.on(e,function(t){var i=this.getModel(),n=t.target;if(n&&null!=n.dataIndex){var a=n.dataModel||i.getSeriesByIndex(n.seriesIndex),o=a&&a.getDataParams(n.dataIndex)||{};o.event=t,o.type=e,this.trigger(e,o)}},this)},this),D(N,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},z.isDisposed=function(){return this._disposed},z.clear=function(){this.setOption({},!0)},z.dispose=function(){this._disposed=!0;var t=this._api,e=this._model;D(this._componentsViews,function(i){i.dispose(e,t)}),D(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete Z[this.id]},I.mixin(o,L);var V=[],N={},B=[],G={},F=[],H={},W={},Z={},q={},j=new Date-0,U=new Date-0,X="_echarts_instance_",Y={version:"3.1.5",dependencies:{zrender:"3.0.6"}};Y.init=function(t,e,i){if(A.version.replace(".","")-0<Y.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+A.version+" is too old for ECharts "+Y.version+". Current version need ZRender "+Y.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");var n=new o(t,e,i);return n.id="ec_"+j++,Z[n.id]=n,t.setAttribute&&t.setAttribute(X,n.id),g(n),n},Y.connect=function(t){if(I.isArray(t)){var e=t;t=null,I.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+U++,I.each(e,function(e){e.group=t})}return q[t]=!0,t},Y.disConnect=function(t){q[t]=!1},Y.dispose=function(t){I.isDom(t)?t=Y.getInstanceByDom(t):"string"==typeof t&&(t=Z[t]),t instanceof o&&!t.isDisposed()&&t.dispose()},Y.getInstanceByDom=function(t){var e=t.getAttribute(X);return Z[e]},Y.getInstanceById=function(t){return Z[t]},Y.registerTheme=function(t,e){W[t]=e},Y.registerPreprocessor=function(t){F.push(t)},Y.registerProcessor=function(t,e){if(I.indexOf(k,t)<0)throw new Error("stage should be one of "+k);var i=G[t]||(G[t]=[]);i.push(e)},Y.registerAction=function(t,e,i){"function"==typeof e&&(i=e,e="");var n=I.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,V[n]||(V[n]={action:i,actionInfo:t}),N[e]=n},Y.registerCoordinateSystem=function(t,e){y.register(t,e)},Y.registerLayout=function(t){I.indexOf(B,t)<0&&B.push(t)},Y.registerVisualCoding=function(t,e){if(I.indexOf(P,t)<0)throw new Error("stage should be one of "+P);var i=H[t]||(H[t]=[]);i.push(e)},Y.extendChartView=function(t){return M.extend(t)},Y.extendComponentModel=function(t){return _.extend(t)},Y.extendSeriesModel=function(t){return w.extend(t)},Y.extendComponentView=function(t){return b.extend(t)},Y.setCanvasCreator=function(t){I.createCanvas=t},Y.registerVisualCoding("echarts",I.curry(i(74),"","itemStyle")),Y.registerPreprocessor(i(120)),Y.registerAction({type:"highlight",event:"highlight",update:"highlight"},I.noop),Y.registerAction({type:"downplay",event:"downplay",update:"downplay"},I.noop),Y.graphic=i(3),Y.number=i(4),Y.format=i(9),Y.matrix=i(19),Y.vector=i(5),Y.util={},D(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(t){Y.util[t]=I[t]}),t.exports=Y},function(t,e,i){"use strict";function n(t){if(!t.__isHover){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl,a=v.lift;n.fill=n.fill||i&&(i instanceof _?i:a(i,-.1)),n.stroke=n.stroke||e&&(e instanceof _?e:a(e,-.1));var o={};for(var r in n)n.hasOwnProperty(r)&&(o[r]=t.style[r]);t.__normalStl=o,t.__hoverStlDirty=!1}t.setStyle(t.__hoverStl),t.z2+=1,t.__isHover=!0}}function a(t){if(t.__isHover){var e=t.__normalStl;e&&t.setStyle(e),t.z2-=1,t.__isHover=!1}}function o(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&n(t)}):n(t)}function r(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&a(t)}):a(t)}function s(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0}function l(){!this.__isEmphasis&&o(this)}function h(){!this.__isEmphasis&&r(this)}function u(){this.__isEmphasis=!0,o(this)}function c(){this.__isEmphasis=!1,r(this)}function d(t,e,i,n,a){var o=t?"Update":"",r=n&&n.getShallow("animationDuration"+o),s=n&&n.getShallow("animationEasing"+o);n&&n.getShallow("animation")?e.animateTo(i,r,s,a):(e.attr(i),a&&a())}var f=i(1),p=i(156),g=Math.round,m=i(6),v=i(22),y=i(19),x=i(5),_=i(16),w={};w.Group=i(26),w.Image=i(46),w.Text=i(65),w.Circle=i(147),w.Sector=i(153),w.Ring=i(152),w.Polygon=i(149),w.Polyline=i(150),w.Rect=i(151),w.Line=i(148),w.BezierCurve=i(146),w.Arc=i(145),w.LinearGradient=i(76),w.RadialGradient=i(141),w.BoundingRect=i(8),w.extendShape=function(t){return m.extend(t)},w.extendPath=function(t,e){return p.extendFromString(t,e)},w.makePath=function(t,e,i,n){var a=p.createFromString(t,e),o=a.getBoundingRect();if(i){var r=o.width/o.height;if("center"===n){var s,l=i.height*r;l<=i.width?s=i.height:(l=i.width,s=l/r);var h=i.x+i.width/2,u=i.y+i.height/2;i.x=h-l/2,i.y=u-s/2,i.width=l,i.height=s}this.resizePath(a,i)}return a},w.mergePath=p.mergePath,w.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}},w.subPixelOptimizeLine=function(t){var e=w.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return g(2*i.x1)===g(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),g(2*i.y1)===g(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t},w.subPixelOptimizeRect=function(t){var e=w.subPixelOptimize,i=t.shape,n=t.style.lineWidth,a=i.x,o=i.y,r=i.width,s=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(a+r,n,!1)-i.x,0===r?0:1),i.height=Math.max(e(o+s,n,!1)-i.y,0===s?0:1),t},w.subPixelOptimize=function(t,e,i){var n=g(2*t);return(n+g(e))%2===0?n/2:(n+(i?1:-1))/2},w.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t,e)}):s(t,e),t.on("mouseover",l).on("mouseout",h),t.on("emphasis",u).on("normal",c)},w.setText=function(t,e,i){var n=e.getShallow("position")||"inside",a=n.indexOf("inside")>=0?"white":i,o=e.getModel("textStyle");f.extend(t,{textDistance:e.getShallow("distance")||5,textFont:o.getFont(),textPosition:n,textFill:o.getTextColor()||a})},w.updateProps=f.curry(d,!0),w.initProps=f.curry(d,!1),w.getTransform=function(t,e){for(var i=y.identity([]);t&&t!==e;)y.mul(i,t.getLocalTransform(),i),t=t.parent;return i},w.applyTransform=function(t,e,i){return i&&(e=y.invert([],e)),x.applyTransform([],t,e)},w.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-a:"bottom"===t?a:0];return o=w.applyTransform(o,e,i),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},t.exports=w},function(t,e){function i(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},a=1e-4;n.linearMap=function(t,e,i,n){var a=e[1]-e[0];if(0===a)return(i[0]+i[1])/2;var o=(t-e[0])/a;return n&&(o=Math.min(Math.max(o,0),1)),o*(i[1]-i[0])+i[0]},n.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?i(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},n.round=function(t){return+(+t).toFixed(12)},n.asc=function(t){return t.sort(function(t,e){return t-e}),t},n.getPrecision=function(t){if(isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},n.getPixelPrecision=function(t,e){var i=Math.log,n=Math.LN10,a=Math.floor(i(t[1]-t[0])/n),o=Math.round(i(Math.abs(e[1]-e[0]))/n);return Math.max(-a+o,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},n.isRadianAroundZero=function(t){return t>-a&&a>t},n.parseDate=function(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):Math.round(t))},n.nice=function(t,e){var i,n=Math.floor(Math.log(t)/Math.LN10),a=Math.pow(10,n),o=t/a;return i=e?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,i*a},t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,e){var n=new i(2);return n[0]=t||0,n[1]=e||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t,e,i){function n(t){var e=t.fill;return null!=e&&"none"!==e}function a(t){var e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0}function o(t){r.call(this,t),this.path=new l}var r=i(35),s=i(1),l=i(27),h=i(137),u=i(16),c=Math.abs;o.prototype={constructor:o,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t){t.save();var e=this.style,i=this.path,o=a(e),r=n(e);this.__dirtyPath&&(r&&e.fill instanceof u&&e.fill.updateCanvasGradient(this,t),o&&e.stroke instanceof u&&e.stroke.updateCanvasGradient(this,t)),e.bind(t,this),this.setTransform(t);var s=e.lineDash,l=e.lineDashOffset,h=!!t.setLineDash;this.__dirtyPath||s&&!h&&o?(i=this.path.beginPath(t),s&&!h&&(i.setLineDash(s),i.setLineDashOffset(l)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),r&&i.fill(t),s&&h&&(t.setLineDash(s),t.lineDashOffset=l),o&&i.stroke(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()},buildPath:function(t,e){},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var o=this.path;this.__dirtyPath&&(o.beginPath(),this.buildPath(o,this.shape)),t=o.getBoundingRect()}if(this._rect=t,a(e)){var r=this._rectWithStroke;if(this.__dirty||i){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());r.copy(t);var s=e.lineWidth,l=e.strokeNoScale?this.getLineScale():1;n(e)||(s=Math.max(s,this.strokeContainThreshold)),l>1e-10&&(r.width+=s/l,r.height+=s/l,r.x-=s/l/2,r.y-=s/l/2)}return r}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),o=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],o.contain(t,e)){var s=this.path.data;if(a(r)){var l=r.lineWidth,u=r.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(n(r)||(l=Math.max(l,this.strokeContainThreshold)),h.containStroke(s,l/u,t,e)))return!0}if(n(r))return h.contain(s,t,e)}return!1},dirty:function(t){0===arguments.length&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?this.setShape(e):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(s.isObject(t))for(var n in t)i[n]=t[n];else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&c(t[0]-1)>1e-10&&c(t[3]-1)>1e-10?Math.sqrt(c(t[0]*t[3]-t[2]*t[1])):1}},o.extend=function(t){var e=function(e){o.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var a in i)!n.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(n[a]=i[a])}t.init&&t.init.call(this,e)};s.inherits(e,o);for(var i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},s.inherits(o,r),t.exports=o},function(t,e,i){var n=i(9),a=i(4),o=i(1),r=i(12),s=["x","y","z","radius","angle"],l={};l.createNameEach=function(t,e){t=t.slice();var i=o.map(t,l.capitalFirst);e=(e||[]).slice();var n=o.map(e,l.capitalFirst);return function(a,r){o.each(t,function(t,o){for(var s={name:t,capital:i[o]},l=0;l<e.length;l++)s[e[l]]=t+n[l];a.call(r,s)})}},l.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},l.eachAxisDim=l.createNameEach(s,["axisIndex","axis","index"]),l.normalizeToArray=function(t){return o.isArray(t)?t:null==t?[]:[t]},l.createLinkedNodesFinder=function(t,e,i){function n(t,e){return o.indexOf(e.nodes,t)>=0}function a(t,n){var a=!1;return e(function(e){o.each(i(t,e)||[],function(t){n.records[e.name][t]&&(a=!0)})}),a}function r(t,n){n.nodes.push(t),e(function(e){o.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){function o(t){!n(t,s)&&a(t,s)&&(r(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!i)return s;r(i,s);var l;do l=!1,t(o);while(l);return s}},l.defaultEmphasis=function(t,e){if(t){var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};o.each(e,function(t){var e=o.retrieve(i[t],n[t]);null!=e&&(i[t]=e)})}},l.createDataFormatModel=function(t,e,i){var n=new r;return o.mixin(n,l.dataFormatMixin),n.seriesIndex=t.seriesIndex,n.name=t.name||"",n.getData=function(){return e},n.getRawDataArray=function(){return i},n},l.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},l.converDataValue=function(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"!==i||isFinite(t)||null==t||"-"===t||(t=+a.parseDate(t)),null==t||""===t?NaN:+t)},l.dataFormatMixin={getDataParams:function(t){var e=this.getData(),i=this.seriesIndex,n=this.name,a=this.getRawValue(t),o=e.getRawIndex(t),r=e.getName(t,!0),s=this.getRawDataArray(),l=s&&s[o];return{seriesIndex:i,seriesName:n,name:r,dataIndex:o,data:l,value:a,color:e.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i){e=e||"normal";var a=this.getData(),o=a.getItemModel(t),r=this.getDataParams(t);return null==i&&(i=o.get(["label",e,"formatter"])),"function"==typeof i?(r.status=e,i(r)):"string"==typeof i?n.formatTpl(i,r):void 0},getRawValue:function(t){var e=this.getData().getItemModel(t);if(e&&null!=e.option){var i=e.option;return o.isObject(i)&&!o.isArray(i)?i.value:i}}},l.mappingToExists=function(t,e){e=(e||[]).slice();var i=o.map(t||[],function(t,e){return{exist:t}});return o.each(e,function(t,n){if(o.isObject(t))for(var a=0;a<i.length;a++){var r=i[a].exist;if(!i[a].option&&(null!=t.id&&r.id===t.id+""||null!=t.name&&!l.isIdInner(t)&&!l.isIdInner(r)&&r.name===t.name+"")){i[a].option=t,e[n]=null;break}}}),o.each(e,function(t,e){if(o.isObject(t)){for(var n=0;n<i.length;n++){var a=i[n].exist;if(!i[n].option&&!l.isIdInner(a)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}}),i},l.isIdInner=function(t){return o.isObject(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},t.exports=l},function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}var a=i(5),o=i(19),r=a.applyTransform,s=Math.min,l=Math.abs,h=Math.max;n.prototype={constructor:n,union:function(t){var e=s(t.x,this.x),i=s(t.y,this.y);this.width=h(t.x+t.width,this.x+this.width)-e,this.height=h(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[];return function(i){i&&(t[0]=this.x,t[1]=this.y,e[0]=this.x+this.width,e[1]=this.y+this.height,r(t,t,i),r(e,e,i),this.x=s(t[0],e[0]),this.y=s(t[1],e[1]),this.width=l(e[0]-t[0]),this.height=l(e[1]-t[1]))}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,a=o.create();return o.translate(a,a,[-e.x,-e.y]),o.scale(a,a,[i,n]),o.translate(a,a,[t.x,t.y]),a},intersect:function(t){var e=this,i=e.x,n=e.x+e.width,a=e.y,o=e.y+e.height,r=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(r>n||i>s||l>o||a>h)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new n(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=n},function(t,e,i){function n(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function a(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function o(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function r(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t,e){return"{"+t+(null==e?"":e)+"}"}function l(t,e){c.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var n=e[0].$vars,a=0;a<n.length;a++){var o=f[a];t=t.replace(s(o),s(o,0))}for(var r=0;i>r;r++)for(var l=0;l<n.length;l++)t=t.replace(s(f[l],r),e[r][n[l]]);return t}function h(t,e){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=d.parseDate(e),n=i.getFullYear(),a=i.getMonth()+1,o=i.getDate(),r=i.getHours(),s=i.getMinutes(),l=i.getSeconds();return t=t.replace("MM",u(a)).toLowerCase().replace("yyyy",n).replace("yy",n%100).replace("dd",u(o)).replace("d",o).replace("hh",u(r)).replace("h",r).replace("mm",u(s)).replace("m",s).replace("ss",u(l)).replace("s",l)}function u(t){return 10>t?"0"+t:t}var c=i(1),d=i(4),f=["a","b","c","d","e","f","g"];t.exports={normalizeCssArray:o,addCommas:n,toCamelCase:a,encodeHTML:r,formatTpl:l,formatTime:h}},function(t,e,i){function n(t){var e=[];return o.each(u.getClassesByMainType(t),function(t){r.apply(e,t.prototype.dependencies||[])}),o.map(e,function(t){return l.parseClassType(t).main})}var a=i(12),o=i(1),r=Array.prototype.push,s=i(41),l=i(20),h=i(11),u=a.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(t,e,i,n){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?h.getLayoutParams(t):{},a=e.getTheme();o.merge(t,a.get(this.mainType)),o.merge(t,this.getDefaultOption()),i&&h.mergeLayoutParam(t,n,i)},mergeOption:function(t){o.merge(this.option,t,!0);var e=this.layoutMode;e&&h.mergeLayoutParam(this.option,t,e)},optionUpdated:function(t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},a=t.length-1;a>=0;a--)n=o.merge(n,t[a],!0);this.__defaultOption=n}return this.__defaultOption}});l.enableClassExtend(u,function(t,e,i,n){o.extend(this,n),this.uid=s.getUID("componentModel")}),l.enableClassManagement(u,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(u),s.enableTopologicalTravel(u,n),o.mixin(u,i(116)),t.exports=u},function(t,e,i){"use strict";function n(t,e,i,n,a){var o=0,r=0;null==n&&(n=1/0),null==a&&(a=1/0);var s=0;e.eachChild(function(l,h){var u,c,d=l.position,f=l.getBoundingRect(),p=e.childAt(h+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);u=o+m,u>n||l.newline?(o=0,u=m,r+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);c=r+v,c>a||l.newline?(o+=s+i,r=0,c=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=o,d[1]=r,"horizontal"===t?o=u+i:r=c+i)})}var a=i(1),o=i(8),r=i(4),s=i(9),l=r.parsePercent,h=a.each,u={},c=["left","right","top","bottom","width","height"];u.box=n,u.vbox=a.curry(n,"vertical"),u.hbox=a.curry(n,"horizontal"),u.getAvailableSize=function(t,e,i){var n=e.width,a=e.height,o=l(t.x,n),r=l(t.y,a),h=l(t.x2,n),u=l(t.y2,a);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(h)||isNaN(parseFloat(t.x2)))&&(h=n),(isNaN(r)||isNaN(parseFloat(t.y)))&&(r=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=a),i=s.normalizeCssArray(i||0),{width:Math.max(h-o-i[1]-i[3],0),height:Math.max(u-r-i[0]-i[2],0)}},u.getLayoutRect=function(t,e,i){i=s.normalizeCssArray(i||0);var n=e.width,a=e.height,r=l(t.left,n),h=l(t.top,a),u=l(t.right,n),c=l(t.bottom,a),d=l(t.width,n),f=l(t.height,a),p=i[2]+i[0],g=i[1]+i[3],m=t.aspect;switch(isNaN(d)&&(d=n-u-g-r),isNaN(f)&&(f=a-c-p-h),isNaN(d)&&isNaN(f)&&(m>n/a?d=.8*n:f=.8*a),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(r)&&(r=n-u-d-g),isNaN(h)&&(h=a-c-f-p),t.left||t.right){case"center":r=n/2-d/2-i[3];break;case"right":r=n-d-g}switch(t.top||t.bottom){case"middle":case"center":h=a/2-f/2-i[0];break;case"bottom":h=a-f-p}r=r||0,h=h||0,isNaN(d)&&(d=n-r-(u||0)),isNaN(f)&&(f=a-h-(c||0));var v=new o(r+i[3],h+i[0],d,f);return v.margin=i,v},u.positionGroup=function(t,e,i,n){var o=t.getBoundingRect();e=a.extend(a.clone(e),{width:o.width,height:o.height}),e=u.getLayoutRect(e,i,n),t.position=[e.x-o.x,e.y-o.y]},u.mergeLayoutParam=function(t,e,i){function n(n){var a={},s=0,l={},u=0,c=i.ignoreSize?1:2;if(h(n,function(e){l[e]=t[e]}),h(n,function(t){o(e,t)&&(a[t]=l[t]=e[t]),r(a,t)&&s++,r(l,t)&&u++}),u!==c&&s){if(s>=c)return a;for(var d=0;d<n.length;d++){var f=n[d];if(!o(a,f)&&o(t,f)){a[f]=t[f];break}}return a}return l}function o(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,i){h(t,function(t){e[t]=i[t]})}!a.isObject(i)&&(i={});var l=["width","left","right"],u=["height","top","bottom"],c=n(l),d=n(u);s(l,t,c),s(u,t,d)},u.getLayoutParams=function(t){return u.copyLayoutParams({},t)},u.copyLayoutParams=function(t,e){return e&&t&&h(c,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t},t.exports=u},function(t,e,i){function n(t,e,i,n){this.parentModel=e,this.ecModel=i,this.option=t,this.init&&(arguments.length<=4?this.init(t,e,i,n):this.init.apply(this,arguments))}var a=i(1),o=i(20);n.prototype={constructor:n,init:null,mergeOption:function(t){a.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var i=this.option,n=this.parentModel,a=0;a<t.length&&(i=i&&"object"==typeof i?i[t[a]]:null,null!=i);a++);return null==i&&n&&!e&&(i=n.get(t)),i},getShallow:function(t,e){var i=this.option,n=i&&i[t],a=this.parentModel;return null==n&&a&&!e&&(n=a.getShallow(t)),n},getModel:function(t,e){var i=this.get(t,!0),a=this.parentModel,o=new n(i,e||a&&a.getModel(t),this.ecModel);return o},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(a.clone(this.option))},setReadOnly:function(t){o.setReadOnly(this,t)}},o.enableClassExtend(n);var r=a.mixin;r(n,i(118)),r(n,i(115)),r(n,i(119)),r(n,i(117)),t.exports=n},function(t,e,i){"use strict";var n=i(1),a=i(9),o=i(7),r=i(10),s=a.encodeHTML,l=a.addCommas,h=r.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i),this._dataBeforeProcessed=this.getInitialData(t,i),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),o.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"]);for(var i=t.data||[],a=0;a<i.length;a++)i[a]&&i[a].label&&o.defaultEmphasis(i[a].label,["position","show","textStyle","distance","formatter"])},mergeOption:function(t,e){t=n.merge(this.option,t,!0);var i=this.getInitialData(t,e);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},getInitialData:function(){},getData:function(){return this._data},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},getRawDataArray:function(){return this.option.data},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e){var i=this._data,a=this.getRawValue(t),o=n.isArray(a)?n.map(a,l).join(", "):l(a),r=i.getName(t),h=i.getItemVisual(t,"color"),u='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+h+'"></span>';return e?u+s(this.name)+" : "+o:s(this.name)+"<br />"+u+(r?s(r)+" : "+o:o)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()}});n.mixin(h,o.dataFormatMixin),t.exports=h},function(t,e,i){(function(e){function n(t){return d.isArray(t)||(t=[t]),t}function a(t,e){var i=t.dimensions,n=new v(d.map(i,t.getDimensionInfo,t),t.hostModel);m(n,t,t._wrappedMethods);for(var a=n._storage={},o=t._storage,r=0;r<i.length;r++){var s=i[r],l=o[s];d.indexOf(e,s)>=0?a[s]=new l.constructor(o[s].length):a[s]=o[s]}return n}var o="undefined",r="undefined"==typeof window?e:window,s=typeof r.Float64Array===o?Array:r.Float64Array,l=typeof r.Int32Array===o?Array:r.Int32Array,h={"float":s,"int":l,ordinal:Array,number:Array,time:Array},u=i(12),c=i(52),d=i(1),f=i(7),p=d.isObject,g=["stackedOn","_nameList","_idList","_rawData"],m=function(t,e,i){d.each(g.concat(i||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})},v=function(t,e){t=t||["x","y"];for(var i={},n=[],a=0;a<t.length;a++){var o,r={};"string"==typeof t[a]?(o=t[a],r={name:o,stackable:!1,type:"number"}):(r=t[a],o=r.name,r.type=r.type||"number"),n.push(o),i[o]=r}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=v.prototype;y.type="list",y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},y.getDimensionInfo=function(t){return d.clone(this._dimensionInfos[this.getDimension(t)])},y.initData=function(t,e,i){t=t||[],this._rawData=t;var n=this._storage={},a=this.indices=[],o=this.dimensions,r=t.length,s=this._dimensionInfos,l=[],u={};e=e||[];for(var c=0;c<o.length;c++){var p=s[o[c]],g=h[p.type];n[o[c]]=new g(r)}i=i||function(t,e,i,n){var a=f.getDataItemValue(t);return f.converDataValue(d.isArray(a)?a[n]:a,s[e])};for(var m=0;m<t.length;m++){for(var v=t[m],y=0;y<o.length;y++){var x=o[y],_=n[x];_[m]=i(v,x,m,y)}a.push(m)}for(var c=0;c<t.length;c++){var w="";e[c]||(e[c]=t[c].name,w=t[c].id);var b=e[c]||"";!w&&b&&(u[b]=u[b]||0,w=b,u[b]>0&&(w+="__ec__"+u[b]),u[b]++),w&&(l[c]=w)}this._nameList=e,this._idList=l},y.count=function(){return this.indices.length},y.get=function(t,e,i){var n=this._storage,a=this.indices[e];if(null==a)return NaN;var o=n[t]&&n[t][a];if(i){var r=this._dimensionInfos[t];if(r&&r.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(o>=0&&l>0||0>=o&&0>l)&&(o+=l),s=s.stackedOn}}return o},y.getValues=function(t,e,i){var n=[];d.isArray(t)||(i=e,e=t,t=this.dimensions);for(var a=0,o=t.length;o>a;a++)n.push(this.get(t[a],e,i));return n},y.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,a=e.length;a>n;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},y.getDataExtent=function(t,e){var i=this._storage[t],n=this.getDimensionInfo(t);e=n&&n.stackable&&e;var a,o=(this._extent||(this._extent={}))[t+!!e];if(o)return o;if(i){for(var r=1/0,s=-(1/0),l=0,h=this.count();h>l;l++)a=this.get(t,l,e),r>a&&(r=a),a>s&&(s=a);return this._extent[t+e]=[r,s]}return[1/0,-(1/0)]},y.getSum=function(t,e){var i=this._storage[t],n=0;if(i)for(var a=0,o=this.count();o>a;a++){var r=this.get(t,a,e);isNaN(r)||(n+=r)}return n},y.indexOf=function(t,e){var i=this._storage,n=i[t],a=this.indices;if(n)for(var o=0,r=a.length;r>o;o++){var s=a[o];if(n[s]===e)return o}return-1},y.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,a=e.length;a>n;n++){var o=e[n];if(i[o]===t)return n}return-1},y.indexOfNearest=function(t,e,i){var n=this._storage,a=n[t];if(a){for(var o=Number.MAX_VALUE,r=-1,s=0,l=this.count();l>s;s++){var h=e-this.get(t,s,i),u=Math.abs(h);(o>u||u===o&&h>0)&&(o=u,r=s)}return r}return-1},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},y.getName=function(t){return this._nameList[this.indices[t]]||""},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},y.each=function(t,e,i,a){"function"==typeof t&&(a=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var o=[],r=t.length,s=this.indices;a=a||this;for(var l=0;l<s.length;l++)if(0===r)e.call(a,l);else if(1===r)e.call(a,this.get(t[0],l,i),l);else{for(var h=0;r>h;h++)o[h]=this.get(t[h],l,i);o[h]=l,e.apply(a,o)}},y.filterSelf=function(t,e,i,a){"function"==typeof t&&(a=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var o=[],r=[],s=t.length,l=this.indices;a=a||this;for(var h=0;h<l.length;h++){var u;if(1===s)u=e.call(a,this.get(t[0],h,i),h);else{for(var c=0;s>c;c++)r[c]=this.get(t[c],h,i);r[c]=h,u=e.apply(a,r)}u&&o.push(l[h])}return this.indices=o,this._extent={},this},y.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var a=[];return this.each(t,function(){a.push(e&&e.apply(this,arguments))},i,n),a},y.map=function(t,e,i,o){t=d.map(n(t),this.getDimension,this);var r=a(this,t),s=r.indices=this.indices,l=r._storage,h=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&&e.apply(this,arguments);if(null!=n){"number"==typeof n&&(h[0]=n,n=h);for(var a=0;a<n.length;a++){var o=t[a],r=l[o],u=s[i];r&&(r[u]=n[a])}}},i,o),r},y.downSample=function(t,e,i,n){for(var o=a(this,[t]),r=this._storage,s=o._storage,l=this.indices,h=o.indices=[],u=[],c=[],d=Math.floor(1/e),f=s[t],p=this.count(),g=0;g<r[t].length;g++)s[t][g]=r[t][g];for(var g=0;p>g;g+=d){d>p-g&&(d=p-g,u.length=d);for(var m=0;d>m;m++){var v=l[g+m];u[m]=f[v],c[m]=v}var y=i(u),v=c[n(u,y)||0];f[v]=y,h.push(v)}return o},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new u(this._rawData[t],e,e.ecModel)},y.diff=function(t){var e=this._idList,i=t&&t._idList;return new c(t?t.indices:[],this.indices,function(t){return i[t]||t+""},function(t){return e[t]||t+""})},y.getVisual=function(t){var e=this._visual;return e&&e[t]},y.setVisual=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},y.setLayout=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},y.getLayout=function(t){return this._layout[t]},y.getItemLayout=function(t){return this._itemLayouts[t]},y.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?d.extend(this._itemLayouts[t]||{},e):e},y.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],a=n&&n[e];return null!=a||i?a:this.getVisual(e)},y.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,p(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);else n[e]=i};var x=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex};y.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(x,e)),this._graphicEls[t]=e},y.getItemGraphicEl=function(t){return this._graphicEls[t]},y.eachItemGraphicEl=function(t,e){d.each(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},y.cloneShallow=function(){var t=d.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this,this._wrappedMethods),e.indices=this.indices.slice(),e},y.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this._wrappedMethods=this._wrappedMethods||[],this._wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.call(this,t)})},t.exports=v}).call(e,function(){return this}())},function(t,e){function i(t){var e={},i={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),s=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=l&&t.match(/TouchPad/),u=t.match(/Kindle\/([\d.]+)/),c=t.match(/Silk\/([\d._]+)/),d=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),p=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/),y=n&&t.match(/Mobile\//)&&!m,x=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m,_=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),w=t.match(/Edge\/([\d.]+)/);return(i.webkit=!!n)&&(i.version=n[1]),a&&(e.android=!0,e.version=a[2]),s&&!r&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),r&&(e.ios=e.ipod=!0,e.version=r[3]?r[3].replace(/_/g,"."):null),l&&(e.webos=!0,e.version=l[2]),h&&(e.touchpad=!0),d&&(e.blackberry=!0,e.version=d[2]),f&&(e.bb10=!0,e.version=f[2]),p&&(e.rimtabletos=!0,e.version=p[2]),g&&(i.playbook=!0),u&&(e.kindle=!0,e.version=u[1]),c&&(i.silk=!0,i.version=c[1]),!c&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),v&&(i.firefox=!0,i.version=v[1]),_&&(i.ie=!0,i.version=_[1]),y&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),x&&(i.webview=!0),_&&(i.ie=!0,i.version=_[1]),w&&(i.edge=!0,i.version=w[1]),e.tablet=!!(o||g||a&&!t.match(/Mobile/)||v&&t.match(/Tablet/)||_&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(a||s||l||d||f||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/)||_&&t.match(/Touch/))),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent),t.exports=n},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=i},function(t,e,i){function n(t,e){var i=t+":"+e;if(h[i])return h[i];for(var n=(t+"").split("\n"),a=0,o=0,r=n.length;r>o;o++)a=Math.max(p.measureText(n[o],e).width,a);return u>c&&(u=0,h={}),u++,h[i]=a,a}function a(t,e,i,a){var o=((t||"")+"").split("\n").length,r=n(t,e),s=n("",e),l=o*s,h=new f(0,0,r,l);switch(h.lineHeight=s,a){case"bottom":case"alphabetic":h.y-=s;break;case"middle":h.y-=s/2}switch(i){case"end":case"right":h.x-=h.width;break;case"center":h.x-=h.width/2}return h}function o(t,e,i,n){var a=e.x,o=e.y,r=e.height,s=e.width,l=i.height,h=r/2-l/2,u="left";switch(t){case"left":a-=n,o+=h,u="right";break;case"right":a+=n+s,o+=h,u="left";break;case"top":a+=s/2,o-=n+l,u="center";break;case"bottom":a+=s/2,o+=r+n,u="center";break;case"inside":a+=s/2,o+=h,u="center";break;case"insideLeft":a+=n,o+=h,u="left";break;case"insideRight":a+=s-n,o+=h,u="right";break;case"insideTop":a+=s/2,o+=n,u="center";break;case"insideBottom":a+=s/2,o+=r-l-n,u="center";break;case"insideTopLeft":a+=n,o+=n,u="left";break;case"insideTopRight":a+=s-n,o+=n,u="right";break;case"insideBottomLeft":a+=n,o+=r-l-n;break;case"insideBottomRight":a+=s-n,o+=r-l-n,u="right"}return{x:a,y:o,textAlign:u,textBaseline:"top"}}function r(t,e,i,a){if(!i)return"";a=d.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:n("",e),ascCharWidth:n("a",e)},a,!0),i-=n(a.ellipsis);for(var o=(t+"").split("\n"),r=0,l=o.length;l>r;r++)o[r]=s(o[r],e,i,a);return o.join("\n")}function s(t,e,i,a){for(var o=0;;o++){var r=n(t,e);if(i>r||o>=a.maxIterations){t+=a.ellipsis;break}var s=0===o?l(t,i,a):Math.floor(t.length*i/r);if(s<a.minCharacters){t="";break}t=t.substr(0,s)}return t}function l(t,e,i){for(var n=0,a=0,o=t.length;o>a&&e>n;a++){var r=t.charCodeAt(a);n+=r>=0&&127>=r?i.ascCharWidth:i.cnCharWidth}return a}var h={},u=0,c=5e3,d=i(1),f=i(8),p={getWidth:n,getBoundingRect:a,adjustTextPositionOnRect:o,ellipsis:r,measureText:function(t,e){var i=d.getContext();return i.font=e,i.measureText(t)}};t.exports=p},function(t,e,i){"use strict";function n(t){return t>-b&&b>t}function a(t){return t>b||-b>t}function o(t,e,i,n,a){var o=1-a;return o*o*(o*t+3*a*e)+a*a*(a*n+3*o*i)}function r(t,e,i,n,a){var o=1-a;return 3*(((e-t)*o+2*(i-e)*a)*o+(n-i)*a*a)}function s(t,e,i,a,o,r){var s=a+3*(e-i)-t,l=3*(i-2*e+t),h=3*(e-t),u=t-o,c=l*l-3*s*h,d=l*h-9*s*u,f=h*h-3*l*u,p=0;if(n(c)&&n(d))if(n(l))r[0]=0;else{var g=-h/l;g>=0&&1>=g&&(r[p++]=g)}else{var m=d*d-4*c*f;if(n(m)){var v=d/c,g=-l/s+v,y=-v/2;g>=0&&1>=g&&(r[p++]=g),y>=0&&1>=y&&(r[p++]=y)}else if(m>0){var x=w(m),b=c*l+1.5*s*(-d+x),M=c*l+1.5*s*(-d-x);b=0>b?-_(-b,A):_(b,A),M=0>M?-_(-M,A):_(M,A);var g=(-l-(b+M))/(3*s);g>=0&&1>=g&&(r[p++]=g)}else{var I=(2*c*l-3*s*d)/(2*w(c*c*c)),T=Math.acos(I)/3,C=w(c),L=Math.cos(T),g=(-l-2*C*L)/(3*s),y=(-l+C*(L+S*Math.sin(T)))/(3*s),D=(-l+C*(L-S*Math.sin(T)))/(3*s);g>=0&&1>=g&&(r[p++]=g),y>=0&&1>=y&&(r[p++]=y),D>=0&&1>=D&&(r[p++]=D)}}return p}function l(t,e,i,o,r){var s=6*i-12*e+6*t,l=9*e+3*o-3*t-9*i,h=3*e-3*t,u=0;if(n(l)){if(a(s)){var c=-h/s;c>=0&&1>=c&&(r[u++]=c)}}else{var d=s*s-4*l*h;if(n(d))r[0]=-s/(2*l);else if(d>0){var f=w(d),c=(-s+f)/(2*l),p=(-s-f)/(2*l);c>=0&&1>=c&&(r[u++]=c),p>=0&&1>=p&&(r[u++]=p)}}return u}function h(t,e,i,n,a,o){var r=(e-t)*a+t,s=(i-e)*a+e,l=(n-i)*a+i,h=(s-r)*a+r,u=(l-s)*a+s,c=(u-h)*a+h;o[0]=t,o[1]=r,o[2]=h,o[3]=c,o[4]=c,o[5]=u,o[6]=l,o[7]=n}function u(t,e,i,n,a,r,s,l,h,u,c){var d,f,p,g,m,v=.005,y=1/0;I[0]=h,I[1]=u;for(var _=0;1>_;_+=.05)T[0]=o(t,i,a,s,_),T[1]=o(e,n,r,l,_),g=x(I,T),y>g&&(d=_,y=g);y=1/0;for(var b=0;32>b&&!(M>v);b++)f=d-v,p=d+v,T[0]=o(t,i,a,s,f),T[1]=o(e,n,r,l,f),g=x(T,I),f>=0&&y>g?(d=f,y=g):(C[0]=o(t,i,a,s,p),C[1]=o(e,n,r,l,p),m=x(C,I),1>=p&&y>m?(d=p,y=m):v*=.5);return c&&(c[0]=o(t,i,a,s,d),c[1]=o(e,n,r,l,d)),w(y)}function c(t,e,i,n){var a=1-n;return a*(a*t+2*n*e)+n*n*i}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function f(t,e,i,o,r){var s=t-2*e+i,l=2*(e-t),h=t-o,u=0;if(n(s)){if(a(l)){var c=-h/l;c>=0&&1>=c&&(r[u++]=c)}}else{var d=l*l-4*s*h;if(n(d)){var c=-l/(2*s);c>=0&&1>=c&&(r[u++]=c)}else if(d>0){var f=w(d),c=(-l+f)/(2*s),p=(-l-f)/(2*s);c>=0&&1>=c&&(r[u++]=c),p>=0&&1>=p&&(r[u++]=p)}}return u}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function g(t,e,i,n,a){var o=(e-t)*n+t,r=(i-e)*n+e,s=(r-o)*n+o;a[0]=t,a[1]=o,a[2]=s,a[3]=s,a[4]=r,a[5]=i}function m(t,e,i,n,a,o,r,s,l){var h,u=.005,d=1/0;I[0]=r,I[1]=s;for(var f=0;1>f;f+=.05){T[0]=c(t,i,a,f),T[1]=c(e,n,o,f);var p=x(I,T);d>p&&(h=f,d=p)}d=1/0;for(var g=0;32>g&&!(M>u);g++){var m=h-u,v=h+u;T[0]=c(t,i,a,m),T[1]=c(e,n,o,m);var p=x(T,I);if(m>=0&&d>p)h=m,d=p;else{C[0]=c(t,i,a,v),C[1]=c(e,n,o,v);var y=x(C,I);1>=v&&d>y?(h=v,d=y):u*=.5}}return l&&(l[0]=c(t,i,a,h),l[1]=c(e,n,o,h)),w(d)}var v=i(5),y=v.create,x=v.distSquare,_=Math.pow,w=Math.sqrt,b=1e-8,M=1e-4,S=w(3),A=1/3,I=y(),T=y(),C=y();t.exports={cubicAt:o,cubicDerivativeAt:r,cubicRootAt:s,cubicExtrema:l,cubicSubdivide:h,cubicProjectPoint:u,quadraticAt:c,quadraticDerivativeAt:d,quadraticRootAt:f,quadraticExtremum:p,quadraticSubdivide:g,quadraticProjectPoint:m}},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new i(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=a,t[2]=o,t[3]=r,t[4]=s,t[5]=l,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],a=e[2],o=e[4],r=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*h,t[1]=-n*h+r*u,t[2]=a*u+s*h,t[3]=-a*h+u*s,t[4]=u*o+h*l,t[5]=u*l-h*o,t},scale:function(t,e,i){var n=i[0],a=i[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t},invert:function(t,e){var i=e[0],n=e[2],a=e[4],o=e[1],r=e[3],s=e[5],l=i*r-o*n;return l?(l=1/l,t[0]=r*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-r*a)*l,t[5]=(o*a-i*s)*l,t):null}};t.exports=n},function(t,e,i){function n(t,e){var i=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function a(t,e,i){return this.superClass.prototype[e].apply(t,i)}var o=i(1),r={},s=".",l="___EC__COMPONENT__CONTAINER___",h=r.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e};r.enableClassExtend=function(t,e){t.extend=function(i){var r=function(){e&&e.apply(this,arguments),t.apply(this,arguments)};return o.extend(r.prototype,i),r.extend=this.extend,r.superCall=n,r.superApply=a,o.inherits(r,this),r.superClass=this,r}},r.enableClassManagement=function(t,e){function i(t){var e=n[t.main];return e&&e[l]||(e=n[t.main]={},e[l]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(e=h(e),e.sub){if(e.sub!==l){var a=i(e);a[e.sub]=t}}else{if(n[e.main])throw new Error(e.main+"exists.");n[e.main]=t}return t},t.getClass=function(t,e,i){var a=n[t];if(a&&a[l]&&(a=e?a[e]:null),i&&!a)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return a},t.getClassesByMainType=function(t){t=h(t);var e=[],i=n[t.main];return i&&i[l]?o.each(i,function(t,i){i!==l&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=h(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return o.each(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=h(t);var e=n[t.main];return e&&e[l]},t.parseClassType=h,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var i=a.call(this,e);return t.registerClass(i,e.type)})}return t},r.setReadOnly=function(t,e){},t.exports=r},function(t,e,i){var n=Array.prototype.slice,a=i(1),o=a.indexOf,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),o(n[t],t)>=0?this:(n[t].push({h:e,one:!0,ctx:i||this}),this)):this},on:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],a=0,o=i[t].length;o>a;a++)i[t][a].h!=e&&n.push(i[t][a]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=n.call(e,1));for(var a=this._$handlers[t],o=a.length,r=0;o>r;){switch(i){case 1:a[r].h.call(a[r].ctx);break;case 2:a[r].h.call(a[r].ctx,e[1]);break;case 3:a[r].h.call(a[r].ctx,e[1],e[2]);break;default:a[r].h.apply(a[r].ctx,e)}a[r].one?(a.splice(r,1),o--):r++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=n.call(e,1,e.length-1));for(var a=e[e.length-1],o=this._$handlers[t],r=o.length,s=0;r>s;){switch(i){case 1:o[s].h.call(a);break;case 2:o[s].h.call(a,e[1]);break;case 3:o[s].h.call(a,e[1],e[2]);break;default:o[s].h.apply(a,e)}o[s].one?(o.splice(s,1),r--):s++}}return this}},t.exports=r},function(t,e){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return t=Math.round(t),0>t?0:t>360?360:t}function a(t){return 0>t?0:t>1?1:t}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function r(t){return a(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function s(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function l(t,e,i){return t+(e-t)*i}function h(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in _)return _[e].slice();if("#"!==e.charAt(0)){var i=e.indexOf("("),n=e.indexOf(")");if(-1!==i&&n+1===e.length){var a=e.substr(0,i),s=e.substr(i+1,n-(i+1)).split(","),l=1;switch(a){case"rgba":if(4!==s.length)return;l=r(s.pop());case"rgb":if(3!==s.length)return;return[o(s[0]),o(s[1]),o(s[2]),l];case"hsla":if(4!==s.length)return;return s[3]=r(s[3]),u(s);case"hsl":if(3!==s.length)return;return u(s);default:return}}}else{if(4===e.length){var h=parseInt(e.substr(1),16);if(!(h>=0&&4095>=h))return;return[(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1]}if(7===e.length){var h=parseInt(e.substr(1),16);if(!(h>=0&&16777215>=h))return;return[(16711680&h)>>16,(65280&h)>>8,255&h,1]}}}}function u(t){var e=(parseFloat(t[0])%360+360)%360/360,n=r(t[1]),a=r(t[2]),o=.5>=a?a*(n+1):a+n-a*n,l=2*a-o,h=[i(255*s(l,o,e+1/3)),i(255*s(l,o,e)),i(255*s(l,o,e-1/3))];return 4===t.length&&(h[3]=t[3]),h}function c(t){if(t){var e,i,n=t[0]/255,a=t[1]/255,o=t[2]/255,r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r,h=(s+r)/2;if(0===l)e=0,i=0;else{i=.5>h?l/(s+r):l/(2-s-r);var u=((s-n)/6+l/2)/l,c=((s-a)/6+l/2)/l,d=((s-o)/6+l/2)/l;n===s?e=d-c:a===s?e=1/3+u-d:o===s&&(e=2/3+c-u),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}function d(t,e){var i=h(t);if(i){for(var n=0;3>n;n++)0>e?i[n]=i[n]*(1-e)|0:i[n]=(255-i[n])*e+i[n]|0;return x(i,4===i.length?"rgba":"rgb")}}function f(t,e){var i=h(t);return i?((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1):void 0}function p(t,e,n){if(e&&e.length&&t>=0&&1>=t){n=n||[0,0,0,0];var a=t*(e.length-1),o=Math.floor(a),r=Math.ceil(a),s=e[o],h=e[r],u=a-o;return n[0]=i(l(s[0],h[0],u)),n[1]=i(l(s[1],h[1],u)),n[2]=i(l(s[2],h[2],u)),n[3]=i(l(s[3],h[3],u)),n}}function g(t,e,n){if(e&&e.length&&t>=0&&1>=t){var o=t*(e.length-1),r=Math.floor(o),s=Math.ceil(o),u=h(e[r]),c=h(e[s]),d=o-r,f=x([i(l(u[0],c[0],d)),i(l(u[1],c[1],d)),i(l(u[2],c[2],d)),a(l(u[3],c[3],d))],"rgba");return n?{color:f,leftIndex:r,rightIndex:s,value:o}:f}}function m(t,e){if(!(2!==t.length||t[1]<t[0])){for(var i=g(t[0],e,!0),n=g(t[1],e,!0),a=[{color:i.color,offset:0}],o=n.value-i.value,r=Math.max(i.value,i.rightIndex),s=Math.min(n.value,n.leftIndex),l=r;o>0&&s>=l;l++)a.push({color:e[l],offset:(l-i.value)/o});return a.push({color:n.color,offset:1}),a}}function v(t,e,i,a){return t=h(t),t?(t=c(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=r(i)),null!=a&&(t[2]=r(a)),x(u(t),"rgba")):void 0}function y(t,e){return t=h(t),t&&null!=e?(t[3]=a(e),x(t,"rgba")):void 0}function x(t,e){return"rgb"!==e&&"hsv"!==e&&"hsl"!==e||(t=t.slice(0,3)),e+"("+t.join(",")+")"}var _={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:h,lift:d,toHex:f,fastMapToColor:p,mapToColor:g,mapIntervalToColor:m,modifyHSL:v,modifyAlpha:y,stringify:x}},function(t,e,i){var n=i(124),a=i(37);i(125),i(123);var o=i(32),r=i(4),s=i(1),l=i(17),h={};h.getScaleExtent=function(t,e){var i=t.scale,n=i.getExtent(),a=n[1]-n[0];if("ordinal"===i.type)return isFinite(a)?n:[0,0];var o=e.getMin?e.getMin():e.get("min"),l=e.getMax?e.getMax():e.get("max"),h=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),u=e.get("boundaryGap");s.isArray(u)||(u=[u||0,u||0]),u[0]=r.parsePercent(u[0],1),u[1]=r.parsePercent(u[1],1);var c=!0,d=!0;return null==o&&(o=n[0]-u[0]*a,c=!1),null==l&&(l=n[1]+u[1]*a,d=!1),"dataMin"===o&&(o=n[0]),"dataMax"===l&&(l=n[1]),h&&(o>0&&l>0&&!c&&(o=0),0>o&&0>l&&!d&&(l=0)),[o,l]},h.niceScaleExtent=function(t,e){var i=t.scale,n=h.getScaleExtent(t,e),a=null!=(e.getMin?e.getMin():e.get("min")),o=null!=(e.getMax?e.getMax():e.get("max"));i.setExtent(n[0],n[1]),i.niceExtent(e.get("splitNumber"),a,o);var r=e.get("interval");null!=r&&i.setInterval&&i.setInterval(r)},h.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-(1/0)]);case"value":return new a;default:return(o.getClass(e)||a).create(t)}},h.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||0>i&&0>n)},h.getAxisLabelInterval=function(t,e,i,n){var a,o=0,r=0,s=1;e.length>40&&(s=Math.round(e.length/40));for(var h=0;h<t.length;h+=s){var u=t[h],c=l.getBoundingRect(e[h],i,"center","top");c[n?"x":"y"]+=u,c[n?"width":"height"]*=1.5,a?a.intersect(c)?(r++,o=Math.max(o,r)):(a.union(c),r=0):a=c.clone()}return 0===o&&s>1?s:o*s},h.getFormattedLabels=function(t,e){var i=t.scale,n=i.getTicksLabels(),a=i.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",e)}}(e),s.map(n,e)):"function"==typeof e?s.map(a,function(n,a){return e("category"===t.type?i.getLabel(n):n,a)},this):n},t.exports=h},function(t,e,i){"use strict";var n=i(3),a=i(8),o=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+a,n+o),t.lineTo(i-a,n+o),t.closePath()}}),r=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+a,n),t.lineTo(i,n+o),t.lineTo(i-a,n),t.closePath()}}),s=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width/5*3,o=Math.max(a,e.height),r=a/2,s=r*r/(o-r),l=n-o+r+s,h=Math.asin(s/r),u=Math.cos(h)*r,c=Math.sin(h),d=Math.cos(h);t.arc(i,l,r,Math.PI-h,2*Math.PI+h);var f=.6*r,p=.7*r;t.bezierCurveTo(i+u-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-u+c*f,l+s+d*f,i-u,l+s),t.closePath()}}),l=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,a=e.x,o=e.y,r=n/3*2;t.moveTo(a,o),t.lineTo(a+r,o+i),t.lineTo(a,o+i/4*3),t.lineTo(a-r,o+i),t.lineTo(a,o),t.closePath()}}),h={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:r,pin:s,arrow:l,triangle:o},u={line:function(t,e,i,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+i,a.y2=e+n/2},rect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n},roundRect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n,a.r=Math.min(i,n)/4},square:function(t,e,i,n,a){var o=Math.min(i,n);a.x=t,a.y=e,a.width=o,a.height=o},circle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.r=Math.min(i,n)/2},diamond:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n},pin:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},arrow:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},triangle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n}},c={};for(var d in h)c[d]=new h[d];var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e){var i=e.symbolType,n=c[i];"none"!==e.symbolType&&(n||(i="rect",n=c[i]),u[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape))}}),p=function(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty()}},g={createSymbol:function(t,e,i,o,r,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var h;return h=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:o,height:r}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new a(e,i,o,r)):new f({shape:{symbolType:t,x:e,y:i,width:o,height:r}}),h.__isEmptyBrush=l,h.setColor=p,h.setColor(s),h}};t.exports=g},function(t,e,i){function n(){this.group=new r,this.uid=s.getUID("viewChart")}function a(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)a(t.childAt(i),e)}function o(t,e,i){if(null!=e.dataIndex){var n=t.getItemGraphicEl(e.dataIndex);a(n,i)}else if(e.name){var o=t.indexOfName(e.name),n=t.getItemGraphicEl(o);a(n,i)}else t.eachItemGraphicEl(function(t){a(t,i)})}var r=i(26),s=i(41),l=i(20);n.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){o(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){o(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var h=n.prototype;h.updateView=h.updateLayout=h.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},l.enableClassExtend(n),l.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){var n=i(1),a=i(55),o=i(8),r=function(t){t=t||{},a.call(this,t);for(var e in t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};r.prototype={constructor:r,type:"group",children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof r&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,a=this._children,o=n.indexOf(a,t);return 0>o?this:(a.splice(o,1),t.parent=null,i&&(i.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var a=i[n];t.call(e,a,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof r&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof r&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new o(0,0,0,0),n=t||this._children,a=[],r=0;r<n.length;r++){var s=n[r];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),h=s.getLocalTransform(a);h?(i.copy(l),i.applyTransform(h),e=e||i.clone(),e.union(i)):(e=e||l.clone(),e.union(l))}}return e||i}},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";var n=i(18),a=i(5),o=i(64),r=i(8),s={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],h=[],u=[],c=[],d=Math.min,f=Math.max,p=Math.cos,g=Math.sin,m=Math.sqrt,v="undefined"!=typeof Float32Array,y=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0};y.prototype={constructor:y,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(s.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){return this.addData(s.L,t,e),this._ctx&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),this._xi=t,this._yi=e,this},bezierCurveTo:function(t,e,i,n,a,o){return this.addData(s.C,t,e,i,n,a,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,a,o):this._ctx.bezierCurveTo(t,e,i,n,a,o)),this._xi=a,this._yi=o,this},quadraticCurveTo:function(t,e,i,n){return this.addData(s.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,a,o){return this.addData(s.A,t,e,i,i,n,a-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,a,o),this._xi=p(a)*i+t,this._xi=g(a)*i+t,this},arcTo:function(t,e,i,n,a){return this._ctx&&this._ctx.arcTo(t,e,i,n,a),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(s.R,t,e,i,n),this},closePath:function(){this.addData(s.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!v||(this.data=new Float32Array(e));for(var i=0;e>i;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,a=0;e>a;a++)i+=t[a].len();v&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var a=0;e>a;a++)for(var o=t[a].data,r=0;r<o.length;r++)this.data[n++]=o[r];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,a=this._dashSum,o=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,p=m(u*u+c*c),g=l,v=h,y=r.length;for(u/=p,c/=p,0>o&&(o=a+o),o%=a,g-=o*u,v-=o*c;u>=0&&t>=g||0>u&&g>t;)n=this._dashIdx,i=r[n],g+=u*i,v+=c*i,this._dashIdx=(n+1)%y,u>0&&l>g||0>u&&g>l||s[n%2?"moveTo":"lineTo"](u>=0?d(g,t):f(g,t),c>=0?d(v,e):f(v,e));u=g-t,c=v-e,this._dashOffset=-m(u*u+c*c)},_dashedBezierTo:function(t,e,i,a,o,r){var s,l,h,u,c,d=this._dashSum,f=this._dashOffset,p=this._lineDash,g=this._ctx,v=this._xi,y=this._yi,x=n.cubicAt,_=0,w=this._dashIdx,b=p.length,M=0;for(0>f&&(f=d+f),f%=d,s=0;1>s;s+=.1)l=x(v,t,i,o,s+.1)-x(v,t,i,o,s),h=x(y,e,a,r,s+.1)-x(y,e,a,r,s),_+=m(l*l+h*h);for(;b>w&&(M+=p[w],!(M>f));w++);for(s=(M-f)/_;1>=s;)u=x(v,t,i,o,s),c=x(y,e,a,r,s),w%2?g.moveTo(u,c):g.lineTo(u,c),s+=p[w]/_,w=(w+1)%b;w%2!==0&&g.lineTo(o,r),l=o-u,h=r-c,this._dashOffset=-m(l*l+h*h)},_dashedQuadraticTo:function(t,e,i,n){var a=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,a,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,v&&(this.data=new Float32Array(t)))},getBoundingRect:function(){l[0]=l[1]=u[0]=u[1]=Number.MAX_VALUE,h[0]=h[1]=c[0]=c[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,d=0,f=0;f<t.length;){var m=t[f++];switch(1==f&&(e=t[f],i=t[f+1],n=e,d=i),m){case s.M:n=t[f++],d=t[f++],e=n,i=d,u[0]=n,u[1]=d,c[0]=n,c[1]=d;break;case s.L:o.fromLine(e,i,t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case s.C:o.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case s.Q:o.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case s.A:var v=t[f++],y=t[f++],x=t[f++],_=t[f++],w=t[f++],b=t[f++]+w,M=(t[f++],1-t[f++]);1==f&&(n=p(w)*x+v,d=g(w)*_+y),o.fromArc(v,y,x,_,w,b,M,u,c),e=p(b)*x+v,i=g(b)*_+y;break;case s.R:n=e=t[f++],d=i=t[f++];var S=t[f++],A=t[f++];o.fromLine(n,d,n+S,d+A,u,c);break;case s.Z:e=n,i=d}a.min(l,l,u),a.max(h,h,c)}return 0===f&&(l[0]=l[1]=h[0]=h[1]=0),new r(l[0],l[1],h[0]-l[0],h[1]-l[1])},rebuildPath:function(t){for(var e=this.data,i=0;i<this._len;){var n=e[i++];switch(n){case s.M:t.moveTo(e[i++],e[i++]);break;case s.L:t.lineTo(e[i++],e[i++]);break;case s.C:t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);break;case s.Q:t.quadraticCurveTo(e[i++],e[i++],e[i++],e[i++]);break;case s.A:var a=e[i++],o=e[i++],r=e[i++],l=e[i++],h=e[i++],u=e[i++],c=e[i++],d=e[i++],f=r>l?r:l,p=r>l?1:r/l,g=r>l?l/r:1,m=Math.abs(r-l)>.001;m?(t.translate(a,o),t.rotate(c),t.scale(p,g),t.arc(0,0,f,h,h+u,1-d),t.scale(1/p,1/g),t.rotate(-c),t.translate(-a,-o)):t.arc(a,o,f,h,h+u,1-d);break;case s.R:t.rect(e[i++],e[i++],e[i++],e[i++]);break;case s.Z:t.closePath()}}}},y.CMD=s,t.exports=y},function(t,e){"use strict";function i(){this._coordinateSystems=[]}var n={};i.prototype={constructor:i,create:function(t,e){var i=[];for(var a in n){var o=n[a].create(t,e);o&&(i=i.concat(o))}this._coordinateSystems=i},update:function(t,e){for(var i=this._coordinateSystems,n=0;n<i.length;n++)i[n].update&&i[n].update(t,e)}},i.register=function(t,e){n[t]=e},i.get=function(t){return n[t]},t.exports=i},function(t,e){"use strict";var i={};t.exports={register:function(t,e){i[t]=e},get:function(t){return i[t]}}},function(t,e,i){var n=i(1);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var i={},a=0;a<t.length;a++){var o=t[a][1];if(!(e&&n.indexOf(e,o)>=0)){var r=this.getShallow(o);null!=r&&(i[t[a][0]]=r)}}return i}}},function(t,e,i){function n(t,e,i,n){if(!e)return t;var s=o(e[0]),l=r.isArray(s)&&s.length||1;i=i||[],n=n||"extra";for(var h=0;l>h;h++)if(!t[h]){var u=i[h]||n+(h-i.length);t[h]=a(e,h)?{type:"ordinal",name:u}:u}return t}function a(t,e){for(var i=0,n=t.length;n>i;i++){var a=o(t[i]);if(!r.isArray(a))return!1;var a=a[e];if(null!=a&&isFinite(a))return!1;if(r.isString(a)&&"-"!==a)return!0}return!1}function o(t){return r.isArray(t)?t:r.isObject(t)?t.value:t}var r=i(1);t.exports=n},function(t,e,i){function n(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var a=i(20),o=n.prototype;o.parse=function(t){return t},o.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},o.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},o.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},o.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},o.getExtent=function(){return this._extent.slice()},o.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},o.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},a.enableClassExtend(n),a.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){"use strict";function n(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function a(t,e){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,a=i&&i.indexOf("touch")>=0;if(a){var o="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(o){var r=n(t);e.zrX=o.clientX-r.left,e.zrY=o.clientY-r.top}}else{var s=n(t);e.zrX=e.clientX-s.left,e.zrY=e.clientY-s.top,e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e}function o(t,e,i){l?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function r(t,e,i){l?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}var s=i(21),l="undefined"!=typeof window&&!!window.addEventListener,h=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={normalizeEvent:a,addEventListener:o,removeEventListener:r,stop:h,Dispatcher:s}},function(t,e,i){"use strict";var n=i(3),a=i(1);i(51),i(96),i(2).extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:a.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0}))}})},function(t,e,i){function n(t){t=t||{},r.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new o(t.style),this._rect=null,this.__clipPaths=[]}var a=i(1),o=i(142),r=i(55),s=i(66);n.prototype={constructor:n,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this}},a.inherits(n,r),a.mixin(n,s),t.exports=n},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function a(t){var e=n(t);return null!=e&&!c.isArray(p(e))}function o(t,e,i){t=t||[];var n=e.get("coordinateSystem"),o=m[n],r=f.get(n),s=o&&o(t,e,i),c=s&&s.dimensions;c||(c=r&&r.dimensions||["x","y"],c=u(c,t,c.concat(["value"])));var d=s&&s.categoryAxisModel,v="ordinal"===c[0].type?0:"ordinal"===c[1].type?1:-1,y=new h(c,e),x=l(s,t),_=d&&a(t)?function(t,e,i,n){return n===v?i:g(p(t),c[n])}:function(t,e,i,n){var a=p(t);return g(a&&a[n],c[n])};return y.initData(t,x,_),y}function r(t){return"category"!==t&&"time"!==t}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function l(t,e){var i=[];if(t&&t.categoryAxisModel){var n=t.categoryAxisModel.getCategories();if(n){var a=e.length;if(c.isArray(e[0])&&e[0].length>1){i=[];for(var o=0;a>o;o++)i[o]=n[e[o][t.categoryIndex||0]]}else i=n.slice(0)}}return i}var h=i(14),u=i(31),c=i(1),d=i(7),f=i(28),p=d.getDataItemValue,g=d.converDataValue,m={cartesian2d:function(t,e,i){var n=i.getComponent("xAxis",e.get("xAxisIndex")),a=i.getComponent("yAxis",e.get("yAxisIndex")),o=n.get("type"),l=a.get("type"),h=[{name:"x",type:s(o),stackable:r(o)},{name:"y",type:s(l),stackable:r(l)}],c="category"===o;return u(h,t,["x","y","z"]),{dimensions:h,categoryIndex:c?0:1,categoryAxisModel:c?n:"category"===l?a:null}},polar:function(t,e,i){var n=e.get("polarIndex")||0,a=function(t){return t.get("polarIndex")===n},o=i.findComponents({mainType:"angleAxis",filter:a})[0],l=i.findComponents({mainType:"radiusAxis",filter:a})[0],h=l.get("type"),c=o.get("type"),d=[{name:"radius",type:s(h),stackable:r(h)},{name:"angle",type:s(c),stackable:r(c)}],f="category"===c;return u(d,t,["radius","angle","value"]),{dimensions:d,categoryIndex:f?1:0,categoryAxisModel:f?o:"category"===h?l:null}},geo:function(t,e,i){return{dimensions:u([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=o},function(t,e,i){var n=i(4),a=i(9),o=i(32),r=Math.floor,s=Math.ceil,l=o.extend({type:"interval",_interval:0,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,i=[],a=1e4;if(t){var o=this._niceExtent;e[0]<o[0]&&i.push(e[0]);for(var r=o[0];r<=o[1];)if(i.push(r),r=n.round(r+t),i.length>a)return[];e[1]>o[1]&&i.push(e[1])}return i},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t){return a.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){0>i&&(i=-i,e.reverse());var a=n.nice(i/t,!0),o=[n.round(s(e[0]/a)*a),n.round(r(e[1]/a)*a)];this._interval=a,this._niceExtent=o}},niceExtent:function(t,e,i){var a=this._extent;if(a[0]===a[1])if(0!==a[0]){var o=a[0]/2;a[0]-=o,a[1]+=o}else a[1]=1;var l=a[1]-a[0];isFinite(l)||(a[0]=0,a[1]=1),this.niceTicks(t);var h=this._interval;e||(a[0]=n.round(r(a[0]/h)*h)),i||(a[1]=n.round(s(a[1]/h)*h))}});l.create=function(){return new l},t.exports=l},function(t,e,i){function n(t){this.group=new o.Group,this._symbolCtor=t||r}function a(t,e,i){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i&&i(e))&&"none"!==t.getItemVisual(e,"symbol")}var o=i(3),r=i(47),s=n.prototype;s.updateData=function(t,e){var i=this.group,n=t.hostModel,r=this._data,s=this._symbolCtor;t.diff(r).add(function(n){var o=t.getItemLayout(n);if(a(t,n,e)){var r=new s(t,n);r.attr("position",o),t.setItemGraphicEl(n,r),i.add(r)}}).update(function(l,h){var u=r.getItemGraphicEl(h),c=t.getItemLayout(l);return a(t,l,e)?(u?(u.updateData(t,l),o.updateProps(u,{position:c},n)):(u=new s(t,l),u.attr("position",c)),i.add(u),void t.setItemGraphicEl(l,u)):void i.remove(u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){e.attr("position",t.getItemLayout(i))})},s.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=n},function(t,e,i){function n(t){var e={};return u(["start","end","startValue","endValue"],function(i){e[i]=t[i]}),e}function a(t,e,i,n){null!=i[e]&&null==i[t]&&(n[t]=null)}var o=i(1),r=i(15),s=i(2),l=i(7),h=i(167),u=o.each,c=l.eachAxisDim,d=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel;var a=n(t);this.mergeDefaultAndTheme(t,i),this.doInit(a)},mergeOption:function(t){var e=n(t);o.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;r.canvasSupported||(e.realtime=!1),a("start","startValue",t,e),a("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,a){var o=this.dependentModels[e.axis][i],r=o.__dzAxisProxy||(o.__dzAxisProxy=new h(e.name,i,this,a));t[e.name+"_"+i]=r},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();c(function(e){var i=e.axisIndex;t[i]=l.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;c(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option;if(t){var n="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[n.axis].length&&(i[n.axisIndex]=[0],t=!1)}t&&c(function(e){if(t){var n=[],a=this.dependentModels[e.axis];if(a.length&&!n.length)for(var o=0,r=a.length;r>o;o++)"category"===a[o].get("type")&&n.push(o);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&c(function(e){var n=i[e.axisIndex],a=t.get(e.axisIndex);o.indexOf(n,a)<0&&n.push(a)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return c(function(n){var a=t.get(n.axisIndex),o=this.dependentModels[n.axis][a];o&&o.get("type")===e||(i=!1)},this),i},getFirstTargetAxisModel:function(){var t;return c(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;c(function(n){u(this.get(n.axisIndex),function(a){t.call(e,n,a,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){u(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});t.exports=d},function(t,e,i){var n=i(54);t.exports=n.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetInfo:function(){function t(t,e,i,n){for(var a,o=0;o<i.length;o++)if(i[o].model===t){a=i[o];break}a||i.push(a={model:t,axisModels:[],coordIndex:n}),a.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n=[],a=[],o=[];return e.eachTargetAxis(function(e,r){var s=i.getComponent(e.axis,r);if(s){o.push(s);var l=s.get("gridIndex"),h=s.get("polarIndex");if(null!=l){var u=i.getComponent("grid",l);t(u,s,n,l)}else if(null!=h){var u=i.getComponent("polar",h);t(u,s,a,h)}}},this),{cartesians:n,polars:a,axisModels:o}}})},function(t,e,i){var n=i(1),a=i(20),o=a.parseClassType,r=0,s={},l="_";s.getUID=function(t){return[t||"",r++,Math.random()].join(l)},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=o(t),e[t.main]=i},t.determineSubType=function(i,n){var a=n.type;if(!a){var r=o(i).main;t.hasSubTypes(i)&&e[r]&&(a=e[r](n))}return a},t},s.enableTopologicalTravel=function(t,e){function i(t){var i={},r=[];return n.each(t,function(s){var l=a(i,s),h=l.originalDeps=e(s),u=o(h,t);l.entryCount=u.length,0===l.entryCount&&r.push(s),n.each(u,function(t){n.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var e=a(i,t);n.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:i,noEntryList:r}}function a(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var i=[];return n.each(t,function(t){n.indexOf(e,t)>=0&&i.push(t)}),i}t.topologicalTravel=function(t,e,a,o){function r(t){h[t].entryCount--,0===h[t].entryCount&&u.push(t)}function s(t){c[t]=!0,r(t)}if(t.length){var l=i(e),h=l.graph,u=l.noEntryList,c={};for(n.each(t,function(t){c[t]=!0});u.length;){var d=u.pop(),f=h[d],p=!!c[d];p&&(a.call(o,d,f.originalDeps.slice()),delete c[d]),n.each(f.successor,p?s:r)}n.each(c,function(){throw new Error("Circle dependency may exists")})}}},t.exports=s},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:i};t.exports=n},function(t,e,i){function n(t,e){var i=t[1]-t[0],n=e,a=i/n/2;t[0]+=a,t[1]-=a}var a=i(4),o=a.linearMap,r=i(1),s=[0,1],l=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&n>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return a.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&"ordinal"===a.type&&(i=i.slice(),n(i,a.count())),o(t,s,i,e)},coordToData:function(t,e){var i=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&(i=i.slice(),n(i,a.count()));var r=o(t,i,s,e);return this.scale.scale(r)},getTicksCoords:function(){if(this.onBand){for(var t=this.getBands(),e=[],i=0;i<t.length;i++)e.push(t[i][0]);return t[i-1]&&e.push(t[i-1][1]),e}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){if(this.onBand){for(var t,e=this.getBands(),i=[],n=0;n<e.length;n++)t=e[n],i.push((t[0]+t[1])/2);return i}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],a=t[1],o=a-n,r=0;i>r;r++)e.push([o*r/i+n,o*(r+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i}},t.exports=l},function(t,e){t.exports=function(t,e,i,n,a){n.eachRawSeriesByType(t,function(t){var a=t.getData(),o=t.get("symbol")||e,r=t.get("symbolSize");a.setVisual({legendSymbol:i||o,symbol:o,symbolSize:r}),n.isSeriesFiltered(t)||("function"==typeof r&&a.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);a.setItemVisual(e,"symbolSize",r(i,n))}),a.each(function(t){var e=a.getItemModel(t),i=e.get("symbol",!0),n=e.get("symbolSize",!0);null!=i&&a.setItemVisual(t,"symbol",i),null!=n&&a.setItemVisual(t,"symbolSize",n)}))})}},function(t,e,i){var n=i(42);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(n.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t,e,i){function n(t){a.call(this,t)}var a=i(35),o=i(8),r=i(1),s=i(60),l=i(140),h=new l(50);n.prototype={constructor:n,type:"image",brush:function(t){var e,i=this.style,n=i.image;if(e="string"==typeof n?this._image:n,!e&&n){var a=h.get(n);if(!a)return e=new Image,e.onload=function(){e.onload=null;for(var t=0;t<a.pending.length;t++)a.pending[t].dirty()},a={image:e,pending:[this]},e.src=n,h.put(n,a),void(this._image=e);if(e=a.image,this._image=e,!e.width||!e.height)return void a.pending.push(this)}if(e){var o=i.width||e.width,r=i.height||e.height,l=i.x||0,u=i.y||0;if(!e.width||!e.height)return;if(t.save(),i.bind(t),this.setTransform(t),i.r&&(t.beginPath(),s.buildPath(t,i),t.clip()),i.sWidth&&i.sHeight){var c=i.sx||0,d=i.sy||0;t.drawImage(e,c,d,i.sWidth,i.sHeight,l,u,o,r)}else if(i.sx&&i.sy){var c=i.sx,d=i.sy,f=o-c,p=r-d;t.drawImage(e,c,d,f,p,l,u,o,r)}else t.drawImage(e,l,u,o,r);null==i.width&&(i.width=o),null==i.height&&(i.height=r),null!=i.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new o(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},r.inherits(n,a),t.exports=n},function(t,e,i){function n(t){return r.isArray(t)||(t=[+t,+t]),t}function a(t,e){l.Group.call(this),this.updateData(t,e)}function o(t,e){this.parent.drift(t,e)}var r=i(1),s=i(24),l=i(3),h=i(4),u=a.prototype;u._createSymbol=function(t,e,i){this.removeAll();var a=e.hostModel,r=e.getItemVisual(i,"color"),h=s.createSymbol(t,-.5,-.5,1,1,r);h.attr({style:{strokeNoScale:!0},z2:100,culling:!0,scale:[0,0]}),h.drift=o;var u=n(e.getItemVisual(i,"symbolSize"));l.initProps(h,{scale:u},a),this._symbolType=t,this.add(h)},u.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},u.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},u.updateData=function(t,e){var i=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,o=n(t.getItemVisual(e,"symbolSize"));if(i!==this._symbolType)this._createSymbol(i,t,e);else{var r=this.childAt(0);l.updateProps(r,{scale:o},a)}this._updateCommon(t,e,o),this._seriesModel=a};var c=["itemStyle","normal"],d=["itemStyle","emphasis"],f=["label","normal"],p=["label","emphasis"];u._updateCommon=function(t,e,i){var a=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),u=s.getModel(c),g=t.getItemVisual(e,"color"),m=s.getModel(d).getItemStyle();a.rotation=s.getShallow("symbolRotate")*Math.PI/180||0;var v=s.getShallow("symbolOffset");if(v){var y=a.position;y[0]=h.parsePercent(v[0],i[0]),y[1]=h.parsePercent(v[1],i[1])}a.setColor(g),r.extend(a.style,u.getItemStyle(["color"]));for(var x,_=s.getModel(f),w=s.getModel(p),b=a.style,M=t.dimensions.slice(),S=M.pop();"ordinal"===(x=t.getDimensionInfo(S).type)||"time"===x;)S=M.pop();_.get("show")?(l.setText(b,_,g),b.text=r.retrieve(o.getFormattedLabel(e,"normal"),t.get(S,e))):b.text="",w.getShallow("show")?(l.setText(m,w,g),m.text=r.retrieve(o.getFormattedLabel(e,"emphasis"),t.get(S,e))):m.text="";var A=n(t.getItemVisual(e,"symbolSize"));if(a.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.setHoverStyle(a,m),s.getShallow("hoverAnimation")){var I=function(){var t=A[1]/A[0];this.animateTo({scale:[Math.max(1.1*A[0],A[0]+3),Math.max(1.1*A[1],A[1]+3*t)]},400,"elasticOut")},T=function(){this.animateTo({scale:A},400,"elasticOut")};a.on("mouseover",I).on("mouseout",T).on("emphasis",I).on("normal",T)}},u.fadeOut=function(t){var e=this.childAt(0);e.style.text="",l.updateProps(e,{scale:[0,0]},this._seriesModel,t)},r.inherits(a,l.Group),t.exports=a},function(t,e,i){function n(t,e,i){var n,a,o=h(e-t.rotation);return u(o)?(a=i>0?"top":"bottom",n="center"):u(o-c)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=o>0&&c>o?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:n,verticalAlign:a}}function a(t,e,i){var n,a,o=h(-t.rotation),r=i[0]>i[1],s="start"===e&&!r||"start"!==e&&r;return u(o-c/2)?(a=s?"bottom":"top",n="center"):u(o-1.5*c)?(a=s?"top":"bottom",n="center"):(a="middle",n=1.5*c>o&&o>c/2?s?"left":"right":s?"right":"left"),{rotation:o,textAlign:n,verticalAlign:a}}var o=i(1),r=i(3),s=i(12),l=i(4),h=l.remRadian,u=l.isRadianAroundZero,c=Math.PI,d=function(t,e){this.opt=e,this.axisModel=t,o.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new r.Group({position:e.position.slice(),rotation:e.rotation})};d.prototype={constructor:d,hasBuilder:function(t){return!!f[t]},add:function(t){f[t].call(this)},getGroup:function(){return this.group}};var f={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent();this.group.add(new r.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:o.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold,silent:!!t.silent,z2:1}))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show")){for(var e=t.axis,i=t.getModel("axisTick"),n=this.opt,a=i.getModel("lineStyle"),o=i.get("length"),s=g(i,n.labelInterval),l=e.getTicksCoords(),h=[],u=0;u<l.length;u++)if(!p(e,u,s)){var c=l[u];h.push(new r.Line(r.subPixelOptimizeLine({shape:{x1:c,y1:0,x2:c,y2:n.tickDirection*o},style:{lineWidth:a.get("width")},silent:!0})))}this.group.add(r.mergePath(h,{style:a.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function t(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();return i&&n?(i.applyTransform(t.getLocalTransform()),n.applyTransform(e.getLocalTransform()),i.intersect(n)):void 0}var e=this.axisModel;if(e.get("axisLabel.show")){var i=this.opt,a=e.axis,o=e.getModel("axisLabel"),l=o.getModel("textStyle"),h=o.get("margin"),u=a.scale.getTicks(),d=e.getFormattedLabels(),f=i.labelRotation;null==f&&(f=o.get("rotate")||0),f=f*c/180;for(var g=n(i,f,i.labelDirection),m=e.get("data"),v=[],y=0;y<u.length;y++)if(!p(a,y,i.labelInterval)){var x=l;m&&m[y]&&m[y].textStyle&&(x=new s(m[y].textStyle,l,e.ecModel));var _=a.dataToCoord(u[y]),w=[_,i.labelOffset+i.labelDirection*h],b=new r.Text({style:{text:d[y],textAlign:x.get("align",!0)||g.textAlign,textVerticalAlign:x.get("baseline",!0)||g.verticalAlign,textFont:x.getFont(),fill:x.getTextColor()},position:w,rotation:g.rotation,silent:!0,z2:10});v.push(b),this.group.add(b)}if("category"!==a.type){if(e.getMin?e.getMin():e.get("min")){var M=v[0],S=v[1];t(M,S)&&(M.ignore=!0)}if(e.getMax?e.getMax():e.get("max")){var A=v[v.length-1],I=v[v.length-2];t(I,A)&&(A.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,i=this.opt.axisName;if(null==i&&(i=e.get("name")),i){var o,s=e.get("nameLocation"),l=t.nameDirection,h=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,f=["start"===s?c[0]-d*u:"end"===s?c[1]+d*u:(c[0]+c[1])/2,"middle"===s?t.labelOffset+l*u:0];o="middle"===s?n(t,t.rotation,l):a(t,s,c),this.group.add(new r.Text({style:{text:i,textFont:h.getFont(),fill:h.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:o.textAlign,textVerticalAlign:o.verticalAlign},position:f,rotation:o.rotation,silent:!0,z2:1}))}}},p=d.ifIgnoreOnTick=function(t,e,i){var n,a=t.scale;return"ordinal"===a.type&&("function"==typeof i?(n=a.getTicks()[e],!i(n,a.getLabel(n))):e%(i+1))},g=d.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i};t.exports=d},function(t,e,i){function n(t){return r.isObject(t)&&null!=t.value?t.value:t}function a(){return"category"===this.get("type")&&r.map(this.get("data"),n)}function o(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=i(1),s=i(23);t.exports={getFormattedLabels:o,getCategories:a}},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var a=i(10),o=i(1),r=i(61),s=a.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},getMin:function(){var t=this.option;return null!=t.rangeStart?t.rangeStart:t.min},getMax:function(){var t=this.option;return null!=t.rangeEnd?t.rangeEnd:t.max},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});o.merge(s.prototype,i(49));var l={gridIndex:0};r("x",s,n,l),r("y",s,n,l),t.exports=s},function(t,e,i){function n(t,e,i){return i.getComponent("grid",t.get("gridIndex"))===e}function a(t){var e,i=t.model,n=i.getFormattedLabels(),a=1,o=n.length;o>40&&(a=Math.ceil(o/40));for(var r=0;o>r;r+=a)if(!t.isLabelIgnored(r)){var s=i.getTextRect(n[r]);e?e.union(s):e=s}return e}function o(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this._model=t}function r(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var s=i(11),l=i(23),h=i(1),u=i(107),c=i(105),d=h.each,f=l.ifAxisCrossZero,p=l.niceScaleExtent;i(108);var g=o.prototype;g.type="grid",g.getRect=function(){return this._rect},g.update=function(t,e){function i(t){var e=n[t];for(var i in e){var a=e[i];if(a&&("category"===a.type||!f(a)))return!0}return!1}var n=this._axesMap;this._updateScale(t,this._model),d(n.x,function(t){p(t,t.model)}),d(n.y,function(t){p(t,t.model)}),d(n.x,function(t){i("y")&&(t.onZero=!1)}),d(n.y,function(t){i("x")&&(t.onZero=!1)}),this.resize(this._model,e)},g.resize=function(t,e){function i(){d(o,function(t){var e=t.isHorizontal(),i=e?[0,n.width]:[0,n.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),r(t,e?n.x:n.y)})}var n=s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var o=this._axesList;i(),t.get("containLabel")&&(d(o,function(t){if(!t.model.get("axisLabel.inside")){var e=a(t);if(e){var i=t.isHorizontal()?"height":"width",o=t.model.get("axisLabel.margin");n[i]-=e[i]+o,"top"===t.position?n.y+=e.height+o:"left"===t.position&&(n.x+=e.width+o)}}}),i())},g.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)return i[n];return i[e]}},g.getCartesian=function(t,e){var i="x"+t+"y"+e;return this._coordsMap[i]},g._initCartesian=function(t,e,i){function a(i){return function(a,h){if(n(a,t,e)){var u=a.get("position");"x"===i?("top"!==u&&"bottom"!==u&&(u="bottom"),o[u]&&(u="top"===u?"bottom":"top")):("left"!==u&&"right"!==u&&(u="left"),o[u]&&(u="left"===u?"right":"left")),o[u]=!0;var d=new c(i,l.createScaleByModel(a),[0,0],a.get("type"),u),f="category"===d.type;d.onBand=f&&a.get("boundaryGap"),d.inverse=a.get("inverse"),d.onZero=a.get("axisLine.onZero"),a.axis=d,d.model=a,d.index=h,this._axesList.push(d),r[i][h]=d,s[i]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",a("x"),this),e.eachComponent("yAxis",a("y"),this),s.x&&s.y?(this._axesMap=r,void d(r.x,function(t,e){d(r.y,function(i,n){var a="x"+e+"y"+n,o=new u(a);o.grid=this,this._coordsMap[a]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(i)},this)},this)):(this._axesMap={},void(this._axesList=[]))},g._updateScale=function(t,e){function i(t,e,i){d(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtent(t.getDataExtent(i,"ordinal"!==e.scale.type))})}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeries(function(a){if("cartesian2d"===a.get("coordinateSystem")){var o=a.get("xAxisIndex"),r=a.get("yAxisIndex"),s=t.getComponent("xAxis",o),l=t.getComponent("yAxis",r);if(!n(s,e,t)||!n(l,e,t))return;var h=this.getCartesian(o,r),u=a.getData(),c=h.getAxis("x"),d=h.getAxis("y");"list"===u.type&&(i(u,c,a),i(u,d,a))}},this)},o.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,a){var r=new o(n,t,e);r.name="grid_"+a,r.resize(n,e),n.coordinateSystem=r,i.push(r)}),t.eachSeries(function(e){if("cartesian2d"===e.get("coordinateSystem")){var n=e.get("xAxisIndex"),a=t.getComponent("xAxis",n),o=i[a.get("gridIndex")];e.coordinateSystem=o.getCartesian(n,e.get("yAxisIndex"))}}),i},o.dimensions=u.prototype.dimensions,i(28).register("cartesian2d",o),t.exports=o},function(t,e){"use strict";function i(t){return t}function n(t,e,n,a){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=a||i}function a(t,e,i){for(var n=0;n<t.length;n++){var a=i(t[n]),o=e[a];null==o?e[a]=n:(o.length||(e[a]=o=[o]),o.push(n))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,i=this._new,n=this._oldKeyGetter,o=this._newKeyGetter,r={},s={};for(a(e,r,n),a(i,s,o),t=0;t<e.length;t++){var l=n(e[t]),h=s[l];if(null!=h){var u=h.length;u?(1===u&&(s[l]=null),h=h.unshift()):s[l]=null,this._update&&this._update(h,t)}else this._remove&&this._remove(t)}for(var l in s)if(s.hasOwnProperty(l)){var h=s[l];if(null==h)continue;if(h.length)for(var t=0,u=h.length;u>t;t++)this._add&&this._add(h[t]);else this._add&&this._add(h)}}},t.exports=n},function(t,e){t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.dimensions;e.each(n,function(t,n,a){var o;o=isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]),e.setItemLayout(a,o)},!0)})}},function(t,e,i){var n=i(26),a=i(41),o=i(20),r=function(){this.group=new n,this.uid=a.getUID("viewComponent")};r.prototype={constructor:r,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var s=r.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){},o.enableClassExtend(r),o.enableClassManagement(r,{registerWhenExtend:!0}),t.exports=r},function(t,e,i){"use strict";var n=i(58),a=i(21),o=i(77),r=i(154),s=i(1),l=function(t){o.call(this,t),a.call(this,t),r.call(this,t),this.id=t.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty()},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,r),s.mixin(l,o),s.mixin(l,a),t.exports=l},function(t,e,i){function n(t,e){return t[e]}function a(t,e,i){t[e]=i}function o(t,e,i){return(e-t)*i+t}function r(t,e,i){return i>.5?e:t}function s(t,e,i,n,a){var r=t.length;if(1==a)for(var s=0;r>s;s++)n[s]=o(t[s],e[s],i);else for(var l=t[0].length,s=0;r>s;s++)for(var h=0;l>h;h++)n[s][h]=o(t[s][h],e[s][h],i)}function l(t,e,i){var n=t.length,a=e.length;if(n!==a){var o=n>a;if(o)t.length=a;else for(var r=n;a>r;r++)t.push(1===i?e[r]:x.call(e[r]))}}function h(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var a=0;n>a;a++)if(t[a]!==e[a])return!1}else for(var o=t[0].length,a=0;n>a;a++)for(var r=0;o>r;r++)if(t[a][r]!==e[a][r])return!1;return!0}function u(t,e,i,n,a,o,r,s,l){var h=t.length;if(1==l)for(var u=0;h>u;u++)s[u]=c(t[u],e[u],i[u],n[u],a,o,r);else for(var d=t[0].length,u=0;h>u;u++)for(var f=0;d>f;f++)s[u][f]=c(t[u][f],e[u][f],i[u][f],n[u][f],a,o,r)}function c(t,e,i,n,a,o,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*o+s*a+e}function d(t){if(y(t)){var e=t.length;if(y(t[0])){for(var i=[],n=0;e>n;n++)i.push(x.call(t[n]));return i}return x.call(t)}return t}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function p(t,e,i,n,a){var d=t._getter,p=t._setter,v="spline"===e,x=n.length;if(x){var _,w=n[0].value,b=y(w),M=!1,S=!1,A=b&&y(w[0])?2:1;n.sort(function(t,e){return t.time-e.time}),_=n[x-1].time;for(var I=[],T=[],C=n[0].value,L=!0,D=0;x>D;D++){I.push(n[D].time/_);var P=n[D].value;if(b&&h(P,C,A)||!b&&P===C||(L=!1),C=P,"string"==typeof P){var k=m.parse(P);k?(P=k,M=!0):S=!0}T.push(P)}if(!L){if(b){for(var z=T[x-1],D=0;x-1>D;D++)l(T[D],z,A);l(d(t._target,a),z,A)}var R,E,O,V,N,B,G=0,F=0;if(M)var H=[0,0,0,0];var W=function(t,e){var i;if(F>e){for(R=Math.min(G+1,x-1),i=R;i>=0&&!(I[i]<=e);i--);i=Math.min(i,x-2)}else{for(i=G;x>i&&!(I[i]>e);i++);i=Math.min(i-1,x-2)}G=i,F=e;var n=I[i+1]-I[i];if(0!==n)if(E=(e-I[i])/n,v)if(V=T[i],O=T[0===i?i:i-1],N=T[i>x-2?x-1:i+1],B=T[i>x-3?x-1:i+2],b)u(O,V,N,B,E,E*E,E*E*E,d(t,a),A);else{var l;if(M)l=u(O,V,N,B,E,E*E,E*E*E,H,1),l=f(H);else{if(S)return r(V,N,E);l=c(O,V,N,B,E,E*E,E*E*E)}p(t,a,l)}else if(b)s(T[i],T[i+1],E,d(t,a),A);else{var l;if(M)s(T[i],T[i+1],E,H,1),l=f(H);else{if(S)return r(T[i],T[i+1],E);l=o(T[i],T[i+1],E)}p(t,a,l)}},Z=new g({target:t._target,life:_,loop:t._loop,delay:t._delay,onframe:W,ondestroy:i});return e&&"spline"!==e&&(Z.easing=e),Z}}}var g=i(132),m=i(22),v=i(1),y=v.isArrayLike,x=Array.prototype.slice,_=function(t,e,i,o){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||n,this._setter=o||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var i=this._tracks;for(var n in e){if(!i[n]){i[n]=[];var a=this._getter(this._target,n);if(null==a)continue;0!==t&&i[n].push({time:0,value:d(a)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;e>i;i++)t[i].call(this)},start:function(t){var e,i=this,n=0,a=function(){n--,n||i._doneCallback()};for(var o in this._tracks){var r=p(this,t,a,this._tracks[o],o);r&&(this._clipList.push(r),n++,this.animation&&this.animation.addClip(r),e=r)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var a=e[n];t&&a.onframe(this._target,1),i&&i.removeClip(a)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=_},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=i,0>t&&(t+=i),t}}},function(t,e){var i=2311;t.exports=function(){return"zr_"+i++}},function(t,e,i){var n=i(144),a=i(143);t.exports={buildPath:function(t,e,i){var o=e.points,r=e.smooth;if(o&&o.length>=2){if(r&&"spline"!==r){var s=a(o,r,i,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var l=o.length,h=0;(i?l:l-1)>h;h++){var u=s[2*h],c=s[2*h+1],d=o[(h+1)%l];t.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===r&&(o=n(o,i)),t.moveTo(o[0][0],o[0][1]);for(var h=1,f=o.length;f>h;h++)t.lineTo(o[h][0],o[h][1])}i&&t.closePath()}}}},function(t,e){t.exports={buildPath:function(t,e){var i,n,a,o,r=e.x,s=e.y,l=e.width,h=e.height,u=e.r;0>l&&(r+=l,l=-l),0>h&&(s+=h,h=-h),"number"==typeof u?i=n=a=o=u:u instanceof Array?1===u.length?i=n=a=o=u[0]:2===u.length?(i=a=u[0],n=o=u[1]):3===u.length?(i=u[0],n=o=u[1],a=u[2]):(i=u[0],n=u[1],a=u[2],o=u[3]):i=n=a=o=0;var c;i+n>l&&(c=i+n,i*=l/c,n*=l/c),a+o>l&&(c=a+o,a*=l/c,o*=l/c),n+a>h&&(c=n+a,n*=h/c,a*=h/c),i+o>h&&(c=i+o,i*=h/c,o*=h/c),t.moveTo(r+i,s),t.lineTo(r+l-n,s),0!==n&&t.quadraticCurveTo(r+l,s,r+l,s+n),t.lineTo(r+l,s+h-a),0!==a&&t.quadraticCurveTo(r+l,s+h,r+l-a,s+h),t.lineTo(r+o,s+h),0!==o&&t.quadraticCurveTo(r,s+h,r,s+h-o),t.lineTo(r,s+i),0!==i&&t.quadraticCurveTo(r,s,r+i,s)}}},function(t,e,i){var n=i(72),a=i(1),o=i(10),r=i(11),s=["value","category","time","log"];t.exports=function(t,e,i,l){a.each(s,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,n){var s=this.layoutMode,l=s?r.getLayoutParams(e):{},h=n.getTheme();a.merge(e,h.get(o+"Axis")),a.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&r.mergeLayoutParam(e,l,s)},defaultOption:a.mergeAll([{},n[o+"Axis"],l],!0)})}),o.registerSubTypeDefaulter(t+"Axis",a.curry(i,t))}},function(t,e){t.exports=function(t,e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),a=0;a<i.length;a++)if(!i[a].isSelected(n))return!1;return!0},this)},this)}},function(t,e){t.exports=function(t,e){var i=e.get("color"),n=0;e.eachRawSeriesByType(t,function(t){var a=t.get("color",!0),o=t.getRawData();if(!e.isSeriesFiltered(t)){var r=t.getData();r.each(function(t){var e=r.getItemModel(t),s=r.getRawIndex(t),l=r.getItemVisual(t,"color",!0);if(l)o.setItemVisual(s,"color",l);else{var h=a?a[s%a.length]:i[(s+n)%i.length],u=e.get("itemStyle.normal.color")||h;o.setItemVisual(s,"color",u),r.setItemVisual(t,"color",u)}})}n+=o.count()})}},function(t,e,i){var n=i(5),a=i(18),o={},r=Math.min,s=Math.max,l=Math.sin,h=Math.cos,u=n.create(),c=n.create(),d=n.create(),f=2*Math.PI;o.fromPoints=function(t,e,i){if(0!==t.length){var n,a=t[0],o=a[0],l=a[0],h=a[1],u=a[1];for(n=1;n<t.length;n++)a=t[n],o=r(o,a[0]),l=s(l,a[0]),h=r(h,a[1]),u=s(u,a[1]);e[0]=o,e[1]=h,i[0]=l,i[1]=u}},o.fromLine=function(t,e,i,n,a,o){a[0]=r(t,i),a[1]=r(e,n),o[0]=s(t,i),o[1]=s(e,n)};var p=[],g=[];o.fromCubic=function(t,e,i,n,o,l,h,u,c,d){var f,m=a.cubicExtrema,v=a.cubicAt,y=m(t,i,o,h,p);for(c[0]=1/0,c[1]=1/0,d[0]=-(1/0),d[1]=-(1/0),f=0;y>f;f++){var x=v(t,i,o,h,p[f]);c[0]=r(x,c[0]),d[0]=s(x,d[0])}for(y=m(e,n,l,u,g),f=0;y>f;f++){var _=v(e,n,l,u,g[f]);c[1]=r(_,c[1]),d[1]=s(_,d[1])}c[0]=r(t,c[0]),d[0]=s(t,d[0]),c[0]=r(h,c[0]),d[0]=s(h,d[0]),c[1]=r(e,c[1]),d[1]=s(e,d[1]),c[1]=r(u,c[1]),d[1]=s(u,d[1])},o.fromQuadratic=function(t,e,i,n,o,l,h,u){var c=a.quadraticExtremum,d=a.quadraticAt,f=s(r(c(t,i,o),1),0),p=s(r(c(e,n,l),1),0),g=d(t,i,o,f),m=d(e,n,l,p);h[0]=r(t,o,g),h[1]=r(e,l,m),u[0]=s(t,o,g),u[1]=s(e,l,m)},o.fromArc=function(t,e,i,a,o,r,s,p,g){var m=n.min,v=n.max,y=Math.abs(o-r);if(1e-4>y%f&&y>1e-4)return p[0]=t-i,p[1]=e-a,g[0]=t+i,void(g[1]=e+a);if(u[0]=h(o)*i+t,u[1]=l(o)*a+e,c[0]=h(r)*i+t,c[1]=l(r)*a+e,m(p,u,c),v(g,u,c),o%=f,0>o&&(o+=f),r%=f,0>r&&(r+=f),o>r&&!s?r+=f:r>o&&s&&(o+=f),s){var x=r;r=o,o=x}for(var _=0;r>_;_+=Math.PI/2)_>o&&(d[0]=h(_)*i+t,d[1]=l(_)*a+e,m(p,d,p),v(g,d,g))},t.exports=o},function(t,e,i){var n=i(35),a=i(1),o=i(17),r=function(t){n.call(this,t)};r.prototype={constructor:r,type:"text",brush:function(t){var e=this.style,i=e.x||0,n=e.y||0,a=e.text,r=e.fill,s=e.stroke;if(null!=a&&(a+=""),a){if(t.save(),this.style.bind(t),this.setTransform(t),r&&(t.fillStyle=r),s&&(t.strokeStyle=s),t.font=e.textFont||e.font,t.textAlign=e.textAlign,e.textVerticalAlign){var l=o.getBoundingRect(a,t.font,e.textAlign,"top");switch(t.textBaseline="top",e.textVerticalAlign){case"middle":n-=l.height/2;break;case"bottom":n-=l.height}}else t.textBaseline=e.textBaseline;for(var h=o.measureText("",t.font).width,u=a.split("\n"),c=0;c<u.length;c++)r&&t.fillText(u[c],i,n),s&&t.strokeText(u[c],i,n),n+=h;t.restore()}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,i=o.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":i.y-=i.height/2;break;case"bottom":i.y-=i.height}i.x+=t.x||0,i.y+=t.y||0,this._rect=i}return this._rect}},a.inherits(r,n),t.exports=r},function(t,e,i){function n(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function a(t,e){t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}var o=i(17),r=i(8),s=new r,l=function(){};l.prototype={constructor:l,drawRectText:function(t,e,i){var r=this.style,l=r.text;if(null!=l&&(l+=""),l){var h,u,c=r.textPosition,d=r.textDistance,f=r.textAlign,p=r.textFont||r.font,g=r.textBaseline,m=r.textVerticalAlign;i=i||o.getBoundingRect(l,p,f,g);var v=this.transform,y=this.invTransform;if(v&&(s.copy(e),s.applyTransform(v),e=s,a(t,y)),c instanceof Array)h=e.x+n(c[0],e.width),u=e.y+n(c[1],e.height),f=f||"left",g=g||"top";else{var x=o.adjustTextPositionOnRect(c,e,i,d);h=x.x,u=x.y,f=f||x.textAlign,g=g||x.textBaseline}if(t.textAlign=f,m){switch(m){case"middle":u-=i.height/2;break;case"bottom":u-=i.height}t.textBaseline="top"}else t.textBaseline=g;var _=r.textFill,w=r.textStroke;_&&(t.fillStyle=_),w&&(t.strokeStyle=w),t.font=p,t.shadowColor=r.textShadowColor,t.shadowBlur=r.textShadowBlur,t.shadowOffsetX=r.textShadowOffsetX,t.shadowOffsetY=r.textShadowOffsetY;for(var b=l.split("\n"),M=0;M<b.length;M++)_&&t.fillText(b[M],h,u),w&&t.strokeText(b[M],h,u),u+=i.lineHeight;v&&a(t,v)}}},t.exports=l},function(t,e,i){function n(t){delete c[t]}/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */

var a=i(58),o=i(15),r=i(127),s=i(130),l=i(131),h=!o.canvasSupported,u={canvas:i(129)},c={},d={};d.version="3.0.6",d.init=function(t,e){var i=new f(a(),t,e);return c[i.id]=i,i},d.dispose=function(t){if(t)t.dispose();else{for(var e in c)c[e].dispose();c={}}return d},d.getInstance=function(t){return c[t]},d.registerPainter=function(t,e){u[t]=e};var f=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,a=new s,c=i.renderer;if(h){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");c="vml"}else c&&u[c]||(c="canvas");var d=new u[c](e,a,i);this.storage=a,this.painter=d,o.node||(this.handler=new r(d.getViewportRoot(),a,d)),this.animation=new l({stage:{update:function(){n._needsRefresh&&n.refreshImmediately()}}}),this.animation.start(),this._needsRefresh;var f=a.delFromMap,p=a.addToMap;a.delFromMap=function(t){var e=a.get(t);f.call(a,t),e&&e.removeSelfFromZr(n)},a.addToMap=function(t){p.call(a,t),t.addSelfToZr(n)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(t,e,i){return this.painter.toDataURL(t,e,i)},pathToImage:function(t,e,i){var n=a();return this.painter.pathToImage(n,t,e,i)},setDefaultCursorStyle:function(t){this.handler.setDefaultCursorStyle(t)},on:function(t,e,i){this.handler&&this.handler.on(t,e,i)},off:function(t,e){this.handler&&this.handler.off(t,e)},trigger:function(t,e){this.handler&&this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id)}},t.exports=d},function(t,e,i){var n=i(2),a=i(1);t.exports=function(t,e){a.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var a={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name);var n=t.getData();n.each(function(e){var i=n.getName(e);a[i]=t.isSelected(i)||!1})}),{name:i.name,selected:a}})})}},function(t,e,i){var n=i(1);t.exports={updateSelectedMap:function(){var t=this.option;this._dataOptMap=n.reduce(t.data,function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._dataOptMap,i=e[t],a=this.get("selectedMode");"single"===a&&n.each(e,function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t){var e=this._dataOptMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._dataOptMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._dataOptMap[t];return e&&e.selected}}},function(t,e,i){function n(t){if(!t.target||!t.target.draggable){var e=t.offsetX,i=t.offsetY,n=this.rect;n&&n.contain(e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function a(t){if(this._dragging&&(d.stop(t.event),"pinch"!==t.gestureEvent)){if(f.isTaken("globalPan",this._zr))return;var e=t.offsetX,i=t.offsetY,n=e-this._x,a=i-this._y;this._x=e,this._y=i;var o=this.target;if(o){var r=o.position;r[0]+=n,r[1]+=a,o.dirty()}d.stop(t.event),this.trigger("pan",n,a)}}function o(t){this._dragging=!1}function r(t){d.stop(t.event);var e=t.wheelDelta>0?1.1:1/1.1;l.call(this,t,e,t.offsetX,t.offsetY)}function s(t){if(!f.isTaken("globalPan",this._zr)){d.stop(t.event);var e=t.pinchScale>1?1.1:1/1.1;l.call(this,t,e,t.pinchX,t.pinchY)}}function l(t,e,i,n){var a=this.rect;if(a&&a.contain(i,n)){var o=this.target,r=this.zoomLimit;if(o){var s=o.position,l=o.scale,h=this.zoom=this.zoom||1;h*=e,r&&(h=Math.max(Math.min(r.max,h),r.min));var u=h/this.zoom;this.zoom=h,s[0]-=(i-s[0])*(u-1),s[1]-=(n-s[1])*(u-1),l[0]*=u,l[1]*=u,o.dirty()}this.trigger("zoom",e,i,n)}}function h(t,e,i){this.target=e,this.rect=i,this.zoomLimit,this.zoom,this._zr=t;var l=c.bind,h=l(n,this),d=l(a,this),f=l(o,this),p=l(r,this),g=l(s,this);u.call(this),this.enable=function(e){this.disable(),null==e&&(e=!0),e!==!0&&"move"!==e&&"pan"!==e||(t.on("mousedown",h),t.on("mousemove",d),t.on("mouseup",f)),e!==!0&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",p),t.on("pinch",g))},this.disable=function(){t.off("mousedown",h),t.off("mousemove",d),t.off("mouseup",f),t.off("mousewheel",p),t.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var u=i(21),c=i(1),d=i(33),f=i(102);c.mixin(h,u),t.exports=h},function(t,e){t.exports=function(t,e,i,n,a){function o(t,e,i){var n=e.length?e.slice():[e,e];return e[0]>e[1]&&n.reverse(),0>t&&n[0]+t<i[0]&&(t=i[0]-n[0]),t>0&&n[1]+t>i[1]&&(t=i[1]-n[1]),t}return t?("rigid"===n?(t=o(t,e,i),e[0]+=t,e[1]+=t):(t=o(t,e[a],i),e[a]+=t,"push"===n&&e[0]>e[1]&&(e[1-a]=e[a])),e):e}},function(t,e,i){var n=i(1),a={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=n.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},a),r=n.defaults({boundaryGap:[0,0],splitNumber:5},a),s=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r),l=n.defaults({},r);l.scale=!0,t.exports={categoryAxis:o,valueAxis:r,timeAxis:s,logAxis:l}},function(t,e,i){function n(t,e,i,n){return c.isArray(t)?c.map(t,function(t){return f(t,e,i,n)}):f(t,e,i,n)}function a(t){var e=t.pieceList;t.hasSpecialVisual=!1,c.each(e,function(e,i){e.originIndex=i,e.visual&&(t.hasSpecialVisual=!0)})}function o(t){var e=t.categories,i=t.visual,n=c.isArray(i);if(!e){if(n)return;throw new Error}var a=t.categoryMap={};if(p(e,function(t,e){a[t]=e}),!n){var o=[];c.isObject(i)?p(i,function(t,e){var i=a[e];o[null!=i?i:m]=t}):o[m]=i,i=t.visual=o}for(var r=e.length-1;r>=0;r--)null==i[r]&&(delete a[e[r]],e.pop())}function r(t){return{applyVisual:function(e,i,n){var a=i("color"),o=c.isArray(e);if(e=o?[this.mapValueToVisual(e[0]),this.mapValueToVisual(e[1])]:this.mapValueToVisual(e),c.isArray(a))for(var r=0,s=a.length;s>r;r++)a[r].color=t(a[r].color,o?e[r]:e);else n("color",t(a,e))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),a=this.option.visual;return null==i&&(i=u(this)?h(this,a,e):n(e,[0,1],a,!0)),i}}}function s(t,e){return t[Math.round(n(e,[0,1],[0,t.length-1],!0))]}function l(t,e,i){i("color",this.mapValueToVisual(t))}function h(t,e,i){return e[t.option.loop&&i!==m?i%e.length:i]}function u(t){return"category"===t.option.mappingMethod}var c=i(1),d=i(22),f=i(4).linearMap,p=c.each,g=c.isObject,m=-1,v=function(t){var e=t.mappingMethod,i=t.type;this.type=i,this.mappingMethod=e;var n=this.option=c.clone(t);this._normalizeData=x[e],this._getSpecifiedVisual=c.bind(_[e],this,i),c.extend(this,y[i]),"piecewise"===e&&a(n),"category"===e&&o(n)};v.prototype={constructor:v,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return c.bind(this._normalizeData,this)}};var y=v.visualHandlers={color:{applyVisual:l,getColorMapper:function(){var t=u(this)?this.option.visual:c.map(this.option.visual,d.parse);return c.bind(u(this)?function(e,i){return!i&&(e=this._normalizeData(e)),h(this,t,e)}:function(e,i,n){var a=!!n;return!i&&(e=this._normalizeData(e)),n=d.fastMapToColor(e,t,n),a?n:c.stringify(n,"rgba")},this)},mapValueToVisual:function(t){var e=this.option.visual;if(c.isArray(t))return t=[this._normalizeData(t[0]),this._normalizeData(t[1])],d.mapIntervalToColor(t,e);var i=this._normalizeData(t),n=this._getSpecifiedVisual(t);return null==n&&(n=u(this)?h(this,e,i):d.mapToColor(i,e)),n}},colorHue:r(function(t,e){return d.modifyHSL(t,e)}),colorSaturation:r(function(t,e){return d.modifyHSL(t,null,e)}),colorLightness:r(function(t,e){return d.modifyHSL(t,null,null,e)}),colorAlpha:r(function(t,e){return d.modifyAlpha(t,e)}),symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(c.isString(n))i("symbol",n);else if(g(n))for(var a in n)n.hasOwnProperty(a)&&i(a,n[a])},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=u(this)?h(this,n,e):s(n,e)||{}),i}},symbolSize:{applyVisual:function(t,e,i){i("symbolSize",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),a=this.option.visual;return null==i&&(i=u(this)?h(this,a,e):n(e,[0,1],a,!0)),i}}},x={linear:function(t){return n(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=v.findPieceIndex(t,e);return null!=i?n(i,[0,e.length-1],[0,1],!0):void 0},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?m:e}},_={linear:c.noop,piecewise:function(t,e){var i=this.option,n=i.pieceList;if(i.hasSpecialVisual){var a=v.findPieceIndex(e,n),o=n[a];if(o&&o.visual)return o.visual[t]}},category:c.noop};v.addVisualHandler=function(t,e){y[t]=e},v.isValidType=function(t){return y.hasOwnProperty(t)},v.eachVisual=function(t,e,i){c.isObject(t)?c.each(t,e,i):e.call(i,t)},v.mapVisual=function(t,e,i){var n,a=c.isArray(t)?[]:c.isObject(t)?{}:(n=!0,null);return v.eachVisual(t,function(t,o){var r=e.call(i,t,o);n?a=r:a[o]=r}),a},v.isInVisualCluster=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},v.retrieveVisuals=function(t){var e,i={};return t&&p(y,function(n,a){t.hasOwnProperty(a)&&(i[a]=t[a],e=!0)}),e?i:null},v.prepareVisualTypes=function(t){if(g(t)){var e=[];p(t,function(t,i){e.push(i)}),t=e}else{if(!c.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},v.findPieceIndex=function(t,e){for(var i=0,n=e.length;n>i;i++){var a=e[i];if(null!=a.value&&a.value===t)return i}for(var i=0,n=e.length;n>i;i++){var a=e[i],o=a.interval;if(o)if(o[0]===-(1/0)){if(t<o[1])return i}else if(o[1]===1/0){if(o[0]<t)return i}else if(a.interval[0]<=t&&t<=a.interval[1])return i}},t.exports=v},function(t,e,i){var n=i(16);t.exports=function(t,e,i){function a(t){var a=[e,"normal","color"],o=i.get("color"),r=t.getData(),s=t.get(a)||o[t.seriesIndex%o.length];r.setVisual("color",s),i.isSeriesFiltered(t)||("function"!=typeof s||s instanceof n||r.each(function(e){r.setItemVisual(e,"color",s(t.getDataParams(e)))}),r.each(function(t){var e=r.getItemModel(t),i=e.get(a,!0);null!=i&&r.setItemVisual(t,"color",i)}))}t?i.eachSeriesByType(t,a):i.eachSeries(a)}},function(t,e){t.exports=function(t,e,i,n,a,o){if(o>e&&o>n||e>o&&n>o)return 0;if(n===e)return 0;var r=e>n?1:-1,s=(o-e)/(n-e),l=s*(i-t)+t;return l>a?r:0}},function(t,e,i){"use strict";var n=i(1),a=i(16),o=function(t,e,i,n,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,a.call(this,o)};o.prototype={constructor:o,type:"linear",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=this.x*i.width+i.x,a=this.x2*i.width+i.x,o=this.y*i.height+i.y,r=this.y2*i.height+i.y,s=e.createLinearGradient(n,o,a,r),l=this.colorStops,h=0;h<l.length;h++)s.addColorStop(l[h].offset,l[h].color);this.canvasGradient=s}},n.inherits(o,a),t.exports=o},function(t,e,i){"use strict";function n(t){return t>s||-s>t}var a=i(19),o=i(5),r=a.identity,s=5e-5,l=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},h=l.prototype;h.transform=null,h.needLocalTransform=function(){return n(this.rotation)||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},h.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||e?(n=n||a.create(),i?this.getLocalTransform(n):r(n),e&&(i?a.mul(n,t.transform,n):a.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||a.create(),void a.invert(this.invTransform,n)):void(n&&r(n))},h.getLocalTransform=function(t){t=t||[],r(t);var e=this.origin,i=this.scale,n=this.rotation,o=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),a.scale(t,t,i),n&&a.rotate(t,t,n),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=o[0],t[5]+=o[1],t},h.setTransform=function(t){var e=this.transform;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])};var u=[];h.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(a.mul(u,t.invTransform,e),e=u);var i=e[0]*e[0]+e[1]*e[1],o=e[2]*e[2]+e[3]*e[3],r=this.position,s=this.scale;n(i-1)&&(i=Math.sqrt(i)),n(o-1)&&(o=Math.sqrt(o)),e[0]<0&&(i=-i),e[3]<0&&(o=-o),r[0]=e[4],r[1]=e[5],s[0]=i,s[1]=o,this.rotation=Math.atan2(-e[1]/o,e[0]/i)}},h.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&o.applyTransform(i,i,n),i},h.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&o.applyTransform(i,i,n),i},t.exports=l},function(t,e,i){"use strict";function n(t){a.each(o,function(e){this[e]=a.bind(t[e],t)},this)}var a=i(1),o=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=n},function(t,e,i){var n=i(1);i(51),i(80),i(81);var a=i(110),o=i(2);o.registerLayout(n.curry(a,"bar")),o.registerVisualCoding("chart",function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),i(34)},function(t,e,i){"use strict";var n=i(13),a=i(36);t.exports=n.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){return a(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t),n=this.getData(),a=n.getLayout("offset"),o=n.getLayout("size"),r=e.getBaseAxis().isHorizontal()?0:1;return i[r]+=a+o/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(t,e,i){"use strict";function n(t,e){var i=t.width>0?1:-1,n=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=i*e/2,t.y+=n*e/2,t.width-=i*e,t.height-=n*e}var a=i(1),o=i(3);a.extend(i(12).prototype,i(82)),t.exports=i(2).extendChartView({type:"bar",render:function(t,e,i){var n=t.get("coordinateSystem");return"cartesian2d"===n&&this._renderOnCartesian(t,e,i),this.group},_renderOnCartesian:function(t,e,i){function r(e,i){var r=l.getItemLayout(e),s=l.getItemModel(e).get(p)||0;n(r,s);var h=new o.Rect({shape:a.extend({},r)});if(f){var u=h.shape,c=d?"height":"width",g={};u[c]=0,g[c]=r[c],o[i?"updateProps":"initProps"](h,{shape:g},t)}return h}var s=this.group,l=t.getData(),h=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),d=c.isHorizontal(),f=t.get("animation"),p=["itemStyle","normal","barBorderWidth"];l.diff(h).add(function(t){if(l.hasValue(t)){var e=r(t);l.setItemGraphicEl(t,e),s.add(e)}}).update(function(e,i){var a=h.getItemGraphicEl(i);if(!l.hasValue(e))return void s.remove(a);a||(a=r(e,!0));var u=l.getItemLayout(e),c=l.getItemModel(e).get(p)||0;n(u,c),o.updateProps(a,{shape:u},t),l.setItemGraphicEl(e,a),s.add(a)}).remove(function(e){var i=h.getItemGraphicEl(e);i&&(i.style.text="",o.updateProps(i,{shape:{width:0}},t,function(){s.remove(i)}))}).execute(),this._updateStyle(t,l,d),this._data=l},_updateStyle:function(t,e,i){function n(t,e,i,n,a){o.setText(t,e,i),t.text=n,"outside"===t.textPosition&&(t.textPosition=a)}e.eachItemGraphicEl(function(r,s){var l=e.getItemModel(s),h=e.getItemVisual(s,"color"),u=e.getItemLayout(s),c=l.getModel("itemStyle.normal"),d=l.getModel("itemStyle.emphasis").getItemStyle();r.setShape("r",c.get("barBorderRadius")||0),r.setStyle(a.defaults({fill:h},c.getBarItemStyle()));var f=i?u.height>0?"bottom":"top":u.width>0?"left":"right",p=l.getModel("label.normal"),g=l.getModel("label.emphasis"),m=r.style;p.get("show")?n(m,p,h,a.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),f):m.text="",g.get("show")?n(d,g,h,a.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),f):d.text="",o.setHoverStyle(r,d)})},remove:function(t,e){var i=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(e){e.style.text="",o.updateProps(e,{shape:{width:0}},t,function(){i.remove(e)})}):i.removeAll()}})},function(t,e,i){t.exports={getBarItemStyle:i(30)([["fill","color"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){function n(t,e,i){var n=e.getItemVisual(i,"color"),a=e.getItemVisual(i,"symbol"),o=e.getItemVisual(i,"symbolSize");if("none"!==a){p.isArray(o)||(o=[o,o]);var r=u.createSymbol(a,-o[0]/2,-o[1]/2,o[0],o[1],n);return r.name=t,r}}function a(t){var e=new d({name:"line",style:{strokeNoScale:!0}});return o(e.shape,t),e}function o(t,e){var i=e[0],n=e[1],a=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,a&&(t.cpx1=a[0],t.cpy1=a[1])}function r(t){return"symbol"===t.type&&"arrow"===t.shape.symbolType}function s(){var t=this,e=t.childOfName("line");if(this.__dirty||e.__dirty){var i=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),a=t.childOfName("label"),o=e.pointAt(0),s=e.pointAt(e.shape.percent),h=c.sub([],s,o);c.normalize(h,h),i&&(i.attr("position",o),r(i)&&i.attr("rotation",l(s,o))),n&&(n.attr("position",s),r(n)&&n.attr("rotation",l(o,s))),a.attr("position",s);var u,d,f;"end"===a.__position?(u=[5*h[0]+s[0],5*h[1]+s[1]],d=h[0]>.8?"left":h[0]<-.8?"right":"center",f=h[1]>.8?"top":h[1]<-.8?"bottom":"middle"):(u=[5*-h[0]+o[0],5*-h[1]+o[1]],d=h[0]>.8?"right":h[0]<-.8?"left":"center",f=h[1]>.8?"bottom":h[1]<-.8?"top":"middle"),a.attr({style:{textVerticalAlign:a.__verticalAlign||f,textAlign:a.__textAlign||d},position:u})}}function l(t,e){return-Math.PI/2-Math.atan2(e[1]-t[1],e[0]-t[0])}function h(t,e,i,n){f.Group.call(this),this._createLine(t,e,i,n)}var u=i(24),c=i(5),d=i(162),f=i(3),p=i(1),g=i(4),m=h.prototype;m.beforeUpdate=s,m._createLine=function(t,e,i,o){var r=t.hostModel,s=t.getItemLayout(o),l=a(s);l.shape.percent=0,f.initProps(l,{shape:{percent:1}},r),this.add(l);var h=new f.Text({name:"label"});if(this.add(h),e){var u=n("fromSymbol",e,o);this.add(u),this._fromSymbolType=e.getItemVisual(o,"symbol")}if(i){var c=n("toSymbol",i,o);this.add(c),this._toSymbolType=i.getItemVisual(o,"symbol")}this._updateCommonStl(t,e,i,o)},m.updateData=function(t,e,i,a){var r=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(a),h={shape:{}};if(o(h.shape,l),f.updateProps(s,h,r),e){var u=e.getItemVisual(a,"symbol");if(this._fromSymbolType!==u){var c=n("fromSymbol",e,a);this.remove(this.childOfName("fromSymbol")),this.add(c)}this._fromSymbolType=u}if(i){var d=i.getItemVisual(a,"symbol");if(d!==this._toSymbolType){var p=n("toSymbol",i,a);this.remove(this.childOfName("toSymbol")),this.add(p)}this._toSymbolType=d}this._updateCommonStl(t,e,i,a)},m._updateCommonStl=function(t,e,i,n){var a=t.hostModel,o=this.childOfName("line"),r=t.getItemModel(n),s=r.getModel("label.normal"),l=s.getModel("textStyle"),h=r.getModel("label.emphasis"),u=h.getModel("textStyle"),c=g.round(a.getRawValue(n));isNaN(c)&&(c=t.getName(n)),o.setStyle(p.extend({stroke:t.getItemVisual(n,"color")},r.getModel("lineStyle.normal").getLineStyle()));var d=this.childOfName("label");d.setStyle({text:s.get("show")?p.retrieve(a.getFormattedLabel(n,"normal"),c):"",textFont:l.getFont(),fill:l.getTextColor()||t.getItemVisual(n,"color")}),d.hoverStyle={text:h.get("show")?p.retrieve(a.getFormattedLabel(n,"emphasis"),c):"",textFont:u.getFont(),fill:u.getTextColor()},d.__textAlign=l.get("align"),d.__verticalAlign=l.get("baseline"),d.__position=s.get("position"),f.setHoverStyle(this,r.getModel("lineStyle.emphasis").getLineStyle())},m.updateLayout=function(t,e,i,n){var a=t.getItemLayout(n),r=this.childOfName("line");o(r.shape,a),r.dirty(!0)},p.inherits(h,f.Group),t.exports=h},function(t,e,i){function n(t){this._ctor=t||o,this.group=new a.Group}var a=i(3),o=i(83),r=n.prototype;r.updateData=function(t,e,i){var n=this._lineData,a=this.group,o=this._ctor;t.diff(n).add(function(n){var r=new o(t,e,i,n);t.setItemGraphicEl(n,r),a.add(r)}).update(function(o,r){var s=n.getItemGraphicEl(r);s.updateData(t,e,i,o),t.setItemGraphicEl(o,s),a.add(s)}).remove(function(t){a.remove(n.getItemGraphicEl(t))}).execute(),this._lineData=t,this._fromData=e,this._toData=i},r.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,this._fromData,this._toData,i)},this)},r.remove=function(){this.group.removeAll()},t.exports=n},function(t,e,i){var n=i(1),a=i(2);i(86),i(87),a.registerVisualCoding("chart",n.curry(i(44),"line","circle","line")),a.registerLayout(n.curry(i(53),"line")),a.registerProcessor("statistic",n.curry(i(122),"line")),i(34)},function(t,e,i){"use strict";var n=i(36),a=i(13);t.exports=a.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showSymbol:!0,animationEasing:"linear"}})},function(t,e,i){"use strict";function n(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],a=e[i];if(n[0]!==a[0]||n[1]!==a[1])return}return!0}}function a(t){return"number"==typeof t?t:t?.3:0}function o(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function r(t){return t>=0?1:-1}function s(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),a=i.onZero?0:n.scale.getExtent()[0],o=n.dim,s="x"===o||"radius"===o?1:0;return e.mapArray([o],function(n,l){for(var h,u=e.stackedOn;u&&r(u.get(o,l))===r(n);){h=u;break}var c=[];return c[s]=e.get(i.dim,l),c[1-s]=h?h.get(o,l,!0):a,t.dataToPoint(c)},!0)}function l(t,e){return null!=e.dataIndex?e.dataIndex:null!=e.name?t.indexOfName(e.name):void 0}function h(t,e,i){var n=o(t.getAxis("x")),a=o(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=n[0],l=a[0],h=n[1]-s,u=a[1]-l;i.get("clipOverflow")||(r?(l-=u,u*=3):(s-=h,h*=3));var c=new m.Rect({shape:{x:s,y:l,width:h,height:u}});return e&&(c.shape[r?"width":"height"]=0,m.initProps(c,{shape:{width:h,height:u}},i)),c}function u(t,e,i){var n=t.getAngleAxis(),a=t.getRadiusAxis(),o=a.getExtent(),r=n.getExtent(),s=Math.PI/180,l=new m.Sector({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*s,m.initProps(l,{shape:{endAngle:-r[1]*s}},i)),l}function c(t,e,i){return"polar"===t.type?u(t,e,i):h(t,e,i)}var d=i(1),f=i(38),p=i(47),g=i(88),m=i(3),v=i(89),y=i(25);t.exports=y.extend({type:"line",init:function(){var t=new m.Group,e=new f;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var o=t.coordinateSystem,r=this.group,l=t.getData(),h=t.getModel("lineStyle.normal"),u=t.getModel("areaStyle.normal"),f=l.mapArray(l.getItemLayout,!0),p="polar"===o.type,g=this._coordSys,m=this._symbolDraw,v=this._polyline,y=this._polygon,x=this._lineGroup,_=t.get("animation"),w=!u.isEmpty(),b=s(o,l),M=t.get("showSymbol"),S=M&&!p&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,o),A=this._data;A&&A.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),A.setItemGraphicEl(e,null))}),M||m.remove(),r.add(x),v&&g.type===o.type?(w&&!y?y=this._newPolygon(f,b,o,_):y&&!w&&(x.remove(y),y=this._polygon=null),x.setClipPath(c(o,!1,t)),M&&m.updateData(l,S),l.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),n(this._stackedOnPoints,b)&&n(this._points,f)||(_?this._updateAnimation(l,b,o,i):(v.setShape({points:f}),y&&y.setShape({points:f,stackedOnPoints:b})))):(M&&m.updateData(l,S),v=this._newPolyline(f,o,_),w&&(y=this._newPolygon(f,b,o,_)),x.setClipPath(c(o,!0,t))),v.setStyle(d.defaults(h.getLineStyle(),{stroke:l.getVisual("color"),lineJoin:"bevel"}));var I=t.get("smooth");if(I=a(t.get("smooth")),v.setShape({smooth:I,smoothMonotone:t.get("smoothMonotone")}),y){var T=l.stackedOn,C=0;if(y.style.opacity=.7,y.setStyle(d.defaults(u.getAreaStyle(),{fill:l.getVisual("color"),lineJoin:"bevel"})),T){var L=T.hostModel;C=a(L.get("smooth"))}y.setShape({smooth:I,stackedOnSmooth:C,smoothMonotone:t.get("smoothMonotone")})}this._data=l,this._coordSys=o,this._stackedOnPoints=b,this._points=f},highlight:function(t,e,i,n){var a=t.getData(),o=l(a,n);if(null!=o&&o>=0){var r=a.getItemGraphicEl(o);if(!r){var s=a.getItemLayout(o);r=new p(a,o,i),r.position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,a.setItemGraphicEl(o,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else y.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var a=t.getData(),o=l(a,n);if(null!=o&&o>=0){var r=a.getItemGraphicEl(o);r&&(r.__temp?(a.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay())}else y.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new v.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale("ordinal")[0];return i&&i.isLabelIgnored?d.bind(i.isLabelIgnored,i):void 0},_updateAnimation:function(t,e,i,n){var a=this._polyline,o=this._polygon,r=t.hostModel,s=g(this._data,t,this._stackedOnPoints,e,this._coordSys,i);a.shape.points=s.current,m.updateProps(a,{shape:{points:s.next}},r),o&&(o.setShape({points:s.current,stackedOnPoints:s.stackedOnCurrent}),m.updateProps(o,{shape:{points:s.next,stackedOnPoints:s.stackedOnNext}},r));for(var l=[],h=s.status,u=0;u<h.length;u++){var c=h[u].cmd;if("="===c){var d=t.getItemGraphicEl(h[u].idx1);d&&l.push({el:d,ptIdx:u})}}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<l.length;t++){var e=l[t].el;e.attr("position",a.shape.points[l[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e){function i(t){return t>=0?1:-1}function n(t,e,n){for(var a,o=t.getBaseAxis(),r=t.getOtherAxis(o),s=o.onZero?0:r.scale.getExtent()[0],l=r.dim,h="x"===l||"radius"===l?1:0,u=e.stackedOn,c=e.get(l,n);u&&i(u.get(l,n))===i(c);){a=u;break}var d=[];return d[h]=e.get(o.dim,n),d[1-h]=a?a.get(l,n,!0):s,t.dataToPoint(d)}function a(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}t.exports=function(t,e,i,o,r,s){for(var l=a(t,e),h=[],u=[],c=[],d=[],f=[],p=[],g=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],x=!0;switch(y.cmd){case"=":var _=t.getItemLayout(y.idx),w=e.getItemLayout(y.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=w.slice()),h.push(_),u.push(w),c.push(i[y.idx]),d.push(o[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var b=y.idx;h.push(r.dataToPoint([e.get(m[0],b,!0),e.get(m[1],b,!0)])),u.push(e.getItemLayout(b).slice()),c.push(n(r,e,b)),d.push(o[b]),g.push(e.getRawIndex(b));break;case"-":var b=y.idx,M=t.getRawIndex(b);M!==b?(h.push(t.getItemLayout(b)),u.push(s.dataToPoint([t.get(m[0],b,!0),t.get(m[1],b,!0)])),c.push(i[b]),d.push(n(s,t,b)),g.push(M)):x=!1}x&&(f.push(y),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});for(var S=[],A=[],I=[],T=[],C=[],v=0;v<p.length;v++){var b=p[v];S[v]=h[b],A[v]=u[b],I[v]=c[b],T[v]=d[b],C[v]=f[b]}return{current:S,next:A,stackedOnCurrent:I,stackedOnNext:T,status:C}}},function(t,e,i){function n(t,e,i,n,a,o,p,g,m,v){for(var y=i,x=0;a>x;x++){var _=e[y];if(y>=n||0>y||isNaN(_[0])||isNaN(_[1]))break;if(y===i)t[o>0?"moveTo":"lineTo"](_[0],_[1]),u(d,_);else if(m>0){var w=y-o,b=y+o,M=.5,S=e[w],A=e[b];if(o>0&&(y===a-1||isNaN(A[0])||isNaN(A[1]))||0>=o&&(0===y||isNaN(A[0])||isNaN(A[1])))u(f,_);else{(isNaN(A[0])||isNaN(A[1]))&&(A=_),r.sub(c,A,S);var I,T;if("x"===v||"y"===v){var C="x"===v?0:1;I=Math.abs(_[C]-S[C]),T=Math.abs(_[C]-A[C])}else I=r.dist(_,S),T=r.dist(_,A);M=T/(T+I),h(f,_,c,-m*(1-M))}s(d,d,g),l(d,d,p),s(f,f,g),l(f,f,p),t.bezierCurveTo(d[0],d[1],f[0],f[1],_[0],_[1]),h(d,_,c,m*M)}else t.lineTo(_[0],_[1]);y+=o}return x}function a(t,e){var i=[1/0,1/0],n=[-(1/0),-(1/0)];if(e)for(var a=0;a<t.length;a++){var o=t[a];o[0]<i[0]&&(i[0]=o[0]),o[1]<i[1]&&(i[1]=o[1]),o[0]>n[0]&&(n[0]=o[0]),o[1]>n[1]&&(n[1]=o[1])}return{min:e?i:n,max:e?n:i}}var o=i(6),r=i(5),s=r.min,l=r.max,h=r.scaleAndAdd,u=r.copy,c=[],d=[],f=[];t.exports={Polyline:o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null},style:{fill:null,stroke:"#000"},buildPath:function(t,e){for(var i=e.points,o=0,r=i.length,s=a(i,e.smoothConstraint);r>o;)o+=n(t,i,o,r,r,1,s.min,s.max,e.smooth,e.smoothMonotone)+1}}),Polygon:o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null},buildPath:function(t,e){for(var i=e.points,o=e.stackedOnPoints,r=0,s=i.length,l=e.smoothMonotone,h=a(i,e.smoothConstraint),u=a(o,e.smoothConstraint);s>r;){var c=n(t,i,r,s,s,1,h.min,h.max,e.smooth,l);n(t,o,r+c-1,s,c,-1,u.min,u.max,e.stackedOnSmooth,l),r+=c+1,t.closePath()}}})}},function(t,e,i){var n=i(1),a=i(2);i(91),i(92),i(68)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisualCoding("chart",n.curry(i(63),"pie")),a.registerLayout(n.curry(i(94),"pie")),a.registerProcessor("filter",n.curry(i(62),"pie"))},function(t,e,i){"use strict";var n=i(14),a=i(1),o=i(7),r=i(31),s=i(69),l=i(2).extendSeriesModel({type:"series.pie",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(),this._defaultLabelLine(t)},mergeOption:function(t){l.superCall(this,"mergeOption",t),this.updateSelectedMap()},getInitialData:function(t,e){var i=r(["value"],t.data),a=new n(i,this);return a.initData(t.data),a},getDataParams:function(t){var e=this._data,i=l.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});a.mixin(l,s),t.exports=l},function(t,e,i){function n(t,e,i,n){var o=e.getData(),r=this.dataIndex,s=o.getName(r),l=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),o.each(function(t){a(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),l,i)})}function a(t,e,i,n,a){var o=(e.startAngle+e.endAngle)/2,r=Math.cos(o),s=Math.sin(o),l=i?n:0,h=[r*l,s*l];a?t.animate().when(200,{position:h}).start("bounceOut"):t.attr("position",h)}function o(t,e){function i(){o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore}function n(){o.ignore=o.normalIgnore,r.ignore=r.normalIgnore}s.Group.call(this);var a=new s.Sector({z2:2}),o=new s.Polyline,r=new s.Text;this.add(a),this.add(o),this.add(r),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function r(t,e,i,n,a){var o=n.getModel("textStyle"),r="inside"===a||"inner"===a;return{fill:o.getTextColor()||(r?"#fff":t.getItemVisual(e,"color")),textFont:o.getFont(),text:l.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var s=i(3),l=i(1),h=o.prototype;h.updateData=function(t,e,i){function n(){r.stopAnimation(!0),r.animateTo({shape:{r:c.r+10}},300,"elasticOut")}function o(){r.stopAnimation(!0),r.animateTo({shape:{r:c.r}},300,"elasticOut")}var r=this.childAt(0),h=t.hostModel,u=t.getItemModel(e),c=t.getItemLayout(e),d=l.extend({},c);d.label=null,i?(r.setShape(d),r.shape.endAngle=c.startAngle,s.updateProps(r,{shape:{endAngle:c.endAngle}},h)):s.updateProps(r,{shape:d},h);var f=u.getModel("itemStyle"),p=t.getItemVisual(e,"color");r.setStyle(l.defaults({fill:p},f.getModel("normal").getItemStyle())),r.hoverStyle=f.getModel("emphasis").getItemStyle(),a(this,t.getItemLayout(e),u.get("selected"),h.get("selectedOffset"),h.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.get("hoverAnimation")&&r.on("mouseover",n).on("mouseout",o).on("emphasis",n).on("normal",o),this._updateLabel(t,e),s.setHoverStyle(this)},h._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),a=t.hostModel,o=t.getItemModel(e),l=t.getItemLayout(e),h=l.label,u=t.getItemVisual(e,"color");s.updateProps(i,{shape:{points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]}},a),s.updateProps(n,{style:{x:h.x,y:h.y}},a),n.attr({style:{textVerticalAlign:h.verticalAlign,textAlign:h.textAlign,textFont:h.font},rotation:h.rotation,origin:[h.x,h.y],z2:10});var c=o.getModel("label.normal"),d=o.getModel("label.emphasis"),f=o.getModel("labelLine.normal"),p=o.getModel("labelLine.emphasis"),g=c.get("position")||d.get("position");n.setStyle(r(t,e,"normal",c,g)),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:u}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=r(t,e,"emphasis",d,g),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),i.setShape({smooth:m})},l.inherits(o,s.Group);var u=i(25).extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,i,a){if(!a||a.from!==this.uid){var r=t.getData(),s=this._data,h=this.group,u=e.get("animation"),c=!s,d=l.curry(n,this.uid,t,u,i),f=t.get("selectedMode");if(r.diff(s).add(function(t){var e=new o(r,t);c&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",d),r.setItemGraphicEl(t,e),h.add(e)}).update(function(t,e){var i=s.getItemGraphicEl(e);i.updateData(r,t),i.off("click"),f&&i.on("click",d),h.add(i),r.setItemGraphicEl(t,i)}).remove(function(t){var e=s.getItemGraphicEl(t);h.remove(e)}).execute(),u&&c&&r.count()>0){var p=r.getItemLayout(0),g=Math.max(i.getWidth(),i.getHeight())/2,m=l.bind(h.removeClipPath,h);h.setClipPath(this._createClipPath(p.cx,p.cy,g,p.startAngle,p.clockwise,m,t))}this._data=r}},_createClipPath:function(t,e,i,n,a,o,r){var l=new s.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:a}});return s.initProps(l,{shape:{endAngle:n+(a?1:-1)*Math.PI*2}},r,o),l}});t.exports=u},function(t,e,i){"use strict";function n(t,e,i,n,a,o,r){function s(e,i,n,a){for(var o=e;i>o;o++)if(t[o].y+=n,o>e&&i>o+1&&t[o+1].y>t[o].y+t[o].height)return void l(o,n/2);l(i-1,n/2)}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function h(t,e,i,n,a,o){for(var r=o>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;l>s;s++)if("center"!==t[s].position){var h=Math.abs(t[s].y-n),u=t[s].len,c=t[s].len2,d=a+u>h?Math.sqrt((a+u+c)*(a+u+c)-h*h):Math.abs(t[s].x-i);e&&d>=r&&(d=r-10),!e&&r>=d&&(d=r+10),t[s].x=i+d*o,r=d}}t.sort(function(t,e){return t.y-e.y});for(var u,c=0,d=t.length,f=[],p=[],g=0;d>g;g++)u=t[g].y-c,0>u&&s(g,d,-u,a),c=t[g].y+t[g].height;0>r-c&&l(d-1,c-r);for(var g=0;d>g;g++)t[g].y>=i?p.push(t[g]):f.push(t[g]);h(f,!1,e,i,n,a),h(p,!0,e,i,n,a)}function a(t,e,i,a,o,r){for(var s=[],l=[],h=0;h<t.length;h++)t[h].x<e?s.push(t[h]):l.push(t[h]);n(l,e,i,a,1,o,r),n(s,e,i,a,-1,o,r);for(var h=0;h<t.length;h++){var u=t[h].linePoints;if(u){var c=u[1][0]-u[2][0];t[h].x<e?u[2][0]=t[h].x+3:u[2][0]=t[h].x-3,u[1][1]=u[2][1]=t[h].y,u[1][0]=u[2][0]+c}}}var o=i(17);t.exports=function(t,e,i,n){var r,s,l=t.getData(),h=[],u=!1;l.each(function(i){var n,a,c,d,f=l.getItemLayout(i),p=l.getItemModel(i),g=p.getModel("label.normal"),m=g.get("position")||p.get("label.emphasis.position"),v=p.getModel("labelLine.normal"),y=v.get("length"),x=v.get("length2"),_=(f.startAngle+f.endAngle)/2,w=Math.cos(_),b=Math.sin(_);r=f.cx,s=f.cy;var M="inside"===m||"inner"===m;if("center"===m)n=f.cx,a=f.cy,d="center";else{var S=(M?f.r/2*w:f.r*w)+r,A=(M?f.r/2*b:f.r*b)+s;if(n=S+3*w,a=A+3*b,!M){var I=S+w*(y+e-f.r),T=A+b*(y+e-f.r),C=I+(0>w?-1:1)*x,L=T;n=C+(0>w?-5:5),a=L,c=[[S,A],[I,T],[C,L]]}d=M?"center":w>0?"left":"right"}var D=g.getModel("textStyle").getFont(),P=g.get("rotate")?0>w?-_+Math.PI:-_:0,k=t.getFormattedLabel(i,"normal")||l.getName(i),z=o.getBoundingRect(k,D,d,"top");u=!!P,f.label={x:n,y:a,position:m,height:z.height,len:y,len2:x,linePoints:c,textAlign:d,verticalAlign:"middle",font:D,rotation:P},M||h.push(f.label)}),!u&&t.get("avoidLabelOverlap")&&a(h,r,s,e,i,n)}},function(t,e,i){var n=i(4),a=n.parsePercent,o=i(93),r=i(1),s=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),h=t.get("radius");r.isArray(h)||(h=[0,h]),r.isArray(e)||(e=[e,e]);var u=i.getWidth(),c=i.getHeight(),d=Math.min(u,c),f=a(e[0],u),p=a(e[1],c),g=a(h[0],d/2),m=a(h[1],d/2),v=t.getData(),y=-t.get("startAngle")*l,x=t.get("minAngle")*l,_=v.getSum("value"),w=Math.PI/(_||v.count())*2,b=t.get("clockwise"),M=t.get("roseType"),S=v.getDataExtent("value");S[0]=0;var A=s,I=0,T=y,C=b?1:-1;if(v.each("value",function(t,e){var i;i="area"!==M?0===_?w:t*w:s/(v.count()||1),x>i?(i=x,A-=x):I+=t;var a=T+C*i;v.setItemLayout(e,{angle:i,startAngle:T,endAngle:a,clockwise:b,cx:f,cy:p,r0:g,r:M?n.linearMap(t,S,[g,m]):m}),T=a},!0),s>A)if(.001>=A){var L=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+C*t*L,e.endAngle=y+C*(t+1)*L})}else w=A/I,T=y,v.each("value",function(t,e){var i=v.getItemLayout(e),n=i.angle===x?x:t*w;i.startAngle=T,i.endAngle=T+C*n,T+=n});o(t,m,u,c)})}},function(t,e,i){var n=i(1),a={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var a=t.targetNodeId;if(null!=a&&(n=i.getNodeById(a)))return{node:n}}},getPathToRoot:function(t){for(var e=[];t;)e.push(t),t=t.parentNode;return e.reverse()},aboveViewRoot:function(t,e){var i=a.getPathToRoot(t);return a.aboveViewRootByViewPath(i,e)},aboveViewRootByViewPath:function(t,e){var i=n.indexOf(t,e);return i>=0&&i!==t.length-1}};t.exports=a},function(t,e,i){"use strict";i(50),i(97)},function(t,e,i){function n(t,e){function i(t,e){var i=n.getAxis(t);return i.toGlobalCoord(i.dataToCoord(0))}var n=t.coordinateSystem,a=e.axis,o={},r=a.position,s=a.onZero?"onZero":r,l=a.dim,h=n.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],c={x:{top:u[2],bottom:u[3]},y:{left:u[0],right:u[1]}};c.x.onZero=Math.max(Math.min(i("y"),c.x.bottom),c.x.top),c.y.onZero=Math.max(Math.min(i("x"),c.y.right),c.y.left),o.position=["y"===l?c.y[s]:u[0],"x"===l?c.x[s]:u[3]];var d={x:0,y:1};o.rotation=Math.PI/2*d[l];var f={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=f[r],a.onZero&&(o.labelOffset=c[l][r]-c[l].onZero),e.getModel("axisTick").get("inside")&&(o.tickDirection=-o.tickDirection),e.getModel("axisLabel").get("inside")&&(o.labelDirection=-o.labelDirection);var p=e.getModel("axisLabel").get("rotate");return o.labelRotation="top"===s?-p:p,o.labelInterval=a.getLabelInterval(),o.z2=1,o}var a=i(1),o=i(3),r=i(48),s=r.ifIgnoreOnTick,l=r.getInterval,h=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"],c=i(2).extendComponentView({type:"axis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("grid",t.get("gridIndex")),o=n(i,t),s=new r(t,o);a.each(h,s.add,s),this.group.add(s.getGroup()),a.each(u,function(e){t.get(e+".show")&&this["_"+e](t,i,o.labelInterval)},this)}},_splitLine:function(t,e,i){var n=t.axis,r=t.getModel("splitLine"),h=r.getModel("lineStyle"),u=h.get("width"),c=h.get("color"),d=l(r,i);c=a.isArray(c)?c:[c];for(var f=e.coordinateSystem.getRect(),p=n.isHorizontal(),g=[],m=0,v=n.getTicksCoords(),y=[],x=[],_=0;_<v.length;_++)if(!s(n,_,d)){var w=n.toGlobalCoord(v[_]);p?(y[0]=w,y[1]=f.y,x[0]=w,x[1]=f.y+f.height):(y[0]=f.x,y[1]=w,x[0]=f.x+f.width,x[1]=w);var b=m++%c.length;g[b]=g[b]||[],g[b].push(new o.Line(o.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:{lineWidth:u},silent:!0})))}for(var M=h.getLineStyle(),_=0;_<g.length;_++)this.group.add(o.mergePath(g[_],{style:a.defaults({stroke:c[_%c.length]},M),silent:!0}))},_splitArea:function(t,e,i){var n=t.axis,r=t.getModel("splitArea"),h=r.getModel("areaStyle"),u=h.get("color"),c=e.coordinateSystem.getRect(),d=n.getTicksCoords(),f=n.toGlobalCoord(d[0]),p=n.toGlobalCoord(d[0]),g=[],m=0,v=l(r,i);u=a.isArray(u)?u:[u];for(var y=1;y<d.length;y++)if(!s(n,y,v)){var x,_,w,b,M=n.toGlobalCoord(d[y]);n.isHorizontal()?(x=f,_=c.y,w=M-x,b=c.height):(x=c.x,_=p,w=c.width,b=M-_);var S=m++%u.length;g[S]=g[S]||[],g[S].push(new o.Rect({shape:{x:x,y:_,width:w,height:b},silent:!0})),f=x+w,p=_+b}for(var A=h.getAreaStyle(),y=0;y<g.length;y++)this.group.add(o.mergePath(g[y],{style:a.defaults({fill:u[y%u.length]},A),silent:!0}))}});c.extend({type:"xAxis"}),c.extend({type:"yAxis"})},function(t,e,i){var n=i(1),a=i(7),o=i(2);o.registerAction("dataZoom",function(t,e){var i=a.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),a.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),o=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){o.push.apply(o,i(t).nodes)}),n.each(o,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i)}function a(t,e,i){i.getAxisProxy(t.name,e).filterData(i)}var o=i(2);o.registerProcessor("filter",function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(a)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})})},function(t,e,i){function n(t){var e=t[r];return e||(e=t[r]=[{}]),e}var a=i(1),o=a.each,r="\x00_ec_hist_store",s={push:function(t,e){var i=n(t);o(e,function(e,n){for(var a=i.length-1;a>=0;a--){var o=i[a];if(o[n])break}if(0>a){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}}),i.push(e)},pop:function(t){var e=n(t),i=e[e.length-1];e.length>1&&e.pop();var a={};return o(i,function(t,i){for(var n=e.length-1;n>=0;n--){var t=e[n][i];if(t){a[i]=t;break}}}),a},clear:function(t){t[r]=null},count:function(t){return n(t).length}};t.exports=s},function(t,e,i){i(10).registerSubTypeDefaulter("dataZoom",function(t){return"slider"})},function(t,e){function i(t){return t[n]||(t[n]={})}var n="\x00_ec_interaction_mutex",a={take:function(t,e){i(e)[t]=!0},release:function(t,e){i(e)[t]=!1},isTaken:function(t,e){return!!i(e)[t]}};t.exports=a},function(t,e,i){function n(t,e,i){a.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}var a=i(11),o=i(9),r=i(3);t.exports={layout:function(t,e,i){var o=a.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));a.box(e.get("orient"),t,e.get("itemGap"),o.width,o.height),n(t,e,i)},addBackground:function(t,e){var i=o.normalizeCssArray(e.get("padding")),n=t.getBoundingRect(),a=e.getItemStyle(["color","opacity"]);a.fill=e.get("backgroundColor");var s=new r.Rect({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},style:a,silent:!0,z2:-1});r.subPixelOptimizeRect(s),t.add(s)}}},function(t,e,i){function n(t,e,i){var n=-1;do n=Math.max(r.getPrecision(t.get(e,i)),n),t=t.stackedOn;while(t);return n}function a(t,e,i,a,o,r){var s=[],l=p(e,a,t),h=e.indexOfNearest(a,l,!0);s[o]=e.get(i,h,!0),s[r]=e.get(a,h,!0);var u=n(e,a,h);return u>=0&&(s[r]=+s[r].toFixed(u)),s}var o=i(1),r=i(4),s=o.indexOf,l=o.curry,h={min:l(a,"min"),max:l(a,"max"),average:l(a,"average")},u=function(t,e){var i=t.getData(),n=t.coordinateSystem;if((isNaN(e.x)||isNaN(e.y))&&!o.isArray(e.coord)&&n){var a=c(e,i,n,t);if(e=o.clone(e),e.type&&h[e.type]&&a.baseAxis&&a.valueAxis){var r=n.dimensions,l=s(r,a.baseAxis.dim),u=s(r,a.valueAxis.dim);e.coord=h[e.type](i,a.baseDataDim,a.valueDataDim,l,u),e.value=e.coord[u]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}return e},c=function(t,e,i,n){var a={};return null!=t.valueIndex||null!=t.valueDim?(a.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=i.getAxis(n.dataDimToCoordDim(a.valueDataDim)),a.baseAxis=i.getOtherAxis(a.valueAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0]):(a.baseAxis=n.getBaseAxis(),a.valueAxis=i.getOtherAxis(a.baseAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0],a.valueDataDim=n.coordDimToDataDim(a.valueAxis.dim)[0]),a},d=function(t,e){return t&&t.containData&&e.coord&&(null==e.x||null==e.y)?t.containData(e.coord):!0},f=function(t,e,i,n){return 2>n?t.coord&&t.coord[n]:t.value},p=function(t,e,i){return"average"===i?t.getSum(e,!0)/t.count():t.getDataExtent(e,!0)["max"===i?1:0]};t.exports={dataTransform:u,dataFilter:d,dimValueGetter:f,getAxisInfo:c,numCalculate:p}},function(t,e,i){var n=i(1),a=i(43),o=i(109),r=function(t,e,i,n,o){a.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom"};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=o(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";function n(t){return this._axes[t]}var a=i(1),o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return a.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),a.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},a=0;a<i.length;a++){var o=i[a],r=this._axes[o];n[o]=r[e](t[o])}return n}},t.exports=o},function(t,e,i){"use strict";function n(t){o.call(this,t)}var a=i(1),o=i(106);n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},a.inherits(n,o),t.exports=n},function(t,e,i){"use strict";i(50);var n=i(10);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,i){"use strict";var n=i(1),a=i(23);t.exports=function(t){var e=t.model,i=e.getModel("axisLabel"),o=i.get("interval");return"category"!==t.type||"auto"!==o?"auto"===o?0:o:a.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,i){"use strict";function n(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function a(t,e){var i={};r.each(t,function(t,e){var a=t.coordinateSystem,o=a.getBaseAxis(),r=i[o.index]||{remainedWidth:o.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:o,stacks:{}},s=r.stacks;i[o.index]=r;var l=n(t);s[l]||r.autoWidthCount++,s[l]=s[l]||{width:0,maxWidth:0};var h=t.get("barWidth"),u=t.get("barMaxWidth"),c=t.get("barGap"),d=t.get("barCategoryGap");h&&!s[l].width&&(h=Math.min(r.remainedWidth,h),s[l].width=h,r.remainedWidth-=h),u&&(s[l].maxWidth=u),null!=c&&(r.gap=c),null!=d&&(r.categoryGap=d)});var a={};return r.each(i,function(t,e){a[e]={};var i=t.stacks,n=t.axis,o=n.getBandWidth(),s=l(t.categoryGap,o),h=l(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,d=(u-s)/(c+(c-1)*h);d=Math.max(d,0),r.each(i,function(t,e){var i=t.maxWidth;!t.width&&i&&d>i&&(i=Math.min(i,u),u-=i,t.width=i,c--)}),d=(u-s)/(c+(c-1)*h),d=Math.max(d,0);var f,p=0;r.each(i,function(t,e){t.width||(t.width=d),f=t,p+=t.width*(1+h)}),f&&(p-=f.width*h);var g=-p/2;r.each(i,function(t,i){a[e][i]=a[e][i]||{offset:g,width:t.width},g+=t.width*(1+h)})}),a}function o(t,e,i){var o=a(r.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),s={};e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),r=n(t),l=o[a.index][r],h=l.offset,u=l.width,c=i.getOtherAxis(a),d=t.get("barMinHeight")||0,f=a.onZero?c.toGlobalCoord(c.dataToCoord(0)):c.getGlobalExtent()[0],p=i.dataToPoints(e,!0);s[r]=s[r]||[],e.setLayout({offset:h,size:u}),e.each(c.dim,function(t,i){if(!isNaN(t)){s[r][i]||(s[r][i]={p:f,n:f});var n,a,o,l,g=t>=0?"p":"n",m=p[i],v=s[r][i][g];c.isHorizontal()?(n=v,a=m[1]+h,o=m[0]-v,l=u,Math.abs(o)<d&&(o=(0>o?-1:1)*d),s[r][i][g]+=o):(n=m[0]+h,a=v,o=u,l=m[1]-v,Math.abs(l)<d&&(l=(0>=l?-1:1)*d),s[r][i][g]+=l),e.setItemLayout(i,{x:n,y:a,width:o,height:l})}},!0)},this)}var r=i(1),s=i(4),l=s.parsePercent;t.exports=o},function(t,e,i){var n=i(3),a=i(1),o=Math.PI;t.exports=function(t,e){e=e||{},a.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new n.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var l=new n.Group;return l.add(r),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;r.setShape({cx:e,cy:n});var a=r.shape.r;s.setShape({x:e-a,y:n-a,width:2*a,height:2*a}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},function(t,e,i){function n(t,e){for(var i in e)_.hasClass(i)||("object"==typeof e[i]?t[i]=t[i]?c.merge(t[i],e[i],!1):c.clone(e[i]):null==t[i]&&(t[i]=e[i]))}function a(t){t=t,this.option={},this.option[b]=1,this._componentsMap={},this._seriesIndices=null,n(t,this._theme.option),c.merge(t,w,!1),this.mergeOption(t)}function o(t,e){c.isArray(e)||(e=e?[e]:[]);var i={};return p(e,function(e){i[e]=(t[e]||[]).slice()}),i}function r(t,e){var i={};p(e,function(t,e){var n=t.exist;n&&(i[n.id]=t)}),p(e,function(e,n){var a=e.option;if(c.assert(!a||null==a.id||!i[a.id]||i[a.id]===e,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&(i[a.id]=e),x(a)){var o=s(t,a,e.exist);e.keyInfo={mainType:t,subType:o}}}),p(e,function(t,e){var n=t.exist,a=t.option,o=t.keyInfo;if(x(a)){if(o.name=null!=a.name?a.name+"":n?n.name:"\x00-",n)o.id=n.id;else if(null!=a.id)o.id=a.id+"";else{var r=0;do o.id="\x00"+o.name+"\x00"+r++;while(i[o.id])}i[o.id]=t}})}function s(t,e,i){var n=e.type?e.type:i?i.subType:_.determineSubType(t,e);return n}function l(t){return m(t,function(t){return t.componentIndex})||[]}function h(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function u(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var c=i(1),d=i(7),f=i(12),p=c.each,g=c.filter,m=c.map,v=c.isArray,y=c.indexOf,x=c.isObject,_=i(10),w=i(114),b="\x00_ec_inner",M=f.extend({constructor:M,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new f(i),this._optionManager=n},setOption:function(t,e){c.assert(!(b in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):a.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var r=i.getMediaOption(this,this._api);r.length&&p(r,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,a){var s=d.normalizeToArray(t[e]),h=d.mappingToExists(n[e],s);r(e,h);var u=o(n,a);i[e]=[],n[e]=[],p(h,function(t,a){var o=t.exist,r=t.option;if(c.assert(x(r)||o,"Empty component definition"),r){var s=_.getClass(e,t.keyInfo.subType,!0);o&&o instanceof s?(o.mergeOption(r,this),o.optionUpdated(this)):(o=new s(r,this,this,c.extend({dependentModels:u,componentIndex:a},t.keyInfo)),o.optionUpdated(this))}else o.mergeOption({},this),o.optionUpdated(this);n[e][a]=o,i[e][a]=o.option},this),"series"===e&&(this._seriesIndices=l(n.series))}var i=this.option,n=this._componentsMap,a=[];p(t,function(t,e){null!=t&&(_.hasClass(e)?a.push(e):i[e]=null==i[e]?c.clone(t):c.merge(i[e],t,!0))}),_.topologicalTravel(a,_.getAllClassMainTypes(),e,this)},getOption:function(){var t=c.clone(this.option);return p(t,function(e,i){if(_.hasClass(i)){for(var e=d.normalizeToArray(e),n=e.length-1;n>=0;n--)d.isIdInner(e[n])&&e.splice(n,1);t[i]=e}}),delete t[b],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap[t];return i?i[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,a=t.name,o=this._componentsMap[e];if(!o||!o.length)return[];var r;if(null!=i)v(i)||(i=[i]),r=g(m(i,function(t){return o[t]}),function(t){return!!t});else if(null!=n){var s=v(n);r=g(o,function(t){return s&&y(n,t.id)>=0||!s&&t.id===n})}else if(null!=a){var l=v(a);r=g(o,function(t){return l&&y(a,t.name)>=0||!l&&t.name===a})}return h(r,t)},findComponents:function(t){function e(t){var e=a+"Index",i=a+"Id",n=a+"Name";return t&&(t.hasOwnProperty(e)||t.hasOwnProperty(i)||t.hasOwnProperty(n))?{mainType:a,index:t[e],id:t[i],name:t[n]}:null}function i(e){return t.filter?g(e,t.filter):e}var n=t.query,a=t.mainType,o=e(n),r=o?this.queryComponents(o):this._componentsMap[a];return i(h(r,t))},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,p(n,function(t,n){p(t,function(t,a){e.call(i,n,t,a)})});else if(c.isString(t))p(n[t],e,i);else if(x(t)){var a=this.findComponents(t);p(a,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){u(this),p(this._seriesIndices,function(i){var n=this._componentsMap.series[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){p(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,i){u(this),p(this._seriesIndices,function(n){var a=this._componentsMap.series[n];a.subType===t&&e.call(i,a,n)},this)},eachRawSeriesByType:function(t,e,i){return p(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return u(this),c.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){u(this);var i=g(this._componentsMap.series,t,e);this._seriesIndices=l(i)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=l(t.series);var e=[];p(t,function(t,i){e.push(i)}),_.topologicalTravel(e,_.getAllClassMainTypes(),function(e,i){p(t[e],function(t){t.restoreData()})})}});t.exports=M},function(t,e,i){function n(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newOptionBackup}function a(t,e){var i,n,a=[],o=[],r=t.timeline;if(t.baseOption&&(n=t.baseOption),(r||t.options)&&(n=n||{},a=(t.options||[]).slice()),t.media){n=n||{};var s=t.media;d(s,function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))})}return n||(n=t),n.timeline||(n.timeline=r),d([n].concat(a).concat(h.map(o,function(t){return t.option})),function(t){d(e,function(e){e(t)})}),{baseOption:n,timelineOptions:a,mediaDefault:i,mediaList:o}}function o(t,e,i){var n={width:e,height:i,aspectratio:e/i},a=!0;return h.each(t,function(t,e){var i=e.match(m);if(i&&i[1]&&i[2]){var o=i[1],s=i[2].toLowerCase();r(n[s],t,o)||(a=!1)}}),a}function r(t,e,i){return"min"===i?t>=e:"max"===i?e>=t:t===e}function s(t,e){return t.join(",")===e.join(",")}function l(t,e){e=e||{},d(e,function(e,i){if(null!=e){var n=t[i];if(c.hasClass(i)){e=u.normalizeToArray(e),n=u.normalizeToArray(n);var a=u.mappingToExists(n,e);t[i]=p(a,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[i]=g(n,e,!0)}})}var h=i(1),u=i(7),c=i(10),d=h.each,f=h.clone,p=h.map,g=h.merge,m=/^(min|max)?(.+)$/;n.prototype={constructor:n,setOption:function(t,e){t=f(t,!0);var i=this._optionBackup,n=this._newOptionBackup=a.call(this,t,e);i?(l(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=t?this._optionBackup:this._newOptionBackup;return this._timelineOptions=p(e.timelineOptions,f),this._mediaList=p(e.mediaList,f),this._mediaDefault=f(e.mediaDefault),this._currentMediaIndices=[],f(e.baseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=f(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,r=[],l=[];if(!n.length&&!a)return l;for(var h=0,u=n.length;u>h;h++)o(n[h].query,e,i)&&r.push(h);return!r.length&&a&&(r=[-1]),r.length&&!s(r,this._currentMediaIndices)&&(l=p(r,function(t){return f(-1===t?a.option:n[t].option)})),this._currentMediaIndices=r,l}},t.exports=n},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(t,e,i){t.exports={getAreaStyle:i(30)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e,i){t.exports={getItemStyle:i(30)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){var n=i(30)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=n.call(this,t),i=this.getLineDash();return i&&(e.lineDash=i),e},getLineDash:function(){var t=this.get("type");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,i){function n(t,e){return t&&t.getShallow(e)}var a=i(17);t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||n(e,"fontStyle"),this.getShallow("fontWeight")||n(e,"fontWeight"),(this.getShallow("fontSize")||n(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||n(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){var e=this.get("textStyle")||{};return a.getBoundingRect(t,this.getFont(),e.align,e.baseline)},ellipsis:function(t,e,i){return a.ellipsis(t,this.getFont(),e,i)}}},function(t,e,i){function n(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&(i=i&&i[e[n]],null!=i);n++);return i}function a(t,e,i,n){e=e.split(",");for(var a,o=t,r=0;r<e.length-1;r++)a=e[r],null==o[a]&&(o[a]={}),o=o[a];(n||null==o[e[r]])&&(o[e[r]]=i)}function o(t){c(l,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var r=i(1),s=i(121),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],h=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],u=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=r.each;t.exports=function(t){c(t.series,function(t){if(r.isObject(t)){var e=t.type;if(s(t),"pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=n(t,"pointer.color");null!=i&&a(t,"itemStyle.normal.color",i)}for(var l=0;l<u.length;l++)if(u[l]===t.type){o(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),c(h,function(e){var i=t[e];i&&(r.isArray(i)||(i=[i]),c(i,function(t){o(t)}))})}},function(t,e,i){function n(t){var e=t&&t.itemStyle;e&&a.each(o,function(i){var n=e.normal,o=e.emphasis;n&&n[i]&&(t[i]=t[i]||{},t[i].normal?a.merge(t[i].normal,n[i]):t[i].normal=n[i],n[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?a.merge(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)})}var a=i(1),o=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){n(t),n(t.markPoint),n(t.markLine);var e=t.data;if(e){for(var i=0;i<e.length;i++)n(e[i]);var o=t.markPoint;if(o&&o.data)for(var r=o.data,i=0;i<r.length;i++)n(r[i]);var s=t.markLine;if(s&&s.data)for(var l=s.data,i=0;i<l.length;i++)a.isArray(l[i])?(n(l[i][0]),n(l[i][1])):n(l[i])}}}},function(t,e){var i={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-(1/0),i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t,e,a){e.eachSeriesByType(t,function(t){var e=t.getData(),a=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&a){var r=o.getBaseAxis(),s=o.getOtherAxis(r),l=r.getExtent(),h=l[1]-l[0],u=Math.round(e.count()/h);if(u>1){var c;"string"==typeof a?c=i[a]:"function"==typeof a&&(c=a),c&&(e=e.downSample(s.dim,1/u,c,n),t.setData(e))}}},this)}},function(t,e,i){var n=i(1),a=i(32),o=i(4),r=i(37),s=a.prototype,l=r.prototype,h=Math.floor,u=Math.ceil,c=Math.pow,d=10,f=Math.log,p=a.extend({type:"log",getTicks:function(){return n.map(l.getTicks.call(this),function(t){return o.round(c(d,t))})},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),c(d,t)},setExtent:function(t,e){t=f(t)/f(d),e=f(e)/f(d),l.setExtent.call(this,t,e)},getExtent:function(){var t=s.getExtent.call(this);return t[0]=c(d,t[0]),t[1]=c(d,t[1]),t},unionExtent:function(t){t[0]=f(t[0])/f(d),t[1]=f(t[1])/f(d),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||0>=i)){var n=c(10,h(f(i/t)/Math.LN10)),a=t/i*n;.5>=a&&(n*=10);var r=[o.round(u(e[0]/n)*n),o.round(h(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:l.niceExtent});n.each(["contain","normalize"],function(t){p.prototype[t]=function(e){return e=f(e)/f(d),s[t].call(this,e)}}),p.create=function(){return new p},t.exports=p},function(t,e,i){var n=i(1),a=i(32),o=a.prototype,r=a.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:n.noop,niceExtent:n.noop});r.create=function(){return new r},t.exports=r},function(t,e,i){var n=i(1),a=i(4),o=i(9),r=i(37),s=r.prototype,l=Math.ceil,h=Math.floor,u=864e5,c=function(t,e,i,n){for(;n>i;){var a=i+n>>>1;t[a][2]<e?i=a+1:n=a}return i},d=r.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return o.formatTime(e[0],i)},niceExtent:function(t,e,i){var n=this._extent;if(n[0]===n[1]&&(n[0]-=u,n[1]+=u),n[1]===-(1/0)&&n[0]===1/0){var o=new Date;n[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),n[0]=n[1]-u}this.niceTicks(t,e,i);var r=this._interval;e||(n[0]=a.round(h(n[0]/r)*r)),i||(n[1]=a.round(l(n[1]/r)*r))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0],n=i/t,o=f.length,r=c(f,n,0,o),s=f[Math.min(r,o-1)],u=s[2];if("year"===s[0]){var d=i/u,p=a.nice(d/t,!0);u*=p}var g=[l(e[0]/u)*u,h(e[1]/u)*u];this._stepLvl=s,this._interval=u,this._niceExtent=g},parse:function(t){return+a.parseDate(t)}});n.each(["contain","normalize"],function(t){d.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var f=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,u],["week",7,7*u],["month",1,31*u],["quarter",3,380*u/4],["half-year",6,380*u/2],["year",1,380*u]];d.create=function(){return new d},t.exports=d},function(t,e){var i={},n="\x00__throttleOriginMethod",a="\x00__throttleRate";i.throttle=function(t,e,i,n){function a(a){function f(){u=(new Date).getTime(),c=null,(d?t:t[a]).apply(r,s||[])}var p=function(){l=(new Date).getTime(),r=this,s=arguments,o=l-(n?h:u)-e,clearTimeout(c),n?i?c=setTimeout(f,e):o>=0&&f():o>=0?f():i&&(c=setTimeout(f,-o)),h=l};return p.clear=function(){c&&(clearTimeout(c),c=null)},p}var o,r,s,l=(new Date).getTime(),h=0,u=0,c=null,d="function"==typeof t;if(e=e||0,d)return a();for(var f=[],p=0;p<t.length;p++)f[p]=a(p);return f},i.fixRate=function(t,e){return null!=e?i.throttle(t,e,!0,!1):t},i.debounce=function(t,e){return null!=e?i.throttle(t,e,!0,!0):t},i.createOrUpdate=function(t,e,o,r){var s=t[e];if(s&&null!=o&&r){var l=s[n]||s,h=s[a];h!==o&&(s=t[e]=i[r](l,o),s[n]=l,s[a]=o)}},i.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=i},function(t,e,i){"use strict";function n(t,e,i){return{type:t,event:i,target:e,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}function a(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var a=n.recognize(e,t.findHover(e.zrX,e.zrY,null));if("end"===i&&n.clear(),a){var o=a.type;e.gestureEvent=o,t._dispatchProxy(a.target,o,a.event)}}function o(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}for(var i=y.concat(x),n=0;n<i.length;n++){var a=i[n];t._handlers[a]=f.bind(S[a],t)}for(var n=0;n<v.length;n++){var a=v[n];t._handlers[a]=e(S[a],t)}}function r(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t.parent;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n=n.parent}return!0}return!1}function s(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function l(){return!1}function h(){return c.touchEventsSupported}function u(t){return"mousewheel"===t&&c.browser.firefox?"DOMMouseScroll":t}var c=i(15),d=i(33),f=i(1),p=i(155),g=i(139),m=i(21),v=["click","dblclick","mousewheel","mouseout"];!l()&&v.push("mouseup","mousedown","mousemove");var y=["touchstart","touchend","touchmove"],x=["pointerdown","pointerup","pointermove"],_=300,w=d.addEventListener,b=d.removeEventListener,M=d.normalizeEvent,S={mousemove:function(t){t=M(this.root,t);var e=t.zrX,i=t.zrY,n=this.findHover(e,i,null),a=this._hovered;this._hovered=n,this.root.style.cursor=n?n.cursor:this._defaultCursorStyle,a&&n!==a&&a.__zr&&this._dispatchProxy(a,"mouseout",t),this._dispatchProxy(n,"mousemove",t),n&&n!==a&&this._dispatchProxy(n,"mouseover",t)},mouseout:function(t){t=M(this.root,t);var e=t.toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e===this.root)return;e=e.parentNode}this._dispatchProxy(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},touchstart:function(t){t=M(this.root,t),this._lastTouchMoment=new Date,a(this,t,"start"),S.mousemove.call(this,t),S.mousedown.call(this,t),s(this)},touchmove:function(t){t=M(this.root,t),a(this,t,"change"),S.mousemove.call(this,t),s(this)},touchend:function(t){t=M(this.root,t),a(this,t,"end"),S.mouseup.call(this,t),+new Date-this._lastTouchMoment<_&&S.click.call(this,t),s(this)}};f.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){S[t]=function(e){e=M(this.root,e);var i=this.findHover(e.zrX,e.zrY,null);this._dispatchProxy(i,t,e)}});var A=function(t,e,i){function n(e,i){f.each(e,function(e){w(t,u(e),i._handlers[e])},i)}m.call(this),this.root=t,this.storage=e,this.painter=i,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new g,this._handlers=[],this._touching=!1,this._touchTimer,o(this),l()?n(x,this):h()&&n(y,this),n(v,this),p.call(this)};A.prototype={constructor:A,resize:function(t){this._hovered=null},dispatch:function(t,e){var i=this._handlers[t];i&&i.call(this,e)},dispose:function(){for(var t=this.root,e=v.concat(y),i=0;i<e.length;i++){var n=e[i];b(t,u(n),this._handlers[n])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(t){this._defaultCursorStyle=t},_dispatchProxy:function(t,e,i){for(var a="on"+e,o=n(e,t,i),r=t;r&&(r[a]&&(o.cancelBubble=r[a].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[a]&&t[a].call(t,o),t.trigger&&t.trigger(e,o)}))},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),a=n.length-1;a>=0;a--)if(!n[a].silent&&n[a]!==i&&!n[a].ignore&&r(n[a],t,e))return n[a]}},f.mixin(A,m),f.mixin(A,p),t.exports=A},function(t,e,i){function n(){return!1}function a(t,e,i,n){var a=document.createElement(e),o=i.getWidth(),r=i.getHeight(),s=a.style;return s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=r+"px",a.width=o*n,a.height=r*n,a.setAttribute("data-zr-dom-id",t),a}var o=i(1),r=i(42),s=function(t,e,i){var s;i=i||r.devicePixelRatio,"string"==typeof t?s=a(t,"canvas",e,i):o.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=n,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var t=this.dpr;1!=t&&this.ctx.scale(t,t)},createBackBuffer:function(){var t=this.dpr;this.domBack=a("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,a=n.style,o=this.domBack;a.width=t+"px",a.height=e+"px",n.width=t*i,n.height=e*i,1!=i&&this.ctx.scale(i,i),o&&(o.width=t*i,o.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,a=e.height,o=this.clearColor,r=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/l,a/l)),i.clearRect(0,0,n/l,a/l),o&&(i.save(),i.fillStyle=this.clearColor,i.fillRect(0,0,n/l,a/l),i.restore()),r){var h=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(h,0,0,n/l,a/l),i.restore()}}},t.exports=s},function(t,e,i){"use strict";function n(t){return parseInt(t,10)}function a(t){return t?t.isBuildin?!0:"function"==typeof t.resize&&"function"==typeof t.refresh:!1}function o(t){t.__unusedCount++}function r(t){t.__dirty=!1,1==t.__unusedCount&&t.clear()}function s(t,e,i){return g.copy(t.getBoundingRect()),t.transform&&g.applyTransform(t.transform),m.width=e,m.height=i,!g.intersect(m)}function l(t,e){if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function h(t,e){for(var i=0;i<t.length;i++){var n,a=t[i];a.transform&&(n=a.transform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]));var o=a.path;o.beginPath(e),a.buildPath(o,a.shape),e.clip(),a.transform&&(n=a.invTransform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]))}}var u=i(42),c=i(1),d=i(45),f=i(8),p=i(128),g=new f(0,0,0,0),m=new f(0,0,0,0),v=function(t,e,i){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();i=i||{},this.dpr=i.devicePixelRatio||u.devicePixelRatio,this._singleCanvas=n,this.root=t;var a=t.style;if(a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e,n){var o=t.width,r=t.height;this._width=o,this._height=r;var s=new p(t,this,1);s.initContext(),this._layers={0:s},this._zlevelList=[0]}else{var o=this._getWidth(),r=this._getHeight();this._width=o,this._height=r;var l=document.createElement("div");this._domRoot=l;var h=l.style;h.position="relative",h.overflow="hidden",h.width=this._width+"px",h.height=this._height+"px",t.appendChild(l),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};v.prototype={constructor:v,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var a=i[n],o=this._layers[a];!o.isBuildin&&o.refresh&&o.refresh()}return this},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t);var i,n,a,u=this._width,c=this._height;this.eachBuildinLayer(o);for(var f=null,p=0,g=t.length;g>p;p++){var m=t[p],v=this._singleCanvas?0:m.zlevel;if(n!==v&&(n=v,i=this.getLayer(n),i.isBuildin||d("ZLevel "+n+" has been used by unkown layer "+i.id),a=i.ctx,i.__unusedCount=0,(i.__dirty||e)&&i.clear()),(i.__dirty||e)&&!m.invisible&&0!==m.style.opacity&&m.scale[0]&&m.scale[1]&&(!m.culling||!s(m,u,c))){var y=m.__clipPaths;l(y,f)&&(f&&a.restore(),y&&(a.save(),h(y,a)),f=y),m.beforeBrush&&m.beforeBrush(a),m.brush(a,!1),m.afterBrush&&m.afterBrush(a)}m.__dirty=!1}f&&a.restore(),this.eachBuildinLayer(r)},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new p("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&c.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,r=null,s=-1,l=this._domRoot;if(i[t])return void d("ZLevel "+t+" has been used already");if(!a(e))return void d("Layer of zlevel "+t+" is not valid");if(o>0&&t>n[0]){for(s=0;o-1>s&&!(n[s]<t&&n[s+1]>t);s++);r=i[n[s]]}if(n.splice(s+1,0,t),r){var h=r.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);i[t]=e},eachLayer:function(t,e){var i,n,a=this._zlevelList;for(n=0;n<a.length;n++)i=a[n],t.call(e,this._layers[i],i)},eachBuildinLayer:function(t,e){var i,n,a,o=this._zlevelList;for(a=0;a<o.length;a++)n=o[a],i=this._layers[n],i.isBuildin&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,a,o=this._zlevelList;for(a=0;a<o.length;a++)n=o[a],i=this._layers[n],i.isBuildin||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,a=t.length;a>n;n++){var o=t[n],r=this._singleCanvas?0:o.zlevel,s=e[r];if(s){if(s.elCount++,s.__dirty)continue;s.__dirty=o.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?c.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&c.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(c.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;if(i.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var n in this._layers)this._layers[n].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext();var i=e.ctx;e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),a=0;a<n.length;a++){var o=n[a];o.invisible||(o.beforeBrush&&o.beforeBrush(i),o.brush(i,!1),o.afterBrush&&o.afterBrush(i))}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||n(e.width)||n(t.style.width))-(n(e.paddingLeft)||0)-(n(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||n(e.height)||n(t.style.height))-(n(e.paddingTop)||0)-(n(e.paddingBottom)||0)|0},_pathToImage:function(t,e,n,a,o){var r=document.createElement("canvas"),s=r.getContext("2d");r.width=n*o,r.height=a*o,s.clearRect(0,0,n*o,a*o);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var h=i(46),u=new h({id:t,style:{x:0,y:0,image:r}});return null!=l.position&&(u.position=e.position=l.position),null!=l.rotation&&(u.rotation=e.rotation=l.rotation),null!=l.scale&&(u.scale=e.scale=l.scale),u},_createPathToImage:function(){var t=this;return function(e,i,n,a){return t._pathToImage(e,i,n,a,t.dpr)}}},t.exports=v},function(t,e,i){"use strict";function n(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2===e.z2?t.__renderidx-e.__renderidx:t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var a=i(1),o=i(26),r=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};r.prototype={constructor:r,getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,a=0,o=e.length;o>a;a++)this._updateAndAddDisplayable(e[a],null,t);i.length=this._displayListLen;for(var a=0,o=i.length;o>a;a++)i[a].__renderidx=a;i.sort(n)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.clipPath;if(n&&(n.parent=t,n.updateTransform(),e?(e=e.slice(),e.push(n)):e=[n]),"group"==t.type){for(var a=t._children,o=0;o<a.length;o++){var r=a[o];r.__dirty=t.__dirty||r.__dirty,this._updateAndAddDisplayable(r,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof o&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof o&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;n>e;e++)this.delRoot(t[e]);else{var r;r="string"==typeof t?this._elements[t]:t;var s=a.indexOf(this._roots,r);s>=0&&(this.delFromMap(r.id),this._roots.splice(s,1),r instanceof o&&r.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof o&&(t.__storage=this),t.dirty(),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,i=e[t];return i&&(delete e[t],i instanceof o&&(i.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},t.exports=r},function(t,e,i){"use strict";var n=i(1),a=i(33).Dispatcher,o="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},r=i(56),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,a.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,a=[],o=[],r=0;n>r;r++){var s=i[r],l=s.step(t);l&&(a.push(l),o.push(s))}for(var r=0;n>r;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=a.length;for(var r=0;n>r;r++)o[r].fire(a[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(o(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),o(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new r(t,e.loop,e.getter,e.setter);return i}},n.mixin(s,a),t.exports=s},function(t,e,i){function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var a=i(133);n.prototype={constructor:n,step:function(t){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var i=this.easing,n="string"==typeof i?a[i]:i,o="function"==typeof n?n(e):e;return this.fire("frame",o),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;this._startTime=(new Date).getTime()-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=n},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};t.exports=i},function(t,e,i){var n=i(57).normalizeRadian,a=2*Math.PI;t.exports={containStroke:function(t,e,i,o,r,s,l,h,u){if(0===l)return!1;var c=l;h-=t,u-=e;var d=Math.sqrt(h*h+u*u);if(d-c>i||i>d+c)return!1;if(Math.abs(o-r)%a<1e-4)return!0;if(s){var f=o;o=n(r),r=n(f)}else o=n(o),r=n(r);o>r&&(r+=a);var p=Math.atan2(u,h);return 0>p&&(p+=a),p>=o&&r>=p||p+a>=o&&r>=p+a}}},function(t,e,i){var n=i(18);t.exports={containStroke:function(t,e,i,a,o,r,s,l,h,u,c){if(0===h)return!1;var d=h;if(c>e+d&&c>a+d&&c>r+d&&c>l+d||e-d>c&&a-d>c&&r-d>c&&l-d>c||u>t+d&&u>i+d&&u>o+d&&u>s+d||t-d>u&&i-d>u&&o-d>u&&s-d>u)return!1;var f=n.cubicProjectPoint(t,e,i,a,o,r,s,l,u,c,null);return d/2>=f}}},function(t,e){t.exports={containStroke:function(t,e,i,n,a,o,r){if(0===a)return!1;var s=a,l=0,h=t;if(r>e+s&&r>n+s||e-s>r&&n-s>r||o>t+s&&o>i+s||t-s>o&&i-s>o)return!1;if(t===i)return Math.abs(o-t)<=s/2;l=(e-n)/(t-i),h=(t*n-i*e)/(t-i);var u=l*o-r+h,c=u*u/(l*l+1);return s/2*s/2>=c}}},function(t,e,i){"use strict";function n(t,e){return Math.abs(t-e)<x}function a(){var t=w[0];w[0]=w[1],w[1]=t}function o(t,e,i,n,o,r,s,l,h,u){if(u>e&&u>n&&u>r&&u>l||e>u&&n>u&&r>u&&l>u)return 0;var c=g.cubicRootAt(e,n,r,l,u,_);if(0===c)return 0;for(var d,f,p=0,m=-1,v=0;c>v;v++){var y=_[v],x=g.cubicAt(t,i,o,s,y);h>x||(0>m&&(m=g.cubicExtrema(e,n,r,l,w),w[1]<w[0]&&m>1&&a(),d=g.cubicAt(e,n,r,l,w[0]),m>1&&(f=g.cubicAt(e,n,r,l,w[1]))),p+=2==m?y<w[0]?e>d?1:-1:y<w[1]?d>f?1:-1:f>l?1:-1:y<w[0]?e>d?1:-1:d>l?1:-1)}return p}function r(t,e,i,n,a,o,r,s){if(s>e&&s>n&&s>o||e>s&&n>s&&o>s)return 0;var l=g.quadraticRootAt(e,n,o,s,_);if(0===l)return 0;var h=g.quadraticExtremum(e,n,o);if(h>=0&&1>=h){for(var u=0,c=g.quadraticAt(e,n,o,h),d=0;l>d;d++){var f=g.quadraticAt(t,i,a,_[d]);r>f||(u+=_[d]<h?e>c?1:-1:c>o?1:-1)}return u}var f=g.quadraticAt(t,i,a,_[0]);return r>f?0:e>o?1:-1}function s(t,e,i,n,a,o,r,s){if(s-=e,s>i||-i>s)return 0;var l=Math.sqrt(i*i-s*s);_[0]=-l,_[1]=l;var h=Math.abs(n-a);if(1e-4>h)return 0;if(1e-4>h%y){n=0,a=y;var u=o?1:-1;return r>=_[0]+t&&r<=_[1]+t?u:0}if(o){var l=n;n=p(a),a=p(l)}else n=p(n),a=p(a);n>a&&(a+=y);for(var c=0,d=0;2>d;d++){var f=_[d];if(f+t>r){var g=Math.atan2(s,f),u=o?1:-1;0>g&&(g=y+g),(g>=n&&a>=g||g+y>=n&&a>=g+y)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),c+=u)}}return c}function l(t,e,i,a,l){for(var u=0,p=0,g=0,y=0,x=0,_=0;_<t.length;){var w=t[_++];if(w===h.M&&_>1&&(i||(u+=m(p,g,y,x,a,l)),0!==u))return!0;switch(1==_&&(p=t[_],g=t[_+1],y=p,x=g),w){case h.M:y=t[_++],x=t[_++],p=y,g=x;break;case h.L:if(i){if(v(p,g,t[_],t[_+1],e,a,l))return!0}else u+=m(p,g,t[_],t[_+1],a,l)||0;p=t[_++],g=t[_++];break;case h.C:if(i){if(c.containStroke(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],e,a,l))return!0}else u+=o(p,g,t[_++],t[_++],t[_++],t[_++],t[_],t[_+1],a,l)||0;p=t[_++],g=t[_++];break;case h.Q:if(i){if(d.containStroke(p,g,t[_++],t[_++],t[_],t[_+1],e,a,l))return!0}else u+=r(p,g,t[_++],t[_++],t[_],t[_+1],a,l)||0;p=t[_++],g=t[_++];break;case h.A:var b=t[_++],M=t[_++],S=t[_++],A=t[_++],I=t[_++],T=t[_++],C=(t[_++],1-t[_++]),L=Math.cos(I)*S+b,D=Math.sin(I)*A+M;_>1?u+=m(p,g,L,D,a,l):(y=L,x=D);var P=(a-b)*A/S+b;if(i){if(f.containStroke(b,M,A,I,I+T,C,e,P,l))return!0}else u+=s(b,M,A,I,I+T,C,P,l);p=Math.cos(I+T)*S+b,g=Math.sin(I+T)*A+M;break;case h.R:y=p=t[_++],x=g=t[_++];var k=t[_++],z=t[_++],L=y+k,D=x+z;if(i){if(v(y,x,L,x,e,a,l)||v(L,x,L,D,e,a,l)||v(L,D,y,D,e,a,l)||v(y,D,L,D,e,a,l))return!0}else u+=m(L,x,L,D,a,l),u+=m(y,D,y,x,a,l);break;case h.Z:if(i){if(v(p,g,y,x,e,a,l))return!0}else if(u+=m(p,g,y,x,a,l),0!==u)return!0;p=y,g=x}}return i||n(g,x)||(u+=m(p,g,y,x,a,l)||0),0!==u}var h=i(27).CMD,u=i(136),c=i(135),d=i(138),f=i(134),p=i(57).normalizeRadian,g=i(18),m=i(75),v=u.containStroke,y=2*Math.PI,x=1e-4,_=[-1,-1,-1],w=[-1,-1];t.exports={contain:function(t,e,i){return l(t,0,!1,e,i)},containStroke:function(t,e,i,n){return l(t,e,!0,i,n)}}},function(t,e,i){var n=i(18);t.exports={containStroke:function(t,e,i,a,o,r,s,l,h){if(0===s)return!1;var u=s;if(h>e+u&&h>a+u&&h>r+u||e-u>h&&a-u>h&&r-u>h||l>t+u&&l>i+u&&l>o+u||t-u>l&&i-u>l&&o-u>l)return!1;var c=n.quadraticProjectPoint(t,e,i,a,o,r,l,h,null);return u/2>=c}}},function(t,e){"use strict";function i(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function n(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var a=function(){this._track=[]};a.prototype={constructor:a,recognize:function(t,e){return this._doTrack(t,e),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},a=0,o=i.length;o>a;a++){var r=i[a];n.points.push([r.clientX,r.clientY]),n.touches.push(r)}this._track.push(n)}},_recognize:function(t){for(var e in o)if(o.hasOwnProperty(e)){var i=o[e](this._track,t);if(i)return i}}};var o={pinch:function(t,e){var a=t.length;if(a){var o=(t[a-1]||{}).points,r=(t[a-2]||{}).points||o;if(r&&r.length>1&&o&&o.length>1){var s=i(o)/i(r);!isFinite(s)&&(s=1),e.pinchScale=s;var l=n(o);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=a},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new a(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var a=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new i,this._map={},this._maxSize=t||10},r=o.prototype;r.put=function(t,e){var i=this._list,n=this._map;if(null==n[t]){var a=i.len();if(a>=this._maxSize&&a>0){var o=i.head;i.remove(o),delete n[o.key]}var r=i.insert(e);r.key=t,n[t]=r}},r.get=function(t){var e=this._map[t],i=this._list;return null!=e?(e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value):void 0},r.clear=function(){this._list.clear(),this._map={}},t.exports=o},function(t,e,i){"use strict";var n=i(1),a=i(16),o=function(t,e,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,a.call(this,n)};o.prototype={constructor:o,type:"radial",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=i.width,a=i.height,o=Math.min(n,a),r=this.x*n+i.x,s=this.y*a+i.y,l=this.r*o,h=e.createRadialGradient(r,s,0,r,s,l),u=this.colorStops,c=0;c<u.length;c++)h.addColorStop(u[c].offset,u[c].color);this.canvasGradient=h}},n.inherits(o,a),t.exports=o},function(t,e){var i=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],n=function(t){this.extendFrom(t)};n.prototype={constructor:n,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,e){for(var n=this.fill,a=this.stroke,o=0;o<i.length;o++){var r=i[o];null!=this[r]&&(t[r]=this[r])}if(null!=a){var s=this.lineWidth;t.lineWidth=s/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}null!=n&&(t.fillStyle=n.canvasGradient?n.canvasGradient:n),null!=a&&(t.strokeStyle=a.canvasGradient?a.canvasGradient:a),null!=this.opacity&&(t.globalAlpha=this.opacity)},extendFrom:function(t,e){if(t){var i=this;for(var n in t)!t.hasOwnProperty(n)||!e&&i.hasOwnProperty(n)||(i[n]=t[n])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t}};var a,o,r=n.prototype;for(o=0;o<i.length;o++)a=i[o],a in r||(r[a]=null);t.exports=n},function(t,e,i){var n=i(5),a=n.min,o=n.max,r=n.scale,s=n.distance,l=n.add;t.exports=function(t,e,i,h){var u,c,d,f,p=[],g=[],m=[],v=[];if(h){d=[1/0,1/0],f=[-(1/0),-(1/0)];for(var y=0,x=t.length;x>y;y++)a(d,d,t[y]),o(f,f,t[y]);a(d,d,h[0]),o(f,f,h[1])}for(var y=0,x=t.length;x>y;y++){var _=t[y];if(i)u=t[y?y-1:x-1],c=t[(y+1)%x];else{if(0===y||y===x-1){p.push(n.clone(t[y]));continue}u=t[y-1],c=t[y+1]}n.sub(g,c,u),r(g,g,e);var w=s(_,u),b=s(_,c),M=w+b;0!==M&&(w/=M,b/=M),r(m,g,-w),r(v,g,b);var S=l([],_,m),A=l([],_,v);h&&(o(S,S,d),a(S,S,f),o(A,A,d),a(A,A,f)),p.push(S),p.push(A)}return i&&p.push(p.shift()),p}},function(t,e,i){function n(t,e,i,n,a,o,r){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*r+(-3*(e-i)-2*s-l)*o+s*a+e}var a=i(5);t.exports=function(t,e){for(var i=t.length,o=[],r=0,s=1;i>s;s++)r+=a.distance(t[s-1],t[s]);var l=r/2;l=i>l?i:l;for(var s=0;l>s;s++){var h,u,c,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),p=d-f,g=t[f%i];e?(h=t[(f-1+i)%i],u=t[(f+1)%i],c=t[(f+2)%i]):(h=t[0===f?f:f-1],u=t[f>i-2?i-1:f+1],c=t[f>i-3?i-1:f+2]);var m=p*p,v=p*m;o.push([n(h[0],g[0],u[0],c[0],p,m,v),n(h[1],g[1],u[1],c[1],p,m,v)])}return o}},function(t,e,i){t.exports=i(6).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r,0),o=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(o),h=Math.sin(o);t.moveTo(l*a+i,h*a+n),t.arc(i,n,a,o,r,!s)}})},function(t,e,i){"use strict";var n=i(18),a=n.quadraticSubdivide,o=n.cubicSubdivide,r=n.quadraticAt,s=n.cubicAt,l=[];t.exports=i(6).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,r=e.x2,s=e.y2,h=e.cpx1,u=e.cpy1,c=e.cpx2,d=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==c||null==d?(1>f&&(a(i,h,r,f,l),h=l[1],r=l[2],a(n,u,s,f,l),u=l[1],s=l[2]),t.quadraticCurveTo(h,u,r,s)):(1>f&&(o(i,h,c,r,f,l),h=l[1],c=l[2],r=l[3],o(n,u,d,s,f,l),u=l[1],d=l[2],s=l[3]),t.bezierCurveTo(h,u,c,d,r,s)))},pointAt:function(t){var e=this.shape,i=e.cpx2,n=e.cpy2;return null===i||null===n?[r(e.x1,e.cpx1,e.x2,t),r(e.y1,e.cpy1,e.y2,t)]:[s(e.x1,e.cpx1,e.cpx1,e.x2,t),s(e.y1,e.cpy1,e.cpy1,e.y2,t)]}})},function(t,e,i){"use strict";t.exports=i(6).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,i){t.exports=i(6).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,o=e.y2,r=e.percent;0!==r&&(t.moveTo(i,n),1>r&&(a=i*(1-r)+a*r,o=n*(1-r)+o*r),t.lineTo(a,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,i){var n=i(59);t.exports=i(6).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}})},function(t,e,i){var n=i(59);t.exports=i(6).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}})},function(t,e,i){var n=i(60);t.exports=i(6).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,a=e.y,o=e.width,r=e.height;e.r?n.buildPath(t,e):t.rect(i,a,o,r),t.closePath()}})},function(t,e,i){t.exports=i(6).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,a,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,a,!0)}})},function(t,e,i){t.exports=i(6).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),o=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(r),u=Math.sin(r);t.moveTo(h*a+i,u*a+n),t.lineTo(h*o+i,u*o+n),t.arc(i,n,o,r,s,!l),t.lineTo(Math.cos(s)*a+i,Math.sin(s)*a+n),0!==a&&t.arc(i,n,a,s,r,l),t.closePath()}})},function(t,e,i){"use strict";var n=i(56),a=i(1),o=a.isString,r=a.isFunction,s=a.isObject,l=i(45),h=function(){this.animators=[]};h.prototype={constructor:h,animate:function(t,e){var i,o=!1,r=this,s=this.__zr;if(t){var h=t.split("."),u=r;o="shape"===h[0];for(var c=0,d=h.length;d>c;c++)u&&(u=u[h[c]]);u&&(i=u)}else i=r;if(!i)return void l('Property "'+t+'" is not existed in element '+r.id);var f=r.animators,p=new n(i,e);return p.during(function(t){r.dirty(o)}).done(function(){f.splice(a.indexOf(f,p),1)}),f.push(p),s&&s.animation.addAnimator(p),p},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;i>n;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,a){function s(){h--,h||a&&a()}o(i)?(a=n,n=i,i=0):r(n)?(a=n,n="linear",i=0):r(i)?(a=i,i=0):r(e)?(a=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,a);var l=this.animators.slice(),h=l.length;h||a&&a();for(var u=0;u<l.length;u++)l[u].done(s).start(n)},_animateToShallow:function(t,e,i,n,o){var r={},l=0;for(var h in i)if(null!=e[h])s(i[h])&&!a.isArrayLike(i[h])?this._animateToShallow(t?t+"."+h:h,e[h],i[h],n,o):(r[h]=i[h],l++);else if(null!=i[h])if(t){var u={};u[t]={},u[t][h]=i[h],this.attr(u)}else this.attr(h,i[h]);return l>0&&this.animate(t,!1).when(null==n?500:n,r).delay(o||0),this}},t.exports=h},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this._dispatchProxy(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,a=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(a,o,t),this._dispatchProxy(e,"drag",t.event);var r=this.findHover(i,n,e),s=this._dropTarget;this._dropTarget=r,e!==r&&(s&&r!==s&&this._dispatchProxy(s,"dragleave",t.event),r&&r!==s&&this._dispatchProxy(r,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this._dispatchProxy(e,"dragend",t.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=i},function(t,e,i){function n(t,e,i,n,a,o,r,s,l,h,u){var g=l*(p/180),y=f(g)*(t-i)/2+d(g)*(e-n)/2,x=-1*d(g)*(t-i)/2+f(g)*(e-n)/2,_=y*y/(r*r)+x*x/(s*s);_>1&&(r*=c(_),s*=c(_));var w=(a===o?-1:1)*c((r*r*(s*s)-r*r*(x*x)-s*s*(y*y))/(r*r*(x*x)+s*s*(y*y)))||0,b=w*r*x/s,M=w*-s*y/r,S=(t+i)/2+f(g)*b-d(g)*M,A=(e+n)/2+d(g)*b+f(g)*M,I=v([1,0],[(y-b)/r,(x-M)/s]),T=[(y-b)/r,(x-M)/s],C=[(-1*y-b)/r,(-1*x-M)/s],L=v(T,C);m(T,C)<=-1&&(L=p),m(T,C)>=1&&(L=0),0===o&&L>0&&(L-=2*p),1===o&&0>L&&(L+=2*p),u.addData(h,S,A,r,s,I,L,g,o)}function a(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<u.length;e++)i=i.replace(new RegExp(u[e],"g"),"|"+u[e]);var a,o=i.split("|"),r=0,l=0,h=new s,c=s.CMD;for(e=1;e<o.length;e++){var d,f=o[e],p=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,x,_,w,b,M,S,A=r,I=l;switch(p){case"l":r+=m[g++],l+=m[g++],d=c.L,h.addData(d,r,l);break;case"L":r=m[g++],l=m[g++],d=c.L,h.addData(d,r,l);break;case"m":r+=m[g++],l+=m[g++],d=c.M,h.addData(d,r,l),p="l";break;case"M":r=m[g++],l=m[g++],d=c.M,h.addData(d,r,l),p="L";break;case"h":r+=m[g++],d=c.L,h.addData(d,r,l);break;case"H":r=m[g++],d=c.L,h.addData(d,r,l);break;case"v":l+=m[g++],d=c.L,h.addData(d,r,l);break;case"V":l=m[g++],d=c.L,h.addData(d,r,l);break;case"C":d=c.C,h.addData(d,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),r=m[g-2],l=m[g-1];break;case"c":d=c.C,h.addData(d,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l,m[g++]+r,m[g++]+l),r+=m[g-2],l+=m[g-1];break;case"S":y=r,x=l;var T=h.len(),C=h.data;a===c.C&&(y+=r-C[T-4],x+=l-C[T-3]),d=c.C,A=m[g++],I=m[g++],r=m[g++],l=m[g++],h.addData(d,y,x,A,I,r,l);break;case"s":y=r,x=l;var T=h.len(),C=h.data;a===c.C&&(y+=r-C[T-4],x+=l-C[T-3]),d=c.C,A=r+m[g++],I=l+m[g++],r+=m[g++],l+=m[g++],h.addData(d,y,x,A,I,r,l);break;case"Q":A=m[g++],I=m[g++],r=m[g++],l=m[g++],d=c.Q,h.addData(d,A,I,r,l);break;case"q":A=m[g++]+r,I=m[g++]+l,r+=m[g++],l+=m[g++],d=c.Q,h.addData(d,A,I,r,l);break;case"T":y=r,x=l;var T=h.len(),C=h.data;a===c.Q&&(y+=r-C[T-4],x+=l-C[T-3]),r=m[g++],l=m[g++],d=c.Q,h.addData(d,y,x,r,l);break;case"t":y=r,x=l;var T=h.len(),C=h.data;a===c.Q&&(y+=r-C[T-4],x+=l-C[T-3]),r+=m[g++],l+=m[g++],d=c.Q,h.addData(d,y,x,r,l);break;case"A":_=m[g++],w=m[g++],b=m[g++],M=m[g++],S=m[g++],A=r,I=l,r=m[g++],l=m[g++],d=c.A,n(A,I,r,l,M,S,_,w,b,d,h);break;case"a":_=m[g++],w=m[g++],b=m[g++],M=m[g++],S=m[g++],A=r,I=l,r+=m[g++],l+=m[g++],d=c.A,n(A,I,r,l,M,S,_,w,b,d,h)}}"z"!==p&&"Z"!==p||(d=c.Z,h.addData(d)),a=d}return h.toStatic(),h}function o(t,e){var i,n=a(t);return e=e||{},e.buildPath=function(t){t.setData(n.data),i&&l(t,i);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){i||(i=h.create()),h.mul(i,t,i)},e}var r=i(6),s=i(27),l=i(157),h=i(19),u=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,f=Math.cos,p=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},v=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};t.exports={createFromString:function(t,e){return new r(o(t,e))},extendFromString:function(t,e){return r.extend(o(t,e))},mergePath:function(t,e){var i,n,a=[],o=t.length;for(n=0;o>n;n++)i=t[n],i.__dirty&&i.buildPath(i.path,i.shape),a.push(i.path);var s=new r(e);return s.buildPath=function(t){t.appendPath(a);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,i){function n(t,e){var i,n,o,u,c,d,f=t.data,p=a.M,g=a.C,m=a.L,v=a.R,y=a.A,x=a.Q;for(o=0,u=0;o<f.length;){switch(i=f[o++],u=o,n=0,i){case p:n=1;break;case m:n=1;break;case g:n=3;break;case x:n=2;break;case y:var _=e[4],w=e[5],b=l(e[0]*e[0]+e[1]*e[1]),M=l(e[2]*e[2]+e[3]*e[3]),S=h(-e[1]/M,e[0]/b);f[o++]+=_,f[o++]+=w,f[o++]*=b,f[o++]*=M,f[o++]+=S,f[o++]+=S,o+=2,u=o;break;case v:d[0]=f[o++],d[1]=f[o++],r(d,d,e),f[u++]=d[0],f[u++]=d[1],d[0]+=f[o++],d[1]+=f[o++],r(d,d,e),f[u++]=d[0],f[u++]=d[1]}for(c=0;n>c;c++){var d=s[c];d[0]=f[o++],d[1]=f[o++],r(d,d,e),f[u++]=d[0],f[u++]=d[1]}}}var a=i(27).CMD,o=i(5),r=o.applyTransform,s=[[],[],[]],l=Math.sqrt,h=Math.atan2;t.exports=n},function(t,e,i){if(!i(15).canvasSupported){var n,a="urn:schemas-microsoft-com:vml",o=window,r=o.document,s=!1;try{!r.namespaces.zrvml&&r.namespaces.add("zrvml",a),n=function(t){return r.createElement("<zrvml:"+t+' class="zrvml">')}}catch(l){n=function(t){return r.createElement("<"+t+' xmlns="'+a+'" class="zrvml">')}}var h=function(){if(!s){s=!0;var t=r.styleSheets;t.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}};t.exports={doc:r,initVML:h,createNode:n}}},function(t,e,i){"use strict";function n(t){return null==t.value?t:t.value}var a=i(14),o=i(31),r=i(263),s=i(1),l={_baseAxisDim:null,getInitialData:function(t,e){var i,r,s=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),h=s.get("type"),u=l.get("type");"category"===h?(t.layout="horizontal",i=s.getCategories(),r=!0):"category"===u?(t.layout="vertical",i=l.getCategories(),r=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var c=t.data,d=this.dimensions=["base"].concat(this.valueDimensions);o(d,c);var f=new a(d,this);return f.initData(c,i?i.slice():null,function(t,e,i,a){var o=n(t);return r?"base"===e?i:o[a-1]:o[a]}),f},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),i=["base"],n={horizontal:{x:i,y:e},vertical:{x:e,y:i}};return n[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return s.each(["x","y"],function(i,n){var a=this.coordDimToDataDim(i);s.indexOf(a,t)>=0&&(e=i)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},h={init:function(){var t=this._whiskerBoxDraw=new r(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};t.exports={seriesModelMixin:l,viewMixin:h}},function(t,e,i){function n(t,e,i){v.call(this),this.type=t,this.zr=e,this.opt=y.clone(i),this.group=new x.Group,this._containerRect=null,this._track=[],this._dragging,this._cover,this._disabled=!0,this._handlers={mousedown:_(s,this),mousemove:_(l,this),mouseup:_(h,this)},w(T,function(t){this.zr.on(t,this._handlers[t])},this)}function a(t){t.traverse(function(t){t.z=A})}function o(t,e){var i=this.group.transformCoordToLocal(t,e);return!this._containerRect||this._containerRect.contain(i[0],i[1])}function r(t){var e=t.event;e.preventDefault&&e.preventDefault()}function s(t){if(!(this._disabled||t.target&&t.target.draggable)){r(t);var e=t.offsetX,i=t.offsetY;o.call(this,e,i)&&(this._dragging=!0,this._track=[[e,i]])}}function l(t){this._dragging&&!this._disabled&&(r(t),u.call(this,t))}function h(t){this._dragging&&!this._disabled&&(r(t),u.call(this,t,!0),this._dragging=!1,this._track=[])}function u(t,e){var i=t.offsetX,n=t.offsetY;if(o.call(this,i,n)){this._track.push([i,n]);var a=c.call(this)?C[this.type].getRanges.call(this):[];d.call(this,a),this.trigger("selected",y.clone(a)),e&&this.trigger("selectEnd",y.clone(a))}}function c(){var t=this._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],n=e[0]-i[0],a=e[1]-i[1],o=S(n*n+a*a,.5);return o>I}function d(t){var e=C[this.type];t&&t.length?(this._cover||(this._cover=e.create.call(this),this.group.add(this._cover)),e.update.call(this,t)):(this.group.remove(this._cover),this._cover=null),a(this.group)}function f(){var t=this.group,e=t.parent;e&&e.remove(t)}function p(){var t=this.opt;return new x.Rect({style:{stroke:t.stroke,fill:t.fill,lineWidth:t.lineWidth,opacity:t.opacity}})}function g(){return y.map(this._track,function(t){return this.group.transformCoordToLocal(t[0],t[1])},this)}function m(){var t=g.call(this),e=t.length-1;return 0>e&&(e=0),[t[0],t[e]]}var v=i(21),y=i(1),x=i(3),_=y.bind,w=y.each,b=Math.min,M=Math.max,S=Math.pow,A=1e4,I=2,T=["mousedown","mousemove","mouseup"];n.prototype={constructor:n,enable:function(t,e){this._disabled=!1,f.call(this),this._containerRect=e!==!1?e||t.getBoundingRect():null,t.add(this.group)},update:function(t){d.call(this,t&&y.clone(t))},disable:function(){this._disabled=!0,f.call(this)},dispose:function(){this.disable(),w(T,function(t){this.zr.off(t,this._handlers[t])},this)}},y.mixin(n,v);var C={line:{create:p,getRanges:function(){var t=m.call(this),e=b(t[0][0],t[1][0]),i=M(t[0][0],t[1][0]);return[[e,i]]},update:function(t){var e=t[0],i=this.opt.width;this._cover.setShape({x:e[0],y:-i/2,width:e[1]-e[0],height:i})}},rect:{create:p,getRanges:function(){var t=m.call(this),e=[b(t[1][0],t[0][0]),b(t[1][1],t[0][1])],i=[M(t[1][0],t[0][0]),M(t[1][1],t[0][1])];return[[[e[0],i[0]],[e[1],i[1]]]]},update:function(t){var e=t[0];this._cover.setShape({x:e[0][0],y:e[1][0],width:e[0][1]-e[0][0],height:e[1][1]-e[1][0]})}}};t.exports=n},function(t,e,i){function n(){this.group=new a.Group,this._symbolEl=new s({silent:!0})}var a=i(3),o=i(24),r=i(1),s=a.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var i=e.points,n=e.sizes,a=this.symbolProxy,o=a.shape,r=0;r<i.length;r++){var s=i[r],l=n[r];l[0]<4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(o.x=s[0]-l[0]/2,o.y=s[1]-l[1]/2,o.width=l[0],o.height=l[1],a.buildPath(t,o))}}}),l=n.prototype;l.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,"symbolSize");return r.isArray(i)||(i=[i,i]),i})}),e.symbolProxy=o.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.setStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));var n=t.getVisual("color");n&&e.setColor(n),this.group.add(this._symbolEl)},l.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},l.remove=function(){this.group.removeAll()},t.exports=n},function(t,e,i){var n=i(3),a=n.Line.prototype,o=n.BezierCurve.prototype;t.exports=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(null==e.cpx1||null==e.cpy1?a:o).buildPath(t,e)},pointAt:function(t){var e=this.shape;return null==e.cpx1||null==e.cpy1?a.pointAt.call(this,t):o.pointAt.call(this,t)}})},function(t,e,i){var n=i(1),a=i(2);i(164),i(165),a.registerVisualCoding("chart",n.curry(i(44),"scatter","circle",null)),a.registerLayout(n.curry(i(53),"scatter")),i(34)},function(t,e,i){"use strict";var n=i(36),a=i(13);t.exports=a.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,i){var n=i(38),a=i(161);i(2).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new n,this._largeSymbolDraw=new a},render:function(t,e,i){var n=t.getData(),a=this._largeSymbolDraw,o=this._normalSymbolDraw,r=this.group,s=t.get("large")&&n.count()>t.get("largeThreshold")?a:o;this._symbolDraw=s,s.updateData(n),r.add(s.group),r.remove(s===a?o.group:a.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)}})},function(t,e,i){i(101),i(39),i(40),i(172),i(173),i(168),i(169),i(99),i(98)},function(t,e,i){function n(t,e){var i=[1/0,-(1/0)];return h(e,function(e){var n=e.getData();n&&h(e.coordDimToDataDim(t),function(t){var e=n.getDataExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})},this),i}function a(t,e,i){var n=i.getAxisModel(),a=n.axis.scale,r=[0,100],s=[t.start,t.end],c=[];return e=e.slice(),o(e,n,a),h(["startValue","endValue"],function(e){c.push(null!=t[e]?a.parse(t[e]):null)}),h([0,1],function(t){var i=c[t],n=s[t];null!=n||null==i?(null==n&&(n=r[t]),i=a.parse(l.linearMap(n,r,e,!0))):n=l.linearMap(i,e,r,!0),c[t]=l.round(i),s[t]=l.round(n)}),{valueWindow:u(c),percentWindow:u(s)}}function o(t,e,i){return h(["min","max"],function(n,a){var o=e.get(n,!0);null!=o&&(o+"").toLowerCase()!=="data"+n&&(t[a]=i.parse(o))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function r(t,e){var i=t.getAxisModel(),n=t._percentWindow,a=t._valueWindow;if(n){var o=e||0===n[0]&&100===n[1],r=!e&&l.getPixelPrecision(a,[0,500]),s=!(e||20>r&&r>=0),h=e||o||s;i.setRange&&i.setRange(h?null:+a[0].toFixed(r),h?null:+a[1].toFixed(r))}}var s=i(1),l=i(4),h=s.each,u=l.asc,c=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=n,this._dataZoomModel=i};c.prototype={constructor:c,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[];return this.ecModel.eachSeries(function(e){this._axisIndex===e.get(this._dimName+"AxisIndex")&&t.push(e)},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,a=this.getAxisModel(),o="x"===i||"y"===i;o?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var r;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(a.get(e)||0)&&(r=t)}),r},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=n(this._dimName,this.getTargetSeriesModels()),i=a(t.option,e,this);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,r(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,r(this,!0))},filterData:function(t){function e(t){return t>=o[0]&&t<=o[1]}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow,r=this.getOtherAxisModel();t.get("$fromToolbox")&&r&&"category"===r.get("type")&&(a="empty"),h(n,function(t){var n=t.getData();n&&h(t.coordDimToDataDim(i),function(i){"empty"===a?t.setData(n.map(i,function(t){return e(t)?t:NaN})):n.filterSelf(i,e)})})}}},t.exports=c},function(t,e,i){t.exports=i(39).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(t,e,i){function n(t,e,i,n){e=e.slice();var a=n.axisModels[0];if(a){var r=o(t,a,i),s=r.signal*(e[1]-e[0])*r.pixel/r.pixelLength;return h(s,e,[0,100],"rigid"),e}}function a(t,e,i,n,a,s){i=i.slice();var l=a.axisModels[0];if(l){var h=o(e,l,n),u=h.pixel-h.pixelStart,c=u/h.pixelLength*(i[1]-i[0])+i[0];return t=Math.max(t,0),i[0]=(i[0]-c)*t+c,i[1]=(i[1]-c)*t+c,r(i)}}function o(t,e,i){var n=e.axis,a=i.rect,o={};return"x"===n.dim?(o.pixel=t[0],o.pixelLength=a.width,o.pixelStart=a.x,o.signal=n.inverse?1:-1):(o.pixel=t[1],o.pixelLength=a.height,o.pixelStart=a.y,o.signal=n.inverse?-1:1),o}function r(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}var s=i(40),l=i(1),h=i(71),u=i(174),c=l.bind,d=s.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,n){d.superApply(this,"render",arguments),u.shouldRecordRange(n,t.id)&&(this._range=t.getPercentRange());var a=this.getTargetInfo().cartesians,o=l.map(a,function(t){return u.generateCoordId(t.model)});l.each(a,function(e){var n=e.model;u.register(i,{coordId:u.generateCoordId(n),allCoordIds:o,coordinateSystem:n.coordinateSystem,dataZoomId:t.id,throttleRage:t.get("throttle",!0),panGetRange:c(this._onPan,this,e),zoomGetRange:c(this._onZoom,this,e)})},this)},remove:function(){u.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"remove",arguments),this._range=null},dispose:function(){u.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,a){return this._range=n([i,a],this._range,e,t)},_onZoom:function(t,e,i,n,o){var r=this.dataZoomModel;return r.option.zoomLock?this._range:this._range=a(1/i,[n,o],this._range,e,t,r)}});t.exports=d},function(t,e,i){var n=i(39);t.exports=n.extend({type:"dataZoom.select"})},function(t,e,i){t.exports=i(40).extend({type:"dataZoom.select"})},function(t,e,i){var n=i(39),a=(i(11),i(1),n.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(t){a.superApply(this,"mergeOption",arguments)}}));t.exports=a},function(t,e,i){function n(t){return"x"===t?"y":"x"}var a=i(1),o=i(3),r=i(126),s=i(40),l=o.Rect,h=i(4),u=h.linearMap,c=i(11),d=i(71),f=h.asc,p=a.bind,g=Math.round,m=Math.max,v=a.each,y=7,x=1,_=30,w="horizontal",b="vertical",M=5,S=["line","bar","candlestick","scatter"],A=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._halfHandleSize,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){return A.superApply(this,"render",arguments),r.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this._halfHandleSize=g(t.get("handleSize")/2),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),void this._updateView())},remove:function(){A.superApply(this,"remove",arguments),r.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),r.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new o.Group;this._renderBackground(),this._renderDataShadow(),this._renderHandle(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===w?{right:n.width-i.x-i.width,top:n.height-_-y,width:i.width,height:_}:{right:y,top:i.y,width:_,height:i.height},r=c.getLayoutParams(t.option);a.each(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=o[t])});var s=c.getLayoutRect(r,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===b&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),a=n&&n.get("inverse"),o=this._displayables.barGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i!==w||a?i===w&&a?{scale:r?[-1,1]:[-1,-1]}:i!==b||a?{scale:r?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:r?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:r?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.position[0]=e.x-s.x,t.position[1]=e.y-s.y},_getViewExtent:function(){var t=this._halfHandleSize,e=m(this._size[0],4*t),i=[t,e-t];return i},_renderBackground:function(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new l({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")}}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),a=i.getShadowDim?i.getShadowDim():t.otherDim,r=n.getDataExtent(a),s=.3*(r[1]-r[0]);r=[r[0]-s,r[1]+s];var l=[0,e[1]],h=[0,e[0]],c=[[e[0],0],[0,0]],d=h[1]/(n.count()-1),f=0,p=Math.round(n.count()/e[0]);n.each([a],function(t,e){if(p>0&&e%p)return void(f+=d);var i=null==t||isNaN(t)||""===t?null:u(t,r,l,!0);null!=i&&c.push([f,i]),f+=d}),this._displayables.barGroup.add(new o.Polyline({shape:{points:c},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var i,o=this.ecModel;return t.eachTargetAxis(function(r,s){var l=t.getAxisProxy(r.name,s).getTargetSeriesModels();a.each(l,function(t){if(!(i||e!==!0&&a.indexOf(S,t.get("type"))<0)){var l=n(r.name),h=o.getComponent(r.axis,s).axis;i={thisAxis:h,series:t,thisDim:r.name,otherDim:l,otherAxisInverse:t.coordinateSystem.getOtherAxis(h).inverse}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,a=this._size;n.add(t.filler=new l({draggable:!0,cursor:"move",drift:p(this._onDragMove,this,"all"),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),n.add(new l(o.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:x,fill:"rgba(0,0,0,0)"}}))),v([0,1],function(t){n.add(e[t]=new l({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:p(this._onDragMove,this,t),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)}));var a=this.dataZoomModel.textStyleModel;this.group.add(i[t]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:a.getTextColor(),textFont:a.getFont()}}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[u(t[0],[0,100],e,!0),u(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this._handleEnds,n=this._getViewExtent();d(e,i,n,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=f([u(i[0],n,[0,100],!0),u(i[1],n,[0,100],!0)])},_updateView:function(){var t=this._displayables,e=this._handleEnds,i=f(e.slice()),n=this._size,a=this._halfHandleSize;v([0,1],function(i){var o=t.handles[i];o.setShape({x:e[i]-a,y:-1,width:2*a,height:n[1]+2,r:1})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){function t(t){var e=o.getTransform(i.handles[t],this.group),s=o.transformDirection(0===t?"right":"left",e),l=this._halfHandleSize+M,u=o.applyTransform([h[t]+(0===t?-l:l),this._size[1]/2],e);n[t].setStyle({x:u[0],y:u[1],textVerticalAlign:a===w?"middle":s,textAlign:a===w?s:"center",text:r[t]})}var e=this.dataZoomModel,i=this._displayables,n=i.handleLabels,a=this._orient,r=["",""];if(e.get("showDetail")){var s,l;e.eachTargetAxis(function(t,i){s||(s=e.getAxisProxy(t.name,i).getDataValueWindow(),l=this.ecModel.getComponent(t.axis,i).axis)},this),s&&(r=[this._formatLabel(s[0],l),this._formatLabel(s[1],l)])}var h=f(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter");if(a.isFunction(n))return n(t);var o=i.get("labelPrecision");return null!=o&&"auto"!==o||(o=e.getPixelPrecision()),t=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20)),a.isString(n)&&(t=n.replace("{value}",t)),t},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._applyBarTransform([e,i],!0);this._updateInterval(t,n[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var i=this._displayables.barGroup.getLocalTransform();return o.applyTransform(t,i,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var i=this.api.getWidth(),n=this.api.getHeight();t={x:.2*i,y:.2*n,width:.6*i,height:.6*n}}return t}});t.exports=A},function(t,e,i){function n(t){var e=t.getZr();return e[p]||(e[p]={})}function a(t,e,i){var n=new c(t.getZr());return n.enable(),n.on("pan",f(r,i)),n.on("zoom",f(s,i)),n}function o(t){u.each(t,function(e,i){e.count||(e.controller.off("pan").off("zoom"),delete t[i])})}function r(t,e,i){l(t,function(n){return n.panGetRange(t.controller,e,i)})}function s(t,e,i,n){l(t,function(a){return a.zoomGetRange(t.controller,e,i,n)})}function l(t,e){var i=[];u.each(t.dataZoomInfos,function(t){var n=e(t);n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function h(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var u=i(1),c=i(70),d=i(126),f=u.curry,p="\x00_ec_dataZoom_roams",g={register:function(t,e){var i=n(t),r=e.dataZoomId,s=e.coordId;u.each(i,function(t,i){var n=t.dataZoomInfos;n[r]&&u.indexOf(e.allCoordIds,s)<0&&(delete n[r],t.count--)}),o(i);var l=i[s];l||(l=i[s]={coordId:s,dataZoomInfos:{},count:0},l.controller=a(t,e,l),l.dispatchAction=u.curry(h,t)),l.controller.rect=e.coordinateSystem.getRect().clone(),d.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate"),!l.dataZoomInfos[r]&&l.count++,l.dataZoomInfos[r]=e},unregister:function(t,e){var i=n(t);u.each(i,function(t){var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),o(i)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;n>i;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\x00_"+t.id}};t.exports=g},function(t,e,i){i(101),i(39),i(40),i(170),i(171),i(99),i(98)},function(t,e,i){i(177),i(179),i(178);var n=i(2);n.registerProcessor("filter",i(180))},function(t,e,i){"use strict";var n=i(1),a=i(12),o=i(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateData(i);var n=this._data,a=this.option.selected;if(n[0]&&"single"===this.get("selectedMode")){var o=!1;for(var r in a)a[r]&&(this.select(r),o=!0);!o&&this.select(n[0].get("name"))}},mergeOption:function(t){o.superCall(this,"mergeOption",t),this._updateData(this.ecModel)},_updateData:function(t){var e=n.map(this.get("data")||[],function(t){return"string"==typeof t&&(t={name:t}),new a(t,this,this.ecModel)},this);this._data=e;var i=n.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var a=this._data;n.each(a,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;t in e||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(t in e&&!e[t])&&n.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});t.exports=o},function(t,e,i){function n(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function a(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function o(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var r=i(1),s=i(24),l=i(3),h=i(103),u=r.curry,c="#ccc";t.exports=i(2).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,i){var s=this.group;if(s.removeAll(),t.get("show")){var c=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={},p={};r.each(t.getData(),function(r){var h=r.get("name");""!==h&&"\n"!==h||s.add(new l.Group({newline:!0}));var g=e.getSeriesByName(h)[0];if(f[h]=r,g&&!p[h]){var m=g.getData(),v=m.getVisual("color");"function"==typeof v&&(v=v(g.getDataParams(0)));var y=m.getVisual("legendSymbol")||"roundRect",x=m.getVisual("symbol"),_=this._createItem(h,r,t,y,x,d,v,c);_.on("click",u(n,h,i)).on("mouseover",u(a,g,"",i)).on("mouseout",u(o,g,"",i)),p[h]=!0}},this),e.eachRawSeries(function(e){if(e.legendDataProvider){var r=e.legendDataProvider();r.each(function(s){var l=r.getName(s);if(f[l]&&!p[l]){var h=r.getItemVisual(s,"color"),g="roundRect",m=this._createItem(l,f[l],t,g,null,d,h,c);m.on("click",u(n,l,i)).on("mouseover",u(a,e,l,i)).on("mouseout",u(o,e,l,i)),p[l]=!0}},!1,this)}},this),h.layout(s,t,i),h.addBackground(s,t)}},_createItem:function(t,e,i,n,a,o,r,h){var u=i.get("itemWidth"),d=i.get("itemHeight"),f=i.isSelected(t),p=new l.Group,g=e.getModel("textStyle"),m=e.get("icon");if(n=m||n,p.add(s.createSymbol(n,0,0,u,d,f?r:c)),!m&&a&&(a!==n||"none"==a)){var v=.8*d;"none"===a&&(a="circle"),p.add(s.createSymbol(a,(u-v)/2,(d-v)/2,v,v,f?r:c))}var y="left"===o?u+5:-5,x=o,_=i.get("formatter");"string"==typeof _&&_?t=_.replace("{name}",t):"function"==typeof _&&(t=_(t));var w=new l.Text({style:{text:t,x:y,y:d/2,fill:f?g.getTextColor():c,textFont:g.getFont(),textAlign:x,textVerticalAlign:"middle"}});return p.add(w),p.add(new l.Rect({shape:p.getBoundingRect(),invisible:!0})),p.eachChild(function(t){t.silent=!h}),this.group.add(p),l.setHoverStyle(p),p}})},function(t,e,i){function n(t,e,i){var n,a={},r="toggleSelected"===t;return i.eachComponent("legend",function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();o.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);e in a?a[e]=a[e]&&n:a[e]=n}})}),{name:e.name,selected:a}}var a=i(2),o=i(1);a.registerAction("legendToggleSelect","legendselectchanged",o.curry(n,"toggleSelected")),a.registerAction("legendSelect","legendselected",o.curry(n,"select")),a.registerAction("legendUnSelect","legendunselected",o.curry(n,"unSelect"))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},function(t,e,i){i(183),i(184),i(2).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,i){i(185),i(186),i(2).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,i){var n=i(7),a=i(2).extendComponentModel({type:"markLine",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,o){i||e.eachSeries(function(t){var i=t.get("markLine"),r=t.markLineModel;if(!i||!i.data)return void(t.markLineModel=null);if(r)r.mergeOption(i,e,!0);else{o&&n.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]);var s={seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};r=new a(i,this,e,s)}t.markLineModel=r},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=a},function(t,e,i){function n(t,e){return f.dataFilter(t,e[0])&&f.dataFilter(t,e[1])}function a(t,e,i,n,a,o,r){var s,l=o.coordinateSystem,h=t.getItemModel(e),c=h.get("x"),d=h.get("y");if(null!=c&&null!=d)s=[u.parsePercent(c,r.getWidth()),u.parsePercent(d,r.getHeight())];else{if(o.getMarkerPosition)s=o.getMarkerPosition(t.getValues(t.dimensions,e));else{var f=l.dimensions,p=t.get(f[0],e),g=t.get(f[1],e);s=l.dataToPoint([p,g])}if(n&&"cartesian2d"===l.type){var m=null!=a?l.getAxis(1===a?"x":"y"):l.getAxesByScale("ordinal")[0];m&&m.onBand&&(s["x"===m.dim?0:1]=m.toGlobalCoord(m.getExtent()[i?0:1]))}}t.setItemLayout(e,s)}function o(t,e,i){var a;a=t?r.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new s(a,i),l=new s(a,i),h=new s([],i),u=r.map(i.get("data"),r.curry(g,e,t,i));t&&(u=r.filter(u,r.curry(n,t)));var c=t?f.dimValueGetter:function(t){return t.value};return o.initData(r.map(u,function(t){return t[0]}),null,c),l.initData(r.map(u,function(t){return t[1]}),null,c),h.initData(r.map(u,function(t){return t[2]})),{from:o,to:l,line:h}}var r=i(1),s=i(14),l=i(9),h=i(7),u=i(4),c=l.addCommas,d=l.encodeHTML,f=i(104),p=i(84),g=function(t,e,i,n){var a=t.getData(),o=n.type;if(!r.isArray(n)&&("min"===o||"max"===o||"average"===o)){var s=f.getAxisInfo(n,a,e,t),l=s.baseAxis.dim+"Axis",h=s.valueAxis.dim+"Axis",u=s.baseAxis.scale.getExtent(),c=r.clone(n),d={};c.type=null,c[l]=u[0],d[l]=u[1];var p=f.numCalculate(a,s.valueDataDim,o);p=s.valueAxis.coordToData(s.valueAxis.dataToCoord(p));var g=i.get("precision");g>=0&&(p=+p.toFixed(g)),c[h]=d[h]=p,n=[c,d,{type:o,valueIndex:n.valueIndex,value:p}]}return n=[f.dataTransform(t,n[0]),f.dataTransform(t,n[1]),r.extend({},n[2])],n[2].type=n[2].type||"",r.merge(n[2],n[0]),r.merge(n[2],n[1]),n},m={formatTooltip:function(t){var e=this._data,i=this.getRawValue(t),n=r.isArray(i)?r.map(i,c).join(", "):c(i),a=e.getName(t);return this.name+"<br />"+((a?d(a)+" : ":"")+n)},getRawDataArray:function(){return this.option.data},getData:function(){return this._data},setData:function(t){this._data=t}};r.defaults(m,h.dataFormatMixin),i(2).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(t,e,i){var n=this._markLineMap;for(var a in n)n[a].__keep=!1;e.eachSeries(function(t){var n=t.markLineModel;n&&this._renderSeriesML(t,n,e,i)},this);for(var a in n)n[a].__keep||this.group.remove(n[a].group)},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,r=e.__to;o.each(function(e){var s=n.getItemModel(e),l=s.get("type"),h=s.get("valueIndex");a(o,e,!0,l,h,t,i),a(r,e,!1,l,h,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),r.getItemLayout(t)])}),this._markLineMap[t.name].updateLayout()}},this)},_renderSeriesML:function(t,e,i,n){function s(e,i,o,r,s){var l=e.getItemModel(i);a(e,i,o,r,s,t,n),e.setItemVisual(i,{symbolSize:l.get("symbolSize")||_[o?0:1],symbol:l.get("symbol",!0)||x[o?0:1],color:l.get("itemStyle.normal.color")||u.getVisual("color")})}var l=t.coordinateSystem,h=t.name,u=t.getData(),c=this._markLineMap,d=c[h];d||(d=c[h]=new p),this.group.add(d.group);var f=o(l,t,e),g=f.from,v=f.to,y=f.line;e.__from=g,e.__to=v,r.extend(e,m),e.setData(y);var x=e.get("symbol"),_=e.get("symbolSize");r.isArray(x)||(x=[x,x]),"number"==typeof _&&(_=[_,_]),f.from.each(function(t){var e=y.getItemModel(t),i=e.get("type"),n=e.get("valueIndex");s(g,t,!0,i,n),s(v,t,!1,i,n)}),y.each(function(t){var e=y.getItemModel(t).get("lineStyle.normal.color");y.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),y.setItemLayout(t,[g.getItemLayout(t),v.getItemLayout(t)])}),d.updateData(y,g,v),f.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),d.__keep=!0}})},function(t,e,i){var n=i(7),a=i(2).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,o){i||e.eachSeries(function(t){var i=t.get("markPoint"),r=t.markPointModel;if(!i||!i.data)return void(t.markPointModel=null);if(r)r.mergeOption(i,e,!0);else{o&&n.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]);var s={seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};r=new a(i,this,e,s)}t.markPointModel=r},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2},emphasis:{}}}});t.exports=a},function(t,e,i){function n(t,e,i){var n=e.coordinateSystem;t.each(function(a){var o,r=t.getItemModel(a),s=r.getShallow("x"),l=r.getShallow("y");if(null!=s&&null!=l)o=[h.parsePercent(s,i.getWidth()),h.parsePercent(l,i.getHeight())];else if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,a));else if(n){var u=t.get(n.dimensions[0],a),c=t.get(n.dimensions[1],a);o=n.dataToPoint([u,c])}t.setItemLayout(a,o)})}function a(t,e,i){var n;n=t?r.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var a=new d(n,i),o=r.map(i.get("data"),r.curry(f.dataTransform,e));return t&&(o=r.filter(o,r.curry(f.dataFilter,t))),a.initData(o,null,t?f.dimValueGetter:function(t){return t.value}),a}var o=i(38),r=i(1),s=i(9),l=i(7),h=i(4),u=s.addCommas,c=s.encodeHTML,d=i(14),f=i(104),p={getRawDataArray:function(){return this.option.data},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=r.isArray(i)?r.map(i,u).join(", "):u(i),a=e.getName(t);return this.name+"<br />"+((a?c(a)+" : ":"")+n)},getData:function(){return this._data},setData:function(t){this._data=t}};r.defaults(p,l.dataFormatMixin),i(2).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(t,e,i){var n=this._symbolDrawMap;for(var a in n)n[a].__keep=!1;e.eachSeries(function(t){var e=t.markPointModel;e&&this._renderSeriesMP(t,e,i)},this);for(var a in n)n[a].__keep||(n[a].remove(),this.group.remove(n[a].group))},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(n(e.getData(),t,i),this._symbolDrawMap[t.name].updateLayout(e))},this)},_renderSeriesMP:function(t,e,i){var s=t.coordinateSystem,l=t.name,h=t.getData(),u=this._symbolDrawMap,c=u[l];c||(c=u[l]=new o);var d=a(s,t,e);r.mixin(e,p),e.setData(d),n(e.getData(),t,i),d.each(function(t){var i=d.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),d.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.normal.color")||h.getVisual("color"),symbol:i.getShallow("symbol")})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),c.__keep=!0}})},function(t,e,i){"use strict";var n=i(2),a=i(3),o=i(11);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,r=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),h=new a.Text({style:{text:t.get("text"),textFont:r.getFont(),fill:r.getTextColor(),textBaseline:"top"},z2:10}),u=h.getBoundingRect(),c=t.get("subtext"),d=new a.Text({style:{text:c,textFont:s.getFont(),fill:s.getTextColor(),y:u.height+t.get("itemGap"),textBaseline:"top"},z2:10}),f=t.get("link"),p=t.get("sublink");h.silent=!f,d.silent=!p,f&&h.on("click",function(){window.open(f,t.get("target"))}),p&&d.on("click",function(){window.open(p,t.get("subtarget"))}),n.add(h),c&&n.add(d);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=o.getLayoutRect(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?v.x+=v.width:"center"===l&&(v.x+=v.width/2)),n.position=[v.x,v.y],h.setStyle("textAlign",l),d.setStyle("textAlign",l),g=n.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new a.Rect({shape:{x:g.x-y[3],y:g.y-y[0],width:g.width+y[1]+y[3],height:g.height+y[0]+y[2]},style:x,silent:!0});a.subPixelOptimizeRect(_),n.add(_)}}})},function(t,e,i){i(189),i(190),i(195),i(193),i(191),i(192),i(194)},function(t,e,i){var n=i(29),a=i(1),o=i(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(t){o.superApply(this,"mergeDefaultAndTheme",arguments),a.each(this.option.feature,function(t,e){var i=n.get(e);i&&a.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=o},function(t,e,i){(function(e){function n(t){return 0===t.indexOf("my")}var a=i(29),o=i(1),r=i(3),s=i(12),l=i(52),h=i(103),u=i(17);t.exports=i(2).extendComponentView({type:"toolbox",render:function(t,e,i){function c(o,r){var l,h=v[o],u=v[r],c=g[h],f=new s(c,t,t.ecModel);if(h&&!u){if(n(h))l={model:f,onclick:f.option.onclick,featureName:h};else{var p=a.get(h);if(!p)return;l=new p(f)}m[h]=l}else{if(l=m[u],!l)return;l.model=f}return!h&&u?void(l.dispose&&l.dispose(e,i)):!f.get("show")||l.unusable?void(l.remove&&l.remove(e,i)):(d(f,l,h),f.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},void(l.render&&l.render(f,e,i)))}function d(n,a,s){var l=n.getModel("iconStyle"),h=a.getIcons?a.getIcons():n.get("icon"),u=n.get("title")||{};if("string"==typeof h){var c=h,d=u;h={},u={},h[s]=c,u[s]=d}var g=n.iconPaths={};o.each(h,function(s,h){var c=l.getModel("normal").getItemStyle(),d=l.getModel("emphasis").getItemStyle(),m={x:-p/2,y:-p/2,width:p,height:p},v=0===s.indexOf("image://")?(m.image=s.slice(8),new r.Image({style:m})):r.makePath(s.replace("path://",""),{style:c,hoverStyle:d,rectHover:!0},m,"center");r.setHoverStyle(v),t.get("showTitle")&&(v.__title=u[h],v.on("mouseover",function(){v.setStyle({text:u[h],textPosition:d.textPosition||"bottom",textFill:d.fill||d.stroke||"#000",textAlign:d.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(n.get("iconStatus."+h)||"normal"),f.add(v),v.on("click",o.bind(a.onclick,a,e,i,h)),g[h]=v})}var f=this.group;if(f.removeAll(),t.get("show")){var p=+t.get("itemSize"),g=t.get("feature")||{},m=this._features||(this._features={}),v=[];o.each(g,function(t,e){v.push(e)}),new l(this._featureNames||[],v).add(c).update(c).remove(o.curry(c,null)).execute(),this._featureNames=v,h.layout(f,t,i),h.addBackground(f,t),f.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var a=u.getBoundingRect(e,n.font),o=t.position[0]+f.position[0],r=t.position[1]+f.position[1]+p,s=!1;r+a.height>i.getHeight()&&(n.textPosition="top",s=!0);var l=s?-5-a.height:p+8;o+a.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):o-a.width/2<0&&(n.textPosition=[0,l],n.textAlign="left")}})}},remove:function(t,e){o.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){o.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}})}).call(e,i(201))},function(t,e,i){function n(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var a=t.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)i.push(t);else{var o=a.getBaseAxis();if("category"===o.type){var r=o.dim+"_"+o.index;e[r]||(e[r]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[r].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function a(t){var e=[];return p.each(t,function(t,i){var n=t.categoryAxis,a=t.valueAxis,o=a.dim,r=[" "].concat(p.map(t.series,function(t){return t.name})),s=[n.model.getCategories()];p.each(t.series,function(t){s.push(t.getRawData().mapArray(o,function(t){return t}))});for(var l=[r.join(v)],h=0;h<s[0].length;h++){for(var u=[],c=0;c<s.length;c++)u.push(s[c][h]);l.push(u.join(v))}e.push(l.join("\n"))}),e.join("\n\n"+m+"\n\n")}function o(t){return p.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,a=arguments[t-1],o=e.getName(a),r=0;t-1>r;r++)n[r]=arguments[r];i.push((o?o+v:"")+n.join(v))}),i.join("\n")}).join("\n\n"+m+"\n\n")}function r(t){var e=n(t);return{value:p.filter([a(e.seriesGroupByCategoryAxis),o(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t){var e=t.slice(0,t.indexOf("\n"));return e.indexOf(v)>=0?!0:void 0}function h(t){for(var e=t.split(/\n+/g),i=s(e.shift()).split(y),n=[],a=p.map(i,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var r=s(e[o]).split(y);n.push(r.shift());for(var l=0;l<r.length;l++)a[l]&&(a[l].data[o]=r[l])}return{series:a,categories:n}}function u(t){for(var e=t.split(/\n+/g),i=s(e.shift()),n=[],a=0;a<e.length;a++){var o,r=s(e[a]).split(y),l="",h=!1;isNaN(r[0])?(h=!0,l=r[0],r=r.slice(1),n[a]={name:l,value:[]},o=n[a].value):o=n[a]=[];for(var u=0;u<r.length;u++)o.push(+r[u]);1===o.length&&(h?n[a].value=o[0]:n[a]=o[0])}return{name:i,data:n}}function c(t,e){var i=t.split(new RegExp("\n*"+m+"\n*","g")),n={series:[]};return p.each(i,function(t,i){if(l(t)){var a=h(t),o=e[i],r=o.axisDim+"Axis";o&&(n[r]=n[r]||[],n[r][o.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else{var a=u(t);n.series.push(a)}}),n}function d(t){this._dom=null,this.model=t}function f(t,e){return p.map(t,function(t,i){var n=e&&e[i];return p.isObject(n)&&!p.isArray(n)?(p.isObject(t)&&!p.isArray(t)&&(t=t.value),p.defaults({value:t},n)):t})}var p=i(1),g=i(33),m=new Array(60).join("-"),v="	",y=new RegExp("["+v+"]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"",lang:["","",""],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){function i(){n.removeChild(o),S._dom=null}var n=e.getDom(),a=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=a.get("textColor");var h=document.createElement("div"),u=document.createElement("textarea");h.style.cssText="display:block;width:100%;overflow:hidden;";var d=a.get("optionToContent"),f=a.get("contentToOption"),m=r(t);if("function"==typeof d){var y=d(e.getOption());"string"==typeof y?h.innerHTML=y:p.isDom(y)&&h.appendChild(y)}else h.appendChild(u),u.readOnly=a.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=a.get("textColor"),u.style.borderColor=a.get("textareaBorderColor"),u.style.backgroundColor=a.get("textareaColor"),u.value=m.value;var x=m.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:0;left:0;right:0;";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),M=document.createElement("div");w+=";background-color:"+a.get("buttonColor"),w+=";color:"+a.get("buttonTextColor");var S=this;g.addEventListener(b,"click",i),g.addEventListener(M,"click",function(){var t;try{t="function"==typeof f?f(h,e.getOption()):c(u.value,x)}catch(n){throw i(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i()}),b.innerHTML=l[1],M.innerHTML=l[2],M.style.cssText=w,b.style.cssText=w,!a.get("readOnly")&&_.appendChild(M),_.appendChild(b),g.addEventListener(u,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+v+e.substring(n),this.selectionStart=this.selectionEnd=i+1,g.stop(t)}}),o.appendChild(s),o.appendChild(h),o.appendChild(_),h.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},d.prototype.dispose=function(t,e){this.remove(t,e)},i(29).register("dataView",d),i(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];p.each(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var a=n.get("data");i.push({name:t.name,data:f(t.data,a)})}else i.push(p.extend({type:"scatter"},t))}),e.mergeOption(p.defaults({series:i},t.newOption))}),t.exports=d},function(t,e,i){"use strict";function n(t){this.model=t,this._controllerGroup,this._controller,this._isZoomActive}function a(t,e){var i=[{axisModel:t.getAxis("x").model,axisIndex:0},{axisModel:t.getAxis("y").model,axisIndex:0}];return i.grid=t,e.eachComponent({mainType:"dataZoom",subType:"select"},function(t,n){o("xAxis",i[0].axisModel,t,e)&&(i[0].dataZoomModel=t),o("yAxis",i[1].axisModel,t,e)&&(i[1].dataZoomModel=t)}),i}function o(t,e,i,n){var a=i.get(t+"Index");return null!=a&&n.getComponent(t,a)===e}function r(t,e){var i=e.grid,n=new d(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0]);if(n.intersect(i.getRect())){var a=i.getCartesian(e[0].axisIndex,e[1].axisIndex),o=a.pointToData([t[0][0],t[1][0]],!0),r=a.pointToData([t[0][1],t[1][1]],!0);return[v([o[0],r[0]]),v([o[1],r[1]])]}}function s(t,e,i,n){var a=e[i],o=a.dataZoomModel;return o?{dataZoomId:o.id,startValue:t[i][0],endValue:t[i][1]}:void 0}function l(t,e){t.setIconStatus("back",p.count(e)>1?"emphasis":"normal")}var h=i(1),u=i(4),c=i(160),d=i(8),f=i(26),p=i(100),g=i(102),m=h.each,v=u.asc;i(175);var y="\x00_ec_\x00toolbox-dataZoom_";n.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"",back:""}};var x=n.prototype;x.render=function(t,e,i){l(t,e)},x.onclick=function(t,e,i){var n=this._controllerGroup;this._controllerGroup||(n=this._controllerGroup=new f,e.getZr().add(n)),_[i].call(this,n,this.model,t,e)},x.remove=function(t,e){this._disposeController(),g.release("globalPan",e.getZr())},x.dispose=function(t,e){var i=e.getZr();g.release("globalPan",i),this._disposeController(),this._controllerGroup&&i.remove(this._controllerGroup)};var _={zoom:function(t,e,i,n){var a=this._isZoomActive=!this._isZoomActive,o=n.getZr();g[a?"take":"release"]("globalPan",o),e.setIconStatus("zoom",a?"emphasis":"normal"),a?(o.setDefaultCursorStyle("crosshair"),this._createController(t,e,i,n)):(o.setDefaultCursorStyle("default"),this._disposeController())},back:function(t,e,i,n){this._dispatchAction(p.pop(i),n)}};x._createController=function(t,e,i,n){var a=this._controller=new c("rect",n.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});a.on("selectEnd",h.bind(this._onSelected,this,a,e,i,n)),a.enable(t,!1)},x._disposeController=function(){var t=this._controller;t&&(t.off("selected"),t.dispose())},x._onSelected=function(t,e,i,n,o){if(o.length){var l=o[0];t.update();var h={};i.eachComponent("grid",function(t,e){var n=t.coordinateSystem,o=a(n,i),u=r(l,o);if(u){var c=s(u,o,0,"x"),d=s(u,o,1,"y");c&&(h[c.dataZoomId]=c),d&&(h[d.dataZoomId]=d)}},this),p.push(i,h),this._dispatchAction(h,n)}},x._dispatchAction=function(t,e){var i=[];m(t,function(t){i.push(t)}),i.length&&e.dispatchAction({type:"dataZoom",from:this.uid,batch:h.clone(i,!0)})},i(29).register("dataZoom",n),i(2).registerPreprocessor(function(t){function e(t,e){if(e){var a=t+"Index",o=e[a];null==o||h.isArray(o)||(o=o===!1?[]:[o]),i(t,function(e,i){if(null==o||-1!==h.indexOf(o,i)){var r={type:"select",$fromToolbox:!0,id:y+t+i};r[a]=i,n.push(r)}})}}function i(e,i){var n=t[e];h.isArray(n)||(n=n?[n]:[]),m(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);h.isArray(n)||(n=[n]);var a=t.toolbox;if(a&&(h.isArray(a)&&(a=a[0]),a&&a.feature)){var o=a.feature.dataZoom;e("xAxis",o),e("yAxis",o)}}}),t.exports=n},function(t,e,i){"use strict";function n(t){this.model=t}var a=i(1);n.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"",bar:"",stack:"",tiled:""},option:{},seriesIndex:{}};var o=n.prototype;o.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return a.each(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var r={line:function(t,e,i,n){return"bar"===t?a.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0):void 0},bar:function(t,e,i,n){return"line"===t?a.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0):void 0},stack:function(t,e,i,n){return"line"===t||"bar"===t?a.merge({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0):void 0},tiled:function(t,e,i,n){return"line"===t||"bar"===t?a.merge({id:e,stack:""},n.get("option.tiled")||{},!0):void 0}},s=[["line","bar"],["stack","tiled"]];o.onclick=function(t,e,i){var n=this.model,o=n.get("seriesIndex."+i);if(r[i]){var l={series:[]},h=function(t){var e=t.subType,o=t.id,s=r[i](e,o,t,n);s&&(a.defaults(s,t.option),l.series.push(s));var h=t.coordinateSystem;if("cartesian2d"===h.type){var u=h.getAxesByScale("ordinal")[0];if(u){var c=u.dim,d=t.get(c+"AxisIndex"),f=c+"Axis";l[f]=l[f]||[];for(var p=0;d>=p;p++)l[f][d]=l[f][d]||{};l[f][d].boundaryGap="bar"===i}}};a.each(s,function(t){a.indexOf(t,i)>=0&&a.each(t,function(t){n.setIconStatus(t,"normal")})}),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},h),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:l})}};var l=i(2);l.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),i(29).register("magicType",n),t.exports=n},function(t,e,i){"use strict";function n(t){this.model=t}var a=i(100);n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:""};var o=n.prototype;o.onclick=function(t,e,i){a.clear(t),e.dispatchAction({type:"restore",from:this.uid})},i(29).register("restore",n),i(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=n},function(t,e,i){function n(t){this.model=t}var a=i(15);n.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:[""]},n.prototype.unusable=!a.canvasSupported;var o=n.prototype;o.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",a=document.createElement("a"),o=i.get("type",!0)||"png";a.download=n+"."+o,a.target="_blank";var r=e.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(a.href=r,"function"==typeof MouseEvent){var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(s)}else{var l=i.get("lang"),h='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>',u=window.open();u.document.write(h)}},i(29).register("saveAsImage",n),t.exports=n},function(t,e,i){i(198),i(199),i(2).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),i(2).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,i){function n(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+t+"s "+e+",top "+t+"s "+e;return l.map(p,function(t){return t+"transition:"+i}).join(";")}function a(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),d(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)}),e.join(";")}function o(t){t=t;var e=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),r=t.getModel("textStyle"),s=t.get("padding");return i&&e.push(n(i)),o&&(e.push("background-Color:"+h.toHex(o)),e.push("filter:alpha(opacity=70)"),e.push("background-Color:"+o)),d(["width","color","radius"],function(i){var n="border-"+i,a=f(n),o=t.get(a);null!=o&&e.push(n+":"+o+("color"===i?"":"px"))}),e.push(a(r)),null!=s&&e.push("padding:"+c.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function r(t,e){var i=document.createElement("div"),n=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var a=this;i.onmouseenter=function(){a.enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(e){if(!a.enterable){var i=n.handler;u.normalizeEvent(t,e),i.dispatch("mousemove",e)}},i.onmouseleave=function(){a.enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1},s(i,t)}function s(t,e){function i(t){n(t.target)&&t.preventDefault()}function n(i){for(;i&&i!==e;){if(i===t)return!0;i=i.parentNode}}u.addEventListener(e,"touchstart",i),u.addEventListener(e,"touchmove",i),u.addEventListener(e,"touchend",i)}var l=i(1),h=i(22),u=i(33),c=i(9),d=l.each,f=c.toCamelCase,p=["","-webkit-","-moz-","-o-"],g="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";r.prototype={constructor:r,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout),this.el.style.cssText=g+o(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(l.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=r},function(t,e,i){i(2).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,i){function n(t,e){if(!t||!e)return!1;var i=g.round;return i(t[0])===i(e[0])&&i(t[1])===i(e[1])}function a(t,e,i,n){return{x1:t,y1:e,x2:i,y2:n}}function o(t,e,i,n){return{x:t,y:e,width:i,height:n}}function r(t,e,i,n,a,o){return{cx:t,cy:e,r0:i,r:n,startAngle:a,endAngle:o,clockwise:!0}}function s(t,e,i,n,a){var o=i.clientWidth,r=i.clientHeight,s=20;return t+o+s>n?t-=o+s:t+=s,e+r+s>a?e-=r+s:e+=s,[t,e]}function l(t,e,i){var n=i.clientWidth,a=i.clientHeight,o=5,r=0,s=0,l=e.width,h=e.height;switch(t){case"inside":r=e.x+l/2-n/2,s=e.y+h/2-a/2;break;case"top":r=e.x+l/2-n/2,s=e.y-a-o;break;case"bottom":r=e.x+l/2-n/2,s=e.y+h+o;break;case"left":r=e.x-n-o,s=e.y+h/2-a/2;break;case"right":r=e.x+l+o,s=e.y+h/2-a/2}return[r,s]}function h(t,e,i,n,a,o,r){var h=r.getWidth(),u=r.getHeight(),c=o&&o.getBoundingRect().clone();if(o&&c.applyTransform(o.transform),"function"==typeof t&&(t=t([e,i],a,c)),f.isArray(t))e=m(t[0],h),i=m(t[1],u);else if("string"==typeof t&&o){var d=l(t,c,n.el);e=d[0],i=d[1]}else{var d=s(e,i,n.el,h,u);e=d[0],i=d[1]}n.moveTo(e,i)}function u(t){var e=t.coordinateSystem,i=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"single"!==e.type||"item"===i)}var c=i(197),d=i(3),f=i(1),p=i(9),g=i(4),m=g.parsePercent,v=i(15);i(2).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!v.node){var i=new c(e.getDom(),e);this._tooltipContent=i,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,i){if(!v.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastHover={};var n=this._tooltipContent;n.update(),n.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var a=this._crossText;if(a&&this.group.add(a),null!=this._lastX&&null!=this._lastY){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o._manuallyShowTip({x:o._lastX,y:o._lastY})})}var r=this._api.getZr(),s=this._tryShow;r.off("click",s),r.off("mousemove",s),r.off("mouseout",this._hide),"click"===t.get("triggerOn")?r.on("click",s,this):(r.on("mousemove",s,this),r.on("mouseout",this._hide,this))}},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,i=t.seriesIndex,n=t.dataIndex,a=e.getSeriesByIndex(i),o=this._api;if(null==t.x||null==t.y){if(a||e.eachSeries(function(t){u(t)&&!a&&(a=t)}),a){var r=a.getData();null==n&&(n=r.indexOfName(t.name));var s,l,h=r.getItemGraphicEl(n),c=a.coordinateSystem;if(c&&c.dataToPoint){var d=c.dataToPoint(r.getValues(c.dimensions,n,!0));s=d&&d[0],l=d&&d[1]}else if(h){var f=h.getBoundingRect().clone();f.applyTransform(h.transform),s=f.x+f.width/2,l=f.y+f.height/2}null!=s&&null!=l&&this._tryShow({offsetX:s,offsetY:l,target:h,event:{}})}}else{var h=o.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,target:h,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var i={};return e.eachSeries(function(t){if(u(t)){var e,n,a=t.coordinateSystem;"cartesian2d"===a.type?(e=a.getBaseAxis(),n=e.dim+e.index):"single"===a.type?(e=a.getAxis(),n=e.dim+e.type):(e=a.getBaseAxis(),n=e.dim+a.name),i[n]=i[n]||{coordSys:[],series:[]},i[n].coordSys.push(a),i[n].series.push(t)}},this),i},_tryShow:function(t){var e=t.target,i=this._tooltipModel,n=i.get("trigger"),a=this._ecModel,o=this._api;if(i)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var r=e.dataModel||a.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,l=r.getData().getItemModel(s);"axis"===(l.get("tooltip.trigger")||n)?this._showAxisTooltip(i,a,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(r,s,t)),o.dispatchAction({type:"showTip",from:this.uid,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex})}else"item"===n?this._hide():this._showAxisTooltip(i,a,t),"cross"===i.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,i){var a=t.getModel("axisPointer"),o=a.get("type");if("cross"===o){var r=i.target;if(r&&null!=r.dataIndex){var s=e.getSeriesByIndex(r.seriesIndex),l=r.dataIndex;this._showItemTooltipContent(s,l,i)}}this._showAxisPointer();var h=!0;f.each(this._seriesGroupByAxis,function(t){var e=t.coordSys,r=e[0],s=[i.offsetX,i.offsetY];if(!r.containPoint(s))return void this._hideAxisPointer(r.name);h=!1;var l=r.dimensions,u=r.pointToData(s,!0);s=r.dataToPoint(u);var c=r.getBaseAxis(),d=a.get("axis");"auto"===d&&(d=c.dim);var p=!1,g=this._lastHover;if("cross"===o)n(g.data,u)&&(p=!0),g.data=u;else{var m=f.indexOf(l,d);g.data===u[m]&&(p=!0),g.data=u[m]}"cartesian2d"!==r.type||p?"polar"!==r.type||p?"single"!==r.type||p||this._showSinglePointer(a,r,d,s):this._showPolarPointer(a,r,d,s):this._showCartesianPointer(a,r,d,s),"cross"!==o&&this._dispatchAndShowSeriesTooltipContent(r,t.series,s,u,p)},this),h&&this._hide()},_showCartesianPointer:function(t,e,i,n){function r(i,n,o){var r="x"===i?a(n[0],o[0],n[0],o[1]):a(o[0],n[1],o[1],n[1]),s=l._getPointerElement(e,t,i,r);u?d.updateProps(s,{shape:r},t):s.attr({shape:r})}function s(i,n,a){var r=e.getAxis(i),s=r.getBandWidth(),h=a[1]-a[0],c="x"===i?o(n[0]-s/2,a[0],s,h):o(a[0],n[1]-s/2,h,s),f=l._getPointerElement(e,t,i,c);u?d.updateProps(f,{shape:c},t):f.attr({shape:c})}var l=this,h=t.get("type"),u="cross"!==h;if("cross"===h)r("x",n,e.getAxis("y").getGlobalExtent()),r("y",n,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,n,t);else{var c=e.getAxis("x"===i?"y":"x"),f=c.getGlobalExtent();"cartesian2d"===e.type&&("line"===h?r:s)(i,n,f)}},_showSinglePointer:function(t,e,i,n){function o(i,n,o){var s=e.getAxis(),h=s.orient,u="horizontal"===h?a(n[0],o[0],n[0],o[1]):a(o[0],n[1],o[1],n[1]),c=r._getPointerElement(e,t,i,u);l?d.updateProps(c,{shape:u},t):c.attr({shape:u})}var r=this,s=t.get("type"),l="cross"!==s,h=e.getRect(),u=[h.y,h.y+h.height];o(i,n,u)},_showPolarPointer:function(t,e,i,n){function o(i,n,o){var r,s=e.pointToCoord(n);if("angle"===i){var h=e.coordToPoint([o[0],s[1]]),u=e.coordToPoint([o[1],s[1]]);r=a(h[0],h[1],u[0],u[1])}else r={cx:e.cx,cy:e.cy,r:s[0]};var c=l._getPointerElement(e,t,i,r);f?d.updateProps(c,{shape:r},t):c.attr({shape:r})}function s(i,n,a){var o,s=e.getAxis(i),h=s.getBandWidth(),u=e.pointToCoord(n),c=Math.PI/180;o="angle"===i?r(e.cx,e.cy,a[0],a[1],(-u[1]-h/2)*c,(-u[1]+h/2)*c):r(e.cx,e.cy,u[0]-h/2,u[0]+h/2,0,2*Math.PI);var p=l._getPointerElement(e,t,i,o);f?d.updateProps(p,{shape:o},t):p.attr({shape:o})}var l=this,h=t.get("type"),u=e.getAngleAxis(),c=e.getRadiusAxis(),f="cross"!==h;if("cross"===h)o("angle",n,c.getExtent()),o("radius",n,u.getExtent()),this._updateCrossText(e,n,t);else{var p=e.getAxis("radius"===i?"angle":"radius"),g=p.getExtent();("line"===h?o:s)(i,n,g)}},_updateCrossText:function(t,e,i){var n=i.getModel("crossStyle"),a=n.getModel("textStyle"),o=this._tooltipModel,r=this._crossText;r||(r=this._crossText=new d.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(r));var s=t.pointToData(e),l=t.dimensions;s=f.map(s,function(e,i){var n=t.getAxis(l[i]);return e="category"===n.type||"time"===n.type?n.scale.getLabel(e):p.addCommas(e.toFixed(n.getPixelPrecision()))}),r.setStyle({fill:a.getTextColor()||n.get("color"),textFont:a.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),r.z=o.get("z"),r.zlevel=o.get("zlevel")},_getPointerElement:function(t,e,i,n){var a=this._tooltipModel,o=a.get("z"),r=a.get("zlevel"),s=this._axisPointers,l=t.name;if(s[l]=s[l]||{},s[l][i])return s[l][i];var h=e.get("type"),u=e.getModel(h+"Style"),c="shadow"===h,f=u[c?"getAreaStyle":"getLineStyle"](),p="polar"===t.type?c?"Sector":"radius"===i?"Circle":"Line":c?"Rect":"Line";c?f.stroke=null:f.fill=null;var g=s[l][i]=new d[p]({style:f,z:o,zlevel:r,silent:!0,shape:n});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,i,n,a){var o=this._tooltipModel,r=this._tooltipContent,s=t.getBaseAxis(),l=f.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndex:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(s.dim),n,s):t.getData().indexOfNearest(t.coordDimToDataDim(s.dim)[0],n["x"===s.dim||"radius"===s.dim?0:1])}}),u=this._lastHover,c=this._api;if(u.payloadBatch&&!a&&c.dispatchAction({type:"downplay",batch:u.payloadBatch}),a||(c.dispatchAction({type:"highlight",batch:l}),u.payloadBatch=l),c.dispatchAction({type:"showTip",dataIndex:l[0].dataIndex,seriesIndex:l[0].seriesIndex,from:this.uid}),s&&o.get("showContent")){var d,g=o.get("formatter"),m=o.get("position"),v=f.map(e,function(t,e){return t.getDataParams(l[e].dataIndex)});r.show(o);var y=l[0].dataIndex;if(!a){if(this._ticket="",g){if("string"==typeof g)d=p.formatTpl(g,v);else if("function"==typeof g){var x=this,_="axis_"+t.name+"_"+y,w=function(t,e){t===x._ticket&&(r.setContent(e),h(m,i[0],i[1],r,v,null,c))};x._ticket=_,d=g(v,_,w)}}else{var b=e[0].getData().getName(y);d=(b?b+"<br />":"")+f.map(e,function(t,e){return t.formatTooltip(l[e].dataIndex,!0)}).join("<br />")}r.setContent(d)}h(m,i[0],i[1],r,v,null,c)}},_showItemTooltipContent:function(t,e,i){var n=this._api,a=t.getData(),o=a.getItemModel(e),r=this._tooltipModel,s=this._tooltipContent,l=o.getModel("tooltip");if(l.parentModel?l.parentModel.parentModel=r:l.parentModel=this._tooltipModel,l.get("showContent")){var u,c=l.get("formatter"),d=l.get("position"),f=t.getDataParams(e);if(c){if("string"==typeof c)u=p.formatTpl(c,f);else if("function"==typeof c){var g=this,m="item_"+t.name+"_"+e,v=function(t,e){t===g._ticket&&(s.setContent(e),h(d,i.offsetX,i.offsetY,s,f,i.target,n))};g._ticket=m,u=c(f,m,v)}}else u=t.formatTooltip(e);s.show(l),s.setContent(u),h(d,i.offsetX,i.offsetY,s,f,i.target,n)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.hide()})}else this.group.hide()},_hide:function(){this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid})},dispose:function(t,e){if(!v.node){var i=e.getZr();this._tooltipContent.hide(),i.off("click",this._tryShow),i.off("mousemove",this._tryShow),i.off("mouseout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,i){function n(t,e){var i=t.get("center"),n=t.get("radius"),a=e.getWidth(),o=e.getHeight(),r=s.parsePercent;this.cx=r(i[0],a),this.cy=r(i[1],o);var l=this.getRadiusAxis(),h=Math.min(a,o)/2;l.setExtent(0,r(n,h))}function a(t,e){var i=this,n=i.getAngleAxis(),a=i.getRadiusAxis();if(n.scale.setExtent(1/0,-(1/0)),a.scale.setExtent(1/0,-(1/0)),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();a.scale.unionExtent(e.getDataExtent("radius","category"!==a.type)),n.scale.unionExtent(e.getDataExtent("angle","category"!==n.type))}}),h(n,n.model),h(a,a.model),"category"===n.type&&!n.onBand){var o=n.getExtent(),r=360/n.scale.count();n.inverse?o[1]+=r:o[1]-=r,n.setExtent(o[0],o[1])}}function o(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var i=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}var r=i(337),s=i(4),l=i(23),h=l.niceScaleExtent;i(338);var u={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,s){var l=new r(s);l.resize=n,l.update=a;var h=l.getRadiusAxis(),u=l.getAngleAxis(),c=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");o(h,c),o(u,d),l.resize(t,e),i.push(l),t.coordinateSystem=l}),t.eachSeries(function(t){"polar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("polarIndex")])}),i}};i(28).register("polar",u)},function(t,e){function i(){h=!1,r.length?l=r.concat(l):u=-1,l.length&&n()}function n(){if(!h){var t=setTimeout(i);h=!0;for(var e=l.length;e;){for(r=l,l=[];++u<e;)r&&r[u].run();u=-1,e=l.length}r=null,h=!1,clearTimeout(t)}}function a(t,e){this.fun=t,this.array=e}function o(){}var r,s=t.exports={},l=[],h=!1,u=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new a(t,e)),1!==l.length||h||setTimeout(n,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){function n(t){return parseInt(t,10)}function a(t,e){s.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var a=e.delFromMap,o=e.addToMap;e.delFromMap=function(t){var i=e.get(t);a.call(e,t),i&&i.onRemove&&i.onRemove(n)},e.addToMap=function(t){t.onAdd&&t.onAdd(n),o.call(e,t)},this._firstPaint=!0}function o(t){return function(){r('In IE8.0 VML mode painter not support method "'+t+'"')}}var r=i(45),s=i(158);a.prototype={constructor:a,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(){var t=this._getWidth(),e=this._getHeight();if(this._width!=t&&this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||n(e.width))-n(e.paddingLeft)-n(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||n(e.height))-n(e.paddingTop)-n(e.paddingBottom)|0}};for(var l=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],h=0;h<l.length;h++){var u=l[h];a.prototype[u]=o(u)}t.exports=a},function(t,e,i){if(!i(15).canvasSupported){var n=i(5),a=i(8),o=i(27).CMD,r=i(22),s=i(17),l=i(66),h=i(35),u=i(46),c=i(65),d=i(6),f=i(16),p=i(158),g=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,x=Math.sin,_=Math.max,w=n.applyTransform,b=",",M="progid:DXImageTransform.Microsoft",S=21600,A=S/2,I=1e5,T=1e3,C=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=S+","+S,t.coordorigin="0,0"},L=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},D=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},P=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},k=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},z=function(t,e,i){return(parseFloat(t)||0)*I+(parseFloat(e)||0)*T+i},R=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},E=function(t,e,i){var n=r.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=D(n[0],n[1],n[2]),t.opacity=i*n[3])},O=function(t){var e=r.parse(t);return[D(e[0],e[1],e[2]),e[3]]},V=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof f){var a,o=0,r=[0,0],s=0,l=1,h=i.getBoundingRect(),u=h.width,c=h.height;if("linear"===n.type){a="gradient";var d=i.transform,p=[n.x*u,n.y*c],g=[n.x2*u,n.y2*c];d&&(w(p,p,d),w(g,g,d));var m=g[0]-p[0],v=g[1]-p[1];o=180*Math.atan2(m,v)/Math.PI,0>o&&(o+=360),1e-6>o&&(o=0)}else{a="gradientradial";var p=[n.x*u,n.y*c],d=i.transform,y=i.scale,x=u,b=c;r=[(p[0]-h.x)/x,(p[1]-h.y)/b],d&&w(p,p,d),x/=y[0]*S,b/=y[1]*S;var M=_(x,b);s=0/M,l=2*n.r/M-s}var A=n.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var I=A.length,T=[],C=[],L=0;I>L;L++){var D=A[L],P=O(D.color);C.push(D.offset*l+s+" "+P[0]),0!==L&&L!==I-1||T.push(P)}if(I>=2){var k=T[0][0],z=T[1][0],R=T[0][1]*e.opacity,V=T[1][1]*e.opacity;t.type=a,t.method="none",t.focus="100%",t.angle=o,t.color=k,t.color2=z,t.colors=C.join(","),t.opacity=V,t.opacity2=R}"radial"===a&&(t.focusposition=r.join(","))}else E(t,n,e.opacity)},N=function(t,e){null!=e.lineJoin&&(t.joinstyle=e.lineJoin),null!=e.miterLimit&&(t.miterlimit=e.miterLimit*S),null!=e.lineCap&&(t.endcap=e.lineCap),null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||E(t,e.stroke,e.opacity)},B=function(t,e,i,n){var a="fill"==e,o=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(a||!a&&i.lineWidth)?(t[a?"filled":"stroked"]="true",i[e]instanceof f&&k(t,o),o||(o=p.createNode(e)),a?V(o,i,n):N(o,i),P(t,o)):(t[a?"filled":"stroked"]="false",k(t,o))},G=[[],[],[]],F=function(t,e){var i,n,a,r,s,l,h=o.M,u=o.C,c=o.L,d=o.A,f=o.Q,p=[];for(r=0;r<t.length;){switch(a=t[r++],n="",i=0,a){case h:n=" m ",i=1,s=t[r++],l=t[r++],G[0][0]=s,G[0][1]=l;break;case c:n=" l ",i=1,s=t[r++],l=t[r++],G[0][0]=s,G[0][1]=l;break;case f:case u:n=" c ",i=3;var v,_,M=t[r++],I=t[r++],T=t[r++],C=t[r++];a===f?(v=T,_=C,T=(T+2*M)/3,C=(C+2*I)/3,M=(s+2*M)/3,I=(l+2*I)/3):(v=t[r++],_=t[r++]),G[0][0]=M,G[0][1]=I,G[1][0]=T,G[1][1]=C,G[2][0]=v,G[2][1]=_,s=v,l=_;break;case d:var L=0,D=0,P=1,k=1,z=0;e&&(L=e[4],D=e[5],P=m(e[0]*e[0]+e[1]*e[1]),k=m(e[2]*e[2]+e[3]*e[3]),z=Math.atan2(-e[1]/k,e[0]/P));var R=t[r++],E=t[r++],O=t[r++],V=t[r++],N=t[r++]+z,B=t[r++]+N+z;r++;var F=t[r++],H=R+y(N)*O,W=E+x(N)*V,M=R+y(B)*O,I=E+x(B)*V,Z=F?" wa ":" at ";p.push(Z,g(((R-O)*P+L)*S-A),b,g(((E-V)*k+D)*S-A),b,g(((R+O)*P+L)*S-A),b,g(((E+V)*k+D)*S-A),b,g((H*P+L)*S-A),b,g((W*k+D)*S-A),b,g((M*P+L)*S-A),b,g((I*k+D)*S-A)),s=M,l=I;break;case o.R:var q=G[0],j=G[1];q[0]=t[r++],q[1]=t[r++],j[0]=q[0]+t[r++],j[1]=q[1]+t[r++],e&&(w(q,q,e),w(j,j,e)),q[0]=g(q[0]*S-A),j[0]=g(j[0]*S-A),q[1]=g(q[1]*S-A),j[1]=g(j[1]*S-A),p.push(" m ",q[0],b,q[1]," l ",j[0],b,q[1]," l ",j[0],b,j[1]," l ",q[0],b,j[1]);break;case o.Z:p.push(" x ")}if(i>0){p.push(n);for(var U=0;i>U;U++){var X=G[U];e&&w(X,X,e),p.push(g(X[0]*S-A),b,g(X[1]*S-A),i-1>U?b:"")}}}return p.join("")};d.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=p.createNode("shape"),C(i),this._vmlEl=i),B(i,"fill",e,this),B(i,"stroke",e,this);var n=this.transform,a=null!=n,o=i.getElementsByTagName("stroke")[0];if(o){var r=e.lineWidth;if(a&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];r*=m(v(s))}o.weight=r+"px"}var l=this.path;this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),this.__dirtyPath=!1),i.path=F(l.data,this.transform),i.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,i),e.text&&this.drawRectText(t,this.getBoundingRect())},d.prototype.onRemove=function(t){k(t,this._vmlEl),this.removeRectText(t)},d.prototype.onAdd=function(t){P(t,this._vmlEl),this.appendRectText(t)};var H=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};u.prototype.brushVML=function(t){var e,i,n=this.style,a=n.image;if(H(a)){var o=a.src;if(o===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var r=a.runtimeStyle,s=r.width,l=r.height;r.width="auto",r.height="auto",e=a.width,i=a.height,r.width=s,r.height=l,this._imageSrc=o,this._imageWidth=e,this._imageHeight=i}a=o}else a===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(a){var h=n.x||0,u=n.y||0,c=n.width,d=n.height,f=n.sWidth,v=n.sHeight,y=n.sx||0,x=n.sy||0,S=f&&v,A=this._vmlEl;A||(A=p.doc.createElement("div"),C(A),this._vmlEl=A);var I,T=A.style,L=!1,D=1,k=1;if(this.transform&&(I=this.transform,D=m(I[0]*I[0]+I[1]*I[1]),k=m(I[2]*I[2]+I[3]*I[3]),L=I[1]||I[2]),L){var R=[h,u],E=[h+c,u],O=[h,u+d],V=[h+c,u+d];w(R,R,I),w(E,E,I),w(O,O,I),w(V,V,I);var N=_(R[0],E[0],O[0],V[0]),B=_(R[1],E[1],O[1],V[1]),G=[];G.push("M11=",I[0]/D,b,"M12=",I[2]/k,b,"M21=",I[1]/D,b,"M22=",I[3]/k,b,"Dx=",g(h*D+I[4]),b,"Dy=",g(u*k+I[5])),T.padding="0 "+g(N)+"px "+g(B)+"px 0",T.filter=M+".Matrix("+G.join("")+", SizingMethod=clip)"}else I&&(h=h*D+I[4],u=u*k+I[5]),T.filter="",T.left=g(h)+"px",T.top=g(u)+"px";var F=this._imageEl,W=this._cropEl;F||(F=p.doc.createElement("div"),this._imageEl=F);var Z=F.style;if(S){if(e&&i)Z.width=g(D*e*c/f)+"px",Z.height=g(k*i*d/v)+"px";else{var q=new Image,j=this;q.onload=function(){q.onload=null,e=q.width,i=q.height,Z.width=g(D*e*c/f)+"px",Z.height=g(k*i*d/v)+"px",j._imageWidth=e,j._imageHeight=i,j._imageSrc=a},q.src=a}W||(W=p.doc.createElement("div"),W.style.overflow="hidden",this._cropEl=W);var U=W.style;U.width=g((c+y*c/f)*D),U.height=g((d+x*d/v)*k),U.filter=M+".Matrix(Dx="+-y*c/f*D+",Dy="+-x*d/v*k+")",W.parentNode||A.appendChild(W),F.parentNode!=W&&W.appendChild(F)}else Z.width=g(D*c)+"px",Z.height=g(k*d)+"px",A.appendChild(F),W&&W.parentNode&&(A.removeChild(W),this._cropEl=null);var X="",Y=n.opacity;1>Y&&(X+=".Alpha(opacity="+g(100*Y)+") "),X+=M+".AlphaImageLoader(src="+a+", SizingMethod=scale)",Z.filter=X,A.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,A),n.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){k(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){P(t,this._vmlEl),this.appendRectText(t)};var W,Z="normal",q={},j=0,U=100,X=document.createElement("div"),Y=function(t){var e=q[t];if(!e){j>U&&(j=0,q={});var i,n=X.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(a){}e={style:n.fontStyle||Z,variant:n.fontVariant||Z,weight:n.fontWeight||Z,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},q[t]=e,j++}return e};s.measureText=function(t,e){var i=p.doc;W||(W=i.createElement("div"),W.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",p.doc.body.appendChild(W));try{W.style.font=e}catch(n){}return W.innerHTML="",W.appendChild(i.createTextNode(t)),{width:W.offsetWidth}};for(var K=new a,Q=function(t,e,i,n){var a=this.style,o=a.text;if(o){var r,l,h=a.textAlign,u=Y(a.textFont),c=u.style+" "+u.variant+" "+u.weight+" "+u.size+'px "'+u.family+'"',d=a.textBaseline,f=a.textVerticalAlign;i=i||s.getBoundingRect(o,c,h,d);var m=this.transform;if(m&&!n&&(K.copy(e),K.applyTransform(m),e=K),n)r=e.x,l=e.y;else{var v=a.textPosition,y=a.textDistance;if(v instanceof Array)r=e.x+R(v[0],e.width),l=e.y+R(v[1],e.height),h=h||"left",d=d||"top";else{var x=s.adjustTextPositionOnRect(v,e,i,y);r=x.x,l=x.y,h=h||x.textAlign,d=d||x.textBaseline}}if(f){switch(f){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}d="top"}var _=u.size;switch(d){case"hanging":case"top":l+=_/1.75;break;case"middle":break;default:l-=_/2.25}switch(h){case"left":break;case"center":r-=i.width/2;break;case"right":r-=i.width}var M,S,A,I=p.createNode,T=this._textVmlEl;T?(A=T.firstChild,M=A.nextSibling,S=M.nextSibling):(T=I("line"),M=I("path"),S=I("textpath"),A=I("skew"),S.style["v-text-align"]="left",C(T),M.textpathok=!0,S.on=!0,T.from="0 0",T.to="1000 0.05",P(T,A),P(T,M),P(T,S),this._textVmlEl=T);var D=[r,l],k=T.style;m&&n?(w(D,D,m),A.on=!0,A.matrix=m[0].toFixed(3)+b+m[2].toFixed(3)+b+m[1].toFixed(3)+b+m[3].toFixed(3)+",0,0",A.offset=(g(D[0])||0)+","+(g(D[1])||0),A.origin="0 0",k.left="0px",k.top="0px"):(A.on=!1,k.left=g(r)+"px",k.top=g(l)+"px"),S.string=L(o);try{S.style.font=c}catch(E){}B(T,"fill",{fill:n?a.fill:a.textFill,opacity:a.opacity},this),B(T,"stroke",{stroke:n?a.stroke:a.textStroke,opacity:a.opacity,lineDash:a.lineDash},this),T.style.zIndex=z(this.zlevel,this.z,this.z2),P(t,T)}},$=function(t){k(t,this._textVmlEl),this._textVmlEl=null},J=function(t){P(t,this._textVmlEl)},tt=[l,h,u,d,c],et=0;et<tt.length;et++){var it=tt[et].prototype;it.drawRectText=Q,it.removeRectText=$,it.appendRectText=J}c.prototype.brushVML=function(t){var e=this.style;e.text&&this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0)},c.prototype.onRemove=function(t){this.removeRectText(t)},c.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){i(203),i(67).registerPainter("vml",i(202))},function(t,e,i){var n=i(1),a=i(206),o=i(2),r={type:"geoRoam",event:"geoRoam",update:"updateLayout"};o.registerAction(r,function(t,e){var i=t.component||"series";e.eachComponent(i,function(e){if(e.name===t.name){var o=e.coordinateSystem;if("geo"!==o.type)return;var r=e.getModel("roamDetail"),s=a.calcPanAndZoom(r,t,e.get("scaleLimit"));e.setRoamPan&&e.setRoamPan(s.x,s.y),e.setRoamZoom&&e.setRoamZoom(s.zoom),o&&o.setPan(s.x,s.y),o&&o.setZoom(s.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setRoamPan(s.x,s.y),t.setRoamZoom(s.zoom)})}})})},function(t,e){var i={};i.calcPanAndZoom=function(t,e,i){var n=e.dx,a=e.dy,o=e.zoom,r=t.get("x")||0,s=t.get("y")||0,l=t.get("zoom")||1;if(null!=n&&null!=a&&(r+=n,s+=a),null!=o){i&&(o=Math.max(Math.min(l*o,i.max),i.min)/l);var h=(e.originX-r)*(o-1),u=(e.originY-s)*(o-1);r-=h,s-=u}return{x:r,y:s,zoom:(o||1)*l}},t.exports=i},function(t,e){t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),n=t.getData(),a=n.graph,o=0,r=n.getSum("value"),s=2*Math.PI/(r||n.count()),l=i.width/2+i.x,h=i.height/2+i.y,u=Math.min(i.width,i.height)/2;a.eachNode(function(t){var e=t.getValue("value");o+=s*(r?e:2)/2,t.setLayout([u*Math.cos(o)+l,u*Math.sin(o)+h]),o+=s*(r?e:2)/2}),a.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,n=t.node1.getLayout(),a=t.node2.getLayout();i>0&&(e=[l,h]),t.setLayout([n,a,e])})}}},function(t,e){t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),i.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,n=t.node1.getLayout(),a=t.node2.getLayout();i>0&&(e=[(n[0]+a[0])/2-(n[1]-a[1])*i,(n[1]+a[1])/2-(a[0]-n[0])*i]),t.setLayout([n,a,e])})}}},function(t,e,i){var n=i(14),a=i(343),o=i(223),r=i(31),s=i(1);t.exports=function(t,e,i,l){for(var h=new a(l),u=0;u<t.length;u++)h.addNode(s.retrieve(t[u].id,t[u].name,u),u);for(var c=[],d=[],u=0;u<e.length;u++){var f=e[u];h.addEdge(f.source,f.target,u)&&(d.push(f),c.push(s.retrieve(f.id,f.source+" - "+f.target)))}var p=r(["value"],t),g=new n(p,i),m=new n(["value"],i);return g.initData(t),m.initData(d,c),h.setEdgeData(m),o.linkToGraph(g,h),h.update(),h}},function(t,e,i){function n(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return n&&(i.fill=n),i}function a(t,e,i,n,a){i.off("click"),t.get("selectedMode")&&i.on("click",function(i){var r=i.target.dataIndex;if(null!=r){var s=e.getName(r);n.dispatchAction({type:"mapToggleSelect",seriesIndex:t.seriesIndex,name:s,from:a.uid}),o(t,e,n)}})}function o(t,e){e.eachItemGraphicEl(function(i,n){var a=e.getName(n);i.trigger(t.isSelected(a)?"emphasis":"normal")})}function r(t,e){var i=new l.Group;this._controller=new s(t.getZr(),e?i:null,null),this.group=i,this._updateGroup=e}var s=i(70),l=i(3),h=i(1);r.prototype={constructor:r,draw:function(t,e,i,r){var s=t.getData&&t.getData(),u=t.coordinateSystem,c=this.group;c.removeAll();var d=u.scale;c.position=u.position.slice(),c.scale=d.slice();var f,p,g,m,v,y,x=["itemStyle","normal"],_=["itemStyle","emphasis"],w=["label","normal"],b=["label","emphasis"];s||(f=t.getModel(x),p=t.getModel(_),g=n(f,d),m=n(p,d),v=t.getModel(w),y=t.getModel(b)),h.each(u.regions,function(e){var i,a=new l.Group;if(s){i=s.indexOfName(e.name);var o=s.getItemModel(i),r=s.getItemVisual(i,"color",!0);f=o.getModel(x),p=o.getModel(_),g=n(f,d),m=n(p,d),v=o.getModel(w),y=o.getModel(b),r&&(g.fill=r)}var u=v.getModel("textStyle"),M=y.getModel("textStyle");h.each(e.contours,function(t){var e=new l.Polygon({shape:{points:t},style:{strokeNoScale:!0},culling:!0});e.setStyle(g),a.add(e)});var S=v.get("show"),A=y.get("show"),I=s&&isNaN(s.get("value",i)),T=s&&s.getItemLayout(i);if(!s||I&&(S||A)||T&&T.showLabel){var C=s?i:e.name,L=t.getFormattedLabel(C,"normal"),D=t.getFormattedLabel(C,"emphasis"),P=new l.Text({style:{text:S?L||e.name:"",fill:u.getTextColor(),textFont:u.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:A?D||e.name:"",fill:M.getTextColor(),textFont:M.getFont()},position:e.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});a.add(P)}s&&s.setItemGraphicEl(i,a),l.setHoverStyle(a,m),c.add(a)}),this._updateController(t,e,i),s&&a(t,s,c,i,r),s&&o(t,s)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,i){var n=t.coordinateSystem,a=this._controller;a.zoomLimit=t.get("scaleLimit"),a.zoom=t.get("roamDetail.zoom"),a.enable(t.get("roam")||!1);var o=t.type.split(".")[0];a.off("pan").on("pan",function(e,n){i.dispatchAction({type:"geoRoam",component:o,name:t.name,dx:e,dy:n})}),a.off("zoom").on("zoom",function(e,n,a){if(i.dispatchAction({type:"geoRoam",component:o,name:t.name,zoom:e,originX:n,originY:a}),this._updateGroup){var r=this.group,s=r.scale;r.traverse(function(t){"text"===t.type&&t.attr("scale",[1/s[0],1/s[1]])})}},this),a.rect=n.getViewRect()}},t.exports=r},function(t,e,i){i(222),i(333),i(303);var n=i(2);n.extendComponentView({type:"parallel"}),n.registerPreprocessor(i(334))},function(t,e,i){function n(t,e){a.each(["inRange","outOfRange","target","controller","color"],function(i){e.hasOwnProperty(i)?t[i]=a.clone(e[i]):delete t[i]})}var a=i(1),o=i(15),r=i(2),s=i(7),l=i(347),h=i(73),u=h.mapVisual,c=h.eachVisual,d=i(4),f=a.isArray,p=a.each,g=d.asc,m=d.linearMap,v=r.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-(1/0),1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._autoSeriesIndex=!1,this._dataExtent,this.controllerVisuals={},this.targetVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i),this.doMergeOption({},!0)},mergeOption:function(t){v.superApply(this,"mergeOption",arguments),this.doMergeOption(t,!1)},doMergeOption:function(t,e){var i=this.option;!e&&n(i,t),o.canvasSupported||(i.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(t,e){function i(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(s)}var n,o,r=this.option,s=r.precision,l=this.dataBound,h=r.formatter;return a.isArray(t)&&(t=t.slice(),n=!0),o=e?t:n?[i(t[0]),i(t[1])]:i(t),a.isString(h)?h.replace("{value}",n?o[0]:o).replace("{value2}",n?o[1]:o):a.isFunction(h)?n?h(t[0],t[1]):h(t):n?t[0]===l[0]?"< "+o[1]:t[1]===l[1]?"> "+o[0]:o[0]+" - "+o[1]:o},resetTargetSeries:function(t,e){var i=this.option,n=this._autoSeriesIndex=null==(e?i:t).seriesIndex;i.seriesIndex=n?[]:s.normalizeToArray(i.seriesIndex),n&&this.ecModel.eachSeries(function(t,e){var n=t.getData();"list"===n.type&&i.seriesIndex.push(e)})},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(t){function e(e,n){p(this.stateList,function(a){var o=n[a]||(n[a]={}),r=this.option[e][a]||{};p(r,function(e,n){if(h.isValidType(n)){var r={type:n,dataExtent:i,visual:e};t&&t.call(this,r,a),o[n]=new h(r)}},this)},this)}var i=this.getExtent();e.call(this,"controller",this.controllerVisuals),e.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function t(t){f(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),p(this.stateList,function(e){var i=t[e];if(a.isString(i)){var n=l.get(i,"active",d);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}function e(t,e,i){var n=t[e],a=t[i];n&&!a&&(a=t[i]={},p(n,function(t,e){var i=l.get(e,"inactive",d);h.isValidType(e)&&i&&(a[e]=i)}))}function i(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor");p(this.stateList,function(o){var r=this.itemSize,s=t[o];s||(s=t[o]={color:d?n:[n]}),s.symbol||(s.symbol=e&&a.clone(e)||(d?"roundRect":["roundRect"])),s.symbolSize||(s.symbolSize=i&&a.clone(i)||(d?r[0]:[r[0],r[0]])),s.symbol=u(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(l){var h=-(1/0);c(l,function(t){t>h&&(h=t)}),s.symbolSize=u(l,function(t){return m(t,[0,h],[0,r[0]],!0)})}},this)}var n=this.option,o={inRange:n.inRange,outOfRange:n.outOfRange},r=n.target||(n.target={}),s=n.controller||(n.controller={});a.merge(r,o),a.merge(s,o);var d=this.isCategory();t.call(this,r),t.call(this,s),e.call(this,r,"inRange","outOfRange"),e.call(this,r,"outOfRange","inRange"),i.call(this,s)},eachTargetSeries:function(t,e){a.each(this.option.seriesIndex,function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:a.noop,getValueState:a.noop});t.exports=v},function(t,e,i){var n=i(2),a=i(1),o=i(3),r=i(9),s=i(11),l=i(73);t.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel,this._updatableShapes={}},render:function(t,e,i,n){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,i=r.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new o.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){function n(t){return c[t]}function o(t,e){c[t]=e}var r=this.visualMapModel,s=a.isArray(t);if(s&&(!e||"color"!==i))throw new Error(t);var h=r.controllerVisuals[e||r.getValueState(t)],u=r.get("contentColor"),c={symbol:r.get("itemSymbol"),color:s?[{color:u,offset:0},{color:u,offset:1}]:u},d=l.prepareVisualTypes(h);return a.each(d,function(e){var a=h[e];i&&!l.isInVisualCluster(e,i)||a&&a.applyVisual(t,n,o)}),c},positionGroup:function(t){var e=this.visualMapModel,i=this.api;s.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:a.noop})},function(t,e,i){var n=i(11),a={getItemAlign:function(t,e,i){var a=t.option,o=a.align;if(null!=o&&"auto"!==o)return o;for(var r={width:e.getWidth(),height:e.getHeight()},s="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],h=l[s],u=[0,null,10],c={},d=0;3>d;d++)c[l[1-s][d]]=u[d],c[h[d]]=2===d?i[0]:a[h[d]];var f=[["x","width",3],["y","height",0]][s],p=n.getLayoutRect(c,r,a.padding);return h[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*r[f[1]]?0:1]}};t.exports=a},function(t,e,i){function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var a=i(1),o=a.each;t.exports=function(t){var e=t&&t.visualMap;a.isArray(e)||(e=e?[e]:[]),o(e,function(t){if(t){n(t,"splitList")&&!n(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&a.isArray(e)&&o(e,function(t){a.isObject(t)&&(n(t,"start")&&!n(t,"min")&&(t.min=t.start),n(t,"end")&&!n(t,"max")&&(t.max=t.end))})}})}},function(t,e,i){i(10).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,i){function n(t,e){var i=t.targetVisuals,n={};r.each(["inRange","outOfRange"],function(t){var e=o.prepareVisualTypes(i[t]);n[t]=e}),t.eachTargetSeries(function(e){function a(t){return s.getItemVisual(r,t)}function o(t,e){s.setItemVisual(r,t,e)}var r,s=e.getData(),l=t.getDataDimension(s);s.each([l],function(e,s){r=s;for(var l=t.getValueState(e),h=i[l],u=n[l],c=0,d=u.length;d>c;c++){var f=u[c];h[f]&&h[f].applyVisual(e,a,o)}})})}var a=i(2),o=i(73),r=i(1);a.registerVisualCoding("component",function(t){t.eachComponent("visualMap",function(e){n(e,t)})})},function(t,e,i){var n=i(2),a={type:"selectDataRange",event:"dataRangeSelected",update:"update"};n.registerAction(a,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,i){function n(){s.call(this)}function a(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransform=new n,this._viewTransform=new n}var o=i(5),r=i(19),s=i(77),l=i(1),h=i(8),u=o.applyTransform;l.mixin(n,s),a.prototype={constructor:a,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new h(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new h(t,e,i,n)},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),o=this._viewTransform;o.transform=a.calculateTransform(new h(t,e,i,n)),o.decomposeTransform(),this._updateTransform()},setPan:function(t,e){this._roamTransform.position=[t,e],this._updateTransform()},setZoom:function(t){var e=this.zoomLimit;e&&(t=Math.max(Math.min(t,e.max),e.min)),this._roamTransform.scale=[t,t],this._updateTransform()},getRoamTransform:function(){return this._roamTransform.transform},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&r.copy(this.transform||(this.transform=[]),e.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},dataToPoint:function(t){var e=this.transform;return e?u([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?u([],t,e):[t[0],t[1]]}},l.mixin(a,s),t.exports=a},function(t,e,i){function n(t,e,i){if(this.name=t,this.contours=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}var a=i(348),o=i(8),r=i(64),s=i(5);n.prototype={constructor:n,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],a=[],l=[],h=this.contours,u=0;u<h.length;u++)r.fromPoints(h[u],a,l),s.min(i,i,a),s.max(n,n,l);return 0===u&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new o(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.contours;if(e.contain(t[0],t[1]))for(var n=0,o=i.length;o>n;n++)if(a.contain(i[n],t[0],t[1]))return!0;return!1},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),r=a.width/a.height;i?n||(n=i/r):i=r*n;for(var l=new o(t,e,i,n),h=a.calculateTransform(l),u=this.contours,c=0;c<u.length;c++)for(var d=0;d<u[c].length;d++)s.applyTransform(u[c][d],u[c][d],h);a=this._rect,a.copy(l),this.center=[a.x+a.width/2,a.y+a.height/2]}},t.exports=n},function(t,e,i){function n(t,e){var i=this.getBoundingRect(),n=t.getBoxLayoutParams();n.aspect=i.width/i.height*.75;var a=s.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});this.setViewRect(a.x,a.y,a.width,a.height);var o=t.getModel("roamDetail"),r=o.get("x")||0,l=o.get("y")||0,h=o.get("zoom")||1;this.setPan(r,l),this.setZoom(h)}function a(t,e){l.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}function o(t){console.error("Map "+t+" not exists")}i(325);var r=i(324),s=i(11),l=i(1),h={},u={dimensions:r.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,s){var l=t.get("map"),u=h[l];u||o(l);var c=new r(l+s,l,u&&u.geoJson,u&&u.specialAreas,t.get("nameMap"));c.zoomLimit=t.get("scaleLimit"),i.push(c),a(c,t),t.coordinateSystem=c,c.model=t,c.resize=n,c.resize(t,e)}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n]}});var s={};return t.eachSeriesByType("map",function(t){var e=t.get("map");s[e]=s[e]||[],s[e].push(t)}),l.each(s,function(t,s){var u=h[s];u||o(name);var c=l.map(t,function(t){return t.get("nameMap")}),d=new r(s,s,u&&u.geoJson,u&&u.specialAreas,l.mergeAll(c));d.zoomLimit=l.retrieve.apply(null,l.map(t,function(t){return t.get("scaleLimit")})),i.push(d),d.resize=n,d.resize(t[0],e),l.each(t,function(t){t.coordinateSystem=d,a(d,t)})}),i},registerMap:function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),h[t]={geoJson:e,specialAreas:i}},getMap:function(t){return h[t]}},c=i(2);c.registerMap=u.registerMap,c.getMap=u.getMap,c.loadMap=function(){},c.registerCoordinateSystem("geo",u)},function(t,e,i){function n(t,e){var i=[];return t.eachComponent("parallel",function(n,o){var r=new a(n,t,e);r.name="parallel_"+o,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.get("parallelIndex");t.coordinateSystem=i[e]}}),i}var a=i(331);i(28).register("parallel",{create:n})},function(t,e,i){function n(t,e,i){return a.each(r,function(n,o){var r=t[o];t[o]=a.curry(n,r,e,i)}),t[i]=e,e.data=t,t}var a=i(1),o=Array.prototype.slice,r={cloneShallow:function(t,e,i){var a=t.apply(this,o.call(arguments,3));return n(a,e,i)},map:function(t,e,i){var a=t.apply(this,o.call(arguments,3));return n(a,e,i)},filterSelf:function(t,e,i){var n=t.apply(this,o.call(arguments,3));return e.update(),n}};t.exports={linkToGraph:function(t,e){n(t,e,"graph")},linkToTree:function(t,e){n(t,e,"tree")}}},function(t,e,i){var n=i(2);i(225),i(226),n.registerVisualCoding("chart",i(228)),n.registerLayout(i(227))},function(t,e,i){"use strict";var n=i(1),a=i(13),o=i(159),r=a.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(r,o.seriesModelMixin,!0),t.exports=r},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),a=n.getModel(h),o=e.getItemVisual(i,"color"),s=a.getItemStyle(["borderColor"]),l=t.childAt(t.whiskerIndex);l.style.set(s),l.style.stroke=o,l.dirty();var c=t.childAt(t.bodyIndex);c.style.set(s),c.style.stroke=o,c.dirty();var d=n.getModel(u).getItemStyle();r.setHoverStyle(t,d)}var a=i(1),o=i(25),r=i(3),s=i(159),l=o.extend({type:"boxplot",getStyleUpdater:function(){return n}});a.mixin(l,s.viewMixin,!0);var h=["itemStyle","normal"],u=["itemStyle","emphasis"];t.exports=l},function(t,e,i){function n(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),a=r.indexOf(i,n);0>a&&(a=i.length,i[a]=n,e[a]={axis:n,seriesModels:[]}),e[a].seriesModels.push(t)}),e}function a(t){var e,i,n=t.axis,a=t.seriesModels,o=a.length,s=t.boxWidthList=[],u=t.boxOffsetList=[],c=[];if("category"===n.type)i=n.getBandWidth();else{var d=0;h(a,function(t){d=Math.max(d,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])/d}h(a,function(t){var e=t.get("boxWidth");r.isArray(e)||(e=[e,e]),c.push([l(e[0],i)||0,l(e[1],i)||0])});var f=.8*i-2,p=f/o*.3,g=(f-p*(o-1))/o,m=g/2-f/2;h(a,function(t,e){u.push(m),m+=p+g,s.push(Math.min(Math.max(g,c[e][0]),c[e][1]))})}function o(t,e,i){var n=t.coordinateSystem,a=t.getData(),o=t.dimensions,r=t.get("layout"),s=i/2;a.each(o,function(){function t(t){var i=[];i[f]=c,i[p]=t;var a;return isNaN(c)||isNaN(t)?a=[NaN,NaN]:(a=n.dataToPoint(i),a[f]+=e),a}function i(t,e){var i=t.slice(),n=t.slice();i[f]+=s,n[f]-=s,e?x.push(i,n):x.push(n,i)}function l(t){var e=[t.slice(),t.slice()];e[0][f]-=s,e[1][f]+=s,y.push(e)}var h=arguments,u=o.length,c=h[0],d=h[u],f="horizontal"===r?0:1,p=1-f,g=t(h[3]),m=t(h[1]),v=t(h[5]),y=[[m,t(h[2])],[v,t(h[4])]];l(m),l(v),l(g);var x=[];i(y[0][1],0),i(y[1][1],1),a.setItemLayout(d,{chartLayout:r,initBaseline:g[p],median:g,bodyEnds:x,whiskerEnds:y})})}var r=i(1),s=i(4),l=s.parsePercent,h=r.each;t.exports=function(t,e){var i=n(t);h(i,function(t){var e=t.seriesModels;e.length&&(a(t),h(e,function(e,i){o(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}},function(t,e){var i=["itemStyle","normal","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var a=n[e.seriesIndex%n.length],o=e.getData();o.setVisual({legendSymbol:"roundRect",color:e.get(i)||a}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t);o.setItemVisual(t,{color:e.get(i,!0)})})})}},function(t,e,i){var n=i(2);i(230),i(231),n.registerPreprocessor(i(234)),n.registerVisualCoding("chart",i(233)),n.registerLayout(i(232))},function(t,e,i){"use strict";var n=i(1),a=i(13),o=i(159),r=i(9),s=r.encodeHTML,l=r.addCommas,h=a.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t,e){var i=n.map(this.valueDimensions,function(e){return e+": "+l(this._data.get(e,t))},this);return s(this.name)+"<br />"+i.join("<br />")}});n.mixin(h,o.seriesModelMixin,!0),t.exports=h},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),a=n.getModel(h),o=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor"),l=a.getItemStyle(["color","color0","borderColor","borderColor0"]),c=t.childAt(t.whiskerIndex);c.style.set(l),c.style.stroke=s,c.dirty();var d=t.childAt(t.bodyIndex);d.style.set(l),d.style.fill=o,d.style.stroke=s,d.dirty();var f=n.getModel(u).getItemStyle();r.setHoverStyle(t,f)}var a=i(1),o=i(25),r=i(3),s=i(159),l=o.extend({type:"candlestick",getStyleUpdater:function(){return n}});a.mixin(l,s.viewMixin,!0);var h=["itemStyle","normal"],u=["itemStyle","emphasis"];t.exports=l},function(t,e){function i(t,e){var i,r=t.getBaseAxis(),s="category"===r.type?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count());return s/2-2>a?s/2-2:s-a>o?a:Math.max(s-o,n)}var n=2,a=5,o=4;t.exports=function(t,e){t.eachSeriesByType("candlestick",function(t){var e=t.coordinateSystem,n=t.getData(),a=t.dimensions,o=t.get("layout"),r=i(t,n);n.each(a,function(){function t(t){var i=[];return i[c]=h,i[d]=t,isNaN(h)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function i(t,e){var i=t.slice(),n=t.slice();i[c]+=r/2,n[c]-=r/2,e?S.push(i,n):S.push(n,i)}var s=arguments,l=a.length,h=s[0],u=s[l],c="horizontal"===o?0:1,d=1-c,f=s[1],p=s[2],g=s[3],m=s[4],v=Math.min(f,p),y=Math.max(f,p),x=t(v),_=t(y),w=t(g),b=t(m),M=[[b,_],[w,x]],S=[];i(_,0),i(x,1),n.setItemLayout(u,{chartLayout:o,sign:f>p?-1:p>f?1:0,initBaseline:f>p?_[d]:x[d],bodyEnds:S,whiskerEnds:M})},!0)})}},function(t,e){var i=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],a=["itemStyle","normal","color"],o=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",function(e){var r=e.getData();r.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t),s=r.getItemLayout(t).sign;r.setItemVisual(t,{color:e.get(s>0?a:o),borderColor:e.get(s>0?i:n)})})})}},function(t,e,i){var n=i(1);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t,e,i){var n=i(1),a=i(2);i(236),i(237),a.registerVisualCoding("chart",n.curry(i(44),"effectScatter","circle",null)),a.registerLayout(n.curry(i(53),"effectScatter"))},function(t,e,i){"use strict";var n=i(36),a=i(13);t.exports=a.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(t,e,i){var n=i(38),a=i(262);i(2).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(a)},render:function(t,e,i){var n=t.getData(),a=this._symbolDraw;a.updateData(n),this.group.add(a.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)}})},function(t,e,i){var n=i(1),a=i(2);i(239),i(240),a.registerVisualCoding("chart",n.curry(i(63),"funnel")),a.registerLayout(i(241)),a.registerProcessor("filter",n.curry(i(62),"funnel"))},function(t,e,i){"use strict";var n=i(14),a=i(7),o=i(31),r=i(2).extendSeriesModel({type:"series.funnel",init:function(t){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t,e){var i=o(["value"],t.data),a=new n(i,this);return a.initData(t.data),a},_defaultLabelLine:function(t){a.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=r},function(t,e,i){function n(t,e){function i(){r.ignore=r.hoverIgnore,s.ignore=s.hoverIgnore}function n(){r.ignore=r.normalIgnore,s.ignore=s.normalIgnore}o.Group.call(this);var a=new o.Polygon,r=new o.Polyline,s=new o.Text;this.add(a),this.add(r),this.add(s),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function a(t,e,i,n){var a=n.getModel("textStyle"),o=n.get("position"),s="inside"===o||"inner"===o||"center"===o;return{fill:a.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:a.getFont(),text:r.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var o=i(3),r=i(1),s=n.prototype,l=["itemStyle","normal","opacity"];s.updateData=function(t,e,i){var n=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),h=t.getItemLayout(e),u=t.getItemModel(e).get(l);u=null==u?1:u,i?(n.setShape({points:h.points}),n.setStyle({opacity:0}),o.updateProps(n,{style:{opacity:u}},a)):o.initProps(n,{shape:{points:h.points}},a);var c=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");n.setStyle(r.defaults({fill:d},c.getModel("normal").getItemStyle())),n.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),o.setHoverStyle(this)},s._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=l.label,u=t.getItemVisual(e,"color");o.updateProps(i,{shape:{points:h.linePoints||h.linePoints}},r),o.updateProps(n,{style:{x:h.x,y:h.y}},r),n.attr({style:{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,textFont:h.font},rotation:h.rotation,origin:[h.x,h.y],z2:10});var c=s.getModel("label.normal"),d=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis");n.setStyle(a(t,e,"normal",c)),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:u}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=a(t,e,"emphasis",d),i.hoverStyle=p.getModel("lineStyle").getLineStyle()},r.inherits(n,o.Group);var h=i(25).extend({type:"funnel",render:function(t,e,i){var a=t.getData(),o=this._data,r=this.group;a.diff(o).add(function(t){var e=new n(a,t);a.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(a,t),r.add(i),a.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=a},remove:function(){this.group.removeAll(),this._data=null}});t.exports=h},function(t,e,i){function n(t,e){return r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function a(t,e){for(var i=t.mapArray("value",function(t){return t}),n=[],a="ascending"===e,o=0,r=t.count();r>o;o++)n[o]=o;return n.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),n}function o(t){t.each(function(e){var i,n,a,o,r=t.getItemModel(e),s=r.getModel("label.normal"),l=s.get("position"),h=r.getModel("labelLine.normal"),u=t.getItemLayout(e),c=u.points,d="inner"===l||"inside"===l||"center"===l;if(d)n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,a=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,i="center",o=[[n,a],[n,a]];else{var f,p,g,m=h.get("length");"left"===l?(f=(c[3][0]+c[0][0])/2,p=(c[3][1]+c[0][1])/2,g=f-m,n=g-5,i="right"):(f=(c[1][0]+c[2][0])/2,p=(c[1][1]+c[2][1])/2,g=f+m,n=g+5,i="left");var v=p;o=[[f,p],[g,v]],a=v}u.label={linePoints:o,x:n,y:a,verticalAlign:"middle",textAlign:i,inside:d}})}var r=i(11),s=i(4),l=s.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var i=t.getData(),r=t.get("sort"),h=n(t,e),u=a(i,r),c=[l(t.get("minSize"),h.width),l(t.get("maxSize"),h.width)],d=i.getDataExtent("value"),f=t.get("min"),p=t.get("max");null==f&&(f=Math.min(d[0],0)),null==p&&(p=d[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(h.height-m*(i.count()-1))/i.count(),y=h.y,x=function(t,e){var n,a=i.get("value",t)||0,o=s.linearMap(a,[f,p],c,!0);switch(g){case"left":n=h.x;break;case"center":n=h.x+(h.width-o)/2;break;case"right":n=h.x+h.width-o}return[[n,e],[n+o,e]]};"ascending"===r&&(v=-v,m=-m,y+=h.height,u=u.reverse());for(var _=0;_<u.length;_++){var w=u[_],b=u[_+1],M=x(w,y),S=x(b,y+v);y+=v+m,i.setItemLayout(w,{points:M.concat(S.slice().reverse())})}o(i)})}},function(t,e,i){i(243),i(244)},function(t,e,i){var n=i(14),a=i(13),o=i(1),r=a.extend({type:"series.gauge",getInitialData:function(t,e){var i=new n(["value"],this),a=t.data||[];return o.isArray(a)||(a=[a]),i.initData(a),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=r},function(t,e,i){function n(t,e){var i=t.get("center"),n=e.getWidth(),a=e.getHeight(),o=Math.min(n,a),r=l(i[0],e.getWidth()),s=l(i[1],e.getHeight()),h=l(t.get("radius"),o/2);return{cx:r,cy:s,r:h}}function a(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var o=i(245),r=i(3),s=i(4),l=s.parsePercent,h=2*Math.PI,u=i(25).extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var a=t.get("axisLine.lineStyle.color"),o=n(t,i);this._renderMain(t,e,i,a,o)},_renderMain:function(t,e,i,n,a){for(var o=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),u=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,d=-t.get("endAngle")/180*Math.PI,f=(d-c)%h,p=c,g=l.get("width"),m=0;m<n.length;m++){var d=c+f*n[m][0],v=new r.Sector({shape:{startAngle:p,endAngle:d,cx:a.cx,cy:a.cy,clockwise:u,r0:a.r-g,r:a.r},silent:!0});v.setStyle({fill:n[m][1]}),v.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),o.add(v),p=d}var y=function(t){if(0>=t)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!u){var x=c;c=d,d=x}this._renderTicks(t,e,i,y,a,c,d,u),this._renderPointer(t,e,i,y,a,c,d,u),this._renderTitle(t,e,i,y,a),this._renderDetail(t,e,i,y,a)},_renderTicks:function(t,e,i,n,o,h,u,c){for(var d=this.group,f=o.cx,p=o.cy,g=o.r,m=t.get("min"),v=t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),_=t.getModel("axisLabel"),w=t.get("splitNumber"),b=x.get("splitNumber"),M=l(y.get("length"),g),S=l(x.get("length"),g),A=h,I=(u-h)/w,T=I/b,C=y.getModel("lineStyle").getLineStyle(),L=x.getModel("lineStyle").getLineStyle(),D=_.getModel("textStyle"),P=0;w>=P;P++){var k=Math.cos(A),z=Math.sin(A);if(y.get("show")){var R=new r.Line({shape:{x1:k*g+f,y1:z*g+p,x2:k*(g-M)+f,y2:z*(g-M)+p},style:C,silent:!0});"auto"===C.stroke&&R.setStyle({stroke:n(P/w)}),d.add(R)}if(_.get("show")){var E=a(s.round(P/w*(v-m)+m),_.get("formatter")),O=new r.Text({style:{text:E,x:k*(g-M-5)+f,y:z*(g-M-5)+p,fill:D.getTextColor(),textFont:D.getFont(),textVerticalAlign:-.4>z?"top":z>.4?"bottom":"middle",textAlign:-.4>k?"left":k>.4?"right":"center"},silent:!0});"auto"===O.style.fill&&O.setStyle({fill:n(P/w)}),d.add(O)}if(x.get("show")&&P!==w){for(var V=0;b>=V;V++){var k=Math.cos(A),z=Math.sin(A),N=new r.Line({shape:{x1:k*g+f,y1:z*g+p,x2:k*(g-S)+f,y2:z*(g-S)+p},silent:!0,style:L});"auto"===L.stroke&&N.setStyle({stroke:n((P+V/b)/w)}),d.add(N),A+=T}A-=T}else A+=I}},_renderPointer:function(t,e,i,n,a,h,u,c){var d=s.linearMap,f=[+t.get("min"),+t.get("max")],p=[h,u];c||(p=p.reverse());var g=t.getData(),m=this._data,v=this.group;g.diff(m).add(function(e){var i=new o({shape:{angle:h}});r.updateProps(i,{shape:{angle:d(g.get("value",e),f,p)}},t),v.add(i),g.setItemGraphicEl(e,i)}).update(function(e,i){var n=m.getItemGraphicEl(i);r.updateProps(n,{shape:{angle:d(g.get("value",e),f,p)}},t),v.add(n),g.setItemGraphicEl(e,n)}).remove(function(t){var e=m.getItemGraphicEl(t);v.remove(e)}).execute(),g.eachItemGraphicEl(function(t,e){var i=g.getItemModel(e),o=i.getModel("pointer");t.attr({shape:{x:a.cx,y:a.cy,width:l(o.get("width"),a.r),r:l(o.get("length"),a.r)},style:i.getModel("itemStyle.normal").getItemStyle()}),"auto"===t.style.fill&&t.setStyle("fill",n((g.get("value",e)-f[0])/(f[1]-f[0]))),r.setHoverStyle(t,i.getModel("itemStyle.emphasis").getItemStyle())}),this._data=g},_renderTitle:function(t,e,i,n,a){var o=t.getModel("title");if(o.get("show")){var s=o.getModel("textStyle"),h=o.get("offsetCenter"),u=a.cx+l(h[0],a.r),c=a.cy+l(h[1],a.r),d=new r.Text({style:{x:u,y:c,text:t.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(d)}},_renderDetail:function(t,e,i,n,o){var s=t.getModel("detail"),h=t.get("min"),u=t.get("max");if(s.get("show")){var c=s.getModel("textStyle"),d=s.get("offsetCenter"),f=o.cx+l(d[0],o.r),p=o.cy+l(d[1],o.r),g=l(s.get("width"),o.r),m=l(s.get("height"),o.r),v=t.getData().get("value",0),y=new r.Rect({shape:{x:f-g/2,y:p-m/2,width:g,height:m},style:{text:a(v,s.get("formatter")),fill:s.get("backgroundColor"),textFill:c.getTextColor(),textFont:c.getFont()}});"auto"===y.style.textFill&&y.setStyle("textFill",n((v-h)/(u-h))),y.setStyle(s.getItemStyle(["color"])),this.group.add(y)}}});t.exports=u},function(t,e,i){t.exports=i(6).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,a=e.r,o=e.width,r=e.angle,s=e.x-i(r)*o*(o>=a/3?1:2),l=e.y-n(r)*o*(o>=a/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(r)*o,e.y+n(r)*o),t.lineTo(e.x+i(e.angle)*a,e.y+n(e.angle)*a),t.lineTo(e.x-i(r)*o,e.y-n(r)*o),t.lineTo(s,l)}})},function(t,e,i){var n=i(2),a=i(1);i(247),i(248),i(255),n.registerProcessor("filter",i(249)),n.registerVisualCoding("chart",a.curry(i(44),"graph","circle",null)),n.registerVisualCoding("chart",i(250)),n.registerLayout(i(256)),n.registerLayout(i(251)),n.registerLayout(i(254)),n.registerCoordinateSystem("graphView",{create:i(252)})},function(t,e,i){"use strict";var n=i(14),a=i(1),o=i(209),r=i(2).extendSeriesModel({type:"series.graph",init:function(t){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){r.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i){var a=o(n,i,this,!0),r=a.data,s=this;return r.wrapMethod("getItemModel",function(t){var e=s._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t}),r}},restoreData:function(){r.superApply(this,"restoreData",arguments),this.getGraph().restoreData()},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},_updateCategoriesData:function(){var t=a.map(this.option.categories||[],function(t){return null!=t.value?t:a.extend({value:0},t)}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,draggable:!1,roam:!1,roamDetail:{x:0,y:0,zoom:1},nodeScaleRatio:.6,label:{normal:{show:!1},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=r},function(t,e,i){var n=i(38),a=i(84),o=i(70),r=i(7),s=i(3);i(2).extendChartView({type:"graph",init:function(t,e){var i=new n,r=new a,s=this.group,l=new o(e.getZr(),s);s.add(i.group),s.add(r.group),this._symbolDraw=i,this._lineDraw=r,this._controller=l,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;if("geo"===n.type||"view"===n.type){var a=t.getData();this._model=t;var o=this._symbolDraw,l=this._lineDraw;o.updateData(a);var h=a.graph.edgeData,u=t.option,c=r.createDataFormatModel(t,h,u.edges||u.links);c.formatTooltip=function(t){var e=this.getDataParams(t),i=a.graph.getEdgeByIndex(t),n=a.getName(i.node1.dataIndex),o=a.getName(i.node2.dataIndex),r=n+" > "+o;return e.value&&(r+=" : "+e.value),r},l.updateData(h,null,null),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=c})});var d=this.group,f={position:n.position,scale:n.scale};this._firstRender?d.attr(f):s.updateProps(d,f,t),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(),this._updateController(t,n,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,g),a.eachItemGraphicEl(function(t,e){var i=a.getItemModel(e).get("draggable");i&&p?t.on("drag",function(){p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,g),p.setFixed(e),a.setItemLayout(e,t.position)},this).on("dragend",function(){p.setUnfixed(e)},this):t.off("drag"),t.setDraggable(i)},this),this._firstRender=!1}},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller;n.rect=e.getViewRect(),n.enable(t.get("roam")),n.off("pan").off("zoom").on("pan",function(e,n){i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:n})}).on("zoom",function(e,n,a){i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:n,originY:a})}).on("zoom",this._updateNodeAndLinkScale,this)},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this.group,n=this._nodeScaleRatio,a=i.scale[0],o=(a-1)*n+1,r=[o/a,o/a];e.eachItemGraphicEl(function(t,e){t.attr("scale",r)})},updateLayout:function(t,e){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph(),a=n.data,o=i.mapArray(i.getName);a.filterSelf(function(t){var i=a.getItemModel(t),n=i.getShallow("category");if(null!=n){"number"==typeof n&&(n=o[n]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(n))return!1}return!0})},this)}},function(t,e){t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("color"),i=t.getCategoriesData(),n=t.getData(),a={};i.each(function(t){a[i.getName(t)]=t;var n=i.getItemModel(t),o=i.getRawIndex(t),r=n.get("itemStyle.normal.color")||e[o%e.length];i.setItemVisual(t,"color",r)}),i.count()&&n.each(function(t){var e=n.getItemModel(t),o=e.getShallow("category");null!=o&&("string"==typeof o&&(o=a[o]),n.setItemVisual(t,"color",i.getItemVisual(o,"color")))})})}},function(t,e,i){var n=i(207);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&n(t)})}},function(t,e,i){function n(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,o.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()})}var a=i(219),o=i(11),r=i(64);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var o=t.get("coordinateSystem");if(!o||"view"===o){var s=new a;i.push(s);var l=t.getData(),h=l.mapArray(function(t){var e=l.getItemModel(t);return[+e.get("x"),+e.get("y")]}),u=[],c=[];r.fromPoints(h,u,c);var d=n(t,e,(c[0]-u[0])/(c[1]-u[1])||1);(isNaN(u[0])||isNaN(u[1]))&&(u=[d.x,d.y],c=[d.x+d.width,d.y+d.height]);var f=c[0]-u[0],p=c[1]-u[1],g=d.width,m=d.height;s=t.coordinateSystem=new a,s.setBoundingRect(u[0],u[1],f,p),s.setViewRect(d.x,d.y,g,m);var v=t.getModel("roamDetail");s.setPan(v.get("x")||0,v.get("y")||0),s.setZoom(v.get("zoom")||1)}}),i}},function(t,e,i){var n=i(5),a=n.scaleAndAdd;t.exports=function(t,e,i){for(var o=i.rect,r=o.width,s=o.height,l=[o.x+r/2,o.y+s/2],h=null==i.gravity?.1:i.gravity,u=0;u<t.length;u++){var c=t[u];c.p||(c.p=n.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=n.clone(c.p),c.edges=null}var d=.6;return{warmUp:function(){d=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var o=[],r=t.length,s=0;s<e.length;s++){var u=e[s],c=u.n1,f=u.n2;n.sub(o,f.p,c.p);var p=n.len(o)-u.d,g=f.w/(c.w+f.w);n.normalize(o,o),!c.fixed&&a(c.p,c.p,o,g*p*d),!f.fixed&&a(f.p,f.p,o,-(1-g)*p*d)}for(var s=0;r>s;s++){var m=t[s];m.fixed||(n.sub(o,l,m.p),n.scaleAndAdd(m.p,m.p,o,h*d))}for(var s=0;r>s;s++)for(var c=t[s],v=s+1;r>v;v++){var f=t[v];n.sub(o,f.p,c.p);var p=n.len(o);0===p&&(n.set(o,Math.random()-.5,Math.random()-.5),p=1);var y=(c.rep+f.rep)/p/p;!c.fixed&&a(c.pp,c.pp,o,y),!f.fixed&&a(f.pp,f.pp,o,-y)}for(var x=[],s=0;r>s;s++){var m=t[s];m.fixed||(n.sub(x,m.p,m.pp),n.scaleAndAdd(m.p,m.p,x,d),n.copy(m.pp,m.p))}d=.992*d,i&&i(t,e,.01>d)}}}},function(t,e,i){var n=i(253),a=i(4),o=i(208),r=i(207),s=i(5);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){if("force"===t.get("layout")){var e=t.preservedPoints||{},i=t.getGraph(),l=i.data,h=i.edgeData,u=t.getModel("force"),c=u.get("initLayout");t.preservedPoints?l.each(function(t){var i=l.getId(t);l.setItemLayout(t,e[i]||[NaN,NaN])}):c&&"none"!==c?"circular"===c&&r(t):o(t);var d=l.getDataExtent("value"),f=u.get("repulsion"),p=u.get("edgeLength"),g=l.mapArray("value",function(t,e){var i=l.getItemLayout(e),n=a.linearMap(t,d,[0,f])||f/2;return{w:n,rep:n,p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),m=h.mapArray("value",function(t,e){var n=i.getEdgeByIndex(e);return{n1:g[n.node1.dataIndex],n2:g[n.node2.dataIndex],d:p,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),v=t.coordinateSystem,y=v.getBoundingRect(),x=n(g,m,{rect:y,gravity:u.get("gravity")}),_=x.step;x.step=function(t){for(var n=0,a=g.length;a>n;n++)g[n].fixed&&s.copy(g[n].p,i.getNodeByIndex(n).getLayout());_(function(n,a,o){for(var r=0,s=n.length;s>r;r++)n[r].fixed||i.getNodeByIndex(r).setLayout(n[r].p),e[l.getId(r)]=n[r].p;for(var r=0,s=a.length;s>r;r++){var h=a[r],u=h.n1.p,c=h.n2.p,d=[u,c];h.curveness>0&&d.push([(u[0]+c[0])/2-(u[1]-c[1])*h.curveness,(u[1]+c[1])/2-(c[0]-u[0])*h.curveness]),i.getEdgeByIndex(r).setLayout(d)}t&&t(o)})},t.forceLayout=x,t.preservedPoints=e,x.step()}else t.forceLayout=null})}},function(t,e,i){var n=i(2),a=i(206),o={type:"graphRoam",event:"graphRoam",update:"none"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,n=e.getModel("roamDetail"),o=a.calcPanAndZoom(n,t);e.setRoamPan&&e.setRoamPan(o.x,o.y),e.setRoamZoom&&e.setRoamZoom(o.zoom),i&&i.setPan(o.x,o.y),i&&i.setZoom(o.zoom)})})},function(t,e,i){var n=i(208);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout");e&&"none"!==e||n(t)})}},function(t,e,i){i(259),i(260)},function(t,e,i){function n(){var t=o.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var a=256,o=i(1);n.prototype={update:function(t,e,i,n,o,r){var s=this._getBrush(),l=this._getGradient(t,o,"inRange"),h=this._getGradient(t,o,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),f=t.length;c.width=e,c.height=i;for(var p=0;f>p;++p){var g=t[p],m=g[0],v=g[1],y=g[2],x=n(y);d.globalAlpha=x,d.drawImage(s,m-u,v-u)}for(var _=d.getImageData(0,0,c.width,c.height),w=_.data,b=0,M=w.length,S=this.minOpacity,A=this.maxOpacity,I=A-S;M>b;){var x=w[b+3]/256,T=4*Math.floor(x*(a-1));if(x>0){var C=r(x)?l:h;x>0&&(x=x*I+S),w[b++]=C[T],w[b++]=C[T+1],w[b++]=C[T+2],w[b++]=C[T+3]*x*256}else b+=4}return d.putImageData(_,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=o.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,a=n[i]||(n[i]=new Uint8ClampedArray(1024)),o=[],r=0,s=0;256>s;s++)e[i](s/255,!0,o),a[r++]=o[0],a[r++]=o[1],a[r++]=o[2],a[r++]=o[3];return a}},t.exports=n},function(t,e,i){var n=i(13),a=i(36);t.exports=n.extend({type:"series.heatmap",getInitialData:function(t,e){return a(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,i){function n(t,e,i){var n=t[1]-t[0];e=l.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}});var a=e.length,o=0;return function(t){for(var n=o;a>n;n++){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){o=n;break}}if(n===a)for(var n=o-1;n>=0;n--){var r=e[n].interval;if(r[0]<=t&&t<=r[1]){o=n;break}}return n>=0&&a>n&&i[n]}}function a(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function o(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var r=i(3),s=i(258),l=i(1);t.exports=i(2).extendChartView({type:"heatmap",render:function(t,e,i){var n;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),!n)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var a=t.coordinateSystem;"cartesian2d"===a.type?this._renderOnCartesian(a,t,i):o(a)&&this._renderOnGeo(a,t,n,i)},_renderOnCartesian:function(t,e,i){var n=t.getAxis("x"),a=t.getAxis("y"),o=this.group;if("category"!==n.type||"category"!==a.type)throw new Error("Heatmap on cartesian must have two category axes");if(!n.onBand||!a.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var s=n.getBandWidth(),l=a.getBandWidth(),h=e.getData();h.each(["x","y","z"],function(i,n,a,u){var c=h.getItemModel(u),d=t.dataToPoint([i,n]);if(!isNaN(a)){var f=new r.Rect({shape:{x:d[0]-s/2,y:d[1]-l/2,width:s,height:l},style:{fill:h.getItemVisual(u,"color")}}),p=c.getModel("itemStyle.normal").getItemStyle(["color"]),g=c.getModel("itemStyle.emphasis").getItemStyle(),m=c.getModel("label.normal"),v=c.getModel("label.emphasis"),y=e.getRawValue(u),x="-";y&&null!=y[2]&&(x=y[2]),m.get("show")&&(r.setText(p,m),p.text=e.getFormattedLabel(u,"normal")||x),v.get("show")&&(r.setText(g,v),g.text=e.getFormattedLabel(u,"emphasis")||x),f.setStyle(p),r.setHoverStyle(f,g),o.add(f),h.setItemGraphicEl(u,f)}})},_renderOnGeo:function(t,e,i,o){var l=i.targetVisuals.inRange,h=i.targetVisuals.outOfRange,u=e.getData(),c=this._hmLayer||this._hmLayer||new s;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var d=t.getViewRect().clone(),f=t.getRoamTransform();d.applyTransform(f);var p=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,o.getWidth()),v=Math.min(d.height+d.y,o.getHeight()),y=m-p,x=v-g,_=u.mapArray(["lng","lat","value"],function(e,i,n){var a=t.dataToPoint([e,i]);return a[0]-=p,a[1]-=g,a.push(n),a}),w=i.getExtent(),b="visualMap.continuous"===i.type?a(w,i.option.range):n(w,i.getPieceList(),i.option.selected);c.update(_,y,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:h.color.getColorMapper()},b);var M=new r.Image({style:{width:y,height:x,x:p,y:g,image:c.canvas},silent:!0});this.group.add(M)}})},function(t,e,i){function n(t,e,i,n){r.Group.call(this);var a=new s(t,e,i,n);this.add(a),this._updateEffectSymbol(t,n)}function a(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function o(){var t=this.__p1,e=this.__p2,i=this.__cp1,n=this.__t,a=this.position,o=u.quadraticAt,r=u.quadraticDerivativeAt;a[0]=o(t[0],i[0],e[0],n),a[1]=o(t[1],i[1],e[1],n);var s=r(t[0],i[0],e[0],n),l=r(t[1],i[1],e[1],n);this.rotation=-Math.atan2(l,s)-Math.PI/2,this.ignore=!1}var r=i(3),s=i(83),l=i(1),h=i(24),u=i(18),c=n.prototype;c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),r=n.get("symbolSize"),s=n.get("symbol");l.isArray(r)||(r=[r,r]);var u=n.get("color")||t.getItemVisual(e,"color"),c=this.childAt(1),d=1e3*n.get("period");this._symbolType===s&&d===this._period||(c=h.createSymbol(s,-.5,-.5,1,1,u),c.ignore=!0,c.z2=100,this._symbolType=s,this._period=d,this.add(c),c.__t=0,c.animate("",!0).when(d,{__t:1}).delay(e/t.count()*d/2).during(l.bind(o,c)).start()),c.setStyle("shadowColor",u),c.setStyle(n.getItemStyle(["color"])),c.attr("scale",r);var f=t.getItemLayout(e);a(c,f),c.setColor(u),c.attr("scale",r)},c.updateData=function(t,e,i,n){this.childAt(0).updateData(t,e,i,n),this._updateEffectSymbol(t,n)},c.updateLayout=function(t,e,i,n){this.childAt(0).updateLayout(t,e,i,n);var o=this.childAt(1),r=t.getItemLayout(n);a(o,r)},l.inherits(n,r.Group),t.exports=n},function(t,e,i){function n(t){return o.isArray(t)||(t=[+t,+t]),t}function a(t,e){u.call(this);var i=new h(t,e),n=new u;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var o=i(1),r=i(24),s=i(3),l=i(4),h=i(47),u=s.Group,c=3,d=a.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(t,e,i,n,a,o){for(var s=this._symbolType,l=this._color,h=this.childAt(1),u=0;c>u;u++){var d=r.createSymbol(s,-.5,-.5,1,1,l);d.attr({style:{stroke:"stroke"===e?l:null,fill:"fill"===e?l:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:a,zlevel:o});var f=-u/c*t+n;d.animate("",!0).when(t,{scale:[i,i]}).delay(f).start(),d.animateStyle(!0).when(t,{opacity:0}).delay(f).start(),h.add(d)}},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(t,e){function i(){w.trigger("emphasis"),"render"!==p&&this.startEffectAnimation(v,m,g,y,x,_)}function a(){w.trigger("normal"),"render"!==p&&this.stopEffectAnimation()}var o=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),s=t.getItemModel(e),h=t.getItemVisual(e,"symbol"),u=n(t.getItemVisual(e,"symbolSize")),c=t.getItemVisual(e,"color");r.attr("scale",u),r.traverse(function(t){t.attr({fill:c})});var d=s.getShallow("symbolOffset");if(d){var f=r.position;f[0]=l.parsePercent(d[0],u[0]),f[1]=l.parsePercent(d[1],u[1])}this._symbolType=h,this._color=c;var p=o.get("showEffectOn"),g=s.get("rippleEffect.scale"),m=s.get("rippleEffect.brushType"),v=1e3*s.get("rippleEffect.period"),y=e/t.count(),x=s.getShallow("z")||0,_=s.getShallow("zlevel")||0;this.stopEffectAnimation(),"render"===p&&this.startEffectAnimation(v,m,g,y,x,_);var w=this.childAt(0);this.on("mouseover",i,this).on("mouseout",a,this).on("emphasis",i,this).on("normal",a,this)},d.fadeOut=function(t){t&&t()},o.inherits(a,u),t.exports=a},function(t,e,i){function n(t,e,i,n){l.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}function a(t,e,i){return s.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function o(t){var e={};return s.each(t,function(t,i){e["ends"+i]=t}),e}function r(t){this.group=new l.Group,this.styleUpdater=t}var s=i(1),l=i(3),h=i(6),u=h.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}}),c=n.prototype;c._createContent=function(t,e,i){var n=t.getItemLayout(e),r="horizontal"===n.chartLayout?1:0,h=0;this.add(new l.Polygon({shape:{points:i?a(n.bodyEnds,r,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=h++;var c=s.map(n.whiskerEnds,function(t){return i?a(t,r,n):t});this.add(new u({shape:o(c),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=h++},c.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,a=t.getItemLayout(e),r=l[i?"initProps":"updateProps"];r(this.childAt(this.bodyIndex),{shape:{points:a.bodyEnds}},n),r(this.childAt(this.whiskerIndex),{shape:o(a.whiskerEnds)},n),this.styleUpdater.call(null,this,t,e)},s.inherits(n,l.Group);var d=r.prototype;d.updateData=function(t){var e=this.group,i=this._data,a=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var o=new n(t,i,a,!0);t.setItemGraphicEl(i,o),e.add(o)}}).update(function(o,r){var s=i.getItemGraphicEl(r);return t.hasValue(o)?(s?s.updateData(t,o):s=new n(t,o,a),e.add(s),void t.setItemGraphicEl(o,s)):void e.remove(s)}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)}).execute(),this._data=t},d.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=r},function(t,e,i){i(265),i(266);var n=i(1),a=i(2);a.registerLayout(i(267)),a.registerVisualCoding("chart",n.curry(i(74),"lines","lineStyle"))},function(t,e,i){"use strict";var n=i(13),a=i(14),o=i(1),r=i(28);t.exports=n.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(t,e){function i(t,e,i,n){return t.coord&&t.coord[n]}var n=[],s=[],l=[];o.each(t.data,function(t){n.push(t[0]),s.push(t[1]),l.push(o.extend(o.extend({},o.isArray(t[0])?null:t[0]),o.isArray(t[1])?null:t[1]))});var h=r.get(t.coordinateSystem);if(!h)throw new Error("Invalid coordinate system");var u=h.dimensions,c=new a(u,this),d=new a(u,this),f=new a(["value"],this);return c.initData(n,null,i),d.initData(s,null,i),f.initData(l),this.fromData=c,this.toData=d,f},formatTooltip:function(t){var e=this.fromData.getName(t),i=this.toData.getName(t);return e+" > "+i},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,i){var n=i(84),a=i(261),o=i(83);i(2).extendChartView({type:"lines",init:function(){},render:function(t,e,i){var r=t.getData(),s=this._lineDraw,l=t.get("effect.show");l!==this._hasEffet&&(s&&s.remove(),s=this._lineDraw=new n(l?a:o),this._hasEffet=l);var h=t.get("zlevel"),u=t.get("effect.trailLength"),c=i.getZr();c.painter.getLayer(h).clear(!0),null!=this._lastZlevel&&c.configLayer(this._lastZlevel,{motionBlur:!1}),l&&u&&c.configLayer(h,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)}),this.group.add(s.group),s.updateData(r),this._lastZlevel=h},updateLayout:function(t,e,i){this._lineDraw.updateLayout();var n=i.getZr();n.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)}})},function(t,e){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,i=t.fromData,n=t.toData,a=t.getData(),o=e.dimensions;i.each(o,function(t,n,a){i.setItemLayout(a,e.dataToPoint([t,n]))}),n.each(o,function(t,i,a){n.setItemLayout(a,e.dataToPoint([t,i]))}),a.each(function(t){var e,o=i.getItemLayout(t),r=n.getItemLayout(t),s=a.getItemModel(t).get("lineStyle.normal.curveness");s>0&&(e=[(o[0]+r[0])/2-(o[1]-r[1])*s,(o[1]+r[1])/2-(r[0]-o[0])*s]),a.setItemLayout(t,[o,r,e])})})}},function(t,e,i){var n=i(2);i(269),i(270),i(205),i(221),n.registerLayout(i(273)),n.registerVisualCoding("chart",i(274)),n.registerProcessor("statistic",i(272)),n.registerPreprocessor(i(271)),i(68)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,i){function n(t,e){for(var i={},n=e.features,a=0;a<t.length;a++)i[t[a].name]=t[a];for(var a=0;a<n.length;a++){var o=n[a].properties.name;i[o]||t.push({value:NaN,name:o})}return t}var a=i(14),o=i(2),r=i(13),s=i(1),l=i(31),h=i(9),u=h.encodeHTML,c=h.addCommas,d=i(69),f=r.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t),this.option=t,f.superApply(this,"init",arguments),this.updateSelectedMap()},getInitialData:function(t){var e=l(["value"],t.data||[]),i=new a(e,this);return i.initData(t.data),i},mergeOption:function(t){t=this._fillOption(t),f.superCall(this,"mergeOption",t),this.updateSelectedMap()},_fillOption:function(t){t=s.extend({},t);var e=o.getMap(t.mapType),i=e&&e.geoJson;return i&&t.data&&(t.data=n(t.data,i)),t},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)},getRawValue:function(t){return this._data.get("value",t)},formatTooltip:function(t){for(var e=this._data,i=c(this.getRawValue(t)),n=e.getName(t),a=this.seriesGroup,o=[],r=0;r<a.length;r++)isNaN(a[r].getRawValue(t))||o.push(u(a[r].name));return o.join(", ")+"<br />"+n+" : "+i},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}}});s.mixin(f,d),t.exports=f},function(t,e,i){var n=i(3),a=i(210);i(2).extendChartView({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),n&&"geoRoam"===n.type&&"series"===n.component&&n.name===t.name){var r=this._mapDraw;r&&o.add(r.group)}else if(t.needsDrawMap){var r=this._mapDraw||new a(i,!0);o.add(r.group),r.draw(t,e,i,this),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(t,e,i){var a=t.getData(),o=this.group;a.each("value",function(t,e){if(!isNaN(t)){var i=a.getItemLayout(e);if(i&&i.point){var r=i.point,s=i.offset,l=new n.Circle({style:{fill:a.getVisual("color")},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:10});if(!s){var h=a.getName(e),u=a.getItemModel(e),c=u.getModel("label.normal"),d=u.getModel("label.emphasis"),f=c.getModel("textStyle"),p=d.getModel("textStyle"),g=a.getItemGraphicEl(e);l.setStyle({textPosition:"bottom"});var m=function(){l.setStyle({text:d.get("show")?h:"",textFill:p.getTextColor(),textFont:p.getFont()})},v=function(){l.setStyle({text:c.get("show")?h:"",textFill:f.getTextColor(),textFont:f.getFont()})};g.on("mouseover",m).on("mouseout",v).on("emphasis",m).on("normal",v),v()}o.add(l)}}})}})},function(t,e,i){function n(t){var e={};return a.each(o,function(i){null!=t[i]&&(e[i]=t[i])}),e}var a=i(1),o=["x","y","x2","y2","width","height","map","roam","roamDetail","label","itemStyle"],r={};t.exports=function(t){var e=[];a.each(t.series,function(t){"map"===t.type&&e.push(t),a.extend(r,t.geoCoord)});var i={};a.each(e,function(e){if(e.map=e.map||e.mapType,a.defaults(e,e.mapLocation),e.markPoint){var o=e.markPoint;if(o.data=a.map(o.data,function(t){if(!a.isArray(t.value)){var e;t.geoCoord?e=t.geoCoord:t.name&&(e=r[t.name]);var i=e?[e[0],e[1]]:[NaN,NaN];null!=t.value&&i.push(t.value),t.value=i}return t}),!e.data||!e.data.length){t.geo||(t.geo=[]);var s=i[e.map];s||(s=i[e.map]=n(e),t.geo.push(s));var l=e.markPoint;l.type=t.effect&&t.effect.show?"effectScatter":"scatter",l.coordinateSystem="geo",l.geoIndex=a.indexOf(t.geo,s),l.name=e.name,t.series.splice(a.indexOf(t.series,e),1,l)}}})}},function(t,e,i){function n(t,e){for(var i={},n=["value"],a=0;a<t.length;a++)t[a].each(n,function(e,n){var o=t[a].getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e)});return t[0].map(n,function(n,a){for(var o=t[0].getName(a),r=0,s=1/0,l=-(1/0),h=i[o].length,u=0;h>u;u++)s=Math.min(s,i[o][u]),l=Math.max(l,i[o][u]),r+=i[o][u];var c;return c="min"===e?s:"max"===e?l:"average"===e?r/h:r,0===h?NaN:c})}var a=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.get("map");e[i]=e[i]||[],e[i].push(t)}),a.each(e,function(t,e){var i=n(a.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));t[0].seriesGroup=[],t[0].setData(i);for(var o=0;o<t.length;o++)t[o].seriesGroup=t,t[o].needsDrawMap=0===o})}},function(t,e,i){var n=i(1);t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var a=i.get("mapType");if(!e[a]){var o={};n.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.getData();e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each("value",function(t,e){var a=n.getName(e),r=i.getRegion(a);if(r&&!isNaN(t)){var s=o[a]||0,l=i.dataToPoint(r.center);o[a]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var r=i.getData();r.each(function(t){var e=r.getName(t),i=r.getItemLayout(t)||{};i.showLabel=!o[e],r.setItemLayout(t,i)}),e[a]=!0}})}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle.normal"),n=i.get("areaColor"),a=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:a})})}},function(t,e,i){var n=i(2);i(211),i(276),i(277),n.registerVisualCoding("chart",i(278))},function(t,e,i){function n(t,e,i){var n=t.get("data"),a=+e.replace("dim","");n&&n.length&&o.each(i,function(t){if(t){var e=o.indexOf(n,t[a]);t[a]=e>=0?e:NaN}})}var a=i(14),o=i(1),r=i(13);t.exports=r.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var i=e.getComponent("parallel",this.get("parallelIndex")),r=i.dimensions,s=i.parallelAxisIndex,l=t.data,h=o.map(r,function(t,i){var a=e.getComponent("parallelAxis",s[i]);return"category"===a.get("type")?(n(a,t,l),{name:t,type:"ordinal"}):t}),u=new a(h,this);return u.initData(l),u},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(t,e,i){function n(t,e,i){var n=t.model,a=t.getRect(),o=new s.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),r="horizontal"===n.get("layout")?"width":"height";return o.setShape(r,0),s.initProps(o,{shape:{width:a.width,height:a.height}},e,i),o}function a(t,e,i,n){for(var a=0,o=e.length-1;o>a;a++){var s=e[a],l=e[a+1],h=t[a],u=t[a+1];n(r(h,i.getAxis(s).type)||r(u,i.getAxis(l).type)?null:[i.dataToPoint(h,s),i.dataToPoint(u,l)],a)}}function o(t){return new s.Polyline({shape:{points:t},silent:!0})}function r(t,e){return"category"===e?null==t:null==t||isNaN(t)}var s=i(3),l=i(1),h=i(25).extend({type:"parallel",init:function(){this._dataGroup=new s.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,r){function h(t){var e=f.getValues(m,t),i=new s.Group;d.add(i),a(e,m,g,function(t,e){t&&i.add(o(t))}),f.setItemGraphicEl(t,i)}function u(e,i){var n=f.getValues(m,e),r=p.getItemGraphicEl(i),l=[],h=0;a(n,m,g,function(e,i){var n=r.childAt(h++);e&&!n?l.push(o(e)):e&&s.updateProps(n,{shape:{points:e}},t)});for(var u=r.childCount()-1;u>=h;u--)r.remove(r.childAt(u));for(var u=0,c=l.length;c>u;u++)r.add(l[u]);f.setItemGraphicEl(e,r)}function c(t){var e=p.getItemGraphicEl(t);d.remove(e)}var d=this._dataGroup,f=t.getData(),p=this._data,g=t.coordinateSystem,m=g.dimensions;f.diff(p).add(h).update(u).remove(c).execute(),f.eachItemGraphicEl(function(t,e){var i=f.getItemModel(e),n=i.getModel("lineStyle.normal");t.eachChild(function(t){t.setStyle(l.extend(n.getLineStyle(),{stroke:f.getItemVisual(e,"color"),opacity:f.getItemVisual(e,"opacity")}))})}),this._data||d.setClipPath(n(g,t,function(){d.removeClipPath()})),this._data=f},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=h},function(t,e){t.exports=function(t,e){t.eachSeriesByType("parallel",function(e){var i=e.getModel("itemStyle.normal"),n=t.get("color"),a=i.get("color")||n[e.seriesIndex%n.length],o=e.get("inactiveOpacity"),r=e.get("activeOpacity"),s=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,h=e.getData(),u={normal:s.opacity,active:r,inactive:o};l.eachActiveState(h,function(t,e){h.setItemVisual(e,"opacity",u[t])}),h.setVisual("color",a)})}},function(t,e,i){var n=i(1),a=i(2);i(305),i(280),i(281),a.registerVisualCoding("chart",n.curry(i(63),"radar")),a.registerVisualCoding("chart",n.curry(i(44),"radar","circle",null)),a.registerLayout(i(283)),a.registerProcessor("filter",n.curry(i(62),"radar")),a.registerPreprocessor(i(282))},function(t,e,i){"use strict";var n=i(13),a=i(14),o=i(31),r=i(1),s=i(9),l=n.extend({type:"series.radar",dependencies:["radar"],init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t,e){var i=t.data||[],n=o([],i,[],"indicator_"),r=new a(n,this);return r.initData(i),r},formatTooltip:function(t){var e=this.getRawValue(t),i=this.coordinateSystem,n=i.getIndicatorAxes();return this._data.getName(t)+"<br />"+r.map(n,function(t,i){return t.name+" : "+e[i]}).join("<br />")},getFormattedLabel:function(t,e,i,n){e=e||"normal";var a=this.getData(),o=a.getItemModel(t),r=this.getDataParams(t);return null==i&&(i=o.get(["label",e,"formatter"])),r.value=r.value[n||0],"function"==typeof i?(r.status=e,i(r)):"string"==typeof i?s.formatTpl(i,r):void 0},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=l},function(t,e,i){function n(t){return o.isArray(t)||(t=[+t,+t]),t}var a=i(3),o=i(1),r=i(24);t.exports=i(2).extendChartView({type:"radar",render:function(t,e,i){function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle",a=t.getItemVisual(e,"color");if("none"!==i){var o=r.createSymbol(i,-.5,-.5,1,1,a);return o.attr({style:{strokeNoScale:!0},z2:100,scale:n(t.getItemVisual(e,"symbolSize"))}),o}}function l(e,i,n,o,r,l){n.removeAll();for(var h=0;h<i.length-1;h++){var u=s(o,r);u&&(u.__dimIdx=h,e[h]?(u.attr("position",e[h]),a[l?"initProps":"updateProps"](u,{position:i[h]},t)):u.attr("position",i[h]),n.add(u))}}function h(t){return o.map(t,function(t){return[u.cx,u.cy]})}var u=t.coordinateSystem,c=this.group,d=t.getData(),f=this._data;d.diff(f).add(function(e){var i=d.getItemLayout(e);if(i){var n=new a.Polygon,o=new a.Polyline,r={shape:{points:i}};n.shape.points=h(i),o.shape.points=h(i),a.initProps(n,r,t),a.initProps(o,r,t);var s=new a.Group,u=new a.Group;s.add(o),s.add(n),s.add(u),l(o.shape.points,i,u,d,e,!0),d.setItemGraphicEl(e,s)}}).update(function(e,i){var n=f.getItemGraphicEl(i),o=n.childAt(0),r=n.childAt(1),s=n.childAt(2),h={shape:{points:d.getItemLayout(e)}};h.shape.points&&(l(o.shape.points,h.shape.points,s,d,e,!1),a.updateProps(o,h,t),a.updateProps(r,h,t),d.setItemGraphicEl(e,n))}).remove(function(t){c.remove(f.getItemGraphicEl(t))}).execute(),d.eachItemGraphicEl(function(e,i){function n(){h.attr("ignore",v)}function r(){h.attr("ignore",m)}var s=d.getItemModel(i),l=e.childAt(0),h=e.childAt(1),u=e.childAt(2),f=d.getItemVisual(i,"color");c.add(e),l.setStyle(o.extend(s.getModel("lineStyle.normal").getLineStyle(),{stroke:f})),l.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var p=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=p.isEmpty()&&p.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,h.ignore=m,h.setStyle(o.defaults(p.getAreaStyle(),{fill:f,opacity:.7})),h.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),x=s.getModel("itemStyle.emphasis").getItemStyle(),_=s.getModel("label.normal"),w=s.getModel("label.emphasis");u.eachChild(function(e){e.setStyle(y),e.hoverStyle=o.clone(x);var n=d.get(d.dimensions[e.__dimIdx],i);a.setText(e.style,_,f),e.setStyle({text:_.get("show")?o.retrieve(t.getFormattedLabel(i,"normal",null,e.__dimIdx),n):""}),a.setText(e.hoverStyle,w,f),e.hoverStyle.text=w.get("show")?o.retrieve(t.getFormattedLabel(i,"emphasis",null,e.__dimIdx),n):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",n).on("mouseover",n).on("normal",r).on("mouseout",r),a.setHoverStyle(e)}),this._data=d},remove:function(){this.group.removeAll(),this._data=null}})},function(t,e,i){var n=i(1);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,function(e,a){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}n.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e){t.exports=function(t,e){t.eachSeriesByType("radar",function(t){function e(t,e){n[e]=n[e]||[],n[e][o]=a.dataToPoint(t,o)}var i=t.getData(),n=[],a=t.coordinateSystem;if(a){for(var o=0;o<a.getIndicatorAxes().length;o++){var r=i.dimensions[o];i.each(r,e)}i.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),i.setItemLayout(t,n[t])})}})}},function(t,e,i){var n=i(2);i(285),i(286),n.registerLayout(i(287)),n.registerVisualCoding("chart",i(288))},function(t,e,i){"use strict";var n=i(13),a=i(209);t.exports=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i){var o=a(n,i,this,!0);return o.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#aaa"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},color:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],animationEasing:"linear",animationDuration:1e3}})},function(t,e,i){function n(t,e,i){var n=new a.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return a.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}var a=i(3),o=i(7),r=i(1),s=a.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});t.exports=i(2).extendChartView({type:"sankey",_model:null,render:function(t,e,i){var l=t.getGraph(),h=this.group,u=t.layoutInfo;this._model=t,h.removeAll(),h.position=[u.x,u.y];var c=l.edgeData,d=t.option,f=o.createDataFormatModel(t,c,d.edges||d.links);f.formatTooltip=function(t){var e=this.getDataParams(t),i=e.data,n=i.source+" -- "+i.target;return e.value&&(n+=":"+e.value),n},l.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),o=n.getModel("label.normal"),s=o.getModel("textStyle"),l=n.getModel("label.emphasis"),u=l.getModel("textStyle"),c=new a.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:o.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:s.getFont(),textFill:s.getTextColor(),textPosition:o.get("position")}});c.setStyle(r.defaults({fill:e.getVisual("color")},n.getModel("itemStyle.normal").getItemStyle())),a.setHoverStyle(c,r.extend(e.getModel("itemStyle.emphasis"),{text:l.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:u.getFont(),textFill:u.getTextColor(),textPosition:l.get("position")})),h.add(c)}),l.eachEdge(function(t){var e=new s;e.dataIndex=t.dataIndex,e.dataModel=f;var i=t.getModel("lineStyle.normal"),n=i.get("curveness"),o=t.node1.getLayout(),r=t.node2.getLayout(),l=t.getLayout();e.shape.extent=Math.max(1,l.dy);var u=o.x+o.dx,c=o.y+l.sy+l.dy/2,d=r.x,p=r.y+l.ty+l.dy/2,g=u*(1-n)+d*n,m=c,v=u*n+d*(1-n),y=p;e.setShape({x1:u,y1:c,x2:d,y2:p,cpx1:g,cpy1:m,cpx2:v,cpy2:y}),e.setStyle(i.getItemStyle()),a.setHoverStyle(e,t.getModel("lineStyle.emphasis").getItemStyle()),h.add(e)}),this._data||h.setClipPath(n(h.getBoundingRect(),t,function(){h.removeClipPath()})),this._data=t.getData()}})},function(t,e,i){function n(t,e){return S.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function a(t,e,i,n,a,o,s){r(t,i,a),h(t,e,o,n,s),m(t)}function o(t){I.each(t,function(t){var e=x(t.outEdges,M),i=x(t.inEdges,M),n=Math.max(e,i);t.setLayout({value:n},!0)})}function r(t,e,i){for(var n=t,a=null,o=0,r=0;n.length;){a=[];for(var h=0,u=n.length;u>h;h++){var c=n[h];c.setLayout({x:o},!0),c.setLayout({dx:e},!0);for(var d=0,f=c.outEdges.length;f>d;d++)a.push(c.outEdges[d].node2)}n=a,++o}s(t,o),r=(i-e)/(o-1),l(t,r)}function s(t,e){I.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function l(t,e){I.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}function h(t,e,i,n,a){var o=A().key(function(t){return t.getLayout().x}).sortKeys(b).entries(t).map(function(t){return t.values});u(t,o,e,i,n),c(o,n,i);for(var r=1;a>0;a--)r*=.99,d(o,r),c(o,n,i),p(o,r),c(o,n,i)}function u(t,e,i,n,a){var o=[];I.each(e,function(t){var e=t.length,i=0;I.each(t,function(t){i+=t.getLayout().value});var r=(n-(e-1)*a)/i;o.push(r)}),o.sort(function(t,e){return t-e});var r=o[0];I.each(e,function(t){I.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*r;t.setLayout({dy:i},!0)})}),I.each(i,function(t){var e=+t.getValue()*r;t.setLayout({dy:e},!0)})}function c(t,e,i){I.each(t,function(t){var n,a,o,r=0,s=t.length;for(t.sort(w),o=0;s>o;o++){if(n=t[o],a=r-n.getLayout().y,a>0){var l=n.getLayout().y+a;n.setLayout({y:l},!0)}r=n.getLayout().y+n.getLayout().dy+e}if(a=r-e-i,a>0){var l=n.getLayout().y-a;for(n.setLayout({y:l},!0),r=n.getLayout().y,o=s-2;o>=0;--o)n=t[o],a=n.getLayout().y+n.getLayout().dy+e-r,a>0&&(l=n.getLayout().y-a,n.setLayout({y:l},!0)),r=n.getLayout().y}})}function d(t,e){I.each(t.slice().reverse(),function(t){I.each(t,function(t){if(t.outEdges.length){var i=x(t.outEdges,f)/x(t.outEdges,M),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0)}})})}function f(t){return _(t.node2)*t.getValue()}function p(t,e){I.each(t,function(t){I.each(t,function(t){if(t.inEdges.length){var i=x(t.inEdges,g)/x(t.inEdges,M),n=t.getLayout().y+(i-_(t))*e;t.setLayout({y:n},!0)}})})}function g(t){return _(t.node1)*t.getValue()}function m(t){I.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y)}),I.each(t,function(t){var e=0,i=0;I.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),I.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function x(t,e){var i,n=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)i=+t[o],isNaN(i)||(n+=i);else for(;++o<a;)i=+e.call(t,t[o],o),isNaN(i)||(n+=i);return n}function _(t){return t.getLayout().y+t.getLayout().dy/2}function w(t,e){return t.getLayout().y-e.getLayout().y}function b(t,e){return e>t?-1:t>e?1:t==e?0:NaN}function M(t){return t.getValue()}var S=i(11),A=i(346),I=i(1);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),s=n(t,e);t.layoutInfo=s;var l=s.width,h=s.height,u=t.getGraph(),c=u.nodes,d=u.edges;o(c);var f=c.filter(function(t){return 0===t.getLayout().value}),p=0!==f.length?0:t.get("layoutIterations");a(c,d,i,r,l,h,p)})}},function(t,e,i){var n=i(73);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes;i.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var a=i[0].getLayout().value,o=i[i.length-1].getLayout().value;i.forEach(function(e){var i=new n({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),r=i.mapValueToVisual(e.getLayout().value);e.setVisual("color",r)})})}},function(t,e,i){var n=i(2);i(291),i(292),i(293),n.registerVisualCoding("chart",i(295)),n.registerLayout(i(294))},function(t,e,i){function n(t,e){this.group=new o.Group,t.add(this.group),this._onSelect=e||s.noop}function a(t,e,i,n,a,o){var r=[[a?t:t-u,e],[t+i,e],[t+i,e+n],[a?t:t-u,e+n]];return!o&&r.splice(2,0,[t+i+u,e+n/2]),!a&&r.push([t,e+n/2]),r}var o=i(3),r=i(11),s=i(1),l=8,h=8,u=5;n.prototype={constructor:n,render:function(t,e,i){var n=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),n.get("show")&&i){var o=n.getModel("itemStyle.normal"),s=o.getModel("textStyle"),l={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,i,l,s),this._renderContent(n,i,l,o,s),r.positionGroup(a,l.pos,l.box)}},_prepare:function(t,e,i,n){for(var a=e;a;a=a.parentNode){var o=a.getModel().get("name"),r=n.getTextRect(o),s=Math.max(r.width+2*l,i.emptyItemWidth);i.totalWidth+=s+h,i.renderList.push({node:a,text:o,width:s})}},_renderContent:function(t,e,i,n,l){for(var u=0,c=i.emptyItemWidth,d=t.get("height"),f=r.getAvailableSize(i.pos,i.box),p=i.totalWidth,g=i.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.width,x=v.text;p>f.width&&(p-=y-c,y=c,x=""),this.group.add(new o.Polygon({shape:{points:a(u,0,y,d,m===g.length-1,0===m)},style:s.defaults(n.getItemStyle(),{lineJoin:"bevel",text:x,textFill:l.getTextColor(),textFont:l.getFont()}),z:10,onclick:s.bind(this._onSelect,this,v.node)})),u+=y+h}},remove:function(){this.group.removeAll()}},t.exports=n},function(t,e,i){function n(t,e){var i=0;s.each(t.children,function(t){n(t,e);var a=t.value;s.isArray(a)&&(a=a[0]),i+=a});var a=t.value;e>=0&&(s.isArray(a)?a=a[0]:t.value=new Array(e)),(null==a||isNaN(a))&&(a=i),0>a&&(a=0),e>=0?t.value[0]=a:t.value=a}function a(t,e){var i=e.get("color");if(i){t=t||[];var n;if(s.each(t,function(t){var e=new l(t),i=e.get("color");(e.get("itemStyle.normal.color")||i&&"none"!==i)&&(n=!0)}),!n){var a=t[0]||(t[0]={});a.color=i.slice()}return t}}var o=i(13),r=i(344),s=i(1),l=i(12),h=i(9),u=(i(95),h.encodeHTML),c=h.addCommas;t.exports=o.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:["50%","50%"],textStyle:{align:"center",baseline:"middle",color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i=t.data||[],o=t.name;null==o&&(o=t.name);var l={name:o,children:t.data},h=(i[0]||{}).value;n(l,s.isArray(h)?h.length:-1);var u=t.levels||[];return u=t.levels=a(u,e),r.createTree(l,this,u).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=c(s.isArray(i)?i[0]:i),a=e.getName(t);return u(a)+": "+n},getDataParams:function(t){for(var e=o.prototype.getDataParams.apply(this,arguments),i=this.getData(),n=i.tree.getNodeByDataIndex(t),a=e.treePathInfo=[];n;){var r=n.dataIndex;a.push({name:n.name,dataIndex:r,value:this.getRawValue(r)}),n=n.parentNode}return a.reverse(),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var i=e[t];return null==i&&(e[t]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}})},function(t,e,i){function n(){return{nodeGroup:[],background:[],content:[]}}var a=i(1),o=i(3),r=i(52),s=i(95),l=i(290),h=i(70),u=i(8),c=i(19),d=i(345),f=a.bind,p=o.Group,g=o.Rect,m=a.each,v=3;t.exports=i(2).extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage=n(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(t,e,i,n){var o=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(a.indexOf(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var r=s.retrieveTargetInfo(n,t),l=n&&n.type,h=t.layoutInfo,u=!this._oldTree,c=this._storage,d="treemapRootToNode"===l&&r&&c?{rootNodeGroup:c.nodeGroup[r.node.getRawIndex()],direction:n.direction}:null,f=this._giveContainerGroup(h),p=this._doRender(f,t,d);u||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?p.renderFinally():this._doAnimation(f,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,r)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new p,this._initEvents(e),this.group.add(e)),e.position=[t.x,t.y],e},_doRender:function(t,e,i){function o(t,e,i,n,s){function l(t){return t.getId()}function h(a,r){var l=null!=a?t[a]:null,h=null!=r?e[r]:null;if(!(!l||isNaN(s)||s<b.length&&b[s]!==l)){var u=_(l,h,i);u&&o(l&&l.viewChildren||[],h&&h.viewChildren||[],u,n,s+1)}}n?(e=t,m(t,function(t,e){!t.isRemoved()&&h(e,e)})):new r(e,t,l,l).add(h).update(h).remove(a.curry(h,null)).execute()}function l(t){var e=n();return t&&m(t,function(t,i){var n=e[i];m(t,function(t){t&&(n.push(t),t.__tmWillDelete=i)})}),e}function h(){m(x,function(t){m(t,function(t){t.parent&&t.parent.remove(t)})}),m(v,function(t){t.invisible=!0,t.dirty()}),m(y,function(t){t.invisible=!1,t.__tmWillVisible=!1,t.dirty()})}var u=e.getData().tree,c=this._oldTree,d=n(),p=n(),g=this._storage,v=[],y=[],x=[],_=f(this._renderNode,this,p,g,i,d,v,y),w=e.getViewRoot(),b=s.getPathToRoot(w);o(u.root?[u.root]:[],c&&c.root?[c.root]:[],t,u===c||!c,0);var x=l(g);return this._oldTree=u,this._storage=p,{lastsForAnimation:d,willDeleteEls:x,renderFinally:h}},_renderNode:function(t,e,i,n,r,s,l,h,u){function c(i,a,o){var r=null!=y&&e[i][y],s=n[i];return r?(e[i][y]=null,d(s,r,i)):b||(r=new a({z:o}),f(s,r,i)),t[i][v]=r}function d(t,e,i){var n=t[v]={};n.old="nodeGroup"===i?e.position.slice():a.extend({},e.shape)}function f(t,e,a){if("background"===a)e.invisible=!0,e.__tmWillVisible=!0,s.push(e);else{var o=t[v]={},r=l.parentNode;if(r&&(!i||"drilldown"===i.direction)){var h=0,u=0,c=n.background[r.getRawIndex()];c&&c.old&&(h=c.old.width/2,u=c.old.height/2),o.old="nodeGroup"===a?[h,u]:{x:h,y:u,width:0,height:0}}o.fadein="nodeGroup"!==a}}function m(t,e){b?!t.invisible&&r.push(t):(t.setStyle(e),t.__tmWillVisible||(t.invisible=!1))}var v=l&&l.getRawIndex(),y=h&&h.getRawIndex(),x=l.getLayout(),_=x.width,w=x.height,b=x.invisible,M=c("nodeGroup",p);if(M){u.add(M),M.position=[x.x,x.y],M.__tmNodeWidth=_,M.__tmNodeHeight=w;var S=c("background",g,0);S&&(S.setShape({x:0,y:0,width:_,height:w}),m(S,{fill:l.getVisual("borderColor",!0)}),M.add(S));var A=l.viewChildren;if(!A||!A.length){var I=x.borderWidth,T=c("content",g,3);if(T){var C=Math.max(_-2*I,0),L=Math.max(w-2*I,0),D=l.getModel("label.normal"),P=l.getModel("label.normal.textStyle"),k=l.getModel("itemStyle.emphasis").getItemStyle(),z=l.getModel().get("name"),R=P.getTextRect(z),E=D.get("show");!E||R.height>L?z="":R.width>C&&(z=P.get("ellipsis")?P.ellipsis(z,C):""),o.setHoverStyle(T,k),T.dataIndex=l.dataIndex,T.seriesIndex=this.seriesModel.seriesIndex,T.culling=!0,T.setShape({x:I,y:I,width:C,height:L}),m(T,{fill:l.getVisual("color",!0),text:z,textPosition:D.get("position"),textFill:P.getTextColor(),textAlign:P.get("align"),textVerticalAlign:P.get("baseline"),textFont:P.getFont()}),M.add(T)}}return M}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var o=i.get("animationDurationUpdate"),r=i.get("animationEasing"),s=d.createWrap();m(e.willDeleteEls,function(t,e){m(t,function(t,e){var i;if(!t.invisible&&(i=t.__tmWillDelete)){var a,l=t.parent;if(n&&"drilldown"===n.direction)l===n.rootNodeGroup?(a={shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight}},t.z=2):(a={style:{opacity:0}},t.z=1);else{var h=0,u=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),a="nodeGroup"===i?{position:[h,u],style:{opacity:0}}:{shape:{x:h,y:u,width:0,height:0},style:{opacity:0}}}a&&s.add(t,a,o,r)}})}),m(this._storage,function(t,i){m(t,function(t,n){var l=e.lastsForAnimation[i][n],h={};l&&("nodeGroup"===i?l.old&&(h.position=t.position.slice(),t.position=l.old):(l.old&&(h.shape=a.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),s.add(t,h,o,r))})},this),this._state="animating",s.done(f(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new h(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",f(this._onPan,this)),e.on("zoom",f(this._onZoom,this))),e.rect=new u(0,0,t.getWidth(),t.getHeight())},_clearController:function(){var t=this._controller;t&&(t.off("pan").off("zoom"),t=null)},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>v||Math.abs(e)>v)){var i=this.seriesModel.getViewRoot();if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(this._mayClick=!1,"animating"!==this._state){var n=this.seriesModel.getViewRoot();if(!n)return;var a=n.getLayout();if(!a)return;var o=new u(a.x,a.y,a.width,a.height),r=this.seriesModel.layoutInfo;e-=r.x,i-=r.y;var s=c.create();c.translate(s,s,[-e,-i]),c.scale(s,s,[t,t]),c.translate(s,s,[e,i]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var a=n.hostTree.data.getItemModel(n.dataIndex),o=a.get("link",!0),r=a.get("target",!0)||"blank";o&&window.open(o,r)}}}}t.on("mousedown",function(t){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,i){function n(e){"animating"!==this._state&&(s.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}i||(i=this.findTarget(e.getWidth()/2,e.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new l(this.group,f(n,this)))).render(t,e,i.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=n(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(n){var a=this._storage.background[n.getRawIndex()];if(a){var o=a.transformCoordToLocal(t,e),r=a.shape;if(!(r.x<=o[0]&&o[0]<=r.x+r.width&&r.y<=o[1]&&o[1]<=r.y+r.height))return!1;i={node:n,offsetX:o[0],offsetY:o[1]}}},this),i}})},function(t,e,i){for(var n=i(2),a=i(95),o=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<r.length;s++)n.registerAction({type:r[s],update:"updateView"},o);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,i){var n=a.retrieveTargetInfo(t,e);if(n){var o=e.getViewRoot();o&&(t.direction=a.aboveViewRoot(o,n.node)?"rollup":"drilldown"),e.resetViewRoot(n.node)}})})},function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var n=e.getWidth(),o=e.getHeight(),r=t.option,s=r.size||[],l=_(w(r.width,s[0]),n),h=_(w(r.height,s[1]),o),u=y.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),p=i&&i.type,g=x.retrieveTargetInfo(i,t),m="treemapRender"===p||"treemapMove"===p?i.rootRect:null,v=t.getViewRoot();if("treemapMove"!==p){var M="treemapZoomToNode"===p?c(t,g,v,l,h):m?[m.width,m.height]:[l,h],S=r.sort;S&&"asc"!==S&&"desc"!==S&&(S="desc");var A={squareRatio:r.squareRatio,sort:S,leafDepth:r.leafDepth};v.setLayout({x:0,y:0,width:M[0],height:M[1],area:M[0]*M[1]}),a(v,A,!1,0)}v.setLayout(d(u,m,g),!0),t.setLayoutInfo(u),f(t.getData().tree.root,new b(-u.x,-u.y,n,o),x.getPathToRoot(v))})}function a(t,e,i,n){var r,s;if(!t.isRemoved()){var l=t.getLayout();r=l.width,s=l.height;var c=t.getModel("itemStyle.normal"),d=c.get("borderWidth"),f=c.get("gapWidth")/2,m=d-f,v=t.getModel();t.setLayout({borderWidth:d},!0),r=p(r-2*m,0),s=p(s-2*m,0);var y=r*s,x=o(t,v,y,e,i,n);if(x.length){var _={x:m,y:m,width:r,height:s},w=g(r,s),b=1/0,M=[];M.area=0;for(var S=0,A=x.length;A>S;){var I=x[S];M.push(I),M.area+=I.getLayout().area;var T=h(M,w,e.squareRatio);b>=T?(S++,b=T):(M.area-=M.pop().getLayout().area,u(M,w,_,f,!1),w=g(_.width,_.height),M.length=M.area=0,b=1/0)}if(M.length&&u(M,w,_,f,!0),!i){var C=v.get("childrenVisibleMin");null!=C&&C>y&&(i=!0)}for(var S=0,A=x.length;A>S;S++)a(x[S],e,i,n+1)}}}function o(t,e,i,n,a,o){var h=t.children||[],u=n.sort;"asc"!==u&&"desc"!==u&&(u=null);var c=null!=n.leafDepth&&n.leafDepth<=o;if(a&&!c)return t.viewChildren=[];h=m.filter(h,function(t){return!t.isRemoved()}),s(h,u);var d=l(e,h,u);if(0===d.sum)return t.viewChildren=[];if(d.sum=r(e,i,d.sum,u,h),0===d.sum)return t.viewChildren=[];for(var f=0,p=h.length;p>f;f++){var g=h[f].getValue()/d.sum*i;h[f].setLayout({area:g})}return c&&(h.length&&t.setLayout({isLeafRoot:!0},!0),h.length=0),t.viewChildren=h,t.setLayout({dataExtent:d.dataExtent},!0),h}function r(t,e,i,n,a){if(!n)return i;for(var o=t.get("visibleMin"),r=a.length,s=r,l=r-1;l>=0;l--){var h=a["asc"===n?r-l-1:l].getValue();o>h/i*e&&(s=l,i-=h)}return"asc"===n?a.splice(0,r-s):a.splice(s,r-s),i}function s(t,e){return e&&t.sort(function(t,i){return"asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue()}),t}function l(t,e,i){for(var n=0,a=0,o=e.length;o>a;a++)n+=e[a].getValue();var r,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)r=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&r.reverse();else{var r=[1/0,-(1/0)];m.each(e,function(t){var e=t.getValue(s);e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e)})}else r=[NaN,NaN];return{sum:n,dataExtent:r}}function h(t,e,i){for(var n,a=0,o=1/0,r=0,s=t.length;s>r;r++)n=t[r].getLayout().area,n&&(o>n&&(o=n),n>a&&(a=n));var l=t.area*t.area,h=e*e*i;return l?p(h*a/l,l/(h*o)):1/0}function u(t,e,i,n,a){var o=e===i.width?0:1,r=1-o,s=["x","y"],l=["width","height"],h=i[s[o]],u=e?t.area/e:0;(a||u>i[l[r]])&&(u=i[l[r]]);for(var c=0,d=t.length;d>c;c++){var f=t[c],m={},v=u?f.getLayout().area/u:0,y=m[l[r]]=p(u-2*n,0),x=i[s[o]]+i[l[o]]-h,_=c===d-1||v>x?x:v,w=m[l[o]]=p(_-2*n,0);m[s[r]]=i[s[r]]+g(n,y/2),m[s[o]]=h+g(n,w/2),h+=_,f.setLayout(m,!0)}i[s[r]]+=u,i[l[r]]-=u}function c(t,e,i,n,a){var o=(e||{}).node,r=[n,a];if(!o||o===i)return r;for(var s,l=n*a,h=l*t.option.zoomToNodeRatio;s=o.parentNode;){for(var u=0,c=s.children,d=0,f=c.length;f>d;d++)u+=c[d].getValue();var p=o.getValue();if(0===p)return r;h*=u/p;var g=s.getModel("itemStyle.normal").get("borderWidth");isFinite(g)&&(h+=4*g*g+4*g*Math.pow(h,.5)),h>v.MAX_SAFE_INTEGER&&(h=v.MAX_SAFE_INTEGER),o=s}l>h&&(h=l);var m=Math.pow(h/l,.5);return[n*m,a*m]}function d(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var a=i.node,o=a.getLayout();if(!o)return n;for(var r=[o.width/2,o.height/2],s=a;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}function f(t,e,i){var n=t.getLayout();t.setLayout({invisible:n?!e.intersect(n):!x.aboveViewRootByViewPath(i,t)},!0);for(var a=t.viewChildren||[],o=0,r=a.length;r>o;o++){var s=new b(e.x-n.x,e.y-n.y,e.width,e.height);f(a[o],s,i)}}var p=Math.max,g=Math.min,m=i(1),v=i(4),y=i(11),x=i(95),_=v.parsePercent,w=m.retrieve,b=i(8),x=i(95);t.exports=n},function(t,e,i){function n(t,e,i,s,h,c){var d=t.getModel(),p=t.getLayout();if(!p.invisible){var m,v=t.getModel(g),y=i[t.depth],x=a(v,e,y,s),_=v.get("borderColor"),w=v.get("borderColorSaturation");null!=w&&(m=o(x,t),_=r(w,m)),t.setVisual("borderColor",_);var b=t.viewChildren;if(b&&b.length){var M=l(t,d,p,v,x,b);f.each(b,function(t,e){if(t.depth>=h.length||t===h[t.depth]){var a=u(d,x,t,e,M,c);n(t,a,i,s,h,c)}})}else m=o(x,t),t.setVisual("color",m)}}function a(t,e,i,n){var a=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(o){var r=t.get(o,!0);null==r&&i&&(r=i[o]),null==r&&(r=e[o]),null==r&&(r=n.get(o)),null!=r&&(a[o]=r)}),a}function o(t){var e=s(t,"color");if(e){var i=s(t,"colorAlpha"),n=s(t,"colorSaturation");return n&&(e=d.modifyHSL(e,null,null,n)),i&&(e=d.modifyAlpha(e,i)),e}}function r(t,e){return null!=e?d.modifyHSL(e,null,null,t):null}function s(t,e){var i=t[e];return null!=i&&"none"!==i?i:void 0}function l(t,e,i,n,a,o){if(o&&o.length){var r=h(e,"color")||null!=a.color&&"none"!==a.color&&(h(e,"colorAlpha")||h(e,"colorSaturation"));if(r){var s=e.get("colorMappingBy"),l={type:r.name,dataExtent:i.dataExtent,visual:r.range};"color"!==l.type||"index"!==s&&"id"!==s?l.mappingMethod="linear":(l.mappingMethod="category",l.loop=!0);var u=new c(l);return u.__drColorMappingBy=s,u}}}function h(t,e){var i=t.get(e);return p(i)&&i.length?{name:e,range:i}:null}function u(t,e,i,n,a,o){var r=f.extend({},e);if(a){var s=a.type,l="color"===s&&a.__drColorMappingBy,h="index"===l?n:"id"===l?o.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));r[s]=a.mapValueToVisual(h)}return r}var c=i(73),d=i(22),f=i(1),p=f.isArray,g="itemStyle.normal";t.exports=function(t,e){var i={mainType:"series",subType:"treemap",query:e};t.eachComponent(i,function(t){var e=t.getData().tree,i=e.root,a=t.getModel(g);if(!i.isRemoved()){var o=f.map(e.levelModels,function(t){return t?t.get(g):null});n(i,{},o,a,t.getViewRoot().getAncestors(),t)}})}},function(t,e,i){"use strict";i(200),i(297)},function(t,e,i){"use strict";function n(t,e,i,n){var a=t.coordToPoint([e,n]),o=t.coordToPoint([i,n]);return{x1:a[0],y1:a[1],x2:o[0],y2:o[1]}}var a=i(1),o=i(3),r=i(12),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(2).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),n=t.axis,o=i.coordinateSystem,r=o.getRadiusAxis().getExtent(),l=n.getTicksCoords();"category"!==n.type&&l.pop(),a.each(s,function(e){t.get(e+".show")&&this["_"+e](t,o,l,r)},this)}},_axisLine:function(t,e,i,n){var a=t.getModel("axisLine.lineStyle"),r=new o.Circle({shape:{cx:e.cx,cy:e.cy,r:n[1]},style:a.getLineStyle(),z2:1,silent:!0});r.style.fill=null,this.group.add(r)},_axisTick:function(t,e,i,r){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),h=a.map(i,function(t){return new o.Line({shape:n(e,r[1],r[1]+l,t)})});this.group.add(o.mergePath(h,{style:s.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(t,e,i,n){for(var a=t.axis,s=t.get("data"),l=t.getModel("axisLabel"),h=l.getModel("textStyle"),u=t.getFormattedLabels(),c=l.get("margin"),d=a.getLabelsCoords(),f=0;f<i.length;f++){var p=n[1],g=e.coordToPoint([p+c,d[f]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-v)/p<.3?"middle":g[1]>v?"top":"bottom",_=h;s&&s[f]&&s[f].textStyle&&(_=new r(s[f].textStyle,h)),this.group.add(new o.Text({style:{x:g[0],y:g[1],fill:_.getTextColor(),text:u[f],textAlign:y,textVerticalAlign:x,textFont:_.getFont()},silent:!0}))}},_splitLine:function(t,e,i,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=0;d<i.length;d++){var f=u++%h.length;c[f]=c[f]||[],c[f].push(new o.Line({shape:n(e,r[0],r[1],i[d])}))}for(var d=0;d<c.length;d++)this.group.add(o.mergePath(c[d],{style:a.defaults({stroke:h[d%h.length]},l.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,n){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],c=Math.PI/180,d=-i[0]*c,f=Math.min(n[0],n[1]),p=Math.max(n[0],n[1]),g=t.get("clockwise"),m=1;m<i.length;m++){var v=h++%l.length;u[v]=u[v]||[],u[v].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:p,startAngle:d,endAngle:-i[m]*c,clockwise:g},silent:!0})),d=-i[m]*c}for(var m=0;m<u.length;m++)this.group.add(o.mergePath(u[m],{style:a.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,i){function n(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}var a=i(1),o=i(48),r=i(160),s=["axisLine","axisLabel","axisTick","axisName"],l=i(2).extendComponentView({type:"parallelAxis",_selectController:null,render:function(t,e,i,r){if(!n(t,e,r)&&(this.axisModel=t,this.api=i,this.group.removeAll(),t.get("show"))){var l=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,h=t.getAreaSelectStyle(),u=h.width,c=l.getAxisLayout(t.axis.dim),d=a.extend({strokeContainThreshold:u,silent:!(u>0)},c),f=new o(t,d);a.each(s,f.add,f);var p=f.getGroup();this.group.add(p),this._buildSelectController(p,h,t,i)}},_buildSelectController:function(t,e,i,n){var o=i.axis,s=this._selectController;s||(s=this._selectController=new r("line",n.getZr(),e),s.on("selected",a.bind(this._onSelected,this))),s.enable(t);var l=a.map(i.activeIntervals,function(t){return[o.dataToCoord(t[0],!0),o.dataToCoord(t[1],!0)]});s.update(l)},_onSelected:function(t){var e=this.axisModel,i=e.axis,n=a.map(t,function(t){return[i.coordToData(t[0],!0),i.coordToData(t[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:e.id,intervals:n})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});t.exports=l},function(t,e,i){"use strict";function n(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}var a=i(1),o=i(3),r=i(48),s=["axisLine","axisLabel","axisTick","axisName"],l=["splitLine","splitArea"];i(2).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),o=i.coordinateSystem.getAngleAxis(),h=t.axis,u=i.coordinateSystem,c=h.getTicksCoords(),d=o.getExtent()[0],f=h.getExtent(),p=n(u,t,d),g=new r(t,p);a.each(s,g.add,g),this.group.add(g.getGroup()),a.each(l,function(e){t.get(e+".show")&&this["_"+e](t,u,d,f,c)},this)}},_splitLine:function(t,e,i,n,r){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=0;d<r.length;d++){var f=u++%h.length;c[f]=c[f]||[],c[f].push(new o.Circle({shape:{cx:e.cx,cy:e.cy,r:r[d]},silent:!0}))}for(var d=0;d<c.length;d++)this.group.add(o.mergePath(c[d],{style:a.defaults({stroke:h[d%h.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,r){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),h=l.get("color"),u=0;h=h instanceof Array?h:[h];for(var c=[],d=r[0],f=1;f<r.length;f++){var p=u++%h.length;c[p]=c[p]||[],c[p].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:r[f],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=r[f]}for(var f=0;f<c.length;f++)this.group.add(o.mergePath(c[f],{style:a.defaults({fill:h[f%h.length]},l.getAreaStyle()),silent:!0}))}})},function(t,e,i){var n=i(2),a={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};n.registerAction(a,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})})},function(t,e,i){i(221),i(302),i(205)},function(t,e,i){"use strict";var n=i(210);t.exports=i(2).extendComponentView({type:"geo",init:function(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i){t.get("show")&&this._mapDraw.draw(t,e,i)}})},function(t,e,i){i(222),i(300),i(298)},function(t,e,i){"use strict";i(200),i(296),i(307),i(2).extendComponentView({type:"polar"})},function(t,e,i){i(341),i(342),i(306)},function(t,e,i){var n=i(48),a=i(1),o=i(3),r=["axisLine","axisLabel","axisTick","axisName"];t.exports=i(2).extendComponentView({type:"radar",render:function(t,e,i){var n=this.group;n.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),o=a.map(i,function(t){var i=new n(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i});a.each(o,function(t){a.each(r,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=t.get("splitNumber"),r=i.getIndicatorAxes();if(r.length){var s=t.get("shape"),l=t.getModel("splitLine"),h=t.getModel("splitArea"),u=l.getModel("lineStyle"),c=h.getModel("areaStyle"),d=l.get("show"),f=h.get("show"),p=u.get("color"),g=c.get("color");p=a.isArray(p)?p:[p],g=a.isArray(g)?g:[g];var m=[],v=[];if("circle"===s)for(var y=r[0].getTicksCoords(),x=i.cx,_=i.cy,w=0;w<y.length;w++){if(d){var b=e(m,p,w);m[b].push(new o.Circle({shape:{cx:x,cy:_,r:y[w]}}))}if(f&&w<y.length-1){var b=e(v,g,w);v[b].push(new o.Ring({shape:{cx:x,cy:_,r0:y[w],r:y[w+1]}}))}}else for(var M=a.map(r,function(t,e){var n=t.getTicksCoords();return a.map(n,function(t){return i.coordToPoint(t,e)})}),S=[],w=0;n>=w;w++){for(var A=[],I=0;I<r.length;I++)A.push(M[I][w]);if(A.push(A[0].slice()),d){var b=e(m,p,w);m[b].push(new o.Polyline({shape:{points:A}}))}if(f&&S){var b=e(v,g,w-1);v[b].push(new o.Polygon({shape:{points:A.concat(S)}}))}S=A.slice().reverse()}var T=u.getLineStyle(),C=c.getAreaStyle();a.each(v,function(t,e){this.group.add(o.mergePath(t,{style:a.defaults({stroke:"none",fill:g[e%g.length]},C),silent:!0}))},this),a.each(m,function(t,e){this.group.add(o.mergePath(t,{style:a.defaults({fill:"none",stroke:p[e%p.length]},T),silent:!0}))},this)}}})},function(t,e,i){i(200),i(299)},function(t,e,i){var n=i(2);n.registerPreprocessor(i(314)),i(316),i(315),i(309),i(310)},function(t,e,i){var n=i(312);t.exports=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}})},function(t,e,i){function n(t,e){return h.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function a(t,e,i,n){var a=l.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(n||{}),new p(i[0],i[1],i[2],i[3]),"center");return a}function o(t,e,i,n,a,o){var r=t.get("symbol"),l=e.get("color"),h=t.get("symbolSize"),u=h/2,c=e.getItemStyle(["color","symbol","symbolSize"]);return a?(a.setStyle(c),a.setColor(l),i.add(a),o&&o.onUpdate(a)):(a=d.createSymbol(r,-u,-u,h,h,l),i.add(a),o&&o.onCreate(a)),n=s.merge({rectHover:!0,style:c,z2:100},n,!0),a.attr(n),a}function r(t,e,i,n,a){if(!t.dragging){var o=n.getModel("checkpointStyle"),r=i.dataToCoord(n.getData().get(["value"],e));a||!o.get("animation",!0)?t.attr({position:[r,0]}):(t.stopAnimation(!0),t.animateTo({position:[r,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}var s=i(1),l=i(3),h=i(11),u=i(313),c=i(311),d=i(24),f=i(23),p=i(8),g=i(19),m=i(4),v=i(7),y=i(9),x=y.encodeHTML,_=s.bind,w=s.each,b=Math.PI;t.exports=u.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),o=this._createGroup("mainGroup"),r=this._createGroup("labelGroup"),s=this._axis=this._createAxis(a,t);w(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](a,o,s,t)},this),this._renderAxisLabel(a,r,s,t),this._position(a,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.normal.position"),a=t.get("orient"),o=n(t,e);null==i||"auto"===i?i="horizontal"===a?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]);var r={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},s={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:b/2},h="vertical"===a?o.height:o.width,u=t.getModel("controlStyle"),c=u.get("show"),d=c?u.get("itemSize"):0,f=c?u.get("itemGap"):0,p=d+f,g=t.get("label.normal.rotate")||0;g=g*b/180;var m,v,y,x,_=u.get("position",!0),c=u.get("show",!0),w=c&&u.get("showPlayBtn",!0),M=c&&u.get("showPrevBtn",!0),S=c&&u.get("showNextBtn",!0),A=0,I=h;return"left"===_||"bottom"===_?(w&&(m=[0,0],A+=p),M&&(v=[A,0],A+=p),S&&(y=[I-d,0],I-=p)):(w&&(m=[I-d,0],I-=p),M&&(v=[0,0],A+=p),S&&(y=[I-d,0],I-=p)),x=[A,I],t.get("inverse")&&x.reverse(),{viewRect:o,mainLength:h,orient:a,rotation:l[a],labelRotation:g,labelPosOpt:i,labelAlign:r[a],labelBaseline:s[a],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:x,controlSize:d,controlGap:f}},_position:function(t,e){function i(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function a(t,e,i,n,a){t[n]+=i[n][a]-e[n][a]}var o=this._mainGroup,r=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=g.create(),h=s.x,u=s.y+s.height;g.translate(l,l,[-h,-u]),g.rotate(l,l,-b/2),g.translate(l,l,[h,u]),s=s.clone(),s.applyTransform(l)}var c=n(s),d=n(o.getBoundingRect()),f=n(r.getBoundingRect()),p=o.position,m=r.position;m[0]=p[0]=c[0][0];var v=t.labelPosOpt;if(isNaN(v)){var y="+"===v?0:1;a(p,d,c,1,y),a(m,f,c,1,1-y)}else{var y=v>=0?0:1;a(p,d,c,1,y),m[1]=p[1]+v}o.position=p,r.position=m,o.rotation=r.rotation=t.rotation,i(o),i(r)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),a=f.createScaleByModel(e,n),o=i.getDataExtent("value");a.setExtent(o[0],o[1]),this._customizeScale(a,i),a.niceTicks();var r=new c("value",a,t.axisExtent,n);return r.model=e,r},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new l.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var a=i.getExtent();n.get("lineStyle.show")&&e.add(new l.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:s.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var a=n.getData(),r=i.scale.getTicks(),s=this._prepareTooltipHostModel(a,n);w(r,function(t,n){var r=i.dataToCoord(t),h=a.getItemModel(n),u=h.getModel("itemStyle.normal"),c=h.getModel("itemStyle.emphasis"),d={position:[r,0],onclick:_(this._changeTimeline,this,n)},f=o(h,u,e,d);l.setHoverStyle(f,c.getItemStyle()),h.get("tooltip")?(f.dataIndex=n,f.dataModel=s):f.dataIndex=f.dataModel=null},this)},_prepareTooltipHostModel:function(t,e){var i=v.createDataFormatModel({},t,e.get("data")),n=this;return i.formatTooltip=function(t){return x(n._axis.scale.getLabel(t))},i},_renderAxisLabel:function(t,e,i,n){var a=n.getModel("label.normal");if(a.get("show")){var o=n.getData(),r=i.scale.getTicks(),s=f.getFormattedLabels(i,a.get("formatter")),h=i.getLabelInterval();w(r,function(n,a){if(!i.isLabelIgnored(a,h)){var r=o.getItemModel(a),u=r.getModel("label.normal.textStyle"),c=r.getModel("label.emphasis.textStyle"),d=i.dataToCoord(n),f=new l.Text({style:{text:s[a],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:u.getFont(),fill:u.getTextColor()},position:[d,0],rotation:t.labelRotation-t.rotation,onclick:_(this._changeTimeline,this,a),silent:!1});e.add(f),l.setHoverStyle(f,c.getItemStyle())}},this)}},_renderControl:function(t,e,i,n){function o(t,i,o,d){if(t){var f={position:t,origin:[r/2,0],rotation:d?-s:0,rectHover:!0,style:h,onclick:o},p=a(n,i,c,f);e.add(p),l.setHoverStyle(p,u)}}var r=t.controlSize,s=t.rotation,h=n.getModel("controlStyle.normal").getItemStyle(),u=n.getModel("controlStyle.emphasis").getItemStyle(),c=[0,-r/2,r,r],d=n.getPlayState(),f=n.get("inverse",!0);o(t.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,f?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,f?"+":"-")),o(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,i,n){var a=n.getData(),s=n.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),h=this,u={onCreate:function(t){t.draggable=!0,t.drift=_(h._handlePointerDrag,h),t.ondragend=_(h._handlePointerDragend,h),r(t,s,i,n,!0)},onUpdate:function(t){r(t,s,i,n)}};this._currentPointer=o(l,l,this._mainGroup,{},this._currentPointer,u)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,a=m.asc(n.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),r=this.model;(e||o!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return l.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,a=this._axis;return i.each(["value"],function(i,o){var r=a.dataToCoord(i),s=Math.abs(r-t);n>s&&(n=s,e=o)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,i){var n=i(1),a=i(43),o=i(23),r=function(t,e,i,n){a.call(this,t,e,i),this.type=n||"value",this._autoLabelInterval,this.model=null};r.prototype={constructor:r,getLabelInterval:function(){var t=this.model,e=t.getModel("label.normal"),i=e.get("interval");if(null!=i&&"auto"!=i)return i;var i=this._autoLabelInterval;return i||(i=this._autoLabelInterval=o.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),o.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),i},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},n.inherits(r,a),t.exports=r},function(t,e,i){var n=i(10),a=i(14),o=i(1),r=i(7),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),0>t&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];o.each(e,function(t,e){var i,a=r.getDataItemValue(t);o.isObject(t)?(i=o.clone(t),i.value=e):i=e,s.push(i),o.isString(a)||null!=a&&!isNaN(a)||(a=""),n.push(a+"")}),e=s}var l={category:"ordinal",time:"time"}[i]||"number",h=this._data=new a([{name:"value",type:l}],this);h.initData(e,n)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});t.exports=s},function(t,e,i){var n=i(54);t.exports=n.extend({type:"timeline"})},function(t,e,i){function n(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),a(t),o(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});o(n,"position")||(n.position=t.controlPosition),"none"!==n.position||o(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}r.each(t.data||[],function(t){r.isObject(t)&&!r.isArray(t)&&(!o(t,"value")&&o(t,"name")&&(t.value=t.name),a(t))})}function a(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},a=n.normal||(n.normal={}),s={normal:1,emphasis:1};r.each(n,function(t,e){s[e]||o(a,e)||(a[e]=t)}),i.label&&!o(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function o(t,e){return t.hasOwnProperty(e)}var r=i(1);t.exports=function(t){var e=t&&t.timeline;r.isArray(e)||(e=e?[e]:[]),r.each(e,function(t){t&&n(t)})}},function(t,e,i){var n=i(2);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline")}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)})},function(t,e,i){i(10).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,i){i(322),i(323)},function(t,e,i){var n=i(212),a=i(1),o=i(4),r=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{handlePosition:"auto",calculable:!1,range:[-(1/0),1/0],hoverLink:!0,realtime:!0,itemWidth:null,itemHeight:null},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this.resetTargetSeries(t,e),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=r[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=r[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1])},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=o.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"}});t.exports=s},function(t,e,i){function n(t,e,i){return new r.Polygon({shape:{points:t},draggable:!!e,cursor:i,drift:e})}function a(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}var o=i(213),r=i(3),s=i(1),l=i(4),h=i(71),u=l.linearMap,c=i(76),d=i(214),f=s.each,p=o.extend({type:"visualMap.continuous",init:function(){o.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid?this._updateView():this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var a=this.visualMapModel,o=a.get("textGap"),s=a.itemSize,l=this._shapes.barGroup,h=this._applyTransform([s[0]/2,0===i?-o:s[1]+o],l),u=this._applyTransform(0===i?"bottom":"top",l),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new r.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===c?"middle":u,textAlign:"horizontal"===c?u:"center",text:n,textFont:d.getFont(),fill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,a=e.itemSize,o=this._orient,r=this._useHandle,l=d.getItemAlign(e,this.api,a),h=i.barGroup=this._createBarGroup(l);h.add(i.outOfRange=n()),h.add(i.inRange=n(null,s.bind(this._modifyHandle,this,"all"),r?"move":null));var u=e.textStyleModel.getTextRect(""),c=Math.max(u.width,u.height);r&&(i.handleGroups=[],i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(h,0,a,c,o,l),this._createHandle(h,1,a,c,o,l)),t.add(h)},_createHandle:function(t,e,i,o,l){var h=new r.Group({position:[i[0],0]}),u=n(a(e,o),s.bind(this._modifyHandle,this,e),"move");h.add(u);var c={x:"horizontal"===l?o/2:1.5*o,y:"horizontal"===l?0===e?-(1.5*o):1.5*o:0===e?-o/2:o/2},d=this.visualMapModel.textStyleModel,f=new r.Text({silent:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textFont:d.getFont(),fill:d.getTextColor()}});this.group.add(f);var p=this._shapes;p.handleThumbs[e]=u,p.handleGroups[e]=h,p.handleLabelPoints[e]=c,p.handleLabels[e]=f,t.add(h)},_modifyHandle:function(t,e,i){if(this._useHandle){var n=this._applyTransform([e,i],this._shapes.barGroup,!0);this._updateInterval(t,n[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[u(e[0],i,n,!0),u(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds;h(e,n,[0,i.itemSize[1]],"all"===t?"rigid":"push",t);var a=i.getExtent(),o=[0,i.itemSize[1]];this._dataInterval=[u(n[0],o,a,!0),u(n[1],o,a,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,a=this._dataInterval,o=[0,e.itemSize[1]],r=t?o:this._handleEnds,s=this._createBarVisual(a,i,r,"inRange"),l=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle("fill",s.barColor).setShape("points",s.barPoints),n.outOfRange.setStyle("fill",l.barColor).setShape("points",l.barPoints),this._useHandle&&f([0,1],function(t){n.handleThumbs[t].setStyle("fill",s.handlesColor[t]),n.handleLabels[t].setStyle({text:e.formatValueText(a[t]),textAlign:this._applyTransform("horizontal"===this._orient?0===t?"bottom":"top":"left",n.barGroup)})},this),this._updateHandlePosition(r)},_createBarVisual:function(t,e,i,n){var a=this.getControllerVisual(t,n,"color").color,o=[this.getControllerVisual(t[0],n,"symbolSize").symbolSize,this.getControllerVisual(t[1],n,"symbolSize").symbolSize],r=this._createBarPoints(i,o);return{barColor:new c(0,0,1,1,a),barPoints:r,handlesColor:[a[0].color,a[a.length-1].color]}},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new r.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandlePosition:function(t){if(this._useHandle){var e=this._shapes;f([0,1],function(i){var n=e.handleGroups[i];n.position[1]=t[i];var a=e.handleLabelPoints[i],o=r.applyTransform([a.x,a.y],r.getTransform(n,this.group));e.handleLabels[i].setStyle({x:o[0],y:o[1]})},this)}},_applyTransform:function(t,e,i){var n=r.getTransform(e,this.group);return r[s.isArray(t)?"applyTransform":"transformDirection"](t,n,i)}});t.exports=p},function(t,e,i){function n(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var a=i(212),o=i(1),r=i(73),s=a.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(t,e),this.resetExtent();var i=this._mode=this._decideMode();l[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=o.clone(n)):(t.mappingMethod="piecewise",t.pieceList=o.map(this._pieceList,function(t){var t=o.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,a=(e?i:t).selected||{};if(i.selected=a,o.each(n,function(t,e){var i=this.getSelectedMapKey(t);i in a||(a[i]=!0)},this),"single"===i.selectedMode){var r=!1;o.each(n,function(t,e){var i=this.getSelectedMapKey(t);a[i]&&(r?a[i]=!1:r=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=o.clone(t)},getValueState:function(t){var e=this._pieceList,i=r.findPieceIndex(t,e);return null!=i&&this.option.selected[this.getSelectedMapKey(e[i])]?"inRange":"outOfRange"}}),l={splitNumber:function(){var t=this.option,e=t.precision,i=this.getExtent(),n=t.splitNumber;n=Math.max(parseInt(n,10),1),t.splitNumber=n;for(var a=(i[1]-i[0])/n;+a.toFixed(e)!==a&&5>e;)e++;t.precision=e,a=+a.toFixed(e);for(var o=0,r=i[0];n>o;o++,r+=a){var s=o===n-1?i[1]:r+a;this._pieceList.push({text:this.formatValueText([r,s]),index:o,interval:[r,s]})}},categories:function(){var t=this.option;o.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),n(t,this._pieceList)},pieces:function(){var t=this.option;o.each(t.pieces,function(t,e){o.isObject(t)||(t={value:t});var i,n={text:"",index:e};if(null!=t.label&&(n.text=t.label,i=!0),t.hasOwnProperty("value"))n.value=t.value,i||(n.text=this.formatValueText(n.value));else{var a=t.min,s=t.max;null==a&&(a=-(1/0)),null==s&&(s=1/0),a===s&&(n.value=a),n.interval=[a,s],i||(n.text=this.formatValueText([a,s]))}n.visual=r.retrieveVisuals(t),this._pieceList.push(n)},this),n(t,this._pieceList)}};t.exports=s},function(t,e,i){var n=i(213),a=i(1),o=i(3),r=i(24),s=i(11),l=i(214),h=n.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var i=new o.Group;i.onclick=a.bind(this._onItemClick,this,t.piece),this._createItemSymbol(i,t.piece,[0,0,c[0],c[1]]),f&&i.add(new o.Text({style:{x:"right"===u?-n:c[0]+n,y:c[1]/2,text:t.piece.text,textVerticalAlign:"middle",textAlign:u,textFont:l,fill:h}})),e.add(i)}var e=this.group;e.removeAll();var i=this.visualMapModel,n=i.get("textGap"),r=i.textStyleModel,l=r.getFont(),h=r.getTextColor(),u=this._getItemAlign(),c=i.itemSize,d=this._getViewData(),f=!d.endsText,p=!f;p&&this._renderEndsText(e,d.endsText[0],c),a.each(d.pieceList,t,this),p&&this._renderEndsText(e,d.endsText[1],c),s.box(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i){if(e){var n=new o.Group,a=this.visualMapModel.textStyleModel;n.add(new o.Text({style:{x:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:a.getFont(),fill:a.getTextColor()}})),t.add(n)}},_getViewData:function(){var t=this.visualMapModel,e=a.map(t.getPieceList(),function(t,e){return{piece:t,index:e}}),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return("horizontal"===n?o:!o)?e.reverse():i&&(i=i.slice().reverse()),{pieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){var n;if(this.visualMapModel.isCategory())n=e.value;else if(null!=e.value)n=e.value;else{var a=e.interval||[];n=(a[0]+a[1])/2}var o=this.getControllerVisual(n);t.add(r.createSymbol(o.symbol,i[0],i[1],i[2],i[3],o.color))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=a.clone(i.selected),o=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[o]=!0,a.each(n,function(t,e){n[e]=e===o})):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=h},function(t,e,i){i(2).registerPreprocessor(i(215)),i(216),i(217),i(318),i(319),i(218)},function(t,e,i){i(2).registerPreprocessor(i(215)),i(216),i(217),i(320),i(321),i(218)},function(t,e,i){function n(t,e,i,n,a){s.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(i,n,a)}var a=i(329),o=i(1),r=i(8),s=i(219),l=[i(327),i(328),i(326)];n.prototype={constructor:n,type:"geo",dimensions:["lng","lat"],loadGeoJson:function(t,e,i){try{this.regions=t?a(t):[]}catch(n){throw"Invalid geoJson format\n"+n}e=e||{},i=i||{};for(var r=this.regions,s={},h=0;h<r.length;h++){var u=r[h].name;u=i[u]||u,r[h].name=u,s[u]=r[h],this.addGeoCoord(u,r[h].center);var c=e[u];c&&r[h].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=s,this._rect=null,o.each(l,function(t){t(this)},this)},transformTo:function(t,e,i,n){var a=this.getBoundingRect();a=a.clone(),a.y=-a.y-a.height;var o=this._viewTransform;o.transform=a.calculateTransform(new r(t,e,i,n)),o.decomposeTransform();var s=o.scale;s[1]=-s[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return this._rect=t||new r(0,0,0,0)},dataToPoints:function(t){var e=[];return t.mapArray(["lng","lat"],function(t,i){return e[0]=t,e[1]=i,this.dataToPoint(e)},this)},dataToPoint:function(t){return"string"==typeof t&&(t=this.getGeoCoord(t)),t?s.prototype.dataToPoint.call(this,t):void 0}},o.mixin(n,s),t.exports=n},function(t,e,i){"use strict";var n=i(7),a=i(10);a.extend({type:"geo",coordinateSystem:null,init:function(t){a.prototype.init.apply(this,arguments),n.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}}},getFormattedLabel:function(t,e){var i=this.get("label."+e+".formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",n.seriesName):void 0},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)}})},function(t,e,i){var n=i(1),a={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,function(t){var e=a[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})}},function(t,e,i){for(var n=i(220),a=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],r=0;r<o.length;r++)for(var s=0;s<o[r].length;s++)o[r][s][0]/=10.5,o[r][s][1]/=-14,o[r][s][0]+=a[0],o[r][s][1]+=a[1];t.exports=function(t){"china"===t.map&&t.regions.push(new n("",o,a))}},function(t,e,i){var n=i(1),a={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t){n.each(t.regions,function(t){var e=a[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})}},function(t,e,i){function n(t){if(!t.UTF8Encoding)return t;for(var e=t.features,i=0;i<e.length;i++)for(var n=e[i],o=n.geometry,r=o.coordinates,s=o.encodeOffsets,l=0;l<r.length;l++){var h=r[l];if("Polygon"===o.type)r[l]=a(h,s[l]);else if("MultiPolygon"===o.type)for(var u=0;u<h.length;u++){var c=h[u];h[u]=a(c,s[l][u])}}return t.UTF8Encoding=!1,t}function a(t,e){for(var i=[],n=e[0],a=e[1],o=0;o<t.length;o+=2){var r=t.charCodeAt(o)-64,s=t.charCodeAt(o+1)-64;r=r>>1^-(1&r),s=s>>1^-(1&s),r+=n,s+=a,n=r,a=s,i.push([r/1024,s/1024])}return i}function o(t){for(var e=[],i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)e.push(t[i][n]);return e}var r=i(1),s=i(220);t.exports=function(t){return n(t),r.map(r.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates;return"MultiPolygon"===i.type&&(n=o(n)),new s(e.name,n,e.cp)})}},function(t,e,i){function n(t,e){return e.type||(e.data?"category":"value")}var a=i(10),o=i(1),r=i(30),s=i(61),l=i(4),h=a.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=o.clone(t);if(e)for(var i=e.length-1;i>=0;i--)l.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;n>i;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}}),u={type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10};o.merge(h.prototype,i(49)),s("parallel",h,n,u),t.exports=h},function(t,e,i){function n(t,e,i){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}var a=i(11),o=i(23),r=i(1),s=i(332),l=i(19),h=i(5),u=r.each,c=Math.PI;n.prototype={type:"parallel",constructor:n,_init:function(t,e,i){var n=t.dimensions,a=t.parallelAxisIndex;u(n,function(t,i){var n=a[i],r=e.getComponent("parallelAxis",n),l=this._axesMap[t]=new s(t,o.createScaleByModel(r),[0,0],r.get("type"),n),h="category"===l.type;l.onBand=h&&r.get("boundaryGap"),l.inverse=r.get("inverse"),r.axis=l,l.model=r},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();u(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(n.getDataExtent(t)),o.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,i=t.get("layout"),n=this._axesMap,a=this.dimensions,o=[e.width,e.height],r="horizontal"===i?0:1,s=o[r],h=o[1-r],d=[0,h];u(n,function(t){var e=t.inverse?1:0;t.setExtent(d[e],d[1-e])}),u(a,function(t,n){var o=s*n/(a.length-1),r={horizontal:{x:o,y:h},vertical:{x:0,y:o}},u={horizontal:c/2,vertical:0},d=[r[i].x+e.x,r[i].y+e.y],f=u[i],p=l.create();l.rotate(p,p,f),l.translate(p,p,d),this._axesLayout[t]={position:d,rotation:f,transform:p,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,a=this._axesMap,o=!1,r=0,s=n.length;s>r;r++)"normal"!==a[n[r]].model.getActiveState()&&(o=!0);for(var l=0,h=t.count();h>l;l++){var u,c=t.getValues(n,l);if(o){u="active";for(var r=0,s=n.length;s>r;r++){var d=n[r],f=a[d].model.getActiveState(c[r],r);if("inactive"===f){u="inactive";break}}}else u="normal";e.call(i,u,l)}},axisCoordToPoint:function(t,e){var i=this._axesLayout[e],n=[t,0];return h.applyTransform(n,n,i.transform),n},getAxisLayout:function(t){return r.clone(this._axesLayout[t])}},t.exports=n},function(t,e,i){var n=i(1),a=i(43),o=function(t,e,i,n,o){a.call(this,t,e,i),this.type=n||"value",this.axisIndex=o};o.prototype={constructor:o,model:null},n.inherits(o,a),t.exports=o},function(t,e,i){var n=i(1),a=i(10);i(330),a.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});n.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}})},function(t,e,i){function n(t){if(!t.parallel){var e=!1;o.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function a(t){var e=r.normalizeToArray(t.parallelAxis);o.each(e,function(e){if(o.isObject(e)){var i=e.parallelIndex||0,n=r.normalizeToArray(t.parallel)[i];n&&n.parallelAxisDefault&&o.merge(e,n.parallelAxisDefault,!1)}})}var o=i(1),r=i(7);t.exports=function(t){n(t),a(t)}},function(t,e,i){"use strict";function n(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}var a=i(1),o=i(43);n.prototype={constructor:n,dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData},a.inherits(n,o),t.exports=n},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var a=i(1),o=i(10),r=i(61),s=o.extend({type:"polarAxis",axis:null});a.merge(s.prototype,i(49));var l={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}};r("angle",s,n,l.angle),r("radius",s,n,l.radius)},function(t,e,i){"use strict";var n=i(339),a=i(335),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new a};o.prototype={constructor:o,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),a=n.getExtent(),o=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);n.inverse?o=r-360:r=o+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=o>l?1:-1;o>l||l>r;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI,n=Math.cos(i)*e+this.cx,a=-Math.sin(i)*e+this.cy;return[n,a]}},t.exports=o},function(t,e,i){"use strict";i(336),i(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,i=this.ecModel;return i.eachComponent(t,function(t){i.getComponent("polar",t.getShallow("polarIndex"))===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,i){"use strict";function n(t,e){o.call(this,"radius",t,e),this.type="category"}var a=i(1),o=i(43);n.prototype={constructor:n,dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},a.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e,i){o.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}var a=i(1),o=i(43);a.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=a.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new o(i,new r);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}var a=i(1),o=i(340),r=i(37),s=i(4),l=i(23);n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle,a=this.cx+t*Math.cos(n),o=this.cy-t*Math.sin(n);return[a,o]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var a,o=Math.atan2(-i,e),r=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],u=Math.abs(o-h.angle);r>u&&(a=h,s=l,r=u)}return[s,+(a&&a.coodToData(n))]},n.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o)/2;this.cx=s.parsePercent(i[0],n),this.cy=s.parsePercent(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),r),a.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},n.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,o=this._model;a.each(n,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===o){var r=e.getData();a.each(n,function(t){t.scale.unionExtent(r.getDataExtent(t.dim))})}},this);var r=o.get("splitNumber");a.each(n,function(t,e){var n=l.getScaleExtent(t,t.model);l.niceScaleExtent(t,t.model);var a=t.model,o=t.scale,h=a.get("min"),u=a.get("max"),c=o.getInterval();if(null!=h&&null!=u)o.setInterval((u-h)/r);else if(null!=h){var d;do d=h+c*r,o.setExtent(+h,d),o.setInterval(c),c=i(c);while(d<n[1]&&isFinite(d)&&isFinite(n[1]))}else if(null!=u){var f;do f=u-c*r,o.setExtent(f,+u),o.setInterval(c),c=i(c);while(f>n[0]&&isFinite(f)&&isFinite(n[0]))}else{var p=o.getTicks().length-1;p>r&&(c=i(c));var g=Math.round((n[0]+n[1])/2/c)*c,m=Math.round(r/2);o.setExtent(s.round(g-m*c),s.round(g+(r-m)*c)),o.setInterval(c)}})},n.dimensions=[],n.create=function(t,e){var i=[];return t.eachComponent("radar",function(a){var o=new n(a,t,e);i.push(o),a.coordinateSystem=o}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},i(28).register("radar",n),t.exports=n},function(t,e,i){function n(t,e){return s.defaults({show:e},t)}var a=i(72),o=a.valueAxis,r=i(12),s=i(1),l=i(49),h=i(2).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),a=this.get("axisTick"),o=this.get("axisLabel"),h=this.get("name.textStyle"),u=this.get("name.show"),c=this.get("name.formatter"),d=this.get("nameGap"),f=s.map(this.get("indicator")||[],function(f){return null!=f.max&&f.max>0?f.min=0:null!=f.min&&f.min<0&&(f.max=0),f=s.merge(s.clone(f),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:a,axisLabel:o,name:f.text,nameLocation:"end",nameGap:d,nameTextStyle:h},!1),u||(f.name=""),"string"==typeof c?f.name=c.replace("{value}",f.name):"function"==typeof c&&(f.name=c(f.name,f)),s.extend(new r(f,null,this.ecModel),l)},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:n(o.axisLabel,!1),axisTick:n(o.axisTick,!1),splitLine:n(o.splitLine,!0),splitArea:n(o.splitArea,!0),indicator:[]}});t.exports=h},function(t,e,i){"use strict";function n(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function a(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}var o=i(1),r=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=r.prototype;s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){var i=this._nodesMap;if(!i[t]){var a=new n(t,e);return a.hostGraph=this,this.nodes.push(a),i[t]=a,a}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[t]},s.addEdge=function(t,e,i){var o=this._nodesMap,r=this._edgesMap;if(t instanceof n||(t=o[t]),e instanceof n||(e=o[e]),t&&e){var s=t.id+"-"+e.id;if(!r[s]){var l=new a(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),r[s]=l,l}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){t instanceof n&&(t=t.id),e instanceof n&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},s.eachNode=function(t,e){for(var i=this.nodes,n=i.length,a=0;n>a;a++)i[a].dataIndex>=0&&t.call(e,i[a],a)},s.eachEdge=function(t,e){for(var i=this.edges,n=i.length,a=0;n>a;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&t.call(e,i[a],a)},s.breadthFirstTraverse=function(t,e,i,a){if(e instanceof n||(e=this._nodesMap[e]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(a,e,null))for(var s=[e];s.length;)for(var l=s.shift(),h=l[o],r=0;r<h.length;r++){var u=h[r],c=u.node1===l?u.node2:u.node1;if(!c.__visited){if(t.call(c,c,l))return;s.push(c),c.__visited=!0}}}},s.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,a=0,o=i.length;o>a;a++)i[a].dataIndex=-1;for(var a=0,o=t.count();o>a;a++)i[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var a=0,o=n.length;o>a;a++)n[a].dataIndex=-1;for(var a=0,o=e.count();o>a;a++)n[e.getRawIndex(a)].dataIndex=a},s.setEdgeData=function(t){this.edgeData=t,this._edgeDataSaved=t.cloneShallow()},s.restoreData=function(){this.edgeData=this._edgeDataSaved.cloneShallow()},s.clone=function(){for(var t=new r(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<i.length;n++){var a=i[n];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},n.prototype={constructor:n,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.data.getItemModel(this.dataIndex);return i.getModel(t)}}},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.edgeData.getItemModel(this.dataIndex);return i.getModel(t)}};var l=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};o.mixin(n,l("hostGraph","data")),o.mixin(a,l("hostGraph","edgeData")),r.Node=n,r.Edge=a,t.exports=r},function(t,e,i){function n(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=o.map(e||[],function(e){return new r(e,t,t.ecModel)})}function a(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e,e.hostTree._nodes.push(t))}var o=i(1),r=i(12),s=i(14),l=i(223),h=i(31),u=function(t,e,i){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=null==e?-1:e,this.children=[],this.viewChildren=[],this.hostTree=i};u.prototype={constructor:u,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},o.isString(t)&&(t={order:t});var n,a=t.order||"preorder",r=this[t.attr||"children"];"preorder"===a&&(n=e.call(i,this));for(var s=0;!n&&s<r.length;s++)r[s].eachNode(t,e,i);"postorder"===a&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;n>e;e++){var a=i[e].getNodeById(t);if(a)return a}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;n>e;e++){var a=i[e].contains(t);if(a)return a}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex),n=this.getLevelModel();return i.getModel(t,(n||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},n.prototype={constructor:n,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;n>i;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();n>i;i++)e[t.getRawIndex(i)].dataIndex=i}},n.createTree=function(t,e,i){function o(t,e){c.push(t);var i=new u(t.name,c.length-1,r);e?a(i,e):r.root=i;var n=t.children;if(n)for(var s=0;s<n.length;s++)o(n[s],i)}var r=new n(e,i),c=[];o(t),r.root.updateDepthAndHeight(0);var d=h([{name:"value"}],c),f=new s(d,e);return f.initData(c),l.linkToTree(f,r),r},t.exports=n},function(t,e,i){function n(){var t,e=[],i={};return{add:function(t,n,o,r,s){return a.isString(r)&&(s=r,r=0),i[t.id]?!1:(i[t.id]=1,e.push({el:t,target:n,time:o,delay:r,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function n(){a--,a||(e.length=0,i={},t&&t())}for(var a=e.length,o=0,r=e.length;r>o;o++){var s=e[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,n)}return this}}}var a=i(1);t.exports={createWrap:n}},function(t,e,i){function n(){function t(e,n){if(n>=i.length)return e;for(var o=-1,r=e.length,s=i[n++],l={},h={};++o<r;){var u=s(e[o]),c=h[u];c?c.push(e[o]):h[u]=[e[o]]}return a.each(h,function(e,i){l[i]=t(e,n)}),l}function e(t,o){if(o>=i.length)return t;var r=[],s=n[o++];return a.each(t,function(t,i){r.push({key:i,values:e(t,o)})}),s?r.sort(function(t,e){return s(t.key,e.key)}):r}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}var a=i(1);t.exports=n},function(t,e,i){var n=i(1),a={get:function(t,e,i){var a=n.clone((o[t]||{})[e]);return i&&n.isArray(a)?a[a.length-1]:a}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=a},function(t,e,i){function n(t,e){return Math.abs(t-e)<r}function a(t,e,i){var a=0,r=t[0];if(!r)return!1;for(var s=1;s<t.length;s++){var l=t[s];a+=o(r[0],r[1],l[0],l[1],e,i),r=l}var h=t[0];return n(r[0],h[0])&&n(r[1],h[1])||(a+=o(r[0],r[1],h[0],h[1],e,i)),0!==a}var o=i(75),r=1e-8;t.exports={contain:a}}])});